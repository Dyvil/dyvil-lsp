(self.webpackChunkweb=self.webpackChunkweb||[]).push([[726],{58726:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{EditorModule:()=>Da});var d=e(69648),t=e(20881),l=e(74866),S=e(44305),v=e(72720),T=e(89745),C=e(90510);class E{}class L{}class _{constructor(k){this.normalizedNames=new Map,this.lazyUpdate=null,k?this.lazyInit="string"==typeof k?()=>{this.headers=new Map,k.split("\n").forEach(Y=>{const Be=Y.indexOf(":");if(Be>0){const St=Y.slice(0,Be),Rn=St.toLowerCase(),Yn=Y.slice(Be+1).trim();this.maybeSetNormalizedName(St,Rn),this.headers.has(Rn)?this.headers.get(Rn).push(Yn):this.headers.set(Rn,[Yn])}})}:()=>{this.headers=new Map,Object.keys(k).forEach(Y=>{let Be=k[Y];const St=Y.toLowerCase();"string"==typeof Be&&(Be=[Be]),Be.length>0&&(this.headers.set(St,Be),this.maybeSetNormalizedName(Y,St))})}:this.headers=new Map}has(k){return this.init(),this.headers.has(k.toLowerCase())}get(k){this.init();const Y=this.headers.get(k.toLowerCase());return Y&&Y.length>0?Y[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(k){return this.init(),this.headers.get(k.toLowerCase())||null}append(k,Y){return this.clone({name:k,value:Y,op:"a"})}set(k,Y){return this.clone({name:k,value:Y,op:"s"})}delete(k,Y){return this.clone({name:k,value:Y,op:"d"})}maybeSetNormalizedName(k,Y){this.normalizedNames.has(Y)||this.normalizedNames.set(Y,k)}init(){this.lazyInit&&(this.lazyInit instanceof _?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(k=>this.applyUpdate(k)),this.lazyUpdate=null))}copyFrom(k){k.init(),Array.from(k.headers.keys()).forEach(Y=>{this.headers.set(Y,k.headers.get(Y)),this.normalizedNames.set(Y,k.normalizedNames.get(Y))})}clone(k){const Y=new _;return Y.lazyInit=this.lazyInit&&this.lazyInit instanceof _?this.lazyInit:this,Y.lazyUpdate=(this.lazyUpdate||[]).concat([k]),Y}applyUpdate(k){const Y=k.name.toLowerCase();switch(k.op){case"a":case"s":let Be=k.value;if("string"==typeof Be&&(Be=[Be]),0===Be.length)return;this.maybeSetNormalizedName(k.name,Y);const St=("a"===k.op?this.headers.get(Y):void 0)||[];St.push(...Be),this.headers.set(Y,St);break;case"d":const Rn=k.value;if(Rn){let Yn=this.headers.get(Y);if(!Yn)return;Yn=Yn.filter(pi=>-1===Rn.indexOf(pi)),0===Yn.length?(this.headers.delete(Y),this.normalizedNames.delete(Y)):this.headers.set(Y,Yn)}else this.headers.delete(Y),this.normalizedNames.delete(Y)}}forEach(k){this.init(),Array.from(this.normalizedNames.keys()).forEach(Y=>k(this.normalizedNames.get(Y),this.headers.get(Y)))}}class m{encodeKey(k){return p(k)}encodeValue(k){return p(k)}decodeKey(k){return decodeURIComponent(k)}decodeValue(k){return decodeURIComponent(k)}}const n=/%(\d[a-f0-9])/gi,a={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function p(He){return encodeURIComponent(He).replace(n,(k,Y)=>a[Y]??k)}function u(He){return`${He}`}class g{constructor(k={}){if(this.updates=null,this.cloneFrom=null,this.encoder=k.encoder||new m,k.fromString){if(k.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function c(He,k){const Y=new Map;return He.length>0&&He.replace(/^\?/,"").split("&").forEach(St=>{const Rn=St.indexOf("="),[Yn,pi]=-1==Rn?[k.decodeKey(St),""]:[k.decodeKey(St.slice(0,Rn)),k.decodeValue(St.slice(Rn+1))],Si=Y.get(Yn)||[];Si.push(pi),Y.set(Yn,Si)}),Y}(k.fromString,this.encoder)}else k.fromObject?(this.map=new Map,Object.keys(k.fromObject).forEach(Y=>{const Be=k.fromObject[Y],St=Array.isArray(Be)?Be.map(u):[u(Be)];this.map.set(Y,St)})):this.map=null}has(k){return this.init(),this.map.has(k)}get(k){this.init();const Y=this.map.get(k);return Y?Y[0]:null}getAll(k){return this.init(),this.map.get(k)||null}keys(){return this.init(),Array.from(this.map.keys())}append(k,Y){return this.clone({param:k,value:Y,op:"a"})}appendAll(k){const Y=[];return Object.keys(k).forEach(Be=>{const St=k[Be];Array.isArray(St)?St.forEach(Rn=>{Y.push({param:Be,value:Rn,op:"a"})}):Y.push({param:Be,value:St,op:"a"})}),this.clone(Y)}set(k,Y){return this.clone({param:k,value:Y,op:"s"})}delete(k,Y){return this.clone({param:k,value:Y,op:"d"})}toString(){return this.init(),this.keys().map(k=>{const Y=this.encoder.encodeKey(k);return this.map.get(k).map(Be=>Y+"="+this.encoder.encodeValue(Be)).join("&")}).filter(k=>""!==k).join("&")}clone(k){const Y=new g({encoder:this.encoder});return Y.cloneFrom=this.cloneFrom||this,Y.updates=(this.updates||[]).concat(k),Y}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(k=>this.map.set(k,this.cloneFrom.map.get(k))),this.updates.forEach(k=>{switch(k.op){case"a":case"s":const Y=("a"===k.op?this.map.get(k.param):void 0)||[];Y.push(u(k.value)),this.map.set(k.param,Y);break;case"d":if(void 0===k.value){this.map.delete(k.param);break}{let Be=this.map.get(k.param)||[];const St=Be.indexOf(u(k.value));-1!==St&&Be.splice(St,1),Be.length>0?this.map.set(k.param,Be):this.map.delete(k.param)}}}),this.cloneFrom=this.updates=null)}}class y{constructor(){this.map=new Map}set(k,Y){return this.map.set(k,Y),this}get(k){return this.map.has(k)||this.map.set(k,k.defaultValue()),this.map.get(k)}delete(k){return this.map.delete(k),this}has(k){return this.map.has(k)}keys(){return this.map.keys()}}function w(He){return typeof ArrayBuffer<"u"&&He instanceof ArrayBuffer}function I(He){return typeof Blob<"u"&&He instanceof Blob}function P(He){return typeof FormData<"u"&&He instanceof FormData}class H{constructor(k,Y,Be,St){let Rn;if(this.url=Y,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=k.toUpperCase(),function D(He){switch(He){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||St?(this.body=void 0!==Be?Be:null,Rn=St):Rn=Be,Rn&&(this.reportProgress=!!Rn.reportProgress,this.withCredentials=!!Rn.withCredentials,Rn.responseType&&(this.responseType=Rn.responseType),Rn.headers&&(this.headers=Rn.headers),Rn.context&&(this.context=Rn.context),Rn.params&&(this.params=Rn.params)),this.headers||(this.headers=new _),this.context||(this.context=new y),this.params){const Yn=this.params.toString();if(0===Yn.length)this.urlWithParams=Y;else{const pi=Y.indexOf("?");this.urlWithParams=Y+(-1===pi?"?":pi<Y.length-1?"&":"")+Yn}}else this.params=new g,this.urlWithParams=Y}serializeBody(){return null===this.body?null:w(this.body)||I(this.body)||P(this.body)||function O(He){return typeof URLSearchParams<"u"&&He instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||P(this.body)?null:I(this.body)?this.body.type||null:w(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(k={}){const Y=k.method||this.method,Be=k.url||this.url,St=k.responseType||this.responseType,Rn=void 0!==k.body?k.body:this.body,Yn=void 0!==k.withCredentials?k.withCredentials:this.withCredentials,pi=void 0!==k.reportProgress?k.reportProgress:this.reportProgress;let Si=k.headers||this.headers,Hi=k.params||this.params;const go=k.context??this.context;return void 0!==k.setHeaders&&(Si=Object.keys(k.setHeaders).reduce((Wo,Ds)=>Wo.set(Ds,k.setHeaders[Ds]),Si)),k.setParams&&(Hi=Object.keys(k.setParams).reduce((Wo,Ds)=>Wo.set(Ds,k.setParams[Ds]),Hi)),new H(Y,Be,Rn,{params:Hi,headers:Si,context:go,reportProgress:pi,responseType:St,withCredentials:Yn})}}var U=(()=>((U=U||{})[U.Sent=0]="Sent",U[U.UploadProgress=1]="UploadProgress",U[U.ResponseHeader=2]="ResponseHeader",U[U.DownloadProgress=3]="DownloadProgress",U[U.Response=4]="Response",U[U.User=5]="User",U))();class K{constructor(k,Y=200,Be="OK"){this.headers=k.headers||new _,this.status=void 0!==k.status?k.status:Y,this.statusText=k.statusText||Be,this.url=k.url||null,this.ok=this.status>=200&&this.status<300}}class F extends K{constructor(k={}){super(k),this.type=U.ResponseHeader}clone(k={}){return new F({headers:k.headers||this.headers,status:void 0!==k.status?k.status:this.status,statusText:k.statusText||this.statusText,url:k.url||this.url||void 0})}}class B extends K{constructor(k={}){super(k),this.type=U.Response,this.body=void 0!==k.body?k.body:null}clone(k={}){return new B({body:void 0!==k.body?k.body:this.body,headers:k.headers||this.headers,status:void 0!==k.status?k.status:this.status,statusText:k.statusText||this.statusText,url:k.url||this.url||void 0})}}class z extends K{constructor(k){super(k,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${k.url||"(unknown url)"}`:`Http failure response for ${k.url||"(unknown url)"}: ${k.status} ${k.statusText}`,this.error=k.error||null}}function $(He,k){return{body:k,headers:He.headers,context:He.context,observe:He.observe,params:He.params,reportProgress:He.reportProgress,responseType:He.responseType,withCredentials:He.withCredentials}}let j=(()=>{class He{constructor(Y){this.handler=Y}request(Y,Be,St={}){let Rn;if(Y instanceof H)Rn=Y;else{let Si,Hi;Si=St.headers instanceof _?St.headers:new _(St.headers),St.params&&(Hi=St.params instanceof g?St.params:new g({fromObject:St.params})),Rn=new H(Y,Be,void 0!==St.body?St.body:null,{headers:Si,context:St.context,params:Hi,reportProgress:St.reportProgress,responseType:St.responseType||"json",withCredentials:St.withCredentials})}const Yn=(0,l.of)(Rn).pipe((0,v.b)(Si=>this.handler.handle(Si)));if(Y instanceof H||"events"===St.observe)return Yn;const pi=Yn.pipe((0,T.h)(Si=>Si instanceof B));switch(St.observe||"body"){case"body":switch(Rn.responseType){case"arraybuffer":return pi.pipe((0,C.U)(Si=>{if(null!==Si.body&&!(Si.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Si.body}));case"blob":return pi.pipe((0,C.U)(Si=>{if(null!==Si.body&&!(Si.body instanceof Blob))throw new Error("Response is not a Blob.");return Si.body}));case"text":return pi.pipe((0,C.U)(Si=>{if(null!==Si.body&&"string"!=typeof Si.body)throw new Error("Response is not a string.");return Si.body}));default:return pi.pipe((0,C.U)(Si=>Si.body))}case"response":return pi;default:throw new Error(`Unreachable: unhandled observe type ${St.observe}}`)}}delete(Y,Be={}){return this.request("DELETE",Y,Be)}get(Y,Be={}){return this.request("GET",Y,Be)}head(Y,Be={}){return this.request("HEAD",Y,Be)}jsonp(Y,Be){return this.request("JSONP",Y,{params:(new g).append(Be,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Y,Be={}){return this.request("OPTIONS",Y,Be)}patch(Y,Be,St={}){return this.request("PATCH",Y,$(St,Be))}post(Y,Be,St={}){return this.request("POST",Y,$(St,Be))}put(Y,Be,St={}){return this.request("PUT",Y,$(St,Be))}}return He.\u0275fac=function(Y){return new(Y||He)(t.LFG(E))},He.\u0275prov=t.Yz7({token:He,factory:He.\u0275fac}),He})();function ne(He,k){return k(He)}function N(He,k){return(Y,Be)=>k.intercept(Y,{handle:St=>He(St,Be)})}const Z=new t.OlP("HTTP_INTERCEPTORS"),fe=new t.OlP("HTTP_INTERCEPTOR_FNS");function M(){let He=null;return(k,Y)=>(null===He&&(He=((0,t.f3M)(Z,{optional:!0})??[]).reduceRight(N,ne)),He(k,Y))}let Se=(()=>{class He extends E{constructor(Y,Be){super(),this.backend=Y,this.injector=Be,this.chain=null}handle(Y){if(null===this.chain){const Be=Array.from(new Set(this.injector.get(fe)));this.chain=Be.reduceRight((St,Rn)=>function V(He,k,Y){return(Be,St)=>Y.runInContext(()=>k(Be,Rn=>He(Rn,St)))}(St,Rn,this.injector),ne)}return this.chain(Y,Be=>this.backend.handle(Be))}}return He.\u0275fac=function(Y){return new(Y||He)(t.LFG(L),t.LFG(t.lqb))},He.\u0275prov=t.Yz7({token:He,factory:He.\u0275fac}),He})();const $e=/^\)\]\}',?\n/;let Ue=(()=>{class He{constructor(Y){this.xhrFactory=Y}handle(Y){if("JSONP"===Y.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new S.y(Be=>{const St=this.xhrFactory.build();if(St.open(Y.method,Y.urlWithParams),Y.withCredentials&&(St.withCredentials=!0),Y.headers.forEach((ds,Cs)=>St.setRequestHeader(ds,Cs.join(","))),Y.headers.has("Accept")||St.setRequestHeader("Accept","application/json, text/plain, */*"),!Y.headers.has("Content-Type")){const ds=Y.detectContentTypeHeader();null!==ds&&St.setRequestHeader("Content-Type",ds)}if(Y.responseType){const ds=Y.responseType.toLowerCase();St.responseType="json"!==ds?ds:"text"}const Rn=Y.serializeBody();let Yn=null;const pi=()=>{if(null!==Yn)return Yn;const ds=St.statusText||"OK",Cs=new _(St.getAllResponseHeaders()),Er=function ce(He){return"responseURL"in He&&He.responseURL?He.responseURL:/^X-Request-URL:/m.test(He.getAllResponseHeaders())?He.getResponseHeader("X-Request-URL"):null}(St)||Y.url;return Yn=new F({headers:Cs,status:St.status,statusText:ds,url:Er}),Yn},Si=()=>{let{headers:ds,status:Cs,statusText:Er,url:gl}=pi(),Pr=null;204!==Cs&&(Pr=typeof St.response>"u"?St.responseText:St.response),0===Cs&&(Cs=Pr?200:0);let Id=Cs>=200&&Cs<300;if("json"===Y.responseType&&"string"==typeof Pr){const mc=Pr;Pr=Pr.replace($e,"");try{Pr=""!==Pr?JSON.parse(Pr):null}catch(pc){Pr=mc,Id&&(Id=!1,Pr={error:pc,text:Pr})}}Id?(Be.next(new B({body:Pr,headers:ds,status:Cs,statusText:Er,url:gl||void 0})),Be.complete()):Be.error(new z({error:Pr,headers:ds,status:Cs,statusText:Er,url:gl||void 0}))},Hi=ds=>{const{url:Cs}=pi(),Er=new z({error:ds,status:St.status||0,statusText:St.statusText||"Unknown Error",url:Cs||void 0});Be.error(Er)};let go=!1;const Wo=ds=>{go||(Be.next(pi()),go=!0);let Cs={type:U.DownloadProgress,loaded:ds.loaded};ds.lengthComputable&&(Cs.total=ds.total),"text"===Y.responseType&&!!St.responseText&&(Cs.partialText=St.responseText),Be.next(Cs)},Ds=ds=>{let Cs={type:U.UploadProgress,loaded:ds.loaded};ds.lengthComputable&&(Cs.total=ds.total),Be.next(Cs)};return St.addEventListener("load",Si),St.addEventListener("error",Hi),St.addEventListener("timeout",Hi),St.addEventListener("abort",Hi),Y.reportProgress&&(St.addEventListener("progress",Wo),null!==Rn&&St.upload&&St.upload.addEventListener("progress",Ds)),St.send(Rn),Be.next({type:U.Sent}),()=>{St.removeEventListener("error",Hi),St.removeEventListener("abort",Hi),St.removeEventListener("load",Si),St.removeEventListener("timeout",Hi),Y.reportProgress&&(St.removeEventListener("progress",Wo),null!==Rn&&St.upload&&St.upload.removeEventListener("progress",Ds)),St.readyState!==St.DONE&&St.abort()}})}}return He.\u0275fac=function(Y){return new(Y||He)(t.LFG(d.JF))},He.\u0275prov=t.Yz7({token:He,factory:He.\u0275fac}),He})();const nt=new t.OlP("XSRF_ENABLED"),Dt="XSRF-TOKEN",Lt=new t.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Dt}),Ze="X-XSRF-TOKEN",ae=new t.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Ze});class _e{}let he=(()=>{class He{constructor(Y,Be,St){this.doc=Y,this.platform=Be,this.cookieName=St,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Y=this.doc.cookie||"";return Y!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,d.Mx)(Y,this.cookieName),this.lastCookieString=Y),this.lastToken}}return He.\u0275fac=function(Y){return new(Y||He)(t.LFG(d.K0),t.LFG(t.Lbi),t.LFG(Lt))},He.\u0275prov=t.Yz7({token:He,factory:He.\u0275fac}),He})();function le(He,k){const Y=He.url.toLowerCase();if(!(0,t.f3M)(nt)||"GET"===He.method||"HEAD"===He.method||Y.startsWith("http://")||Y.startsWith("https://"))return k(He);const Be=(0,t.f3M)(_e).getToken(),St=(0,t.f3M)(ae);return null!=Be&&!He.headers.has(St)&&(He=He.clone({headers:He.headers.set(St,Be)})),k(He)}var ve=(()=>((ve=ve||{})[ve.Interceptors=0]="Interceptors",ve[ve.LegacyInterceptors=1]="LegacyInterceptors",ve[ve.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ve[ve.NoXsrfProtection=3]="NoXsrfProtection",ve[ve.JsonpSupport=4]="JsonpSupport",ve[ve.RequestsMadeViaParent=5]="RequestsMadeViaParent",ve))();function Ae(He,k){return{\u0275kind:He,\u0275providers:k}}function dt(...He){const k=[j,Ue,Se,{provide:E,useExisting:Se},{provide:L,useExisting:Ue},{provide:fe,useValue:le,multi:!0},{provide:nt,useValue:!0},{provide:_e,useClass:he}];for(const Y of He)k.push(...Y.\u0275providers);return(0,t.MR2)(k)}const et=new t.OlP("LEGACY_INTERCEPTOR_FN");function tt({cookieName:He,headerName:k}){const Y=[];return void 0!==He&&Y.push({provide:Lt,useValue:He}),void 0!==k&&Y.push({provide:ae,useValue:k}),Ae(ve.CustomXsrfConfiguration,Y)}let Bt=(()=>{class He{}return He.\u0275fac=function(Y){return new(Y||He)},He.\u0275mod=t.oAB({type:He}),He.\u0275inj=t.cJS({providers:[dt(Ae(ve.LegacyInterceptors,[{provide:et,useFactory:M},{provide:fe,useExisting:et,multi:!0}]),tt({cookieName:Dt,headerName:Ze}))]}),He})();e(68025),e(84616),e(55147),e(75610);var je=e(29535);e(71692),e(52821);const Kn=new t.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ti}),ti="always";let pr=(()=>{class He{}return He.\u0275fac=function(Y){return new(Y||He)},He.\u0275mod=t.oAB({type:He}),He.\u0275inj=t.cJS({}),He})(),Ir=(()=>{class He{}return He.\u0275fac=function(Y){return new(Y||He)},He.\u0275mod=t.oAB({type:He}),He.\u0275inj=t.cJS({imports:[pr]}),He})(),aa=(()=>{class He{static withConfig(Y){return{ngModule:He,providers:[{provide:Kn,useValue:Y.callSetDisabledState??ti}]}}}return He.\u0275fac=function(Y){return new(Y||He)},He.\u0275mod=t.oAB({type:He}),He.\u0275inj=t.cJS({imports:[Ir]}),He})();var Gi=e(5827),cs=e(17374),qo=e(22849),cr=e(97194);class xa extends cr.w0{constructor(k,Y){super()}schedule(k,Y=0){return this}}const Vr={setInterval(He,k,...Y){const{delegate:Be}=Vr;return Be?.setInterval?Be.setInterval(He,k,...Y):setInterval(He,k,...Y)},clearInterval(He){const{delegate:k}=Vr;return(k?.clearInterval||clearInterval)(He)},delegate:void 0};var Ia=e(29513);const ur={now:()=>(ur.delegate||Date).now(),delegate:void 0};class jr{constructor(k,Y=jr.now){this.schedulerActionCtor=k,this.now=Y}schedule(k,Y=0,Be){return new this.schedulerActionCtor(this,k).schedule(Be,Y)}}jr.now=ur.now;const Pe=new class zt extends jr{constructor(k,Y=jr.now){super(k,Y),this.actions=[],this._active=!1}flush(k){const{actions:Y}=this;if(this._active)return void Y.push(k);let Be;this._active=!0;do{if(Be=k.execute(k.state,k.delay))break}while(k=Y.shift());if(this._active=!1,Be){for(;k=Y.shift();)k.unsubscribe();throw Be}}}(class Ta extends xa{constructor(k,Y){super(k,Y),this.scheduler=k,this.work=Y,this.pending=!1}schedule(k,Y=0){var Be;if(this.closed)return this;this.state=k;const St=this.id,Rn=this.scheduler;return null!=St&&(this.id=this.recycleAsyncId(Rn,St,Y)),this.pending=!0,this.delay=Y,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(Rn,this.id,Y),this}requestAsyncId(k,Y,Be=0){return Vr.setInterval(k.flush.bind(k,this),Be)}recycleAsyncId(k,Y,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return Y;null!=Y&&Vr.clearInterval(Y)}execute(k,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(k,Y);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(k,Y){let St,Be=!1;try{this.work(k)}catch(Rn){Be=!0,St=Rn||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),St}unsubscribe(){if(!this.closed){const{id:k,scheduler:Y}=this,{actions:Be}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ia.P)(Be,this),null!=k&&(this.id=this.recycleAsyncId(Y,k,null)),this.delay=null,super.unsubscribe()}}});var xt=e(31484),pn=e(89982),bn=e(67519),kn=e(34469),Xn=e(28712),Zn=e(5074),qn=e(25599),ri=e(30429),Mi=e(66808),Ni=e(37619),Vi=e(19323),Xi=e(72966),po=e(8203),Io=e(823),Ao=e(39229),Eo=e(84453),lo=e(24146),$o=e(93049),Fo=e(29236),So=e(77917),io=e(94749),Lo=e(95907),zo=e(91433),Zo=e(22722),ns=e(54767),To=e(88139),as=e(35234),zs=e(44303),es=e(96140),Gs=e(55890),Ks=e(18715);class Bo extends kn.dp{constructor({id:k,name:Y,clientOptions:Be,connectionProvider:St}){super(k||Y.toLowerCase(),Y,Be),(0,bn.Z)(this,"connectionProvider",void 0),this.connectionProvider=St;const Rn=this.handleRegistrationRequest.bind(this);this.handleRegistrationRequest=pi=>{Rn({...pi,registrations:pi.registrations.filter(Si=>null!=this.getFeature(Si.method))})};const Yn=this.handleUnregistrationRequest.bind(this);this.handleUnregistrationRequest=pi=>{Yn({...pi,unregisterations:pi.unregisterations.filter(Si=>null!=this.getFeature(Si.method))})}}createMessageTransports(k){return this.connectionProvider.get(k)}getLocale(){return navigator.language||"en-US"}registerBuiltinFeatures(){this.registerFeature(new Zn.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new Zn.DidChangeTextDocumentFeature(this)),this.registerFeature(new Zn.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new qn.CompletionItemFeature(this)),this.registerFeature(new ri.HoverFeature(this)),this.registerFeature(new Mi.SignatureHelpFeature(this)),this.registerFeature(new Ni.DefinitionFeature(this)),this.registerFeature(new Vi.ReferencesFeature(this)),this.registerFeature(new Xi.DocumentHighlightFeature(this)),this.registerFeature(new po.DocumentSymbolFeature(this)),this.registerFeature(new Io.CodeActionFeature(this)),this.registerFeature(new Ao.CodeLensFeature(this)),this.registerFeature(new Eo.DocumentFormattingFeature(this)),this.registerFeature(new Eo.DocumentRangeFormattingFeature(this)),this.registerFeature(new Eo.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new lo.RenameFeature(this)),this.registerFeature(new $o.DocumentLinkFeature(this)),this.registerFeature(new Fo.ExecuteCommandFeature(this)),this.registerFeature(new So.TypeDefinitionFeature(this)),this.registerFeature(new io.ImplementationFeature(this)),this.registerFeature(new Lo.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new zo.WorkspaceFoldersFeature(this)),this.registerFeature(new Zo.FoldingRangeFeature(this)),this.registerFeature(new ns.DeclarationFeature(this)),this.registerFeature(new To.SelectionRangeFeature(this)),this.registerFeature(new as.SemanticTokensFeature(this)),this.registerFeature(new zs.LinkedEditingFeature(this)),this.registerFeature(new es.InlayHintsFeature(this)),this.registerFeature(new Gs.DiagnosticFeature(this))}registerTextDocumentSaveFeatures(){this.registerFeature(new Zn.WillSaveFeature(this)),this.registerFeature(new Zn.WillSaveWaitUntilFeature(this)),this.registerFeature(new Zn.DidSaveTextDocumentFeature(this))}registerConfigurationFeatures(){this.registerFeature(new Xn.ConfigurationFeature(this)),this.registerFeature(new Xn.SyncConfigurationFeature(this))}registerProgressFeatures(){this.registerFeature(new Ks.ProgressFeature(this))}}var Ka,ws=e(4496),Ii=e(67044),Mr=e(53559),_r=e(66549),ls=e(54436),Ma=(e(61560),e(33745)),nl=e(45358),_l=(e(94911),e(81534),e(90790),e(59602)),ga=(e(1149),e(25787)),zr=e(78610),Hr=e(9265),Fi=(e(58177),e(44827)),Xr=(e(73622),e(24131)),Is=(e(94667),e(40902)),_s=(e(24596),e(48190)),hr=e(50819);class la{constructor(){(0,bn.Z)(this,"channels",new Map)}showMessage(k,Y,...Be){return k===hr.Z.Error&&console.error(Y),k===hr.Z.Warning&&console.warn(Y),k===hr.Z.Info&&console.info(Y),k===hr.Z.Ignore&&console.debug(Y),Promise.resolve(void 0)}createOutputChannel(k){const Y=this.channels.get(k);if(Y)return Y;const Be={name:"default",append(St){console.log(k+": "+St)},appendLine(St){console.log(k+": "+St)},show(){},dispose(){},replace:function(St){},clear:function(){},hide:function(){}};return this.channels.set(k,Be),Be}}class sl{constructor(k,Y){(0,bn.Z)(this,"workspaceFolders",void 0),(0,bn.Z)(this,"rootPath",void 0),this.workspaceFolders=k,this.rootPath=Y}}!function(He){function k(St={}){return{workspace:new sl(St.workspaceFolders,St.rootPath),window:new la}}He.create=k,He.install=function Y(St={}){const Rn=k(St);return ws.S.install(Rn)},He.get=function Be(){return ws.S.get()}}(Ka||(Ka={})),e(49372),e(46057);var rr=e(4938);e(61699);var $a=e(34042),Fl=e(5183),os=e(58783),ma=e(69355),us=e(80142),Zi=e(98463),da=e(6276),Rs=e(62922),Ga=e(97139),Us=e(827),Ti=e(55197),ca=e(41140),pa=e(8841),Cl=e(1689),rl=e(65065),ao=e(4062),_a=e(29739),al=e(29693),Jr=e(67021),Na=e(14759);const Ra=(0,ws.s)(Jr.F),Wl=new(e(78708).EventEmitter),va=Wl.event;let Ss=!1;const fr=Mr.IO.initialize;Mr.IO.initialize=He=>{const k=fr.call(Mr.IO,He);return Ss||(Ss=!0,Wl.fire(k)),k};var Ar=e(81184),Ca=[],Za=[];function ba(He,k){if(He&&typeof document<"u"){var Y,Be=!0===k.prepend?"prepend":"append",St=!0===k.singleTag,Rn="string"==typeof k.container?document.querySelector(k.container):document.getElementsByTagName("head")[0];if(St){var Yn=Ca.indexOf(Rn);-1===Yn&&(Yn=Ca.push(Rn)-1,Za[Yn]={}),Y=Za[Yn]&&Za[Yn][Be]?Za[Yn][Be]:Za[Yn][Be]=pi()}else Y=pi();65279===He.charCodeAt(0)&&(He=He.substring(1)),Y.styleSheet?Y.styleSheet.cssText+=He:Y.appendChild(document.createTextNode(He))}function pi(){var Si=document.createElement("style");if(Si.setAttribute("type","text/css"),k.attributes)for(var Hi=Object.keys(k.attributes),go=0;go<Hi.length;go++)Si.setAttribute(Hi[go],k.attributes[Hi[go]]);return Rn.insertAdjacentElement("prepend"===Be?"afterbegin":"beforeend",Si),Si}}const qr={inputActiveOptionBorder:ma.Il.fromHex("#007ACC00"),inputActiveOptionForeground:ma.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:ma.Il.fromHex("#0E639C50")};class ad extends Fl.${constructor(k){super(),this._onChange=this._register(new Ii.E),this.onChange=this._onChange.event,this._onKeyDown=this._register(new Ii.E),this.onKeyDown=this._onKeyDown.event,this._opts={...qr,...k},this._checked=this._opts.isChecked;const Y=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,Y.push(...os.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&Y.push(...this._opts.actionClassName.split(" ")),this._checked&&Y.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...Y),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,Be=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),Be.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,Be=>{if(10===Be.keyCode||3===Be.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),Be.preventDefault(),void Be.stopPropagation();this._onKeyDown.fire(Be)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(k){this._checked=k,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}setIcon(k){this._icon&&this.domNode.classList.remove(...os.dT.asClassNameArray(this._icon)),this._icon=k,this._icon&&this.domNode.classList.add(...os.dT.asClassNameArray(this._icon))}width(){return 22}style(k){k.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=k.inputActiveOptionBorder),k.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=k.inputActiveOptionForeground),k.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=k.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle(k){this.domNode.title=k,this.domNode.setAttribute("aria-label",k)}}class ld extends Fl.${constructor(k,Y){super(),this.title=k,this.isChecked=Y,this.checkbox=new ad({title:this.title,isChecked:this.isChecked,icon:os.lA.check,actionClassName:"monaco-checkbox"}),this.domNode=this.checkbox.domNode,this.styles={},this.checkbox.onChange(()=>{this.applyStyles()})}get checked(){return this.checkbox.checked}set checked(k){this.checkbox.checked=k,this.applyStyles()}focus(){this.domNode.focus()}hasFocus(){return this.domNode===document.activeElement}style(k){this.styles=k,this.applyStyles()}applyStyles(){this.domNode.style.color=this.styles.checkboxForeground?this.styles.checkboxForeground.toString():"",this.domNode.style.backgroundColor=this.styles.checkboxBackground?this.styles.checkboxBackground.toString():"",this.domNode.style.borderColor=this.styles.checkboxBorder?this.styles.checkboxBorder.toString():""}}function Oa(He,k,Y){function Be(){const St=function dd(He,k){const Y=Object.create(null);for(const Be in k){const St=k[Be];St&&(Y[Be]=(0,ao.Snq)(St,He))}return Y}(He.getColorTheme(),k);"function"==typeof Y?Y(St):Y.style(St)}return Be(),He.onDidColorThemeChange(Be)}function Vl(He,k,Y){return Oa(k,{buttonForeground:Y?.buttonForeground||ao.j5u,buttonSeparator:Y?.buttonSeparator||ao.iFQ,buttonBackground:Y?.buttonBackground||ao.b7$,buttonHoverBackground:Y?.buttonHoverBackground||ao.GO4,buttonSecondaryForeground:Y?.buttonSecondaryForeground||ao.qBU,buttonSecondaryBackground:Y?.buttonSecondaryBackground||ao.ESD,buttonSecondaryHoverBackground:Y?.buttonSecondaryHoverBackground||ao.xEn,buttonBorder:Y?.buttonBorder||ao.GYc},He)}const ud={dialogBackground:ao.D0T,dialogForeground:ao.Hfx,dialogShadow:ao.rh,dialogBorder:ao.lRK,buttonForeground:ao.j5u,buttonSeparator:ao.iFQ,buttonBackground:ao.b7$,buttonSecondaryBackground:ao.ESD,buttonSecondaryForeground:ao.qBU,buttonSecondaryHoverBackground:ao.xEn,buttonHoverBackground:ao.GO4,buttonBorder:ao.GYc,checkboxBorder:ao.nd,checkboxBackground:ao.SUp,checkboxForeground:ao.BQ0,errorIconForeground:ao.JpG,warningIconForeground:ao.BOY,infoIconForeground:ao.OLZ,inputBackground:ao.sEe,inputForeground:ao.zJb,inputBorder:ao.dt_,textLinkForeground:ao.url},hd={buttonBackground:ma.Il.fromHex("#0E639C"),buttonHoverBackground:ma.Il.fromHex("#006BB3"),buttonSeparator:ma.Il.white,buttonForeground:ma.Il.white};class ll extends us.JT{constructor(k,Y){super(),this._onDidClick=this._register(new Ii.E),this.options=Y||Object.create(null),(0,da.jB)(this.options,hd,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),k.appendChild(this._element),this._register(Rs.o.addTarget(this._element)),[Zi.tw.CLICK,Rs.t.Tap].forEach(Be=>{this._register((0,Zi.nm)(this._element,Be,St=>{this.enabled?this._onDidClick.fire(St):Zi.zB.stop(St)}))}),this._register((0,Zi.nm)(this._element,Zi.tw.KEY_DOWN,Be=>{const St=new ca.y(Be);let Rn=!1;this.enabled&&(St.equals(3)||St.equals(10))?(this._onDidClick.fire(Be),Rn=!0):St.equals(9)&&(this._element.blur(),Rn=!0),Rn&&Zi.zB.stop(St,!0)})),this._register((0,Zi.nm)(this._element,Zi.tw.MOUSE_OVER,Be=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,Zi.nm)(this._element,Zi.tw.MOUSE_OUT,Be=>{this.applyStyles()})),this.focusTracker=this._register((0,Zi.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let k;k=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,k&&(this._element.style.backgroundColor=k)}style(k){this.buttonForeground=k.buttonForeground,this.buttonBackground=k.buttonBackground,this.buttonHoverBackground=k.buttonHoverBackground,this.buttonSecondaryForeground=k.buttonSecondaryForeground,this.buttonSecondaryBackground=k.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=k.buttonSecondaryHoverBackground,this.buttonBorder=k.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let k,Y;this.options.secondary?(Y=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",k=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(Y=this.buttonForeground?this.buttonForeground.toString():"",k=this.buttonBackground?this.buttonBackground.toString():"");const Be=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=Y,this._element.style.backgroundColor=k,this._element.style.borderWidth=Be?"1px":"",this._element.style.borderStyle=Be?"solid":"",this._element.style.borderColor=Be}}get element(){return this._element}set label(k){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,Zi.mc)(this._element,...(0,Ga.T)(k)):this._element.textContent=k,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=k)}set icon(k){this._element.classList.add(...os.dT.asClassNameArray(k))}set enabled(k){k?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}focus(){this._element.focus()}hasFocus(){return this._element===document.activeElement}}class Hl extends us.JT{constructor(k,Y){var Be;super(),Be=this,this._onDidClick=this._register(new Ii.E),this.onDidClick=this._onDidClick.event,this.element=document.createElement("div"),this.element.classList.add("monaco-button-dropdown"),k.appendChild(this.element),this.button=this._register(new ll(this.element,Y)),this._register(this.button.onDidClick(St=>this._onDidClick.fire(St))),this.action=this._register(new Us.aU("primaryAction",this.button.label,void 0,!0,(0,cs.Z)(function*(){return Be._onDidClick.fire(void 0)}))),this.separatorContainer=document.createElement("div"),this.separatorContainer.classList.add("monaco-button-dropdown-separator"),this.separator=document.createElement("div"),this.separatorContainer.appendChild(this.separator),this.element.appendChild(this.separatorContainer),this.dropdownButton=this._register(new ll(this.element,{...Y,title:!1,supportIcons:!0})),this.dropdownButton.element.title=(0,Ti.NC)("button dropdown more actions","More Actions..."),this.dropdownButton.element.setAttribute("aria-haspopup","true"),this.dropdownButton.element.setAttribute("aria-expanded","false"),this.dropdownButton.element.classList.add("monaco-dropdown-button"),this.dropdownButton.icon=os.lA.dropDownButton,this._register(this.dropdownButton.onDidClick(St=>{Y.contextMenuProvider.showContextMenu({getAnchor:()=>this.dropdownButton.element,getActions:()=>!1===Y.addPrimaryActionToDropdown?[...Y.actions]:[this.action,...Y.actions],actionRunner:Y.actionRunner,onHide:()=>this.dropdownButton.element.setAttribute("aria-expanded","false")}),this.dropdownButton.element.setAttribute("aria-expanded","true")}))}set label(k){this.button.label=k,this.action.label=k}set icon(k){this.button.icon=k}set enabled(k){this.button.enabled=k,this.dropdownButton.enabled=k,this.element.classList.toggle("disabled",!k)}get enabled(){return this.button.enabled}style(k){this.button.style(k),this.dropdownButton.style(k);const Y=k.buttonBorder?k.buttonBorder.toString():"";this.separatorContainer.style.borderTopWidth=Y?"1px":"",this.separatorContainer.style.borderTopStyle=Y?"solid":"",this.separatorContainer.style.borderTopColor=Y,this.separatorContainer.style.borderBottomWidth=Y?"1px":"",this.separatorContainer.style.borderBottomStyle=Y?"solid":"",this.separatorContainer.style.borderBottomColor=Y,this.separatorContainer.style.backgroundColor=k.buttonBackground?.toString()??"",this.separator.style.backgroundColor=k.buttonSeparator?.toString()??""}focus(){this.button.focus()}hasFocus(){return this.button.hasFocus()||this.dropdownButton.hasFocus()}}class ka extends ll{constructor(k,Y){super(k,Y),this._element.classList.add("monaco-description-button"),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._descriptionElement=document.createElement("div"),this._descriptionElement.classList.add("monaco-button-description"),this._element.appendChild(this._descriptionElement)}set label(k){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,Zi.mc)(this._labelElement,...(0,Ga.T)(k)):this._labelElement.textContent=k,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=k)}set description(k){this.options.supportIcons?(0,Zi.mc)(this._descriptionElement,...(0,Ga.T)(k)):this._descriptionElement.textContent=k}}class ya extends us.JT{constructor(k){super(),this.container=k,this._buttons=[]}get buttons(){return this._buttons}addButton(k){const Y=this._register(new ll(this.container,k));return this.pushButton(Y),Y}addButtonWithDescription(k){const Y=this._register(new ka(this.container,k));return this.pushButton(Y),Y}addButtonWithDropdown(k){const Y=this._register(new Hl(this.container,k));return this.pushButton(Y),Y}pushButton(k){this._buttons.push(k);const Y=this._buttons.length-1;this._register((0,Zi.nm)(k.element,Zi.tw.KEY_DOWN,Be=>{const St=new ca.y(Be);let Yn,Rn=!0;St.equals(15)?Yn=Y>0?Y-1:this._buttons.length-1:St.equals(17)?Yn=Y===this._buttons.length-1?0:Y+1:Rn=!1,Rn&&"number"==typeof Yn&&(this._buttons[Yn].focus(),Zi.zB.stop(Be,!0))}))}}ba("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/** Dialog: Modal Block */\n.monaco-dialog-modal-block {\n\tposition: fixed;\n\theight: 100%;\n\twidth: 100%;\n\tleft:0;\n\ttop:0;\n\tz-index: 2600;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-dialog-modal-block.dimmed {\n\tbackground: rgba(0, 0, 0, 0.3);\n}\n\n/** Dialog: Container */\n.monaco-dialog-box {\n\tdisplay: flex;\n\tflex-direction: column-reverse;\n\twidth: min-content;\n\tmin-width: 500px;\n\tmax-width: 90vw;\n\tmin-height: 75px;\n\tpadding: 10px;\n\ttransform: translate3d(0px, 0px, 0px);\n}\n\n/** Dialog: Title Actions Row */\n.monaco-dialog-box .dialog-toolbar-row {\n\theight: 22px;\n\tpadding-bottom: 4px;\n}\n\n.monaco-dialog-box .dialog-toolbar-row .actions-container {\n\tjustify-content: flex-end;\n}\n\n/** Dialog: Message Row */\n.monaco-dialog-box .dialog-message-row {\n\tdisplay: flex;\n\tflex-grow: 1;\n\talign-items: center;\n\tpadding: 0 10px;\n}\n\n.monaco-dialog-box .dialog-message-row > .dialog-icon.codicon {\n\tflex: 0 0 48px;\n\theight: 48px;\n\talign-self: baseline;\n\tfont-size: 48px;\n}\n\n/** Dialog: Message Container */\n.monaco-dialog-box .dialog-message-row .dialog-message-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tpadding-left: 24px;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n\twhite-space: normal;\n}\n\n/** Dialog: Message */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message {\n\tline-height: 22px;\n\tfont-size: 18px;\n\tflex: 1; /* let the message always grow */\n\twhite-space: normal;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n\tmin-height: 48px; /* matches icon height */\n\tmargin-bottom: 8px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n/** Dialog: Details */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-detail {\n\tline-height: 22px;\n\tflex: 1; /* let the message always grow */\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message a:focus {\n\toutline-width: 1px;\n\toutline-style: solid;\n}\n\n/** Dialog: Checkbox */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-checkbox-row {\n\tpadding: 15px 0px 0px;\n\tdisplay: flex;\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-checkbox-row .dialog-checkbox-message {\n\tcursor: pointer;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Dialog: Input */\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-input {\n\tpadding: 15px 0px 0px;\n\tdisplay: flex;\n}\n\n.monaco-dialog-box .dialog-message-row .dialog-message-container .dialog-message-input .monaco-inputbox {\n\tflex: 1;\n}\n\n/** Dialog: File Path */\n.monaco-dialog-box code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n/** Dialog: Buttons Row */\n.monaco-dialog-box > .dialog-buttons-row {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-right: 1px;\n\toverflow: hidden; /* buttons row should never overflow */\n}\n\n.monaco-dialog-box > .dialog-buttons-row {\n\tdisplay: flex;\n\twhite-space: nowrap;\n\tpadding: 20px 10px 10px;\n}\n\n/** Dialog: Buttons */\n.monaco-dialog-box > .dialog-buttons-row > .dialog-buttons {\n\tdisplay: flex;\n\twidth: 100%;\n\tjustify-content: flex-end;\n\toverflow: hidden;\n\tmargin-left: 67px; /* for long buttons, force align with text */\n}\n\n.monaco-dialog-box > .dialog-buttons-row > .dialog-buttons > .monaco-button {\n\twidth: fit-content;\n\twidth: -moz-fit-content;\n\tpadding: 5px 10px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tmargin: 4px 5px; /* allows button focus outline to be visible */\n\toutline-offset: 2px !important;\n}\n",{});class Wt extends us.JT{constructor(k,Y,Be,St){super(),this.container=k,this.message=Y,this.options=St,this.modalElement=this.container.appendChild((0,Zi.$)(".monaco-dialog-modal-block.dimmed")),this.shadowElement=this.modalElement.appendChild((0,Zi.$)(".dialog-shadow")),this.element=this.shadowElement.appendChild((0,Zi.$)(".monaco-dialog-box")),this.element.setAttribute("role","dialog"),this.element.tabIndex=-1,(0,Zi.Cp)(this.element),this.buttons=Array.isArray(Be)&&Be.length>0?Be:this.options.disableDefaultAction?[]:[(0,Ti.NC)("ok","OK")];const Rn=this.element.appendChild((0,Zi.$)(".dialog-buttons-row"));this.buttonsContainer=Rn.appendChild((0,Zi.$)(".dialog-buttons"));const Yn=this.element.appendChild((0,Zi.$)(".dialog-message-row"));if(this.iconElement=Yn.appendChild((0,Zi.$)("#monaco-dialog-icon.dialog-icon")),this.iconElement.setAttribute("aria-label",this.getIconAriaLabel()),this.messageContainer=Yn.appendChild((0,Zi.$)(".dialog-message-container")),(this.options.detail||this.options.renderBody)&&(this.messageContainer.appendChild((0,Zi.$)(".dialog-message")).appendChild((0,Zi.$)("#monaco-dialog-message-text.dialog-message-text")).innerText=this.message),this.messageDetailElement=this.messageContainer.appendChild((0,Zi.$)("#monaco-dialog-message-detail.dialog-message-detail")),this.options.detail||!this.options.renderBody?this.messageDetailElement.innerText=this.options.detail?this.options.detail:Y:this.messageDetailElement.style.display="none",this.options.renderBody){const Si=this.messageContainer.appendChild((0,Zi.$)("#monaco-dialog-message-body.dialog-message-body"));this.options.renderBody(Si);for(const Hi of this.messageContainer.querySelectorAll("a"))Hi.tabIndex=0}if(this.inputs=this.options.inputs?this.options.inputs.map(Si=>{const Hi=this.messageContainer.appendChild((0,Zi.$)(".dialog-message-input")),go=this._register(new Cl.W(Hi,void 0,{placeholder:Si.placeholder,type:Si.type??"text"}));return Si.value&&(go.value=Si.value),go}):[],this.options.checkboxLabel){const Si=this.messageContainer.appendChild((0,Zi.$)(".dialog-checkbox-row")),Hi=this.checkbox=this._register(new ld(this.options.checkboxLabel,!!this.options.checkboxChecked));Si.appendChild(Hi.domNode);const go=Si.appendChild((0,Zi.$)(".dialog-checkbox-message"));go.innerText=this.options.checkboxLabel,this._register((0,Zi.nm)(go,Zi.tw.CLICK,()=>Hi.checked=!Hi.checked))}const pi=this.element.appendChild((0,Zi.$)(".dialog-toolbar-row"));this.toolbarContainer=pi.appendChild((0,Zi.$)(".dialog-toolbar"))}getIconAriaLabel(){return(0,Ti.NC)("dialogInfoMessage","Info")}updateMessage(k){this.messageDetailElement.innerText=k}show(){var k=this;return(0,cs.Z)(function*(){return k.focusToReturn=document.activeElement,new Promise(Y=>{(0,Zi.PO)(k.buttonsContainer);const Be=k.buttonBar=k._register(new ya(k.buttonsContainer)),St=k.rearrangeButtons(k.buttons,k.options.cancelId);St.forEach((Yn,pi)=>{const Si=0===St[pi].index,Hi=k._register(k.options.buttonDetails?Be.addButtonWithDescription({title:!0,secondary:!Si}):Be.addButton({title:!0,secondary:!Si}));Hi.label=function yl(He,k){return pa.dz||k?He.replace(/\(&&\w\)|&&/g,""):pa.ED?He.replace(/&&|&/g,Y=>"&"===Y?"&&":"&"):He.replace(/&&/g,"_")}(St[pi].label,!0),Hi instanceof ka&&(Hi.description=k.options.buttonDetails[St[pi].index]),k._register(Hi.onDidClick(go=>{go&&Zi.zB.stop(go),Y({button:St[pi].index,checkboxChecked:k.checkbox?k.checkbox.checked:void 0,values:k.inputs.length>0?k.inputs.map(Wo=>Wo.value):void 0})}))}),k._register((0,Zi.nm)(window,"keydown",Yn=>{const pi=new ca.y(Yn);if(pi.equals(512)&&pi.preventDefault(),pi.equals(3))return void(k.inputs.some(Hi=>Hi.hasFocus())&&(Zi.zB.stop(Yn),Y({button:St.find(Hi=>Hi.index!==k.options.cancelId)?.index??0,checkboxChecked:k.checkbox?k.checkbox.checked:void 0,values:k.inputs.length>0?k.inputs.map(Hi=>Hi.value):void 0})));if(pi.equals(10))return;let Si=!1;if(pi.equals(2)||pi.equals(17)||pi.equals(1026)||pi.equals(15)){const Hi=[];let go=-1;if(k.messageContainer){const Wo=k.messageContainer.querySelectorAll("a");for(const Ds of Wo)Hi.push(Ds),Ds===document.activeElement&&(go=Hi.length-1)}for(const Wo of k.inputs)Hi.push(Wo),Wo.hasFocus()&&(go=Hi.length-1);if(k.checkbox&&(Hi.push(k.checkbox),k.checkbox.hasFocus()&&(go=Hi.length-1)),k.buttonBar)for(const Wo of k.buttonBar.buttons)Hi.push(Wo),Wo.hasFocus()&&(go=Hi.length-1);if(pi.equals(2)||pi.equals(17))-1===go&&(go=0),Hi[(go+1)%Hi.length].focus();else{-1===go&&(go=Hi.length);let Wo=go-1;-1===Wo&&(Wo=Hi.length-1),Hi[Wo].focus()}Si=!0}Si?Zi.zB.stop(Yn,!0):k.options.keyEventProcessor&&k.options.keyEventProcessor(pi)},!0)),k._register((0,Zi.nm)(window,"keyup",Yn=>{Zi.zB.stop(Yn,!0);const pi=new ca.y(Yn);!k.options.disableCloseAction&&pi.equals(9)&&Y({button:k.options.cancelId||0,checkboxChecked:k.checkbox?k.checkbox.checked:void 0})},!0)),k._register((0,Zi.nm)(k.element,"focusout",Yn=>{Yn.relatedTarget&&k.element&&((0,Zi.jg)(Yn.relatedTarget,k.element)||(k.focusToReturn=Yn.relatedTarget,Yn.target&&(Yn.target.focus(),Zi.zB.stop(Yn,!0))))},!1));const Rn="codicon-modifier-spin";if(k.iconElement.classList.remove(...os.lA.dialogError.classNamesArray,...os.lA.dialogWarning.classNamesArray,...os.lA.dialogInfo.classNamesArray,...os.lA.loading.classNamesArray,Rn),k.options.icon)k.iconElement.classList.add(...k.options.icon.classNamesArray);else switch(k.options.type){case"error":k.iconElement.classList.add(...os.lA.dialogError.classNamesArray);break;case"warning":k.iconElement.classList.add(...os.lA.dialogWarning.classNamesArray);break;case"pending":k.iconElement.classList.add(...os.lA.loading.classNamesArray,Rn);break;default:k.iconElement.classList.add(...os.lA.dialogInfo.classNamesArray)}if(!k.options.disableCloseAction){const Yn=k._register(new rl.o(k.toolbarContainer,{})),pi=k._register(new Us.aU("dialog.close",(0,Ti.NC)("dialogClose","Close Dialog"),os.lA.dialogClose.classNames,!0,(0,cs.Z)(function*(){Y({button:k.options.cancelId||0,checkboxChecked:k.checkbox?k.checkbox.checked:void 0})})));Yn.push(pi,{icon:!0,label:!1})}k.applyStyles(),k.element.setAttribute("aria-modal","true"),k.element.setAttribute("aria-labelledby","monaco-dialog-icon monaco-dialog-message-text"),k.element.setAttribute("aria-describedby","monaco-dialog-icon monaco-dialog-message-text monaco-dialog-message-detail monaco-dialog-message-body"),(0,Zi.$Z)(k.element),k.inputs.length>0?(k.inputs[0].focus(),k.inputs[0].select()):St.forEach((Yn,pi)=>{0===Yn.index&&Be.buttons[pi].focus()})})})()}applyStyles(){if(this.styles){const k=this.styles,Y=k.dialogForeground,Be=k.dialogBackground,Rn=k.dialogBorder?`1px solid ${k.dialogBorder}`:"",Yn=k.textLinkForeground;if(this.shadowElement.style.boxShadow=k.dialogShadow?`0 0px 8px ${k.dialogShadow}`:"",this.element.style.color=Y?.toString()??"",this.element.style.backgroundColor=Be?.toString()??"",this.element.style.border=Rn,this.buttonBar?.buttons.forEach(Si=>Si.style(k)),this.checkbox?.style(k),Y&&Be){const Si=Y.transparent(.9);this.messageDetailElement.style.color=Si.makeOpaque(Be).toString()}if(Yn)for(const Si of this.messageContainer.getElementsByTagName("a"))Si.style.color=Yn.toString();let pi;switch(this.options.type){case"error":pi=k.errorIconForeground;break;case"warning":pi=k.warningIconForeground;break;default:pi=k.infoIconForeground}pi&&(this.iconElement.style.color=pi.toString());for(const Si of this.inputs)Si.style(k)}}style(k){this.styles=k,this.applyStyles()}dispose(){super.dispose(),this.modalElement&&(this.modalElement.remove(),this.modalElement=void 0),this.focusToReturn&&(0,Zi.jg)(this.focusToReturn,document.body)&&(this.focusToReturn.focus(),this.focusToReturn=void 0)}rearrangeButtons(k,Y){const Be=[];if(0===k.length)return Be;if(k.forEach((St,Rn)=>{Be.push({label:St,index:Rn})}),(pa.dz||pa.IJ)&&void 0!==Y&&Y<k.length){const St=Be.splice(Y,1)[0];Be.reverse(),Be.splice(Be.length-1,0,St)}return Be}}const r=3600,x=24*r,W=7*x,J=30*x;function We(He,k,Y){"number"!=typeof He&&(He=He.getTime());const Be=Math.round(((new Date).getTime()-He)/1e3);if(Be<-30)return(0,Ti.NC)("date.fromNow.in","in {0}",We((new Date).getTime()+1e3*Be,!1));if(Be<30)return(0,Ti.NC)("date.fromNow.now","now");let St;return Be<60?(St=Be,k?1===St?Y?(0,Ti.NC)("date.fromNow.seconds.singular.ago.fullWord","{0} second ago",St):(0,Ti.NC)("date.fromNow.seconds.singular.ago","{0} sec ago",St):Y?(0,Ti.NC)("date.fromNow.seconds.plural.ago.fullWord","{0} seconds ago",St):(0,Ti.NC)("date.fromNow.seconds.plural.ago","{0} secs ago",St):1===St?Y?(0,Ti.NC)("date.fromNow.seconds.singular.fullWord","{0} second",St):(0,Ti.NC)("date.fromNow.seconds.singular","{0} sec",St):Y?(0,Ti.NC)("date.fromNow.seconds.plural.fullWord","{0} seconds",St):(0,Ti.NC)("date.fromNow.seconds.plural","{0} secs",St)):Be<r?(St=Math.floor(Be/60),k?1===St?Y?(0,Ti.NC)("date.fromNow.minutes.singular.ago.fullWord","{0} minute ago",St):(0,Ti.NC)("date.fromNow.minutes.singular.ago","{0} min ago",St):Y?(0,Ti.NC)("date.fromNow.minutes.plural.ago.fullWord","{0} minutes ago",St):(0,Ti.NC)("date.fromNow.minutes.plural.ago","{0} mins ago",St):1===St?Y?(0,Ti.NC)("date.fromNow.minutes.singular.fullWord","{0} minute",St):(0,Ti.NC)("date.fromNow.minutes.singular","{0} min",St):Y?(0,Ti.NC)("date.fromNow.minutes.plural.fullWord","{0} minutes",St):(0,Ti.NC)("date.fromNow.minutes.plural","{0} mins",St)):Be<x?(St=Math.floor(Be/r),k?1===St?Y?(0,Ti.NC)("date.fromNow.hours.singular.ago.fullWord","{0} hour ago",St):(0,Ti.NC)("date.fromNow.hours.singular.ago","{0} hr ago",St):Y?(0,Ti.NC)("date.fromNow.hours.plural.ago.fullWord","{0} hours ago",St):(0,Ti.NC)("date.fromNow.hours.plural.ago","{0} hrs ago",St):1===St?Y?(0,Ti.NC)("date.fromNow.hours.singular.fullWord","{0} hour",St):(0,Ti.NC)("date.fromNow.hours.singular","{0} hr",St):Y?(0,Ti.NC)("date.fromNow.hours.plural.fullWord","{0} hours",St):(0,Ti.NC)("date.fromNow.hours.plural","{0} hrs",St)):Be<W?(St=Math.floor(Be/x),k?1===St?(0,Ti.NC)("date.fromNow.days.singular.ago","{0} day ago",St):(0,Ti.NC)("date.fromNow.days.plural.ago","{0} days ago",St):1===St?(0,Ti.NC)("date.fromNow.days.singular","{0} day",St):(0,Ti.NC)("date.fromNow.days.plural","{0} days",St)):Be<J?(St=Math.floor(Be/W),k?1===St?Y?(0,Ti.NC)("date.fromNow.weeks.singular.ago.fullWord","{0} week ago",St):(0,Ti.NC)("date.fromNow.weeks.singular.ago","{0} wk ago",St):Y?(0,Ti.NC)("date.fromNow.weeks.plural.ago.fullWord","{0} weeks ago",St):(0,Ti.NC)("date.fromNow.weeks.plural.ago","{0} wks ago",St):1===St?Y?(0,Ti.NC)("date.fromNow.weeks.singular.fullWord","{0} week",St):(0,Ti.NC)("date.fromNow.weeks.singular","{0} wk",St):Y?(0,Ti.NC)("date.fromNow.weeks.plural.fullWord","{0} weeks",St):(0,Ti.NC)("date.fromNow.weeks.plural","{0} wks",St)):Be<31536e3?(St=Math.floor(Be/J),k?1===St?Y?(0,Ti.NC)("date.fromNow.months.singular.ago.fullWord","{0} month ago",St):(0,Ti.NC)("date.fromNow.months.singular.ago","{0} mo ago",St):Y?(0,Ti.NC)("date.fromNow.months.plural.ago.fullWord","{0} months ago",St):(0,Ti.NC)("date.fromNow.months.plural.ago","{0} mos ago",St):1===St?Y?(0,Ti.NC)("date.fromNow.months.singular.fullWord","{0} month",St):(0,Ti.NC)("date.fromNow.months.singular","{0} mo",St):Y?(0,Ti.NC)("date.fromNow.months.plural.fullWord","{0} months",St):(0,Ti.NC)("date.fromNow.months.plural","{0} mos",St)):(St=Math.floor(Be/31536e3),k?1===St?Y?(0,Ti.NC)("date.fromNow.years.singular.ago.fullWord","{0} year ago",St):(0,Ti.NC)("date.fromNow.years.singular.ago","{0} yr ago",St):Y?(0,Ti.NC)("date.fromNow.years.plural.ago.fullWord","{0} years ago",St):(0,Ti.NC)("date.fromNow.years.plural.ago","{0} yrs ago",St):1===St?Y?(0,Ti.NC)("date.fromNow.years.singular.fullWord","{0} year",St):(0,Ti.NC)("date.fromNow.years.singular","{0} yr",St):Y?(0,Ti.NC)("date.fromNow.years.plural.fullWord","{0} years",St):(0,Ti.NC)("date.fromNow.years.plural","{0} yrs",St))}let lt=class Vc{constructor(k,Y,Be,St,Rn,Yn,pi){this.logService=k,this.layoutService=Y,this.themeService=Be,this.keybindingService=St,this.instantiationService=Rn,this.productService=Yn,this.clipboardService=pi,this.markdownRenderer=this.instantiationService.createInstance(_a.$,{})}confirm(k){var Y=this;return(0,cs.Z)(function*(){Y.logService.trace("DialogService#confirm",k.message);const Be=[];Be.push(k.primaryButton?k.primaryButton:(0,Ti.NC)({key:"yesButton",comment:["&& denotes a mnemonic"]},"&&Yes")),k.secondaryButton?Be.push(k.secondaryButton):typeof k.secondaryButton>"u"&&Be.push((0,Ti.NC)("cancelButton","Cancel"));const St=yield Y.doShow(k.type,k.message,Be,k.detail,1,k.checkbox);return{confirmed:0===St.button,checkboxChecked:St.checkboxChecked}})()}getDialogType(k){return k===hr.Z.Info?"question":k===hr.Z.Error?"error":k===hr.Z.Warning?"warning":"none"}show(k,Y,Be,St){var Rn=this;return(0,cs.Z)(function*(){Rn.logService.trace("DialogService#show",Y);const Yn=yield Rn.doShow(Rn.getDialogType(k),Y,Be,St?.detail,St?.cancelId,St?.checkbox,void 0,"object"==typeof St?.custom?St.custom:void 0);return{choice:Yn.button,checkboxChecked:Yn.checkboxChecked}})()}doShow(k,Y,Be,St,Rn,Yn,pi,Si){var Hi=this;return(0,cs.Z)(function*(){const go=new us.SL,Wo=Si?Cs=>{Cs.classList.add(...Si.classes||[]),Si.markdownDetails?.forEach(Er=>{const gl=Hi.markdownRenderer.render(Er.markdown);Cs.appendChild(gl.element),gl.element.classList.add(...Er.classes||[]),go.add(gl)})}:void 0,Ds=new Wt(Hi.layoutService.container,Y,Be,{detail:St,cancelId:Rn,type:k,keyEventProcessor:Cs=>{const Er=Hi.keybindingService.softDispatch(Cs,Hi.layoutService.container);Er?.commandId&&-1===Vc.ALLOWABLE_COMMANDS.indexOf(Er.commandId)&&Zi.zB.stop(Cs,!0)},renderBody:Wo,icon:Si?.icon,disableCloseAction:Si?.disableCloseAction,buttonDetails:Si?.buttonDetails,checkboxLabel:Yn?.label,checkboxChecked:Yn?.checked,inputs:pi});go.add(Ds),go.add(function Qa(He,k,Y){return Oa(k,{...ud,...Y},He)}(Ds,Hi.themeService));const ds=yield Ds.show();return go.dispose(),ds})()}input(k,Y,Be,St,Rn){var Yn=this;return(0,cs.Z)(function*(){Yn.logService.trace("DialogService#input",Y);const pi=yield Yn.doShow(Yn.getDialogType(k),Y,Be,Rn?.detail,Rn?.cancelId,Rn?.checkbox,St);return{choice:pi.button,checkboxChecked:pi.checkboxChecked,values:pi.values}})()}about(){var k=this;return(0,cs.Z)(function*(){const Y=Yn=>(0,Ti.NC)("aboutDetail","Version: {0}\nCommit: {1}\nDate: {2}\nBrowser: {3}",k.productService.version||"Unknown",k.productService.commit||"Unknown",k.productService.date?`${k.productService.date}${Yn?" ("+We(new Date(k.productService.date),!0)+")":""}`:"Unknown",navigator.userAgent),Be=Y(!0),St=Y(!1),{choice:Rn}=yield k.show(hr.Z.Info,k.productService.nameLong,[(0,Ti.NC)("copy","Copy"),(0,Ti.NC)("ok","OK")],{detail:Be,cancelId:1});0===Rn&&k.clipboardService.writeText(St)})()}};lt.ALLOWABLE_COMMANDS=["copy","cut","editor.action.selectAll","editor.action.clipboardCopyAction","editor.action.clipboardCutAction","editor.action.clipboardPasteAction"],lt=(0,Ii._)([(0,Ii.a)(0,al.VZ),(0,Ii.a)(1,Jr.F),(0,Ii.a)(2,Is.XE),(0,Ii.a)(3,Na.d),(0,Ii.a)(4,Hr.TG),(0,Ii.a)(5,ws.c),(0,Ii.a)(6,ga.p)],lt);let yt=class extends us.JT{constructor(k,Y,Be,St,Rn,Yn,pi,Si){super(),this.dialogService=k,this.impl=new lt(Y,Be,St,Rn,Yn,pi,Si),this.model=this.dialogService.model,this._register(this.model.onWillShowDialog(()=>{this.currentDialog||this.processDialogs()})),this.processDialogs()}processDialogs(){var k=this;return(0,cs.Z)(function*(){for(;k.model.dialogs.length;){let Y;if(k.currentDialog=k.model.dialogs[0],k.currentDialog.args.confirmArgs){const Be=k.currentDialog.args.confirmArgs;Y=yield k.impl.confirm(Be.confirmation)}else if(k.currentDialog.args.inputArgs){const Be=k.currentDialog.args.inputArgs;Y=yield k.impl.input(Be.severity,Be.message,Be.buttons,Be.inputs,Be.options)}else if(k.currentDialog.args.showArgs){const Be=k.currentDialog.args.showArgs;Y=yield k.impl.show(Be.severity,Be.message,Be.buttons,Be.options)}else yield k.impl.about();k.currentDialog.close(Y),k.currentDialog=void 0}})()}};yt=(0,Ii._)([(0,Ii.a)(0,zr.S),(0,Ii.a)(1,al.VZ),(0,Ii.a)(2,Jr.F),(0,Ii.a)(3,Is.XE),(0,Ii.a)(4,Na.d),(0,Ii.a)(5,Hr.TG),(0,Ii.a)(6,ws.c),(0,Ii.a)(7,ga.p)],yt);class Nt{constructor(k){this.container=k,this.offset={top:0,quickPickTop:0},this._onDidLayout=new Ii.E,this.onDidLayout=this._onDidLayout.event,window.addEventListener("resize",()=>this.layout()),this.layout()}isVisible(){return!1}get dimension(){return this._dimension}layout(){this._dimension=(0,Zi.D6)(window.document.body),this._onDidLayout.fire(this._dimension)}get hasContainer(){return!0}focus(){Mr.IO.get(Ma.$).getFocusedCodeEditor()?.focus()}}function Gt(He){He.invokeFunction(Y=>Y.get(Jr.F)).container.classList.add("monaco-workbench")}function an(He=document.body){return va(Gt),{[Jr.F.toString()]:new Ar.M(Nt,[He]),[Ra.toString()]:new Ar.M(Nt,[He])}}var un=e(3778),Wn=e(4125),$n=e(93979),Gn=e(64023),ci=e(7626),mi=e(16468),Di=e(40734),Ui=e(98915),eo=e(27299),zi=e(74918),Ji=e(66287),Qi=e(75366),fo=e(24738),No=e(50703),bo=e(59547),ps=e(21040),ss=e(39021),vs=e(72715),Qo=e(59797);ba("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench > .notifications-toasts {\n\tposition: absolute;\n\tz-index: 1000;\n\tright: 3px;\n\tbottom: 26px;\n\tdisplay: none;\n\toverflow: hidden;\n}\n\n.monaco-workbench.nostatusbar > .notifications-toasts {\n\tbottom: 3px;\n}\n\n.monaco-workbench > .notifications-toasts.visible {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container {\n\toverflow: hidden; /* this ensures that the notification toast does not shine through */\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast {\n\tmargin: 8px; /* enables separation and drop shadows around toasts */\n\ttransform: translate3d(0px, 100%, 0px); /* move the notification 50px to the bottom (to prevent bleed through) */\n\topacity: 0; /*  fade the toast in */\n\ttransition:\ttransform 300ms ease-out, opacity 300ms ease-out;\n}\n\n.monaco-workbench.reduce-motion > .notifications-toasts .notification-toast-container > .notification-toast {\n\ttransition:\ttransform 0ms ease-out, opacity 0ms ease-out;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast.notification-fade-in {\n\topacity: 1;\n\ttransform: none;\n}\n\n.monaco-workbench > .notifications-toasts .notification-toast-container > .notification-toast.notification-fade-in-done {\n\topacity: 1;\n\ttransform: none;\n\ttransition:\tnone;\n}\n",{}),ba("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/** Notification: Container */\n\n.monaco-workbench .notifications-list-container .notification-list-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-direction: column-reverse; /* the details row appears first in order for better keyboard access to notification buttons */\n\tpadding: 10px 5px;\n\theight: 100%;\n\tbox-sizing: border-box;\n}\n\n.monaco-workbench .notifications-list-container .notification-offset-helper {\n\topacity: 0;\n\tposition: absolute;\n\tline-height: 22px;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n}\n\n/** Notification: Main Row */\n\n.monaco-workbench .notifications-list-container .notification-list-item > .notification-list-item-main-row {\n\tdisplay: flex;\n\tflex-grow: 1;\n}\n\n/** Notification: Icon */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 0 0 16px;\n\theight: 22px;\n\tmargin-right: 4px;\n\tmargin-left: 4px;\n\tfont-size: 18px;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}\n\n/** Notification: Message */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message {\n\tline-height: 22px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1; /* let the message always grow */\n\tuser-select: text;\n\t-webkit-user-select: text;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a:focus {\n\toutline-width: 1px;\n\toutline-style: solid;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item.expanded .notification-list-item-message {\n\twhite-space: normal;\n\tword-wrap: break-word; /* never overflow long words, but break to next line */\n}\n\n/** Notification: Toolbar Container */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container {\n\tdisplay: none;\n\theight: 22px;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item:hover .notification-list-item-toolbar-container,\n.monaco-workbench .notifications-list-container .monaco-list-row.focused .notification-list-item .notification-list-item-toolbar-container,\n.monaco-workbench .notifications-list-container .notification-list-item.expanded .notification-list-item-toolbar-container {\n\tdisplay: block;\n}\n\n/** Notification: Details Row */\n\n.monaco-workbench .notifications-list-container .notification-list-item > .notification-list-item-details-row {\n\tdisplay: none;\n\talign-items: center;\n\tpadding-left: 5px;\n\toverflow: hidden; /* details row should never overflow */\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item.expanded > .notification-list-item-details-row {\n\tdisplay: flex;\n}\n\n/** Notification: Source */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-source {\n\tflex: 1;\n\tfont-size: 12px;\n\toverflow: hidden; /* always give away space to buttons container */\n\ttext-overflow: ellipsis;\n}\n\n/** Notification: Buttons */\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container {\n\tdisplay: flex;\n\toverflow: hidden;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container > .monaco-button-dropdown,\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container > .monaco-button {\n\tmargin: 4px 5px; /* allows button focus outline to be visible */\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-button {\n\toutline-offset: 2px !important;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-text-button {\n\twidth: fit-content;\n\twidth: -moz-fit-content;\n\tpadding: 5px 10px;\n\tdisplay: inline-block;\t/* to enable ellipsis in text overflow */\n\tfont-size: 12px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-buttons-container .monaco-dropdown-button {\n\tpadding: 5px\n}\n\n/** Notification: Progress */\n\n.monaco-workbench .notifications-list-container .progress-bit {\n\theight: 2px;\n\tbottom: 0;\n}\n",{});const Dr=(0,ao.P6G)("notificationCenter.border",{dark:null,light:null,hcDark:ao.lRK,hcLight:ao.lRK},(0,Ti.NC)("notificationCenterBorder","Notifications center border color. Notifications slide in from the bottom right of the window.")),Rc=(0,ao.P6G)("notificationToast.border",{dark:null,light:null,hcDark:ao.lRK,hcLight:ao.lRK},(0,Ti.NC)("notificationToastBorder","Notification toast border color. Notifications slide in from the bottom right of the window.")),gd=(0,ao.P6G)("notifications.foreground",{dark:ao.Hfx,light:ao.Hfx,hcDark:ao.Hfx,hcLight:ao.Hfx},(0,Ti.NC)("notificationsForeground","Notifications foreground color. Notifications slide in from the bottom right of the window.")),ua=(0,ao.P6G)("notifications.background",{dark:ao.D0T,light:ao.D0T,hcDark:ao.D0T,hcLight:ao.D0T},(0,Ti.NC)("notificationsBackground","Notifications background color. Notifications slide in from the bottom right of the window.")),md=(0,ao.P6G)("notificationLink.foreground",{dark:ao.url,light:ao.url,hcDark:ao.url,hcLight:ao.url},(0,Ti.NC)("notificationsLink","Notification links foreground color. Notifications slide in from the bottom right of the window.")),dl=(0,ao.P6G)("notificationCenterHeader.foreground",{dark:null,light:null,hcDark:null,hcLight:null},(0,Ti.NC)("notificationCenterHeaderForeground","Notifications center header foreground color. Notifications slide in from the bottom right of the window.")),Sl=(0,ao.P6G)("notificationCenterHeader.background",{dark:(0,ao.$ny)(ua,.3),light:(0,ao._jn)(ua,.05),hcDark:ua,hcLight:ua},(0,Ti.NC)("notificationCenterHeaderBackground","Notifications center header background color. Notifications slide in from the bottom right of the window.")),pd=(0,ao.P6G)("notifications.border",{dark:Sl,light:Sl,hcDark:Sl,hcLight:Sl},(0,Ti.NC)("notificationsBorder","Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window.")),qd=(0,ao.P6G)("notificationsErrorIcon.foreground",{dark:ao.lXJ,light:ao.lXJ,hcDark:ao.lXJ,hcLight:ao.lXJ},(0,Ti.NC)("notificationsErrorIconForeground","The color used for the icon of error notifications. Notifications slide in from the bottom right of the window.")),_d=(0,ao.P6G)("notificationsWarningIcon.foreground",{dark:ao.uoC,light:ao.uoC,hcDark:ao.uoC,hcLight:ao.uoC},(0,Ti.NC)("notificationsWarningIconForeground","The color used for the icon of warning notifications. Notifications slide in from the bottom right of the window.")),ec=(0,ao.P6G)("notificationsInfoIcon.foreground",{dark:ao.c63,light:ao.c63,hcDark:ao.c63,hcLight:ao.c63},(0,Ti.NC)("notificationsInfoIconForeground","The color used for the icon of info notifications. Notifications slide in from the bottom right of the window."));class Ul{constructor(k){this.nodes=k}toString(){return this.nodes.map(k=>"string"==typeof k?k:k.label).join("")}}const vd=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: ("|')([^\3]+)(\3))?\)/gi;class tc extends us.JT{constructor(k,Y){super(),this.item=k,this.onClose=Y,this._onDidClose=this._register(new Ii.E),this.onDidClose=this._onDidClose.event,this._onDidChangeVisibility=this._register(new Ii.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.registerListeners()}registerListeners(){this._register(this.item.onDidChangeVisibility(k=>this._onDidChangeVisibility.fire(k))),un.ju.once(this.item.onDidClose)(()=>{this._onDidClose.fire(),this.dispose()})}get progress(){return this.item.progress}updateSeverity(k){this.item.updateSeverity(k)}updateMessage(k){this.item.updateMessage(k)}updateActions(k){this.item.updateActions(k)}close(){this.onClose(this.item),this.dispose()}}class jl extends us.JT{constructor(){super(...arguments),this._onDidChangeNotification=this._register(new Ii.E),this.onDidChangeNotification=this._onDidChangeNotification.event,this._onDidChangeStatusMessage=this._register(new Ii.E),this.onDidChangeStatusMessage=this._onDidChangeStatusMessage.event,this._onDidChangeFilter=this._register(new Ii.E),this.onDidChangeFilter=this._onDidChangeFilter.event,this._notifications=[],this.filter=Ii.f.OFF}get notifications(){return this._notifications}get statusMessage(){return this._statusMessage}setFilter(k){this.filter=k,this._onDidChangeFilter.fire(k)}addNotification(k){const Y=this.createViewItem(k);if(!Y)return jl.NO_OP_NOTIFICATION;const Be=this.findNotification(Y);return Be&&Be.close(),this._notifications.splice(0,0,Y),this._onDidChangeNotification.fire({item:Y,index:0,kind:0}),new tc(Y,St=>this.onClose(St))}onClose(k){const Y=this.findNotification(k);Y&&Y!==k?Y.close():k.close()}findNotification(k){return this._notifications.find(Y=>Y.equals(k))}createViewItem(k){const Y=zl.create(k,this.filter);if(!Y)return;const Be=(Yn,pi)=>{const Si=this._notifications.indexOf(Y);Si>=0&&this._onDidChangeNotification.fire({item:Y,index:Si,kind:Yn,detail:pi})},St=Y.onDidChangeExpansion(()=>Be(2)),Rn=Y.onDidChangeContent(Yn=>Be(1,Yn.kind));return un.ju.once(Y.onDidClose)(()=>{St.dispose(),Rn.dispose();const Yn=this._notifications.indexOf(Y);Yn>=0&&(this._notifications.splice(Yn,1),this._onDidChangeNotification.fire({item:Y,index:Yn,kind:3}))}),Y}showStatusMessage(k,Y){const Be=Kl.create(k,Y);return Be?(this._statusMessage=Be,this._onDidChangeStatusMessage.fire({kind:0,item:Be}),(0,us.OF)(()=>{this._statusMessage===Be&&(this._statusMessage=void 0,this._onDidChangeStatusMessage.fire({kind:1,item:Be}))})):us.JT.None}}function bd(He){return He instanceof zl}jl.NO_OP_NOTIFICATION=new ls.EO;class nc extends us.JT{constructor(){super(),this._onDidChange=this._register(new Ii.E),this.onDidChange=this._onDidChange.event,this._state=Object.create(null)}get state(){return this._state}infinite(){this._state.infinite||(this._state.infinite=!0,this._state.total=void 0,this._state.worked=void 0,this._state.done=void 0,this._onDidChange.fire())}done(){this._state.done||(this._state.done=!0,this._state.infinite=void 0,this._state.total=void 0,this._state.worked=void 0,this._onDidChange.fire())}total(k){this._state.total!==k&&(this._state.total=k,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire())}worked(k){"number"==typeof this._state.worked?this._state.worked+=k:this._state.worked=k,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire()}}let zl=(()=>{class He extends us.JT{constructor(Y,Be,St,Rn,Yn,pi,Si,Hi){super(),this.id=Y,this._severity=Be,this._sticky=St,this._silent=Rn,this._message=Yn,this._source=pi,this._visible=!1,this._onDidChangeExpansion=this._register(new Ii.E),this.onDidChangeExpansion=this._onDidChangeExpansion.event,this._onDidClose=this._register(new Ii.E),this.onDidClose=this._onDidClose.event,this._onDidChangeContent=this._register(new Ii.E),this.onDidChangeContent=this._onDidChangeContent.event,this._onDidChangeVisibility=this._register(new Ii.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,Si&&this.setProgress(Si),this.setActions(Hi)}static create(Y,Be=Ii.f.OFF){if(!Y||!Y.message||(0,Wn.n2)(Y.message))return;let St;St="number"==typeof Y.severity?Y.severity:ls.zb.Info;const Rn=He.parseNotificationMessage(Y.message);if(!Rn)return;let Yn;return Y.actions?Yn=Y.actions:function Os(He){return He instanceof Error&&Array.isArray(He.actions)}(Y.message)&&(Yn={primary:Y.message.actions}),new He(Y.id,St,Y.sticky,Y.silent||Be===Ii.f.SILENT||Be===Ii.f.ERROR&&Y.severity!==ls.zb.Error,Rn,Y.source,Y.progress,Yn)}static parseNotificationMessage(Y){let Be;if(Y instanceof Error?Be=(0,$n.y)(Y,!1):"string"==typeof Y&&(Be=Y),!Be)return;const St=Be;Be.length>He.MAX_MESSAGE_LENGTH&&(Be=`${Be.substr(0,He.MAX_MESSAGE_LENGTH)}...`),Be=Be.replace(/(\r\n|\n|\r)/gm," ").trim();const Rn=function Cd(He){const k=[];let Be,Y=0;for(;Be=vd.exec(He);){Be.index-Y>0&&k.push(He.substring(Y,Be.index));const[,St,Rn,,Yn]=Be;k.push(Yn?{label:St,href:Rn,title:Yn}:{label:St,href:Rn}),Y=Be.index+Be[0].length}return Y<He.length&&k.push(He.substring(Y)),new Ul(k)}(Be);return{raw:St,linkedText:Rn,original:Y}}setProgress(Y){Y.infinite?this.progress.infinite():Y.total&&(this.progress.total(Y.total),Y.worked&&this.progress.worked(Y.worked))}setActions(Y={primary:[],secondary:[]}){this._actions={primary:Array.isArray(Y.primary)?Y.primary:[],secondary:Array.isArray(Y.secondary)?Y.secondary:[]},this._expanded=Y.primary&&Y.primary.length>0}get canCollapse(){return!this.hasActions}get expanded(){return!!this._expanded}get severity(){return this._severity}get sticky(){if(this._sticky)return!0;const Y=this.hasActions;return!!(Y&&this._severity===ls.zb.Error||!Y&&this._expanded||this._progress&&!this._progress.state.done)}get silent(){return!!this._silent}get hasActions(){return!(!this._actions||!this._actions.primary)&&this._actions.primary.length>0}get hasProgress(){return!!this._progress}get progress(){return this._progress||(this._progress=this._register(new nc),this._register(this._progress.onDidChange(()=>this._onDidChangeContent.fire({kind:3})))),this._progress}get message(){return this._message}get source(){return"string"==typeof this._source?this._source:this._source?this._source.label:void 0}get sourceId(){return this._source&&"string"!=typeof this._source&&"id"in this._source?this._source.id:void 0}get actions(){return this._actions}get visible(){return this._visible}updateSeverity(Y){Y!==this._severity&&(this._severity=Y,this._onDidChangeContent.fire({kind:0}))}updateMessage(Y){const Be=He.parseNotificationMessage(Y);!Be||Be.raw===this._message.raw||(this._message=Be,this._onDidChangeContent.fire({kind:1}))}updateActions(Y){this.setActions(Y),this._onDidChangeContent.fire({kind:2})}updateVisibility(Y){this._visible!==Y&&(this._visible=Y,this._onDidChangeVisibility.fire(Y))}expand(){this._expanded||!this.canCollapse||(this._expanded=!0,this._onDidChangeExpansion.fire())}collapse(Y){!this._expanded||!this.canCollapse||(this._expanded=!1,Y||this._onDidChangeExpansion.fire())}toggle(){this._expanded?this.collapse():this.expand()}close(){this._onDidClose.fire(),this.dispose()}equals(Y){if(this.hasProgress||Y.hasProgress)return!1;if("string"==typeof this.id||"string"==typeof Y.id)return this.id===Y.id;if("object"==typeof this._source){if(this._source.label!==Y.source||this._source.id!==Y.sourceId)return!1}else if(this._source!==Y.source)return!1;return this._message.raw===Y.message.raw&&(0,Gn.fS)(this._actions&&this._actions.primary||[],Y.actions&&Y.actions.primary||[],(Rn,Yn)=>Rn.id+Rn.label===Yn.id+Yn.label)}}return He.MAX_MESSAGE_LENGTH=1e3,He})();class ea extends Us.aU{constructor(k,Y){var Be;super(k,Y.label,void 0,!0,(0,cs.Z)(function*(){Y.run(),Be._onDidRun.fire()})),Be=this,this._onDidRun=this._register(new Ii.E),this.onDidRun=this._onDidRun.event,this._keepOpen=!!Y.keepOpen,this._menu=!Y.isSecondary&&Y.menu?Y.menu.map((St,Rn)=>new ea(`${k}.${Rn}`,St)):void 0}get menu(){return this._menu}get keepOpen(){return this._keepOpen}}class Kl{static create(k,Y){if(!k||(0,Wn.n2)(k))return;let Be;return k instanceof Error?Be=(0,$n.y)(k,!1):"string"==typeof k&&(Be=k),Be?{message:Be,options:Y}:void 0}}function cl(He,k,Y){return{id:(0,ci.vp)(He.toString()).toString(),silent:Y,source:k||"core"}}ba("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container .action-item,\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .action-item {\n\tmargin-right: 4px;\n}\n\n.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-toolbar-container .action-item:first-child,\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .action-item:first-child {\n\tmargin-left: 4px;\n}\n",{});let Gl=class extends us.JT{constructor(k,Y){super(),this.telemetryService=k,this.notificationService=Y,this.registerListeners()}registerListeners(){this._register(this.notificationService.onDidAddNotification(k=>{this.telemetryService.publicLog2("notification:show",cl(k.message,k.source&&"string"!=typeof k.source?k.source.id:k.source,!!k.silent))})),this._register(this.notificationService.onDidRemoveNotification(k=>{this.telemetryService.publicLog2("notification:close",cl(k.message,k.source&&"string"!=typeof k.source?k.source.id:k.source,!!k.silent))}))}};Gl=(0,Ii._)([(0,Ii.a)(0,Xr.b),(0,Ii.a)(1,ls.lT)],Gl),new mi.uy("multipleEditorGroups",!1,(0,Ti.NC)("multipleEditorGroups","Whether there are multiple editor groups opened")).toNegated();const ta=new mi.uy("notificationFocus",!0,(0,Ti.NC)("notificationFocus","Whether a notification has keyboard focus")),wl=new mi.uy("notificationCenterVisible",!1,(0,Ti.NC)("notificationCenterVisible","Whether the notifications center is visible")),Sa=new mi.uy("notificationToastsVisible",!1,(0,Ti.NC)("notificationToastsVisible","Whether a notification toast is visible"));let Kr=class ja{constructor(k,Y,Be,St){this._contextKeyService=k,this._fileService=Y,this._languageService=Be,this._modelService=St,this._disposables=new us.SL,this._schemeKey=ja.Scheme.bindTo(this._contextKeyService),this._filenameKey=ja.Filename.bindTo(this._contextKeyService),this._dirnameKey=ja.Dirname.bindTo(this._contextKeyService),this._pathKey=ja.Path.bindTo(this._contextKeyService),this._langIdKey=ja.LangId.bindTo(this._contextKeyService),this._resourceKey=ja.Resource.bindTo(this._contextKeyService),this._extensionKey=ja.Extension.bindTo(this._contextKeyService),this._hasResource=ja.HasResource.bindTo(this._contextKeyService),this._isFileSystemResource=ja.IsFileSystemResource.bindTo(this._contextKeyService),this._disposables.add(Y.onDidChangeFileSystemProviderRegistrations(()=>{const Rn=this.get();this._isFileSystemResource.set(Boolean(Rn&&Y.hasProvider(Rn)))})),this._disposables.add(St.onModelAdded(Rn=>{(0,Di.Xy)(Rn.uri,this.get())&&this._setLangId()})),this._disposables.add(St.onModelLanguageChanged(Rn=>{(0,Di.Xy)(Rn.model.uri,this.get())&&this._setLangId()}))}dispose(){this._disposables.dispose()}_setLangId(){const k=this.get();if(!k)return void this._langIdKey.set(null);const Y=this._modelService.getModel(k)?.getLanguageId()??this._languageService.guessLanguageIdByFilepathOrFirstLine(k);this._langIdKey.set(Y)}set(k){!(0,Di.Xy)(this._value,k=k??void 0)&&(this._value=k,this._contextKeyService.bufferChangeEvents(()=>{this._resourceKey.set(k?k.toString():null),this._schemeKey.set(k?k.scheme:null),this._filenameKey.set(k?(0,Di.EZ)(k):null),this._dirnameKey.set(k?(0,Di.XX)(k).fsPath:null),this._pathKey.set(k?k.fsPath:null),this._setLangId(),this._extensionKey.set(k?(0,Di.DZ)(k):null),this._hasResource.set(Boolean(k)),this._isFileSystemResource.set(!!k&&this._fileService.hasProvider(k))}))}reset(){this._value=void 0,this._contextKeyService.bufferChangeEvents(()=>{this._resourceKey.reset(),this._schemeKey.reset(),this._filenameKey.reset(),this._dirnameKey.reset(),this._pathKey.reset(),this._langIdKey.reset(),this._extensionKey.reset(),this._hasResource.reset(),this._isFileSystemResource.reset()})}get(){return this._value}};Kr.Scheme=new mi.uy("resourceScheme",void 0,{type:"string",description:(0,Ti.NC)("resourceScheme","The scheme of the resource")}),Kr.Filename=new mi.uy("resourceFilename",void 0,{type:"string",description:(0,Ti.NC)("resourceFilename","The file name of the resource")}),Kr.Dirname=new mi.uy("resourceDirname",void 0,{type:"string",description:(0,Ti.NC)("resourceDirname","The folder name the resource is contained in")}),Kr.Path=new mi.uy("resourcePath",void 0,{type:"string",description:(0,Ti.NC)("resourcePath","The full path of the resource")}),Kr.LangId=new mi.uy("resourceLangId",void 0,{type:"string",description:(0,Ti.NC)("resourceLangId","The language identifier of the resource")}),Kr.Resource=new mi.uy("resource",void 0,{type:"URI",description:(0,Ti.NC)("resource","The full value of the resource including scheme and path")}),Kr.Extension=new mi.uy("resourceExtname",void 0,{type:"string",description:(0,Ti.NC)("resourceExtname","The extension name of the resource")}),Kr.HasResource=new mi.uy("resourceSet",void 0,{type:"boolean",description:(0,Ti.NC)("resourceSet","Whether a resource is present or not")}),Kr.IsFileSystemResource=new mi.uy("isFileSystemResource",void 0,{type:"boolean",description:(0,Ti.NC)("isFileSystemResource","Whether the resource is backed by a file system provider")}),Kr=(0,Ii._)([(0,Ii.a)(0,mi.i6),(0,Ii.a)(1,ws.i),(0,Ii.a)(2,nl.O),(0,Ii.a)(3,_l.q)],Kr);const Dl="notifications.hideList",yd="notifications.hideToasts",Ql="notification.collapse",ul="notification.expand",El="notification.clear",vr="notifications.clearAll",Yl="notifications.toggleDoNotDisturbMode",Ll=(0,Ji.q5)("notifications-clear",os.lA.close,(0,Ti.NC)("clearIcon","Icon for the clear action in notifications.")),oc=(0,Ji.q5)("notifications-clear-all",os.lA.clearAll,(0,Ti.NC)("clearAllIcon","Icon for the clear all action in notifications.")),sc=(0,Ji.q5)("notifications-hide",os.lA.chevronDown,(0,Ti.NC)("hideIcon","Icon for the hide action in notifications.")),Hd=(0,Ji.q5)("notifications-expand",os.lA.chevronUp,(0,Ti.NC)("expandIcon","Icon for the expand action in notifications.")),wd=(0,Ji.q5)("notifications-collapse",os.lA.chevronDown,(0,Ti.NC)("collapseIcon","Icon for the collapse action in notifications.")),Xl=(0,Ji.q5)("notifications-configure",os.lA.gear,(0,Ti.NC)("configureIcon","Icon for the configure action in notifications.")),Fa=(0,Ji.q5)("notifications-do-not-disturb",os.lA.bellSlash,(0,Ti.NC)("doNotDisturbIcon","Icon for the mute all action in notifications."));let wa=class extends Us.aU{constructor(k,Y,Be){super(k,Y,Is.kS.asClassName(Ll)),this.commandService=Be}run(k){var Y=this;return(0,cs.Z)(function*(){Y.commandService.executeCommand(El,k)})()}};wa.ID=El,wa.LABEL=(0,Ti.NC)("clearNotification","Clear Notification"),wa=(0,Ii._)([(0,Ii.a)(2,_r.Hy)],wa);let Ba=class extends Us.aU{constructor(k,Y,Be){super(k,Y,Is.kS.asClassName(oc)),this.commandService=Be}run(){var k=this;return(0,cs.Z)(function*(){k.commandService.executeCommand(vr)})()}};Ba.ID=vr,Ba.LABEL=(0,Ti.NC)("clearNotifications","Clear All Notifications"),Ba=(0,Ii._)([(0,Ii.a)(2,_r.Hy)],Ba);let Wa=class extends Us.aU{constructor(k,Y,Be){super(k,Y,Is.kS.asClassName(Fa)),this.commandService=Be}run(){var k=this;return(0,cs.Z)(function*(){k.commandService.executeCommand(Yl)})()}};Wa.ID=Yl,Wa.LABEL=(0,Ti.NC)("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode"),Wa=(0,Ii._)([(0,Ii.a)(2,_r.Hy)],Wa);let na=class extends Us.aU{constructor(k,Y,Be){super(k,Y,Is.kS.asClassName(sc)),this.commandService=Be}run(){var k=this;return(0,cs.Z)(function*(){k.commandService.executeCommand(Dl)})()}};na.ID=Dl,na.LABEL=(0,Ti.NC)("hideNotificationsCenter","Hide Notifications"),na=(0,Ii._)([(0,Ii.a)(2,_r.Hy)],na);let ia=class extends Us.aU{constructor(k,Y,Be){super(k,Y,Is.kS.asClassName(Hd)),this.commandService=Be}run(k){var Y=this;return(0,cs.Z)(function*(){Y.commandService.executeCommand(ul,k)})()}};ia.ID=ul,ia.LABEL=(0,Ti.NC)("expandNotification","Expand Notification"),ia=(0,Ii._)([(0,Ii.a)(2,_r.Hy)],ia);let Va=class extends Us.aU{constructor(k,Y,Be){super(k,Y,Is.kS.asClassName(wd)),this.commandService=Be}run(k){var Y=this;return(0,cs.Z)(function*(){Y.commandService.executeCommand(Ql,k)})()}};Va.ID=Ql,Va.LABEL=(0,Ti.NC)("collapseNotification","Collapse Notification"),Va=(0,Ii._)([(0,Ii.a)(2,_r.Hy)],Va);class ha extends Us.aU{constructor(k,Y,Be){super(k,Y,Is.kS.asClassName(Xl)),this.configurationActions=Be}}ha.ID="workbench.action.configureNotification",ha.LABEL=(0,Ti.NC)("configureNotification","Configure Notification");let Ja=class extends Us.aU{constructor(k,Y,Be){super(k,Y),this.clipboardService=Be}run(k){return this.clipboardService.writeText(k.message.raw)}};Ja.ID="workbench.action.copyNotificationMessage",Ja.LABEL=(0,Ti.NC)("copyNotification","Copy Text"),Ja=(0,Ii._)([(0,Ii.a)(2,ga.p)],Ja);let xl=class extends Us.Wi{constructor(k,Y){super(),this.telemetryService=k,this.notificationService=Y}runAction(k,Y){var Be=()=>super.runAction,St=this;return(0,cs.Z)(function*(){St.telemetryService.publicLog2("workbenchActionExecuted",{id:k.id,from:"message"}),bd(Y)&&St.telemetryService.publicLog2("notification:actionExecuted",{id:(0,ci.vp)(Y.message.original.toString()).toString(),actionLabel:k.label,source:Y.sourceId||"core",silent:Y.silent});try{yield Be().call(St,k,Y)}catch(Rn){St.notificationService.error(Rn)}})()}};xl=(0,Ii._)([(0,Ii.a)(0,Xr.b),(0,Ii.a)(1,ls.lT)],xl);let rc=(()=>{class He{constructor(Y){this.offsetHelper=this.createOffsetHelper(Y)}createOffsetHelper(Y){const Be=document.createElement("div");return Be.classList.add("notification-offset-helper"),Y.appendChild(Be),Be}getHeight(Y){if(!Y.expanded)return He.ROW_HEIGHT;let Be=He.ROW_HEIGHT;const St=this.computePreferredHeight(Y);return He.LINE_HEIGHT<St&&(Be+=St-He.LINE_HEIGHT),(Y.source||(0,Gn.Of)(Y.actions&&Y.actions.primary))&&(Be+=He.ROW_HEIGHT),Be===He.ROW_HEIGHT&&Y.collapse(!0),Be}computePreferredHeight(Y){let Be=1;Y.canCollapse&&Be++,(0,Gn.Of)(Y.actions&&Y.actions.secondary)&&Be++,this.offsetHelper.style.width=450-(36+32*Be-4)+"px";const St=Jl.render(Y.message);this.offsetHelper.appendChild(St);const Rn=Math.max(this.offsetHelper.offsetHeight,this.offsetHelper.scrollHeight);return(0,Zi.PO)(this.offsetHelper),Rn}getTemplateId(Y){if(Y instanceof zl)return Il.TEMPLATE_ID;throw new Error("unknown element type: "+Y)}}return He.ROW_HEIGHT=42,He.LINE_HEIGHT=22,He})();class Jl{static render(k,Y){const Be=document.createElement("span");for(const St of k.linkedText.nodes)if("string"==typeof St)Be.appendChild(document.createTextNode(St));else{let Rn=St.title;!Rn&&St.href.startsWith("command:")?Rn=(0,Ti.NC)("executeCommand","Click to execute command '{0}'",St.href.substr(8)):Rn||(Rn=St.href);const Yn=(0,Zi.$)("a",{href:St.href,title:Rn},St.label);if(Y){const pi=go=>{Zi.zB.stop(go,!0),Y.callback(St.href)},Si=Y.toDispose.add(new Qi.Y(Yn,"click")).event;Y.toDispose.add(Rs.o.addTarget(Yn));const Hi=Y.toDispose.add(new Qi.Y(Yn,Rs.t.Tap)).event;un.ju.any(Si,Hi)(pi,null,Y.toDispose)}Be.appendChild(Yn)}return Be}}let Il=class Hc{constructor(k,Y,Be,St){this.actionRunner=k,this.themeService=Y,this.contextMenuService=Be,this.instantiationService=St}get templateId(){return Hc.TEMPLATE_ID}renderTemplate(k){const Y=Object.create(null);Y.toDispose=new us.SL,Y.container=document.createElement("div"),Y.container.classList.add("notification-list-item"),Y.mainRow=document.createElement("div"),Y.mainRow.classList.add("notification-list-item-main-row"),Y.icon=document.createElement("div"),Y.icon.classList.add("notification-list-item-icon","codicon"),Y.message=document.createElement("div"),Y.message.classList.add("notification-list-item-message");const Be=document.createElement("div");return Be.classList.add("notification-list-item-toolbar-container"),Y.toolbar=new rl.o(Be,{ariaLabel:(0,Ti.NC)("notificationActions","Notification Actions"),actionViewItemProvider:St=>{if(St&&St instanceof ha){const Rn=new ps.C(St,St.configurationActions,this.contextMenuService,{actionRunner:this.actionRunner,classNames:St.class});return Y.toDispose.add(Rn),Rn}},actionRunner:this.actionRunner}),Y.toDispose.add(Y.toolbar),Y.detailsRow=document.createElement("div"),Y.detailsRow.classList.add("notification-list-item-details-row"),Y.source=document.createElement("div"),Y.source.classList.add("notification-list-item-source"),Y.buttonsContainer=document.createElement("div"),Y.buttonsContainer.classList.add("notification-list-item-buttons-container"),k.appendChild(Y.container),Y.container.appendChild(Y.detailsRow),Y.detailsRow.appendChild(Y.source),Y.detailsRow.appendChild(Y.buttonsContainer),Y.container.appendChild(Y.mainRow),Y.mainRow.appendChild(Y.icon),Y.mainRow.appendChild(Y.message),Y.mainRow.appendChild(Be),Y.progress=new fo.k(k),Y.toDispose.add(function cd(He,k,Y){return Oa(k,{progressBarBackground:Y?.progressBarBackground||ao.zRJ},He)}(Y.progress,this.themeService)),Y.toDispose.add(Y.progress),Y.renderer=this.instantiationService.createInstance(Xo,Y,this.actionRunner),Y.toDispose.add(Y.renderer),Y}renderElement(k,Y,Be){Be.renderer.setInput(k)}disposeTemplate(k){(0,us.B9)(k.toDispose)}};Il.TEMPLATE_ID="notification",Il=(0,Ii._)([(0,Ii.a)(1,Is.XE),(0,Ii.a)(2,No.i),(0,Ii.a)(3,Hr.TG)],Il);let Xo=class qa extends us.JT{constructor(k,Y,Be,St,Rn,Yn,pi){super(),this.template=k,this.actionRunner=Y,this.openerService=Be,this.instantiationService=St,this.themeService=Rn,this.keybindingService=Yn,this.contextMenuService=pi,this.inputDisposables=this._register(new us.SL),qa.closeNotificationAction||(qa.closeNotificationAction=St.createInstance(wa,wa.ID,wa.LABEL),qa.expandNotificationAction=St.createInstance(ia,ia.ID,ia.LABEL),qa.collapseNotificationAction=St.createInstance(Va,Va.ID,Va.LABEL))}setInput(k){this.inputDisposables.clear(),this.render(k)}render(k){this.template.container.classList.toggle("expanded",k.expanded),this.inputDisposables.add((0,Zi.nm)(this.template.container,Zi.tw.MOUSE_UP,Be=>{1===Be.button&&Zi.zB.stop(Be,!0)})),this.inputDisposables.add((0,Zi.nm)(this.template.container,Zi.tw.AUXCLICK,Be=>{!k.hasProgress&&1===Be.button&&(Zi.zB.stop(Be,!0),k.close())})),this.renderSeverity(k);const Y=this.renderMessage(k);this.renderSecondaryActions(k,Y),this.renderSource(k),this.renderButtons(k),this.renderProgress(k),this.inputDisposables.add(k.onDidChangeContent(Be=>{switch(Be.kind){case 0:this.renderSeverity(k);break;case 3:this.renderProgress(k);break;case 1:this.renderMessage(k)}}))}renderSeverity(k){qa.SEVERITIES.forEach(Y=>{k.severity!==Y&&this.template.icon.classList.remove(...this.toSeverityIcon(Y).classNamesArray)}),this.template.icon.classList.add(...this.toSeverityIcon(k.severity).classNamesArray)}renderMessage(k){(0,Zi.PO)(this.template.message),this.template.message.appendChild(Jl.render(k.message,{callback:St=>this.openerService.open(bo.o.parse(St),{allowCommands:!0}),toDispose:this.inputDisposables}));const Y=k.canCollapse&&!k.expanded&&this.template.message.scrollWidth>this.template.message.clientWidth;Y?this.template.message.title=this.template.message.textContent+"":this.template.message.removeAttribute("title");const Be=this.template.message.querySelectorAll("a");for(let St=0;St<Be.length;St++)Be.item(St).tabIndex=-1;return Y}renderSecondaryActions(k,Y){const Be=[],St=k.actions?k.actions.secondary:void 0;if((0,Gn.Of)(St)){const Yn=this.instantiationService.createInstance(ha,ha.ID,ha.LABEL,St);Be.push(Yn),this.inputDisposables.add(Yn)}let Rn=!1;k.canCollapse&&(k.expanded||k.source||Y)&&(Rn=!0),Rn&&Be.push(k.expanded?qa.collapseNotificationAction:qa.expandNotificationAction),k.hasProgress||Be.push(qa.closeNotificationAction),this.template.toolbar.clear(),this.template.toolbar.context=k,Be.forEach(Yn=>this.template.toolbar.push(Yn,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(Yn)}))}renderSource(k){k.expanded&&k.source?(this.template.source.textContent=(0,Ti.NC)("notificationSource","Source: {0}",k.source),this.template.source.title=k.source):(this.template.source.textContent="",this.template.source.removeAttribute("title"))}renderButtons(k){(0,Zi.PO)(this.template.buttonsContainer);const Y=k.actions?k.actions.primary:void 0;if(k.expanded&&(0,Gn.Of)(Y)){const Be=this,St=new class extends Us.Wi{runAction(Yn){return(0,cs.Z)(function*(){Be.actionRunner.run(Yn,k),(!(Yn instanceof ea)||!Yn.keepOpen)&&k.close()})()}},Rn=this.inputDisposables.add(new ya(this.template.buttonsContainer));for(let Yn=0;Yn<Y.length;Yn++){const pi=Y[Yn],Si={title:!0,secondary:Yn>0},Hi=pi instanceof ea?pi.menu:void 0,go=this.inputDisposables.add(Hi?Rn.addButtonWithDropdown({...Si,contextMenuProvider:this.contextMenuService,actions:Hi,actionRunner:St}):Rn.addButton(Si));go.label=pi.label,this.inputDisposables.add(go.onDidClick(Wo=>{Wo&&Zi.zB.stop(Wo,!0),St.run(pi)})),this.inputDisposables.add(Vl(go,this.themeService))}}}renderProgress(k){if(!k.hasProgress)return void this.template.progress.stop().hide();const Y=k.progress.state;Y.infinite?this.template.progress.infinite().show():"number"==typeof Y.total||"number"==typeof Y.worked?("number"==typeof Y.total&&!this.template.progress.hasTotal()&&this.template.progress.total(Y.total),"number"==typeof Y.worked&&this.template.progress.setWorked(Y.worked).show()):this.template.progress.done().hide()}toSeverityIcon(k){switch(k){case ls.zb.Warning:return os.lA.warning;case ls.zb.Error:return os.lA.error}return os.lA.info}getKeybindingLabel(k){const Y=this.keybindingService.lookupKeybinding(k.id);return Y?Y.getLabel():null}};Xo.SEVERITIES=[ls.zb.Info,ls.zb.Warning,ls.zb.Error],Xo=(0,Ii._)([(0,Ii.a)(2,Fi.v4),(0,Ii.a)(3,Hr.TG),(0,Ii.a)(4,Is.XE),(0,Ii.a)(5,Na.d),(0,Ii.a)(6,No.i)],Xo);let hl=class extends Is.bB{constructor(k,Y,Be,St,Rn){super(St),this.container=k,this.options=Y,this.instantiationService=Be,this.contextMenuService=Rn,this.viewModel=[]}show(k){this.isVisible||(this.list||this.createNotificationsList(),this.isVisible=!0),k&&(0,vs.cW)(this.list).domFocus()}createNotificationsList(){this.listContainer=document.createElement("div"),this.listContainer.classList.add("notifications-list-container");const k=this._register(this.instantiationService.createInstance(xl)),Y=this.instantiationService.createInstance(Il,k),Be=this.listDelegate=new rc(this.listContainer),St=this.options,Rn=this.list=this._register(this.instantiationService.createInstance(eo.ev,"NotificationsList",this.listContainer,Be,[Y],{...St,setRowLineHeight:!1,horizontalScrolling:!1,overrideStyles:{listBackground:ua},accessibilityProvider:{getAriaLabel:Si=>Si.source?(0,Ti.NC)("notificationWithSourceAriaLabel","{0}, source: {1}, notification",Si.message.raw,Si.source):(0,Ti.NC)("notificationAriaLabel","{0}, notification",Si.message.raw),getWidgetAriaLabel:()=>St.widgetAriaLabel??(0,Ti.NC)("notificationsList","Notifications List"),getRole:()=>"dialog"}})),Yn=this._register(this.instantiationService.createInstance(Ja,Ja.ID,Ja.LABEL));this._register(Rn.onContextMenu(Si=>{!Si.element||this.contextMenuService.showContextMenu({getAnchor:()=>Si.anchor,getActions:()=>[Yn],getActionsContext:()=>Si.element,actionRunner:k})})),this._register(Rn.onMouseDblClick(Si=>Si.element.toggle()));const pi=this._register((0,Zi.go)(Rn.getHTMLElement()));this._register(pi.onDidBlur(()=>{document.hasFocus()&&Rn.setFocus([])})),ta.bindTo(Rn.contextKeyService),this._register(Rn.onDidChangeSelection(Si=>{Si.indexes.length>0&&Rn.setSelection([])})),this.container.appendChild(this.listContainer),this.updateStyles()}updateNotificationsList(k,Y,Be=[]){const[St,Rn]=(0,ss.a)(this.list,this.listContainer),Yn=(0,Zi.jg)(document.activeElement,Rn),pi=St.getFocus()[0],Si=this.viewModel[pi];let Hi=null;if("number"==typeof pi&&(Hi=St.getRelativeTop(pi)),this.viewModel.splice(k,Y,...Be),St.splice(k,Y,Be),St.layout(),0===this.viewModel.length)this.hide();else if("number"==typeof pi){let go=0;if(Si){let Wo=this.viewModel.indexOf(Si);-1===Wo&&(Wo=pi-1),Wo<this.viewModel.length&&Wo>=0&&(go=Wo)}"number"==typeof Hi&&St.reveal(go,Hi),St.setFocus([go])}this.isVisible&&Yn&&St.domFocus()}updateNotificationHeight(k){const Y=this.viewModel.indexOf(k);if(-1===Y)return;const[Be,St]=(0,ss.a)(this.list,this.listDelegate);Be.updateElementHeight(Y,St.getHeight(k)),Be.layout()}hide(){!this.isVisible||!this.list||(this.isVisible=!1,this.list.splice(0,this.viewModel.length),this.viewModel=[])}focusFirst(){!this.isVisible||!this.list||(this.list.focusFirst(),this.list.domFocus())}hasFocus(){return!(!this.isVisible||!this.listContainer)&&(0,Zi.jg)(document.activeElement,this.listContainer)}updateStyles(){if(this.listContainer){const k=this.getColor(gd);this.listContainer.style.color=k||"";const Y=this.getColor(ua);this.listContainer.style.background=Y||"";const Be=this.getColor(ao.lRK);this.listContainer.style.outlineColor=Be||""}}layout(k,Y){this.listContainer&&this.list&&(this.listContainer.style.width=`${k}px`,"number"==typeof Y&&(this.list.getHTMLElement().style.maxHeight=`${Y}px`),this.list.layout())}dispose(){this.hide(),super.dispose()}};hl=(0,Ii._)([(0,Ii.a)(2,Hr.TG),(0,Ii.a)(3,Is.XE),(0,Ii.a)(4,No.i)],hl),(0,Is.Ic)((He,k)=>{const Y=He.getColor(md);Y&&k.addRule(`.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a { color: ${Y}; }`);const Be=He.getColor(ao.R80);Be&&k.addRule(`\n\t\t.monaco-workbench .notifications-list-container .notification-list-item .notification-list-item-message a:focus {\n\t\t\toutline-color: ${Be};\n\t\t}`);const St=He.getColor(qd);St&&k.addRule(`\n\t\t.monaco-workbench .notifications-center ${os.lA.error.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${os.lA.error.cssSelector} {\n\t\t\tcolor: ${St};\n\t\t}`);const Rn=He.getColor(_d);Rn&&k.addRule(`\n\t\t.monaco-workbench .notifications-center ${os.lA.warning.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${os.lA.warning.cssSelector} {\n\t\t\tcolor: ${Rn};\n\t\t}`);const Yn=He.getColor(ec);Yn&&k.addRule(`\n\t\t.monaco-workbench .notifications-center ${os.lA.info.cssSelector},\n\t\t.monaco-workbench .notifications-toasts ${os.lA.info.cssSelector} {\n\t\t\tcolor: ${Yn};\n\t\t}`)});var $r=(()=>{return(He=$r||($r={}))[He.HIDDEN_OR_VISIBLE=0]="HIDDEN_OR_VISIBLE",He[He.HIDDEN=1]="HIDDEN",He[He.VISIBLE=2]="VISIBLE",$r;var He})();let Ha=class td extends Is.bB{constructor(k,Y,Be,St,Rn,Yn,pi,Si,Hi){super(Rn),this.container=k,this.model=Y,this.instantiationService=Be,this.layoutService=St,this.editorGroupService=Yn,this.contextKeyService=pi,this.lifecycleService=Si,this.hostService=Hi,this._onDidChangeVisibility=this._register(new Ii.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._isVisible=!1,this.mapNotificationToToast=new Map,this.mapNotificationToDisposable=new Map,this.notificationsToastsVisibleContextKey=Sa.bindTo(this.contextKeyService),this.addedToastsIntervalCounter=new $a.a(td.SPAM_PROTECTION.interval),this.registerListeners()}get isVisible(){return!!this._isVisible}registerListeners(){this._register(this.layoutService.onDidLayout(k=>this.layout(Zi.Ro.lift(k)))),this.lifecycleService.when(3).then(()=>{this.model.notifications.forEach(k=>this.addToast(k)),this._register(this.model.onDidChangeNotification(k=>this.onDidChangeNotification(k)))}),this._register(this.model.onDidChangeFilter(k=>{(k===Ii.f.SILENT||k===Ii.f.ERROR)&&this.hide()}))}onDidChangeNotification(k){switch(k.kind){case 0:return this.addToast(k.item);case 3:return this.removeToast(k.item)}}addToast(k){if(this.isNotificationsCenterVisible||k.silent||this.addedToastsIntervalCounter.increment()>td.SPAM_PROTECTION.limit)return;const Y=new us.SL;this.mapNotificationToDisposable.set(k,Y),Y.add((0,Zi.jL)(()=>this.doAddToast(k,Y)))}doAddToast(k,Y){let Be=this.notificationsToastsContainer;Be||(Be=this.notificationsToastsContainer=document.createElement("div"),Be.classList.add("notifications-toasts"),this.container.appendChild(Be)),Be.classList.add("visible");const St=document.createElement("div");St.classList.add("notification-toast-container");const Rn=Be.firstChild;Rn?Be.insertBefore(St,Rn):Be.appendChild(St);const Yn=document.createElement("div");Yn.classList.add("notification-toast"),St.appendChild(Yn);const pi=this.instantiationService.createInstance(hl,Yn,{verticalScrollMode:2,widgetAriaLabel:k.source?(0,Ti.NC)("notificationWithSourceAriaLabel","{0}, source: {1}, notification",k.message.raw,k.source):(0,Ti.NC)("notificationAriaLabel","{0}, notification",k.message.raw)});Y.add(pi);const Si={item:k,list:pi,container:St,toast:Yn};this.mapNotificationToToast.set(k,Si),Y.add((0,us.OF)(()=>this.updateToastVisibility(Si,!1))),pi.show();const Hi=this.computeMaxDimensions();this.layoutLists(Hi.width),pi.updateNotificationsList(0,0,[k]),this.layoutContainer(Hi.height),Y.add(k.onDidChangeExpansion(()=>{pi.updateNotificationsList(0,1,[k])})),Y.add(k.onDidChangeContent(go=>{switch(go.kind){case 2:pi.updateNotificationsList(0,1,[k]);break;case 1:k.expanded&&pi.updateNotificationHeight(k)}})),un.ju.once(k.onDidClose)(()=>{this.removeToast(k)}),this.purgeNotification(k,St,pi,Y),this.updateStyles(),this.notificationsToastsVisibleContextKey.set(!0),Yn.classList.add("notification-fade-in"),Y.add((0,Zi.nm)(Yn,"transitionend",()=>{Yn.classList.remove("notification-fade-in"),Yn.classList.add("notification-fade-in-done")})),k.updateVisibility(!0),this._isVisible||(this._isVisible=!0,this._onDidChangeVisibility.fire())}purgeNotification(k,Y,Be,St){let Yn,pi,Rn=!1;St.add((0,Zi.nm)(Y,Zi.tw.MOUSE_OVER,()=>Rn=!0)),St.add((0,Zi.nm)(Y,Zi.tw.MOUSE_OUT,()=>Rn=!1));const Si=()=>{Yn=setTimeout(()=>{this.hostService.hasFocus?k.sticky||Be.hasFocus()||Rn?Si():this.removeToast(k):pi||(pi=this.hostService.onDidChangeFocus(Hi=>{Hi&&Si()}),St.add(pi))},td.PURGE_TIMEOUT[k.severity])};Si(),St.add((0,us.OF)(()=>clearTimeout(Yn)))}removeToast(k){let Y=!1;const Be=this.mapNotificationToToast.get(k);Be&&((0,Zi.jg)(document.activeElement,Be.container)&&(Y=!(this.focusNext()||this.focusPrevious())),this.mapNotificationToToast.delete(k));const St=this.mapNotificationToDisposable.get(k);St&&((0,us.B9)(St),this.mapNotificationToDisposable.delete(k)),this.mapNotificationToToast.size>0?this.layout(this.workbenchDimensions):(this.doHide(),Y&&this.editorGroupService.activeGroup.focus())}removeToasts(){this.mapNotificationToToast.clear(),this.mapNotificationToDisposable.forEach(k=>(0,us.B9)(k)),this.mapNotificationToDisposable.clear(),this.doHide()}doHide(){this.notificationsToastsContainer?.classList.remove("visible"),this.notificationsToastsVisibleContextKey.set(!1),this._isVisible&&(this._isVisible=!1,this._onDidChangeVisibility.fire())}hide(){const k=!!this.notificationsToastsContainer&&(0,Zi.jg)(document.activeElement,this.notificationsToastsContainer);this.removeToasts(),k&&this.editorGroupService.activeGroup.focus()}focus(){const k=this.getToasts($r.VISIBLE);return k.length>0&&(k[0].list.focusFirst(),!0)}focusNext(){const k=this.getToasts($r.VISIBLE);for(let Y=0;Y<k.length;Y++)if(k[Y].list.hasFocus()){const St=k[Y+1];if(St)return St.list.focusFirst(),!0;break}return!1}focusPrevious(){const k=this.getToasts($r.VISIBLE);for(let Y=0;Y<k.length;Y++)if(k[Y].list.hasFocus()){const St=k[Y-1];if(St)return St.list.focusFirst(),!0;break}return!1}focusFirst(){const k=this.getToasts($r.VISIBLE)[0];return!!k&&(k.list.focusFirst(),!0)}focusLast(){const k=this.getToasts($r.VISIBLE);return k.length>0&&(k[k.length-1].list.focusFirst(),!0)}update(k){this.isNotificationsCenterVisible!==k&&(this.isNotificationsCenterVisible=k,this.isNotificationsCenterVisible&&this.removeToasts())}updateStyles(){this.mapNotificationToToast.forEach(({toast:k})=>{const Y=this.getColor(ua);k.style.background=Y||"";const Be=this.getColor(ao.rh);k.style.boxShadow=Be?`0 0 8px 2px ${Be}`:"";const St=this.getColor(Rc);k.style.border=St?`1px solid ${St}`:""})}getToasts(k){const Y=[];return this.mapNotificationToToast.forEach(Be=>{switch(k){case $r.HIDDEN_OR_VISIBLE:Y.push(Be);break;case $r.HIDDEN:this.isToastInDOM(Be)||Y.push(Be);break;case $r.VISIBLE:this.isToastInDOM(Be)&&Y.push(Be)}}),Y.reverse()}layout(k){this.workbenchDimensions=k;const Y=this.computeMaxDimensions();Y.height&&this.layoutContainer(Y.height),this.layoutLists(Y.width)}computeMaxDimensions(){const k=td.MAX_WIDTH;let Be,Y=k;return this.workbenchDimensions&&(Y=this.workbenchDimensions.width,Y-=16,Be=this.workbenchDimensions.height,this.layoutService.isVisible("workbench.parts.statusbar")&&(Be-=22),this.layoutService.isVisible("workbench.parts.titlebar")&&(Be-=22),Be-=24),Be="number"==typeof Be?Math.round(.618*Be):0,new Zi.Ro(Math.min(k,Y),Be)}layoutLists(k){this.mapNotificationToToast.forEach(({list:Y})=>Y.layout(k))}layoutContainer(k){let Y=0;for(const Be of this.getToasts($r.HIDDEN_OR_VISIBLE)){Be.container.style.opacity="0",this.updateToastVisibility(Be,!0),k-=Be.container.offsetHeight;let St=!1;Y===td.MAX_NOTIFICATIONS?St=!1:k>=0&&(St=!0),this.updateToastVisibility(Be,St),Be.container.style.opacity="",St&&Y++}}updateToastVisibility(k,Y){if(this.isToastInDOM(k)===Y)return;const Be=(0,vs.cW)(this.notificationsToastsContainer);Y?Be.appendChild(k.container):Be.removeChild(k.container),k.item.updateVisibility(Y)}isToastInDOM(k){return!!k.container.parentElement}};Ha.MAX_WIDTH=450,Ha.MAX_NOTIFICATIONS=3,Ha.PURGE_TIMEOUT={[ls.zb.Info]:15e3,[ls.zb.Warning]:18e3,[ls.zb.Error]:2e4},Ha.SPAM_PROTECTION={interval:800,limit:Ha.MAX_NOTIFICATIONS},Ha=(0,Ii._)([(0,Ii.a)(2,Hr.TG),(0,Ii.a)(3,Ra),(0,Ii.a)(4,Is.XE),(0,Ii.a)(5,ws.b),(0,Ii.a)(6,mi.i6),(0,Ii.a)(7,$a.b),(0,Ii.a)(8,ws.o)],Ha);let ql=class Cc extends us.JT{constructor(k){super(),this.storageService=k,this.model=this._register(new jl),this._onDidAddNotification=this._register(new Ii.E),this.onDidAddNotification=this._onDidAddNotification.event,this._onDidRemoveNotification=this._register(new Ii.E),this.onDidRemoveNotification=this._onDidRemoveNotification.event,this._onDidChangeDoNotDisturbMode=this._register(new Ii.E),this.onDidChangeDoNotDisturbMode=this._onDidChangeDoNotDisturbMode.event,this._doNotDisturbMode=this.storageService.getBoolean(Cc.DND_SETTINGS_KEY,-1,!1),this.updateDoNotDisturbFilters(),this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(k=>{switch(k.kind){case 0:case 3:{const Y={message:k.item.message.original,severity:k.item.severity,source:"string"==typeof k.item.sourceId&&"string"==typeof k.item.source?{id:k.item.sourceId,label:k.item.source}:k.item.source,silent:k.item.silent};0===k.kind&&this._onDidAddNotification.fire(Y),3===k.kind&&this._onDidRemoveNotification.fire(Y);break}}}))}get doNotDisturbMode(){return this._doNotDisturbMode}set doNotDisturbMode(k){this._doNotDisturbMode!==k&&(this.storageService.store(Cc.DND_SETTINGS_KEY,k,-1,1),this._doNotDisturbMode=k,this.updateDoNotDisturbFilters(),this._onDidChangeDoNotDisturbMode.fire())}updateDoNotDisturbFilters(){let k;k=this._doNotDisturbMode?Ii.f.ERROR:Ii.f.OFF,this.model.setFilter(k)}info(k){Array.isArray(k)?k.forEach(Y=>this.info(Y)):this.model.addNotification({severity:ls.zb.Info,message:k})}warn(k){Array.isArray(k)?k.forEach(Y=>this.warn(Y)):this.model.addNotification({severity:ls.zb.Warning,message:k})}error(k){Array.isArray(k)?k.forEach(Y=>this.error(Y)):this.model.addNotification({severity:ls.zb.Error,message:k})}notify(k){var Y=this;const Be=new us.SL;if(k.neverShowAgain){const Rn=this.toStorageScope(k.neverShowAgain),Yn=k.neverShowAgain.id;if(this.storageService.getBoolean(Yn,Rn))return new ls.EO;const pi=Be.add(new Us.aU("workbench.notification.neverShowAgain",(0,Ti.NC)("neverShowAgain","Don't Show Again"),void 0,!0,(0,cs.Z)(function*(){St.close(),Y.storageService.store(Yn,!0,Rn,0)}))),Si={primary:k.actions?.primary||[],secondary:k.actions?.secondary||[]};k.neverShowAgain.isSecondary?Si.secondary=[...Si.secondary,pi]:Si.primary=[pi,...Si.primary],k.actions=Si}const St=this.model.addNotification(k);return un.ju.once(St.onDidClose)(()=>Be.dispose()),St}toStorageScope(k){switch(k.scope){case Ii.g.APPLICATION:return-1;case Ii.g.PROFILE:return 0;case Ii.g.WORKSPACE:return 1;default:return-1}}prompt(k,Y,Be,St){const Rn=new us.SL;if(St?.neverShowAgain){const Wo=this.toStorageScope(St.neverShowAgain),Ds=St.neverShowAgain.id;if(this.storageService.getBoolean(Ds,Wo))return new ls.EO;const ds={label:(0,Ti.NC)("neverShowAgain","Don't Show Again"),run:()=>this.storageService.store(Ds,!0,Wo,0),isSecondary:St.neverShowAgain.isSecondary};Be=St.neverShowAgain.isSecondary?[...Be,ds]:[ds,...Be]}let Yn=!1;const pi=[],Si=[];Be.forEach((Wo,Ds)=>{const ds=new ea(`workbench.dialog.choice.${Ds}`,Wo);Wo.isSecondary?Si.push(ds):pi.push(ds),Rn.add(ds.onDidRun(()=>{Yn=!0,Wo.keepOpen||go.close()})),Rn.add(ds)});const go=this.notify({severity:k,message:Y,actions:{primary:pi,secondary:Si},sticky:St?.sticky,silent:St?.silent});return un.ju.once(go.onDidClose)(()=>{Rn.dispose(),St&&"function"==typeof St.onCancel&&!Yn&&St.onCancel()}),go}status(k,Y){return this.model.showStatusMessage(k,Y)}};ql.DND_SETTINGS_KEY="notifications.doNotDisturbMode",ql=(0,Ii._)([(0,Ii.a)(0,_s.Uy)],ql),ba("/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-workbench > .notifications-center {\n\tposition: absolute;\n\tz-index: 1000;\n\tright: 8px;\n\tbottom: 31px;\n\tdisplay: none;\n\toverflow: hidden;\n}\n\n.monaco-workbench.nostatusbar > .notifications-center {\n\tbottom: 8px;\n}\n\n.monaco-workbench > .notifications-center.visible {\n\tdisplay: block;\n}\n\n/* Header */\n\n.monaco-workbench > .notifications-center > .notifications-center-header {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-left: 8px;\n\tpadding-right: 5px;\n\theight: 35px;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-title {\n\ttext-transform: uppercase;\n\tfont-size: 11px;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar {\n\tflex: 1;\n}\n\n.monaco-workbench > .notifications-center > .notifications-center-header > .notifications-center-header-toolbar .actions-container {\n\tjustify-content: flex-end;\n}\n",{});let Ua=class bc extends Is.bB{constructor(k,Y,Be,St,Rn,Yn,pi,Si,Hi){super(Be),this.container=k,this.model=Y,this.instantiationService=St,this.layoutService=Rn,this.contextKeyService=Yn,this.editorGroupService=pi,this.keybindingService=Si,this.notificationService=Hi,this._onDidChangeVisibility=this._register(new Ii.E),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.notificationsCenterVisibleContextKey=wl.bindTo(this.contextKeyService),this.notificationsCenterVisibleContextKey=wl.bindTo(Yn),this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(k=>this.onDidChangeNotification(k))),this._register(this.layoutService.onDidLayout(k=>this.layout(Zi.Ro.lift(k)))),this._register(this.notificationService.onDidChangeDoNotDisturbMode(()=>this.onDidChangeDoNotDisturbMode()))}onDidChangeDoNotDisturbMode(){this.hide()}get isVisible(){return!!this._isVisible}show(){if(this._isVisible)return void(0,vs.cW)(this.notificationsList).show(!0);this.notificationsCenterContainer||this.create(),this.updateTitle();const[k,Y]=(0,ss.a)(this.notificationsList,this.notificationsCenterContainer);this._isVisible=!0,Y.classList.add("visible"),k.show(),this.layout(this.workbenchDimensions),k.updateNotificationsList(0,0,this.model.notifications),k.focusFirst(),this.updateStyles(),this.model.notifications.forEach(Be=>Be.updateVisibility(!0)),this.notificationsCenterVisibleContextKey.set(!0),this._onDidChangeVisibility.fire()}updateTitle(){const[k,Y]=(0,ss.a)(this.notificationsCenterTitle,this.clearAllAction);0===this.model.notifications.length?(k.textContent=(0,Ti.NC)("notificationsEmpty","No new notifications"),Y.enabled=!1):(k.textContent=(0,Ti.NC)("notifications","Notifications"),Y.enabled=this.model.notifications.some(Be=>!Be.hasProgress))}create(){this.notificationsCenterContainer=document.createElement("div"),this.notificationsCenterContainer.classList.add("notifications-center"),this.notificationsCenterHeader=document.createElement("div"),this.notificationsCenterHeader.classList.add("notifications-center-header"),this.notificationsCenterContainer.appendChild(this.notificationsCenterHeader),this.notificationsCenterTitle=document.createElement("span"),this.notificationsCenterTitle.classList.add("notifications-center-header-title"),this.notificationsCenterHeader.appendChild(this.notificationsCenterTitle);const k=document.createElement("div");k.classList.add("notifications-center-header-toolbar"),this.notificationsCenterHeader.appendChild(k);const Y=this._register(this.instantiationService.createInstance(xl)),Be=this._register(new rl.o(k,{ariaLabel:(0,Ti.NC)("notificationsToolbar","Notification Center Actions"),actionRunner:Y}));this.clearAllAction=this._register(this.instantiationService.createInstance(Ba,Ba.ID,Ba.LABEL)),Be.push(this.clearAllAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.clearAllAction)}),this.toggleDoNotDisturbAction=this._register(this.instantiationService.createInstance(Wa,Wa.ID,Wa.LABEL)),Be.push(this.toggleDoNotDisturbAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.toggleDoNotDisturbAction)});const St=this._register(this.instantiationService.createInstance(na,na.ID,na.LABEL));Be.push(St,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(St)}),this.notificationsList=this.instantiationService.createInstance(hl,this.notificationsCenterContainer,{widgetAriaLabel:(0,Ti.NC)("notificationsCenterWidgetAriaLabel","Notifications Center")}),this.container.appendChild(this.notificationsCenterContainer)}getKeybindingLabel(k){const Y=this.keybindingService.lookupKeybinding(k.id);return Y?Y.getLabel():null}onDidChangeNotification(k){if(!this._isVisible)return;let Y=!1;const[Be,St]=(0,ss.a)(this.notificationsList,this.notificationsCenterContainer);switch(k.kind){case 0:Be.updateNotificationsList(k.index,0,[k.item]),k.item.updateVisibility(!0);break;case 1:switch(k.detail){case 2:Be.updateNotificationsList(k.index,1,[k.item]);break;case 1:k.item.expanded&&Be.updateNotificationHeight(k.item)}break;case 2:Be.updateNotificationsList(k.index,1,[k.item]);break;case 3:Y=(0,Zi.jg)(document.activeElement,St),Be.updateNotificationsList(k.index,1),k.item.updateVisibility(!1)}this.updateTitle(),0===this.model.notifications.length&&(this.hide(),Y&&this.editorGroupService.activeGroup.focus())}hide(){if(!this._isVisible||!this.notificationsCenterContainer||!this.notificationsList)return;const k=(0,Zi.jg)(document.activeElement,this.notificationsCenterContainer);this._isVisible=!1,this.notificationsCenterContainer.classList.remove("visible"),this.notificationsList.hide(),this.model.notifications.forEach(Y=>Y.updateVisibility(!1)),this.notificationsCenterVisibleContextKey.set(!1),this._onDidChangeVisibility.fire(),k&&this.editorGroupService.activeGroup.focus()}updateStyles(){if(this.notificationsCenterContainer&&this.notificationsCenterHeader){const k=this.getColor(ao.rh);this.notificationsCenterContainer.style.boxShadow=k?`0 0 8px 2px ${k}`:"";const Y=this.getColor(Dr);this.notificationsCenterContainer.style.border=Y?`1px solid ${Y}`:"";const Be=this.getColor(dl);this.notificationsCenterHeader.style.color=Be?Be.toString():"";const St=this.getColor(Sl);this.notificationsCenterHeader.style.background=St?St.toString():""}}layout(k){if(this.workbenchDimensions=k,this._isVisible&&this.notificationsCenterContainer){const Y=bc.MAX_DIMENSIONS.width,Be=bc.MAX_DIMENSIONS.height;let St=Y,Rn=Be;this.workbenchDimensions&&(St=this.workbenchDimensions.width,St-=16,Rn=this.workbenchDimensions.height-35,this.layoutService.isVisible("workbench.parts.statusbar")&&(Rn-=22),this.layoutService.isVisible("workbench.parts.titlebar")&&(Rn-=22),Rn-=24),(0,vs.cW)(this.notificationsList).layout(Math.min(Y,St),Math.min(Be,Rn))}}clearAll(){this.hide();for(const k of[...this.model.notifications])k.hasProgress||k.close()}};Ua.MAX_DIMENSIONS=new Zi.Ro(450,400),Ua=(0,Ii._)([(0,Ii.a)(2,Is.XE),(0,Ii.a)(3,Hr.TG),(0,Ii.a)(4,Ra),(0,Ii.a)(5,mi.i6),(0,Ii.a)(6,ws.b),(0,Ii.a)(7,Na.d),(0,Ii.a)(8,ls.lT)],Ua),(0,Is.Ic)((He,k)=>{const Y=He.getColor(pd);Y&&k.addRule(`.monaco-workbench > .notifications-center .notifications-list-container .monaco-list-row[data-last-element="false"] > .notification-list-item { border-bottom: 1px solid ${Y}; }`)});class lc extends us.JT{constructor(k){super(),this.model=k;for(const Y of k.notifications)this.triggerAriaAlert(Y);this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(k=>this.onDidChangeNotification(k)))}onDidChangeNotification(k){0===k.kind&&(this.triggerAriaAlert(k.item),k.item.severity===ls.zb.Error&&(k.item.message.original instanceof Error?console.error(k.item.message.original):console.error((0,$n.y)(k.item.message.linkedText.toString(),!0))))}triggerAriaAlert(k){if(k.silent)return;const Y=k.onDidChangeContent(Be=>{1===Be.kind&&this.doTriggerAriaAlert(k)});un.ju.once(k.onDidClose)(()=>Y.dispose()),this.doTriggerAriaAlert(k)}doTriggerAriaAlert(k){let Y;Y=k.severity===ls.zb.Error?(0,Ti.NC)("alertErrorMessage","Error: {0}",k.message.linkedText.toString()):k.severity===ls.zb.Warning?(0,Ti.NC)("alertWarningMessage","Warning: {0}",k.message.linkedText.toString()):(0,Ti.NC)("alertInfoMessage","Info: {0}",k.message.linkedText.toString()),(0,Qo.Z9)(Y)}}function dc(He){const k=He.invokeFunction(Rn=>Rn.get(Jr.F)).container,Y=He.invokeFunction(Rn=>Rn.get(ls.lT)).model,Be=He.createInstance(Ua,k,Y),St=He.createInstance(Ha,k,Y);He.createInstance(lc,Y),He.createInstance(Gl),function Xa(He,k,Y){function Be(Rn,Yn){if(bd(Yn))return Yn;const pi=Rn.lastFocusedList;if(pi instanceof eo.ev){const Si=pi.getFocusedElements()[0];if(bd(Si))return Si}}Ui.W.registerCommandAndKeybindingRule({id:Dl,weight:250,when:wl,primary:9,handler:Rn=>{const Yn=Rn.get(Xr.b);for(const pi of Y.notifications)pi.visible&&Yn.publicLog2("notification:hide",cl(pi.message.original,pi.sourceId,pi.silent));He.hide()}}),Ui.W.registerCommandAndKeybindingRule({id:El,weight:200,when:ta,primary:20,mac:{primary:2049},handler:(Rn,Yn)=>{const pi=Be(Rn.get(eo.Lw),Yn);pi&&!pi.hasProgress&&pi.close()}}),Ui.W.registerCommandAndKeybindingRule({id:ul,weight:200,when:ta,primary:17,handler:(Rn,Yn)=>{const pi=Be(Rn.get(eo.Lw),Yn);pi&&pi.expand()}}),Ui.W.registerCommandAndKeybindingRule({id:Ql,weight:200,when:ta,primary:15,handler:(Rn,Yn)=>{const pi=Be(Rn.get(eo.Lw),Yn);pi&&pi.collapse()}}),Ui.W.registerCommandAndKeybindingRule({id:"notification.toggle",weight:200,when:ta,primary:10,secondary:[3],handler:Rn=>{const Yn=Be(Rn.get(eo.Lw));Yn&&Yn.toggle()}}),Ui.W.registerKeybindingRule({id:yd,weight:150,when:Sa,primary:9}),Ui.W.registerKeybindingRule({id:yd,weight:300,when:mi.Ao.and(Sa,ta),primary:9}),Ui.W.registerCommandAndKeybindingRule({id:"notifications.focusNextToast",weight:200,when:mi.Ao.and(ta,Sa),primary:18,handler:Rn=>{k.focusNext()}}),Ui.W.registerCommandAndKeybindingRule({id:"notifications.focusPreviousToast",weight:200,when:mi.Ao.and(ta,Sa),primary:16,handler:Rn=>{k.focusPrevious()}}),Ui.W.registerCommandAndKeybindingRule({id:"notifications.focusFirstToast",weight:200,when:mi.Ao.and(ta,Sa),primary:11,secondary:[14],handler:Rn=>{k.focusFirst()}}),Ui.W.registerCommandAndKeybindingRule({id:"notifications.focusLastToast",weight:200,when:mi.Ao.and(ta,Sa),primary:12,secondary:[13],handler:Rn=>{k.focusLast()}});const St={value:(0,Ti.NC)("notifications","Notifications"),original:"Notifications"};zi.BH.appendMenuItem(zi.eH.CommandPalette,{command:{id:"notifications.showList",title:{value:(0,Ti.NC)("showNotifications","Show Notifications"),original:"Show Notifications"},category:St}}),zi.BH.appendMenuItem(zi.eH.CommandPalette,{command:{id:Dl,title:{value:(0,Ti.NC)("hideNotifications","Hide Notifications"),original:"Hide Notifications"},category:St},when:wl}),zi.BH.appendMenuItem(zi.eH.CommandPalette,{command:{id:vr,title:{value:(0,Ti.NC)("clearAllNotifications","Clear All Notifications"),original:"Clear All Notifications"},category:St}}),zi.BH.appendMenuItem(zi.eH.CommandPalette,{command:{id:Yl,title:{value:(0,Ti.NC)("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode"),original:"Toggle Do Not Disturb Mode"},category:St}}),zi.BH.appendMenuItem(zi.eH.CommandPalette,{command:{id:"notifications.focusToasts",title:{value:(0,Ti.NC)("focusNotificationToasts","Focus Notification Toast"),original:"Focus Notification Toast"},category:St},when:Sa})}(Be,St,Y),St.layout((0,Zi.D6)(k)),He.createInstance(yt)}function cc(He){return va(dc),{[ls.lT.toString()]:new Ar.M(ql),...an(He)}}var uc=e(48648);class Ud extends us.JT{constructor(){super(...arguments),this.dialogs=[],this._onWillShowDialog=this._register(new Ii.E),this.onWillShowDialog=this._onWillShowDialog.event,this._onDidShowDialog=this._register(new Ii.E),this.onDidShowDialog=this._onDidShowDialog.event}show(k){const Y=new uc.CR,Be={args:k,close:St=>{this.dialogs.splice(0,1),Y.complete(St),this._onDidShowDialog.fire()}};return this.dialogs.push(Be),this._onWillShowDialog.fire(),{item:Be,result:Y.p}}}let Dd=class extends us.JT{constructor(k,Y){super(),this.environmentService=k,this.logService=Y,this.model=this._register(new Ud),this.onWillShowDialog=this.model.onWillShowDialog,this.onDidShowDialog=this.model.onDidShowDialog}skipDialogs(){return!(!this.environmentService.isExtensionDevelopment||!this.environmentService.extensionTestsLocationURI)||!!this.environmentService.enableSmokeTestDriver}confirm(k){var Y=this;return(0,cs.Z)(function*(){return Y.skipDialogs()?(Y.logService.trace("DialogService: refused to show confirmation dialog in tests."),{confirmed:!0}):yield Y.model.show({confirmArgs:{confirmation:k}}).result})()}show(k,Y,Be,St){var Rn=this;return(0,cs.Z)(function*(){if(Rn.skipDialogs())throw new Error("DialogService: refused to show dialog in tests.");return yield Rn.model.show({showArgs:{severity:k,message:Y,buttons:Be,options:St}}).result})()}input(k,Y,Be,St,Rn){var Yn=this;return(0,cs.Z)(function*(){if(Yn.skipDialogs())throw new Error("DialogService: refused to show input dialog in tests.");return yield Yn.model.show({inputArgs:{severity:k,message:Y,buttons:Be,inputs:St,options:Rn}}).result})()}about(){var k=this;return(0,cs.Z)(function*(){if(k.skipDialogs())throw new Error("DialogService: refused to show about dialog in tests.");yield k.model.show({}).result})()}};function Ed(He){He.createInstance(yt)}function Uo(He){return va(Ed),{[zr.S.toString()]:new Ar.M(Dd),...an(He)}}Dd=(0,Ii._)([(0,Ii.a)(0,ws.j),(0,Ii.a)(1,al.VZ)],Dd),Mr.IO.initialize({...function hc(He){return{...cc(He),...Uo(He)}}(document.body)}),function rd(He,k,Y){const Be=self,St={basePath:k,workerPath:He,workerOptions:{type:Y?"module":"classic"}};Be.MonacoEnvironment||(Be.MonacoEnvironment={workerOverrideGlobals:St}),Be.MonacoEnvironment.getWorker=(Yn,pi)=>{console.log("getWorker: workerId: "+Yn+" label: "+pi);const Si=(Hi,go,Wo,Ds)=>{Hi.workerOptions.name=go;const Cs=`${Hi.workerPath}/${"module"===Hi.workerOptions.type?`${Wo}-es.js`:`${Wo}-iife.js`}`,Er=new URL(Cs,Hi.basePath);return console.log(`${Ds}: url: ${Er.href} created from basePath: ${Hi.basePath} and file: ${Cs}`),new Worker(Er.href,Hi.workerOptions)};switch(pi){case"typescript":case"javascript":return Si(St,pi,"tsWorker","TS Worker");case"html":case"handlebars":case"razor":return Si(St,pi,"htmlWorker","HTML Worker");case"css":case"scss":case"less":return Si(St,pi,"cssWorker","CSS Worker");case"json":return Si(St,pi,"jsonWorker","JSON Worker");default:return Si(St,pi,"editorWorker","Editor Worker")}}}("./assets/monaco-editor-workers/workers",document.baseURI,!1),pn.languages.register({id:"dyvil",aliases:["Dyvil"],extensions:[".dyv"]}),pn.languages.setMonarchTokensProvider("dyvil",{keywords:"class|var|init|func|true|false|this|super".split("|"),typeKeywords:["boolean","int","void","string"],operators:/[+\-*/%&|<>!:^=]+/,escapes:/\\./,tokenizer:{root:[[/[a-z][A-Za-z0-9_]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][A-Za-z0-9_]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@operators/,"operator"],[/[+-]?\d+\.\d+/,"number.float"],[/[+-]?\d+/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}});const Ld=["container"];class Tl{constructor(){this.language="dyvil",this.codeChanged=new t.vpe}ngAfterViewInit(){var k=this;return(0,cs.Z)(function*(){if(k.editor=pn.editor.create(k.container.nativeElement,{value:k.code,language:k.language,theme:"vs-dark",glyphMargin:!0,lightbulb:{enabled:!0},automaticLayout:!0}),k.editor.onDidChangeModelContent(()=>{k.editor&&k.codeChanged.next(k.editor.getValue())}),"dyvil"===k.language){Ka.install(),k.worker=new Worker(e.tu(new URL(e.p+e.u(433),e.b)));const Be=new rr.BrowserMessageReader(k.worker),St=new rr.BrowserMessageWriter(k.worker);k.lspClient=function fc(He){return new Bo({name:"Dyvil Language Client",clientOptions:{documentSelector:[{language:"dyvil"}],errorHandler:{error:()=>({action:kn._X.Continue}),closed:()=>({action:kn.UY.DoNotRestart})}},connectionProvider:{get:()=>Promise.resolve(He)}})}({reader:Be,writer:St}),k.lspClient.start(),Be.onClose(()=>k.lspClient?.stop())}})()}ngOnChanges(k){k.code&&this.editor?.setValue(k.code.currentValue)}ngOnDestroy(){var k=this;return(0,cs.Z)(function*(){k.editor?.dispose(),yield k.lspClient?.stop(),k.worker?.terminate()})()}}Tl.\u0275fac=function(k){return new(k||Tl)},Tl.\u0275cmp=t.Xpm({type:Tl,selectors:[["stc-editor"]],viewQuery:function(k,Y){if(1&k&&t.Gf(Ld,7),2&k){let Be;t.iGM(Be=t.CRH())&&(Y.container=Be.first)}},inputs:{language:"language",code:"code"},outputs:{codeChanged:"codeChanged"},features:[t.TTD],decls:2,vars:0,consts:[[2,"height","100vh"],["container",""]],template:function(k,Y){1&k&&t._UZ(0,"div",0,1)}});const xd=["editor"];class uo{constructor(k){this.http=k,this.code="",this.compiled="class Foo {}",this.compile$=new qo.x}ngOnInit(){this.http.get("assets/examples/Greeter.dyv",{responseType:"text"}).subscribe(Y=>{this.code=Y}),this.compile$.pipe(function Xt(He,k=Pe){return(0,xt.e)((Y,Be)=>{let St=null,Rn=null,Yn=null;const pi=()=>{if(St){St.unsubscribe(),St=null;const Hi=Rn;Rn=null,Be.next(Hi)}};function Si(){const Hi=Yn+He,go=k.now();if(go<Hi)return St=this.schedule(void 0,Hi-go),void Be.add(St);pi()}Y.subscribe((0,je.x)(Be,Hi=>{Rn=Hi,Yn=k.now(),St||(St=k.schedule(Si,He),Be.add(St))},()=>{pi(),Be.complete()},void 0,()=>{Rn=St=null}))})}(400)).subscribe(Y=>{this.compile(Y).then(Be=>this.compiled=Be)}),this.worker=new Worker(e.tu(new URL(e.p+e.u(702),e.b)))}compile(k){var Y=this;return(0,cs.Z)(function*(){return new Promise((Be,St)=>{!Y.worker||(Y.worker.postMessage({compile:k}),Y.worker.addEventListener("message",Rn=>{const Yn=Rn.data.compiled;Yn&&Be(Yn)}))})})()}}uo.\u0275fac=function(k){return new(k||uo)(t.Y36(j))},uo.\u0275cmp=t.Xpm({type:uo,selectors:[["stc-playground"]],viewQuery:function(k,Y){if(1&k&&t.Gf(xd,7),2&k){let Be;t.iGM(Be=t.CRH())&&(Y.editor=Be.first)}},decls:4,vars:2,consts:[[2,"display","flex"],[2,"width","50%",3,"code","codeChanged"],["editor",""],["language","javascript",2,"width","50%",3,"code"]],template:function(k,Y){1&k&&(t.TgZ(0,"div",0)(1,"stc-editor",1,2),t.NdJ("codeChanged",function(St){return Y.compile$.next(St)}),t.qZA(),t._UZ(3,"stc-editor",3),t.qZA()),2&k&&(t.xp6(1),t.Q6J("code",Y.code),t.xp6(2),t.Q6J("code",Y.compiled))},dependencies:[Tl]});const gc=[{path:"",component:uo}];class fl{}fl.\u0275fac=function(k){return new(k||fl)},fl.\u0275mod=t.oAB({type:fl}),fl.\u0275inj=t.cJS({imports:[Gi.Bz.forChild(gc),Gi.Bz]});class Da{}Da.\u0275fac=function(k){return new(k||Da)},Da.\u0275mod=t.oAB({type:Da}),Da.\u0275inj=t.cJS({imports:[d.ez,aa,fl,Bt]})},28982:Et=>{"use strict";function X(t,l,S){t instanceof RegExp&&(t=e(t,S)),l instanceof RegExp&&(l=e(l,S));var v=d(t,l,S);return v&&{start:v[0],end:v[1],pre:S.slice(0,v[0]),body:S.slice(v[0]+t.length,v[1]),post:S.slice(v[1]+l.length)}}function e(t,l){var S=l.match(t);return S?S[0]:null}function d(t,l,S){var v,T,C,E,L,_=S.indexOf(t),s=S.indexOf(l,_+1),m=_;if(_>=0&&s>0){if(t===l)return[_,s];for(v=[],C=S.length;m>=0&&!L;)m==_?(v.push(m),_=S.indexOf(t,m+1)):1==v.length?L=[v.pop(),s]:((T=v.pop())<C&&(C=T,E=s),s=S.indexOf(l,m+1)),m=_<s&&_>=0?_:s;v.length&&(L=[C,E])}return L}Et.exports=X,X.range=d},7238:(Et,X,e)=>{var d=e(44327),t=e(28982);Et.exports=function m(b){return b?("{}"===b.substr(0,2)&&(b="\\{\\}"+b.substr(2)),g(function L(b){return b.split("\\\\").join(l).split("\\{").join(S).split("\\}").join(v).split("\\,").join(T).split("\\.").join(C)}(b),!0).map(_)):[]};var l="\0SLASH"+Math.random()+"\0",S="\0OPEN"+Math.random()+"\0",v="\0CLOSE"+Math.random()+"\0",T="\0COMMA"+Math.random()+"\0",C="\0PERIOD"+Math.random()+"\0";function E(b){return parseInt(b,10)==b?parseInt(b,10):b.charCodeAt(0)}function _(b){return b.split(l).join("\\").split(S).join("{").split(v).join("}").split(T).join(",").split(C).join(".")}function s(b){if(!b)return[""];var y=[],D=t("{","}",b);if(!D)return b.split(",");var I=D.body,P=D.post,O=D.pre.split(",");O[O.length-1]+="{"+I+"}";var H=s(P);return P.length&&(O[O.length-1]+=H.shift(),O.push.apply(O,H)),y.push.apply(y,O),y}function n(b){return"{"+b+"}"}function a(b){return/^-?0\d/.test(b)}function p(b,y){return b<=y}function u(b,y){return b>=y}function g(b,y){var D=[],w=t("{","}",b);if(!w||/\$$/.test(w.pre))return[b];var U,I=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(w.body),P=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(w.body),O=I||P,H=w.body.indexOf(",")>=0;if(!O&&!H)return w.post.match(/,.*\}/)?g(b=w.pre+"{"+w.body+v+w.post):[b];if(O)U=w.body.split(/\.\./);else if(1===(U=s(w.body)).length&&1===(U=g(U[0],!1).map(n)).length)return(F=w.post.length?g(w.post,!1):[""]).map(function(xe){return w.pre+U[0]+xe});var B,K=w.pre,F=w.post.length?g(w.post,!1):[""];if(O){var z=E(U[0]),$=E(U[1]),j=Math.max(U[0].length,U[1].length),ne=3==U.length?Math.abs(E(U[2])):1,N=p;$<z&&(ne*=-1,N=u);var Z=U.some(a);B=[];for(var fe=z;N(fe,$);fe+=ne){var M;if(P)"\\"===(M=String.fromCharCode(fe))&&(M="");else if(M=String(fe),Z){var Se=j-M.length;if(Se>0){var Ee=new Array(Se+1).join("0");M=fe<0?"-"+Ee+M.slice(1):Ee+M}}B.push(M)}}else B=d(U,function(we){return g(we,!1)});for(var Le=0;Le<B.length;Le++)for(var Ne=0;Ne<F.length;Ne++){var oe=K+B[Le]+F[Ne];(!y||O||oe)&&D.push(oe)}return D}},44327:Et=>{Et.exports=function(e,d){for(var t=[],l=0;l<e.length;l++){var S=d(e[l],l);X(S)?t.push.apply(t,S):t.push(S)}return t};var X=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},22521:Et=>{"use strict";Et.exports=function(X){var e=[];return e.toString=function(){return this.map(function(t){var l="",S=typeof t[5]<"u";return t[4]&&(l+="@supports (".concat(t[4],") {")),t[2]&&(l+="@media ".concat(t[2]," {")),S&&(l+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),l+=X(t),S&&(l+="}"),t[2]&&(l+="}"),t[4]&&(l+="}"),l}).join("")},e.i=function(t,l,S,v,T){"string"==typeof t&&(t=[[null,t,void 0]]);var C={};if(S)for(var E=0;E<this.length;E++){var L=this[E][0];null!=L&&(C[L]=!0)}for(var _=0;_<t.length;_++){var s=[].concat(t[_]);S&&C[s[0]]||(typeof T<"u"&&(typeof s[5]>"u"||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=T),l&&(s[2]&&(s[1]="@media ".concat(s[2]," {").concat(s[1],"}")),s[2]=l),v&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=v):s[4]="".concat(v)),e.push(s))}},e}},35887:Et=>{"use strict";Et.exports=function(X){return X[1]}},34916:(Et,X,e)=>{Et.exports=n,n.Minimatch=a;var d=function(){try{return e(15289)}catch{}}()||{sep:"/"};n.sep=d.sep;var t=n.GLOBSTAR=a.GLOBSTAR={},l=e(7238),S={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},v="[^/]",T=v+"*?",L=function _(H){return H.split("").reduce(function(U,K){return U[K]=!0,U},{})}("().*{}+?[]^$\\!"),s=/\/+/;function c(H,U){U=U||{};var K={};return Object.keys(H).forEach(function(F){K[F]=H[F]}),Object.keys(U).forEach(function(F){K[F]=U[F]}),K}function n(H,U,K){return y(U),K||(K={}),!(!K.nocomment&&"#"===U.charAt(0))&&new a(U,K).match(H)}function a(H,U){if(!(this instanceof a))return new a(H,U);y(H),U||(U={}),H=H.trim(),!U.allowWindowsEscape&&"/"!==d.sep&&(H=H.split(d.sep).join("/")),this.options=U,this.set=[],this.pattern=H,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!U.partial,this.make()}function g(H,U){return U||(U=this instanceof a?this.options:{}),y(H=typeof H>"u"?this.pattern:H),U.nobrace||!/\{(?:(?!\{).)*\}/.test(H)?[H]:l(H)}n.filter=function m(H,U){return U=U||{},function(K,F,B){return n(K,H,U)}},n.defaults=function(H){if(!H||"object"!=typeof H||!Object.keys(H).length)return n;var U=n,K=function(B,z,$){return U(B,z,c(H,$))};return(K.Minimatch=function(B,z){return new U.Minimatch(B,c(H,z))}).defaults=function(B){return U.defaults(c(H,B)).Minimatch},K.filter=function(B,z){return U.filter(B,c(H,z))},K.defaults=function(B){return U.defaults(c(H,B))},K.makeRe=function(B,z){return U.makeRe(B,c(H,z))},K.braceExpand=function(B,z){return U.braceExpand(B,c(H,z))},K.match=function(F,B,z){return U.match(F,B,c(H,z))},K},a.defaults=function(H){return n.defaults(H).Minimatch},a.prototype.debug=function(){},a.prototype.make=function p(){var H=this.pattern,U=this.options;if(U.nocomment||"#"!==H.charAt(0))if(H){this.parseNegate();var K=this.globSet=this.braceExpand();U.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,K),K=this.globParts=K.map(function(F){return F.split(s)}),this.debug(this.pattern,K),K=K.map(function(F,B,z){return F.map(this.parse,this)},this),this.debug(this.pattern,K),K=K.filter(function(F){return-1===F.indexOf(!1)}),this.debug(this.pattern,K),this.set=K}else this.empty=!0;else this.comment=!0},a.prototype.parseNegate=function u(){var H=this.pattern,U=!1,F=0;if(!this.options.nonegate){for(var B=0,z=H.length;B<z&&"!"===H.charAt(B);B++)U=!U,F++;F&&(this.pattern=H.substr(F)),this.negate=U}},n.braceExpand=function(H,U){return g(H,U)},a.prototype.braceExpand=g;var y=function(H){if("string"!=typeof H)throw new TypeError("invalid pattern");if(H.length>65536)throw new TypeError("pattern is too long")};a.prototype.parse=function w(H,U){y(H);var K=this.options;if("**"===H){if(!K.noglobstar)return t;H="*"}if(""===H)return"";var ne,F="",B=!!K.nocase,z=!1,$=[],j=[],N=!1,V=-1,Z=-1,fe="."===H.charAt(0)?"":K.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",M=this;function Se(){if(ne){switch(ne){case"*":F+=T,B=!0;break;case"?":F+=v,B=!0;break;default:F+="\\"+ne}M.debug("clearStateChar %j %j",ne,F),ne=!1}}for(var Ne,Ee=0,Le=H.length;Ee<Le&&(Ne=H.charAt(Ee));Ee++)if(this.debug("%s\t%s %s %j",H,Ee,F,Ne),z&&L[Ne])F+="\\"+Ne,z=!1;else switch(Ne){case"/":return!1;case"\\":Se(),z=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",H,Ee,F,Ne),N){this.debug("  in class"),"!"===Ne&&Ee===Z+1&&(Ne="^"),F+=Ne;continue}M.debug("call clearStateChar %j",ne),Se(),ne=Ne,K.noext&&Se();continue;case"(":if(N){F+="(";continue}if(!ne){F+="\\(";continue}$.push({type:ne,start:Ee-1,reStart:F.length,open:S[ne].open,close:S[ne].close}),this.debug("plType %j %j",ne,F+="!"===ne?"(?:(?!(?:":"(?:"),ne=!1;continue;case")":if(N||!$.length){F+="\\)";continue}Se(),B=!0;var oe=$.pop();F+=oe.close,"!"===oe.type&&j.push(oe),oe.reEnd=F.length;continue;case"|":if(N||!$.length||z){F+="\\|",z=!1;continue}Se(),F+="|";continue;case"[":if(Se(),N){F+="\\"+Ne;continue}N=!0,Z=Ee,V=F.length,F+=Ne;continue;case"]":if(Ee===Z+1||!N){F+="\\"+Ne,z=!1;continue}var we=H.substring(Z+1,Ee);try{RegExp("["+we+"]")}catch{var xe=this.parse(we,D);F=F.substr(0,V)+"\\["+xe[0]+"\\]",B=B||xe[1],N=!1;continue}B=!0,N=!1,F+=Ne;continue;default:Se(),z?z=!1:L[Ne]&&!("^"===Ne&&N)&&(F+="\\"),F+=Ne}for(N&&(we=H.substr(Z+1),xe=this.parse(we,D),F=F.substr(0,V)+"\\["+xe[0],B=B||xe[1]),oe=$.pop();oe;oe=$.pop()){var pe=F.slice(oe.reStart+oe.open.length);this.debug("setting tail",F,oe),pe=pe.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(le,Q,ve){return ve||(ve="\\"),Q+Q+ve+"|"}),this.debug("tail=%j\n   %s",pe,pe,oe,F);var Te="*"===oe.type?T:"?"===oe.type?v:"\\"+oe.type;B=!0,F=F.slice(0,oe.reStart)+Te+"\\("+pe}Se(),z&&(F+="\\\\");var de=!1;switch(F.charAt(0)){case"[":case".":case"(":de=!0}for(var ke=j.length-1;ke>-1;ke--){var ze=j[ke],$e=F.slice(0,ze.reStart),ce=F.slice(ze.reStart,ze.reEnd-8),Ue=F.slice(ze.reEnd-8,ze.reEnd),nt=F.slice(ze.reEnd);Ue+=nt;var Dt=$e.split("(").length-1,Lt=nt;for(Ee=0;Ee<Dt;Ee++)Lt=Lt.replace(/\)[+*?]?/,"");var Ze="";""===(nt=Lt)&&U!==D&&(Ze="$"),F=$e+ce+nt+Ze+Ue}if(""!==F&&B&&(F="(?=.)"+F),de&&(F=fe+F),U===D)return[F,B];if(!B)return function P(H){return H.replace(/\\(.)/g,"$1")}(H);var _e=K.nocase?"i":"";try{var he=new RegExp("^"+F+"$",_e)}catch{return new RegExp("$.")}return he._glob=H,he._src=F,he};var D={};n.makeRe=function(H,U){return new a(H,U||{}).makeRe()},a.prototype.makeRe=function I(){if(this.regexp||!1===this.regexp)return this.regexp;var H=this.set;if(!H.length)return this.regexp=!1,this.regexp;var U=this.options,K=U.noglobstar?T:U.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",F=U.nocase?"i":"",B=H.map(function(z){return z.map(function($){return $===t?K:"string"==typeof $?function O(H){return H.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}($):$._src}).join("\\/")}).join("|");B="^(?:"+B+")$",this.negate&&(B="^(?!"+B+").*$");try{this.regexp=new RegExp(B,F)}catch{this.regexp=!1}return this.regexp},n.match=function(H,U,K){var F=new a(U,K=K||{});return H=H.filter(function(B){return F.match(B)}),F.options.nonull&&!H.length&&H.push(U),H},a.prototype.match=function(U,K){if(typeof K>"u"&&(K=this.partial),this.debug("match",U,this.pattern),this.comment)return!1;if(this.empty)return""===U;if("/"===U&&K)return!0;var F=this.options;"/"!==d.sep&&(U=U.split(d.sep).join("/")),U=U.split(s),this.debug(this.pattern,"split",U);var z,$,B=this.set;for(this.debug(this.pattern,"set",B),$=U.length-1;$>=0&&!(z=U[$]);$--);for($=0;$<B.length;$++){var j=B[$],ne=U;if(F.matchBase&&1===j.length&&(ne=[z]),this.matchOne(ne,j,K))return!!F.flipNegate||!this.negate}return!F.flipNegate&&this.negate},a.prototype.matchOne=function(H,U,K){var F=this.options;this.debug("matchOne",{this:this,file:H,pattern:U}),this.debug("matchOne",H.length,U.length);for(var B=0,z=0,$=H.length,j=U.length;B<$&&z<j;B++,z++){this.debug("matchOne loop");var M,ne=U[z],N=H[B];if(this.debug(U,ne,N),!1===ne)return!1;if(ne===t){this.debug("GLOBSTAR",[U,ne,N]);var V=B,Z=z+1;if(Z===j){for(this.debug("** at the end");B<$;B++)if("."===H[B]||".."===H[B]||!F.dot&&"."===H[B].charAt(0))return!1;return!0}for(;V<$;){var fe=H[V];if(this.debug("\nglobstar while",H,V,U,Z,fe),this.matchOne(H.slice(V),U.slice(Z),K))return this.debug("globstar found match!",V,$,fe),!0;if("."===fe||".."===fe||!F.dot&&"."===fe.charAt(0)){this.debug("dot detected!",H,V,U,Z);break}this.debug("globstar swallow a segment, and continue"),V++}return!(!K||(this.debug("\n>>> no match, partial?",H,V,U,Z),V!==$))}if("string"==typeof ne?this.debug("string match",ne,N,M=N===ne):(M=N.match(ne),this.debug("pattern match",ne,N,M)),!M)return!1}if(B===$&&z===j)return!0;if(B===$)return K;if(z===j)return B===$-1&&""===H[B];throw new Error("wtf?")}},89982:(Et,X,e)=>{var d;self.MonacoEnvironment=(d={editorWorkerService:"editor.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js"},{globalAPI:!1,getWorkerUrl:function(l,S){var T=function t(l){return l.replace(/\/$/,"")}("/")+"/"+d[S];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(T)){var C=String(window.location),E=C.substr(0,C.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(T.substring(0,E.length)!==E){/^(\/\/)/.test(T)&&(T=window.location.protocol+T);var _=new Blob(["/*"+S+'*/importScripts("'+T+'");'],{type:"application/javascript"});return URL.createObjectURL(_)}}return T}}),e(70748),e(76924),e(8902),e(41442),e(84564),e(61888),e(84783),e(25583),e(43351),e(63175),e(53178),e(89427),e(98590),e(44266),e(77993),e(70466),e(32402),e(88014),e(87145),e(7150),e(56628),e(98674),e(5429),e(21021),e(75446),e(39610),e(50295),e(29406),e(1182),e(77906),e(56806),e(23414),e(12039),e(66564),e(52610),e(76224),e(57714),e(69066),e(16763),e(49976),e(1706),e(31257),e(14175),e(35108),e(34465),e(31583),e(32638),e(69207),e(99401),e(78746),e(92047),e(9192),e(57436),e(59525),e(51337),e(45505),e(20940),e(74999),Et.exports=e(21955),e(93213),e(811),e(76746)},37428:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{PixelRatio:()=>E,addMatchMediaChangeListener:()=>C,getZoomFactor:()=>L,isAndroid:()=>u,isChrome:()=>c,isElectron:()=>p,isFirefox:()=>s,isSafari:()=>n,isStandalone:()=>b,isWebKit:()=>m,isWebkitWebView:()=>a});var d=e(3778),t=e(80142);class l{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}l.INSTANCE=new l;class S extends t.JT{constructor(){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(D){var w;null===(w=this._mediaQueryList)||void 0===w||w.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),D&&this._onDidChange.fire()}}class v extends t.JT{constructor(){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const D=this._register(new S);this._register(D.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const D=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(D.webkitBackingStorePixelRatio||D.mozBackingStorePixelRatio||D.msBackingStorePixelRatio||D.oBackingStorePixelRatio||D.backingStorePixelRatio||1)}}function C(y,D){"string"==typeof y&&(y=window.matchMedia(y)),y.addEventListener("change",D)}const E=new class T{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,t.dk)(new v)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function L(){return l.INSTANCE.getZoomFactor()}const _=navigator.userAgent,s=_.indexOf("Firefox")>=0,m=_.indexOf("AppleWebKit")>=0,c=_.indexOf("Chrome")>=0,n=!c&&_.indexOf("Safari")>=0,a=!c&&!n&&m,p=_.indexOf("Electron/")>=0,u=_.indexOf("Android")>=0;let g=!1;if(window.matchMedia){const y=window.matchMedia("(display-mode: standalone)");g=y.matches,C(y,({matches:D})=>{g=D})}function b(){return g}},15278:(Et,X,e)=>{"use strict";e.d(X,{D:()=>l});var d=e(37428),t=e(8841);const l={clipboard:{writeText:t.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:t.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:t.tY||d.isStandalone()?0:navigator.keyboard||d.isSafari?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},67719:(Et,X,e)=>{"use strict";e.d(X,{P:()=>l,g:()=>t});const t={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:e(34189).v.text},l={CurrentDragAndDropData:void 0}},98463:(Et,X,e)=>{"use strict";e.d(X,{$:()=>st,$Z:()=>et,Ay:()=>xe,Ce:()=>le,Cp:()=>Qe,D6:()=>F,DI:()=>V,Dx:()=>K,FK:()=>fe,Fx:()=>Le,GQ:()=>g,H$:()=>tt,I8:()=>N,IC:()=>w,If:()=>M,OO:()=>we,PO:()=>s,R3:()=>he,Re:()=>Ue,Ro:()=>z,Uh:()=>vt,Uw:()=>m,V3:()=>mt,_0:()=>Ze,_F:()=>Ge,_h:()=>Bt,_q:()=>ut,dS:()=>Te,dp:()=>j,eg:()=>Ut,fk:()=>$e,go:()=>_e,i:()=>ne,jL:()=>H,jg:()=>Ee,jt:()=>_t,lI:()=>O,mc:()=>Q,mu:()=>u,nm:()=>n,tw:()=>nt,uN:()=>ce,uU:()=>Ne,vL:()=>Lt,vY:()=>pe,w:()=>Z,wY:()=>Kt,wn:()=>Se,xQ:()=>$,zB:()=>Dt});var d=e(37428),t=e(15278),l=e(41140),S=e(97340),v=e(4125),T=e(3778),C=e(44043),E=e(80142),L=e(59310),_=e(8841);function s(je){for(;je.firstChild;)je.firstChild.remove()}function m(je){var ye;return null!==(ye=je?.isConnected)&&void 0!==ye&&ye}class c{constructor(ye,Me,ue,be){this._node=ye,this._type=Me,this._handler=ue,this._options=be||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function n(je,ye,Me,ue){return new c(je,ye,Me,ue)}function a(je){return function(ye){return je(new S.n(ye))}}const u=function(ye,Me,ue,be){let qe=ue;return"click"===Me||"mousedown"===Me?qe=a(ue):("keydown"===Me||"keypress"===Me||"keyup"===Me)&&(qe=function p(je){return function(ye){return je(new l.y(ye))}}(ue)),n(ye,Me,qe,be)},g=function(ye,Me,ue){return function y(je,ye,Me){return n(je,_.gn&&t.D.pointerEvents?nt.POINTER_DOWN:nt.MOUSE_DOWN,ye,Me)}(ye,a(Me),ue)};function w(je,ye,Me){let ue=null;const be=bt=>ot.fire(bt),ot=new T.Q5({onFirstListenerAdd:()=>{ue||(ue=new c(je,ye,be,Me))},onLastListenerRemove:()=>{ue&&(ue.dispose(),ue=null)}});return ot}let O,H,I=null;class U{constructor(ye,Me=0){this._runner=ye,this.priority=Me,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(ye){(0,v.dL)(ye)}}static sort(ye,Me){return Me.priority-ye.priority}}function K(je){return document.defaultView.getComputedStyle(je,null)}function F(je){if(je!==document.body)return new z(je.clientWidth,je.clientHeight);if(_.gn&&window.visualViewport)return new z(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new z(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new z(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new z(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}!function(){let je=[],ye=null,Me=!1,ue=!1;const be=()=>{for(Me=!1,ye=je,je=[],ue=!0;ye.length>0;)ye.sort(U.sort),ye.shift().execute();ue=!1};H=(qe,Fe=0)=>{const ot=new U(qe,Fe);return je.push(ot),Me||(Me=!0,function P(je){if(!I){const ye=Me=>setTimeout(()=>Me((new Date).getTime()),0);I=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||ye}I.call(self,je)}(be)),ot},O=(qe,Fe)=>{if(ue){const ot=new U(qe,Fe);return ye.push(ot),ot}return H(qe,Fe)}}();class B{static convertToPixels(ye,Me){return parseFloat(Me)||0}static getDimension(ye,Me,ue){const be=K(ye);let qe="0";return be&&(qe=be.getPropertyValue?be.getPropertyValue(Me):be.getAttribute(ue)),B.convertToPixels(ye,qe)}static getBorderLeftWidth(ye){return B.getDimension(ye,"border-left-width","borderLeftWidth")}static getBorderRightWidth(ye){return B.getDimension(ye,"border-right-width","borderRightWidth")}static getBorderTopWidth(ye){return B.getDimension(ye,"border-top-width","borderTopWidth")}static getBorderBottomWidth(ye){return B.getDimension(ye,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(ye){return B.getDimension(ye,"padding-left","paddingLeft")}static getPaddingRight(ye){return B.getDimension(ye,"padding-right","paddingRight")}static getPaddingTop(ye){return B.getDimension(ye,"padding-top","paddingTop")}static getPaddingBottom(ye){return B.getDimension(ye,"padding-bottom","paddingBottom")}static getMarginLeft(ye){return B.getDimension(ye,"margin-left","marginLeft")}static getMarginTop(ye){return B.getDimension(ye,"margin-top","marginTop")}static getMarginRight(ye){return B.getDimension(ye,"margin-right","marginRight")}static getMarginBottom(ye){return B.getDimension(ye,"margin-bottom","marginBottom")}}class z{constructor(ye,Me){this.width=ye,this.height=Me}with(ye=this.width,Me=this.height){return ye!==this.width||Me!==this.height?new z(ye,Me):this}static is(ye){return"object"==typeof ye&&"number"==typeof ye.height&&"number"==typeof ye.width}static lift(ye){return ye instanceof z?ye:new z(ye.width,ye.height)}static equals(ye,Me){return ye===Me||!(!ye||!Me)&&ye.width===Me.width&&ye.height===Me.height}}function $(je){let ye=je.offsetParent,Me=je.offsetTop,ue=je.offsetLeft;for(;null!==(je=je.parentNode)&&je!==document.body&&je!==document.documentElement;){Me-=je.scrollTop;const be=oe(je)?null:K(je);be&&(ue-="rtl"!==be.direction?je.scrollLeft:-je.scrollLeft),je===ye&&(ue+=B.getBorderLeftWidth(je),Me+=B.getBorderTopWidth(je),Me+=je.offsetTop,ue+=je.offsetLeft,ye=je.offsetParent)}return{left:ue,top:Me}}function j(je,ye,Me){"number"==typeof ye&&(je.style.width=`${ye}px`),"number"==typeof Me&&(je.style.height=`${Me}px`)}function ne(je){const ye=je.getBoundingClientRect();return{left:ye.left+V.scrollX,top:ye.top+V.scrollY,width:ye.width,height:ye.height}}function N(je){let ye=je,Me=1;do{const ue=K(ye).zoom;null!=ue&&"1"!==ue&&(Me*=ue),ye=ye.parentElement}while(null!==ye&&ye!==document.documentElement);return Me}z.None=new z(0,0);const V=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Z(je){const ye=B.getMarginLeft(je)+B.getMarginRight(je);return je.offsetWidth+ye}function fe(je){const ye=B.getBorderLeftWidth(je)+B.getBorderRightWidth(je),Me=B.getPaddingLeft(je)+B.getPaddingRight(je);return je.offsetWidth-ye-Me}function M(je){const ye=B.getBorderTopWidth(je)+B.getBorderBottomWidth(je),Me=B.getPaddingTop(je)+B.getPaddingBottom(je);return je.offsetHeight-ye-Me}function Se(je){const ye=B.getMarginTop(je)+B.getMarginBottom(je);return je.offsetHeight+ye}function Ee(je,ye){for(;je;){if(je===ye)return!0;je=je.parentNode}return!1}function Le(je,ye,Me){for(;je&&je.nodeType===je.ELEMENT_NODE;){if(je.classList.contains(ye))return je;if(Me)if("string"==typeof Me){if(je.classList.contains(Me))return null}else if(je===Me)return null;je=je.parentNode}return null}function Ne(je,ye,Me){return!!Le(je,ye,Me)}function oe(je){return je&&!!je.host&&!!je.mode}function we(je){return!!xe(je)}function xe(je){for(;je.parentNode;){if(je===document.body)return null;je=je.parentNode}return oe(je)?je:null}function pe(){let je=document.activeElement;for(;je?.shadowRoot;)je=je.shadowRoot.activeElement;return je}function Te(je=document.getElementsByTagName("head")[0]){const ye=document.createElement("style");return ye.type="text/css",ye.media="screen",je.appendChild(ye),ye}let de=null;function ke(){return de||(de=Te()),de}function $e(je,ye,Me=ke()){!Me||!ye||Me.sheet.insertRule(je+"{"+ye+"}",0)}function ce(je,ye=ke()){if(!ye)return;const Me=function ze(je){var ye,Me;return null!==(ye=je?.sheet)&&void 0!==ye&&ye.rules?je.sheet.rules:null!==(Me=je?.sheet)&&void 0!==Me&&Me.cssRules?je.sheet.cssRules:[]}(ye),ue=[];for(let be=0;be<Me.length;be++)-1!==Me[be].selectorText.indexOf(je)&&ue.push(be);for(let be=ue.length-1;be>=0;be--)ye.sheet.deleteRule(ue[be])}function Ue(je){return"object"==typeof HTMLElement?je instanceof HTMLElement:je&&"object"==typeof je&&1===je.nodeType&&"string"==typeof je.nodeName}const nt={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:d.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:d.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:d.isWebKit?"webkitAnimationIteration":"animationiteration"},Dt={stop:function(je,ye){je.preventDefault?je.preventDefault():je.returnValue=!1,ye&&(je.stopPropagation?je.stopPropagation():je.cancelBubble=!0)}};function Lt(je){const ye=[];for(let Me=0;je&&je.nodeType===je.ELEMENT_NODE;Me++)ye[Me]=je.scrollTop,je=je.parentNode;return ye}function Ze(je,ye){for(let Me=0;je&&je.nodeType===je.ELEMENT_NODE;Me++)je.scrollTop!==ye[Me]&&(je.scrollTop=ye[Me]),je=je.parentNode}class ae extends E.JT{constructor(ye){super(),this._onDidFocus=this._register(new T.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new T.Q5),this.onDidBlur=this._onDidBlur.event;let Me=ae.hasFocusWithin(ye),ue=!1;const be=()=>{ue=!1,Me||(Me=!0,this._onDidFocus.fire())},qe=()=>{Me&&(ue=!0,window.setTimeout(()=>{ue&&(ue=!1,Me=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{ae.hasFocusWithin(ye)!==Me&&(Me?qe():be())},this._register(n(ye,nt.FOCUS,be,!0)),this._register(n(ye,nt.BLUR,qe,!0)),this._register(n(ye,nt.FOCUS_IN,()=>this._refreshStateHandler())),this._register(n(ye,nt.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(ye){const Me=xe(ye);return Ee(Me?Me.activeElement:document.activeElement,ye)}}function _e(je){return new ae(je)}function he(je,...ye){if(je.append(...ye),1===ye.length&&"string"!=typeof ye[0])return ye[0]}function le(je,ye){return je.insertBefore(ye,je.firstChild),ye}function Q(je,...ye){je.innerText="",he(je,...ye)}const ve=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Ae=(()=>{return(je=Ae||(Ae={})).HTML="http://www.w3.org/1999/xhtml",je.SVG="http://www.w3.org/2000/svg",Ae;var je})();function dt(je,ye,Me,...ue){const be=ve.exec(ye);if(!be)throw new Error("Bad use of emmet");Me=Object.assign({},Me||{});const qe=be[1]||"div";let Fe;return Fe=je!==Ae.HTML?document.createElementNS(je,qe):document.createElement(qe),be[3]&&(Fe.id=be[3]),be[4]&&(Fe.className=be[4].replace(/\./g," ").trim()),Object.keys(Me).forEach(ot=>{const bt=Me[ot];typeof bt>"u"||(/^on\w+$/.test(ot)?Fe[ot]=bt:"selected"===ot?bt&&Fe.setAttribute(ot,"true"):Fe.setAttribute(ot,bt))}),Fe.append(...ue),Fe}function st(je,ye,...Me){return dt(Ae.HTML,je,ye,...Me)}function et(...je){for(const ye of je)ye.style.display="",ye.removeAttribute("aria-hidden")}function Qe(...je){for(const ye of je)ye.style.display="none",ye.setAttribute("aria-hidden","true")}function tt(je){return Array.prototype.slice.call(document.getElementsByTagName(je),0)}function vt(je){const ye=window.devicePixelRatio*je;return Math.max(1,Math.floor(ye))/window.devicePixelRatio}function mt(je){window.open(je,"_blank","noopener")}function _t(je){const ye=()=>{je(),Me=H(ye)};let Me=H(ye);return(0,E.OF)(()=>Me.dispose())}function Kt(je){return je?`url('${L.Gi.asBrowserUri(je).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Bt(je){return`'${je.replace(/'/g,"%27")}'`}function Ge(je,ye=!1){const Me=document.createElement("a");return C.v5("afterSanitizeAttributes",ue=>{for(const be of["href","src"])if(ue.hasAttribute(be)){const qe=ue.getAttribute(be);if("href"===be&&qe.startsWith("#"))continue;if(Me.href=qe,!je.includes(Me.protocol.replace(/:$/,""))){if(ye&&"src"===be&&Me.href.startsWith("data:"))continue;ue.removeAttribute(be)}}}),(0,E.OF)(()=>{C.ok("afterSanitizeAttributes")})}st.SVG=function(je,ye,...Me){return dt(Ae.SVG,je,ye,...Me)},L.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");class ut extends T.Q5{constructor(){super(),this._subscriptions=new E.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(n(window,"keydown",ye=>{if(ye.defaultPrevented)return;const Me=new l.y(ye);if(6!==Me.keyCode||!ye.repeat){if(ye.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ye.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ye.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ye.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===Me.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=ye.altKey,this._keyStatus.ctrlKey=ye.ctrlKey,this._keyStatus.metaKey=ye.metaKey,this._keyStatus.shiftKey=ye.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ye,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(n(window,"keyup",ye=>{ye.defaultPrevented||(this._keyStatus.lastKeyReleased=!ye.altKey&&this._keyStatus.altKey?"alt":!ye.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!ye.metaKey&&this._keyStatus.metaKey?"meta":!ye.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ye.altKey,this._keyStatus.ctrlKey=ye.ctrlKey,this._keyStatus.metaKey=ye.metaKey,this._keyStatus.shiftKey=ye.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ye,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(n(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mousemove",ye=>{ye.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(n(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return ut.instance||(ut.instance=new ut),ut.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Ut extends E.JT{constructor(ye,Me){super(),this.element=ye,this.callbacks=Me,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(n(this.element,nt.DRAG_ENTER,ye=>{this.counter++,this.dragStartTime=ye.timeStamp,this.callbacks.onDragEnter(ye)})),this._register(n(this.element,nt.DRAG_OVER,ye=>{var Me,ue;ye.preventDefault(),null===(ue=(Me=this.callbacks).onDragOver)||void 0===ue||ue.call(Me,ye,ye.timeStamp-this.dragStartTime)})),this._register(n(this.element,nt.DRAG_LEAVE,ye=>{this.counter--,0===this.counter&&(this.dragStartTime=0,this.callbacks.onDragLeave(ye))})),this._register(n(this.element,nt.DRAG_END,ye=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(ye)})),this._register(n(this.element,nt.DROP,ye=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(ye)}))}}},44043:(Et,X,e)=>{"use strict";e.d(X,{Nw:()=>nt,ok:()=>_e,v5:()=>ae});var t=Object.hasOwnProperty,l=Object.setPrototypeOf,S=Object.isFrozen,v=Object.getPrototypeOf,T=Object.getOwnPropertyDescriptor,C=Object.freeze,E=Object.seal,L=Object.create,_=typeof Reflect<"u"&&Reflect,s=_.apply,m=_.construct;s||(s=function(ve,Ae,dt){return ve.apply(Ae,dt)}),C||(C=function(ve){return ve}),E||(E=function(ve){return ve}),m||(m=function(ve,Ae){return new(Function.prototype.bind.apply(ve,[null].concat(function d(Q){if(Array.isArray(Q)){for(var ve=0,Ae=Array(Q.length);ve<Q.length;ve++)Ae[ve]=Q[ve];return Ae}return Array.from(Q)}(Ae))))});var c=I(Array.prototype.forEach),n=I(Array.prototype.pop),a=I(Array.prototype.push),p=I(String.prototype.toLowerCase),u=I(String.prototype.match),g=I(String.prototype.replace),b=I(String.prototype.indexOf),y=I(String.prototype.trim),D=I(RegExp.prototype.test),w=function P(Q){return function(){for(var ve=arguments.length,Ae=Array(ve),dt=0;dt<ve;dt++)Ae[dt]=arguments[dt];return m(Q,Ae)}}(TypeError);function I(Q){return function(ve){for(var Ae=arguments.length,dt=Array(Ae>1?Ae-1:0),st=1;st<Ae;st++)dt[st-1]=arguments[st];return s(Q,ve,dt)}}function O(Q,ve){l&&l(Q,null);for(var Ae=ve.length;Ae--;){var dt=ve[Ae];if("string"==typeof dt){var st=p(dt);st!==dt&&(S(ve)||(ve[Ae]=st),dt=st)}Q[dt]=!0}return Q}function H(Q){var ve=L(null),Ae=void 0;for(Ae in Q)s(t,Q,[Ae])&&(ve[Ae]=Q[Ae]);return ve}function U(Q,ve){for(;null!==Q;){var Ae=T(Q,ve);if(Ae){if(Ae.get)return I(Ae.get);if("function"==typeof Ae.value)return I(Ae.value)}Q=v(Q)}return function dt(st){return console.warn("fallback value for",st),null}}var K=C(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=C(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),B=C(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=C(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$=C(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=C(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ne=C(["#text"]),N=C(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=C(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Z=C(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),fe=C(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),M=E(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Se=E(/<%[\s\S]*|[\s\S]*%>/gm),Ee=E(/^data-[\-\w.\u00B7-\uFFFF]/),Le=E(/^aria-[\-\w]+$/),Ne=E(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oe=E(/^(?:\w+script|data):/i),we=E(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};function pe(Q){if(Array.isArray(Q)){for(var ve=0,Ae=Array(Q.length);ve<Q.length;ve++)Ae[ve]=Q[ve];return Ae}return Array.from(Q)}var Te=function(){return typeof window>"u"?null:window},de=function(ve,Ae){if("object"!==(typeof ve>"u"?"undefined":xe(ve))||"function"!=typeof ve.createPolicy)return null;var dt=null,st="data-tt-policy-suffix";Ae.currentScript&&Ae.currentScript.hasAttribute(st)&&(dt=Ae.currentScript.getAttribute(st));var et="dompurify"+(dt?"#"+dt:"");try{return ve.createPolicy(et,{createHTML:function(tt){return tt}})}catch{return console.warn("TrustedTypes policy "+et+" could not be created."),null}},ze=function ke(){var Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te(),ve=function(ct){return ke(ct)};if(ve.version="2.3.1",ve.removed=[],!Q||!Q.document||9!==Q.document.nodeType)return ve.isSupported=!1,ve;var Ae=Q.document,dt=Q.document,st=Q.DocumentFragment,et=Q.HTMLTemplateElement,Qe=Q.Node,tt=Q.Element,vt=Q.NodeFilter,mt=Q.NamedNodeMap,_t=void 0===mt?Q.NamedNodeMap||Q.MozNamedAttrMap:mt,Kt=Q.Text,Bt=Q.Comment,Ge=Q.DOMParser,ut=Q.trustedTypes,Ut=tt.prototype,hn=U(Ut,"cloneNode"),Dn=U(Ut,"nextSibling"),wt=U(Ut,"childNodes"),je=U(Ut,"parentNode");if("function"==typeof et){var ye=dt.createElement("template");ye.content&&ye.content.ownerDocument&&(dt=ye.content.ownerDocument)}var Me=de(ut,Ae),ue=Me&&jn?Me.createHTML(""):"",be=dt,qe=be.implementation,Fe=be.createNodeIterator,ot=be.createDocumentFragment,bt=be.getElementsByTagName,Ht=Ae.importNode,vn={};try{vn=H(dt).documentMode?dt.documentMode:{}}catch{}var Mn={};ve.isSupported="function"==typeof je&&qe&&typeof qe.createHTMLDocument<"u"&&9!==vn;var Ct=M,fn=Se,Vn=Ee,yn=Le,zn=oe,li=we,oi=Ne,Li=null,so=O({},[].concat(pe(K),pe(F),pe(B),pe($),pe(ne))),oo=null,xo=O({},[].concat(pe(N),pe(V),pe(Z),pe(fe))),ro=null,_o=null,mo=!0,si=!0,Qt=!1,pt=!1,ft=!1,jt=!1,en=!1,rn=!1,gn=!1,An=!0,jn=!1,Qn=!0,wi=!0,xi=!1,no={},Oi=null,Ki=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ji=null,co=O({},["audio","video","img","source","image","track"]),yo=null,Go=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Po="http://www.w3.org/1998/Math/MathML",wo="http://www.w3.org/2000/svg",Do="http://www.w3.org/1999/xhtml",to=Do,vo=!1,Oo=null,ai=dt.createElement("form"),Yt=function(ct){Oo&&Oo===ct||((!ct||"object"!==(typeof ct>"u"?"undefined":xe(ct)))&&(ct={}),ct=H(ct),Li="ALLOWED_TAGS"in ct?O({},ct.ALLOWED_TAGS):so,oo="ALLOWED_ATTR"in ct?O({},ct.ALLOWED_ATTR):xo,yo="ADD_URI_SAFE_ATTR"in ct?O(H(Go),ct.ADD_URI_SAFE_ATTR):Go,ji="ADD_DATA_URI_TAGS"in ct?O(H(co),ct.ADD_DATA_URI_TAGS):co,Oi="FORBID_CONTENTS"in ct?O({},ct.FORBID_CONTENTS):Ki,ro="FORBID_TAGS"in ct?O({},ct.FORBID_TAGS):{},_o="FORBID_ATTR"in ct?O({},ct.FORBID_ATTR):{},mo=!1!==ct.ALLOW_ARIA_ATTR,si=!1!==ct.ALLOW_DATA_ATTR,Qt=ct.ALLOW_UNKNOWN_PROTOCOLS||!1,ft=ct.WHOLE_DOCUMENT||!1,rn=ct.RETURN_DOM||!1,An=!1!==ct.RETURN_DOM_IMPORT,jn=ct.RETURN_TRUSTED_TYPE||!1,en=ct.FORCE_BODY||!1,Qn=!1!==ct.SANITIZE_DOM,wi=!1!==ct.KEEP_CONTENT,xi=ct.IN_PLACE||!1,oi=ct.ALLOWED_URI_REGEXP||oi,to=ct.NAMESPACE||Do,(pt=ct.SAFE_FOR_TEMPLATES||!1)&&(si=!1),(gn=ct.RETURN_DOM_FRAGMENT||!1)&&(rn=!0),(no="USE_PROFILES"in ct&&ct.USE_PROFILES)&&(Li=O({},[].concat(pe(ne))),oo=[],!0===no.html&&(O(Li,K),O(oo,N)),!0===no.svg&&(O(Li,F),O(oo,V),O(oo,fe)),!0===no.svgFilters&&(O(Li,B),O(oo,V),O(oo,fe)),!0===no.mathMl&&(O(Li,$),O(oo,Z),O(oo,fe))),ct.ADD_TAGS&&(Li===so&&(Li=H(Li)),O(Li,ct.ADD_TAGS)),ct.ADD_ATTR&&(oo===xo&&(oo=H(oo)),O(oo,ct.ADD_ATTR)),ct.ADD_URI_SAFE_ATTR&&O(yo,ct.ADD_URI_SAFE_ATTR),ct.FORBID_CONTENTS&&(Oi===Ki&&(Oi=H(Oi)),O(Oi,ct.FORBID_CONTENTS)),wi&&(Li["#text"]=!0),ft&&O(Li,["html","head","body"]),Li.table&&(O(Li,["tbody"]),delete ro.tbody),C&&C(ct),Oo=ct)},kt=O({},["mi","mo","mn","ms","mtext"]),ln=O({},["foreignobject","desc","title","annotation-xml"]),On=O({},F);O(On,B),O(On,z);var Fn=O({},$);O(Fn,j);var dn=function(ct){var _n=je(ct);(!_n||!_n.tagName)&&(_n={namespaceURI:Do,tagName:"template"});var Hn=p(ct.tagName),Ai=p(_n.tagName);if(ct.namespaceURI===wo)return _n.namespaceURI===Do?"svg"===Hn:_n.namespaceURI===Po?"svg"===Hn&&("annotation-xml"===Ai||kt[Ai]):Boolean(On[Hn]);if(ct.namespaceURI===Po)return _n.namespaceURI===Do?"math"===Hn:_n.namespaceURI===wo?"math"===Hn&&ln[Ai]:Boolean(Fn[Hn]);if(ct.namespaceURI===Do){if(_n.namespaceURI===wo&&!ln[Ai]||_n.namespaceURI===Po&&!kt[Ai])return!1;var yi=O({},["title","style","font","a","script"]);return!Fn[Hn]&&(yi[Hn]||!On[Hn])}return!1},gt=function(ct){a(ve.removed,{element:ct});try{ct.parentNode.removeChild(ct)}catch{try{ct.outerHTML=ue}catch{ct.remove()}}},sn=function(ct,_n){try{a(ve.removed,{attribute:_n.getAttributeNode(ct),from:_n})}catch{a(ve.removed,{attribute:null,from:_n})}if(_n.removeAttribute(ct),"is"===ct&&!oo[ct])if(rn||gn)try{gt(_n)}catch{}else try{_n.setAttribute(ct,"")}catch{}},nn=function(ct){var _n=void 0,Hn=void 0;if(en)ct="<remove></remove>"+ct;else{var Ai=u(ct,/^[\r\n\t ]+/);Hn=Ai&&Ai[0]}var yi=Me?Me.createHTML(ct):ct;if(to===Do)try{_n=(new Ge).parseFromString(yi,"text/html")}catch{}if(!_n||!_n.documentElement){_n=qe.createDocument(to,"template",null);try{_n.documentElement.innerHTML=vo?"":yi}catch{}}var di=_n.body||_n.documentElement;return ct&&Hn&&di.insertBefore(dt.createTextNode(Hn),di.childNodes[0]||null),to===Do?bt.call(_n,ft?"html":"body")[0]:ft?_n.documentElement:di},xn=function(ct){return Fe.call(ct.ownerDocument||ct,ct,vt.SHOW_ELEMENT|vt.SHOW_COMMENT|vt.SHOW_TEXT,null,!1)},Pn=function(ct){return!(ct instanceof Kt||ct instanceof Bt||"string"==typeof ct.nodeName&&"string"==typeof ct.textContent&&"function"==typeof ct.removeChild&&ct.attributes instanceof _t&&"function"==typeof ct.removeAttribute&&"function"==typeof ct.setAttribute&&"string"==typeof ct.namespaceURI&&"function"==typeof ct.insertBefore)},En=function(ct){return"object"===(typeof Qe>"u"?"undefined":xe(Qe))?ct instanceof Qe:ct&&"object"===(typeof ct>"u"?"undefined":xe(ct))&&"number"==typeof ct.nodeType&&"string"==typeof ct.nodeName},ht=function(ct,_n,Hn){!Mn[ct]||c(Mn[ct],function(Ai){Ai.call(ve,_n,Hn,Oo)})},Rt=function(ct){var _n=void 0;if(ht("beforeSanitizeElements",ct,null),Pn(ct)||u(ct.nodeName,/[\u0080-\uFFFF]/))return gt(ct),!0;var Hn=p(ct.nodeName);if(ht("uponSanitizeElement",ct,{tagName:Hn,allowedTags:Li}),!En(ct.firstElementChild)&&(!En(ct.content)||!En(ct.content.firstElementChild))&&D(/<[/\w]/g,ct.innerHTML)&&D(/<[/\w]/g,ct.textContent)||"select"===Hn&&D(/<template/i,ct.innerHTML))return gt(ct),!0;if(!Li[Hn]||ro[Hn]){if(wi&&!Oi[Hn]){var Ai=je(ct)||ct.parentNode,yi=wt(ct)||ct.childNodes;if(yi&&Ai)for(var Ft=yi.length-1;Ft>=0;--Ft)Ai.insertBefore(hn(yi[Ft],!0),Dn(ct))}return gt(ct),!0}return ct instanceof tt&&!dn(ct)||("noscript"===Hn||"noembed"===Hn)&&D(/<\/no(script|embed)/i,ct.innerHTML)?(gt(ct),!0):(pt&&3===ct.nodeType&&(_n=g(_n=ct.textContent,Ct," "),_n=g(_n,fn," "),ct.textContent!==_n&&(a(ve.removed,{element:ct.cloneNode()}),ct.textContent=_n)),ht("afterSanitizeElements",ct,null),!1)},Vt=function(ct,_n,Hn){if(Qn&&("id"===_n||"name"===_n)&&(Hn in dt||Hn in ai))return!1;if((!si||_o[_n]||!D(Vn,_n))&&(!mo||!D(yn,_n))){if(!oo[_n]||_o[_n])return!1;if(!yo[_n]&&!D(oi,g(Hn,li,""))&&("src"!==_n&&"xlink:href"!==_n&&"href"!==_n||"script"===ct||0!==b(Hn,"data:")||!ji[ct])&&(!Qt||D(zn,g(Hn,li,"")))&&Hn)return!1}return!0},Zt=function(ct){var _n=void 0,Hn=void 0,Ai=void 0,yi=void 0;ht("beforeSanitizeAttributes",ct,null);var di=ct.attributes;if(di){var Ft={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oo};for(yi=di.length;yi--;){var q=(_n=di[yi]).name,me=_n.namespaceURI;if(Hn=y(_n.value),Ai=p(q),Ft.attrName=Ai,Ft.attrValue=Hn,Ft.keepAttr=!0,Ft.forceKeepAttr=void 0,ht("uponSanitizeAttribute",ct,Ft),Hn=Ft.attrValue,!Ft.forceKeepAttr&&(sn(q,ct),Ft.keepAttr)){if(D(/\/>/i,Hn)){sn(q,ct);continue}pt&&(Hn=g(Hn,Ct," "),Hn=g(Hn,fn," "));var Ke=ct.nodeName.toLowerCase();if(Vt(Ke,Ai,Hn))try{me?ct.setAttributeNS(me,q,Hn):ct.setAttribute(q,Hn),n(ve.removed)}catch{}}}ht("afterSanitizeAttributes",ct,null)}},Cn=function Re(ct){var _n=void 0,Hn=xn(ct);for(ht("beforeSanitizeShadowDOM",ct,null);_n=Hn.nextNode();)ht("uponSanitizeShadowNode",_n,null),!Rt(_n)&&(_n.content instanceof st&&Re(_n.content),Zt(_n));ht("afterSanitizeShadowDOM",ct,null)};return ve.sanitize=function(Re,ct){var _n=void 0,Hn=void 0,Ai=void 0,yi=void 0,di=void 0;if((vo=!Re)&&(Re="\x3c!--\x3e"),"string"!=typeof Re&&!En(Re)){if("function"!=typeof Re.toString)throw w("toString is not a function");if("string"!=typeof(Re=Re.toString()))throw w("dirty is not a string, aborting")}if(!ve.isSupported){if("object"===xe(Q.toStaticHTML)||"function"==typeof Q.toStaticHTML){if("string"==typeof Re)return Q.toStaticHTML(Re);if(En(Re))return Q.toStaticHTML(Re.outerHTML)}return Re}if(jt||Yt(ct),ve.removed=[],"string"==typeof Re&&(xi=!1),!xi)if(Re instanceof Qe)1===(Hn=(_n=nn("\x3c!----\x3e")).ownerDocument.importNode(Re,!0)).nodeType&&"BODY"===Hn.nodeName||"HTML"===Hn.nodeName?_n=Hn:_n.appendChild(Hn);else{if(!rn&&!pt&&!ft&&-1===Re.indexOf("<"))return Me&&jn?Me.createHTML(Re):Re;if(!(_n=nn(Re)))return rn?null:ue}_n&&en&&gt(_n.firstChild);for(var Ft=xn(xi?Re:_n);Ai=Ft.nextNode();)3===Ai.nodeType&&Ai===yi||Rt(Ai)||(Ai.content instanceof st&&Cn(Ai.content),Zt(Ai),yi=Ai);if(yi=null,xi)return Re;if(rn){if(gn)for(di=ot.call(_n.ownerDocument);_n.firstChild;)di.appendChild(_n.firstChild);else di=_n;return An&&(di=Ht.call(Ae,di,!0)),di}var R=ft?_n.outerHTML:_n.innerHTML;return pt&&(R=g(R,Ct," "),R=g(R,fn," ")),Me&&jn?Me.createHTML(R):R},ve.setConfig=function(Re){Yt(Re),jt=!0},ve.clearConfig=function(){Oo=null,jt=!1},ve.isValidAttribute=function(Re,ct,_n){Oo||Yt({});var Hn=p(Re),Ai=p(ct);return Vt(Hn,Ai,_n)},ve.addHook=function(Re,ct){"function"==typeof ct&&(Mn[Re]=Mn[Re]||[],a(Mn[Re],ct))},ve.removeHook=function(Re){Mn[Re]&&n(Mn[Re])},ve.removeHooks=function(Re){Mn[Re]&&(Mn[Re]=[])},ve.removeAllHooks=function(){Mn={}},ve}();const nt=ze.sanitize,ae=ze.addHook,_e=ze.removeHook},75366:(Et,X,e)=>{"use strict";e.d(X,{Y:()=>t,p:()=>l});var d=e(3778);class t{constructor(v,T,C){const E=L=>this.emitter.fire(L);this.emitter=new d.Q5({onFirstListenerAdd:()=>v.addEventListener(T,E,C),onLastListenerRemove:()=>v.removeEventListener(T,E,C)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function l(S){return S.preventDefault(),S.stopPropagation(),S}},12226:(Et,X,e)=>{"use strict";e.d(X,{X:()=>l,Z:()=>d});class d{constructor(v){this.domNode=v,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(v){const T=t(v);this._maxWidth!==T&&(this._maxWidth=T,this.domNode.style.maxWidth=this._maxWidth)}setWidth(v){const T=t(v);this._width!==T&&(this._width=T,this.domNode.style.width=this._width)}setHeight(v){const T=t(v);this._height!==T&&(this._height=T,this.domNode.style.height=this._height)}setTop(v){const T=t(v);this._top!==T&&(this._top=T,this.domNode.style.top=this._top)}setLeft(v){const T=t(v);this._left!==T&&(this._left=T,this.domNode.style.left=this._left)}setBottom(v){const T=t(v);this._bottom!==T&&(this._bottom=T,this.domNode.style.bottom=this._bottom)}setRight(v){const T=t(v);this._right!==T&&(this._right=T,this.domNode.style.right=this._right)}setFontFamily(v){this._fontFamily!==v&&(this._fontFamily=v,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(v){this._fontWeight!==v&&(this._fontWeight=v,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(v){const T=t(v);this._fontSize!==T&&(this._fontSize=T,this.domNode.style.fontSize=this._fontSize)}setFontStyle(v){this._fontStyle!==v&&(this._fontStyle=v,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(v){this._fontFeatureSettings!==v&&(this._fontFeatureSettings=v,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(v){this._textDecoration!==v&&(this._textDecoration=v,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(v){const T=t(v);this._lineHeight!==T&&(this._lineHeight=T,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(v){const T=t(v);this._letterSpacing!==T&&(this._letterSpacing=T,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(v){this._className!==v&&(this._className=v,this.domNode.className=this._className)}toggleClassName(v,T){this.domNode.classList.toggle(v,T),this._className=this.domNode.className}setDisplay(v){this._display!==v&&(this._display=v,this.domNode.style.display=this._display)}setPosition(v){this._position!==v&&(this._position=v,this.domNode.style.position=this._position)}setVisibility(v){this._visibility!==v&&(this._visibility=v,this.domNode.style.visibility=this._visibility)}setColor(v){this._color!==v&&(this._color=v,this.domNode.style.color=this._color)}setBackgroundColor(v){this._backgroundColor!==v&&(this._backgroundColor=v,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(v){this._layerHint!==v&&(this._layerHint=v,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(v){this._boxShadow!==v&&(this._boxShadow=v,this.domNode.style.boxShadow=v)}setContain(v){this._contain!==v&&(this._contain=v,this.domNode.style.contain=this._contain)}setAttribute(v,T){this.domNode.setAttribute(v,T)}removeAttribute(v){this.domNode.removeAttribute(v)}appendChild(v){this.domNode.appendChild(v.domNode)}removeChild(v){this.domNode.removeChild(v.domNode)}}function t(S){return"number"==typeof S?`${S}px`:S}function l(S){return new d(S)}},86998:(Et,X,e)=>{"use strict";e.d(X,{BO:()=>l,IY:()=>t,az:()=>S});var d=e(98463);function t(_,s={}){const m=S(s);return m.textContent=_,m}function l(_,s={}){const m=S(s);return T(m,function C(_,s){const m={type:1,children:[]};let c=0,n=m;const a=[],p=new v(_);for(;!p.eos();){let u=p.next();const g="\\"===u&&0!==L(p.peek(),s);if(g&&(u=p.next()),!g&&E(u,s)&&u===p.peek()){p.advance(),2===n.type&&(n=a.pop());const b=L(u,s);if(n.type===b||5===n.type&&6===b)n=a.pop();else{const y={type:b,children:[]};5===b&&(y.index=c,c++),n.children.push(y),a.push(n),n=y}}else if("\n"===u)2===n.type&&(n=a.pop()),n.children.push({type:8});else if(2!==n.type){const b={type:2,content:u};n.children.push(b),a.push(n),n=b}else n.content+=u}return 2===n.type&&(n=a.pop()),m}(_,!!s.renderCodeSegments),s.actionHandler,s.renderCodeSegments),m}function S(_){const m=document.createElement(_.inline?"span":"div");return _.className&&(m.className=_.className),m}class v{constructor(s){this.source=s,this.index=0}eos(){return this.index>=this.source.length}next(){const s=this.peek();return this.advance(),s}peek(){return this.source[this.index]}advance(){this.index++}}function T(_,s,m,c){let n;if(2===s.type)n=document.createTextNode(s.content||"");else if(3===s.type)n=document.createElement("b");else if(4===s.type)n=document.createElement("i");else if(7===s.type&&c)n=document.createElement("code");else if(5===s.type&&m){const a=document.createElement("a");m.disposables.add(d.mu(a,"click",p=>{m.callback(String(s.index),p)})),n=a}else 8===s.type?n=document.createElement("br"):1===s.type&&(n=_);n&&_!==n&&_.appendChild(n),n&&Array.isArray(s.children)&&s.children.forEach(a=>{T(n,a,m,c)})}function E(_,s){return 0!==L(_,s)}function L(_,s){switch(_){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return s?7:0;default:return 0}}},11210:(Et,X,e)=>{"use strict";e.d(X,{C:()=>l});var d=e(98463),t=e(80142);class l{constructor(){this._hooks=new t.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(v,T){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const C=this._onStopCallback;this._onStopCallback=null,v&&C&&C(T)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(v,T,C,E,L){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=E,this._onStopCallback=L;let _=v;try{v.setPointerCapture(T),this._hooks.add((0,t.OF)(()=>{v.releasePointerCapture(T)}))}catch{_=window}this._hooks.add(d.nm(_,d.tw.POINTER_MOVE,s=>{s.buttons===C?(s.preventDefault(),this._pointerMoveCallback(s)):this.stopMonitoring(!0)})),this._hooks.add(d.nm(_,d.tw.POINTER_UP,s=>this.stopMonitoring(!0)))}}},41140:(Et,X,e)=>{"use strict";e.d(X,{y:()=>_});var d=e(37428),t=e(53993),l=e(37451),S=e(8841);const T=S.dz?256:2048,L=S.dz?2048:256;class _{constructor(m){this._standardKeyboardEventBrand=!0;const c=m;this.browserEvent=c,this.target=c.target,this.ctrlKey=c.ctrlKey,this.shiftKey=c.shiftKey,this.altKey=c.altKey,this.metaKey=c.metaKey,this.keyCode=function v(s){if(s.charCode){const c=String.fromCharCode(s.charCode).toUpperCase();return t.kL.fromString(c)}const m=s.keyCode;if(3===m)return 7;if(d.isFirefox){if(59===m)return 80;if(107===m)return 81;if(109===m)return 83;if(S.dz&&224===m)return 57}else if(d.isWebKit){if(91===m)return 57;if(S.dz&&93===m)return 57;if(!S.dz&&92===m)return 57}return t.H_[m]||0}(c),this.code=c.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(m){return this._asKeybinding===m}_computeKeybinding(){let m=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(m=this.keyCode);let c=0;return this.ctrlKey&&(c|=T),this.altKey&&(c|=512),this.shiftKey&&(c|=1024),this.metaKey&&(c|=L),c|=m,c}_computeRuntimeKeybinding(){let m=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(m=this.keyCode),new l.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,m)}}},97340:(Et,X,e)=>{"use strict";e.d(X,{n:()=>C,q:()=>E});var d=e(37428);let t=!1,l=null;function S(L){if(!L.parent||L.parent===L)return null;try{const _=L.location,s=L.parent.location;if("null"!==_.origin&&"null"!==s.origin&&_.origin!==s.origin)return t=!0,null}catch{return t=!0,null}return L.parent}class v{static getSameOriginWindowChain(){if(!l){l=[];let s,_=window;do{s=S(_),l.push(s?{window:_,iframeElement:_.frameElement||null}:{window:_,iframeElement:null}),_=s}while(_)}return l.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(_,s){if(!s||_===s)return{top:0,left:0};let m=0,c=0;const n=this.getSameOriginWindowChain();for(const a of n){if(m+=a.window.scrollY,c+=a.window.scrollX,a.window===s||!a.iframeElement)break;const p=a.iframeElement.getBoundingClientRect();m+=p.top,c+=p.left}return{top:m,left:c}}}var T=e(8841);class C{constructor(_){this.timestamp=Date.now(),this.browserEvent=_,this.leftButton=0===_.button,this.middleButton=1===_.button,this.rightButton=2===_.button,this.buttons=_.buttons,this.target=_.target,this.detail=_.detail||1,"dblclick"===_.type&&(this.detail=2),this.ctrlKey=_.ctrlKey,this.shiftKey=_.shiftKey,this.altKey=_.altKey,this.metaKey=_.metaKey,"number"==typeof _.pageX?(this.posx=_.pageX,this.posy=_.pageY):(this.posx=_.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=_.clientY+document.body.scrollTop+document.documentElement.scrollTop);const s=v.getPositionOfChildWindowRelativeToAncestorWindow(self,_.view);this.posx-=s.left,this.posy-=s.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class E{constructor(_,s=0,m=0){if(this.browserEvent=_||null,this.target=_?_.target||_.targetNode||_.srcElement:null,this.deltaY=m,this.deltaX=s,_){const c=_,n=_;typeof c.wheelDeltaY<"u"?this.deltaY=c.wheelDeltaY/120:typeof n.VERTICAL_AXIS<"u"&&n.axis===n.VERTICAL_AXIS?this.deltaY=-n.detail/3:"wheel"===_.type&&(this.deltaY=_.deltaMode===_.DOM_DELTA_LINE?d.isFirefox&&!T.dz?-_.deltaY/3:-_.deltaY:-_.deltaY/40),typeof c.wheelDeltaX<"u"?this.deltaX=d.isSafari&&T.ED?-c.wheelDeltaX/120:c.wheelDeltaX/120:typeof n.HORIZONTAL_AXIS<"u"&&n.axis===n.HORIZONTAL_AXIS?this.deltaX=-_.detail/3:"wheel"===_.type&&(this.deltaX=_.deltaMode===_.DOM_DELTA_LINE?d.isFirefox&&!T.dz?-_.deltaX/3:-_.deltaX:-_.deltaX/40),0===this.deltaY&&0===this.deltaX&&_.wheelDelta&&(this.deltaY=_.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},62922:(Et,X,e)=>{"use strict";e.d(X,{o:()=>C,t:()=>T});var d=e(98463),t=e(64023),l=e(66471),S=e(80142),T=(()=>{return(E=T||(T={})).Tap="-monaco-gesturetap",E.Change="-monaco-gesturechange",E.Start="-monaco-gesturestart",E.End="-monaco-gesturesend",E.Contextmenu="-monaco-gesturecontextmenu",T;var E})();class C extends S.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(d.nm(document,"touchstart",L=>this.onTouchStart(L),{passive:!1})),this._register(d.nm(document,"touchend",L=>this.onTouchEnd(L))),this._register(d.nm(document,"touchmove",L=>this.onTouchMove(L),{passive:!1}))}static addTarget(L){return C.isTouchDevice()?(C.INSTANCE||(C.INSTANCE=new C),C.INSTANCE.targets.push(L),{dispose:()=>{C.INSTANCE.targets=C.INSTANCE.targets.filter(_=>_!==L)}}):S.JT.None}static ignoreTarget(L){return C.isTouchDevice()?(C.INSTANCE||(C.INSTANCE=new C),C.INSTANCE.ignoreTargets.push(L),{dispose:()=>{C.INSTANCE.ignoreTargets=C.INSTANCE.ignoreTargets.filter(_=>_!==L)}}):S.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(L){const _=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,m=L.targetTouches.length;s<m;s++){const c=L.targetTouches.item(s);this.activeTouches[c.identifier]={id:c.identifier,initialTarget:c.target,initialTimeStamp:_,initialPageX:c.pageX,initialPageY:c.pageY,rollingTimestamps:[_],rollingPageX:[c.pageX],rollingPageY:[c.pageY]};const n=this.newGestureEvent(T.Start,c.target);n.pageX=c.pageX,n.pageY=c.pageY,this.dispatchEvent(n)}this.dispatched&&(L.preventDefault(),L.stopPropagation(),this.dispatched=!1)}onTouchEnd(L){const _=Date.now(),s=Object.keys(this.activeTouches).length;for(let m=0,c=L.changedTouches.length;m<c;m++){const n=L.changedTouches.item(m);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("move of an UNKNOWN touch",n);continue}const a=this.activeTouches[n.identifier],p=Date.now()-a.initialTimeStamp;if(p<C.HOLD_DELAY&&Math.abs(a.initialPageX-t.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-t.Gb(a.rollingPageY))<30){const u=this.newGestureEvent(T.Tap,a.initialTarget);u.pageX=t.Gb(a.rollingPageX),u.pageY=t.Gb(a.rollingPageY),this.dispatchEvent(u)}else if(p>=C.HOLD_DELAY&&Math.abs(a.initialPageX-t.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-t.Gb(a.rollingPageY))<30){const u=this.newGestureEvent(T.Contextmenu,a.initialTarget);u.pageX=t.Gb(a.rollingPageX),u.pageY=t.Gb(a.rollingPageY),this.dispatchEvent(u)}else if(1===s){const u=t.Gb(a.rollingPageX),g=t.Gb(a.rollingPageY),b=t.Gb(a.rollingTimestamps)-a.rollingTimestamps[0],y=u-a.rollingPageX[0],D=g-a.rollingPageY[0],w=this.targets.filter(I=>a.initialTarget instanceof Node&&I.contains(a.initialTarget));this.inertia(w,_,Math.abs(y)/b,y>0?1:-1,u,Math.abs(D)/b,D>0?1:-1,g)}this.dispatchEvent(this.newGestureEvent(T.End,a.initialTarget)),delete this.activeTouches[n.identifier]}this.dispatched&&(L.preventDefault(),L.stopPropagation(),this.dispatched=!1)}newGestureEvent(L,_){const s=document.createEvent("CustomEvent");return s.initEvent(L,!1,!0),s.initialTarget=_,s.tapCount=0,s}dispatchEvent(L){if(L.type===T.Tap){const _=(new Date).getTime();let s=0;s=_-this._lastSetTapCountTime>C.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=_,L.tapCount=s}else(L.type===T.Change||L.type===T.Contextmenu)&&(this._lastSetTapCountTime=0);for(let _=0;_<this.ignoreTargets.length;_++)if(L.initialTarget instanceof Node&&this.ignoreTargets[_].contains(L.initialTarget))return;this.targets.forEach(_=>{L.initialTarget instanceof Node&&_.contains(L.initialTarget)&&(_.dispatchEvent(L),this.dispatched=!0)})}inertia(L,_,s,m,c,n,a,p){this.handle=d.jL(()=>{const u=Date.now(),g=u-_;let b=0,y=0,D=!0;(s+=C.SCROLL_FRICTION*g)>0&&(D=!1,b=m*s*g),(n+=C.SCROLL_FRICTION*g)>0&&(D=!1,y=a*n*g);const w=this.newGestureEvent(T.Change);w.translationX=b,w.translationY=y,L.forEach(I=>I.dispatchEvent(w)),D||this.inertia(L,u,s,m,c+b,n,a,p+y)})}onTouchMove(L){const _=Date.now();for(let s=0,m=L.changedTouches.length;s<m;s++){const c=L.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("end of an UNKNOWN touch",c);continue}const n=this.activeTouches[c.identifier],a=this.newGestureEvent(T.Change,n.initialTarget);a.translationX=c.pageX-t.Gb(n.rollingPageX),a.translationY=c.pageY-t.Gb(n.rollingPageY),a.pageX=c.pageX,a.pageY=c.pageY,this.dispatchEvent(a),n.rollingPageX.length>3&&(n.rollingPageX.shift(),n.rollingPageY.shift(),n.rollingTimestamps.shift()),n.rollingPageX.push(c.pageX),n.rollingPageY.push(c.pageY),n.rollingTimestamps.push(_)}this.dispatched&&(L.preventDefault(),L.stopPropagation(),this.dispatched=!1)}}C.SCROLL_FRICTION=-.005,C.HOLD_DELAY=700,C.CLEAR_TAP_COUNT_TIME=400,function(E,L,_,s){var n,m=arguments.length,c=m<3?L:null===s?s=Object.getOwnPropertyDescriptor(L,_):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(E,L,_,s);else for(var a=E.length-1;a>=0;a--)(n=E[a])&&(c=(m<3?n(c):m>3?n(L,_,c):n(L,_))||c);m>3&&c&&Object.defineProperty(L,_,c)}([l.H],C,"isTouchDevice",null)},34872:(Et,X,e)=>{"use strict";e.d(X,{Y:()=>m,g:()=>c});var d=e(37428),t=e(67719),l=e(98463),S=e(62922),v=e(68123),T=e(827),C=e(80142),E=e(8841),L=e(72715),s=(e(3247),e(55197));class m extends C.JT{constructor(a,p,u={}){super(),this.options=u,this._context=a||this,this._action=p,p instanceof T.aU&&this._register(p.onDidChange(g=>{!this.element||this.handleActionChangeEvent(g)}))}get action(){return this._action}handleActionChangeEvent(a){void 0!==a.enabled&&this.updateEnabled(),void 0!==a.checked&&this.updateChecked(),void 0!==a.class&&this.updateClass(),void 0!==a.label&&(this.updateLabel(),this.updateTooltip()),void 0!==a.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new T.Wi)),this._actionRunner}set actionRunner(a){this._actionRunner=a}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(a){this._context=a}render(a){const p=this.element=a;this._register(S.o.addTarget(a));const u=this.options&&this.options.draggable;u&&(a.draggable=!0,d.isFirefox&&this._register((0,l.nm)(a,l.tw.DRAG_START,g=>{var b;return null===(b=g.dataTransfer)||void 0===b?void 0:b.setData(t.g.TEXT,this._action.label)}))),this._register((0,l.nm)(p,S.t.Tap,g=>this.onClick(g,!0))),this._register((0,l.nm)(p,l.tw.MOUSE_DOWN,g=>{u||l.zB.stop(g,!0),this._action.enabled&&0===g.button&&p.classList.add("active")})),E.dz&&this._register((0,l.nm)(p,l.tw.CONTEXT_MENU,g=>{0===g.button&&!0===g.ctrlKey&&this.onClick(g)})),this._register((0,l.nm)(p,l.tw.CLICK,g=>{l.zB.stop(g,!0),this.options&&this.options.isMenu||this.onClick(g)})),this._register((0,l.nm)(p,l.tw.DBLCLICK,g=>{l.zB.stop(g,!0)})),[l.tw.MOUSE_UP,l.tw.MOUSE_OUT].forEach(g=>{this._register((0,l.nm)(p,g,b=>{l.zB.stop(b),p.classList.remove("active")}))})}onClick(a,p=!1){var u;l.zB.stop(a,!0);const g=L.Jp(this._context)?null!==(u=this.options)&&void 0!==u&&u.useEventAsContext?a:{preserveFocus:p}:this._context;this.actionRunner.run(this._action,g)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(a){this.element&&(this.element.tabIndex=a?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var a;if(!this.element)return;const p=null!==(a=this.getTooltip())&&void 0!==a?a:"";this.element.setAttribute("aria-label",p),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(p):(this.customHover=(0,v.g)(this.options.hoverDelegate,this.element,p),this._store.add(this.customHover))):this.element.title=p}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class c extends m{constructor(a,p,u={}){super(a,p,u),this.options=u,this.options.icon=void 0!==u.icon&&u.icon,this.options.label=void 0===u.label||u.label,this.cssClass=""}render(a){super.render(a),this.element&&(this.label=(0,l.R3)(this.element,(0,l.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this._action.id===T.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"),this.options.label&&this.options.keybinding&&this.element&&((0,l.R3)(this.element,(0,l.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(a){this.label&&(this.label.tabIndex=a?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let a=null;return this.getAction().tooltip?a=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(a=this.getAction().label,this.options.keybinding&&(a=s.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",a,this.options.keybinding))),a??void 0}updateClass(){var a;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(a=this.label)||void 0===a||a.classList.remove("codicon")}updateEnabled(){var a,p;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(a=this.element)||void 0===a||a.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(p=this.element)||void 0===p||p.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},65065:(Et,X,e)=>{"use strict";e.d(X,{o:()=>_});var d=e(98463),t=e(41140),l=e(34872),S=e(827),v=e(3778),T=e(80142),C=e(72715),L=(e(3247),function(s,m,c,n){return new(c||(c=Promise))(function(p,u){function g(D){try{y(n.next(D))}catch(w){u(w)}}function b(D){try{y(n.throw(D))}catch(w){u(w)}}function y(D){D.done?p(D.value):function a(p){return p instanceof c?p:new c(function(u){u(p)})}(D.value).then(g,b)}y((n=n.apply(s,m||[])).next())})});class _ extends T.JT{constructor(m,c={}){var n,a,p,u,g,b;let y,D;switch(super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new v.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new v.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new v.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new v.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=c,this._context=null!==(n=c.context)&&void 0!==n?n:null,this._orientation=null!==(a=this.options.orientation)&&void 0!==a?a:0,this._triggerKeys={keyDown:null!==(u=null===(p=this.options.triggerKeys)||void 0===p?void 0:p.keyDown)&&void 0!==u&&u,keys:null!==(b=null===(g=this.options.triggerKeys)||void 0===g?void 0:g.keys)&&void 0!==b?b:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new S.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(w=>this._onDidRun.fire(w))),this._register(this._actionRunner.onBeforeRun(w=>this._onBeforeRun.fire(w))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==c.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:y=[15],D=[17];break;case 1:y=[16],D=[18],this.domNode.className+=" vertical"}this._register(d.nm(this.domNode,d.tw.KEY_DOWN,w=>{const I=new t.y(w);let P=!0;const O="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;y&&(I.equals(y[0])||I.equals(y[1]))?P=this.focusPrevious():D&&(I.equals(D[0])||I.equals(D[1]))?P=this.focusNext():I.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():I.equals(14)?P=this.focusFirst():I.equals(13)?P=this.focusLast():I.equals(2)&&O instanceof l.Y&&O.trapsArrowNavigation?P=this.focusNext():this.isTriggerKeyEvent(I)?this._triggerKeys.keyDown?this.doTrigger(I):this.triggerKeyDown=!0:P=!1,P&&(I.preventDefault(),I.stopPropagation())})),this._register(d.nm(this.domNode,d.tw.KEY_UP,w=>{const I=new t.y(w);this.isTriggerKeyEvent(I)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(I)),I.preventDefault(),I.stopPropagation()):(I.equals(2)||I.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(d.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(d.vY()===this.domNode||!d.jg(d.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),m.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(m){if(this.focusable=m,this.focusable){const c=this.viewItems.find(n=>n instanceof l.Y&&n.isEnabled());c instanceof l.Y&&c.setFocusable(!0)}else this.viewItems.forEach(c=>{c instanceof l.Y&&c.setFocusable(!1)})}isTriggerKeyEvent(m){let c=!1;return this._triggerKeys.keys.forEach(n=>{c=c||m.equals(n)}),c}updateFocusedItem(){for(let m=0;m<this.actionsList.children.length;m++){const c=this.actionsList.children[m];if(d.jg(d.vY(),c)){this.focusedItem=m;break}}}get context(){return this._context}set context(m){this._context=m,this.viewItems.forEach(c=>c.setActionContext(m))}get actionRunner(){return this._actionRunner}set actionRunner(m){m&&(this._actionRunner=m,this.viewItems.forEach(c=>c.actionRunner=m))}getContainer(){return this.domNode}push(m,c={}){const n=Array.isArray(m)?m:[m];let a=C.hj(c.index)?c.index:null;n.forEach(p=>{const u=document.createElement("li");let g;u.className="action-item",u.setAttribute("role","presentation"),this.options.actionViewItemProvider&&(g=this.options.actionViewItemProvider(p)),g||(g=new l.g(this.context,p,Object.assign({hoverDelegate:this.options.hoverDelegate},c))),this.options.allowContextMenu||this.viewItemDisposables.set(g,d.nm(u,d.tw.CONTEXT_MENU,b=>{d.zB.stop(b,!0)})),g.actionRunner=this._actionRunner,g.setActionContext(this.context),g.render(u),this.focusable&&g instanceof l.Y&&0===this.viewItems.length&&g.setFocusable(!0),null===a||a<0||a>=this.actionsList.children.length?(this.actionsList.appendChild(u),this.viewItems.push(g),this._actionIds.push(p.id)):(this.actionsList.insertBefore(u,this.actionsList.children[a]),this.viewItems.splice(a,0,g),this._actionIds.splice(a,0,p.id),a++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,T.B9)(this.viewItems),this.viewItemDisposables.forEach(m=>m.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],d.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(m){let n,c=!1;if(void 0===m?c=!0:"number"==typeof m?n=m:"boolean"==typeof m&&(c=m),c&&typeof this.focusedItem>"u"){const a=this.viewItems.findIndex(p=>p.isEnabled());this.focusedItem=-1===a?void 0:a,this.updateFocus(void 0,void 0,!0)}else void 0!==n&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(m){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const c=this.focusedItem;let n;do{if(!m&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=c,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==c&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===S.Z0.ID));return this.updateFocus(),!0}focusPrevious(m){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const c=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!m&&this.options.preventLoopNavigation)return this.focusedItem=c,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==c&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===S.Z0.ID));return this.updateFocus(!0),!0}updateFocus(m,c,n=!1){var a;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:c}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(a=this.viewItems[this.previouslyFocusedItem])||void 0===a||a.blur());const p=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(p){let u=!0;C.mf(p.focus)||(u=!1),this.options.focusOnlyEnabledItems&&C.mf(p.isEnabled)&&!p.isEnabled()&&(u=!1),p.action.id===S.Z0.ID&&(u=!1),u?(n||this.previouslyFocusedItem!==this.focusedItem)&&(p.focus(m),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:c}),this.previouslyFocusedItem=void 0)}}doTrigger(m){if(typeof this.focusedItem>"u")return;const c=this.viewItems[this.focusedItem];c instanceof l.Y&&this.run(c._action,null==c._context?m:c._context)}run(m,c){return L(this,void 0,void 0,function*(){yield this._actionRunner.run(m,c)})}dispose(){(0,T.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},59797:(Et,X,e)=>{"use strict";e.d(X,{Z9:()=>H,wW:()=>O,i7:()=>U});var d=e(98463),t=e(8841),l=e(57856),S=e.n(l),v=e(38470),T=e.n(v),C=e(43370),E=e.n(C),L=e(28458),_=e.n(L),s=e(71278),m=e.n(s),c=e(29488),n=e.n(c),a=e(38022),p={};let y,D,w,I,P;function O(F){y=document.createElement("div"),y.className="monaco-aria-container";const B=()=>{const $=document.createElement("div");return $.className="monaco-alert",$.setAttribute("role","alert"),$.setAttribute("aria-atomic","true"),y.appendChild($),$};D=B(),w=B();const z=()=>{const $=document.createElement("div");return $.className="monaco-status",$.setAttribute("role","complementary"),$.setAttribute("aria-live","polite"),$.setAttribute("aria-atomic","true"),y.appendChild($),$};I=z(),P=z(),F.appendChild(y)}function H(F){!y||(D.textContent!==F?(d.PO(w),K(D,F)):(d.PO(D),K(w,F)))}function U(F){!y||(t.dz?H(F):I.textContent!==F?(d.PO(P),K(I,F)):(d.PO(I),K(P,F)))}function K(F,B){d.PO(F),B.length>2e4&&(B=B.substr(0,2e4)),F.textContent=B,F.style.visibility="hidden",F.style.visibility="visible"}p.styleTagTransform=n(),p.setAttributes=_(),p.insert=E().bind(null,"head"),p.domAPI=T(),p.insertStyleElement=m(),S()(a.Z,p)},82099:(Et,X,e)=>{"use strict";e.d(X,{a:()=>w});var d=e(58783),t=e(57856),l=e.n(t),S=e(38470),v=e.n(S),T=e(43370),C=e.n(T),E=e(28458),L=e.n(E),_=e(71278),s=e.n(_),m=e(29488),c=e.n(m),n=e(72981),a={};a.styleTagTransform=c(),a.setAttributes=L(),a.insert=C().bind(null,"head"),a.domAPI=v(),a.insertStyleElement=s(),l()(n.Z,a);var g=e(21756),b={};function w(I){let P=I.definition;for(;P instanceof d.lA;)P=P.definition;return`.codicon-${I.id}:before { content: '${P.fontCharacter}'; }`}b.styleTagTransform=c(),b.setAttributes=L(),b.insert=C().bind(null,"head"),b.domAPI=v(),b.insertStyleElement=s(),l()(g.Z,b)},30535:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>w});var d=e(98463),t=e(69355),l=e(6276),S=e(73879),v=e(57856),T=e.n(v),C=e(38470),E=e.n(C),L=e(43370),_=e.n(L),s=e(28458),m=e.n(s),c=e(71278),n=e.n(c),a=e(29488),p=e.n(a),u=e(12003),g={};g.styleTagTransform=p(),g.setAttributes=m(),g.insert=_().bind(null,"head"),g.domAPI=E(),g.insertStyleElement=n(),T()(u.Z,g);const D={badgeBackground:t.Il.fromHex("#4D4D4D"),badgeForeground:t.Il.fromHex("#FFFFFF")};class w{constructor(P,O){this.count=0,this.options=O||Object.create(null),(0,l.jB)(this.options,D,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,d.R3)(P,(0,d.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(P){this.count=P,this.render()}setTitleFormat(P){this.titleFormat=P,this.render()}render(){this.element.textContent=(0,S.WU)(this.countFormat,this.count),this.element.title=(0,S.WU)(this.titleFormat,this.count),this.applyStyles()}style(P){this.badgeBackground=P.badgeBackground,this.badgeForeground=P.badgeForeground,this.badgeBorder=P.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const P=this.badgeBackground?this.badgeBackground.toString():"",O=this.badgeForeground?this.badgeForeground.toString():"",H=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=P,this.element.style.color=O,this.element.style.borderWidth=H?"1px":"",this.element.style.borderStyle=H?"solid":"",this.element.style.borderColor=H}}}},21040:(Et,X,e)=>{"use strict";e.d(X,{C:()=>O});var d=e(98463),t=e(34872),l=e(41140),S=e(62922),v=e(827),T=e(3778),C=e(57856),E=e.n(C),L=e(38470),_=e.n(L),s=e(43370),m=e.n(s),c=e(28458),n=e.n(c),a=e(71278),p=e.n(a),u=e(29488),g=e.n(u),b=e(35437),y={};y.styleTagTransform=g(),y.setAttributes=n(),y.insert=m().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=p(),E()(b.Z,y);class I extends v.Wi{constructor(U,K){super(),this._onDidChangeVisibility=this._register(new T.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,d.R3)(U,(0,d.$)(".monaco-dropdown")),this._label=(0,d.R3)(this._element,(0,d.$)(".dropdown-label"));let F=K.labelRenderer;F||(F=z=>(z.textContent=K.label||"",null));for(const z of[d.tw.CLICK,d.tw.MOUSE_DOWN,S.t.Tap])this._register((0,d.nm)(this.element,z,$=>d.zB.stop($,!0)));for(const z of[d.tw.MOUSE_DOWN,S.t.Tap])this._register((0,d.nm)(this._label,z,$=>{$ instanceof MouseEvent&&($.detail>1||0!==$.button)||(this.visible?this.hide():this.show())}));this._register((0,d.nm)(this._label,d.tw.KEY_UP,z=>{const $=new l.y(z);($.equals(3)||$.equals(10))&&(d.zB.stop(z,!0),this.visible?this.hide():this.show())}));const B=F(this._label);B&&this._register(B),this._register(S.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class P extends I{constructor(U,K){super(U,K),this._actions=[],this._contextMenuProvider=K.contextMenuProvider,this.actions=K.actions||[],this.actionProvider=K.actionProvider,this.menuClassName=K.menuClassName||"",this.menuAsChild=!!K.menuAsChild}set menuOptions(U){this._menuOptions=U}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(U){this._actions=U}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:U=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(U):void 0,getKeyBinding:U=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(U):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class O extends t.Y{constructor(U,K,F,B=Object.create(null)){super(null,U,B),this.actionItem=null,this._onDidChangeVisibility=this._register(new T.Q5),this.menuActionsOrProvider=K,this.contextMenuProvider=F,this.options=B,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(U){this.actionItem=U;const F=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new P(U,{contextMenuProvider:this.contextMenuProvider,labelRenderer:z=>{this.element=(0,d.R3)(z,(0,d.$)("a.action-label"));let $=[];return"string"==typeof this.options.classNames?$=this.options.classNames.split(/\s+/g).filter(j=>!!j):this.options.classNames&&($=this.options.classNames),$.find(j=>"icon"===j)||$.push("codicon"),this.element.classList.add(...$),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:F?this.menuActionsOrProvider:void 0,actionProvider:F?void 0:this.menuActionsOrProvider})),this._register(this.dropdownMenu.onDidChangeVisibility(z=>{var $;null===($=this.element)||void 0===$||$.setAttribute("aria-expanded",`${z}`),this._onDidChangeVisibility.fire(z)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const z=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return z.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let U=null;return this.getAction().tooltip?U=this.getAction().tooltip:this.getAction().label&&(U=this.getAction().label),U??void 0}setActionContext(U){super.setActionContext(U),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=U:this.dropdownMenu.menuOptions={context:U})}updateEnabled(){var U,K;const F=!this.getAction().enabled;null===(U=this.actionItem)||void 0===U||U.classList.toggle("disabled",F),null===(K=this.element)||void 0===K||K.classList.toggle("disabled",F)}}},96841:(Et,X,e)=>{"use strict";e.d(X,{V:()=>L});var d=e(98463),t=e(75789),l=e(1689),S=e(5183),v=e(3778);e(51426);const E=e(55197).NC("defaultLabel","input");class L extends S.${constructor(s,m,c,n){var a;super(),this._showOptionButtons=c,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new v.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new v.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new v.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new v.Q5),this._onKeyUp=this._register(new v.Q5),this._onCaseSensitiveKeyDown=this._register(new v.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new v.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=m,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||E,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const p=n.appendCaseSensitiveLabel||"",u=n.appendWholeWordsLabel||"",g=n.appendRegexLabel||"",b=n.history||[],y=!!n.flexibleHeight,D=!!n.flexibleWidth,w=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new l.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:b,showHistoryHint:n.showHistoryHint,flexibleHeight:y,flexibleWidth:D,flexibleMaxHeight:w})),this.regex=this._register(new t.eH({appendTitle:g,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(P=>{this._onRegexKeyDown.fire(P)})),this.wholeWords=this._register(new t.Qx({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new t.rk({appendTitle:p,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(P=>{this._onDidOptionChange.fire(P),!P&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(P=>{this._onCaseSensitiveKeyDown.fire(P)}));const I=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,P=>{if(P.equals(15)||P.equals(17)||P.equals(9)){const O=I.indexOf(document.activeElement);if(O>=0){let H=-1;P.equals(17)?H=(O+1)%I.length:P.equals(15)&&(H=0===O?I.length-1:O-1),P.equals(9)?(I[O].blur(),this.inputBox.focus()):H>=0&&I[H].focus(),d.zB.stop(P,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const P of null!==(a=n?.additionalToggles)&&void 0!==a?a:[])this._register(P),this.controls.appendChild(P.domNode),this._register(P.onChange(O=>{this._onDidOptionChange.fire(O),!O&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(P);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((P,O)=>P+O.width(),0),this.domNode.appendChild(this.controls),s?.appendChild(this.domNode),this._register(d.nm(this.inputBox.inputElement,"compositionstart",P=>{this.imeSessionInProgress=!0})),this._register(d.nm(this.inputBox.inputElement,"compositionend",P=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,P=>this._onKeyDown.fire(P)),this.onkeyup(this.inputBox.inputElement,P=>this._onKeyUp.fire(P)),this.oninput(this.inputBox.inputElement,P=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,P=>this._onMouseDown.fire(P))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const s of this.additionalToggles)s.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const s of this.additionalToggles)s.disable()}setFocusInputOnOptionClick(s){this.fixFocusOnOptionClickEnabled=s}setEnabled(s){s?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(s){this.inputBox.value!==s&&(this.inputBox.value=s)}style(s){this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const s={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(s),this.wholeWords.style(s),this.caseSensitive.style(s);for(const c of this.additionalToggles)c.style(s);this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder})}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(s){this.caseSensitive.checked=s}getWholeWords(){return this.wholeWords.checked}setWholeWords(s){this.wholeWords.checked=s}getRegex(){return this.regex.checked}setRegex(s){this.regex.checked=s,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(s){this.inputBox.showMessage(s)}clearMessage(){this.inputBox.hideMessage()}}},75789:(Et,X,e)=>{"use strict";e.d(X,{Qx:()=>E,eH:()=>L,rk:()=>C});var d=e(99952),t=e(58783),l=e(55197);const S=l.NC("caseDescription","Match Case"),v=l.NC("wordsDescription","Match Whole Word"),T=l.NC("regexDescription","Use Regular Expression");class C extends d.Z{constructor(s){super({icon:t.lA.caseSensitive,title:S+s.appendTitle,isChecked:s.isChecked,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}class E extends d.Z{constructor(s){super({icon:t.lA.wholeWord,title:v+s.appendTitle,isChecked:s.isChecked,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}class L extends d.Z{constructor(s){super({icon:t.lA.regex,title:T+s.appendTitle,isChecked:s.isChecked,inputActiveOptionBorder:s.inputActiveOptionBorder,inputActiveOptionForeground:s.inputActiveOptionForeground,inputActiveOptionBackground:s.inputActiveOptionBackground})}}},87969:(Et,X,e)=>{"use strict";e.d(X,{q:()=>S});var d=e(98463),t=e(97139),l=e(6276);class S{constructor(T,C){var E;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(E=C?.supportIcons)&&void 0!==E&&E,this.domNode=d.R3(T,d.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(T,C=[],E="",L){T||(T=""),L&&(T=S.escapeNewLines(T,C)),(!this.didEverRender||this.text!==T||this.title!==E||!l.fS(this.highlights,C))&&(this.text=T,this.title=E,this.highlights=C,this.render())}render(){const T=[];let C=0;for(const E of this.highlights){if(E.end===E.start)continue;if(C<E.start){const s=this.text.substring(C,E.start);T.push(d.$("span",void 0,...this.supportIcons?(0,t.T)(s):[s])),C=E.end}const L=this.text.substring(E.start,E.end),_=d.$("span.highlight",void 0,...this.supportIcons?(0,t.T)(L):[L]);E.extraClasses&&_.classList.add(...E.extraClasses),T.push(_),C=E.end}if(C<this.text.length){const E=this.text.substring(C);T.push(d.$("span",void 0,...this.supportIcons?(0,t.T)(E):[E]))}d.mc(this.domNode,...T),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(T,C){let E=0,L=0;return T.replace(/\r\n|\r|\n/g,(_,s)=>{L="\r\n"===_?-1:0,s+=E;for(const m of C)m.end<=s||(m.start>=s&&(m.start+=L),m.end>=s&&(m.end+=L));return E+=L,"\u23ce"})}}},80757:(Et,X,e)=>{"use strict";e.d(X,{g:()=>P});var d=e(57856),t=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(64047),n={};n.styleTagTransform=m(),n.setAttributes=E(),n.insert=T().bind(null,"head"),n.domAPI=S(),n.insertStyleElement=_(),t()(c.Z,n);var u=e(98463),g=e(87969),b=e(68123),y=e(80142),D=e(6276),w=e(36969);class I{constructor(F){this._element=F}get element(){return this._element}set textContent(F){this.disposed||F===this._textContent||(this._textContent=F,this._element.textContent=F)}set className(F){this.disposed||F===this._className||(this._className=F,this._element.className=F)}set empty(F){this.disposed||F===this._empty||(this._empty=F,this._element.style.marginLeft=F?"0":"")}dispose(){this.disposed=!0}}class P extends y.JT{constructor(F,B){super(),this.customHovers=new Map,this.domNode=this._register(new I(u.R3(F,u.$(".monaco-icon-label")))),this.labelContainer=u.R3(this.domNode.element,u.$(".monaco-icon-label-container"));const z=u.R3(this.labelContainer,u.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new I(u.R3(this.labelContainer,u.$("span.monaco-icon-description-container")))),this.nameNode=B?.supportHighlights||B?.supportIcons?new U(z,!!B.supportIcons):new O(z),this.descriptionNodeFactory=B?.supportDescriptionHighlights?()=>new g.q(u.R3(this.descriptionContainer.element,u.$("span.label-description")),{supportIcons:!!B.supportIcons}):()=>this._register(new I(u.R3(this.descriptionContainer.element,u.$("span.label-description")))),this.hoverDelegate=B?.hoverDelegate}get element(){return this.domNode.element}setLabel(F,B,z){const $=["monaco-icon-label"];z&&(z.extraClasses&&$.push(...z.extraClasses),z.italic&&$.push("italic"),z.strikethrough&&$.push("strikethrough")),this.domNode.className=$.join(" "),this.setupHover(z?.descriptionTitle?this.labelContainer:this.element,z?.title),this.nameNode.setLabel(F,z),(B||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof g.q?(this.descriptionNode.set(B||"",z?z.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,z?.descriptionTitle)):(this.descriptionNode.textContent=B||"",this.setupHover(this.descriptionNode.element,z?.descriptionTitle||""),this.descriptionNode.empty=!B))}setupHover(F,B){const z=this.customHovers.get(F);if(z&&(z.dispose(),this.customHovers.delete(F)),B)if(this.hoverDelegate){const $=(0,b.g)(this.hoverDelegate,F,B);$&&this.customHovers.set(F,$)}else(0,b.O)(F,B);else F.removeAttribute("title")}dispose(){super.dispose();for(const F of this.customHovers.values())F.dispose();this.customHovers.clear()}}class O{constructor(F){this.container=F,this.label=void 0,this.singleLabel=void 0}setLabel(F,B){if(this.label!==F||!(0,D.fS)(this.options,B))if(this.label=F,this.options=B,"string"==typeof F)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=u.R3(this.container,u.$("a.label-name",{id:B?.domId}))),this.singleLabel.textContent=F;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let z=0;z<F.length;z++)u.R3(this.container,u.$("a.label-name",{id:B?.domId&&`${B?.domId}_${z}`,"data-icon-label-count":F.length,"data-icon-label-index":z,role:"treeitem"},F[z])),z<F.length-1&&u.R3(this.container,u.$("span.label-separator",void 0,B?.separator||"/"))}}}class U{constructor(F,B){this.container=F,this.supportIcons=B,this.label=void 0,this.singleLabel=void 0}setLabel(F,B){if(this.label!==F||!(0,D.fS)(this.options,B))if(this.label=F,this.options=B,"string"==typeof F)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new g.q(u.R3(this.container,u.$("a.label-name",{id:B?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(F,B?.matches,void 0,B?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const z=B?.separator||"/",$=function H(K,F,B){if(!B)return;let z=0;return K.map($=>{const j={start:z,end:z+$.length},ne=B.map(N=>w.e.intersect(j,N)).filter(N=>!w.e.isEmpty(N)).map(({start:N,end:V})=>({start:N-z,end:V-z}));return z=j.end+F.length,ne})}(F,z,B?.matches);for(let j=0;j<F.length;j++){const ne=F[j],N=$?$[j]:void 0,Z=u.$("a.label-name",{id:B?.domId&&`${B?.domId}_${j}`,"data-icon-label-count":F.length,"data-icon-label-index":j,role:"treeitem"});new g.q(u.R3(this.container,Z),{supportIcons:this.supportIcons}).set(ne,N,void 0,B?.labelEscapeNewLines),j<F.length-1&&u.R3(Z,u.$("span.label-separator",void 0,z))}}}}},68123:(Et,X,e)=>{"use strict";e.d(X,{O:()=>_,g:()=>m});var d=e(98463),t=e(48648),l=e(73888),S=e(48701),v=e(59882),T=e(80142),C=e(72715),E=e(55197),L=function(c,n,a,p){return new(a||(a=Promise))(function(g,b){function y(I){try{w(p.next(I))}catch(P){b(P)}}function D(I){try{w(p.throw(I))}catch(P){b(P)}}function w(I){I.done?g(I.value):function u(g){return g instanceof a?g:new a(function(b){b(g)})}(I.value).then(y,D)}w((p=p.apply(c,n||[])).next())})};function _(c,n){(0,C.HD)(n)?c.title=(0,v.x$)(n):n?.markdownNotSupportedFallback?c.title=n.markdownNotSupportedFallback:c.removeAttribute("title")}class s{constructor(n,a,p){this.hoverDelegate=n,this.target=a,this.fadeInAnimation=p}update(n,a,p){var u;return L(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let g;if(void 0===n||(0,C.HD)(n)||n instanceof HTMLElement)g=n;else if((0,C.mf)(n.markdown)){this._hoverWidget||this.show((0,E.NC)("iconLabel.loading","Loading..."),a),this._cancellationTokenSource=new l.A;const b=this._cancellationTokenSource.token;if(g=yield n.markdown(b),void 0===g&&(g=n.markdownNotSupportedFallback),this.isDisposed||b.isCancellationRequested)return}else g=null!==(u=n.markdown)&&void 0!==u?u:n.markdownNotSupportedFallback;this.show(g,a,p)})}show(n,a,p){const u=this._hoverWidget;if(this.hasContent(n)){const g=Object.assign({content:n,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!u},p);this._hoverWidget=this.hoverDelegate.showHover(g,a)}u?.dispose()}hasContent(n){return!(!n||(0,S.Fr)(n)&&!n.value)}get isDisposed(){var n;return null===(n=this._hoverWidget)||void 0===n?void 0:n.isDisposed}dispose(){var n,a;null===(n=this._hoverWidget)||void 0===n||n.dispose(),null===(a=this._cancellationTokenSource)||void 0===a||a.dispose(!0),this._cancellationTokenSource=void 0}}function m(c,n,a,p){let u,g;const b=(P,O)=>{var H;P&&(g?.dispose(),g=void 0),O&&(u?.dispose(),u=void 0),null===(H=c.onDidHideHover)||void 0===H||H.call(c)},y=(P,O,H)=>new t._F(()=>L(this,void 0,void 0,function*(){(!g||g.isDisposed)&&(g=new s(c,H||n,P>0),yield g.update(a,O,p))}),P),w=d.nm(n,d.tw.MOUSE_OVER,()=>{if(u)return;const P=new T.SL;P.add(d.nm(n,d.tw.MOUSE_LEAVE,K=>b(!1,K.fromElement===n),!0)),P.add(d.nm(n,d.tw.MOUSE_DOWN,()=>b(!0,!0),!0));const U={targetElements:[n],dispose:()=>{}};void 0!==c.placement&&"mouse"!==c.placement||P.add(d.nm(n,d.tw.MOUSE_MOVE,F=>{U.x=F.x+10,F.target instanceof HTMLElement&&F.target.classList.contains("action-label")&&b(!0,!0)},!0)),P.add(y(c.delay,!1,U)),u=P},!0);return{show:P=>{b(!1,!0),y(0,P)},hide:()=>{b(!0,!0)},update:(P,O)=>L(this,void 0,void 0,function*(){a=P,yield g?.update(a,void 0,O)}),dispose:()=>{w.dispose(),b(!0,!0)}}}},97139:(Et,X,e)=>{"use strict";e.d(X,{T:()=>S});var d=e(98463),t=e(58783);const l=new RegExp(`(\\\\)?\\$\\((${t.dT.iconNameExpression}(?:${t.dT.iconModifierExpression})?)\\)`,"g");function S(T){const C=new Array;let E,L=0,_=0;for(;null!==(E=l.exec(T));){_=E.index||0,C.push(T.substring(L,_)),L=(E.index||0)+E[0].length;const[,s,m]=E;C.push(s?`$(${m})`:v({id:m}))}return L<T.length&&C.push(T.substring(L)),C}function v(T){const C=d.$("span");return C.classList.add(...t.dT.asClassNameArray(T)),C}},1689:(Et,X,e)=>{"use strict";e.d(X,{p:()=>j,W:()=>$});var d=e(98463),t=e(75366),l=e(86998),S=e(65065),v=e(59797),T=e(3067),C=e(5183),E=e(69355),L=e(3778);class _{constructor(N,V=0,Z=N.length,fe=V-1){this.items=N,this.start=V,this.end=Z,this.index=fe}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class s{constructor(N=[],V=10){this._initialize(N),this._limit=V,this._onChange()}getHistory(){return this._elements}add(N){this._history.delete(N),this._history.add(N),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(N){return this._history.has(N)}_onChange(){this._reduceToLimit();const N=this._elements;this._navigator=new _(N,0,N.length,N.length)}_reduceToLimit(){const N=this._elements;N.length>this._limit&&this._initialize(N.slice(N.length-this._limit))}_currentPosition(){const N=this._navigator.current();return N?this._elements.indexOf(N):-1}_initialize(N){this._history=new Set;for(const V of N)this._history.add(V)}get _elements(){const N=[];return this._history.forEach(V=>N.push(V)),N}}var m=e(6276),c=e(57856),n=e.n(c),a=e(38470),p=e.n(a),u=e(43370),g=e.n(u),b=e(28458),y=e.n(b),D=e(71278),w=e.n(D),I=e(29488),P=e.n(I),O=e(4260),H={};H.styleTagTransform=P(),H.setAttributes=y(),H.insert=g().bind(null,"head"),H.domAPI=p(),H.insertStyleElement=w(),n()(O.Z,H);var F=e(55197);const B=d.$,z={inputBackground:E.Il.fromHex("#3C3C3C"),inputForeground:E.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:E.Il.fromHex("#55AAFF"),inputValidationInfoBackground:E.Il.fromHex("#063B49"),inputValidationWarningBorder:E.Il.fromHex("#B89500"),inputValidationWarningBackground:E.Il.fromHex("#352A05"),inputValidationErrorBorder:E.Il.fromHex("#BE1100"),inputValidationErrorBackground:E.Il.fromHex("#5A1D1D")};class $ extends C.${constructor(N,V,Z){var fe;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new L.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new L.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=V,this.options=Z||Object.create(null),(0,m.jB)(this.options,z,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(fe=this.options.tooltip)&&void 0!==fe?fe:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=d.R3(N,B(".monaco-inputbox.idle"));const M=this.options.flexibleHeight?"textarea":"input",Se=d.R3(this.element,B(".ibwrapper"));if(this.input=d.R3(Se,B(M+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=d.R3(Se,B("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new T.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),d.R3(N,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(Ne=>this.input.scrollTop=Ne.scrollTop));const Ee=this._register(new t.Y(document,"selectionchange")),Le=L.ju.filter(Ee.event,()=>document.getSelection()?.anchorNode===Se);this._register(Le(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new S.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(N){this.placeholder=N,this.input.setAttribute("placeholder",N)}setTooltip(N){this.tooltip=N,this.input.title=N}setAriaLabel(N){this.ariaLabel=N,N?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(N){this.input.value!==N&&(this.input.value=N,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:d.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(N=null){this.input.select(),N&&(this.input.setSelectionRange(N.start,N.end),N.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return d.w(this.input)}set width(N){if(this.options.flexibleHeight&&this.options.flexibleWidth){let V=0;this.mirror&&(V=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)),this.input.style.width=N-V+"px"}else this.input.style.width=N+"px";this.mirror&&(this.mirror.style.width=N+"px")}set paddingRight(N){this.input.style.width=`calc(100% - ${N}px)`,this.mirror&&(this.mirror.style.paddingRight=N+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const Z=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:Z})}showMessage(N,V){this.message=N,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(N.type));const Z=this.stylesForType(this.message.type);this.element.style.border=Z.border?`1px solid ${Z.border}`:"",(this.hasFocus()||V)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let N=null;return this.validation&&(N=this.validation(this.value),N?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(N)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),N?.type}stylesForType(N){switch(N){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(N){switch(N){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let N;const V=()=>N.style.width=d.w(this.element)+"px";let Z;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:fe=>{if(!this.message)return null;N=d.R3(fe,B(".monaco-inputbox-container")),V();const M={inline:!0,className:"monaco-inputbox-message"},Se=this.message.formatContent?(0,l.BO)(this.message.content,M):(0,l.IY)(this.message.content,M);Se.classList.add(this.classForType(this.message.type));const Ee=this.stylesForType(this.message.type);return Se.style.backgroundColor=Ee.background?Ee.background.toString():"",Se.style.color=Ee.foreground?Ee.foreground.toString():"",Se.style.border=Ee.border?`1px solid ${Ee.border}`:"",d.R3(N,Se),null},onHide:()=>{this.state="closed"},layout:V}),Z=3===this.message.type?F.NC("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?F.NC("alertWarningMessage","Warning: {0}",this.message.content):F.NC("alertInfoMessage","Info: {0}",this.message.content),v.Z9(Z),this.state="open"}_hideMessage(){!this.contextViewProvider||("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const N=this.value,Z=10===N.charCodeAt(N.length-1)?" ":"";(N+Z).replace(/\u000c/g,"")?this.mirror.textContent=N+Z:this.mirror.innerText="\xa0",this.layout()}style(N){this.inputBackground=N.inputBackground,this.inputForeground=N.inputForeground,this.inputBorder=N.inputBorder,this.inputValidationInfoBackground=N.inputValidationInfoBackground,this.inputValidationInfoForeground=N.inputValidationInfoForeground,this.inputValidationInfoBorder=N.inputValidationInfoBorder,this.inputValidationWarningBackground=N.inputValidationWarningBackground,this.inputValidationWarningForeground=N.inputValidationWarningForeground,this.inputValidationWarningBorder=N.inputValidationWarningBorder,this.inputValidationErrorBackground=N.inputValidationErrorBackground,this.inputValidationErrorForeground=N.inputValidationErrorForeground,this.inputValidationErrorBorder=N.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const N=this.inputBackground?this.inputBackground.toString():"",V=this.inputForeground?this.inputForeground.toString():"",Z=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=N,this.element.style.color=V,this.input.style.backgroundColor="inherit",this.input.style.color=V,this.element.style.borderWidth=Z?"1px":"",this.element.style.borderStyle=Z?"solid":"",this.element.style.borderColor=Z}layout(){if(!this.mirror)return;const N=this.cachedContentHeight;this.cachedContentHeight=d.wn(this.mirror),N!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(N){const V=this.inputElement,Z=V.selectionStart,fe=V.selectionEnd,M=V.value;null!==Z&&null!==fe&&(this.value=M.substr(0,Z)+N+M.substr(fe),V.setSelectionRange(Z+1,Z+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class j extends ${constructor(N,V,Z){const fe=F.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),M=` or \u21c5 ${fe}`,Se=` (\u21c5 ${fe})`;super(N,V,Z),this._onDidFocus=this._register(new L.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new L.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new s(Z.history,100);const Ee=()=>{if(Z.showHistoryHint&&Z.showHistoryHint()&&!this.placeholder.endsWith(M)&&!this.placeholder.endsWith(Se)&&this.history.getHistory().length){const Le=this.placeholder.endsWith(")")?M:Se,Ne=this.placeholder+Le;Z.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=Ne:this.setPlaceHolder(Ne)}};this.observer=new MutationObserver((Le,Ne)=>{Le.forEach(oe=>{oe.target.textContent||Ee()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>Ee()),this.onblur(this.input,()=>{const Le=Ne=>{if(this.placeholder.endsWith(Ne)){const oe=this.placeholder.slice(0,this.placeholder.length-Ne.length);return Z.showPlaceholderOnFocus?this.placeholder=oe:this.setPlaceHolder(oe),!0}return!1};Le(Se)||Le(M)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let N=this.getNextValue();N&&(N=N===this.value?this.getNextValue():N),N&&(this.value=N,v.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let N=this.getPreviousValue();N&&(N=N===this.value?this.getPreviousValue():N),N&&(this.value=N,v.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let N=this.history.current();return N||(N=this.history.last(),this.history.next()),N}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},15175:(Et,X,e)=>{"use strict";e.d(X,{A:()=>d});class d extends Error{constructor(l,S){super(`ListError [${l}] ${S}`)}}},66127:(Et,X,e)=>{"use strict";e.d(X,{kX:()=>I,Bv:()=>K});var d=e(37428),t=e(67719),l=e(98463),S=e(75366),v=e(62922),T=e(3067),C=e(64023),E=e(48648),L=e(66471),_=e(3778),s=e(80142),m=e(36969),c=e(87188);function n(F,B){const z=[];for(const $ of B){if(F.start>=$.range.end)continue;if(F.end<$.range.start)break;const j=m.e.intersect(F,$.range);m.e.isEmpty(j)||z.push({range:j,size:$.size})}return z}function a({start:F,end:B},z){return{start:F+z,end:B+z}}class g{constructor(){this.groups=[],this._size=0}splice(B,z,$=[]){const j=$.length-z,ne=n({start:0,end:B},this.groups),N=n({start:B+z,end:Number.POSITIVE_INFINITY},this.groups).map(Z=>({range:a(Z.range,j),size:Z.size})),V=$.map((Z,fe)=>({range:{start:B+fe,end:B+fe+1},size:Z.size}));this.groups=function u(...F){return function p(F){const B=[];let z=null;for(const $ of F){const j=$.range.start,ne=$.range.end,N=$.size;z&&N===z.size?z.range.end=ne:(z={range:{start:j,end:ne},size:N},B.push(z))}return B}(F.reduce((B,z)=>B.concat(z),[]))}(ne,V,N),this._size=this.groups.reduce((Z,fe)=>Z+fe.size*(fe.range.end-fe.range.start),0)}get count(){const B=this.groups.length;return B?this.groups[B-1].range.end:0}get size(){return this._size}indexAt(B){if(B<0)return-1;let z=0,$=0;for(const j of this.groups){const ne=j.range.end-j.range.start,N=$+ne*j.size;if(B<N)return z+Math.floor((B-$)/j.size);z+=ne,$=N}return z}indexAfter(B){return Math.min(this.indexAt(B)+1,this.count)}positionAt(B){if(B<0)return-1;let z=0,$=0;for(const j of this.groups){const ne=j.range.end-j.range.start,N=$+ne;if(B<N)return z+(B-$)*j.size;z+=ne*j.size,$=N}return-1}}class y{constructor(B){this.renderers=B,this.cache=new Map}alloc(B){let z=this.getTemplateCache(B).pop();if(!z){const $=(0,l.$)(".monaco-list-row");z={domNode:$,templateId:B,templateData:this.getRenderer(B).renderTemplate($)}}return z}release(B){!B||this.releaseRow(B)}releaseRow(B){const{domNode:z,templateId:$}=B;z&&(z.classList.remove("scrolling"),function b(F){var B;try{null===(B=F.parentElement)||void 0===B||B.removeChild(F)}catch{}}(z)),this.getTemplateCache($).push(B)}getTemplateCache(B){let z=this.cache.get(B);return z||(z=[],this.cache.set(B,z)),z}dispose(){this.cache.forEach((B,z)=>{for(const $ of B)this.getRenderer(z).disposeTemplate($.templateData),$.templateData=null}),this.cache.clear()}getRenderer(B){const z=this.renderers.get(B);if(!z)throw new Error(`No renderer found for ${B}`);return z}}var D=function(F,B,z,$){var N,j=arguments.length,ne=j<3?B:null===$?$=Object.getOwnPropertyDescriptor(B,z):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(F,B,z,$);else for(var V=F.length-1;V>=0;V--)(N=F[V])&&(ne=(j<3?N(ne):j>3?N(B,z,ne):N(B,z))||ne);return j>3&&ne&&Object.defineProperty(B,z,ne),ne};const w={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:F=>[F],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class I{constructor(B){this.elements=B}update(){}getData(){return this.elements}}class P{constructor(B){this.elements=B}update(){}getData(){return this.elements}}class O{constructor(){this.types=[],this.files=[]}update(B){if(B.types&&this.types.splice(0,this.types.length,...B.types),B.files){this.files.splice(0,this.files.length);for(let z=0;z<B.files.length;z++){const $=B.files.item(z);$&&($.size||$.type)&&this.files.push($)}}}getData(){return{types:this.types,files:this.files}}}class U{constructor(B){this.getSetSize=B?.getSetSize?B.getSetSize.bind(B):(z,$,j)=>j,this.getPosInSet=B?.getPosInSet?B.getPosInSet.bind(B):(z,$)=>$+1,this.getRole=B?.getRole?B.getRole.bind(B):z=>"listitem",this.isChecked=B?.isChecked?B.isChecked.bind(B):z=>{}}}class K{constructor(B,z,$,j=w){var ne,N,V,Z,fe,M,Se,Ee,Le,Ne;if(this.virtualDelegate=z,this.domId="list_id_"+ ++K.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new E.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=s.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=s.JT.None,this.onDragLeaveTimeout=s.JT.None,this.disposables=new s.SL,this._onDidChangeContentHeight=new _.Q5,this._horizontalScrolling=!1,j.horizontalScrolling&&j.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new g;for(const we of $)this.renderers.set(we.templateId,we);this.cache=this.disposables.add(new y(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof j.mouseSupport||j.mouseSupport),this._horizontalScrolling=null!==(ne=j.horizontalScrolling)&&void 0!==ne?ne:w.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof j.additionalScrollHeight>"u"?0:j.additionalScrollHeight,this.accessibilityProvider=new U(j.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(null!==(N=j.transformOptimization)&&void 0!==N?N:w.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(v.o.addTarget(this.rowsContainer)),this.scrollable=new c.Rm({forceIntegerValues:!0,smoothScrollDuration:null!==(V=j.smoothScrolling)&&void 0!==V&&V?125:0,scheduleAtNextAnimationFrame:we=>(0,l.jL)(we)}),this.scrollableElement=this.disposables.add(new T.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(Z=j.alwaysConsumeMouseWheel)&&void 0!==Z?Z:w.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(fe=j.verticalScrollMode)&&void 0!==fe?fe:w.verticalScrollMode,useShadows:null!==(M=j.useShadows)&&void 0!==M?M:w.useShadows,mouseWheelScrollSensitivity:j.mouseWheelScrollSensitivity,fastScrollSensitivity:j.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),B.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,l.nm)(this.rowsContainer,v.t.Change,we=>this.onTouchChange(we))),this.disposables.add((0,l.nm)(this.scrollableElement.getDomNode(),"scroll",we=>we.target.scrollTop=0)),this.disposables.add((0,l.nm)(this.domNode,"dragover",we=>this.onDragOver(this.toDragEvent(we)))),this.disposables.add((0,l.nm)(this.domNode,"drop",we=>this.onDrop(this.toDragEvent(we)))),this.disposables.add((0,l.nm)(this.domNode,"dragleave",we=>this.onDragLeave(this.toDragEvent(we)))),this.disposables.add((0,l.nm)(this.domNode,"dragend",we=>this.onDragEnd(we))),this.setRowLineHeight=null!==(Se=j.setRowLineHeight)&&void 0!==Se?Se:w.setRowLineHeight,this.setRowHeight=null!==(Ee=j.setRowHeight)&&void 0!==Ee?Ee:w.setRowHeight,this.supportDynamicHeights=null!==(Le=j.supportDynamicHeights)&&void 0!==Le?Le:w.supportDynamicHeights,this.dnd=null!==(Ne=j.dnd)&&void 0!==Ne?Ne:w.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(B){if(B!==this._horizontalScrolling){if(B&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=B,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const z of this.items)this.measureItemWidth(z);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,l.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(B){void 0!==B.additionalScrollHeight&&(this.additionalScrollHeight=B.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==B.smoothScrolling&&this.scrollable.setSmoothScrollDuration(B.smoothScrolling?125:0),void 0!==B.horizontalScrolling&&(this.horizontalScrolling=B.horizontalScrolling),void 0!==B.mouseWheelScrollSensitivity&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:B.mouseWheelScrollSensitivity}),void 0!==B.fastScrollSensitivity&&this.scrollableElement.updateOptions({fastScrollSensitivity:B.fastScrollSensitivity})}splice(B,z,$=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(B,z,$)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(B,z,$=[]){const j=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N=m.e.intersect(j,{start:B,end:B+z}),V=new Map;for(let ze=N.end-1;ze>=N.start;ze--){const $e=this.items[ze];if($e.dragStartDisposable.dispose(),$e.checkedDisposable.dispose(),$e.row){let ce=V.get($e.templateId);ce||(ce=[],V.set($e.templateId,ce));const Ue=this.renderers.get($e.templateId);Ue&&Ue.disposeElement&&Ue.disposeElement($e.element,ze,$e.row.templateData,$e.size),ce.push($e.row)}$e.row=null}const Z={start:B+z,end:this.items.length},fe=m.e.intersect(Z,j),M=m.e.relativeComplement(Z,j),Se=$.map(ze=>({id:String(this.itemId++),element:ze,templateId:this.virtualDelegate.getTemplateId(ze),size:this.virtualDelegate.getHeight(ze),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(ze),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:s.JT.None,checkedDisposable:s.JT.None}));let Ee;0===B&&z>=this.items.length?(this.rangeMap=new g,this.rangeMap.splice(0,0,Se),Ee=this.items,this.items=Se):(this.rangeMap.splice(B,z,Se),Ee=this.items.splice(B,z,...Se));const Le=$.length-z,Ne=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),oe=a(fe,Le),we=m.e.intersect(Ne,oe);for(let ze=we.start;ze<we.end;ze++)this.updateItemInDOM(this.items[ze],ze);const xe=m.e.relativeComplement(oe,Ne);for(const ze of xe)for(let $e=ze.start;$e<ze.end;$e++)this.removeItemFromDOM($e);const pe=M.map(ze=>a(ze,Le)),de=[{start:B,end:B+$.length},...pe].map(ze=>m.e.intersect(Ne,ze)),ke=this.getNextToLastElement(de);for(const ze of de)for(let $e=ze.start;$e<ze.end;$e++){const nt=V.get(this.items[$e].templateId)?.pop();this.insertItemInDOM($e,ke,nt)}for(const ze of V.values())for(const $e of ze)this.cache.release($e);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Ee.map(ze=>ze.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,l.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let B=0;for(const z of this.items)typeof z.width<"u"&&(B=Math.max(B,z.width));this.scrollWidth=B,this.scrollableElement.setScrollDimensions({scrollWidth:0===B?0:B+10})}rerender(){if(this.supportDynamicHeights){for(const B of this.items)B.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(B){return this.items[B].element}domElement(B){const z=this.items[B].row;return z&&z.domNode}elementHeight(B){return this.items[B].size}elementTop(B){return this.rangeMap.positionAt(B)}indexAt(B){return this.rangeMap.indexAt(B)}indexAfter(B){return this.rangeMap.indexAfter(B)}layout(B,z){const $={height:"number"==typeof B?B:(0,l.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,$.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions($),typeof z<"u"&&(this.renderWidth=z,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof z?z:(0,l.FK)(this.domNode)})}render(B,z,$,j,ne,N=!1){const V=this.getRenderRange(z,$),Z=m.e.relativeComplement(V,B),fe=m.e.relativeComplement(B,V),M=this.getNextToLastElement(Z);if(N){const Se=m.e.intersect(B,V);for(let Ee=Se.start;Ee<Se.end;Ee++)this.updateItemInDOM(this.items[Ee],Ee)}for(const Se of Z)for(let Ee=Se.start;Ee<Se.end;Ee++)this.insertItemInDOM(Ee,M);for(const Se of fe)for(let Ee=Se.start;Ee<Se.end;Ee++)this.removeItemFromDOM(Ee);void 0!==j&&(this.rowsContainer.style.left=`-${j}px`),this.rowsContainer.style.top=`-${z}px`,this.horizontalScrolling&&void 0!==ne&&(this.rowsContainer.style.width=`${Math.max(ne,this.renderWidth)}px`),this.lastRenderTop=z,this.lastRenderHeight=$}insertItemInDOM(B,z,$){const j=this.items[B];j.row||(j.row=$??this.cache.alloc(j.templateId));const ne=this.accessibilityProvider.getRole(j.element)||"listitem";j.row.domNode.setAttribute("role",ne);const N=this.accessibilityProvider.isChecked(j.element);if("boolean"==typeof N)j.row.domNode.setAttribute("aria-checked",String(!!N));else if(N){const fe=M=>j.row.domNode.setAttribute("aria-checked",String(!!M));fe(N.value),j.checkedDisposable=N.onDidChange(fe)}j.row.domNode.parentElement||(z?this.rowsContainer.insertBefore(j.row.domNode,z):this.rowsContainer.appendChild(j.row.domNode)),this.updateItemInDOM(j,B);const V=this.renderers.get(j.templateId);if(!V)throw new Error(`No renderer found for template id ${j.templateId}`);V?.renderElement(j.element,B,j.row.templateData,j.size);const Z=this.dnd.getDragURI(j.element);j.dragStartDisposable.dispose(),j.row.domNode.draggable=!!Z,Z&&(j.dragStartDisposable=(0,l.nm)(j.row.domNode,"dragstart",fe=>this.onDragStart(j.element,Z,fe))),this.horizontalScrolling&&(this.measureItemWidth(j),this.eventuallyUpdateScrollWidth())}measureItemWidth(B){if(!B.row||!B.row.domNode)return;B.row.domNode.style.width=d.isFirefox?"-moz-fit-content":"fit-content",B.width=(0,l.FK)(B.row.domNode);const z=window.getComputedStyle(B.row.domNode);z.paddingLeft&&(B.width+=parseFloat(z.paddingLeft)),z.paddingRight&&(B.width+=parseFloat(z.paddingRight)),B.row.domNode.style.width=""}updateItemInDOM(B,z){B.row.domNode.style.top=`${this.elementTop(z)}px`,this.setRowHeight&&(B.row.domNode.style.height=`${B.size}px`),this.setRowLineHeight&&(B.row.domNode.style.lineHeight=`${B.size}px`),B.row.domNode.setAttribute("data-index",`${z}`),B.row.domNode.setAttribute("data-last-element",z===this.length-1?"true":"false"),B.row.domNode.setAttribute("data-parity",z%2==0?"even":"odd"),B.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(B.element,z,this.length))),B.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(B.element,z))),B.row.domNode.setAttribute("id",this.getElementDomId(z)),B.row.domNode.classList.toggle("drop-target",B.dropTarget)}removeItemFromDOM(B){const z=this.items[B];if(z.dragStartDisposable.dispose(),z.checkedDisposable.dispose(),z.row){const $=this.renderers.get(z.templateId);$&&$.disposeElement&&$.disposeElement(z.element,B,z.row.templateData,z.size),this.cache.release(z.row),z.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(B,z){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:B,reuseAnimation:z})}get scrollTop(){return this.getScrollTop()}set scrollTop(B){this.setScrollTop(B)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"click")).event,B=>this.toMouseEvent(B),this.disposables)}get onMouseDblClick(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"dblclick")).event,B=>this.toMouseEvent(B),this.disposables)}get onMouseMiddleClick(){return _.ju.filter(_.ju.map(this.disposables.add(new S.Y(this.domNode,"auxclick")).event,B=>this.toMouseEvent(B),this.disposables),B=>1===B.browserEvent.button,this.disposables)}get onMouseDown(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"mousedown")).event,B=>this.toMouseEvent(B),this.disposables)}get onMouseOver(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"mouseover")).event,B=>this.toMouseEvent(B),this.disposables)}get onContextMenu(){return _.ju.any(_.ju.map(this.disposables.add(new S.Y(this.domNode,"contextmenu")).event,B=>this.toMouseEvent(B),this.disposables),_.ju.map(this.disposables.add(new S.Y(this.domNode,v.t.Contextmenu)).event,B=>this.toGestureEvent(B),this.disposables))}get onTouchStart(){return _.ju.map(this.disposables.add(new S.Y(this.domNode,"touchstart")).event,B=>this.toTouchEvent(B),this.disposables)}get onTap(){return _.ju.map(this.disposables.add(new S.Y(this.rowsContainer,v.t.Tap)).event,B=>this.toGestureEvent(B),this.disposables)}toMouseEvent(B){const z=this.getItemIndexFromEventTarget(B.target||null),$=typeof z>"u"?void 0:this.items[z];return{browserEvent:B,index:z,element:$&&$.element}}toTouchEvent(B){const z=this.getItemIndexFromEventTarget(B.target||null),$=typeof z>"u"?void 0:this.items[z];return{browserEvent:B,index:z,element:$&&$.element}}toGestureEvent(B){const z=this.getItemIndexFromEventTarget(B.initialTarget||null),$=typeof z>"u"?void 0:this.items[z];return{browserEvent:B,index:z,element:$&&$.element}}toDragEvent(B){const z=this.getItemIndexFromEventTarget(B.target||null),$=typeof z>"u"?void 0:this.items[z];return{browserEvent:B,index:z,element:$&&$.element}}onScroll(B){try{const z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(z,B.scrollTop,B.height,B.scrollLeft,B.scrollWidth),this.supportDynamicHeights&&this._rerender(B.scrollTop,B.height,B.inSmoothScrolling)}catch(z){throw console.error("Got bad scroll event:",B),z}}onTouchChange(B){B.preventDefault(),B.stopPropagation(),this.scrollTop-=B.translationY}onDragStart(B,z,$){var j,ne;if(!$.dataTransfer)return;const N=this.dnd.getDragElements(B);if($.dataTransfer.effectAllowed="copyMove",$.dataTransfer.setData(t.g.TEXT,z),$.dataTransfer.setDragImage){let V;this.dnd.getDragLabel&&(V=this.dnd.getDragLabel(N,$)),typeof V>"u"&&(V=String(N.length));const Z=(0,l.$)(".monaco-drag-image");Z.textContent=V,document.body.appendChild(Z),$.dataTransfer.setDragImage(Z,-10,-10),setTimeout(()=>document.body.removeChild(Z),0)}this.currentDragData=new I(N),t.P.CurrentDragAndDropData=new P(N),null===(ne=(j=this.dnd).onDragStart)||void 0===ne||ne.call(j,this.currentDragData,$)}onDragOver(B){var z;if(B.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),t.P.CurrentDragAndDropData&&"vscode-ui"===t.P.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(B.browserEvent),!B.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(t.P.CurrentDragAndDropData)this.currentDragData=t.P.CurrentDragAndDropData;else{if(!B.browserEvent.dataTransfer.types)return!1;this.currentDragData=new O}const $=this.dnd.onDragOver(this.currentDragData,B.element,B.index,B.browserEvent);if(this.canDrop="boolean"==typeof $?$:$.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let j;if(B.browserEvent.dataTransfer.dropEffect="boolean"!=typeof $&&0===$.effect?"copy":"move",j="boolean"!=typeof $&&$.feedback?$.feedback:typeof B.index>"u"?[-1]:[B.index],j=(0,C.EB)(j).filter(ne=>ne>=-1&&ne<this.length).sort((ne,N)=>ne-N),j=-1===j[0]?[-1]:j,function H(F,B){return Array.isArray(F)&&Array.isArray(B)?(0,C.fS)(F,B):F===B}(this.currentDragFeedback,j))return!0;if(this.currentDragFeedback=j,this.currentDragFeedbackDisposable.dispose(),-1===j[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,s.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const ne of j){const N=this.items[ne];N.dropTarget=!0,null===(z=N.row)||void 0===z||z.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,s.OF)(()=>{var ne;for(const N of j){const V=this.items[N];V.dropTarget=!1,null===(ne=V.row)||void 0===ne||ne.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(B){var z,$;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,E.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===($=(z=this.dnd).onDragLeave)||void 0===$||$.call(z,this.currentDragData,B.element,B.index,B.browserEvent))}onDrop(B){if(!this.canDrop)return;const z=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,t.P.CurrentDragAndDropData=void 0,z&&B.browserEvent.dataTransfer&&(B.browserEvent.preventDefault(),z.update(B.browserEvent.dataTransfer),this.dnd.drop(z,B.element,B.index,B.browserEvent))}onDragEnd(B){var z,$;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,t.P.CurrentDragAndDropData=void 0,null===($=(z=this.dnd).onDragEnd)||void 0===$||$.call(z,B)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=s.JT.None}setupDragAndDropScrollTopAnimation(B){if(!this.dragOverAnimationDisposable){const z=(0,l.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,l.jt)(this.animateDragAndDropScrollTop.bind(this,z))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,E.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=B.pageY}animateDragAndDropScrollTop(B){if(void 0===this.dragOverMouseY)return;const z=this.dragOverMouseY-B,$=this.renderHeight-35;z<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(z-35))):z>$&&(this.scrollTop+=Math.min(14,Math.floor(.3*(z-$))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(B){const z=this.scrollableElement.getDomNode();let $=B;for(;$ instanceof HTMLElement&&$!==this.rowsContainer&&z.contains($);){const j=$.getAttribute("data-index");if(j){const ne=Number(j);if(!isNaN(ne))return ne}$=$.parentElement}}getRenderRange(B,z){return{start:this.rangeMap.indexAt(B),end:this.rangeMap.indexAfter(B+z-1)}}_rerender(B,z,$){const j=this.getRenderRange(B,z);let ne,N;B===this.elementTop(j.start)?(ne=j.start,N=0):j.end-j.start>1&&(ne=j.start+1,N=this.elementTop(ne)-B);let V=0;for(;;){const Z=this.getRenderRange(B,z);let fe=!1;for(let M=Z.start;M<Z.end;M++){const Se=this.probeDynamicHeight(M);0!==Se&&this.rangeMap.splice(M,1,[this.items[M]]),V+=Se,fe=fe||0!==Se}if(!fe){0!==V&&this.eventuallyUpdateScrollDimensions();const M=m.e.relativeComplement(j,Z);for(const Ee of M)for(let Le=Ee.start;Le<Ee.end;Le++)this.items[Le].row&&this.removeItemFromDOM(Le);const Se=m.e.relativeComplement(Z,j);for(const Ee of Se)for(let Le=Ee.start;Le<Ee.end;Le++){const Ne=Le+1,oe=Ne<this.items.length?this.items[Ne].row:null;this.insertItemInDOM(Le,oe?oe.domNode:null)}for(let Ee=Z.start;Ee<Z.end;Ee++)this.items[Ee].row&&this.updateItemInDOM(this.items[Ee],Ee);if("number"==typeof ne){const Ee=this.scrollable.getFutureScrollPosition().scrollTop-B,Le=this.elementTop(ne)-N+Ee;this.setScrollTop(Le,$)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(B){var z,$,j;const ne=this.items[B];if(this.virtualDelegate.getDynamicHeight){const fe=this.virtualDelegate.getDynamicHeight(ne.element);if(null!==fe){const M=ne.size;return ne.size=fe,ne.lastDynamicHeightWidth=this.renderWidth,fe-M}}if(!ne.hasDynamicHeight||ne.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(ne.element))return 0;const N=ne.size;if(!this.setRowHeight&&ne.row){const fe=ne.row.domNode.offsetHeight;return ne.size=fe,ne.lastDynamicHeightWidth=this.renderWidth,fe-N}const V=this.cache.alloc(ne.templateId);V.domNode.style.height="",this.rowsContainer.appendChild(V.domNode);const Z=this.renderers.get(ne.templateId);return Z&&(Z.renderElement(ne.element,B,V.templateData,void 0),null===(z=Z.disposeElement)||void 0===z||z.call(Z,ne.element,B,V.templateData,void 0)),ne.size=V.domNode.offsetHeight,null===(j=($=this.virtualDelegate).setDynamicHeight)||void 0===j||j.call($,ne.element,ne.size),ne.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(V.domNode),this.cache.release(V),ne.size-N}getNextToLastElement(B){const z=B[B.length-1];if(!z)return null;const $=this.items[z.end];return $&&$.row?$.row.domNode:null}getElementDomId(B){return`${this.domId}_${B}`}dispose(){var B;if(this.items){for(const z of this.items)if(z.row){const $=this.renderers.get(z.row.templateId);$&&(null===(B=$.disposeElement)||void 0===B||B.call($,z.element,-1,z.row.templateData,void 0),$.disposeTemplate(z.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,s.B9)(this.disposables)}}K.InstanceCount=0,D([L.H],K.prototype,"onMouseClick",null),D([L.H],K.prototype,"onMouseDblClick",null),D([L.H],K.prototype,"onMouseMiddleClick",null),D([L.H],K.prototype,"onMouseDown",null),D([L.H],K.prototype,"onMouseOver",null),D([L.H],K.prototype,"onContextMenu",null),D([L.H],K.prototype,"onTouchStart",null),D([L.H],K.prototype,"onTap",null)},25478:(Et,X,e)=>{"use strict";e.d(X,{AA:()=>z,Zo:()=>V,aV:()=>ze,cK:()=>U,hD:()=>K,iK:()=>F,sx:()=>Se,wD:()=>Ee,wn:()=>Z});var d=e(98463),t=e(75366),l=e(41140),S=e(62922),v=e(59797),T=e(83256),C=e(64023),E=e(48648),L=e(69355),_=e(66471),s=e(3778),m=e(25715),c=e(80142),n=e(73455),a=e(6276),p=e(8841),u=e(72715),b=(e(57948),e(15175)),y=e(66127),D=function($e,ce,Ue,nt){var Ze,Dt=arguments.length,Lt=Dt<3?ce:null===nt?nt=Object.getOwnPropertyDescriptor(ce,Ue):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Lt=Reflect.decorate($e,ce,Ue,nt);else for(var ae=$e.length-1;ae>=0;ae--)(Ze=$e[ae])&&(Lt=(Dt<3?Ze(Lt):Dt>3?Ze(ce,Ue,Lt):Ze(ce,Ue))||Lt);return Dt>3&&Lt&&Object.defineProperty(ce,Ue,Lt),Lt},w=function($e,ce,Ue,nt){return new(Ue||(Ue=Promise))(function(Lt,Ze){function ae(le){try{he(nt.next(le))}catch(Q){Ze(Q)}}function _e(le){try{he(nt.throw(le))}catch(Q){Ze(Q)}}function he(le){le.done?Lt(le.value):function Dt(Lt){return Lt instanceof Ue?Lt:new Ue(function(Ze){Ze(Lt)})}(le.value).then(ae,_e)}he((nt=nt.apply($e,ce||[])).next())})};class I{constructor(ce){this.trait=ce,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ce){return ce}renderElement(ce,Ue,nt){const Dt=this.renderedElements.findIndex(Lt=>Lt.templateData===nt);if(Dt>=0){const Lt=this.renderedElements[Dt];this.trait.unrender(nt),Lt.index=Ue}else this.renderedElements.push({index:Ue,templateData:nt});this.trait.renderIndex(Ue,nt)}splice(ce,Ue,nt){const Dt=[];for(const Lt of this.renderedElements)Lt.index<ce?Dt.push(Lt):Lt.index>=ce+Ue&&Dt.push({index:Lt.index+nt-Ue,templateData:Lt.templateData});this.renderedElements=Dt}renderIndexes(ce){for(const{index:Ue,templateData:nt}of this.renderedElements)ce.indexOf(Ue)>-1&&this.trait.renderIndex(Ue,nt)}disposeTemplate(ce){const Ue=this.renderedElements.findIndex(nt=>nt.templateData===ce);Ue<0||this.renderedElements.splice(Ue,1)}}class P{constructor(ce){this._trait=ce,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new s.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new I(this)}splice(ce,Ue,nt){var Dt;Ue=Math.max(0,Math.min(Ue,this.length-ce));const Lt=nt.length-Ue,Ze=ce+Ue,ae=[...this.sortedIndexes.filter(he=>he<ce),...nt.map((he,le)=>he?le+ce:-1).filter(he=>-1!==he),...this.sortedIndexes.filter(he=>he>=Ze).map(he=>he+Lt)],_e=this.length+Lt;if(this.sortedIndexes.length>0&&0===ae.length&&_e>0){const he=null!==(Dt=this.sortedIndexes.find(le=>le>=ce))&&void 0!==Dt?Dt:_e-1;ae.push(Math.min(he,_e-1))}this.renderer.splice(ce,Ue,nt.length),this._set(ae,ae),this.length=_e}renderIndex(ce,Ue){Ue.classList.toggle(this._trait,this.contains(ce))}unrender(ce){ce.classList.remove(this._trait)}set(ce,Ue){return this._set(ce,[...ce].sort(pe),Ue)}_set(ce,Ue,nt){const Dt=this.indexes,Lt=this.sortedIndexes;this.indexes=ce,this.sortedIndexes=Ue;const Ze=we(Lt,ce);return this.renderer.renderIndexes(Ze),this._onChange.fire({indexes:ce,browserEvent:nt}),Dt}get(){return this.indexes}contains(ce){return(0,C.ry)(this.sortedIndexes,ce,pe)>=0}dispose(){(0,c.B9)(this._onChange)}}D([_.H],P.prototype,"renderer",null);class O extends P{constructor(ce){super("selected"),this.setAriaSelected=ce}renderIndex(ce,Ue){super.renderIndex(ce,Ue),this.setAriaSelected&&(this.contains(ce)?Ue.setAttribute("aria-selected","true"):Ue.setAttribute("aria-selected","false"))}}class H{constructor(ce,Ue,nt){this.trait=ce,this.view=Ue,this.identityProvider=nt}splice(ce,Ue,nt){if(!this.identityProvider)return this.trait.splice(ce,Ue,nt.map(()=>!1));const Dt=this.trait.get().map(Ze=>this.identityProvider.getId(this.view.element(Ze)).toString()),Lt=nt.map(Ze=>Dt.indexOf(this.identityProvider.getId(Ze).toString())>-1);this.trait.splice(ce,Ue,Lt)}}function U($e){return"INPUT"===$e.tagName||"TEXTAREA"===$e.tagName}function K($e){return!!$e.classList.contains("monaco-editor")||!($e.classList.contains("monaco-list")||!$e.parentElement)&&K($e.parentElement)}function F($e){return!!("A"===$e.tagName&&$e.classList.contains("monaco-button")||"DIV"===$e.tagName&&$e.classList.contains("monaco-button-dropdown"))||!($e.classList.contains("monaco-list")||!$e.parentElement)&&F($e.parentElement)}class B{constructor(ce,Ue,nt){this.list=ce,this.view=Ue,this.disposables=new c.SL,this.multipleSelectionDisposables=new c.SL,this.onKeyDown.filter(Dt=>3===Dt.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Dt=>16===Dt.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Dt=>18===Dt.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Dt=>11===Dt.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Dt=>12===Dt.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Dt=>9===Dt.keyCode).on(this.onEscape,this,this.disposables),!1!==nt.multipleSelectionSupport&&this.onKeyDown.filter(Dt=>(p.dz?Dt.metaKey:Dt.ctrlKey)&&31===Dt.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(s.ju.chain(this.disposables.add(new t.Y(this.view.domNode,"keydown")).event).filter(ce=>!U(ce.target)).map(ce=>new l.y(ce)))}updateOptions(ce){void 0!==ce.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),ce.multipleSelectionSupport&&this.onKeyDown.filter(Ue=>(p.dz?Ue.metaKey:Ue.ctrlKey)&&31===Ue.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(ce){ce.preventDefault(),ce.stopPropagation(),this.list.setSelection(this.list.getFocus(),ce.browserEvent)}onUpArrow(ce){ce.preventDefault(),ce.stopPropagation(),this.list.focusPrevious(1,!1,ce.browserEvent);const Ue=this.list.getFocus()[0];this.list.setAnchor(Ue),this.list.reveal(Ue),this.view.domNode.focus()}onDownArrow(ce){ce.preventDefault(),ce.stopPropagation(),this.list.focusNext(1,!1,ce.browserEvent);const Ue=this.list.getFocus()[0];this.list.setAnchor(Ue),this.list.reveal(Ue),this.view.domNode.focus()}onPageUpArrow(ce){ce.preventDefault(),ce.stopPropagation(),this.list.focusPreviousPage(ce.browserEvent);const Ue=this.list.getFocus()[0];this.list.setAnchor(Ue),this.list.reveal(Ue),this.view.domNode.focus()}onPageDownArrow(ce){ce.preventDefault(),ce.stopPropagation(),this.list.focusNextPage(ce.browserEvent);const Ue=this.list.getFocus()[0];this.list.setAnchor(Ue),this.list.reveal(Ue),this.view.domNode.focus()}onCtrlA(ce){ce.preventDefault(),ce.stopPropagation(),this.list.setSelection((0,C.w6)(this.list.length),ce.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ce){this.list.getSelection().length&&(ce.preventDefault(),ce.stopPropagation(),this.list.setSelection([],ce.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}D([_.H],B.prototype,"onKeyDown",null);var z=(()=>{return($e=z||(z={}))[$e.Automatic=0]="Automatic",$e[$e.Trigger=1]="Trigger",z;var $e})(),$=(()=>{return($e=$||($={}))[$e.Idle=0]="Idle",$e[$e.Typing=1]="Typing",$;var $e})();const j=new class{mightProducePrintableCharacter($e){return!($e.ctrlKey||$e.metaKey||$e.altKey)&&($e.keyCode>=31&&$e.keyCode<=56||$e.keyCode>=21&&$e.keyCode<=30||$e.keyCode>=93&&$e.keyCode<=102||$e.keyCode>=80&&$e.keyCode<=90)}};class ne{constructor(ce,Ue,nt,Dt,Lt){this.list=ce,this.view=Ue,this.keyboardNavigationLabelProvider=nt,this.keyboardNavigationEventFilter=Dt,this.delegate=Lt,this.enabled=!1,this.state=$.Idle,this.mode=z.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new c.SL,this.disposables=new c.SL,this.updateOptions(ce.options)}updateOptions(ce){var Ue,nt;null===(Ue=ce.typeNavigationEnabled)||void 0===Ue||Ue?this.enable():this.disable(),this.mode=null!==(nt=ce.typeNavigationMode)&&void 0!==nt?nt:z.Automatic}enable(){if(this.enabled)return;let ce=!1;const Ue=this.enabledDisposables.add(s.ju.chain(this.enabledDisposables.add(new t.Y(this.view.domNode,"keydown")).event)).filter(Lt=>!U(Lt.target)).filter(()=>this.mode===z.Automatic||this.triggered).map(Lt=>new l.y(Lt)).filter(Lt=>ce||this.keyboardNavigationEventFilter(Lt)).filter(Lt=>this.delegate.mightProducePrintableCharacter(Lt)).forEach(t.p).map(Lt=>Lt.browserEvent.key).event,nt=s.ju.debounce(Ue,()=>null,800,void 0,void 0,this.enabledDisposables);s.ju.reduce(s.ju.any(Ue,nt),(Lt,Ze)=>null===Ze?null:(Lt||"")+Ze,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),nt(this.onClear,this,this.enabledDisposables),Ue(()=>ce=!0,void 0,this.enabledDisposables),nt(()=>ce=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ce;const Ue=this.list.getFocus();if(Ue.length>0&&Ue[0]===this.previouslyFocused){const nt=null===(ce=this.list.options.accessibilityProvider)||void 0===ce?void 0:ce.getAriaLabel(this.list.element(Ue[0]));nt&&(0,v.Z9)(nt)}this.previouslyFocused=-1}onInput(ce){if(!ce)return this.state=$.Idle,void(this.triggered=!1);const Ue=this.list.getFocus(),nt=Ue.length>0?Ue[0]:0,Dt=this.state===$.Idle?1:0;this.state=$.Typing;for(let Lt=0;Lt<this.list.length;Lt++){const Ze=(nt+Lt+Dt)%this.list.length,ae=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Ze)),_e=ae&&ae.toString();if(typeof _e>"u"||(0,m.Ji)(ce,_e))return this.previouslyFocused=nt,this.list.setFocus([Ze]),void this.list.reveal(Ze)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class N{constructor(ce,Ue){this.list=ce,this.view=Ue,this.disposables=new c.SL,this.disposables.add(s.ju.chain(this.disposables.add(new t.Y(Ue.domNode,"keydown")).event)).filter(Dt=>!U(Dt.target)).map(Dt=>new l.y(Dt)).filter(Dt=>!(2!==Dt.keyCode||Dt.ctrlKey||Dt.metaKey||Dt.shiftKey||Dt.altKey)).on(this.onTab,this,this.disposables)}onTab(ce){if(ce.target!==this.view.domNode)return;const Ue=this.list.getFocus();if(0===Ue.length)return;const nt=this.view.domElement(Ue[0]);if(!nt)return;const Dt=nt.querySelector("[tabIndex]");if(!(Dt&&Dt instanceof HTMLElement&&-1!==Dt.tabIndex))return;const Lt=window.getComputedStyle(Dt);"hidden"===Lt.visibility||"none"===Lt.display||(ce.preventDefault(),ce.stopPropagation(),Dt.focus())}dispose(){this.disposables.dispose()}}function V($e){return p.dz?$e.browserEvent.metaKey:$e.browserEvent.ctrlKey}function Z($e){return $e.browserEvent.shiftKey}const M={isSelectionSingleChangeEvent:V,isSelectionRangeChangeEvent:Z};class Se{constructor(ce){this.list=ce,this.disposables=new c.SL,this._onPointer=new s.Q5,this.onPointer=this._onPointer.event,!1!==ce.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||M),this.mouseSupport=typeof ce.options.mouseSupport>"u"||!!ce.options.mouseSupport,this.mouseSupport&&(ce.onMouseDown(this.onMouseDown,this,this.disposables),ce.onContextMenu(this.onContextMenu,this,this.disposables),ce.onMouseDblClick(this.onDoubleClick,this,this.disposables),ce.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(S.o.addTarget(ce.getHTMLElement()))),s.ju.any(ce.onMouseClick,ce.onMouseMiddleClick,ce.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ce){void 0!==ce.multipleSelectionSupport&&(this.multipleSelectionController=void 0,ce.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||M))}isSelectionSingleChangeEvent(ce){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(ce)}isSelectionRangeChangeEvent(ce){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(ce)}isSelectionChangeEvent(ce){return this.isSelectionSingleChangeEvent(ce)||this.isSelectionRangeChangeEvent(ce)}onMouseDown(ce){K(ce.browserEvent.target)||document.activeElement!==ce.browserEvent.target&&this.list.domFocus()}onContextMenu(ce){K(ce.browserEvent.target)||this.list.setFocus(typeof ce.index>"u"?[]:[ce.index],ce.browserEvent)}onViewPointer(ce){if(!this.mouseSupport||U(ce.browserEvent.target)||K(ce.browserEvent.target))return;const Ue=ce.index;return typeof Ue>"u"?(this.list.setFocus([],ce.browserEvent),this.list.setSelection([],ce.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(ce)||this.isSelectionChangeEvent(ce)?this.changeSelection(ce):(this.list.setFocus([Ue],ce.browserEvent),this.list.setAnchor(Ue),function fe($e){return $e instanceof MouseEvent&&2===$e.button}(ce.browserEvent)||this.list.setSelection([Ue],ce.browserEvent),void this._onPointer.fire(ce))}onDoubleClick(ce){if(U(ce.browserEvent.target)||K(ce.browserEvent.target)||this.isSelectionChangeEvent(ce))return;const Ue=this.list.getFocus();this.list.setSelection(Ue,ce.browserEvent)}changeSelection(ce){const Ue=ce.index;let nt=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ce)){typeof nt>"u"&&(nt=this.list.getFocus()[0]??Ue,this.list.setAnchor(nt));const Dt=Math.min(nt,Ue),Lt=Math.max(nt,Ue),Ze=(0,C.w6)(Dt,Lt+1),ae=this.list.getSelection(),_e=function oe($e,ce){const Ue=$e.indexOf(ce);if(-1===Ue)return[];const nt=[];let Dt=Ue-1;for(;Dt>=0&&$e[Dt]===ce-(Ue-Dt);)nt.push($e[Dt--]);for(nt.reverse(),Dt=Ue;Dt<$e.length&&$e[Dt]===ce+(Dt-Ue);)nt.push($e[Dt++]);return nt}(we(ae,[nt]),nt);if(0===_e.length)return;const he=we(Ze,function xe($e,ce){const Ue=[];let nt=0,Dt=0;for(;nt<$e.length||Dt<ce.length;)if(nt>=$e.length)Ue.push(ce[Dt++]);else if(Dt>=ce.length)Ue.push($e[nt++]);else{if($e[nt]===ce[Dt]){nt++,Dt++;continue}$e[nt]<ce[Dt]?Ue.push($e[nt++]):Dt++}return Ue}(ae,_e));this.list.setSelection(he,ce.browserEvent),this.list.setFocus([Ue],ce.browserEvent)}else if(this.isSelectionSingleChangeEvent(ce)){const Dt=this.list.getSelection(),Lt=Dt.filter(Ze=>Ze!==Ue);this.list.setFocus([Ue]),this.list.setAnchor(Ue),this.list.setSelection(Dt.length===Lt.length?[...Lt,Ue]:Lt,ce.browserEvent)}}dispose(){this.disposables.dispose()}}class Ee{constructor(ce,Ue){this.styleElement=ce,this.selectorSuffix=Ue}style(ce){const Ue=this.selectorSuffix&&`.${this.selectorSuffix}`,nt=[];ce.listBackground&&(ce.listBackground.isOpaque()?nt.push(`.monaco-list${Ue} .monaco-list-rows { background: ${ce.listBackground}; }`):p.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),ce.listFocusBackground&&(nt.push(`.monaco-list${Ue}:focus .monaco-list-row.focused { background-color: ${ce.listFocusBackground}; }`),nt.push(`.monaco-list${Ue}:focus .monaco-list-row.focused:hover { background-color: ${ce.listFocusBackground}; }`)),ce.listFocusForeground&&nt.push(`.monaco-list${Ue}:focus .monaco-list-row.focused { color: ${ce.listFocusForeground}; }`),ce.listActiveSelectionBackground&&(nt.push(`.monaco-list${Ue}:focus .monaco-list-row.selected { background-color: ${ce.listActiveSelectionBackground}; }`),nt.push(`.monaco-list${Ue}:focus .monaco-list-row.selected:hover { background-color: ${ce.listActiveSelectionBackground}; }`)),ce.listActiveSelectionForeground&&nt.push(`.monaco-list${Ue}:focus .monaco-list-row.selected { color: ${ce.listActiveSelectionForeground}; }`),ce.listActiveSelectionIconForeground&&nt.push(`.monaco-list${Ue}:focus .monaco-list-row.selected .codicon { color: ${ce.listActiveSelectionIconForeground}; }`),ce.listFocusAndSelectionOutline&&nt.push(`.monaco-list${Ue}:focus .monaco-list-row.selected { outline-color: ${ce.listFocusAndSelectionOutline} !important; }`),ce.listFocusAndSelectionBackground&&nt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ue}:focus .monaco-list-row.selected.focused { background-color: ${ce.listFocusAndSelectionBackground}; }\n\t\t\t`),ce.listFocusAndSelectionForeground&&nt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ue}:focus .monaco-list-row.selected.focused { color: ${ce.listFocusAndSelectionForeground}; }\n\t\t\t`),ce.listInactiveFocusForeground&&(nt.push(`.monaco-list${Ue} .monaco-list-row.focused { color:  ${ce.listInactiveFocusForeground}; }`),nt.push(`.monaco-list${Ue} .monaco-list-row.focused:hover { color:  ${ce.listInactiveFocusForeground}; }`)),ce.listInactiveSelectionIconForeground&&nt.push(`.monaco-list${Ue} .monaco-list-row.focused .codicon { color:  ${ce.listInactiveSelectionIconForeground}; }`),ce.listInactiveFocusBackground&&(nt.push(`.monaco-list${Ue} .monaco-list-row.focused { background-color:  ${ce.listInactiveFocusBackground}; }`),nt.push(`.monaco-list${Ue} .monaco-list-row.focused:hover { background-color:  ${ce.listInactiveFocusBackground}; }`)),ce.listInactiveSelectionBackground&&(nt.push(`.monaco-list${Ue} .monaco-list-row.selected { background-color:  ${ce.listInactiveSelectionBackground}; }`),nt.push(`.monaco-list${Ue} .monaco-list-row.selected:hover { background-color:  ${ce.listInactiveSelectionBackground}; }`)),ce.listInactiveSelectionForeground&&nt.push(`.monaco-list${Ue} .monaco-list-row.selected { color: ${ce.listInactiveSelectionForeground}; }`),ce.listHoverBackground&&nt.push(`.monaco-list${Ue}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ce.listHoverBackground}; }`),ce.listHoverForeground&&nt.push(`.monaco-list${Ue} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ce.listHoverForeground}; }`),ce.listSelectionOutline&&nt.push(`.monaco-list${Ue} .monaco-list-row.selected { outline: 1px dotted ${ce.listSelectionOutline}; outline-offset: -1px; }`),ce.listFocusOutline&&nt.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ue}:focus .monaco-list-row.focused { outline: 1px solid ${ce.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${Ue}.last-focused .monaco-list-row.focused { outline: 1px solid ${ce.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),ce.listInactiveFocusOutline&&nt.push(`.monaco-list${Ue} .monaco-list-row.focused { outline: 1px dotted ${ce.listInactiveFocusOutline}; outline-offset: -1px; }`),ce.listHoverOutline&&nt.push(`.monaco-list${Ue} .monaco-list-row:hover { outline: 1px dashed ${ce.listHoverOutline}; outline-offset: -1px; }`),ce.listDropBackground&&nt.push(`\n\t\t\t\t.monaco-list${Ue}.drop-target,\n\t\t\t\t.monaco-list${Ue} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ue} .monaco-list-row.drop-target { background-color: ${ce.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),ce.tableColumnsBorder&&nt.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${ce.tableColumnsBorder};\n\t\t\t}`),ce.tableOddRowsBackgroundColor&&nt.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${ce.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=nt.join("\n")}}const Le={listFocusBackground:L.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:L.Il.fromHex("#0E639C"),listActiveSelectionForeground:L.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:L.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:L.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:L.Il.fromHex("#094771"),listFocusAndSelectionForeground:L.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:L.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:L.Il.fromHex("#FFFFFF"),listHoverBackground:L.Il.fromHex("#2A2D2E"),listDropBackground:L.Il.fromHex("#383B3D"),treeIndentGuidesStroke:L.Il.fromHex("#a9a9a9"),tableColumnsBorder:L.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:L.Il.fromHex("#cccccc").transparent(.04)},Ne={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function we($e,ce){const Ue=[];let nt=0,Dt=0;for(;nt<$e.length||Dt<ce.length;)if(nt>=$e.length)Ue.push(ce[Dt++]);else if(Dt>=ce.length)Ue.push($e[nt++]);else{if($e[nt]===ce[Dt]){Ue.push($e[nt]),nt++,Dt++;continue}Ue.push($e[nt]<ce[Dt]?$e[nt++]:ce[Dt++])}return Ue}const pe=($e,ce)=>$e-ce;class Te{constructor(ce,Ue){this._templateId=ce,this.renderers=Ue}get templateId(){return this._templateId}renderTemplate(ce){return this.renderers.map(Ue=>Ue.renderTemplate(ce))}renderElement(ce,Ue,nt,Dt){let Lt=0;for(const Ze of this.renderers)Ze.renderElement(ce,Ue,nt[Lt++],Dt)}disposeElement(ce,Ue,nt,Dt){var Lt;let Ze=0;for(const ae of this.renderers)null===(Lt=ae.disposeElement)||void 0===Lt||Lt.call(ae,ce,Ue,nt[Ze],Dt),Ze+=1}disposeTemplate(ce){let Ue=0;for(const nt of this.renderers)nt.disposeTemplate(ce[Ue++])}}class de{constructor(ce){this.accessibilityProvider=ce,this.templateId="a18n"}renderTemplate(ce){return ce}renderElement(ce,Ue,nt){const Dt=this.accessibilityProvider.getAriaLabel(ce);Dt?nt.setAttribute("aria-label",Dt):nt.removeAttribute("aria-label");const Lt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ce);"number"==typeof Lt?nt.setAttribute("aria-level",`${Lt}`):nt.removeAttribute("aria-level")}disposeTemplate(ce){}}class ke{constructor(ce,Ue){this.list=ce,this.dnd=Ue}getDragElements(ce){const Ue=this.list.getSelectedElements();return Ue.indexOf(ce)>-1?Ue:[ce]}getDragURI(ce){return this.dnd.getDragURI(ce)}getDragLabel(ce,Ue){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ce,Ue)}onDragStart(ce,Ue){var nt,Dt;null===(Dt=(nt=this.dnd).onDragStart)||void 0===Dt||Dt.call(nt,ce,Ue)}onDragOver(ce,Ue,nt,Dt){return this.dnd.onDragOver(ce,Ue,nt,Dt)}onDragLeave(ce,Ue,nt,Dt){var Lt,Ze;null===(Ze=(Lt=this.dnd).onDragLeave)||void 0===Ze||Ze.call(Lt,ce,Ue,nt,Dt)}onDragEnd(ce){var Ue,nt;null===(nt=(Ue=this.dnd).onDragEnd)||void 0===nt||nt.call(Ue,ce)}drop(ce,Ue,nt,Dt){this.dnd.drop(ce,Ue,nt,Dt)}}class ze{constructor(ce,Ue,nt,Dt,Lt=Ne){var Ze,ae,_e,he;this.user=ce,this._options=Lt,this.focus=new P("focused"),this.anchor=new P("anchor"),this.eventBufferer=new s.E7,this._ariaLabel="",this.disposables=new c.SL,this._onDidDispose=new s.Q5,this.onDidDispose=this._onDidDispose.event;const le=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(Ze=this._options.accessibilityProvider)||void 0===Ze?void 0:Ze.getWidgetRole():"list";this.selection=new O("listbox"!==le),(0,a.jB)(Lt,Le,!1);const Q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Lt.accessibilityProvider,this.accessibilityProvider&&(Q.push(new de(this.accessibilityProvider)),null===(_e=(ae=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===_e||_e.call(ae,this.onDidChangeActiveDescendant,this,this.disposables)),Dt=Dt.map(Ae=>new Te(Ae.templateId,[...Q,Ae]));const ve=Object.assign(Object.assign({},Lt),{dnd:Lt.dnd&&new ke(this,Lt.dnd)});if(this.view=new y.Bv(Ue,nt,Dt,ve),this.view.domNode.setAttribute("role",le),Lt.styleController)this.styleController=Lt.styleController(this.view.domId);else{const Ae=(0,d.dS)(this.view.domNode);this.styleController=new Ee(Ae,this.view.domId)}this.spliceable=new T.J([new H(this.focus,this.view,Lt.identityProvider),new H(this.selection,this.view,Lt.identityProvider),new H(this.anchor,this.view,Lt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new N(this,this.view)),("boolean"!=typeof Lt.keyboardSupport||Lt.keyboardSupport)&&(this.keyboardController=new B(this,this.view,Lt),this.disposables.add(this.keyboardController)),Lt.keyboardNavigationLabelProvider&&(this.typeNavigationController=new ne(this,this.view,Lt.keyboardNavigationLabelProvider,null!==(he=Lt.keyboardNavigationEventFilter)&&void 0!==he?he:()=>!0,Lt.keyboardNavigationDelegate||j),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(Lt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return s.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ce=>this.toListEvent(ce),this.disposables)}get onDidChangeSelection(){return s.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ce=>this.toListEvent(ce),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ce=!1;const Ue=this.disposables.add(s.ju.chain(this.disposables.add(new t.Y(this.view.domNode,"keydown")).event)).map(Lt=>new l.y(Lt)).filter(Lt=>ce=58===Lt.keyCode||Lt.shiftKey&&68===Lt.keyCode).map(t.p).filter(()=>!1).event,nt=this.disposables.add(s.ju.chain(this.disposables.add(new t.Y(this.view.domNode,"keyup")).event)).forEach(()=>ce=!1).map(Lt=>new l.y(Lt)).filter(Lt=>58===Lt.keyCode||Lt.shiftKey&&68===Lt.keyCode).map(t.p).map(({browserEvent:Lt})=>{const Ze=this.getFocus(),ae=Ze.length?Ze[0]:void 0;return{index:ae,element:typeof ae<"u"?this.view.element(ae):void 0,anchor:typeof ae<"u"?this.view.domElement(ae):this.view.domNode,browserEvent:Lt}}).event,Dt=this.disposables.add(s.ju.chain(this.view.onContextMenu)).filter(Lt=>!ce).map(({element:Lt,index:Ze,browserEvent:ae})=>({element:Lt,index:Ze,anchor:{x:ae.pageX+1,y:ae.pageY},browserEvent:ae})).event;return s.ju.any(Ue,nt,Dt)}get onKeyDown(){return this.disposables.add(new t.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return s.ju.signal(this.disposables.add(new t.Y(this.view.domNode,"focus",!0)).event)}createMouseController(ce){return new Se(this)}updateOptions(ce={}){var Ue,nt;this._options=Object.assign(Object.assign({},this._options),ce),null===(Ue=this.typeNavigationController)||void 0===Ue||Ue.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ce),null===(nt=this.keyboardController)||void 0===nt||nt.updateOptions(ce),this.view.updateOptions(ce)}get options(){return this._options}splice(ce,Ue,nt=[]){if(ce<0||ce>this.view.length)throw new b.A(this.user,`Invalid start index: ${ce}`);if(Ue<0)throw new b.A(this.user,`Invalid delete count: ${Ue}`);0===Ue&&0===nt.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ce,Ue,nt))}rerender(){this.view.rerender()}element(ce){return this.view.element(ce)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ce){this.view.setScrollTop(ce)}get ariaLabel(){return this._ariaLabel}set ariaLabel(ce){this._ariaLabel=ce,this.view.domNode.setAttribute("aria-label",ce)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ce,Ue){this.view.layout(ce,Ue)}setSelection(ce,Ue){for(const nt of ce)if(nt<0||nt>=this.length)throw new b.A(this.user,`Invalid index ${nt}`);this.selection.set(ce,Ue)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ce=>this.view.element(ce))}setAnchor(ce){if(typeof ce>"u")this.anchor.set([]);else{if(ce<0||ce>=this.length)throw new b.A(this.user,`Invalid index ${ce}`);this.anchor.set([ce])}}getAnchor(){return(0,C.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ce=this.getAnchor();return typeof ce>"u"?void 0:this.element(ce)}setFocus(ce,Ue){for(const nt of ce)if(nt<0||nt>=this.length)throw new b.A(this.user,`Invalid index ${nt}`);this.focus.set(ce,Ue)}focusNext(ce=1,Ue=!1,nt,Dt){if(0===this.length)return;const Lt=this.focus.get(),Ze=this.findNextIndex(Lt.length>0?Lt[0]+ce:0,Ue,Dt);Ze>-1&&this.setFocus([Ze],nt)}focusPrevious(ce=1,Ue=!1,nt,Dt){if(0===this.length)return;const Lt=this.focus.get(),Ze=this.findPreviousIndex(Lt.length>0?Lt[0]-ce:0,Ue,Dt);Ze>-1&&this.setFocus([Ze],nt)}focusNextPage(ce,Ue){return w(this,void 0,void 0,function*(){let nt=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);nt=0===nt?0:nt-1;const Dt=this.getFocus()[0];if(Dt!==nt&&(void 0===Dt||nt>Dt)){const Lt=this.findPreviousIndex(nt,!1,Ue);this.setFocus(Lt>-1&&Dt!==Lt?[Lt]:[nt],ce)}else{const Lt=this.view.getScrollTop();let Ze=Lt+this.view.renderHeight;nt>Dt&&(Ze-=this.view.elementHeight(nt)),this.view.setScrollTop(Ze),this.view.getScrollTop()!==Lt&&(this.setFocus([]),yield(0,E.Vs)(0),yield this.focusNextPage(ce,Ue))}})}focusPreviousPage(ce,Ue){return w(this,void 0,void 0,function*(){let nt;const Dt=this.view.getScrollTop();nt=0===Dt?this.view.indexAt(Dt):this.view.indexAfter(Dt-1);const Lt=this.getFocus()[0];if(Lt!==nt&&(void 0===Lt||Lt>=nt)){const Ze=this.findNextIndex(nt,!1,Ue);this.setFocus(Ze>-1&&Lt!==Ze?[Ze]:[nt],ce)}else{const Ze=Dt;this.view.setScrollTop(Dt-this.view.renderHeight),this.view.getScrollTop()!==Ze&&(this.setFocus([]),yield(0,E.Vs)(0),yield this.focusPreviousPage(ce,Ue))}})}focusLast(ce,Ue){if(0===this.length)return;const nt=this.findPreviousIndex(this.length-1,!1,Ue);nt>-1&&this.setFocus([nt],ce)}focusFirst(ce,Ue){this.focusNth(0,ce,Ue)}focusNth(ce,Ue,nt){if(0===this.length)return;const Dt=this.findNextIndex(ce,!1,nt);Dt>-1&&this.setFocus([Dt],Ue)}findNextIndex(ce,Ue=!1,nt){for(let Dt=0;Dt<this.length;Dt++){if(ce>=this.length&&!Ue)return-1;if(ce%=this.length,!nt||nt(this.element(ce)))return ce;ce++}return-1}findPreviousIndex(ce,Ue=!1,nt){for(let Dt=0;Dt<this.length;Dt++){if(ce<0&&!Ue)return-1;if(ce=(this.length+ce%this.length)%this.length,!nt||nt(this.element(ce)))return ce;ce--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ce=>this.view.element(ce))}reveal(ce,Ue){if(ce<0||ce>=this.length)throw new b.A(this.user,`Invalid index ${ce}`);const nt=this.view.getScrollTop(),Dt=this.view.elementTop(ce),Lt=this.view.elementHeight(ce);if((0,u.hj)(Ue))this.view.setScrollTop((Lt-this.view.renderHeight)*(0,n.uZ)(Ue,0,1)+Dt);else{const Ze=Dt+Lt,ae=nt+this.view.renderHeight;Dt<nt&&Ze>=ae||(Dt<nt||Ze>=ae&&Lt>=this.view.renderHeight?this.view.setScrollTop(Dt):Ze>=ae&&this.view.setScrollTop(Ze-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(ce){return this.view.getElementDomId(ce)}style(ce){this.styleController.style(ce)}toListEvent({indexes:ce,browserEvent:Ue}){return{indexes:ce,elements:ce.map(nt=>this.view.element(nt)),browserEvent:Ue}}_onFocusChange(){const ce=this.focus.get();this.view.domNode.classList.toggle("element-focused",ce.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ce;const Ue=this.focus.get();if(Ue.length>0){let nt;!(null===(ce=this.accessibilityProvider)||void 0===ce)&&ce.getActiveDescendantId&&(nt=this.accessibilityProvider.getActiveDescendantId(this.view.element(Ue[0]))),this.view.domNode.setAttribute("aria-activedescendant",nt||this.view.getElementDomId(Ue[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ce=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===ce.length),this.view.domNode.classList.toggle("selection-single",1===ce.length),this.view.domNode.classList.toggle("selection-multiple",ce.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}D([_.H],ze.prototype,"onDidChangeFocus",null),D([_.H],ze.prototype,"onDidChangeSelection",null),D([_.H],ze.prototype,"onContextMenu",null),D([_.H],ze.prototype,"onKeyDown",null),D([_.H],ze.prototype,"onDidFocus",null)},83256:(Et,X,e)=>{"use strict";e.d(X,{J:()=>d});class d{constructor(l){this.spliceables=l}splice(l,S,v){this.spliceables.forEach(T=>T.splice(l,S,v))}}},92273:(Et,X,e)=>{"use strict";e.d(X,{S:()=>u});var d=e(57856),t=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(26390),n={};n.styleTagTransform=m(),n.setAttributes=E(),n.insert=T().bind(null,"head"),n.domAPI=S(),n.insertStyleElement=_(),t()(c.Z,n);const u="monaco-mouse-cursor-text"},24738:(Et,X,e)=>{"use strict";e.d(X,{k:()=>K});var d=e(98463),t=e(48648),l=e(69355),S=e(80142),v=e(6276),T=e(57856),C=e.n(T),E=e(38470),L=e.n(E),_=e(43370),s=e.n(_),m=e(28458),c=e.n(m),n=e(71278),a=e.n(n),p=e(29488),u=e.n(p),g=e(71689),b={};b.styleTagTransform=u(),b.setAttributes=c(),b.insert=s().bind(null,"head"),b.domAPI=L(),b.insertStyleElement=a(),C()(g.Z,b);const w="done",I="active",P="infinite",O="infinite-long-running",H="discrete",U={progressBarBackground:l.Il.fromHex("#0E70C0")};let K=(()=>{class F extends S.JT{constructor(z,$){super(),this.options=$||Object.create(null),(0,v.jB)(this.options,U,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new t.pY(()=>(0,d.$Z)(this.element),0)),this.longRunningScheduler=this._register(new t.pY(()=>this.infiniteLongRunning(),F.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(z)}create(z){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),z.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(I,P,O,H),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(z){return this.element.classList.add(w),this.element.classList.contains(P)?(this.bit.style.opacity="0",z?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",z?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(H,w,O),this.element.classList.add(I,P),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(O)}getContainer(){return this.element}style(z){this.progressBarBackground=z.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const z=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=z}}}return F.LONG_RUNNING_INFINITE_THRESHOLD=1e4,F})()},84075:(Et,X,e)=>{"use strict";e.d(X,{l:()=>U,g:()=>V});var d=e(98463),t=e(75366),l=e(62922),S=e(48648),v=e(66471),T=e(3778),C=e(80142),E=e(8841),L=e(57856),_=e.n(L),s=e(38470),m=e.n(s),c=e(43370),n=e.n(c),a=e(28458),p=e.n(a),u=e(71278),g=e.n(u),b=e(29488),y=e.n(b),D=e(43226),w={};w.styleTagTransform=y(),w.setAttributes=p(),w.insert=n().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=g(),_()(D.Z,w);var O=function(Z,fe,M,Se){var Ne,Ee=arguments.length,Le=Ee<3?fe:null===Se?Se=Object.getOwnPropertyDescriptor(fe,M):Se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Le=Reflect.decorate(Z,fe,M,Se);else for(var oe=Z.length-1;oe>=0;oe--)(Ne=Z[oe])&&(Le=(Ee<3?Ne(Le):Ee>3?Ne(fe,M,Le):Ne(fe,M))||Le);return Ee>3&&Le&&Object.defineProperty(fe,M,Le),Le},U=(()=>{return(Z=U||(U={})).North="north",Z.South="south",Z.East="east",Z.West="west",U;var Z})();const F=new T.Q5,z=new T.Q5;class ${constructor(){this.disposables=new C.SL}get onPointerMove(){return this.disposables.add(new t.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new t.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}O([v.H],$.prototype,"onPointerMove",null),O([v.H],$.prototype,"onPointerUp",null);class j{constructor(fe){this.el=fe,this.disposables=new C.SL}get onPointerMove(){return this.disposables.add(new t.Y(this.el,l.t.Change)).event}get onPointerUp(){return this.disposables.add(new t.Y(this.el,l.t.End)).event}dispose(){this.disposables.dispose()}}O([v.H],j.prototype,"onPointerMove",null),O([v.H],j.prototype,"onPointerUp",null);class ne{constructor(fe){this.factory=fe}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}O([v.H],ne.prototype,"onPointerMove",null),O([v.H],ne.prototype,"onPointerUp",null);const N="pointer-events-disabled";class V extends C.JT{constructor(fe,M,Se){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new S.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new T.Q5),this._onDidStart=this._register(new T.Q5),this._onDidChange=this._register(new T.Q5),this._onDidReset=this._register(new T.Q5),this._onDidEnd=this._register(new T.Q5),this.orthogonalStartSashDisposables=this._register(new C.SL),this.orthogonalStartDragHandleDisposables=this._register(new C.SL),this.orthogonalEndSashDisposables=this._register(new C.SL),this.orthogonalEndDragHandleDisposables=this._register(new C.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,d.R3)(fe,(0,d.$)(".monaco-sash")),Se.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${Se.orthogonalEdge}`),E.dz&&this.el.classList.add("mac");const Ee=this._register(new t.Y(this.el,"mousedown")).event;this._register(Ee(Te=>this.onPointerStart(Te,new $),this));const Le=this._register(new t.Y(this.el,"dblclick")).event;this._register(Le(this.onPointerDoublePress,this));const Ne=this._register(new t.Y(this.el,"mouseenter")).event;this._register(Ne(()=>V.onMouseEnter(this)));const oe=this._register(new t.Y(this.el,"mouseleave")).event;this._register(oe(()=>V.onMouseLeave(this))),this._register(l.o.addTarget(this.el));const we=T.ju.map(this._register(new t.Y(this.el,l.t.Start)).event,Te=>{var de;return Object.assign(Object.assign({},Te),{target:null!==(de=Te.initialTarget)&&void 0!==de?de:null})});this._register(we(Te=>this.onPointerStart(Te,new j(this.el)),this));const xe=this._register(new t.Y(this.el,l.t.Tap)).event,pe=T.ju.map(T.ju.filter(T.ju.debounce(xe,(Te,de)=>{var ke;return{event:de,count:(null!==(ke=Te?.count)&&void 0!==ke?ke:0)+1}},250),({count:Te})=>2===Te),({event:Te})=>{var de;return Object.assign(Object.assign({},Te),{target:null!==(de=Te.initialTarget)&&void 0!==de?de:null})});this._register(pe(this.onPointerDoublePress,this)),"number"==typeof Se.size?(this.size=Se.size,0===Se.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(F.event(Te=>{this.size=Te,this.layout()}))),this._register(z.event(Te=>this.hoverDelay=Te)),this.layoutProvider=M,this.orthogonalStartSash=Se.orthogonalStartSash,this.orthogonalEndSash=Se.orthogonalEndSash,this.orientation=Se.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(fe){this._state!==fe&&(this.el.classList.toggle("disabled",0===fe),this.el.classList.toggle("minimum",1===fe),this.el.classList.toggle("maximum",2===fe),this._state=fe,this.onDidEnablementChange.fire(fe))}set orthogonalStartSash(fe){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),fe){const M=Se=>{this.orthogonalStartDragHandleDisposables.clear(),0!==Se&&(this._orthogonalStartDragHandle=(0,d.R3)(this.el,(0,d.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,C.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new t.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>V.onMouseEnter(fe),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new t.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>V.onMouseLeave(fe),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(fe.onDidEnablementChange.event(M,this)),M(fe.state)}this._orthogonalStartSash=fe}set orthogonalEndSash(fe){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),fe){const M=Se=>{this.orthogonalEndDragHandleDisposables.clear(),0!==Se&&(this._orthogonalEndDragHandle=(0,d.R3)(this.el,(0,d.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,C.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new t.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>V.onMouseEnter(fe),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new t.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>V.onMouseLeave(fe),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(fe.onDidEnablementChange.event(M,this)),M(fe.state)}this._orthogonalEndSash=fe}onPointerStart(fe,M){d.zB.stop(fe);let Se=!1;if(!fe.__orthogonalSashEvent){const ze=this.getOrthogonalSash(fe);ze&&(Se=!0,fe.__orthogonalSashEvent=!0,ze.onPointerStart(fe,new ne(M)))}if(this.linkedSash&&!fe.__linkedSashEvent&&(fe.__linkedSashEvent=!0,this.linkedSash.onPointerStart(fe,new ne(M))),!this.state)return;const Ee=(0,d.H$)("iframe");for(const ze of Ee)ze.classList.add(N);const Le=fe.pageX,Ne=fe.pageY,oe=fe.altKey,we={startX:Le,currentX:Le,startY:Ne,currentY:Ne,altKey:oe};this.el.classList.add("active"),this._onDidStart.fire(we);const xe=(0,d.dS)(this.el),pe=()=>{let ze="";ze=Se?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":E.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":E.dz?"col-resize":"ew-resize",xe.textContent=`* { cursor: ${ze} !important; }`},Te=new C.SL;pe(),Se||this.onDidEnablementChange.event(pe,null,Te),M.onPointerMove(ze=>{d.zB.stop(ze,!1),this._onDidChange.fire({startX:Le,currentX:ze.pageX,startY:Ne,currentY:ze.pageY,altKey:oe})},null,Te),M.onPointerUp(ze=>{d.zB.stop(ze,!1),this.el.removeChild(xe),this.el.classList.remove("active"),this._onDidEnd.fire(),Te.dispose();for(const $e of Ee)$e.classList.remove(N)},null,Te),Te.add(M)}onPointerDoublePress(fe){const M=this.getOrthogonalSash(fe);M&&M._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(fe,M=!1){fe.el.classList.contains("active")?(fe.hoverDelayer.cancel(),fe.el.classList.add("hover")):fe.hoverDelayer.trigger(()=>fe.el.classList.add("hover"),fe.hoverDelay).then(void 0,()=>{}),!M&&fe.linkedSash&&V.onMouseEnter(fe.linkedSash,!0)}static onMouseLeave(fe,M=!1){fe.hoverDelayer.cancel(),fe.el.classList.remove("hover"),!M&&fe.linkedSash&&V.onMouseLeave(fe.linkedSash,!0)}clearSashHoverState(){V.onMouseLeave(this)}layout(){if(0===this.orientation){const fe=this.layoutProvider;this.el.style.left=fe.getVerticalSashLeft(this)-this.size/2+"px",fe.getVerticalSashTop&&(this.el.style.top=fe.getVerticalSashTop(this)+"px"),fe.getVerticalSashHeight&&(this.el.style.height=fe.getVerticalSashHeight(this)+"px")}else{const fe=this.layoutProvider;this.el.style.top=fe.getHorizontalSashTop(this)-this.size/2+"px",fe.getHorizontalSashLeft&&(this.el.style.left=fe.getHorizontalSashLeft(this)+"px"),fe.getHorizontalSashWidth&&(this.el.style.width=fe.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(fe){if(fe.target&&fe.target instanceof HTMLElement&&fe.target.classList.contains("orthogonal-drag-handle"))return fe.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},3067:(Et,X,e)=>{"use strict";e.d(X,{s$:()=>xe,NB:()=>oe,$Z:()=>we});var d=e(37428),t=e(98463),l=e(12226),S=e(97340),v=e(11210),T=e(5183),C=e(48648);class L extends T.${constructor(de){super(),this._onActivate=de.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=de.bgWidth+"px",this.bgDomNode.style.height=de.bgHeight+"px",typeof de.top<"u"&&(this.bgDomNode.style.top="0px"),typeof de.left<"u"&&(this.bgDomNode.style.left="0px"),typeof de.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof de.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=de.className,this.domNode.classList.add(...de.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",typeof de.top<"u"&&(this.domNode.style.top=de.top+"px"),typeof de.left<"u"&&(this.domNode.style.left=de.left+"px"),typeof de.bottom<"u"&&(this.domNode.style.bottom=de.bottom+"px"),typeof de.right<"u"&&(this.domNode.style.right=de.right+"px"),this._pointerMoveMonitor=this._register(new v.C),this._register(t.mu(this.bgDomNode,t.tw.POINTER_DOWN,ke=>this._arrowPointerDown(ke))),this._register(t.mu(this.domNode,t.tw.POINTER_DOWN,ke=>this._arrowPointerDown(ke))),this._pointerdownRepeatTimer=this._register(new C.zh),this._pointerdownScheduleRepeatTimer=this._register(new C._F)}_arrowPointerDown(de){de.target&&de.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._pointerMoveMonitor.startMonitoring(de.target,de.pointerId,de.buttons,ze=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),de.preventDefault())}}var _=e(80142);class s extends _.JT{constructor(de,ke,ze){super(),this._visibility=de,this._visibleClassName=ke,this._invisibleClassName=ze,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new C._F)}setVisibility(de){this._visibility!==de&&(this._visibility=de,this._updateShouldBeVisible())}setShouldBeVisible(de){this._rawShouldBeVisible=de,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const de=this._applyVisibilitySetting();this._shouldBeVisible!==de&&(this._shouldBeVisible=de,this.ensureVisibility())}setIsNeeded(de){this._isNeeded!==de&&(this._isNeeded=de,this.ensureVisibility())}setDomNode(de){this._domNode=de,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var de;null===(de=this._domNode)||void 0===de||de.setClassName(this._visibleClassName)},0))}_hide(de){var ke;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(ke=this._domNode)||void 0===ke||ke.setClassName(this._invisibleClassName+(de?" fade":"")))}}var m=e(8841);class n extends T.${constructor(de){super(),this._lazyRender=de.lazyRender,this._host=de.host,this._scrollable=de.scrollable,this._scrollByPage=de.scrollByPage,this._scrollbarState=de.scrollbarState,this._visibilityController=this._register(new s(de.visibility,"visible scrollbar "+de.extraScrollbarClassName,"invisible scrollbar "+de.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new v.C),this._shouldRender=!0,this.domNode=(0,l.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(t.nm(this.domNode.domNode,t.tw.POINTER_DOWN,ke=>this._domNodePointerDown(ke)))}_createArrow(de){const ke=this._register(new L(de));this.domNode.domNode.appendChild(ke.bgDomNode),this.domNode.domNode.appendChild(ke.domNode)}_createSlider(de,ke,ze,$e){this.slider=(0,l.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(de),this.slider.setLeft(ke),"number"==typeof ze&&this.slider.setWidth(ze),"number"==typeof $e&&this.slider.setHeight($e),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(t.nm(this.slider.domNode,t.tw.POINTER_DOWN,ce=>{0===ce.button&&(ce.preventDefault(),this._sliderPointerDown(ce))})),this.onclick(this.slider.domNode,ce=>{ce.leftButton&&ce.stopPropagation()})}_onElementSize(de){return this._scrollbarState.setVisibleSize(de)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(de){return this._scrollbarState.setScrollSize(de)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(de){return this._scrollbarState.setScrollPosition(de)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(de){de.target===this.domNode.domNode&&this._onPointerDown(de)}delegatePointerDown(de){const ke=this.domNode.domNode.getClientRects()[0].top,ze=ke+this._scrollbarState.getSliderPosition(),$e=ke+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),ce=this._sliderPointerPosition(de);ze<=ce&&ce<=$e?0===de.button&&(de.preventDefault(),this._sliderPointerDown(de)):this._onPointerDown(de)}_onPointerDown(de){let ke,ze;if(de.target===this.domNode.domNode&&"number"==typeof de.offsetX&&"number"==typeof de.offsetY)ke=de.offsetX,ze=de.offsetY;else{const ce=t.i(this.domNode.domNode);ke=de.pageX-ce.left,ze=de.pageY-ce.top}const $e=this._pointerDownRelativePosition(ke,ze);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged($e):this._scrollbarState.getDesiredScrollPositionFromOffset($e)),0===de.button&&(de.preventDefault(),this._sliderPointerDown(de))}_sliderPointerDown(de){if(!(de.target&&de.target instanceof Element))return;const ke=this._sliderPointerPosition(de),ze=this._sliderOrthogonalPointerPosition(de),$e=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(de.target,de.pointerId,de.buttons,ce=>{const Ue=this._sliderOrthogonalPointerPosition(ce),nt=Math.abs(Ue-ze);if(m.ED&&nt>140)return void this._setDesiredScrollPositionNow($e.getScrollPosition());const Lt=this._sliderPointerPosition(ce)-ke;this._setDesiredScrollPositionNow($e.getDesiredScrollPositionFromDelta(Lt))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(de){const ke={};this.writeScrollPosition(ke,de),this._scrollable.setScrollPositionNow(ke)}updateScrollbarSize(de){this._updateScrollbarSize(de),this._scrollbarState.setScrollbarSize(de),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}class p{constructor(de,ke,ze,$e,ce,Ue){this._scrollbarSize=Math.round(ke),this._oppositeScrollbarSize=Math.round(ze),this._arrowSize=Math.round(de),this._visibleSize=$e,this._scrollSize=ce,this._scrollPosition=Ue,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new p(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(de){const ke=Math.round(de);return this._visibleSize!==ke&&(this._visibleSize=ke,this._refreshComputedValues(),!0)}setScrollSize(de){const ke=Math.round(de);return this._scrollSize!==ke&&(this._scrollSize=ke,this._refreshComputedValues(),!0)}setScrollPosition(de){const ke=Math.round(de);return this._scrollPosition!==ke&&(this._scrollPosition=ke,this._refreshComputedValues(),!0)}setScrollbarSize(de){this._scrollbarSize=Math.round(de)}setOppositeScrollbarSize(de){this._oppositeScrollbarSize=Math.round(de)}static _computeValues(de,ke,ze,$e,ce){const Ue=Math.max(0,ze-de),nt=Math.max(0,Ue-2*ke),Dt=$e>0&&$e>ze;if(!Dt)return{computedAvailableSize:Math.round(Ue),computedIsNeeded:Dt,computedSliderSize:Math.round(nt),computedSliderRatio:0,computedSliderPosition:0};const Lt=Math.round(Math.max(20,Math.floor(ze*nt/$e))),Ze=(nt-Lt)/($e-ze),ae=ce*Ze;return{computedAvailableSize:Math.round(Ue),computedIsNeeded:Dt,computedSliderSize:Math.round(Lt),computedSliderRatio:Ze,computedSliderPosition:Math.round(ae)}}_refreshComputedValues(){const de=p._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=de.computedAvailableSize,this._computedIsNeeded=de.computedIsNeeded,this._computedSliderSize=de.computedSliderSize,this._computedSliderRatio=de.computedSliderRatio,this._computedSliderPosition=de.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(de){return this._computedIsNeeded?Math.round((de-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(de){if(!this._computedIsNeeded)return 0;let ze=this._scrollPosition;return de-this._arrowSize<this._computedSliderPosition?ze-=this._visibleSize:ze+=this._visibleSize,ze}getDesiredScrollPositionFromDelta(de){return this._computedIsNeeded?Math.round((this._computedSliderPosition+de)/this._computedSliderRatio):0}}var u=e(58783);class g extends n{constructor(de,ke,ze){const $e=de.getScrollDimensions(),ce=de.getCurrentScrollPosition();if(super({lazyRender:ke.lazyRender,host:ze,scrollbarState:new p(ke.horizontalHasArrows?ke.arrowSize:0,2===ke.horizontal?0:ke.horizontalScrollbarSize,2===ke.vertical?0:ke.verticalScrollbarSize,$e.width,$e.scrollWidth,ce.scrollLeft),visibility:ke.horizontal,extraScrollbarClassName:"horizontal",scrollable:de,scrollByPage:ke.scrollByPage}),ke.horizontalHasArrows){const Ue=(ke.arrowSize-11)/2,nt=(ke.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:u.lA.scrollbarButtonLeft,top:nt,left:Ue,bottom:void 0,right:void 0,bgWidth:ke.arrowSize,bgHeight:ke.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new S.q(null,1,0))}),this._createArrow({className:"scra",icon:u.lA.scrollbarButtonRight,top:nt,left:void 0,bottom:void 0,right:Ue,bgWidth:ke.arrowSize,bgHeight:ke.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new S.q(null,-1,0))})}this._createSlider(Math.floor((ke.horizontalScrollbarSize-ke.horizontalSliderSize)/2),0,void 0,ke.horizontalSliderSize)}_updateSlider(de,ke){this.slider.setWidth(de),this.slider.setLeft(ke)}_renderDomNode(de,ke){this.domNode.setWidth(de),this.domNode.setHeight(ke),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(de){return this._shouldRender=this._onElementScrollSize(de.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(de.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(de.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(de,ke){return de}_sliderPointerPosition(de){return de.pageX}_sliderOrthogonalPointerPosition(de){return de.pageY}_updateScrollbarSize(de){this.slider.setHeight(de)}writeScrollPosition(de,ke){de.scrollLeft=ke}updateOptions(de){this.updateScrollbarSize(2===de.horizontal?0:de.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===de.vertical?0:de.verticalScrollbarSize),this._visibilityController.setVisibility(de.horizontal),this._scrollByPage=de.scrollByPage}}class b extends n{constructor(de,ke,ze){const $e=de.getScrollDimensions(),ce=de.getCurrentScrollPosition();if(super({lazyRender:ke.lazyRender,host:ze,scrollbarState:new p(ke.verticalHasArrows?ke.arrowSize:0,2===ke.vertical?0:ke.verticalScrollbarSize,0,$e.height,$e.scrollHeight,ce.scrollTop),visibility:ke.vertical,extraScrollbarClassName:"vertical",scrollable:de,scrollByPage:ke.scrollByPage}),ke.verticalHasArrows){const Ue=(ke.arrowSize-11)/2,nt=(ke.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:u.lA.scrollbarButtonUp,top:Ue,left:nt,bottom:void 0,right:void 0,bgWidth:ke.verticalScrollbarSize,bgHeight:ke.arrowSize,onActivate:()=>this._host.onMouseWheel(new S.q(null,0,1))}),this._createArrow({className:"scra",icon:u.lA.scrollbarButtonDown,top:void 0,left:nt,bottom:Ue,right:void 0,bgWidth:ke.verticalScrollbarSize,bgHeight:ke.arrowSize,onActivate:()=>this._host.onMouseWheel(new S.q(null,0,-1))})}this._createSlider(0,Math.floor((ke.verticalScrollbarSize-ke.verticalSliderSize)/2),ke.verticalSliderSize,void 0)}_updateSlider(de,ke){this.slider.setHeight(de),this.slider.setTop(ke)}_renderDomNode(de,ke){this.domNode.setWidth(ke),this.domNode.setHeight(de),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(de){return this._shouldRender=this._onElementScrollSize(de.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(de.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(de.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(de,ke){return ke}_sliderPointerPosition(de){return de.pageY}_sliderOrthogonalPointerPosition(de){return de.pageX}_updateScrollbarSize(de){this.slider.setWidth(de)}writeScrollPosition(de,ke){de.scrollTop=ke}updateOptions(de){this.updateScrollbarSize(2===de.vertical?0:de.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(de.vertical),this._scrollByPage=de.scrollByPage}}var y=e(3778),D=e(87188),w=e(57856),I=e.n(w),P=e(38470),O=e.n(P),H=e(43370),U=e.n(H),K=e(28458),F=e.n(K),B=e(71278),z=e.n(B),$=e(29488),j=e.n($),ne=e(43586),N={};N.styleTagTransform=j(),N.setAttributes=F(),N.insert=U().bind(null,"head"),N.domAPI=O(),N.insertStyleElement=z(),I()(ne.Z,N);class Ee{constructor(de,ke,ze){this.timestamp=de,this.deltaX=ke,this.deltaY=ze,this.score=0}}class Le{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let de=1,ke=0,ze=1,$e=this._rear;for(;;){const ce=$e===this._front?de:Math.pow(2,-ze);if(de-=ce,ke+=this._memory[$e].score*ce,$e===this._front)break;$e=(this._capacity+$e-1)%this._capacity,ze++}return ke<=.5}accept(de,ke,ze){const $e=new Ee(de,ke,ze);$e.score=this._computeScore($e),-1===this._front&&-1===this._rear?(this._memory[0]=$e,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=$e)}_computeScore(de){if(Math.abs(de.deltaX)>0&&Math.abs(de.deltaY)>0)return 1;let ke=.5;return(!this._isAlmostInt(de.deltaX)||!this._isAlmostInt(de.deltaY))&&(ke+=.25),Math.min(Math.max(ke,0),1)}_isAlmostInt(de){return Math.abs(Math.round(de)-de)<.01}}Le.INSTANCE=new Le;class Ne extends T.${constructor(de,ke,ze){super(),this._onScroll=this._register(new y.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new y.Q5),de.style.overflow="hidden",this._options=function pe(Te){const de={lazyRender:typeof Te.lazyRender<"u"&&Te.lazyRender,className:typeof Te.className<"u"?Te.className:"",useShadows:!(typeof Te.useShadows<"u")||Te.useShadows,handleMouseWheel:!(typeof Te.handleMouseWheel<"u")||Te.handleMouseWheel,flipAxes:typeof Te.flipAxes<"u"&&Te.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:typeof Te.consumeMouseWheelIfScrollbarIsNeeded<"u"&&Te.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:typeof Te.alwaysConsumeMouseWheel<"u"&&Te.alwaysConsumeMouseWheel,scrollYToX:typeof Te.scrollYToX<"u"&&Te.scrollYToX,mouseWheelScrollSensitivity:typeof Te.mouseWheelScrollSensitivity<"u"?Te.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof Te.fastScrollSensitivity<"u"?Te.fastScrollSensitivity:5,scrollPredominantAxis:!(typeof Te.scrollPredominantAxis<"u")||Te.scrollPredominantAxis,mouseWheelSmoothScroll:!(typeof Te.mouseWheelSmoothScroll<"u")||Te.mouseWheelSmoothScroll,arrowSize:typeof Te.arrowSize<"u"?Te.arrowSize:11,listenOnDomNode:typeof Te.listenOnDomNode<"u"?Te.listenOnDomNode:null,horizontal:typeof Te.horizontal<"u"?Te.horizontal:1,horizontalScrollbarSize:typeof Te.horizontalScrollbarSize<"u"?Te.horizontalScrollbarSize:10,horizontalSliderSize:typeof Te.horizontalSliderSize<"u"?Te.horizontalSliderSize:0,horizontalHasArrows:typeof Te.horizontalHasArrows<"u"&&Te.horizontalHasArrows,vertical:typeof Te.vertical<"u"?Te.vertical:1,verticalScrollbarSize:typeof Te.verticalScrollbarSize<"u"?Te.verticalScrollbarSize:10,verticalHasArrows:typeof Te.verticalHasArrows<"u"&&Te.verticalHasArrows,verticalSliderSize:typeof Te.verticalSliderSize<"u"?Te.verticalSliderSize:0,scrollByPage:typeof Te.scrollByPage<"u"&&Te.scrollByPage};return de.horizontalSliderSize=typeof Te.horizontalSliderSize<"u"?Te.horizontalSliderSize:de.horizontalScrollbarSize,de.verticalSliderSize=typeof Te.verticalSliderSize<"u"?Te.verticalSliderSize:de.verticalScrollbarSize,m.dz&&(de.className+=" mac"),de}(ke),this._scrollable=ze,this._register(this._scrollable.onScroll(ce=>{this._onWillScroll.fire(ce),this._onDidScroll(ce),this._onScroll.fire(ce)}));const $e={onMouseWheel:ce=>this._onMouseWheel(ce),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new b(this._scrollable,this._options,$e)),this._horizontalScrollbar=this._register(new g(this._scrollable,this._options,$e)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(de),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,l.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,l.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,l.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,ce=>this._onMouseOver(ce)),this.onmouseleave(this._listenOnDomNode,ce=>this._onMouseLeave(ce)),this._hideTimeout=this._register(new C._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,_.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(de){this._verticalScrollbar.delegatePointerDown(de)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(de){this._scrollable.setScrollDimensions(de,!1)}updateClassName(de){this._options.className=de,m.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(de){typeof de.handleMouseWheel<"u"&&(this._options.handleMouseWheel=de.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof de.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=de.mouseWheelScrollSensitivity),typeof de.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=de.fastScrollSensitivity),typeof de.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=de.scrollPredominantAxis),typeof de.horizontal<"u"&&(this._options.horizontal=de.horizontal),typeof de.vertical<"u"&&(this._options.vertical=de.vertical),typeof de.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=de.horizontalScrollbarSize),typeof de.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=de.verticalScrollbarSize),typeof de.scrollByPage<"u"&&(this._options.scrollByPage=de.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(de){this._mouseWheelToDispose.length>0!==de&&(this._mouseWheelToDispose=(0,_.B9)(this._mouseWheelToDispose),de)&&this._mouseWheelToDispose.push(t.nm(this._listenOnDomNode,t.tw.MOUSE_WHEEL,$e=>{this._onMouseWheel(new S.q($e))},{passive:!1}))}_onMouseWheel(de){const ke=Le.INSTANCE;{const ce=window.devicePixelRatio/(0,d.getZoomFactor)();m.ED||m.IJ?ke.accept(Date.now(),de.deltaX/ce,de.deltaY/ce):ke.accept(Date.now(),de.deltaX,de.deltaY)}let ze=!1;if(de.deltaY||de.deltaX){let ce=de.deltaY*this._options.mouseWheelScrollSensitivity,Ue=de.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(ce)>=Math.abs(Ue)?Ue=0:ce=0),this._options.flipAxes&&([ce,Ue]=[Ue,ce]);const nt=!m.dz&&de.browserEvent&&de.browserEvent.shiftKey;(this._options.scrollYToX||nt)&&!Ue&&(Ue=ce,ce=0),de.browserEvent&&de.browserEvent.altKey&&(Ue*=this._options.fastScrollSensitivity,ce*=this._options.fastScrollSensitivity);const Dt=this._scrollable.getFutureScrollPosition();let Lt={};if(ce){const Ze=50*ce,ae=Dt.scrollTop-(Ze<0?Math.floor(Ze):Math.ceil(Ze));this._verticalScrollbar.writeScrollPosition(Lt,ae)}if(Ue){const Ze=50*Ue,ae=Dt.scrollLeft-(Ze<0?Math.floor(Ze):Math.ceil(Ze));this._horizontalScrollbar.writeScrollPosition(Lt,ae)}Lt=this._scrollable.validateScrollPosition(Lt),(Dt.scrollLeft!==Lt.scrollLeft||Dt.scrollTop!==Lt.scrollTop)&&(this._options.mouseWheelSmoothScroll&&ke.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Lt):this._scrollable.setScrollPositionNow(Lt),ze=!0)}let $e=ze;!$e&&this._options.alwaysConsumeMouseWheel&&($e=!0),!$e&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&($e=!0),$e&&(de.preventDefault(),de.stopPropagation())}_onDidScroll(de){this._shouldRender=this._horizontalScrollbar.onDidScroll(de)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(de)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const de=this._scrollable.getCurrentScrollPosition(),ke=de.scrollTop>0,ze=de.scrollLeft>0,$e=ze?" left":"",ce=ke?" top":"",Ue=ze||ke?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${$e}`),this._topShadowDomNode.setClassName(`shadow${ce}`),this._topLeftShadowDomNode.setClassName(`shadow${Ue}${ce}${$e}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(de){this._mouseIsOver=!1,this._hide()}_onMouseOver(de){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class oe extends Ne{constructor(de,ke){(ke=ke||{}).mouseWheelSmoothScroll=!1;const ze=new D.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:$e=>t.jL($e)});super(de,ke,ze),this._register(ze)}setScrollPosition(de){this._scrollable.setScrollPositionNow(de)}}class we extends Ne{constructor(de,ke,ze){super(de,ke,ze)}setScrollPosition(de){de.reuseAnimation?this._scrollable.setScrollPositionSmooth(de,de.reuseAnimation):this._scrollable.setScrollPositionNow(de)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class xe extends Ne{constructor(de,ke){(ke=ke||{}).mouseWheelSmoothScroll=!1;const ze=new D.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:$e=>t.jL($e)});super(de,ke,ze),this._register(ze),this._element=de,this.onScroll($e=>{$e.scrollTopChanged&&(this._element.scrollTop=$e.scrollTop),$e.scrollLeftChanged&&(this._element.scrollLeft=$e.scrollLeft)}),this.scanDomNode()}setScrollPosition(de){this._scrollable.setScrollPositionNow(de)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},93656:(Et,X,e)=>{"use strict";e.d(X,{M:()=>$,z:()=>j});var d=e(98463),t=e(84075),l=e(3067),S=e(64023),v=e(69355),T=e(3778),C=e(80142),E=e(73455),L=e(87188),_=e(72715),s=e(57856),m=e.n(s),c=e(38470),n=e.n(c),a=e(43370),p=e.n(a),u=e(28458),g=e.n(u),b=e(71278),y=e.n(b),D=e(29488),w=e.n(D),I=e(9740),P={};P.styleTagTransform=w(),P.setAttributes=g(),P.insert=p().bind(null,"head"),P.domAPI=n(),P.insertStyleElement=y(),m()(I.Z,P);const U={separatorBorder:v.Il.transparent};class K{constructor(N,V,Z,fe){this.container=N,this.view=V,this.disposable=fe,this._cachedVisibleSize=void 0,"number"==typeof Z?(this._size=Z,this._cachedVisibleSize=void 0,N.classList.add("visible")):(this._size=0,this._cachedVisibleSize=Z.cachedVisibleSize)}set size(N){this._size=N}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(N,V){var Z,fe;N!==this.visible&&(N?(this.size=(0,E.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof V?V:this.size,this.size=0),this.container.classList.toggle("visible",N),null===(fe=(Z=this.view).setVisible)||void 0===fe||fe.call(Z,N))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(N){this.container.style.pointerEvents=N?"":"none"}layout(N,V){this.layoutContainer(N),this.view.layout(this.size,N,V)}dispose(){return this.disposable.dispose(),this.view}}class F extends K{layoutContainer(N){this.container.style.top=`${N}px`,this.container.style.height=`${this.size}px`}}class B extends K{layoutContainer(N){this.container.style.left=`${N}px`,this.container.style.width=`${this.size}px`}}var $,ne,z=(()=>{return(ne=z||(z={}))[ne.Idle=0]="Idle",ne[ne.Busy=1]="Busy",z;var ne})();(ne=$||($={})).Distribute={type:"distribute"},ne.Split=function N(Z){return{type:"split",index:Z}},ne.Invisible=function V(Z){return{type:"invisible",cachedVisibleSize:Z}};class j extends C.JT{constructor(N,V={}){var Z,fe,M,Se,Ee;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=z.Idle,this._onDidSashChange=this._register(new T.Q5),this._onDidSashReset=this._register(new T.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(Z=V.orientation)&&void 0!==Z?Z:0,this.inverseAltBehavior=null!==(fe=V.inverseAltBehavior)&&void 0!==fe&&fe,this.proportionalLayout=null===(M=V.proportionalLayout)||void 0===M||M,this.getSashOrthogonalSize=V.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),N.appendChild(this.el),this.sashContainer=(0,d.R3)(this.el,(0,d.$)(".sash-container")),this.viewContainer=(0,d.$)(".split-view-container"),this.scrollable=new L.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:d.jL}),this.scrollableElement=this._register(new l.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(Se=V.scrollbarVisibility)&&void 0!==Se?Se:1:2,horizontal:1===this.orientation?null!==(Ee=V.scrollbarVisibility)&&void 0!==Ee?Ee:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(Le=>{this.viewContainer.scrollTop=Le.scrollTop,this.viewContainer.scrollLeft=Le.scrollLeft})),(0,d.R3)(this.el,this.scrollableElement.getDomNode()),this.style(V.styles||U),V.descriptor&&(this.size=V.descriptor.size,V.descriptor.views.forEach((Le,Ne)=>{const oe=_.o8(Le.visible)||Le.visible?Le.size:{type:"invisible",cachedVisibleSize:Le.size};this.doAddView(Le.view,oe,Ne,!0)}),this.contentSize=this.viewItems.reduce((Le,Ne)=>Le+Ne.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(N){for(const V of this.sashItems)V.sash.orthogonalStartSash=N;this._orthogonalStartSash=N}set orthogonalEndSash(N){for(const V of this.sashItems)V.sash.orthogonalEndSash=N;this._orthogonalEndSash=N}set startSnappingEnabled(N){this._startSnappingEnabled!==N&&(this._startSnappingEnabled=N,this.updateSashEnablement())}set endSnappingEnabled(N){this._endSnappingEnabled!==N&&(this._endSnappingEnabled=N,this.updateSashEnablement())}style(N){N.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",N.separatorBorder.toString()))}addView(N,V,Z=this.viewItems.length,fe){this.doAddView(N,V,Z,fe)}layout(N,V){const Z=Math.max(this.size,this.contentSize);if(this.size=N,this.layoutContext=V,this.proportions)for(let fe=0;fe<this.viewItems.length;fe++){const M=this.viewItems[fe];M.size=(0,E.uZ)(Math.round(this.proportions[fe]*N),M.minimumSize,M.maximumSize)}else{const fe=(0,S.w6)(this.viewItems.length),M=fe.filter(Ee=>1===this.viewItems[Ee].priority),Se=fe.filter(Ee=>2===this.viewItems[Ee].priority);this.resize(this.viewItems.length-1,N-Z,void 0,M,Se)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(N=>N.size/this.contentSize))}onSashStart({sash:N,start:V,alt:Z}){for(const Ee of this.viewItems)Ee.enabled=!1;const fe=this.sashItems.findIndex(Ee=>Ee.sash===N),M=(0,C.F8)((0,d.nm)(document.body,"keydown",Ee=>Se(this.sashDragState.current,Ee.altKey)),(0,d.nm)(document.body,"keyup",()=>Se(this.sashDragState.current,!1))),Se=(Ee,Le)=>{const Ne=this.viewItems.map(Te=>Te.size);let xe,pe,oe=Number.NEGATIVE_INFINITY,we=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(Le=!Le),Le)if(fe===this.sashItems.length-1){const de=this.viewItems[fe];oe=(de.minimumSize-de.size)/2,we=(de.maximumSize-de.size)/2}else{const de=this.viewItems[fe+1];oe=(de.size-de.maximumSize)/2,we=(de.size-de.minimumSize)/2}if(!Le){const Te=(0,S.w6)(fe,-1),de=(0,S.w6)(fe+1,this.viewItems.length),ke=Te.reduce((Ze,ae)=>Ze+(this.viewItems[ae].minimumSize-Ne[ae]),0),ze=Te.reduce((Ze,ae)=>Ze+(this.viewItems[ae].viewMaximumSize-Ne[ae]),0),$e=0===de.length?Number.POSITIVE_INFINITY:de.reduce((Ze,ae)=>Ze+(Ne[ae]-this.viewItems[ae].minimumSize),0),ce=0===de.length?Number.NEGATIVE_INFINITY:de.reduce((Ze,ae)=>Ze+(Ne[ae]-this.viewItems[ae].viewMaximumSize),0),Ue=Math.max(ke,ce),nt=Math.min($e,ze),Dt=this.findFirstSnapIndex(Te),Lt=this.findFirstSnapIndex(de);if("number"==typeof Dt){const Ze=this.viewItems[Dt],ae=Math.floor(Ze.viewMinimumSize/2);xe={index:Dt,limitDelta:Ze.visible?Ue-ae:Ue+ae,size:Ze.size}}if("number"==typeof Lt){const Ze=this.viewItems[Lt],ae=Math.floor(Ze.viewMinimumSize/2);pe={index:Lt,limitDelta:Ze.visible?nt+ae:nt-ae,size:Ze.size}}}this.sashDragState={start:Ee,current:Ee,index:fe,sizes:Ne,minDelta:oe,maxDelta:we,alt:Le,snapBefore:xe,snapAfter:pe,disposable:M}};Se(V,Z)}onSashChange({current:N}){const{index:V,start:Z,sizes:fe,alt:M,minDelta:Se,maxDelta:Ee,snapBefore:Le,snapAfter:Ne}=this.sashDragState;this.sashDragState.current=N;const we=this.resize(V,N-Z,fe,void 0,void 0,Se,Ee,Le,Ne);if(M){const xe=V===this.sashItems.length-1,pe=this.viewItems.map(ce=>ce.size),de=this.viewItems[xe?V:V+1];this.resize(xe?V-1:V+1,-we,pe,void 0,void 0,de.size-de.maximumSize,de.size-de.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(N){this._onDidSashChange.fire(N),this.sashDragState.disposable.dispose(),this.saveProportions();for(const V of this.viewItems)V.enabled=!0}onViewChange(N,V){const Z=this.viewItems.indexOf(N);Z<0||Z>=this.viewItems.length||(V=(0,E.uZ)(V="number"==typeof V?V:N.size,N.minimumSize,N.maximumSize),this.inverseAltBehavior&&Z>0?(this.resize(Z-1,Math.floor((N.size-V)/2)),this.distributeEmptySpace(),this.layoutViews()):(N.size=V,this.relayout([Z],void 0)))}resizeView(N,V){if(this.state!==z.Idle)throw new Error("Cant modify splitview");if(this.state=z.Busy,N<0||N>=this.viewItems.length)return;const Z=(0,S.w6)(this.viewItems.length).filter(Ee=>Ee!==N),fe=[...Z.filter(Ee=>1===this.viewItems[Ee].priority),N],M=Z.filter(Ee=>2===this.viewItems[Ee].priority),Se=this.viewItems[N];V=Math.round(V),V=(0,E.uZ)(V,Se.minimumSize,Math.min(Se.maximumSize,this.size)),Se.size=V,this.relayout(fe,M),this.state=z.Idle}distributeViewSizes(){const N=[];let V=0;for(const Ee of this.viewItems)Ee.maximumSize-Ee.minimumSize>0&&(N.push(Ee),V+=Ee.size);const Z=Math.floor(V/N.length);for(const Ee of N)Ee.size=(0,E.uZ)(Z,Ee.minimumSize,Ee.maximumSize);const fe=(0,S.w6)(this.viewItems.length),M=fe.filter(Ee=>1===this.viewItems[Ee].priority),Se=fe.filter(Ee=>2===this.viewItems[Ee].priority);this.relayout(M,Se)}getViewSize(N){return N<0||N>=this.viewItems.length?-1:this.viewItems[N].size}doAddView(N,V,Z=this.viewItems.length,fe){if(this.state!==z.Idle)throw new Error("Cant modify splitview");this.state=z.Busy;const M=(0,d.$)(".split-view-view");Z===this.viewItems.length?this.viewContainer.appendChild(M):this.viewContainer.insertBefore(M,this.viewContainer.children.item(Z));const Se=N.onDidChange(xe=>this.onViewChange(oe,xe)),Ee=(0,C.OF)(()=>this.viewContainer.removeChild(M)),Le=(0,C.F8)(Se,Ee);let Ne;Ne="number"==typeof V?V:"split"===V.type?this.getViewSize(V.index)/2:"invisible"===V.type?{cachedVisibleSize:V.cachedVisibleSize}:N.minimumSize;const oe=0===this.orientation?new F(M,N,Ne,Le):new B(M,N,Ne,Le);if(this.viewItems.splice(Z,0,oe),this.viewItems.length>1){const xe={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},pe=0===this.orientation?new t.g(this.sashContainer,{getHorizontalSashTop:Ze=>this.getSashPosition(Ze),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},xe),{orientation:1})):new t.g(this.sashContainer,{getVerticalSashLeft:Ze=>this.getSashPosition(Ze),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},xe),{orientation:0})),Te=0===this.orientation?Ze=>({sash:pe,start:Ze.startY,current:Ze.currentY,alt:Ze.altKey}):Ze=>({sash:pe,start:Ze.startX,current:Ze.currentX,alt:Ze.altKey}),ke=T.ju.map(pe.onDidStart,Te)(this.onSashStart,this),$e=T.ju.map(pe.onDidChange,Te)(this.onSashChange,this),Ue=T.ju.map(pe.onDidEnd,()=>this.sashItems.findIndex(Ze=>Ze.sash===pe))(this.onSashEnd,this),nt=pe.onDidReset(()=>{const Ze=this.sashItems.findIndex(Q=>Q.sash===pe),ae=(0,S.w6)(Ze,-1),_e=(0,S.w6)(Ze+1,this.viewItems.length),he=this.findFirstSnapIndex(ae),le=this.findFirstSnapIndex(_e);"number"==typeof he&&!this.viewItems[he].visible||"number"==typeof le&&!this.viewItems[le].visible||this._onDidSashReset.fire(Ze)}),Dt=(0,C.F8)(ke,$e,Ue,nt,pe);this.sashItems.splice(Z-1,0,{sash:pe,disposable:Dt})}let we;M.appendChild(N.element),"number"!=typeof V&&"split"===V.type&&(we=[V.index]),fe||this.relayout([Z],we),this.state=z.Idle,!fe&&"number"!=typeof V&&"distribute"===V.type&&this.distributeViewSizes()}relayout(N,V){const Z=this.viewItems.reduce((fe,M)=>fe+M.size,0);this.resize(this.viewItems.length-1,this.size-Z,void 0,N,V),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(N,V,Z=this.viewItems.map(oe=>oe.size),fe,M,Se=Number.NEGATIVE_INFINITY,Ee=Number.POSITIVE_INFINITY,Le,Ne){if(N<0||N>=this.viewItems.length)return 0;const oe=(0,S.w6)(N,-1),we=(0,S.w6)(N+1,this.viewItems.length);if(M)for(const Lt of M)(0,S.zI)(oe,Lt),(0,S.zI)(we,Lt);if(fe)for(const Lt of fe)(0,S.al)(oe,Lt),(0,S.al)(we,Lt);const xe=oe.map(Lt=>this.viewItems[Lt]),pe=oe.map(Lt=>Z[Lt]),Te=we.map(Lt=>this.viewItems[Lt]),de=we.map(Lt=>Z[Lt]),ke=oe.reduce((Lt,Ze)=>Lt+(this.viewItems[Ze].minimumSize-Z[Ze]),0),ze=oe.reduce((Lt,Ze)=>Lt+(this.viewItems[Ze].maximumSize-Z[Ze]),0),$e=0===we.length?Number.POSITIVE_INFINITY:we.reduce((Lt,Ze)=>Lt+(Z[Ze]-this.viewItems[Ze].minimumSize),0),ce=0===we.length?Number.NEGATIVE_INFINITY:we.reduce((Lt,Ze)=>Lt+(Z[Ze]-this.viewItems[Ze].maximumSize),0),Ue=Math.max(ke,ce,Se),nt=Math.min($e,ze,Ee);let Dt=!1;if(Le){const Lt=this.viewItems[Le.index],Ze=V>=Le.limitDelta;Dt=Ze!==Lt.visible,Lt.setVisible(Ze,Le.size)}if(!Dt&&Ne){const Lt=this.viewItems[Ne.index],Ze=V<Ne.limitDelta;Dt=Ze!==Lt.visible,Lt.setVisible(Ze,Ne.size)}if(Dt)return this.resize(N,V,Z,fe,M,Se,Ee);for(let Lt=0,Ze=V=(0,E.uZ)(V,Ue,nt);Lt<xe.length;Lt++){const ae=xe[Lt],_e=(0,E.uZ)(pe[Lt]+Ze,ae.minimumSize,ae.maximumSize);Ze-=_e-pe[Lt],ae.size=_e}for(let Lt=0,Ze=V;Lt<Te.length;Lt++){const ae=Te[Lt],_e=(0,E.uZ)(de[Lt]-Ze,ae.minimumSize,ae.maximumSize);Ze+=_e-de[Lt],ae.size=_e}return V}distributeEmptySpace(N){const V=this.viewItems.reduce((Ee,Le)=>Ee+Le.size,0);let Z=this.size-V;const fe=(0,S.w6)(this.viewItems.length-1,-1),M=fe.filter(Ee=>1===this.viewItems[Ee].priority),Se=fe.filter(Ee=>2===this.viewItems[Ee].priority);for(const Ee of Se)(0,S.zI)(fe,Ee);for(const Ee of M)(0,S.al)(fe,Ee);"number"==typeof N&&(0,S.al)(fe,N);for(let Ee=0;0!==Z&&Ee<fe.length;Ee++){const Le=this.viewItems[fe[Ee]],Ne=(0,E.uZ)(Le.size+Z,Le.minimumSize,Le.maximumSize);Z-=Ne-Le.size,Le.size=Ne}}layoutViews(){this.contentSize=this.viewItems.reduce((V,Z)=>V+Z.size,0);let N=0;for(const V of this.viewItems)V.layout(N,this.layoutContext),N+=V.size;this.sashItems.forEach(V=>V.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let N=!1;const V=this.viewItems.map(Le=>N=Le.size-Le.minimumSize>0||N);N=!1;const Z=this.viewItems.map(Le=>N=Le.maximumSize-Le.size>0||N),fe=[...this.viewItems].reverse();N=!1;const M=fe.map(Le=>N=Le.size-Le.minimumSize>0||N).reverse();N=!1;const Se=fe.map(Le=>N=Le.maximumSize-Le.size>0||N).reverse();let Ee=0;for(let Le=0;Le<this.sashItems.length;Le++){const{sash:Ne}=this.sashItems[Le];Ee+=this.viewItems[Le].size;const we=!(V[Le]&&Se[Le+1]),xe=!(Z[Le]&&M[Le+1]);if(we&&xe){const pe=(0,S.w6)(Le,-1),Te=(0,S.w6)(Le+1,this.viewItems.length),de=this.findFirstSnapIndex(pe),ke=this.findFirstSnapIndex(Te),$e="number"==typeof ke&&!this.viewItems[ke].visible;Ne.state="number"==typeof de&&!this.viewItems[de].visible&&M[Le]&&(Ee>0||this.startSnappingEnabled)?1:$e&&V[Le]&&(Ee<this.contentSize||this.endSnappingEnabled)?2:0}else Ne.state=we&&!xe?1:!we&&xe?2:3}}getSashPosition(N){let V=0;for(let Z=0;Z<this.sashItems.length;Z++)if(V+=this.viewItems[Z].size,this.sashItems[Z].sash===N)return V;return 0}findFirstSnapIndex(N){for(const V of N){const Z=this.viewItems[V];if(Z.visible&&Z.snap)return V}for(const V of N){const Z=this.viewItems[V];if(Z.visible&&Z.maximumSize-Z.minimumSize>0)return;if(!Z.visible&&Z.snap)return V}}dispose(){super.dispose(),(0,C.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(N=>N.disposable.dispose()),this.sashItems=[]}}},99952:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>w});var d=e(5183),t=e(58783),l=e(69355),S=e(3778),v=e(57856),T=e.n(v),C=e(38470),E=e.n(C),L=e(43370),_=e.n(L),s=e(28458),m=e.n(s),c=e(71278),n=e.n(c),a=e(29488),p=e.n(a),u=e(78322),g={};g.styleTagTransform=p(),g.setAttributes=m(),g.insert=_().bind(null,"head"),g.domAPI=E(),g.insertStyleElement=n(),T()(u.Z,g);const D={inputActiveOptionBorder:l.Il.fromHex("#007ACC00"),inputActiveOptionForeground:l.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:l.Il.fromHex("#0E639C50")};class w extends d.${constructor(P){super(),this._onChange=this._register(new S.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new S.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},D),P),this._checked=this._opts.isChecked;const O=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,O.push(...t.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&O.push(...this._opts.actionClassName.split(" ")),this._checked&&O.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...O),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,H=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),H.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,H=>{if(10===H.keyCode||3===H.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),H.preventDefault(),void H.stopPropagation();this._onKeyDown.fire(H)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(P){this._checked=P,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(P){P.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=P.inputActiveOptionBorder),P.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=P.inputActiveOptionForeground),P.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=P.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},5183:(Et,X,e)=>{"use strict";e.d(X,{$:()=>T});var d=e(98463),t=e(41140),l=e(97340),S=e(62922),v=e(80142);class T extends v.JT{onclick(E,L){this._register(d.nm(E,d.tw.CLICK,_=>L(new l.n(_))))}onmousedown(E,L){this._register(d.nm(E,d.tw.MOUSE_DOWN,_=>L(new l.n(_))))}onmouseover(E,L){this._register(d.nm(E,d.tw.MOUSE_OVER,_=>L(new l.n(_))))}onmouseleave(E,L){this._register(d.nm(E,d.tw.MOUSE_LEAVE,_=>L(new l.n(_))))}onkeydown(E,L){this._register(d.nm(E,d.tw.KEY_DOWN,_=>L(new t.y(_))))}onkeyup(E,L){this._register(d.nm(E,d.tw.KEY_UP,_=>L(new t.y(_))))}oninput(E,L){this._register(d.nm(E,d.tw.INPUT,L))}onblur(E,L){this._register(d.nm(E,d.tw.BLUR,L))}onfocus(E,L){this._register(d.nm(E,d.tw.FOCUS,L))}ignoreGesture(E){S.o.ignoreTarget(E)}}},827:(Et,X,e)=>{"use strict";e.d(X,{Wi:()=>T,Z0:()=>C,aU:()=>v,eZ:()=>L,wY:()=>E,xw:()=>_});var d=e(3778),t=e(80142),l=e(55197),S=function(s,m,c,n){return new(c||(c=Promise))(function(p,u){function g(D){try{y(n.next(D))}catch(w){u(w)}}function b(D){try{y(n.throw(D))}catch(w){u(w)}}function y(D){D.done?p(D.value):function a(p){return p instanceof c?p:new c(function(u){u(p)})}(D.value).then(g,b)}y((n=n.apply(s,m||[])).next())})};class v extends t.JT{constructor(m,c="",n="",a=!0,p){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=m,this._label=c,this._cssClass=n,this._enabled=a,this._actionCallback=p}get id(){return this._id}get label(){return this._label}set label(m){this._setLabel(m)}_setLabel(m){this._label!==m&&(this._label=m,this._onDidChange.fire({label:m}))}get tooltip(){return this._tooltip||""}set tooltip(m){this._setTooltip(m)}_setTooltip(m){this._tooltip!==m&&(this._tooltip=m,this._onDidChange.fire({tooltip:m}))}get class(){return this._cssClass}set class(m){this._setClass(m)}_setClass(m){this._cssClass!==m&&(this._cssClass=m,this._onDidChange.fire({class:m}))}get enabled(){return this._enabled}set enabled(m){this._setEnabled(m)}_setEnabled(m){this._enabled!==m&&(this._enabled=m,this._onDidChange.fire({enabled:m}))}get checked(){return this._checked}set checked(m){this._setChecked(m)}_setChecked(m){this._checked!==m&&(this._checked=m,this._onDidChange.fire({checked:m}))}run(m,c){return S(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(m))})}}class T extends t.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new d.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new d.Q5),this.onDidRun=this._onDidRun.event}run(m,c){return S(this,void 0,void 0,function*(){if(!m.enabled)return;let n;this._onBeforeRun.fire({action:m});try{yield this.runAction(m,c)}catch(a){n=a}this._onDidRun.fire({action:m,error:n})})}runAction(m,c){return S(this,void 0,void 0,function*(){yield m.run(c)})}}let C=(()=>{class s extends v{constructor(c){super(s.ID,c,c?"separator text":"separator"),this.checked=!1,this.enabled=!1}}return s.ID="vs.actions.separator",s})();class E{constructor(m,c,n,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=m,this.label=c,this.class=a,this._actions=n}get actions(){return this._actions}dispose(){}run(){return S(this,void 0,void 0,function*(){})}}let L=(()=>{class s extends v{constructor(){super(s.ID,l.NC("submenu.empty","(empty)"),void 0,!1)}}return s.ID="vs.actions.empty",s})();function _(s){var m,c;return{id:s.id,label:s.label,class:void 0,enabled:null===(m=s.enabled)||void 0===m||m,checked:null!==(c=s.checked)&&void 0!==c&&c,run:()=>S(this,void 0,void 0,function*(){return s.run()}),tooltip:s.label,dispose:()=>{}}}},64023:(Et,X,e)=>{"use strict";function d(j,ne=0){return j[j.length-(1+ne)]}function t(j){if(0===j.length)throw new Error("Invalid tail call");return[j.slice(0,j.length-1),j[j.length-1]]}function l(j,ne,N=((V,Z)=>V===Z)){if(j===ne)return!0;if(!j||!ne||j.length!==ne.length)return!1;for(let V=0,Z=j.length;V<Z;V++)if(!N(j[V],ne[V]))return!1;return!0}function S(j,ne){const N=j.length-1;ne<N&&(j[ne]=j[N]),j.pop()}function v(j,ne,N){return function T(j,ne){let N=0,V=j-1;for(;N<=V;){const Z=(N+V)/2|0,fe=ne(Z);if(fe<0)N=Z+1;else{if(!(fe>0))return Z;V=Z-1}}return-(N+1)}(j.length,V=>N(j[V],ne))}function C(j,ne){let N=0,V=j.length;if(0===V)return 0;for(;N<V;){const Z=Math.floor((N+V)/2);ne(j[Z])?V=Z:N=Z+1}return N}function E(j,ne,N){if((j|=0)>=ne.length)throw new TypeError("invalid index");const V=ne[Math.floor(ne.length*Math.random())],Z=[],fe=[],M=[];for(const Se of ne){const Ee=N(Se,V);Ee<0?Z.push(Se):Ee>0?fe.push(Se):M.push(Se)}return j<Z.length?E(j,Z,N):j<Z.length+M.length?M[0]:E(j-(Z.length+M.length),fe,N)}function L(j,ne){const N=[];let V;for(const Z of j.slice(0).sort(ne))V&&0===ne(V[0],Z)?V.push(Z):(V=[Z],N.push(V));return N}function _(j){return j.filter(ne=>!!ne)}function s(j){return!Array.isArray(j)||0===j.length}function m(j){return Array.isArray(j)&&j.length>0}function c(j,ne=(N=>N)){const N=new Set;return j.filter(V=>{const Z=ne(V);return!N.has(Z)&&(N.add(Z),!0)})}function n(j,ne){const N=function a(j,ne){for(let N=j.length-1;N>=0;N--)if(ne(j[N]))return N;return-1}(j,ne);if(-1!==N)return j[N]}function p(j,ne){return j.length>0?j[0]:ne}function u(j,ne){let N="number"==typeof ne?j:0;"number"==typeof ne?N=j:(N=0,ne=j);const V=[];if(N<=ne)for(let Z=N;Z<ne;Z++)V.push(Z);else for(let Z=N;Z>ne;Z--)V.push(Z);return V}function g(j,ne,N){const V=j.slice(0,ne),Z=j.slice(ne);return V.concat(N,Z)}function b(j,ne){const N=j.indexOf(ne);N>-1&&(j.splice(N,1),j.unshift(ne))}function y(j,ne){const N=j.indexOf(ne);N>-1&&(j.splice(N,1),j.push(ne))}function D(j,ne){for(const N of ne)j.push(N)}function w(j){return Array.isArray(j)?j:[j]}function P(j,ne,N,V){const Z=O(j,ne),fe=j.splice(Z,N);return function I(j,ne,N){const V=O(j,ne),Z=j.length,fe=N.length;j.length=Z+fe;for(let M=Z-1;M>=V;M--)j[M+fe]=j[M];for(let M=0;M<fe;M++)j[M+V]=N[M]}(j,Z,V),fe}function O(j,ne){return ne<0?Math.max(ne+j.length,0):Math.min(ne,j.length)}var H,j;function U(j,ne){return(N,V)=>ne(j(N),j(V))}e.d(X,{Dc:()=>F,EB:()=>c,Gb:()=>d,H9:()=>$,HW:()=>E,JH:()=>t,LS:()=>S,Of:()=>m,VJ:()=>z,XY:()=>s,Xh:()=>p,Zv:()=>g,_2:()=>w,al:()=>y,dF:()=>n,db:()=>P,fS:()=>l,fv:()=>K,jV:()=>B,kX:()=>_,lG:()=>C,ry:()=>v,tT:()=>U,vA:()=>D,vM:()=>L,w6:()=>u,zI:()=>b}),(j=H||(H={})).isLessThan=function ne(Z){return Z<0},j.isGreaterThan=function N(Z){return Z>0},j.isNeitherLessOrGreaterThan=function V(Z){return 0===Z},j.greaterThan=1,j.lessThan=-1,j.neitherLessOrGreaterThan=0;const K=(j,ne)=>j-ne;function F(j,ne){if(0===j.length)return;let N=j[0];for(let V=1;V<j.length;V++){const Z=j[V];ne(Z,N)>0&&(N=Z)}return N}function B(j,ne){if(0===j.length)return;let N=j[0];for(let V=1;V<j.length;V++){const Z=j[V];ne(Z,N)>=0&&(N=Z)}return N}function z(j,ne){return F(j,(N,V)=>-ne(N,V))}class ${constructor(ne){this.items=ne,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(ne){let N=this.firstIdx;for(;N<this.items.length&&ne(this.items[N]);)N++;const V=N===this.firstIdx?null:this.items.slice(this.firstIdx,N);return this.firstIdx=N,V}takeFromEndWhile(ne){let N=this.lastIdx;for(;N>=0&&ne(this.items[N]);)N--;const V=N===this.lastIdx?null:this.items.slice(N+1,this.lastIdx+1);return this.lastIdx=N,V}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const ne=this.items[this.firstIdx];return this.firstIdx++,ne}takeCount(ne){const N=this.items.slice(this.firstIdx,this.firstIdx+ne);return this.firstIdx+=ne,N}}},94772:(Et,X,e)=>{"use strict";function d(t,l){if(!t)throw new Error(l?`Assertion failed (${l})`:"Assertion Failed")}e.d(X,{ok:()=>d})},48648:(Et,X,e)=>{"use strict";e.d(X,{Aq:()=>U,CR:()=>O,J8:()=>E,PG:()=>L,Ps:()=>b,To:()=>I,Ue:()=>P,Vg:()=>g,Vs:()=>u,_F:()=>y,eP:()=>_,jT:()=>H,ne:()=>n,pY:()=>w,rH:()=>p,vp:()=>a,zS:()=>F,zh:()=>D});var d=e(73888),t=e(4125),l=e(3778),S=e(80142),v=e(8841),T=function(B,z,$,j){return new($||($=Promise))(function(N,V){function Z(Se){try{M(j.next(Se))}catch(Ee){V(Ee)}}function fe(Se){try{M(j.throw(Se))}catch(Ee){V(Ee)}}function M(Se){Se.done?N(Se.value):function ne(N){return N instanceof $?N:new $(function(V){V(N)})}(Se.value).then(Z,fe)}M((j=j.apply(B,z||[])).next())})},C=function(B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,z=B[Symbol.asyncIterator];return z?z.call(B):(B="function"==typeof __values?__values(B):B[Symbol.iterator](),$={},j("next"),j("throw"),j("return"),$[Symbol.asyncIterator]=function(){return this},$);function j(N){$[N]=B[N]&&function(V){return new Promise(function(Z,fe){!function ne(N,V,Z,fe){Promise.resolve(fe).then(function(M){N({value:M,done:Z})},V)}(Z,fe,(V=B[N](V)).done,V.value)})}}};function E(B){return!!B&&"function"==typeof B.then}function L(B){const z=new d.A,$=B(z.token),j=new Promise((ne,N)=>{const V=z.token.onCancellationRequested(()=>{V.dispose(),z.dispose(),N(new t.FU)});Promise.resolve($).then(Z=>{V.dispose(),z.dispose(),ne(Z)},Z=>{V.dispose(),z.dispose(),N(Z)})});return new class{cancel(){z.cancel()}then(ne,N){return j.then(ne,N)}catch(ne){return this.then(void 0,ne)}finally(ne){return j.finally(ne)}}}function _(B,z,$){return new Promise((j,ne)=>{const N=z.onCancellationRequested(()=>{N.dispose(),j($)});B.then(j,ne).finally(()=>N.dispose())})}class s{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(z){if(this.activePromise){if(this.queuedPromiseFactory=z,!this.queuedPromise){const $=()=>{this.queuedPromise=null;const j=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,j};this.queuedPromise=new Promise(j=>{this.activePromise.then($,$).then(j)})}return new Promise(($,j)=>{this.queuedPromise.then($,j)})}return this.activePromise=z(),new Promise(($,j)=>{this.activePromise.then(ne=>{this.activePromise=null,$(ne)},ne=>{this.activePromise=null,j(ne)})})}}const n=Symbol("MicrotaskDelay");class a{constructor(z){this.defaultDelay=z,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(z,$=this.defaultDelay){this.task=z,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((ne,N)=>{this.doResolve=ne,this.doReject=N}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const ne=this.task;return this.task=null,ne()}}));const j=()=>{var ne;this.deferred=null,null===(ne=this.doResolve)||void 0===ne||ne.call(this,null)};return this.deferred=$===n?(B=>{let z=!0;return queueMicrotask(()=>{z&&(z=!1,B())}),{isTriggered:()=>z,dispose:()=>{z=!1}}})(j):((B,z)=>{let $=!0;const j=setTimeout(()=>{$=!1,z()},B);return{isTriggered:()=>$,dispose:()=>{clearTimeout(j),$=!1}}})($,j),this.completionPromise}isTriggered(){var z;return!(null===(z=this.deferred)||void 0===z||!z.isTriggered())}cancel(){var z;this.cancelTimeout(),this.completionPromise&&(null===(z=this.doReject)||void 0===z||z.call(this,new t.FU),this.completionPromise=null)}cancelTimeout(){var z;null===(z=this.deferred)||void 0===z||z.dispose(),this.deferred=null}dispose(){this.cancel()}}class p{constructor(z){this.delayer=new a(z),this.throttler=new s}trigger(z,$){return this.delayer.trigger(()=>this.throttler.queue(z),$)}dispose(){this.delayer.dispose()}}function u(B,z){return z?new Promise(($,j)=>{const ne=setTimeout(()=>{N.dispose(),$()},B),N=z.onCancellationRequested(()=>{clearTimeout(ne),N.dispose(),j(new t.FU)})}):L($=>u(B,$))}function g(B,z=0){const $=setTimeout(B,z);return(0,S.OF)(()=>clearTimeout($))}function b(B,z=(j=>!!j),$=null){let j=0;const ne=B.length,N=()=>{if(j>=ne)return Promise.resolve($);const V=B[j++];return Promise.resolve(V()).then(fe=>z(fe)?Promise.resolve(fe):N())};return N()}class y{constructor(z,$){this._token=-1,"function"==typeof z&&"number"==typeof $&&this.setIfNotSet(z,$)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(z,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,z()},$)}setIfNotSet(z,$){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,z()},$))}}class D{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(z,$){this.cancel(),this._token=setInterval(()=>{z()},$)}}class w{constructor(z,$){this.timeoutToken=-1,this.runner=z,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(z=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,z)}get delay(){return this.timeout}set delay(z){this.timeout=z}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var z;null===(z=this.runner)||void 0===z||z.call(this)}}let I;I="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?B=>{(0,v.fn)(()=>{if(z)return;const $=Date.now()+15;B(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,$-Date.now())}))});let z=!1;return{dispose(){z||(z=!0)}}}:(B,z)=>{const $=requestIdleCallback(B,"number"==typeof z?{timeout:z}:void 0);let j=!1;return{dispose(){j||(j=!0,cancelIdleCallback($))}}};class P{constructor(z){this._didRun=!1,this._executor=()=>{try{this._value=z()}catch($){this._error=$}finally{this._didRun=!0}},this._handle=I(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class O{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((z,$)=>{this.completeCallback=z,this.errorCallback=$})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(z){return new Promise($=>{this.completeCallback(z),this.resolved=!0,$()})}cancel(){new Promise(z=>{this.errorCallback(new t.FU),this.rejected=!0,z()})}}var H,B;(B=H||(H={})).settled=function z(j){return T(this,void 0,void 0,function*(){let ne;const N=yield Promise.all(j.map(V=>V.then(Z=>Z,Z=>{ne||(ne=Z)})));if(typeof ne<"u")throw ne;return N})},B.withAsyncBody=function $(j){return new Promise((ne,N)=>T(this,void 0,void 0,function*(){try{yield j(ne,N)}catch(V){N(V)}}))};class U{constructor(z){this._state=0,this._results=[],this._error=null,this._onStateChanged=new l.Q5,queueMicrotask(()=>T(this,void 0,void 0,function*(){const $={emitOne:j=>this.emitOne(j),emitMany:j=>this.emitMany(j),reject:j=>this.reject(j)};try{yield Promise.resolve(z($)),this.resolve()}catch(j){this.reject(j)}finally{$.emitOne=void 0,$.emitMany=void 0,$.reject=void 0}}))}static fromArray(z){return new U($=>{$.emitMany(z)})}static fromPromise(z){return new U($=>T(this,void 0,void 0,function*(){$.emitMany(yield z)}))}static fromPromises(z){return new U($=>T(this,void 0,void 0,function*(){yield Promise.all(z.map(j=>T(this,void 0,void 0,function*(){return $.emitOne(yield j)})))}))}static merge(z){return new U($=>T(this,void 0,void 0,function*(){yield Promise.all(z.map(j=>{var ne,N;return T(this,void 0,void 0,function*(){var V,Z;try{for(ne=C(j);!(N=yield ne.next()).done;)$.emitOne(N.value)}catch(fe){V={error:fe}}finally{try{N&&!N.done&&(Z=ne.return)&&(yield Z.call(ne))}finally{if(V)throw V.error}}})}))}))}[Symbol.asyncIterator](){let z=0;return{next:()=>T(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(z<this._results.length)return{done:!1,value:this._results[z++]};if(1===this._state)return{done:!0,value:void 0};yield l.ju.toPromise(this._onStateChanged.event)}})}}static map(z,$){return new U(j=>T(this,void 0,void 0,function*(){var ne,N;try{for(var Z,V=C(z);!(Z=yield V.next()).done;)j.emitOne($(Z.value))}catch(fe){ne={error:fe}}finally{try{Z&&!Z.done&&(N=V.return)&&(yield N.call(V))}finally{if(ne)throw ne.error}}}))}map(z){return U.map(this,z)}static filter(z,$){return new U(j=>T(this,void 0,void 0,function*(){var ne,N;try{for(var Z,V=C(z);!(Z=yield V.next()).done;){const fe=Z.value;$(fe)&&j.emitOne(fe)}}catch(fe){ne={error:fe}}finally{try{Z&&!Z.done&&(N=V.return)&&(yield N.call(V))}finally{if(ne)throw ne.error}}}))}filter(z){return U.filter(this,z)}static coalesce(z){return U.filter(z,$=>!!$)}coalesce(){return U.coalesce(this)}static toPromise(z){var $,j,ne,N;return T(this,void 0,void 0,function*(){const V=[];try{for($=C(z);!(j=yield $.next()).done;)V.push(j.value)}catch(Z){ne={error:Z}}finally{try{j&&!j.done&&(N=$.return)&&(yield N.call($))}finally{if(ne)throw ne.error}}return V})}toPromise(){return U.toPromise(this)}emitOne(z){0===this._state&&(this._results.push(z),this._onStateChanged.fire())}emitMany(z){0===this._state&&(this._results=this._results.concat(z),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(z){0===this._state&&(this._state=2,this._error=z,this._onStateChanged.fire())}}U.EMPTY=U.fromArray([]);class K extends U{constructor(z,$){super($),this._source=z}cancel(){this._source.cancel()}}function F(B){const z=new d.A,$=B(z.token);return new K(z,j=>T(this,void 0,void 0,function*(){var ne,N;const V=z.token.onCancellationRequested(()=>{V.dispose(),z.dispose(),j.reject(new t.FU)});try{try{for(var fe,Z=C($);!(fe=yield Z.next()).done;){if(z.token.isCancellationRequested)return;j.emitOne(fe.value)}}catch(M){ne={error:M}}finally{try{fe&&!fe.done&&(N=Z.return)&&(yield N.call(Z))}finally{if(ne)throw ne.error}}V.dispose(),z.dispose()}catch(M){V.dispose(),z.dispose(),j.reject(M)}}))}},32068:(Et,X,e)=>{"use strict";e.d(X,{Ag:()=>T,Cg:()=>L,KN:()=>l,Q$:()=>E,T4:()=>C,mP:()=>S,oq:()=>v});const d=typeof Buffer<"u";let t;class l{constructor(s){this.buffer=s,this.byteLength=this.buffer.byteLength}static wrap(s){return d&&!Buffer.isBuffer(s)&&(s=Buffer.from(s.buffer,s.byteOffset,s.byteLength)),new l(s)}toString(){return d?this.buffer.toString():(t||(t=new TextDecoder),t.decode(this.buffer))}}function S(_,s){return _[s+0]<<0>>>0|_[s+1]<<8>>>0}function v(_,s,m){_[m+0]=255&s,_[m+1]=255&(s>>>=8)}function T(_,s){return _[s]*Math.pow(2,24)+_[s+1]*Math.pow(2,16)+_[s+2]*Math.pow(2,8)+_[s+3]}function C(_,s,m){_[m+3]=s,_[m+2]=s>>>=8,_[m+1]=s>>>=8,_[m]=s>>>=8}function E(_,s){return _[s]}function L(_,s,m){_[m]=s}},71664:(Et,X,e)=>{"use strict";e.d(X,{b:()=>t,t:()=>d});class d{constructor(S){this.fn=S,this.lastCache=void 0,this.lastArgKey=void 0}get(S){const v=JSON.stringify(S);return this.lastArgKey!==v&&(this.lastArgKey=v,this.lastCache=this.fn(S)),this.lastCache}}class t{constructor(S){this.fn=S,this._map=new Map}get cachedValues(){return this._map}get(S){if(this._map.has(S))return this._map.get(S);const v=this.fn(S);return this._map.set(S,v),v}}},73888:(Et,X,e)=>{"use strict";e.d(X,{A:()=>v,T:()=>l});var d=e(3778);const t=Object.freeze(function(T,C){const E=setTimeout(T.bind(C),0);return{dispose(){clearTimeout(E)}}});var l,T;(T=l||(l={})).isCancellationToken=function C(E){return E===T.None||E===T.Cancelled||E instanceof S||!(!E||"object"!=typeof E)&&"boolean"==typeof E.isCancellationRequested&&"function"==typeof E.onCancellationRequested},T.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:d.ju.None}),T.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:t});class S{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?t:(this._emitter||(this._emitter=new d.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class v{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new S),this._token}cancel(){this._token?this._token instanceof S&&this._token.cancel():this._token=l.Cancelled}dispose(C=!1){C&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof S&&this._token.dispose():this._token=l.None}}},58783:(Et,X,e)=>{"use strict";function d(S){return S?S.replace(/\$\((.*?)\)/g,(v,T)=>` ${T} `).trim():""}e.d(X,{JL:()=>d,dT:()=>l,lA:()=>t});class t{constructor(v,T,C){this.id=v,this.definition=T,this.description=C,t._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return t._allCodicons}}var l;t._allCodicons=[],t.add=new t("add",{fontCharacter:"\\ea60"}),t.plus=new t("plus",t.add.definition),t.gistNew=new t("gist-new",t.add.definition),t.repoCreate=new t("repo-create",t.add.definition),t.lightbulb=new t("lightbulb",{fontCharacter:"\\ea61"}),t.lightBulb=new t("light-bulb",{fontCharacter:"\\ea61"}),t.repo=new t("repo",{fontCharacter:"\\ea62"}),t.repoDelete=new t("repo-delete",{fontCharacter:"\\ea62"}),t.gistFork=new t("gist-fork",{fontCharacter:"\\ea63"}),t.repoForked=new t("repo-forked",{fontCharacter:"\\ea63"}),t.gitPullRequest=new t("git-pull-request",{fontCharacter:"\\ea64"}),t.gitPullRequestAbandoned=new t("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),t.recordKeys=new t("record-keys",{fontCharacter:"\\ea65"}),t.keyboard=new t("keyboard",{fontCharacter:"\\ea65"}),t.tag=new t("tag",{fontCharacter:"\\ea66"}),t.tagAdd=new t("tag-add",{fontCharacter:"\\ea66"}),t.tagRemove=new t("tag-remove",{fontCharacter:"\\ea66"}),t.person=new t("person",{fontCharacter:"\\ea67"}),t.personFollow=new t("person-follow",{fontCharacter:"\\ea67"}),t.personOutline=new t("person-outline",{fontCharacter:"\\ea67"}),t.personFilled=new t("person-filled",{fontCharacter:"\\ea67"}),t.gitBranch=new t("git-branch",{fontCharacter:"\\ea68"}),t.gitBranchCreate=new t("git-branch-create",{fontCharacter:"\\ea68"}),t.gitBranchDelete=new t("git-branch-delete",{fontCharacter:"\\ea68"}),t.sourceControl=new t("source-control",{fontCharacter:"\\ea68"}),t.mirror=new t("mirror",{fontCharacter:"\\ea69"}),t.mirrorPublic=new t("mirror-public",{fontCharacter:"\\ea69"}),t.star=new t("star",{fontCharacter:"\\ea6a"}),t.starAdd=new t("star-add",{fontCharacter:"\\ea6a"}),t.starDelete=new t("star-delete",{fontCharacter:"\\ea6a"}),t.starEmpty=new t("star-empty",{fontCharacter:"\\ea6a"}),t.comment=new t("comment",{fontCharacter:"\\ea6b"}),t.commentAdd=new t("comment-add",{fontCharacter:"\\ea6b"}),t.alert=new t("alert",{fontCharacter:"\\ea6c"}),t.warning=new t("warning",{fontCharacter:"\\ea6c"}),t.search=new t("search",{fontCharacter:"\\ea6d"}),t.searchSave=new t("search-save",{fontCharacter:"\\ea6d"}),t.logOut=new t("log-out",{fontCharacter:"\\ea6e"}),t.signOut=new t("sign-out",{fontCharacter:"\\ea6e"}),t.logIn=new t("log-in",{fontCharacter:"\\ea6f"}),t.signIn=new t("sign-in",{fontCharacter:"\\ea6f"}),t.eye=new t("eye",{fontCharacter:"\\ea70"}),t.eyeUnwatch=new t("eye-unwatch",{fontCharacter:"\\ea70"}),t.eyeWatch=new t("eye-watch",{fontCharacter:"\\ea70"}),t.circleFilled=new t("circle-filled",{fontCharacter:"\\ea71"}),t.primitiveDot=new t("primitive-dot",{fontCharacter:"\\ea71"}),t.closeDirty=new t("close-dirty",{fontCharacter:"\\ea71"}),t.debugBreakpoint=new t("debug-breakpoint",{fontCharacter:"\\ea71"}),t.debugBreakpointDisabled=new t("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),t.debugHint=new t("debug-hint",{fontCharacter:"\\ea71"}),t.primitiveSquare=new t("primitive-square",{fontCharacter:"\\ea72"}),t.edit=new t("edit",{fontCharacter:"\\ea73"}),t.pencil=new t("pencil",{fontCharacter:"\\ea73"}),t.info=new t("info",{fontCharacter:"\\ea74"}),t.issueOpened=new t("issue-opened",{fontCharacter:"\\ea74"}),t.gistPrivate=new t("gist-private",{fontCharacter:"\\ea75"}),t.gitForkPrivate=new t("git-fork-private",{fontCharacter:"\\ea75"}),t.lock=new t("lock",{fontCharacter:"\\ea75"}),t.mirrorPrivate=new t("mirror-private",{fontCharacter:"\\ea75"}),t.close=new t("close",{fontCharacter:"\\ea76"}),t.removeClose=new t("remove-close",{fontCharacter:"\\ea76"}),t.x=new t("x",{fontCharacter:"\\ea76"}),t.repoSync=new t("repo-sync",{fontCharacter:"\\ea77"}),t.sync=new t("sync",{fontCharacter:"\\ea77"}),t.clone=new t("clone",{fontCharacter:"\\ea78"}),t.desktopDownload=new t("desktop-download",{fontCharacter:"\\ea78"}),t.beaker=new t("beaker",{fontCharacter:"\\ea79"}),t.microscope=new t("microscope",{fontCharacter:"\\ea79"}),t.vm=new t("vm",{fontCharacter:"\\ea7a"}),t.deviceDesktop=new t("device-desktop",{fontCharacter:"\\ea7a"}),t.file=new t("file",{fontCharacter:"\\ea7b"}),t.fileText=new t("file-text",{fontCharacter:"\\ea7b"}),t.more=new t("more",{fontCharacter:"\\ea7c"}),t.ellipsis=new t("ellipsis",{fontCharacter:"\\ea7c"}),t.kebabHorizontal=new t("kebab-horizontal",{fontCharacter:"\\ea7c"}),t.mailReply=new t("mail-reply",{fontCharacter:"\\ea7d"}),t.reply=new t("reply",{fontCharacter:"\\ea7d"}),t.organization=new t("organization",{fontCharacter:"\\ea7e"}),t.organizationFilled=new t("organization-filled",{fontCharacter:"\\ea7e"}),t.organizationOutline=new t("organization-outline",{fontCharacter:"\\ea7e"}),t.newFile=new t("new-file",{fontCharacter:"\\ea7f"}),t.fileAdd=new t("file-add",{fontCharacter:"\\ea7f"}),t.newFolder=new t("new-folder",{fontCharacter:"\\ea80"}),t.fileDirectoryCreate=new t("file-directory-create",{fontCharacter:"\\ea80"}),t.trash=new t("trash",{fontCharacter:"\\ea81"}),t.trashcan=new t("trashcan",{fontCharacter:"\\ea81"}),t.history=new t("history",{fontCharacter:"\\ea82"}),t.clock=new t("clock",{fontCharacter:"\\ea82"}),t.folder=new t("folder",{fontCharacter:"\\ea83"}),t.fileDirectory=new t("file-directory",{fontCharacter:"\\ea83"}),t.symbolFolder=new t("symbol-folder",{fontCharacter:"\\ea83"}),t.logoGithub=new t("logo-github",{fontCharacter:"\\ea84"}),t.markGithub=new t("mark-github",{fontCharacter:"\\ea84"}),t.github=new t("github",{fontCharacter:"\\ea84"}),t.terminal=new t("terminal",{fontCharacter:"\\ea85"}),t.console=new t("console",{fontCharacter:"\\ea85"}),t.repl=new t("repl",{fontCharacter:"\\ea85"}),t.zap=new t("zap",{fontCharacter:"\\ea86"}),t.symbolEvent=new t("symbol-event",{fontCharacter:"\\ea86"}),t.error=new t("error",{fontCharacter:"\\ea87"}),t.stop=new t("stop",{fontCharacter:"\\ea87"}),t.variable=new t("variable",{fontCharacter:"\\ea88"}),t.symbolVariable=new t("symbol-variable",{fontCharacter:"\\ea88"}),t.array=new t("array",{fontCharacter:"\\ea8a"}),t.symbolArray=new t("symbol-array",{fontCharacter:"\\ea8a"}),t.symbolModule=new t("symbol-module",{fontCharacter:"\\ea8b"}),t.symbolPackage=new t("symbol-package",{fontCharacter:"\\ea8b"}),t.symbolNamespace=new t("symbol-namespace",{fontCharacter:"\\ea8b"}),t.symbolObject=new t("symbol-object",{fontCharacter:"\\ea8b"}),t.symbolMethod=new t("symbol-method",{fontCharacter:"\\ea8c"}),t.symbolFunction=new t("symbol-function",{fontCharacter:"\\ea8c"}),t.symbolConstructor=new t("symbol-constructor",{fontCharacter:"\\ea8c"}),t.symbolBoolean=new t("symbol-boolean",{fontCharacter:"\\ea8f"}),t.symbolNull=new t("symbol-null",{fontCharacter:"\\ea8f"}),t.symbolNumeric=new t("symbol-numeric",{fontCharacter:"\\ea90"}),t.symbolNumber=new t("symbol-number",{fontCharacter:"\\ea90"}),t.symbolStructure=new t("symbol-structure",{fontCharacter:"\\ea91"}),t.symbolStruct=new t("symbol-struct",{fontCharacter:"\\ea91"}),t.symbolParameter=new t("symbol-parameter",{fontCharacter:"\\ea92"}),t.symbolTypeParameter=new t("symbol-type-parameter",{fontCharacter:"\\ea92"}),t.symbolKey=new t("symbol-key",{fontCharacter:"\\ea93"}),t.symbolText=new t("symbol-text",{fontCharacter:"\\ea93"}),t.symbolReference=new t("symbol-reference",{fontCharacter:"\\ea94"}),t.goToFile=new t("go-to-file",{fontCharacter:"\\ea94"}),t.symbolEnum=new t("symbol-enum",{fontCharacter:"\\ea95"}),t.symbolValue=new t("symbol-value",{fontCharacter:"\\ea95"}),t.symbolRuler=new t("symbol-ruler",{fontCharacter:"\\ea96"}),t.symbolUnit=new t("symbol-unit",{fontCharacter:"\\ea96"}),t.activateBreakpoints=new t("activate-breakpoints",{fontCharacter:"\\ea97"}),t.archive=new t("archive",{fontCharacter:"\\ea98"}),t.arrowBoth=new t("arrow-both",{fontCharacter:"\\ea99"}),t.arrowDown=new t("arrow-down",{fontCharacter:"\\ea9a"}),t.arrowLeft=new t("arrow-left",{fontCharacter:"\\ea9b"}),t.arrowRight=new t("arrow-right",{fontCharacter:"\\ea9c"}),t.arrowSmallDown=new t("arrow-small-down",{fontCharacter:"\\ea9d"}),t.arrowSmallLeft=new t("arrow-small-left",{fontCharacter:"\\ea9e"}),t.arrowSmallRight=new t("arrow-small-right",{fontCharacter:"\\ea9f"}),t.arrowSmallUp=new t("arrow-small-up",{fontCharacter:"\\eaa0"}),t.arrowUp=new t("arrow-up",{fontCharacter:"\\eaa1"}),t.bell=new t("bell",{fontCharacter:"\\eaa2"}),t.bold=new t("bold",{fontCharacter:"\\eaa3"}),t.book=new t("book",{fontCharacter:"\\eaa4"}),t.bookmark=new t("bookmark",{fontCharacter:"\\eaa5"}),t.debugBreakpointConditionalUnverified=new t("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),t.debugBreakpointConditional=new t("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),t.debugBreakpointConditionalDisabled=new t("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),t.debugBreakpointDataUnverified=new t("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),t.debugBreakpointData=new t("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),t.debugBreakpointDataDisabled=new t("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),t.debugBreakpointLogUnverified=new t("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),t.debugBreakpointLog=new t("debug-breakpoint-log",{fontCharacter:"\\eaab"}),t.debugBreakpointLogDisabled=new t("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),t.briefcase=new t("briefcase",{fontCharacter:"\\eaac"}),t.broadcast=new t("broadcast",{fontCharacter:"\\eaad"}),t.browser=new t("browser",{fontCharacter:"\\eaae"}),t.bug=new t("bug",{fontCharacter:"\\eaaf"}),t.calendar=new t("calendar",{fontCharacter:"\\eab0"}),t.caseSensitive=new t("case-sensitive",{fontCharacter:"\\eab1"}),t.check=new t("check",{fontCharacter:"\\eab2"}),t.checklist=new t("checklist",{fontCharacter:"\\eab3"}),t.chevronDown=new t("chevron-down",{fontCharacter:"\\eab4"}),t.dropDownButton=new t("drop-down-button",t.chevronDown.definition),t.chevronLeft=new t("chevron-left",{fontCharacter:"\\eab5"}),t.chevronRight=new t("chevron-right",{fontCharacter:"\\eab6"}),t.chevronUp=new t("chevron-up",{fontCharacter:"\\eab7"}),t.chromeClose=new t("chrome-close",{fontCharacter:"\\eab8"}),t.chromeMaximize=new t("chrome-maximize",{fontCharacter:"\\eab9"}),t.chromeMinimize=new t("chrome-minimize",{fontCharacter:"\\eaba"}),t.chromeRestore=new t("chrome-restore",{fontCharacter:"\\eabb"}),t.circleOutline=new t("circle-outline",{fontCharacter:"\\eabc"}),t.debugBreakpointUnverified=new t("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),t.circleSlash=new t("circle-slash",{fontCharacter:"\\eabd"}),t.circuitBoard=new t("circuit-board",{fontCharacter:"\\eabe"}),t.clearAll=new t("clear-all",{fontCharacter:"\\eabf"}),t.clippy=new t("clippy",{fontCharacter:"\\eac0"}),t.closeAll=new t("close-all",{fontCharacter:"\\eac1"}),t.cloudDownload=new t("cloud-download",{fontCharacter:"\\eac2"}),t.cloudUpload=new t("cloud-upload",{fontCharacter:"\\eac3"}),t.code=new t("code",{fontCharacter:"\\eac4"}),t.collapseAll=new t("collapse-all",{fontCharacter:"\\eac5"}),t.colorMode=new t("color-mode",{fontCharacter:"\\eac6"}),t.commentDiscussion=new t("comment-discussion",{fontCharacter:"\\eac7"}),t.compareChanges=new t("compare-changes",{fontCharacter:"\\eafd"}),t.creditCard=new t("credit-card",{fontCharacter:"\\eac9"}),t.dash=new t("dash",{fontCharacter:"\\eacc"}),t.dashboard=new t("dashboard",{fontCharacter:"\\eacd"}),t.database=new t("database",{fontCharacter:"\\eace"}),t.debugContinue=new t("debug-continue",{fontCharacter:"\\eacf"}),t.debugDisconnect=new t("debug-disconnect",{fontCharacter:"\\ead0"}),t.debugPause=new t("debug-pause",{fontCharacter:"\\ead1"}),t.debugRestart=new t("debug-restart",{fontCharacter:"\\ead2"}),t.debugStart=new t("debug-start",{fontCharacter:"\\ead3"}),t.debugStepInto=new t("debug-step-into",{fontCharacter:"\\ead4"}),t.debugStepOut=new t("debug-step-out",{fontCharacter:"\\ead5"}),t.debugStepOver=new t("debug-step-over",{fontCharacter:"\\ead6"}),t.debugStop=new t("debug-stop",{fontCharacter:"\\ead7"}),t.debug=new t("debug",{fontCharacter:"\\ead8"}),t.deviceCameraVideo=new t("device-camera-video",{fontCharacter:"\\ead9"}),t.deviceCamera=new t("device-camera",{fontCharacter:"\\eada"}),t.deviceMobile=new t("device-mobile",{fontCharacter:"\\eadb"}),t.diffAdded=new t("diff-added",{fontCharacter:"\\eadc"}),t.diffIgnored=new t("diff-ignored",{fontCharacter:"\\eadd"}),t.diffModified=new t("diff-modified",{fontCharacter:"\\eade"}),t.diffRemoved=new t("diff-removed",{fontCharacter:"\\eadf"}),t.diffRenamed=new t("diff-renamed",{fontCharacter:"\\eae0"}),t.diff=new t("diff",{fontCharacter:"\\eae1"}),t.discard=new t("discard",{fontCharacter:"\\eae2"}),t.editorLayout=new t("editor-layout",{fontCharacter:"\\eae3"}),t.emptyWindow=new t("empty-window",{fontCharacter:"\\eae4"}),t.exclude=new t("exclude",{fontCharacter:"\\eae5"}),t.extensions=new t("extensions",{fontCharacter:"\\eae6"}),t.eyeClosed=new t("eye-closed",{fontCharacter:"\\eae7"}),t.fileBinary=new t("file-binary",{fontCharacter:"\\eae8"}),t.fileCode=new t("file-code",{fontCharacter:"\\eae9"}),t.fileMedia=new t("file-media",{fontCharacter:"\\eaea"}),t.filePdf=new t("file-pdf",{fontCharacter:"\\eaeb"}),t.fileSubmodule=new t("file-submodule",{fontCharacter:"\\eaec"}),t.fileSymlinkDirectory=new t("file-symlink-directory",{fontCharacter:"\\eaed"}),t.fileSymlinkFile=new t("file-symlink-file",{fontCharacter:"\\eaee"}),t.fileZip=new t("file-zip",{fontCharacter:"\\eaef"}),t.files=new t("files",{fontCharacter:"\\eaf0"}),t.filter=new t("filter",{fontCharacter:"\\eaf1"}),t.flame=new t("flame",{fontCharacter:"\\eaf2"}),t.foldDown=new t("fold-down",{fontCharacter:"\\eaf3"}),t.foldUp=new t("fold-up",{fontCharacter:"\\eaf4"}),t.fold=new t("fold",{fontCharacter:"\\eaf5"}),t.folderActive=new t("folder-active",{fontCharacter:"\\eaf6"}),t.folderOpened=new t("folder-opened",{fontCharacter:"\\eaf7"}),t.gear=new t("gear",{fontCharacter:"\\eaf8"}),t.gift=new t("gift",{fontCharacter:"\\eaf9"}),t.gistSecret=new t("gist-secret",{fontCharacter:"\\eafa"}),t.gist=new t("gist",{fontCharacter:"\\eafb"}),t.gitCommit=new t("git-commit",{fontCharacter:"\\eafc"}),t.gitCompare=new t("git-compare",{fontCharacter:"\\eafd"}),t.gitMerge=new t("git-merge",{fontCharacter:"\\eafe"}),t.githubAction=new t("github-action",{fontCharacter:"\\eaff"}),t.githubAlt=new t("github-alt",{fontCharacter:"\\eb00"}),t.globe=new t("globe",{fontCharacter:"\\eb01"}),t.grabber=new t("grabber",{fontCharacter:"\\eb02"}),t.graph=new t("graph",{fontCharacter:"\\eb03"}),t.gripper=new t("gripper",{fontCharacter:"\\eb04"}),t.heart=new t("heart",{fontCharacter:"\\eb05"}),t.home=new t("home",{fontCharacter:"\\eb06"}),t.horizontalRule=new t("horizontal-rule",{fontCharacter:"\\eb07"}),t.hubot=new t("hubot",{fontCharacter:"\\eb08"}),t.inbox=new t("inbox",{fontCharacter:"\\eb09"}),t.issueClosed=new t("issue-closed",{fontCharacter:"\\eba4"}),t.issueReopened=new t("issue-reopened",{fontCharacter:"\\eb0b"}),t.issues=new t("issues",{fontCharacter:"\\eb0c"}),t.italic=new t("italic",{fontCharacter:"\\eb0d"}),t.jersey=new t("jersey",{fontCharacter:"\\eb0e"}),t.json=new t("json",{fontCharacter:"\\eb0f"}),t.kebabVertical=new t("kebab-vertical",{fontCharacter:"\\eb10"}),t.key=new t("key",{fontCharacter:"\\eb11"}),t.law=new t("law",{fontCharacter:"\\eb12"}),t.lightbulbAutofix=new t("lightbulb-autofix",{fontCharacter:"\\eb13"}),t.linkExternal=new t("link-external",{fontCharacter:"\\eb14"}),t.link=new t("link",{fontCharacter:"\\eb15"}),t.listOrdered=new t("list-ordered",{fontCharacter:"\\eb16"}),t.listUnordered=new t("list-unordered",{fontCharacter:"\\eb17"}),t.liveShare=new t("live-share",{fontCharacter:"\\eb18"}),t.loading=new t("loading",{fontCharacter:"\\eb19"}),t.location=new t("location",{fontCharacter:"\\eb1a"}),t.mailRead=new t("mail-read",{fontCharacter:"\\eb1b"}),t.mail=new t("mail",{fontCharacter:"\\eb1c"}),t.markdown=new t("markdown",{fontCharacter:"\\eb1d"}),t.megaphone=new t("megaphone",{fontCharacter:"\\eb1e"}),t.mention=new t("mention",{fontCharacter:"\\eb1f"}),t.milestone=new t("milestone",{fontCharacter:"\\eb20"}),t.mortarBoard=new t("mortar-board",{fontCharacter:"\\eb21"}),t.move=new t("move",{fontCharacter:"\\eb22"}),t.multipleWindows=new t("multiple-windows",{fontCharacter:"\\eb23"}),t.mute=new t("mute",{fontCharacter:"\\eb24"}),t.noNewline=new t("no-newline",{fontCharacter:"\\eb25"}),t.note=new t("note",{fontCharacter:"\\eb26"}),t.octoface=new t("octoface",{fontCharacter:"\\eb27"}),t.openPreview=new t("open-preview",{fontCharacter:"\\eb28"}),t.package_=new t("package",{fontCharacter:"\\eb29"}),t.paintcan=new t("paintcan",{fontCharacter:"\\eb2a"}),t.pin=new t("pin",{fontCharacter:"\\eb2b"}),t.play=new t("play",{fontCharacter:"\\eb2c"}),t.run=new t("run",{fontCharacter:"\\eb2c"}),t.plug=new t("plug",{fontCharacter:"\\eb2d"}),t.preserveCase=new t("preserve-case",{fontCharacter:"\\eb2e"}),t.preview=new t("preview",{fontCharacter:"\\eb2f"}),t.project=new t("project",{fontCharacter:"\\eb30"}),t.pulse=new t("pulse",{fontCharacter:"\\eb31"}),t.question=new t("question",{fontCharacter:"\\eb32"}),t.quote=new t("quote",{fontCharacter:"\\eb33"}),t.radioTower=new t("radio-tower",{fontCharacter:"\\eb34"}),t.reactions=new t("reactions",{fontCharacter:"\\eb35"}),t.references=new t("references",{fontCharacter:"\\eb36"}),t.refresh=new t("refresh",{fontCharacter:"\\eb37"}),t.regex=new t("regex",{fontCharacter:"\\eb38"}),t.remoteExplorer=new t("remote-explorer",{fontCharacter:"\\eb39"}),t.remote=new t("remote",{fontCharacter:"\\eb3a"}),t.remove=new t("remove",{fontCharacter:"\\eb3b"}),t.replaceAll=new t("replace-all",{fontCharacter:"\\eb3c"}),t.replace=new t("replace",{fontCharacter:"\\eb3d"}),t.repoClone=new t("repo-clone",{fontCharacter:"\\eb3e"}),t.repoForcePush=new t("repo-force-push",{fontCharacter:"\\eb3f"}),t.repoPull=new t("repo-pull",{fontCharacter:"\\eb40"}),t.repoPush=new t("repo-push",{fontCharacter:"\\eb41"}),t.report=new t("report",{fontCharacter:"\\eb42"}),t.requestChanges=new t("request-changes",{fontCharacter:"\\eb43"}),t.rocket=new t("rocket",{fontCharacter:"\\eb44"}),t.rootFolderOpened=new t("root-folder-opened",{fontCharacter:"\\eb45"}),t.rootFolder=new t("root-folder",{fontCharacter:"\\eb46"}),t.rss=new t("rss",{fontCharacter:"\\eb47"}),t.ruby=new t("ruby",{fontCharacter:"\\eb48"}),t.saveAll=new t("save-all",{fontCharacter:"\\eb49"}),t.saveAs=new t("save-as",{fontCharacter:"\\eb4a"}),t.save=new t("save",{fontCharacter:"\\eb4b"}),t.screenFull=new t("screen-full",{fontCharacter:"\\eb4c"}),t.screenNormal=new t("screen-normal",{fontCharacter:"\\eb4d"}),t.searchStop=new t("search-stop",{fontCharacter:"\\eb4e"}),t.server=new t("server",{fontCharacter:"\\eb50"}),t.settingsGear=new t("settings-gear",{fontCharacter:"\\eb51"}),t.settings=new t("settings",{fontCharacter:"\\eb52"}),t.shield=new t("shield",{fontCharacter:"\\eb53"}),t.smiley=new t("smiley",{fontCharacter:"\\eb54"}),t.sortPrecedence=new t("sort-precedence",{fontCharacter:"\\eb55"}),t.splitHorizontal=new t("split-horizontal",{fontCharacter:"\\eb56"}),t.splitVertical=new t("split-vertical",{fontCharacter:"\\eb57"}),t.squirrel=new t("squirrel",{fontCharacter:"\\eb58"}),t.starFull=new t("star-full",{fontCharacter:"\\eb59"}),t.starHalf=new t("star-half",{fontCharacter:"\\eb5a"}),t.symbolClass=new t("symbol-class",{fontCharacter:"\\eb5b"}),t.symbolColor=new t("symbol-color",{fontCharacter:"\\eb5c"}),t.symbolCustomColor=new t("symbol-customcolor",{fontCharacter:"\\eb5c"}),t.symbolConstant=new t("symbol-constant",{fontCharacter:"\\eb5d"}),t.symbolEnumMember=new t("symbol-enum-member",{fontCharacter:"\\eb5e"}),t.symbolField=new t("symbol-field",{fontCharacter:"\\eb5f"}),t.symbolFile=new t("symbol-file",{fontCharacter:"\\eb60"}),t.symbolInterface=new t("symbol-interface",{fontCharacter:"\\eb61"}),t.symbolKeyword=new t("symbol-keyword",{fontCharacter:"\\eb62"}),t.symbolMisc=new t("symbol-misc",{fontCharacter:"\\eb63"}),t.symbolOperator=new t("symbol-operator",{fontCharacter:"\\eb64"}),t.symbolProperty=new t("symbol-property",{fontCharacter:"\\eb65"}),t.wrench=new t("wrench",{fontCharacter:"\\eb65"}),t.wrenchSubaction=new t("wrench-subaction",{fontCharacter:"\\eb65"}),t.symbolSnippet=new t("symbol-snippet",{fontCharacter:"\\eb66"}),t.tasklist=new t("tasklist",{fontCharacter:"\\eb67"}),t.telescope=new t("telescope",{fontCharacter:"\\eb68"}),t.textSize=new t("text-size",{fontCharacter:"\\eb69"}),t.threeBars=new t("three-bars",{fontCharacter:"\\eb6a"}),t.thumbsdown=new t("thumbsdown",{fontCharacter:"\\eb6b"}),t.thumbsup=new t("thumbsup",{fontCharacter:"\\eb6c"}),t.tools=new t("tools",{fontCharacter:"\\eb6d"}),t.triangleDown=new t("triangle-down",{fontCharacter:"\\eb6e"}),t.triangleLeft=new t("triangle-left",{fontCharacter:"\\eb6f"}),t.triangleRight=new t("triangle-right",{fontCharacter:"\\eb70"}),t.triangleUp=new t("triangle-up",{fontCharacter:"\\eb71"}),t.twitter=new t("twitter",{fontCharacter:"\\eb72"}),t.unfold=new t("unfold",{fontCharacter:"\\eb73"}),t.unlock=new t("unlock",{fontCharacter:"\\eb74"}),t.unmute=new t("unmute",{fontCharacter:"\\eb75"}),t.unverified=new t("unverified",{fontCharacter:"\\eb76"}),t.verified=new t("verified",{fontCharacter:"\\eb77"}),t.versions=new t("versions",{fontCharacter:"\\eb78"}),t.vmActive=new t("vm-active",{fontCharacter:"\\eb79"}),t.vmOutline=new t("vm-outline",{fontCharacter:"\\eb7a"}),t.vmRunning=new t("vm-running",{fontCharacter:"\\eb7b"}),t.watch=new t("watch",{fontCharacter:"\\eb7c"}),t.whitespace=new t("whitespace",{fontCharacter:"\\eb7d"}),t.wholeWord=new t("whole-word",{fontCharacter:"\\eb7e"}),t.window=new t("window",{fontCharacter:"\\eb7f"}),t.wordWrap=new t("word-wrap",{fontCharacter:"\\eb80"}),t.zoomIn=new t("zoom-in",{fontCharacter:"\\eb81"}),t.zoomOut=new t("zoom-out",{fontCharacter:"\\eb82"}),t.listFilter=new t("list-filter",{fontCharacter:"\\eb83"}),t.listFlat=new t("list-flat",{fontCharacter:"\\eb84"}),t.listSelection=new t("list-selection",{fontCharacter:"\\eb85"}),t.selection=new t("selection",{fontCharacter:"\\eb85"}),t.listTree=new t("list-tree",{fontCharacter:"\\eb86"}),t.debugBreakpointFunctionUnverified=new t("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),t.debugBreakpointFunction=new t("debug-breakpoint-function",{fontCharacter:"\\eb88"}),t.debugBreakpointFunctionDisabled=new t("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),t.debugStackframeActive=new t("debug-stackframe-active",{fontCharacter:"\\eb89"}),t.circleSmallFilled=new t("circle-small-filled",{fontCharacter:"\\eb8a"}),t.debugStackframeDot=new t("debug-stackframe-dot",t.circleSmallFilled.definition),t.debugStackframe=new t("debug-stackframe",{fontCharacter:"\\eb8b"}),t.debugStackframeFocused=new t("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),t.debugBreakpointUnsupported=new t("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),t.symbolString=new t("symbol-string",{fontCharacter:"\\eb8d"}),t.debugReverseContinue=new t("debug-reverse-continue",{fontCharacter:"\\eb8e"}),t.debugStepBack=new t("debug-step-back",{fontCharacter:"\\eb8f"}),t.debugRestartFrame=new t("debug-restart-frame",{fontCharacter:"\\eb90"}),t.callIncoming=new t("call-incoming",{fontCharacter:"\\eb92"}),t.callOutgoing=new t("call-outgoing",{fontCharacter:"\\eb93"}),t.menu=new t("menu",{fontCharacter:"\\eb94"}),t.expandAll=new t("expand-all",{fontCharacter:"\\eb95"}),t.feedback=new t("feedback",{fontCharacter:"\\eb96"}),t.groupByRefType=new t("group-by-ref-type",{fontCharacter:"\\eb97"}),t.ungroupByRefType=new t("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),t.account=new t("account",{fontCharacter:"\\eb99"}),t.bellDot=new t("bell-dot",{fontCharacter:"\\eb9a"}),t.debugConsole=new t("debug-console",{fontCharacter:"\\eb9b"}),t.library=new t("library",{fontCharacter:"\\eb9c"}),t.output=new t("output",{fontCharacter:"\\eb9d"}),t.runAll=new t("run-all",{fontCharacter:"\\eb9e"}),t.syncIgnored=new t("sync-ignored",{fontCharacter:"\\eb9f"}),t.pinned=new t("pinned",{fontCharacter:"\\eba0"}),t.githubInverted=new t("github-inverted",{fontCharacter:"\\eba1"}),t.debugAlt=new t("debug-alt",{fontCharacter:"\\eb91"}),t.serverProcess=new t("server-process",{fontCharacter:"\\eba2"}),t.serverEnvironment=new t("server-environment",{fontCharacter:"\\eba3"}),t.pass=new t("pass",{fontCharacter:"\\eba4"}),t.stopCircle=new t("stop-circle",{fontCharacter:"\\eba5"}),t.playCircle=new t("play-circle",{fontCharacter:"\\eba6"}),t.record=new t("record",{fontCharacter:"\\eba7"}),t.debugAltSmall=new t("debug-alt-small",{fontCharacter:"\\eba8"}),t.vmConnect=new t("vm-connect",{fontCharacter:"\\eba9"}),t.cloud=new t("cloud",{fontCharacter:"\\ebaa"}),t.merge=new t("merge",{fontCharacter:"\\ebab"}),t.exportIcon=new t("export",{fontCharacter:"\\ebac"}),t.graphLeft=new t("graph-left",{fontCharacter:"\\ebad"}),t.magnet=new t("magnet",{fontCharacter:"\\ebae"}),t.notebook=new t("notebook",{fontCharacter:"\\ebaf"}),t.redo=new t("redo",{fontCharacter:"\\ebb0"}),t.checkAll=new t("check-all",{fontCharacter:"\\ebb1"}),t.pinnedDirty=new t("pinned-dirty",{fontCharacter:"\\ebb2"}),t.passFilled=new t("pass-filled",{fontCharacter:"\\ebb3"}),t.circleLargeFilled=new t("circle-large-filled",{fontCharacter:"\\ebb4"}),t.circleLargeOutline=new t("circle-large-outline",{fontCharacter:"\\ebb5"}),t.combine=new t("combine",{fontCharacter:"\\ebb6"}),t.gather=new t("gather",{fontCharacter:"\\ebb6"}),t.table=new t("table",{fontCharacter:"\\ebb7"}),t.variableGroup=new t("variable-group",{fontCharacter:"\\ebb8"}),t.typeHierarchy=new t("type-hierarchy",{fontCharacter:"\\ebb9"}),t.typeHierarchySub=new t("type-hierarchy-sub",{fontCharacter:"\\ebba"}),t.typeHierarchySuper=new t("type-hierarchy-super",{fontCharacter:"\\ebbb"}),t.gitPullRequestCreate=new t("git-pull-request-create",{fontCharacter:"\\ebbc"}),t.runAbove=new t("run-above",{fontCharacter:"\\ebbd"}),t.runBelow=new t("run-below",{fontCharacter:"\\ebbe"}),t.notebookTemplate=new t("notebook-template",{fontCharacter:"\\ebbf"}),t.debugRerun=new t("debug-rerun",{fontCharacter:"\\ebc0"}),t.workspaceTrusted=new t("workspace-trusted",{fontCharacter:"\\ebc1"}),t.workspaceUntrusted=new t("workspace-untrusted",{fontCharacter:"\\ebc2"}),t.workspaceUnspecified=new t("workspace-unspecified",{fontCharacter:"\\ebc3"}),t.terminalCmd=new t("terminal-cmd",{fontCharacter:"\\ebc4"}),t.terminalDebian=new t("terminal-debian",{fontCharacter:"\\ebc5"}),t.terminalLinux=new t("terminal-linux",{fontCharacter:"\\ebc6"}),t.terminalPowershell=new t("terminal-powershell",{fontCharacter:"\\ebc7"}),t.terminalTmux=new t("terminal-tmux",{fontCharacter:"\\ebc8"}),t.terminalUbuntu=new t("terminal-ubuntu",{fontCharacter:"\\ebc9"}),t.terminalBash=new t("terminal-bash",{fontCharacter:"\\ebca"}),t.arrowSwap=new t("arrow-swap",{fontCharacter:"\\ebcb"}),t.copy=new t("copy",{fontCharacter:"\\ebcc"}),t.personAdd=new t("person-add",{fontCharacter:"\\ebcd"}),t.filterFilled=new t("filter-filled",{fontCharacter:"\\ebce"}),t.wand=new t("wand",{fontCharacter:"\\ebcf"}),t.debugLineByLine=new t("debug-line-by-line",{fontCharacter:"\\ebd0"}),t.inspect=new t("inspect",{fontCharacter:"\\ebd1"}),t.layers=new t("layers",{fontCharacter:"\\ebd2"}),t.layersDot=new t("layers-dot",{fontCharacter:"\\ebd3"}),t.layersActive=new t("layers-active",{fontCharacter:"\\ebd4"}),t.compass=new t("compass",{fontCharacter:"\\ebd5"}),t.compassDot=new t("compass-dot",{fontCharacter:"\\ebd6"}),t.compassActive=new t("compass-active",{fontCharacter:"\\ebd7"}),t.azure=new t("azure",{fontCharacter:"\\ebd8"}),t.issueDraft=new t("issue-draft",{fontCharacter:"\\ebd9"}),t.gitPullRequestClosed=new t("git-pull-request-closed",{fontCharacter:"\\ebda"}),t.gitPullRequestDraft=new t("git-pull-request-draft",{fontCharacter:"\\ebdb"}),t.debugAll=new t("debug-all",{fontCharacter:"\\ebdc"}),t.debugCoverage=new t("debug-coverage",{fontCharacter:"\\ebdd"}),t.runErrors=new t("run-errors",{fontCharacter:"\\ebde"}),t.folderLibrary=new t("folder-library",{fontCharacter:"\\ebdf"}),t.debugContinueSmall=new t("debug-continue-small",{fontCharacter:"\\ebe0"}),t.beakerStop=new t("beaker-stop",{fontCharacter:"\\ebe1"}),t.graphLine=new t("graph-line",{fontCharacter:"\\ebe2"}),t.graphScatter=new t("graph-scatter",{fontCharacter:"\\ebe3"}),t.pieChart=new t("pie-chart",{fontCharacter:"\\ebe4"}),t.bracket=new t("bracket",t.json.definition),t.bracketDot=new t("bracket-dot",{fontCharacter:"\\ebe5"}),t.bracketError=new t("bracket-error",{fontCharacter:"\\ebe6"}),t.lockSmall=new t("lock-small",{fontCharacter:"\\ebe7"}),t.azureDevops=new t("azure-devops",{fontCharacter:"\\ebe8"}),t.verifiedFilled=new t("verified-filled",{fontCharacter:"\\ebe9"}),t.newLine=new t("newline",{fontCharacter:"\\ebea"}),t.layout=new t("layout",{fontCharacter:"\\ebeb"}),t.layoutActivitybarLeft=new t("layout-activitybar-left",{fontCharacter:"\\ebec"}),t.layoutActivitybarRight=new t("layout-activitybar-right",{fontCharacter:"\\ebed"}),t.layoutPanelLeft=new t("layout-panel-left",{fontCharacter:"\\ebee"}),t.layoutPanelCenter=new t("layout-panel-center",{fontCharacter:"\\ebef"}),t.layoutPanelJustify=new t("layout-panel-justify",{fontCharacter:"\\ebf0"}),t.layoutPanelRight=new t("layout-panel-right",{fontCharacter:"\\ebf1"}),t.layoutPanel=new t("layout-panel",{fontCharacter:"\\ebf2"}),t.layoutSidebarLeft=new t("layout-sidebar-left",{fontCharacter:"\\ebf3"}),t.layoutSidebarRight=new t("layout-sidebar-right",{fontCharacter:"\\ebf4"}),t.layoutStatusbar=new t("layout-statusbar",{fontCharacter:"\\ebf5"}),t.layoutMenubar=new t("layout-menubar",{fontCharacter:"\\ebf6"}),t.layoutCentered=new t("layout-centered",{fontCharacter:"\\ebf7"}),t.layoutSidebarRightOff=new t("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),t.layoutPanelOff=new t("layout-panel-off",{fontCharacter:"\\ec01"}),t.layoutSidebarLeftOff=new t("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),t.target=new t("target",{fontCharacter:"\\ebf8"}),t.indent=new t("indent",{fontCharacter:"\\ebf9"}),t.recordSmall=new t("record-small",{fontCharacter:"\\ebfa"}),t.errorSmall=new t("error-small",{fontCharacter:"\\ebfb"}),t.arrowCircleDown=new t("arrow-circle-down",{fontCharacter:"\\ebfc"}),t.arrowCircleLeft=new t("arrow-circle-left",{fontCharacter:"\\ebfd"}),t.arrowCircleRight=new t("arrow-circle-right",{fontCharacter:"\\ebfe"}),t.arrowCircleUp=new t("arrow-circle-up",{fontCharacter:"\\ebff"}),t.heartFilled=new t("heart-filled",{fontCharacter:"\\ec04"}),t.map=new t("map",{fontCharacter:"\\ec05"}),t.mapFilled=new t("map-filled",{fontCharacter:"\\ec06"}),t.circleSmall=new t("circle-small",{fontCharacter:"\\ec07"}),t.bellSlash=new t("bell-slash",{fontCharacter:"\\ec08"}),t.bellSlashDot=new t("bell-slash-dot",{fontCharacter:"\\ec09"}),t.commentUnresolved=new t("comment-unresolved",{fontCharacter:"\\ec0a"}),t.gitPullRequestGoToChanges=new t("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),t.gitPullRequestNewChanges=new t("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),t.dialogError=new t("dialog-error",t.error.definition),t.dialogWarning=new t("dialog-warning",t.warning.definition),t.dialogInfo=new t("dialog-info",t.info.definition),t.dialogClose=new t("dialog-close",t.close.definition),t.treeItemExpanded=new t("tree-item-expanded",t.chevronDown.definition),t.treeFilterOnTypeOn=new t("tree-filter-on-type-on",t.listFilter.definition),t.treeFilterOnTypeOff=new t("tree-filter-on-type-off",t.listSelection.definition),t.treeFilterClear=new t("tree-filter-clear",t.close.definition),t.treeItemLoading=new t("tree-item-loading",t.loading.definition),t.menuSelection=new t("menu-selection",t.check.definition),t.menuSubmenu=new t("menu-submenu",t.chevronRight.definition),t.menuBarMore=new t("menubar-more",t.more.definition),t.scrollbarButtonLeft=new t("scrollbar-button-left",t.triangleLeft.definition),t.scrollbarButtonRight=new t("scrollbar-button-right",t.triangleRight.definition),t.scrollbarButtonUp=new t("scrollbar-button-up",t.triangleUp.definition),t.scrollbarButtonDown=new t("scrollbar-button-down",t.triangleDown.definition),t.toolBarMore=new t("toolbar-more",t.more.definition),t.quickInputBack=new t("quick-input-back",t.arrowLeft.definition),function(S){S.iconNameSegment="[A-Za-z0-9]+",S.iconNameExpression="[A-Za-z0-9-]+",S.iconModifierExpression="~[A-Za-z]+",S.iconNameCharacter="[A-Za-z0-9~-]";const v=new RegExp(`^(${S.iconNameExpression})(${S.iconModifierExpression})?$`);function T(L){if(L instanceof t)return["codicon","codicon-"+L.id];const _=v.exec(L.id);if(!_)return T(t.error);const[,s,m]=_,c=["codicon","codicon-"+s];return m&&c.push("codicon-modifier-"+m.substr(1)),c}S.asClassNameArray=T,S.asClassName=function C(L){return T(L).join(" ")},S.asCSSSelector=function E(L){return"."+T(L).join(".")}}(l||(l={}))},69355:(Et,X,e)=>{"use strict";function d(T,C){const E=Math.pow(10,C);return Math.round(T*E)/E}e.d(X,{Il:()=>v,VS:()=>t,tx:()=>S});class t{constructor(C,E,L,_=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,C)),this.g=0|Math.min(255,Math.max(0,E)),this.b=0|Math.min(255,Math.max(0,L)),this.a=d(Math.max(Math.min(1,_),0),3)}static equals(C,E){return C.r===E.r&&C.g===E.g&&C.b===E.b&&C.a===E.a}}class l{constructor(C,E,L,_){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,C),0),this.s=d(Math.max(Math.min(1,E),0),3),this.l=d(Math.max(Math.min(1,L),0),3),this.a=d(Math.max(Math.min(1,_),0),3)}static equals(C,E){return C.h===E.h&&C.s===E.s&&C.l===E.l&&C.a===E.a}static fromRGBA(C){const E=C.r/255,L=C.g/255,_=C.b/255,s=C.a,m=Math.max(E,L,_),c=Math.min(E,L,_);let n=0,a=0;const p=(c+m)/2,u=m-c;if(u>0){switch(a=Math.min(p<=.5?u/(2*p):u/(2-2*p),1),m){case E:n=(L-_)/u+(L<_?6:0);break;case L:n=(_-E)/u+2;break;case _:n=(E-L)/u+4}n*=60,n=Math.round(n)}return new l(n,a,p,s)}static _hue2rgb(C,E,L){return L<0&&(L+=1),L>1&&(L-=1),L<1/6?C+6*(E-C)*L:L<.5?E:L<2/3?C+(E-C)*(2/3-L)*6:C}static toRGBA(C){const E=C.h/360,{s:L,l:_,a:s}=C;let m,c,n;if(0===L)m=c=n=_;else{const a=_<.5?_*(1+L):_+L-_*L,p=2*_-a;m=l._hue2rgb(p,a,E+1/3),c=l._hue2rgb(p,a,E),n=l._hue2rgb(p,a,E-1/3)}return new t(Math.round(255*m),Math.round(255*c),Math.round(255*n),s)}}class S{constructor(C,E,L,_){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,C),0),this.s=d(Math.max(Math.min(1,E),0),3),this.v=d(Math.max(Math.min(1,L),0),3),this.a=d(Math.max(Math.min(1,_),0),3)}static equals(C,E){return C.h===E.h&&C.s===E.s&&C.v===E.v&&C.a===E.a}static fromRGBA(C){const E=C.r/255,L=C.g/255,_=C.b/255,s=Math.max(E,L,_),c=s-Math.min(E,L,_),n=0===s?0:c/s;let a;return a=0===c?0:s===E?((L-_)/c%6+6)%6:s===L?(_-E)/c+2:(E-L)/c+4,new S(Math.round(60*a),n,s,C.a)}static toRGBA(C){const{h:E,s:L,v:_,a:s}=C,m=_*L,c=m*(1-Math.abs(E/60%2-1)),n=_-m;let[a,p,u]=[0,0,0];return E<60?(a=m,p=c):E<120?(a=c,p=m):E<180?(p=m,u=c):E<240?(p=c,u=m):E<300?(a=c,u=m):E<=360&&(a=m,u=c),a=Math.round(255*(a+n)),p=Math.round(255*(p+n)),u=Math.round(255*(u+n)),new t(a,p,u,s)}}class v{constructor(C){if(!C)throw new Error("Color needs a value");if(C instanceof t)this.rgba=C;else if(C instanceof l)this._hsla=C,this.rgba=l.toRGBA(C);else{if(!(C instanceof S))throw new Error("Invalid color ctor argument");this._hsva=C,this.rgba=S.toRGBA(C)}}static fromHex(C){return v.Format.CSS.parseHex(C)||v.red}get hsla(){return this._hsla?this._hsla:l.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:S.fromRGBA(this.rgba)}equals(C){return!!C&&t.equals(this.rgba,C.rgba)&&l.equals(this.hsla,C.hsla)&&S.equals(this.hsva,C.hsva)}getRelativeLuminance(){return d(.2126*v._relativeLuminanceForComponent(this.rgba.r)+.7152*v._relativeLuminanceForComponent(this.rgba.g)+.0722*v._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(C){const E=C/255;return E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(C){return this.getRelativeLuminance()>C.getRelativeLuminance()}isDarkerThan(C){return this.getRelativeLuminance()<C.getRelativeLuminance()}lighten(C){return new v(new l(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*C,this.hsla.a))}darken(C){return new v(new l(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*C,this.hsla.a))}transparent(C){const{r:E,g:L,b:_,a:s}=this.rgba;return new v(new t(E,L,_,s*C))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new v(new t(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=v.Format.CSS.format(this)),this._toString}static getLighterColor(C,E,L){if(C.isLighterThan(E))return C;L=L||.5;const _=C.getRelativeLuminance(),s=E.getRelativeLuminance();return C.lighten(L=L*(s-_)/s)}static getDarkerColor(C,E,L){if(C.isDarkerThan(E))return C;L=L||.5;const _=C.getRelativeLuminance(),s=E.getRelativeLuminance();return C.darken(L=L*(_-s)/_)}}v.white=new v(new t(255,255,255,1)),v.black=new v(new t(0,0,0,1)),v.red=new v(new t(255,0,0,1)),v.blue=new v(new t(0,0,255,1)),v.green=new v(new t(0,255,0,1)),v.cyan=new v(new t(0,255,255,1)),v.lightgrey=new v(new t(211,211,211,1)),v.transparent=new v(new t(0,0,0,0)),function(T){let C;!function(E){let L;!function(_){function a(D){const w=D.toString(16);return 2!==w.length?"0"+w:w}function y(D){switch(D){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}_.formatRGB=function s(D){return 1===D.rgba.a?`rgb(${D.rgba.r}, ${D.rgba.g}, ${D.rgba.b})`:T.Format.CSS.formatRGBA(D)},_.formatRGBA=function m(D){return`rgba(${D.rgba.r}, ${D.rgba.g}, ${D.rgba.b}, ${+D.rgba.a.toFixed(2)})`},_.formatHSL=function c(D){return 1===D.hsla.a?`hsl(${D.hsla.h}, ${(100*D.hsla.s).toFixed(2)}%, ${(100*D.hsla.l).toFixed(2)}%)`:T.Format.CSS.formatHSLA(D)},_.formatHSLA=function n(D){return`hsla(${D.hsla.h}, ${(100*D.hsla.s).toFixed(2)}%, ${(100*D.hsla.l).toFixed(2)}%, ${D.hsla.a.toFixed(2)})`},_.formatHex=function p(D){return`#${a(D.rgba.r)}${a(D.rgba.g)}${a(D.rgba.b)}`},_.formatHexA=function u(D,w=!1){return w&&1===D.rgba.a?T.Format.CSS.formatHex(D):`#${a(D.rgba.r)}${a(D.rgba.g)}${a(D.rgba.b)}${a(Math.round(255*D.rgba.a))}`},_.format=function g(D){return D.isOpaque()?T.Format.CSS.formatHex(D):T.Format.CSS.formatRGBA(D)},_.parseHex=function b(D){const w=D.length;if(0===w||35!==D.charCodeAt(0))return null;if(7===w){const I=16*y(D.charCodeAt(1))+y(D.charCodeAt(2)),P=16*y(D.charCodeAt(3))+y(D.charCodeAt(4)),O=16*y(D.charCodeAt(5))+y(D.charCodeAt(6));return new T(new t(I,P,O,1))}if(9===w){const I=16*y(D.charCodeAt(1))+y(D.charCodeAt(2)),P=16*y(D.charCodeAt(3))+y(D.charCodeAt(4)),O=16*y(D.charCodeAt(5))+y(D.charCodeAt(6)),H=16*y(D.charCodeAt(7))+y(D.charCodeAt(8));return new T(new t(I,P,O,H/255))}if(4===w){const I=y(D.charCodeAt(1)),P=y(D.charCodeAt(2)),O=y(D.charCodeAt(3));return new T(new t(16*I+I,16*P+P,16*O+O))}if(5===w){const I=y(D.charCodeAt(1)),P=y(D.charCodeAt(2)),O=y(D.charCodeAt(3)),H=y(D.charCodeAt(4));return new T(new t(16*I+I,16*P+P,16*O+O,(16*H+H)/255))}return null}}(L=E.CSS||(E.CSS={}))}(C=T.Format||(T.Format={}))}(v||(v={}))},1187:(Et,X,e)=>{"use strict";e.d(X,{Hl:()=>S,Ix:()=>l,ZO:()=>t});var d=function(v,T,C,E){return new(C||(C=Promise))(function(_,s){function m(a){try{n(E.next(a))}catch(p){s(p)}}function c(a){try{n(E.throw(a))}catch(p){s(p)}}function n(a){a.done?_(a.value):function L(_){return _ instanceof C?_:new C(function(s){s(_)})}(a.value).then(m,c)}n((E=E.apply(v,T||[])).next())})};function t(v){return{asString:()=>d(this,void 0,void 0,function*(){return v}),asFile:()=>{},value:"string"==typeof v?v:void 0}}function l(v,T,C){return{asString:()=>d(this,void 0,void 0,function*(){return""}),asFile:()=>({name:v,uri:T,data:C}),value:void 0}}class S{constructor(){this._entries=new Map}get size(){return this._entries.size}has(T){return this._entries.has(this.toKey(T))}get(T){var C;return null===(C=this._entries.get(this.toKey(T)))||void 0===C?void 0:C[0]}append(T,C){const E=this._entries.get(T);E?E.push(C):this._entries.set(this.toKey(T),[C])}replace(T,C){this._entries.set(this.toKey(T),[C])}delete(T){this._entries.delete(this.toKey(T))}*entries(){for(const[T,C]of this._entries.entries())for(const E of C)yield[T,E]}values(){return Array.from(this._entries.values()).flat()}forEach(T){for(const[C,E]of this.entries())T(E,C)}toKey(T){return T.toLowerCase()}}},66471:(Et,X,e)=>{"use strict";function d(t,l,S){let v=null,T=null;if("function"==typeof S.value?(v="value",T=S.value,0!==T.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof S.get&&(v="get",T=S.get),!T)throw new Error("not supported");const C=`$memoize$${l}`;S[v]=function(...E){return this.hasOwnProperty(C)||Object.defineProperty(this,C,{configurable:!1,enumerable:!1,writable:!1,value:T.apply(this,E)}),this[C]}}e.d(X,{H:()=>d})},52237:(Et,X,e)=>{"use strict";e.d(X,{Hs:()=>E,a$:()=>S});class d{constructor(_,s,m,c){this.originalStart=_,this.originalLength=s,this.modifiedStart=m,this.modifiedLength=c}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var t=e(7626);class l{constructor(_){this.source=_}getElements(){const _=this.source,s=new Int32Array(_.length);for(let m=0,c=_.length;m<c;m++)s[m]=_.charCodeAt(m);return s}}function S(L,_,s){return new E(new l(L),new l(_)).ComputeDiff(s).changes}class v{static Assert(_,s){if(!_)throw new Error(s)}}class T{static Copy(_,s,m,c,n){for(let a=0;a<n;a++)m[c+a]=_[s+a]}static Copy2(_,s,m,c,n){for(let a=0;a<n;a++)m[c+a]=_[s+a]}}class C{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new d(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(_,s){this.m_originalStart=Math.min(this.m_originalStart,_),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_originalCount++}AddModifiedElement(_,s){this.m_originalStart=Math.min(this.m_originalStart,_),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class E{constructor(_,s,m=null){this.ContinueProcessingPredicate=m,this._originalSequence=_,this._modifiedSequence=s;const[c,n,a]=E._getElements(_),[p,u,g]=E._getElements(s);this._hasStrings=a&&g,this._originalStringElements=c,this._originalElementsOrHash=n,this._modifiedStringElements=p,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(_){return _.length>0&&"string"==typeof _[0]}static _getElements(_){const s=_.getElements();if(E._isStringArray(s)){const m=new Int32Array(s.length);for(let c=0,n=s.length;c<n;c++)m[c]=(0,t.Cv)(s[c],0);return[s,m,!0]}return s instanceof Int32Array?[[],s,!1]:[[],new Int32Array(s),!1]}ElementsAreEqual(_,s){return this._originalElementsOrHash[_]===this._modifiedElementsOrHash[s]&&(!this._hasStrings||this._originalStringElements[_]===this._modifiedStringElements[s])}ElementsAreStrictEqual(_,s){return!!this.ElementsAreEqual(_,s)&&E._getStrictElement(this._originalSequence,_)===E._getStrictElement(this._modifiedSequence,s)}static _getStrictElement(_,s){return"function"==typeof _.getStrictElement?_.getStrictElement(s):null}OriginalElementsAreEqual(_,s){return this._originalElementsOrHash[_]===this._originalElementsOrHash[s]&&(!this._hasStrings||this._originalStringElements[_]===this._originalStringElements[s])}ModifiedElementsAreEqual(_,s){return this._modifiedElementsOrHash[_]===this._modifiedElementsOrHash[s]&&(!this._hasStrings||this._modifiedStringElements[_]===this._modifiedStringElements[s])}ComputeDiff(_){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,_)}_ComputeDiff(_,s,m,c,n){const a=[!1];let p=this.ComputeDiffRecursive(_,s,m,c,a);return n&&(p=this.PrettifyChanges(p)),{quitEarly:a[0],changes:p}}ComputeDiffRecursive(_,s,m,c,n){for(n[0]=!1;_<=s&&m<=c&&this.ElementsAreEqual(_,m);)_++,m++;for(;s>=_&&c>=m&&this.ElementsAreEqual(s,c);)s--,c--;if(_>s||m>c){let y;return m<=c?(v.Assert(_===s+1,"originalStart should only be one more than originalEnd"),y=[new d(_,0,m,c-m+1)]):_<=s?(v.Assert(m===c+1,"modifiedStart should only be one more than modifiedEnd"),y=[new d(_,s-_+1,m,0)]):(v.Assert(_===s+1,"originalStart should only be one more than originalEnd"),v.Assert(m===c+1,"modifiedStart should only be one more than modifiedEnd"),y=[]),y}const a=[0],p=[0],u=this.ComputeRecursionPoint(_,s,m,c,a,p,n),g=a[0],b=p[0];if(null!==u)return u;if(!n[0]){const y=this.ComputeDiffRecursive(_,g,m,b,n);let D=[];return D=n[0]?[new d(g+1,s-(g+1)+1,b+1,c-(b+1)+1)]:this.ComputeDiffRecursive(g+1,s,b+1,c,n),this.ConcatenateChanges(y,D)}return[new d(_,s-_+1,m,c-m+1)]}WALKTRACE(_,s,m,c,n,a,p,u,g,b,y,D,w,I,P,O,H,U){let K=null,F=null,B=new C,z=s,$=m,j=w[0]-O[0]-c,ne=-1073741824,N=this.m_forwardHistory.length-1;do{const V=j+_;V===z||V<$&&g[V-1]<g[V+1]?(I=(y=g[V+1])-j-c,y<ne&&B.MarkNextChange(),ne=y,B.AddModifiedElement(y+1,I),j=V+1-_):(I=(y=g[V-1]+1)-j-c,y<ne&&B.MarkNextChange(),ne=y-1,B.AddOriginalElement(y,I+1),j=V-1-_),N>=0&&(_=(g=this.m_forwardHistory[N])[0],z=1,$=g.length-1)}while(--N>=-1);if(K=B.getReverseChanges(),U[0]){let V=w[0]+1,Z=O[0]+1;if(null!==K&&K.length>0){const fe=K[K.length-1];V=Math.max(V,fe.getOriginalEnd()),Z=Math.max(Z,fe.getModifiedEnd())}F=[new d(V,D-V+1,Z,P-Z+1)]}else{B=new C,z=a,$=p,j=w[0]-O[0]-u,ne=1073741824,N=H?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const V=j+n;V===z||V<$&&b[V-1]>=b[V+1]?(I=(y=b[V+1]-1)-j-u,y>ne&&B.MarkNextChange(),ne=y+1,B.AddOriginalElement(y+1,I+1),j=V+1-n):(I=(y=b[V-1])-j-u,y>ne&&B.MarkNextChange(),ne=y,B.AddModifiedElement(y+1,I+1),j=V-1-n),N>=0&&(n=(b=this.m_reverseHistory[N])[0],z=1,$=b.length-1)}while(--N>=-1);F=B.getChanges()}return this.ConcatenateChanges(K,F)}ComputeRecursionPoint(_,s,m,c,n,a,p){let u=0,g=0,b=0,y=0,D=0,w=0;_--,m--,n[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const I=s-_+(c-m),P=I+1,O=new Int32Array(P),H=new Int32Array(P),U=c-m,K=s-_,F=_-m,B=s-c,$=(K-U)%2==0;O[U]=_,H[K]=s,p[0]=!1;for(let j=1;j<=I/2+1;j++){let ne=0,N=0;b=this.ClipDiagonalBound(U-j,j,U,P),y=this.ClipDiagonalBound(U+j,j,U,P);for(let Z=b;Z<=y;Z+=2){u=Z===b||Z<y&&O[Z-1]<O[Z+1]?O[Z+1]:O[Z-1]+1,g=u-(Z-U)-F;const fe=u;for(;u<s&&g<c&&this.ElementsAreEqual(u+1,g+1);)u++,g++;if(O[Z]=u,u+g>ne+N&&(ne=u,N=g),!$&&Math.abs(Z-K)<=j-1&&u>=H[Z])return n[0]=u,a[0]=g,fe<=H[Z]&&j<=1448?this.WALKTRACE(U,b,y,F,K,D,w,B,O,H,u,s,n,g,c,a,$,p):null}const V=(ne-_+(N-m)-j)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(ne,V))return p[0]=!0,n[0]=ne,a[0]=N,V>0&&j<=1448?this.WALKTRACE(U,b,y,F,K,D,w,B,O,H,u,s,n,g,c,a,$,p):(_++,m++,[new d(_,s-_+1,m,c-m+1)]);D=this.ClipDiagonalBound(K-j,j,K,P),w=this.ClipDiagonalBound(K+j,j,K,P);for(let Z=D;Z<=w;Z+=2){u=Z===D||Z<w&&H[Z-1]>=H[Z+1]?H[Z+1]-1:H[Z-1],g=u-(Z-K)-B;const fe=u;for(;u>_&&g>m&&this.ElementsAreEqual(u,g);)u--,g--;if(H[Z]=u,$&&Math.abs(Z-U)<=j&&u<=O[Z])return n[0]=u,a[0]=g,fe>=O[Z]&&j<=1448?this.WALKTRACE(U,b,y,F,K,D,w,B,O,H,u,s,n,g,c,a,$,p):null}if(j<=1447){let Z=new Int32Array(y-b+2);Z[0]=U-b+1,T.Copy2(O,b,Z,1,y-b+1),this.m_forwardHistory.push(Z),Z=new Int32Array(w-D+2),Z[0]=K-D+1,T.Copy2(H,D,Z,1,w-D+1),this.m_reverseHistory.push(Z)}}return this.WALKTRACE(U,b,y,F,K,D,w,B,O,H,u,s,n,g,c,a,$,p)}PrettifyChanges(_){for(let s=0;s<_.length;s++){const m=_[s],c=s<_.length-1?_[s+1].originalStart:this._originalElementsOrHash.length,n=s<_.length-1?_[s+1].modifiedStart:this._modifiedElementsOrHash.length,a=m.originalLength>0,p=m.modifiedLength>0;for(;m.originalStart+m.originalLength<c&&m.modifiedStart+m.modifiedLength<n&&(!a||this.OriginalElementsAreEqual(m.originalStart,m.originalStart+m.originalLength))&&(!p||this.ModifiedElementsAreEqual(m.modifiedStart,m.modifiedStart+m.modifiedLength));){const g=this.ElementsAreStrictEqual(m.originalStart,m.modifiedStart);if(this.ElementsAreStrictEqual(m.originalStart+m.originalLength,m.modifiedStart+m.modifiedLength)&&!g)break;m.originalStart++,m.modifiedStart++}const u=[null];s<_.length-1&&this.ChangesOverlap(_[s],_[s+1],u)&&(_[s]=u[0],_.splice(s+1,1),s--)}for(let s=_.length-1;s>=0;s--){const m=_[s];let c=0,n=0;if(s>0){const y=_[s-1];c=y.originalStart+y.originalLength,n=y.modifiedStart+y.modifiedLength}const a=m.originalLength>0,p=m.modifiedLength>0;let u=0,g=this._boundaryScore(m.originalStart,m.originalLength,m.modifiedStart,m.modifiedLength);for(let y=1;;y++){const D=m.originalStart-y,w=m.modifiedStart-y;if(D<c||w<n||a&&!this.OriginalElementsAreEqual(D,D+m.originalLength)||p&&!this.ModifiedElementsAreEqual(w,w+m.modifiedLength))break;const P=(D===c&&w===n?5:0)+this._boundaryScore(D,m.originalLength,w,m.modifiedLength);P>g&&(g=P,u=y)}m.originalStart-=u,m.modifiedStart-=u;const b=[null];s>0&&this.ChangesOverlap(_[s-1],_[s],b)&&(_[s-1]=b[0],_.splice(s,1),s++)}if(this._hasStrings)for(let s=1,m=_.length;s<m;s++){const c=_[s-1],n=_[s],a=n.originalStart-c.originalStart-c.originalLength,p=c.originalStart,u=n.originalStart+n.originalLength,g=u-p,b=c.modifiedStart,y=n.modifiedStart+n.modifiedLength,D=y-b;if(a<5&&g<20&&D<20){const w=this._findBetterContiguousSequence(p,g,b,D,a);if(w){const[I,P]=w;(I!==c.originalStart+c.originalLength||P!==c.modifiedStart+c.modifiedLength)&&(c.originalLength=I-c.originalStart,c.modifiedLength=P-c.modifiedStart,n.originalStart=I+a,n.modifiedStart=P+a,n.originalLength=u-n.originalStart,n.modifiedLength=y-n.modifiedStart)}}}return _}_findBetterContiguousSequence(_,s,m,c,n){if(s<n||c<n)return null;const a=_+s-n+1,p=m+c-n+1;let u=0,g=0,b=0;for(let y=_;y<a;y++)for(let D=m;D<p;D++){const w=this._contiguousSequenceScore(y,D,n);w>0&&w>u&&(u=w,g=y,b=D)}return u>0?[g,b]:null}_contiguousSequenceScore(_,s,m){let c=0;for(let n=0;n<m;n++){if(!this.ElementsAreEqual(_+n,s+n))return 0;c+=this._originalStringElements[_+n].length}return c}_OriginalIsBoundary(_){return _<=0||_>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[_])}_OriginalRegionIsBoundary(_,s){if(this._OriginalIsBoundary(_)||this._OriginalIsBoundary(_-1))return!0;if(s>0){const m=_+s;if(this._OriginalIsBoundary(m-1)||this._OriginalIsBoundary(m))return!0}return!1}_ModifiedIsBoundary(_){return _<=0||_>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[_])}_ModifiedRegionIsBoundary(_,s){if(this._ModifiedIsBoundary(_)||this._ModifiedIsBoundary(_-1))return!0;if(s>0){const m=_+s;if(this._ModifiedIsBoundary(m-1)||this._ModifiedIsBoundary(m))return!0}return!1}_boundaryScore(_,s,m,c){return(this._OriginalRegionIsBoundary(_,s)?1:0)+(this._ModifiedRegionIsBoundary(m,c)?1:0)}ConcatenateChanges(_,s){const m=[];if(0===_.length||0===s.length)return s.length>0?s:_;if(this.ChangesOverlap(_[_.length-1],s[0],m)){const c=new Array(_.length+s.length-1);return T.Copy(_,0,c,0,_.length-1),c[_.length-1]=m[0],T.Copy(s,1,c,_.length,s.length-1),c}{const c=new Array(_.length+s.length);return T.Copy(_,0,c,0,_.length),T.Copy(s,0,c,_.length,s.length),c}}ChangesOverlap(_,s,m){if(v.Assert(_.originalStart<=s.originalStart,"Left change is not less than or equal to right change"),v.Assert(_.modifiedStart<=s.modifiedStart,"Left change is not less than or equal to right change"),_.originalStart+_.originalLength>=s.originalStart||_.modifiedStart+_.modifiedLength>=s.modifiedStart){let n=_.originalLength,p=_.modifiedLength;return _.originalStart+_.originalLength>=s.originalStart&&(n=s.originalStart+s.originalLength-_.originalStart),_.modifiedStart+_.modifiedLength>=s.modifiedStart&&(p=s.modifiedStart+s.modifiedLength-_.modifiedStart),m[0]=new d(_.originalStart,n,_.modifiedStart,p),!0}return m[0]=null,!1}ClipDiagonalBound(_,s,m,c){if(_>=0&&_<c)return _;const p=s%2==0;return _<0?p===(m%2==0)?0:1:p===((c-m-1)%2==0)?c-1:c-2}}},93979:(Et,X,e)=>{"use strict";e.d(X,{y:()=>C});var d=e(64023),t=e(72715),l=e(55197);function S(E,L){return L&&(E.stack||E.stacktrace)?l.NC("stackTrace.format","{0}: {1}",T(E),v(E.stack)||v(E.stacktrace)):T(E)}function v(E){return Array.isArray(E)?E.join("\n"):E}function T(E){return"string"==typeof E.code&&"number"==typeof E.errno&&"string"==typeof E.syscall?l.NC("nodeExceptionMessage","A system error occurred ({0})",E.message):E.message||l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function C(E=null,L=!1){if(!E)return l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(E)){const _=d.kX(E),s=C(_[0],L);return _.length>1?l.NC("error.moreErrors","{0} ({1} errors in total)",s,_.length):s}if(t.HD(E))return E;if(E.detail){const _=E.detail;if(_.error)return S(_.error,L);if(_.exception)return S(_.exception,L)}return E.stack?S(E,L):E.message?E.message:l.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}},4125:(Et,X,e)=>{"use strict";e.d(X,{B8:()=>m,Cp:()=>S,F0:()=>L,FU:()=>E,L6:()=>s,b1:()=>_,dL:()=>l,he:()=>n,n2:()=>C,qL:()=>d,ri:()=>v});class d{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(p){setTimeout(()=>{throw p.stack?c.isErrorNoTelemetry(p)?new c(p.message+"\n\n"+p.stack):new Error(p.message+"\n\n"+p.stack):p},0)}}emit(p){this.listeners.forEach(u=>{u(p)})}onUnexpectedError(p){this.unexpectedErrorHandler(p),this.emit(p)}onUnexpectedExternalError(p){this.unexpectedErrorHandler(p)}}const t=new d;function l(a){C(a)||t.onUnexpectedError(a)}function S(a){C(a)||t.onUnexpectedExternalError(a)}function v(a){if(a instanceof Error){const{name:p,message:u}=a;return{$isError:!0,name:p,message:u,stack:a.stacktrace||a.stack,noTelemetry:c.isErrorNoTelemetry(a)}}return a}const T="Canceled";function C(a){return a instanceof E||a instanceof Error&&a.name===T&&a.message===T}class E extends Error{constructor(){super(T),this.name=this.message}}function L(){const a=new Error(T);return a.name=a.message,a}function _(a){return a?new Error(`Illegal argument: ${a}`):new Error("Illegal argument")}function s(a){return a?new Error(`Illegal state: ${a}`):new Error("Illegal state")}class m extends Error{constructor(p){super("NotSupported"),p&&(this.message=p)}}class c extends Error{constructor(p){super(p),this.name="ErrorNoTelemetry"}static fromError(p){if(p instanceof c)return p;const u=new c;return u.message=p.message,u.stack=p.stack,u}static isErrorNoTelemetry(p){return"ErrorNoTelemetry"===p.name}}class n extends Error{constructor(p){super(p||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype)}}},3778:(Et,X,e)=>{"use strict";e.d(X,{D0:()=>g,E7:()=>b,F3:()=>n,K3:()=>u,Q5:()=>c,ZD:()=>y,ju:()=>C});var C,d=e(4125),t=e(80142),l=e(85739),S=e(631);!function(D){function I(oe){return(we,xe=null,pe)=>{let de,Te=!1;return de=oe(ke=>{if(!Te)return de?de.dispose():Te=!0,we.call(xe,ke)},null,pe),Te&&de.dispose(),de}}function P(oe,we,xe){return B((pe,Te=null,de)=>oe(ke=>pe.call(Te,we(ke)),null,de),xe)}function O(oe,we,xe){return B((pe,Te=null,de)=>oe(ke=>{we(ke),pe.call(Te,ke)},null,de),xe)}function H(oe,we,xe){return B((pe,Te=null,de)=>oe(ke=>we(ke)&&pe.call(Te,ke),null,de),xe)}function F(oe,we,xe,pe){let Te=xe;return P(oe,de=>(Te=we(Te,de),Te),pe)}function B(oe,we){let xe;const Te=new c({onFirstListenerAdd(){xe=oe(Te.fire,Te)},onLastListenerRemove(){xe?.dispose()}});return we?.add(Te),Te.event}function z(oe,we,xe=100,pe=!1,Te,de){let ke,ze,$e,ce=0;const nt=new c({leakWarningThreshold:Te,onFirstListenerAdd(){ke=oe(Dt=>{ce++,ze=we(ze,Dt),pe&&!$e&&(nt.fire(ze),ze=void 0),clearTimeout($e),$e=setTimeout(()=>{const Lt=ze;ze=void 0,$e=void 0,(!pe||ce>1)&&nt.fire(Lt),ce=0},xe)})},onLastListenerRemove(){ke.dispose()}});return de?.add(nt),nt.event}function $(oe,we=((pe,Te)=>pe===Te),xe){let Te,pe=!0;return H(oe,de=>{const ke=pe||!we(de,Te);return pe=!1,Te=de,ke},xe)}D.None=()=>t.JT.None,D.once=I,D.map=P,D.forEach=O,D.filter=H,D.signal=function U(oe){return oe},D.any=function K(...oe){return(we,xe=null,pe)=>(0,t.F8)(...oe.map(Te=>Te(de=>we.call(xe,de),null,pe)))},D.reduce=F,D.debounce=z,D.latch=$,D.split=function j(oe,we,xe){return[D.filter(oe,we,xe),D.filter(oe,pe=>!we(pe),xe)]},D.buffer=function ne(oe,we=!1,xe=[]){let pe=xe.slice(),Te=oe(ze=>{pe?pe.push(ze):ke.fire(ze)});const de=()=>{pe?.forEach(ze=>ke.fire(ze)),pe=null},ke=new c({onFirstListenerAdd(){Te||(Te=oe(ze=>ke.fire(ze)))},onFirstListenerDidAdd(){pe&&(we?setTimeout(de):de())},onLastListenerRemove(){Te&&Te.dispose(),Te=null}});return ke.event};class N{constructor(we){this.event=we,this.disposables=new t.SL}map(we){return new N(P(this.event,we,this.disposables))}forEach(we){return new N(O(this.event,we,this.disposables))}filter(we){return new N(H(this.event,we,this.disposables))}reduce(we,xe){return new N(F(this.event,we,xe,this.disposables))}latch(){return new N($(this.event,void 0,this.disposables))}debounce(we,xe=100,pe=!1,Te){return new N(z(this.event,we,xe,pe,Te,this.disposables))}on(we,xe,pe){return this.event(we,xe,pe)}once(we,xe,pe){return I(this.event)(we,xe,pe)}dispose(){this.disposables.dispose()}}D.chain=function V(oe){return new N(oe)},D.fromNodeEventEmitter=function Z(oe,we,xe=(pe=>pe)){const pe=(...ze)=>ke.fire(xe(...ze)),ke=new c({onFirstListenerAdd:()=>oe.on(we,pe),onLastListenerRemove:()=>oe.removeListener(we,pe)});return ke.event},D.fromDOMEventEmitter=function fe(oe,we,xe=(pe=>pe)){const pe=(...ze)=>ke.fire(xe(...ze)),ke=new c({onFirstListenerAdd:()=>oe.addEventListener(we,pe),onLastListenerRemove:()=>oe.removeEventListener(we,pe)});return ke.event},D.toPromise=function M(oe){return new Promise(we=>I(oe)(we))},D.runAndSubscribe=function Se(oe,we){return we(void 0),oe(xe=>we(xe))},D.runAndSubscribeWithStore=function Ee(oe,we){let xe=null;function pe(de){xe?.dispose(),xe=new t.SL,we(de,xe)}pe(void 0);const Te=oe(de=>pe(de));return(0,t.OF)(()=>{Te.dispose(),xe?.dispose()})};class Le{constructor(we,xe){this.obs=we,this._counter=0,this._hasChanged=!1;this.emitter=new c({onFirstListenerAdd:()=>{we.addObserver(this)},onLastListenerRemove:()=>{we.removeObserver(this)}}),xe&&xe.add(this.emitter)}beginUpdate(we){this._counter++}handleChange(we,xe){this._hasChanged=!0}endUpdate(we){0==--this._counter&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}D.fromObservable=function Ne(oe,we){return new Le(oe,we).emitter.event}}(C||(C={}));let E=(()=>{class D{constructor(I){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${I}_${D._idPool++}`}start(I){this._stopWatch=new S.G(!0),this._listenerCount=I}stop(){if(this._stopWatch){const I=this._stopWatch.elapsed();this._elapsedOverall+=I,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${I.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}return D._idPool=0,D})();class s{constructor(w){this.value=w}static create(){var w;return new s(null!==(w=(new Error).stack)&&void 0!==w?w:"")}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class m{constructor(w,I,P){this.callback=w,this.callbackThis=I,this.stack=P,this.subscription=new t.dt}invoke(w){this.callback.call(this.callbackThis,w)}}class c{constructor(w){var I,P;this._disposed=!1,this._options=w,this._leakageMon=void 0,this._perfMon=null!==(I=this._options)&&void 0!==I&&I._profName?new E(this._options._profName):void 0,this._deliveryQueue=null===(P=this._options)||void 0===P?void 0:P.deliveryQueue}dispose(){var w,I,P,O;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),null===(w=this._deliveryQueue)||void 0===w||w.clear(this),null===(P=null===(I=this._options)||void 0===I?void 0:I.onLastListenerRemove)||void 0===P||P.call(I),null===(O=this._leakageMon)||void 0===O||O.dispose())}get event(){return this._event||(this._event=(w,I,P)=>{var O,H,U;this._listeners||(this._listeners=new l.S);const K=this._listeners.isEmpty();let F,B;K&&(null===(O=this._options)||void 0===O?void 0:O.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this),this._leakageMon&&this._listeners.size>=30&&(B=s.create(),F=this._leakageMon.check(B,this._listeners.size+1));const z=new m(w,I,B),$=this._listeners.push(z);K&&(null===(H=this._options)||void 0===H?void 0:H.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),null!==(U=this._options)&&void 0!==U&&U.onListenerDidAdd&&this._options.onListenerDidAdd(this,w,I);const j=z.subscription.set(()=>{F?.(),this._disposed||($(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return P instanceof t.SL?P.add(j):Array.isArray(P)&&P.push(j),j}),this._event}fire(w){var I,P;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new a);for(const O of this._listeners)this._deliveryQueue.push(this,O,w);null===(I=this._perfMon)||void 0===I||I.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),null===(P=this._perfMon)||void 0===P||P.stop()}}}class n{constructor(){this._queue=new l.S}get size(){return this._queue.size}push(w,I,P){this._queue.push(new p(w,I,P))}clear(w){const I=new l.S;for(const P of this._queue)P.emitter!==w&&I.push(P);this._queue=I}deliver(){for(;this._queue.size>0;){const w=this._queue.shift();try{w.listener.invoke(w.event)}catch(I){(0,d.dL)(I)}}}}class a extends n{clear(w){this._queue.clear()}}class p{constructor(w,I,P){this.emitter=w,this.listener=I,this.event=P}}class u extends c{constructor(w){super(w),this._isPaused=0,this._eventQueue=new l.S,this._mergeFn=w?.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const w=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(w))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(w){this._listeners&&(0!==this._isPaused?this._eventQueue.push(w):super.fire(w))}}class g extends u{constructor(w){var I;super(w),this._delay=null!==(I=w.delay)&&void 0!==I?I:100}fire(w){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(w)}}class b{constructor(){this.buffers=[]}wrapEvent(w){return(I,P,O)=>w(H=>{const U=this.buffers[this.buffers.length-1];U?U.push(()=>I.call(P,H)):I.call(P,H)},void 0,O)}bufferEvents(w){const I=[];this.buffers.push(I);const P=w();return this.buffers.pop(),I.forEach(O=>O()),P}}class y{constructor(){this.listening=!1,this.inputEvent=C.None,this.inputEventListener=t.JT.None,this.emitter=new c({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(w){this.inputEvent=w,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=w(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15240:(Et,X,e)=>{"use strict";e.d(X,{KM:()=>E,ej:()=>v,fn:()=>T,oP:()=>_,yj:()=>C});var d=e(61283),t=e(8841),l=e(73879);function S(s){return 47===s||92===s}function v(s){return s.replace(/[\\/]/g,d.KR.sep)}function T(s){return-1===s.indexOf("/")&&(s=v(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}function C(s,m=d.KR.sep){if(!s)return"";const c=s.length,n=s.charCodeAt(0);if(S(n)){if(S(s.charCodeAt(1))&&!S(s.charCodeAt(2))){let p=3;const u=p;for(;p<c&&!S(s.charCodeAt(p));p++);if(u!==p&&!S(s.charCodeAt(p+1)))for(p+=1;p<c;p++)if(S(s.charCodeAt(p)))return s.slice(0,p+1).replace(/[\\/]/g,m)}return m}if(L(n)&&58===s.charCodeAt(1))return S(s.charCodeAt(2))?s.slice(0,2)+m:s.slice(0,2);let a=s.indexOf("://");if(-1!==a)for(a+=3;a<c;a++)if(S(s.charCodeAt(a)))return s.slice(0,a+1);return""}function E(s,m,c,n=d.ir){if(s===m)return!0;if(!s||!m||m.length>s.length)return!1;if(c){if(!(0,l.ok)(s,m))return!1;if(m.length===s.length)return!0;let p=m.length;return m.charAt(m.length-1)===n&&p--,s.charAt(p)===n}return m.charAt(m.length-1)!==n&&(m+=n),0===s.indexOf(m)}function L(s){return s>=65&&s<=90||s>=97&&s<=122}function _(s,m=t.ED){return!!m&&L(s.charCodeAt(0))&&58===s.charCodeAt(1)}},25715:(Et,X,e)=>{"use strict";e.d(X,{CL:()=>ke,EW:()=>$e,Ji:()=>v,KZ:()=>H,Oh:()=>$,Sy:()=>E,ir:()=>C,jB:()=>j,l7:()=>nt,mB:()=>ne,mX:()=>ze,or:()=>l});var d=e(5067),t=e(73879);function l(...Ze){return function(ae,_e){for(let he=0,le=Ze.length;he<le;he++){const Q=Ze[he](ae,_e);if(Q)return Q}return null}}T.bind(void 0,!1);const v=T.bind(void 0,!0);function T(Ze,ae,_e){if(!_e||_e.length<ae.length)return null;let he;return he=Ze?t.ok(_e,ae):0===_e.indexOf(ae),he?ae.length>0?[{start:0,end:ae.length}]:[]:null}function C(Ze,ae){const _e=ae.toLowerCase().indexOf(Ze.toLowerCase());return-1===_e?null:[{start:_e,end:_e+Ze.length}]}function E(Ze,ae){return L(Ze.toLowerCase(),ae.toLowerCase(),0,0)}function L(Ze,ae,_e,he){if(_e===Ze.length)return[];if(he===ae.length)return null;if(Ze[_e]===ae[he]){let le=null;return(le=L(Ze,ae,_e+1,he+1))?g({start:he,end:he+1},le):null}return L(Ze,ae,_e,he+1)}function _(Ze){return 97<=Ze&&Ze<=122}function s(Ze){return 65<=Ze&&Ze<=90}function m(Ze){return 48<=Ze&&Ze<=57}function c(Ze){return 32===Ze||9===Ze||10===Ze||13===Ze}const n=new Set;function a(Ze){return c(Ze)||n.has(Ze)}function u(Ze){return _(Ze)||s(Ze)||m(Ze)}function g(Ze,ae){return 0===ae.length?ae=[Ze]:Ze.end===ae[0].start?ae[0].start=Ze.start:ae.unshift(Ze),ae}function b(Ze,ae){for(let _e=ae;_e<Ze.length;_e++){const he=Ze.charCodeAt(_e);if(s(he)||m(he)||_e>0&&!u(Ze.charCodeAt(_e-1)))return _e}return Ze.length}function y(Ze,ae,_e,he){if(_e===Ze.length)return[];if(he===ae.length)return null;if(Ze[_e]!==ae[he].toLowerCase())return null;{let le=null,Q=he+1;for(le=y(Ze,ae,_e+1,he+1);!le&&(Q=b(ae,Q))<ae.length;)le=y(Ze,ae,_e+1,Q),Q++;return null===le?null:g({start:he,end:he+1},le)}}function O(Ze,ae){if(!ae||0===(ae=ae.trim()).length||!function P(Ze){let ae=0,_e=0,he=0,le=0;for(let Q=0;Q<Ze.length;Q++)he=Ze.charCodeAt(Q),s(he)&&ae++,_(he)&&_e++,c(he)&&le++;return 0!==ae&&0!==_e||0!==le?ae<=5:Ze.length<=30}(Ze)||ae.length>60)return null;const _e=function D(Ze){let ae=0,_e=0,he=0,le=0,Q=0;for(let et=0;et<Ze.length;et++)Q=Ze.charCodeAt(et),s(Q)&&ae++,_(Q)&&_e++,u(Q)&&he++,m(Q)&&le++;return{upperPercent:ae/Ze.length,lowerPercent:_e/Ze.length,alphaPercent:he/Ze.length,numericPercent:le/Ze.length}}(ae);if(!function I(Ze){const{upperPercent:ae,lowerPercent:_e,alphaPercent:he,numericPercent:le}=Ze;return _e>.2&&ae<.8&&he>.6&&le<.2}(_e)){if(!function w(Ze){const{upperPercent:ae,lowerPercent:_e}=Ze;return 0===_e&&ae>.6}(_e))return null;ae=ae.toLowerCase()}let he=null,le=0;for(Ze=Ze.toLowerCase();le<ae.length&&null===(he=y(Ze,ae,0,le));)le=b(ae,le+1);return he}function H(Ze,ae,_e=!1){if(!ae||0===ae.length)return null;let he=null,le=0;for(Ze=Ze.toLowerCase(),ae=ae.toLowerCase();le<ae.length&&null===(he=U(Ze,ae,0,le,_e));)le=K(ae,le+1);return he}function U(Ze,ae,_e,he,le){if(_e===Ze.length)return[];if(he===ae.length)return null;if(function p(Ze,ae){return Ze===ae||a(Ze)&&a(ae)}(Ze.charCodeAt(_e),ae.charCodeAt(he))){let Q=null,ve=he+1;if(Q=U(Ze,ae,_e+1,he+1,le),!le)for(;!Q&&(ve=K(ae,ve))<ae.length;)Q=U(Ze,ae,_e+1,ve,le),ve++;return null===Q?null:g({start:he,end:he+1},Q)}return null}function K(Ze,ae){for(let _e=ae;_e<Ze.length;_e++)if(a(Ze.charCodeAt(_e))||_e>0&&a(Ze.charCodeAt(_e-1)))return _e;return Ze.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach(Ze=>n.add(Ze.charCodeAt(0)));const F=l(v,O,C),B=l(v,O,E),z=new d.z6(1e4);function $(Ze,ae,_e=!1){if("string"!=typeof Ze||"string"!=typeof ae)return null;let he=z.get(Ze);he||(he=new RegExp(t.un(Ze),"i"),z.set(Ze,he));const le=he.exec(ae);return le?[{start:le.index,end:le.index+le[0].length}]:_e?B(Ze,ae):F(Ze,ae)}function j(Ze,ae,_e,he,le,Q){const ve=Math.min(13,Ze.length);for(;_e<ve;_e++){const Ae=$e(Ze,ae,_e,he,le,Q,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Ae)return Ae}return[0,Q]}function ne(Ze){if(typeof Ze>"u")return[];const ae=[],_e=Ze[1];for(let he=Ze.length-1;he>1;he--){const le=Ze[he]+_e,Q=ae[ae.length-1];Q&&Q.end===le?Q.end=le+1:ae.push({start:le,end:le+1})}return ae}const N=128;function V(){const Ze=[],ae=[];for(let _e=0;_e<=N;_e++)ae[_e]=0;for(let _e=0;_e<=N;_e++)Ze.push(ae.slice(0));return Ze}function Z(Ze){const ae=[];for(let _e=0;_e<=Ze;_e++)ae[_e]=0;return ae}const fe=Z(256),M=Z(256),Se=V(),Ee=V(),Le=V();function xe(Ze,ae){if(ae<0||ae>=Ze.length)return!1;const _e=Ze.codePointAt(ae);switch(_e){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!t.C8(_e)}}function pe(Ze,ae){if(ae<0||ae>=Ze.length)return!1;switch(Ze.charCodeAt(ae)){case 32:case 9:return!0;default:return!1}}function Te(Ze,ae,_e){return ae[Ze]!==_e[Ze]}var ke,Ze;(Ze=ke||(ke={})).Default=[-100,0],Ze.isDefault=function ae(_e){return!_e||2===_e.length&&-100===_e[0]&&0===_e[1]};let ze=(()=>{class Ze{constructor(_e,he){this.firstMatchCanBeWeak=_e,this.boostFullMatch=he}}return Ze.default={boostFullMatch:!0,firstMatchCanBeWeak:!1},Ze})();function $e(Ze,ae,_e,he,le,Q,ve=ze.default){const Ae=Ze.length>N?N:Ze.length,dt=he.length>N?N:he.length;if(_e>=Ae||Q>=dt||Ae-_e>dt-Q||!function de(Ze,ae,_e,he,le,Q,ve=!1){for(;ae<_e&&le<Q;)Ze[ae]===he[le]&&(ve&&(fe[ae]=le),ae+=1),le+=1;return ae===_e}(ae,_e,Ae,le,Q,dt,!0))return;!function ce(Ze,ae,_e,he,le,Q){let ve=Ze-1,Ae=ae-1;for(;ve>=_e&&Ae>=he;)le[ve]===Q[Ae]&&(M[ve]=Ae,ve--),Ae--}(Ae,dt,_e,Q,ae,le);let st=1,et=1,Qe=_e,tt=Q;const vt=[!1];for(st=1,Qe=_e;Qe<Ae;st++,Qe++){const Ge=fe[Qe],ut=M[Qe],Ut=Qe+1<Ae?M[Qe+1]:dt;for(et=Ge-Q+1,tt=Ge;tt<Ut;et++,tt++){let hn=Number.MIN_SAFE_INTEGER,Dn=!1;tt<=ut&&(hn=Ue(Ze,ae,Qe,_e,he,le,tt,dt,Q,0===Se[st-1][et-1],vt));let wt=0;hn!==Number.MAX_SAFE_INTEGER&&(Dn=!0,wt=hn+Ee[st-1][et-1]);const je=tt>Ge,ye=je?Ee[st][et-1]+(Se[st][et-1]>0?-5:0):0,Me=tt>Ge+1&&Se[st][et-1]>0,ue=Me?Ee[st][et-2]+(Se[st][et-2]>0?-5:0):0;if(Me&&(!je||ue>=ye)&&(!Dn||ue>=wt))Ee[st][et]=ue,Le[st][et]=3,Se[st][et]=0;else if(je&&(!Dn||ye>=wt))Ee[st][et]=ye,Le[st][et]=2,Se[st][et]=0;else{if(!Dn)throw new Error("not possible");Ee[st][et]=wt,Le[st][et]=1,Se[st][et]=Se[st-1][et-1]+1}}}if(!vt[0]&&!ve.firstMatchCanBeWeak)return;st--,et--;const mt=[Ee[st][et],Q];let _t=0,Kt=0;for(;st>=1;){let Ge=et;do{const ut=Le[st][Ge];if(3===ut)Ge-=2;else{if(2!==ut)break;Ge-=1}}while(Ge>=1);_t>1&&ae[_e+st-1]===le[Q+et-1]&&!Te(Ge+Q-1,he,le)&&_t+1>Se[st][Ge]&&(Ge=et),Ge===et?_t++:_t=1,Kt||(Kt=Ge),st--,et=Ge-1,mt.push(et)}return dt===Ae&&ve.boostFullMatch&&(mt[0]+=2),mt[0]-=Kt-Ae,mt}function Ue(Ze,ae,_e,he,le,Q,ve,Ae,dt,st,et){if(ae[_e]!==Q[ve])return Number.MIN_SAFE_INTEGER;let Qe=1,tt=!1;return ve===_e-he?Qe=Ze[_e]===le[ve]?7:5:!Te(ve,le,Q)||0!==ve&&Te(ve-1,le,Q)?!xe(Q,ve)||0!==ve&&xe(Q,ve-1)?(xe(Q,ve-1)||pe(Q,ve-1))&&(Qe=5,tt=!0):Qe=5:(Qe=Ze[_e]===le[ve]?7:5,tt=!0),Qe>1&&_e===he&&(et[0]=!0),tt||(tt=Te(ve,le,Q)||xe(Q,ve-1)||pe(Q,ve-1)),_e===he?ve>dt&&(Qe-=tt?3:5):Qe+=st?tt?2:0:tt?0:1,ve+1===Ae&&(Qe-=tt?3:5),Qe}function nt(Ze,ae,_e,he,le,Q,ve){return function Dt(Ze,ae,_e,he,le,Q,ve,Ae){let dt=$e(Ze,ae,_e,he,le,Q,Ae);if(dt&&!ve)return dt;if(Ze.length>=3){const st=Math.min(7,Ze.length-1);for(let et=_e+1;et<st;et++){const Qe=Lt(Ze,et);if(Qe){const tt=$e(Qe,Qe.toLowerCase(),_e,he,le,Q,Ae);tt&&(tt[0]-=3,(!dt||tt[0]>dt[0])&&(dt=tt))}}}return dt}(Ze,ae,_e,he,le,Q,!0,ve)}function Lt(Ze,ae){if(ae+1>=Ze.length)return;const _e=Ze[ae],he=Ze[ae+1];return _e!==he?Ze.slice(0,ae)+he+_e+Ze.slice(ae+2):void 0}},92192:(Et,X,e)=>{"use strict";function d(t){const l=this;let v,S=!1;return function(){return S||(S=!0,v=t.apply(l,arguments)),v}}e.d(X,{I:()=>d})},85425:(Et,X,e)=>{"use strict";e.d(X,{EQ:()=>j,Qc:()=>ne});var d=e(48648),t=e(15240),l=e(5067),S=e(61283),v=e(8841),T=e(73879),C=function(M,Se,Ee,Le){return new(Ee||(Ee=Promise))(function(oe,we){function xe(de){try{Te(Le.next(de))}catch(ke){we(ke)}}function pe(de){try{Te(Le.throw(de))}catch(ke){we(ke)}}function Te(de){de.done?oe(de.value):function Ne(oe){return oe instanceof Ee?oe:new Ee(function(we){we(oe)})}(de.value).then(xe,pe)}Te((Le=Le.apply(M,Se||[])).next())})};const E="**",_="[/\\\\]",s="[^/\\\\]",m=/\//g;function c(M,Se){switch(M){case 0:return"";case 1:return`${s}*?`;default:return`(?:${_}|${s}+${_}${Se?`|${_}${s}+`:""})*?`}}function n(M,Se){if(!M)return[];const Ee=[];let Le=!1,Ne=!1,oe="";for(const we of M){switch(we){case Se:if(!Le&&!Ne){Ee.push(oe),oe="";continue}break;case"{":Le=!0;break;case"}":Le=!1;break;case"[":Ne=!0;break;case"]":Ne=!1}oe+=we}return oe&&Ee.push(oe),Ee}function a(M){if(!M)return"";let Se="";const Ee=n(M,"/");if(Ee.every(Le=>Le===E))Se=".*";else{let Le=!1;Ee.forEach((Ne,oe)=>{if(Ne===E){if(Le)return;Se+=c(2,oe===Ee.length-1)}else{let we=!1,xe="",pe=!1,Te="";for(const de of Ne)if("}"!==de&&we)xe+=de;else if(!pe||"]"===de&&Te)switch(de){case"{":we=!0;continue;case"[":pe=!0;continue;case"}":{const ze=`(?:${n(xe,",").map($e=>a($e)).join("|")})`;Se+=ze,we=!1,xe="";break}case"]":Se+="["+Te+"]",pe=!1,Te="";break;case"?":Se+=s;continue;case"*":Se+=c(1);continue;default:Se+=(0,T.ec)(de)}else{let ke;ke="-"===de?de:"^"!==de&&"!"!==de||Te?"/"===de?"":(0,T.ec)(de):"^",Te+=ke}oe<Ee.length-1&&(Ee[oe+1]!==E||oe+2<Ee.length)&&(Se+=_)}Le=Ne===E})}return Se}const p=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,g=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,b=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,y=/^\*\*((\/[\w\.-]+)+)\/?$/,D=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,w=new l.z6(1e4),I=function(){return!1},P=function(){return null};function O(M,Se){if(!M)return P;let Ee;Ee="string"!=typeof M?M.pattern:M,Ee=Ee.trim();const Le=`${Ee}_${!!Se.trimForExclusions}`;let oe,Ne=w.get(Le);return Ne||(Ne=p.test(Ee)?function K(M,Se){return function(Ee,Le){return"string"==typeof Ee&&Ee.endsWith(M)?Se:null}}(Ee.substr(4),Ee):(oe=u.exec(U(Ee,Se)))?function F(M,Se){const Ee=`/${M}`,Le=`\\${M}`,Ne=function(we,xe){return"string"!=typeof we?null:xe?xe===M?Se:null:we===M||we.endsWith(Ee)||we.endsWith(Le)?Se:null},oe=[M];return Ne.basenames=oe,Ne.patterns=[Se],Ne.allBasenames=oe,Ne}(oe[1],Ee):(Se.trimForExclusions?b:g).test(Ee)?function B(M,Se){const Ee=fe(M.slice(1,-1).split(",").map(xe=>O(xe,Se)).filter(xe=>xe!==P),M),Le=Ee.length;if(!Le)return P;if(1===Le)return Ee[0];const Ne=function(xe,pe){for(let Te=0,de=Ee.length;Te<de;Te++)if(Ee[Te](xe,pe))return M;return null},oe=Ee.find(xe=>!!xe.allBasenames);oe&&(Ne.allBasenames=oe.allBasenames);const we=Ee.reduce((xe,pe)=>pe.allPaths?xe.concat(pe.allPaths):xe,[]);return we.length&&(Ne.allPaths=we),Ne}(Ee,Se):(oe=y.exec(U(Ee,Se)))?z(oe[1].substr(1),Ee,!0):(oe=D.exec(U(Ee,Se)))?z(oe[1],Ee,!1):function $(M){try{const Se=new RegExp(`^${a(M)}$`);return function(Ee){return Se.lastIndex=0,"string"==typeof Ee&&Se.test(Ee)?M:null}}catch{return P}}(Ee),w.set(Le,Ne)),function H(M,Se){if("string"==typeof Se)return M;const Ee=function(Le,Ne){return(0,t.KM)(Le,Se.base,!v.IJ)?M(Le.substr(Se.base.length+1),Ne):null};return Ee.allBasenames=M.allBasenames,Ee.allPaths=M.allPaths,Ee.basenames=M.basenames,Ee.patterns=M.patterns,Ee}(Ne,M)}function U(M,Se){return Se.trimForExclusions&&M.endsWith("/**")?M.substr(0,M.length-2):M}function z(M,Se,Ee){const Le=S.ir===S.KR.sep,Ne=Le?M:M.replace(m,S.ir),oe=S.ir+Ne,we=S.KR.sep+M;let xe;return xe=Ee?function(pe,Te){return"string"!=typeof pe||pe!==Ne&&!pe.endsWith(oe)&&(Le||pe!==M&&!pe.endsWith(we))?null:Se}:function(pe,Te){return"string"!=typeof pe||pe!==Ne&&(Le||pe!==M)?null:Se},xe.allPaths=[(Ee?"*/":"./")+M],xe}function j(M,Se,Ee){return!(!M||"string"!=typeof Se)&&ne(M)(Se,void 0,Ee)}function ne(M,Se={}){if(!M)return I;if("string"==typeof M||function N(M){return!!M&&"string"==typeof M.base&&"string"==typeof M.pattern}(M)){const Ee=O(M,Se);if(Ee===P)return I;const Le=function(Ne,oe){return!!Ee(Ne,oe)};return Ee.allBasenames&&(Le.allBasenames=Ee.allBasenames),Ee.allPaths&&(Le.allPaths=Ee.allPaths),Le}return function V(M,Se){const Ee=fe(Object.getOwnPropertyNames(M).map(xe=>function Z(M,Se,Ee){if(!1===Se)return P;const Le=O(M,Ee);if(Le===P)return P;if("boolean"==typeof Se)return Le;if(Se){const Ne=Se.when;if("string"==typeof Ne){const oe=(we,xe,pe,Te)=>{if(!Te||!Le(we,xe))return null;const ke=Te(Ne.replace("$(basename)",pe));return(0,d.J8)(ke)?ke.then(ze=>ze?M:null):ke?M:null};return oe.requiresSiblings=!0,oe}}return Le}(xe,M[xe],Se)).filter(xe=>xe!==P)),Le=Ee.length;if(!Le)return P;if(!Ee.some(xe=>!!xe.requiresSiblings)){if(1===Le)return Ee[0];const xe=function(de,ke){let ze;for(let $e=0,ce=Ee.length;$e<ce;$e++){const Ue=Ee[$e](de,ke);if("string"==typeof Ue)return Ue;(0,d.J8)(Ue)&&(ze||(ze=[]),ze.push(Ue))}return ze?(()=>C(this,void 0,void 0,function*(){for(const $e of ze){const ce=yield $e;if("string"==typeof ce)return ce}return null}))():null},pe=Ee.find(de=>!!de.allBasenames);pe&&(xe.allBasenames=pe.allBasenames);const Te=Ee.reduce((de,ke)=>ke.allPaths?de.concat(ke.allPaths):de,[]);return Te.length&&(xe.allPaths=Te),xe}const Ne=function(xe,pe,Te){let de,ke;for(let ze=0,$e=Ee.length;ze<$e;ze++){const ce=Ee[ze];ce.requiresSiblings&&Te&&(pe||(pe=(0,S.EZ)(xe)),de||(de=pe.substr(0,pe.length-(0,S.DZ)(xe).length)));const Ue=ce(xe,pe,de,Te);if("string"==typeof Ue)return Ue;(0,d.J8)(Ue)&&(ke||(ke=[]),ke.push(Ue))}return ke?(()=>C(this,void 0,void 0,function*(){for(const ze of ke){const $e=yield ze;if("string"==typeof $e)return $e}return null}))():null},oe=Ee.find(xe=>!!xe.allBasenames);oe&&(Ne.allBasenames=oe.allBasenames);const we=Ee.reduce((xe,pe)=>pe.allPaths?xe.concat(pe.allPaths):xe,[]);return we.length&&(Ne.allPaths=we),Ne}(M,Se)}function fe(M,Se){const Ee=M.filter(xe=>!!xe.basenames);if(Ee.length<2)return M;const Le=Ee.reduce((xe,pe)=>{const Te=pe.basenames;return Te?xe.concat(Te):xe},[]);let Ne;if(Se){Ne=[];for(let xe=0,pe=Le.length;xe<pe;xe++)Ne.push(Se)}else Ne=Ee.reduce((xe,pe)=>{const Te=pe.patterns;return Te?xe.concat(Te):xe},[]);const oe=function(xe,pe){if("string"!=typeof xe)return null;if(!pe){let de;for(de=xe.length;de>0;de--){const ke=xe.charCodeAt(de-1);if(47===ke||92===ke)break}pe=xe.substr(de)}const Te=Le.indexOf(pe);return-1!==Te?Ne[Te]:null};oe.basenames=Le,oe.patterns=Ne,oe.allBasenames=Le;const we=M.filter(xe=>!xe.basenames);return we.push(oe),we}},7626:(Et,X,e)=>{"use strict";e.d(X,{Cv:()=>T,SP:()=>l,vp:()=>t,yP:()=>c});var d=e(73879);function t(n){return l(n,0)}function l(n,a){switch(typeof n){case"object":return null===n?S(349,a):Array.isArray(n)?function C(n,a){return a=S(104579,a),n.reduce((p,u)=>l(u,p),a)}(n,a):function E(n,a){return a=S(181387,a),Object.keys(n).sort().reduce((p,u)=>(p=T(u,p),l(n[u],p)),a)}(n,a);case"string":return T(n,a);case"boolean":return function v(n,a){return S(n?433:863,a)}(n,a);case"number":return S(n,a);case"undefined":return S(937,a);default:return S(617,a)}}function S(n,a){return(a<<5)-a+n|0}function T(n,a){a=S(149417,a);for(let p=0,u=n.length;p<u;p++)a=S(n.charCodeAt(p),a);return a}function L(n,a,p=32){const u=p-a;return(n<<a|(~((1<<u)-1)&n)>>>u)>>>0}function _(n,a=0,p=n.byteLength,u=0){for(let g=0;g<p;g++)n[a+g]=u}function m(n,a=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(p=>p.toString(16).padStart(2,"0")).join(""):function s(n,a,p="0"){for(;n.length<a;)n=p+n;return n}((n>>>0).toString(16),a/4)}class c{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(a){const p=a.length;if(0===p)return;const u=this._buff;let y,D,g=this._buffLen,b=this._leftoverHighSurrogate;for(0!==b?(y=b,D=-1,b=0):(y=a.charCodeAt(0),D=0);;){let w=y;if(d.ZG(y)){if(!(D+1<p)){b=y;break}{const I=a.charCodeAt(D+1);d.YK(I)?(D++,w=d.rL(y,I)):w=65533}}else d.YK(y)&&(w=65533);if(g=this._push(u,g,w),D++,!(D<p))break;y=a.charCodeAt(D)}this._buffLen=g,this._leftoverHighSurrogate=b}_push(a,p,u){return u<128?a[p++]=u:u<2048?(a[p++]=192|(1984&u)>>>6,a[p++]=128|(63&u)>>>0):u<65536?(a[p++]=224|(61440&u)>>>12,a[p++]=128|(4032&u)>>>6,a[p++]=128|(63&u)>>>0):(a[p++]=240|(1835008&u)>>>18,a[p++]=128|(258048&u)>>>12,a[p++]=128|(4032&u)>>>6,a[p++]=128|(63&u)>>>0),p>=64&&(this._step(),p-=64,this._totalLen+=64,a[0]=a[64],a[1]=a[65],a[2]=a[66]),p}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),m(this._h0)+m(this._h1)+m(this._h2)+m(this._h3)+m(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,_(this._buff,this._buffLen),this._buffLen>56&&(this._step(),_(this._buff));const a=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(a/4294967296),!1),this._buffDV.setUint32(60,a%4294967296,!1),this._step()}_step(){const a=c._bigBlock32,p=this._buffDV;for(let O=0;O<64;O+=4)a.setUint32(O,p.getUint32(O,!1),!1);for(let O=64;O<320;O+=4)a.setUint32(O,L(a.getUint32(O-12,!1)^a.getUint32(O-32,!1)^a.getUint32(O-56,!1)^a.getUint32(O-64,!1),1),!1);let w,I,P,u=this._h0,g=this._h1,b=this._h2,y=this._h3,D=this._h4;for(let O=0;O<80;O++)O<20?(w=g&b|~g&y,I=1518500249):O<40?(w=g^b^y,I=1859775393):O<60?(w=g&b|g&y|b&y,I=2400959708):(w=g^b^y,I=3395469782),P=L(u,5)+w+D+I+a.getUint32(4*O,!1)&4294967295,D=y,y=b,b=L(g,30),g=u,u=P;this._h0=this._h0+u&4294967295,this._h1=this._h1+g&4294967295,this._h2=this._h2+b&4294967295,this._h3=this._h3+y&4294967295,this._h4=this._h4+D&4294967295}}c._bigBlock32=new DataView(new ArrayBuffer(320))},48701:(Et,X,e)=>{"use strict";e.d(X,{CP:()=>v,Fr:()=>T,W5:()=>S,d9:()=>E,oR:()=>L,v1:()=>_});var d=e(4125),t=e(59882),l=e(73879);class S{constructor(m="",c=!1){var n,a,p;if(this.value=m,"string"!=typeof this.value)throw(0,d.b1)("value");"boolean"==typeof c?(this.isTrusted=c,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(n=c.isTrusted)&&void 0!==n?n:void 0,this.supportThemeIcons=null!==(a=c.supportThemeIcons)&&void 0!==a&&a,this.supportHtml=null!==(p=c.supportHtml)&&void 0!==p&&p)}appendText(m,c=0){return this.value+=function C(s){return s.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}(this.supportThemeIcons?(0,t.Qo)(m):m).replace(/([ \t]+)/g,(n,a)=>"&nbsp;".repeat(a.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===c?"\\\n":"\n\n"),this}appendMarkdown(m){return this.value+=m,this}appendCodeblock(m,c){return this.value+="\n```",this.value+=m,this.value+="\n",this.value+=c,this.value+="\n```\n",this}appendLink(m,c,n){return this.value+="[",this.value+=this._escape(c,"]"),this.value+="](",this.value+=this._escape(String(m),")"),n&&(this.value+=` "${this._escape(this._escape(n,'"'),")")}"`),this.value+=")",this}_escape(m,c){const n=new RegExp((0,l.ec)(c),"g");return m.replace(n,(a,p)=>"\\"!==m.charAt(p-1)?`\\${a}`:a)}}function v(s){return T(s)?!s.value:!Array.isArray(s)||s.every(v)}function T(s){return s instanceof S||!(!s||"object"!=typeof s)&&!("string"!=typeof s.value||"boolean"!=typeof s.isTrusted&&void 0!==s.isTrusted||"boolean"!=typeof s.supportThemeIcons&&void 0!==s.supportThemeIcons)}function E(s){return s.replace(/"/g,"&quot;")}function L(s){return s&&s.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function _(s){const m=[],c=s.split("|").map(a=>a.trim());s=c[0];const n=c[1];if(n){const a=/height=(\d+)/.exec(n),p=/width=(\d+)/.exec(n),u=a?a[1]:"",g=p?p[1]:"",b=isFinite(parseInt(g)),y=isFinite(parseInt(u));b&&m.push(`width="${g}"`),y&&m.push(`height="${u}"`)}return{href:s,dimensions:m}}},59882:(Et,X,e)=>{"use strict";e.d(X,{Gt:()=>a,Ho:()=>c,Qo:()=>E,f$:()=>_,x$:()=>m});var d=e(58783),t=e(25715),l=e(73879);const S="$(",v=new RegExp(`\\$\\(${d.dT.iconNameExpression}(?:${d.dT.iconModifierExpression})?\\)`,"g"),T=new RegExp(d.dT.iconNameCharacter),C=new RegExp(`(\\\\)?${v.source}`,"g");function E(p){return p.replace(C,(u,g)=>g?u:`\\${u}`)}const L=new RegExp(`\\\\${v.source}`,"g");function _(p){return p.replace(L,u=>`\\${u}`)}const s=new RegExp(`(\\s)?(\\\\)?${v.source}(\\s)?`,"g");function m(p){return-1===p.indexOf(S)?p:p.replace(s,(u,g,b,y)=>b?u:g||y||"")}function c(p){const u=p.indexOf(S);return-1===u?{text:p}:function n(p,u){const g=[];let b="";function y(K){if(K){b+=K;for(const F of K)g.push(I)}}let P,O,D=-1,w="",I=0,H=u;const U=p.length;for(y(p.substr(0,u));H<U;)P=p[H],O=p[H+1],P===S[0]&&O===S[1]?(D=H,y(w),w=S,H++):")"===P&&-1!==D?(I+=H-D+1,D=-1,w=""):-1!==D?T.test(P)?w+=P:(y(w),D=-1,w=""):y(P),H++;return y(w),{text:b,iconOffsets:g}}(p,u)}function a(p,u,g=!1){const{text:b,iconOffsets:y}=u;if(!y||0===y.length)return(0,t.Oh)(p,b,g);const D=(0,l.j3)(b," "),w=b.length-D.length,I=(0,t.Oh)(p,D,g);if(I)for(const P of I){const O=y[P.start+w]+w;P.start+=O,P.end+=O}return I}},84575:(Et,X,e)=>{"use strict";e.d(X,{R:()=>d,a:()=>t});class d{constructor(S){this._prefix=S,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const t=new d("id#")},1999:(Et,X,e)=>{"use strict";var d;e.d(X,{$:()=>d}),function(t){t.is=function l(w){return w&&"object"==typeof w&&"function"==typeof w[Symbol.iterator]};const S=Object.freeze([]);function b(w,I=Number.POSITIVE_INFINITY){const P=[];if(0===I)return[P,w];const O=w[Symbol.iterator]();for(let H=0;H<I;H++){const U=O.next();if(U.done)return[P,t.empty()];P.push(U.value)}return[P,{[Symbol.iterator]:()=>O}]}t.empty=function v(){return S},t.single=function*T(w){yield w},t.from=function C(w){return w||S},t.isEmpty=function E(w){return!w||!0===w[Symbol.iterator]().next().done},t.first=function L(w){return w[Symbol.iterator]().next().value},t.some=function _(w,I){for(const P of w)if(I(P))return!0;return!1},t.find=function s(w,I){for(const P of w)if(I(P))return P},t.filter=function*m(w,I){for(const P of w)I(P)&&(yield P)},t.map=function*c(w,I){let P=0;for(const O of w)yield I(O,P++)},t.concat=function*n(...w){for(const I of w)for(const P of I)yield P},t.concatNested=function*a(w){for(const I of w)for(const P of I)yield P},t.reduce=function p(w,I,P){let O=P;for(const H of w)O=I(O,H);return O},t.forEach=function u(w,I){let P=0;for(const O of w)I(O,P++)},t.slice=function*g(w,I,P=w.length){for(I<0&&(I+=w.length),P<0?P+=w.length:P>w.length&&(P=w.length);I<P;I++)yield w[I]},t.consume=b,t.collect=function y(w){return b(w)[0]},t.equals=function D(w,I,P=((O,H)=>O===H)){const O=w[Symbol.iterator](),H=I[Symbol.iterator]();for(;;){const U=O.next(),K=H.next();if(U.done!==K.done)return!1;if(U.done)return!0;if(!P(U.value,K.value))return!1}}}(d||(d={}))},53993:(Et,X,e)=>{"use strict";e.d(X,{H_:()=>v,Vd:()=>_,gx:()=>c,kL:()=>m});class d{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(a,p){this._keyCodeToStr[a]=p,this._strToKeyCode[p.toLowerCase()]=a}keyCodeToStr(a){return this._keyCodeToStr[a]}strToKeyCode(a){return this._strToKeyCode[a.toLowerCase()]||0}}const t=new d,l=new d,S=new d,v=new Array(230),T={},C=[],E=Object.create(null),L=Object.create(null),_=[],s=[];for(let n=0;n<=193;n++)_[n]=-1;for(let n=0;n<=127;n++)s[n]=-1;var m,n;function c(n,a){return(n|(65535&a)<<16>>>0)>>>0}!function(){const n="",a=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],p=[],u=[];for(const g of a){const[b,y,D,w,I,P,O,H,U,K]=g;if(u[D]||(u[D]=!0,C[D]=w,E[w]=D,L[w.toLowerCase()]=D,y&&(_[D]=I,0!==I&&3!==I&&5!==I&&4!==I&&6!==I&&57!==I&&(s[I]=D))),!p[I]){if(p[I]=!0,!P)throw new Error(`String representation missing for key code ${I} around scan code ${w}`);t.define(I,P),l.define(I,U||P),S.define(I,K||U||P)}O&&(v[O]=I),H&&(T[H]=I)}s[3]=46}(),(n=m||(m={})).toString=function a(D){return t.keyCodeToStr(D)},n.fromString=function p(D){return t.strToKeyCode(D)},n.toUserSettingsUS=function u(D){return l.keyCodeToStr(D)},n.toUserSettingsGeneral=function g(D){return S.keyCodeToStr(D)},n.fromUserSettings=function b(D){return l.strToKeyCode(D)||S.strToKeyCode(D)},n.toElectronAccelerator=function y(D){if(D>=93&&D<=108)return null;switch(D){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return t.keyCodeToStr(D)}},11719:(Et,X,e)=>{"use strict";e.d(X,{X4:()=>S,jC:()=>v,xo:()=>l});var d=e(55197);class t{constructor(L,_,s=_){this.modifierLabels=[null],this.modifierLabels[2]=L,this.modifierLabels[1]=_,this.modifierLabels[3]=s}toLabel(L,_,s){if(0===_.length)return null;const m=[];for(let c=0,n=_.length;c<n;c++){const a=_[c],p=s(a);if(null===p)return null;m[c]=C(a,p,this.modifierLabels[L])}return m.join(" ")}}const l=new t({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:d.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:d.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:d.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:d.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:d.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:d.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),S=new t({ctrlKey:d.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:d.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:d.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:d.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:d.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:d.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:d.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:d.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),v=new t({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function C(E,L,_){if(null===L)return"";const s=[];return E.ctrlKey&&s.push(_.ctrlKey),E.shiftKey&&s.push(_.shiftKey),E.altKey&&s.push(_.altKey),E.metaKey&&s.push(_.metaKey),""!==L&&s.push(L),s.join(_.separator)}new t({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"})},37451:(Et,X,e)=>{"use strict";e.d(X,{BQ:()=>C,QC:()=>S,X_:()=>v,f1:()=>E,gm:()=>t});var d=e(4125);function t(L,_){if(0===L)return null;const s=(65535&L)>>>0,m=(4294901760&L)>>>16;return new v(0!==m?[l(s,_),l(m,_)]:[l(s,_)])}function l(L,_){const s=!!(2048&L),m=!!(256&L);return new S(2===_?m:s,!!(1024&L),!!(512&L),2===_?s:m,255&L)}class S{constructor(_,s,m,c,n){this.ctrlKey=_,this.shiftKey=s,this.altKey=m,this.metaKey=c,this.keyCode=n}equals(_){return this.ctrlKey===_.ctrlKey&&this.shiftKey===_.shiftKey&&this.altKey===_.altKey&&this.metaKey===_.metaKey&&this.keyCode===_.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new v([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class v{constructor(_){if(0===_.length)throw(0,d.b1)("parts");this.parts=_}}class C{constructor(_,s,m,c,n,a){this.ctrlKey=_,this.shiftKey=s,this.altKey=m,this.metaKey=c,this.keyLabel=n,this.keyAriaLabel=a}}class E{}},27386:(Et,X,e)=>{"use strict";e.d(X,{o:()=>d});class d{constructor(l){this.executor=l,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(l){this._error=l}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},80142:(Et,X,e)=>{"use strict";e.d(X,{B9:()=>c,F8:()=>n,JT:()=>u,Jz:()=>D,L6:()=>b,OF:()=>a,SL:()=>p,Wf:()=>m,XK:()=>g,dk:()=>_,dt:()=>y});var d=e(92192),t=e(1999);let S=null;function T(w){return S?.trackDisposable(w),w}function C(w){S?.markAsDisposed(w)}function E(w,I){S?.setParent(w,I)}function _(w){return S?.markAsSingleton(w),w}class s extends Error{constructor(I){super(`Encountered errors while disposing of store. Errors: [${I.join(", ")}]`),this.errors=I}}function m(w){return"function"==typeof w.dispose&&0===w.dispose.length}function c(w){if(t.$.is(w)){const I=[];for(const P of w)if(P)try{P.dispose()}catch(O){I.push(O)}if(1===I.length)throw I[0];if(I.length>1)throw new s(I);return Array.isArray(w)?[]:w}if(w)return w.dispose(),w}function n(...w){const I=a(()=>c(w));return function L(w,I){S}(),I}function a(w){const I=T({dispose:(0,d.I)(()=>{C(I),w()})});return I}let p=(()=>{class w{constructor(){this._toDispose=new Set,this._isDisposed=!1,T(this)}dispose(){this._isDisposed||(C(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{c(this._toDispose.values())}finally{this._toDispose.clear()}}add(P){if(!P)return P;if(P===this)throw new Error("Cannot register a disposable on itself!");return E(P,this),this._isDisposed?w.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(P),P}}return w.DISABLE_DISPOSED_WARNING=!1,w})();class u{constructor(){this._store=new p,T(this),E(this._store,this)}dispose(){C(this),this._store.dispose()}_register(I){if(I===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(I)}}u.None=Object.freeze({dispose(){}});class g{constructor(){this._isDisposed=!1,T(this)}get value(){return this._isDisposed?void 0:this._value}set value(I){var P;this._isDisposed||I===this._value||(null===(P=this._value)||void 0===P||P.dispose(),I&&E(I,this),this._value=I)}clear(){this.value=void 0}dispose(){var I;this._isDisposed=!0,C(this),null===(I=this._value)||void 0===I||I.dispose(),this._value=void 0}clearAndLeak(){const I=this._value;return this._value=void 0,I&&E(I,null),I}}class b{constructor(I){this._disposable=I,this._counter=1}acquire(){return this._counter++,this}release(){return 0==--this._counter&&this._disposable.dispose(),this}}class y{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,T(this)}set(I){let P=I;return this.unset=()=>P=void 0,this.isset=()=>void 0!==P,this.dispose=()=>{P&&(P(),P=void 0,C(this))},this}}class D{constructor(I){this.object=I}dispose(){}}},85739:(Et,X,e)=>{"use strict";e.d(X,{S:()=>t});class d{constructor(S){this.element=S,this.next=d.Undefined,this.prev=d.Undefined}}d.Undefined=new d(void 0);class t{constructor(){this._first=d.Undefined,this._last=d.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===d.Undefined}clear(){let S=this._first;for(;S!==d.Undefined;){const v=S.next;S.prev=d.Undefined,S.next=d.Undefined,S=v}this._first=d.Undefined,this._last=d.Undefined,this._size=0}unshift(S){return this._insert(S,!1)}push(S){return this._insert(S,!0)}_insert(S,v){const T=new d(S);if(this._first===d.Undefined)this._first=T,this._last=T;else if(v){const E=this._last;this._last=T,T.prev=E,E.next=T}else{const E=this._first;this._first=T,T.next=E,E.prev=T}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(T))}}shift(){if(this._first!==d.Undefined){const S=this._first.element;return this._remove(this._first),S}}pop(){if(this._last!==d.Undefined){const S=this._last.element;return this._remove(this._last),S}}_remove(S){if(S.prev!==d.Undefined&&S.next!==d.Undefined){const v=S.prev;v.next=S.next,S.next.prev=v}else S.prev===d.Undefined&&S.next===d.Undefined?(this._first=d.Undefined,this._last=d.Undefined):S.next===d.Undefined?(this._last=this._last.prev,this._last.next=d.Undefined):S.prev===d.Undefined&&(this._first=this._first.next,this._first.prev=d.Undefined);this._size-=1}*[Symbol.iterator](){let S=this._first;for(;S!==d.Undefined;)yield S.element,S=S.next}}},5067:(Et,X,e)=>{"use strict";e.d(X,{Id:()=>L,Y9:()=>s,z6:()=>c});var t,l,d=e(73879);class S{constructor(){this._value="",this._pos=0}reset(a){return this._value=a,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(a){return a.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class v{constructor(a=!0){this._caseSensitive=a}reset(a){return this._value=a,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let a=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!a)break;this._from++}else a=!1;return this}cmp(a){return this._caseSensitive?(0,d.TT)(a,this._value,0,a.length,this._from,this._to):(0,d.j_)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class T{constructor(a=!0,p=!0){this._splitOnBackslash=a,this._caseSensitive=p}reset(a){this._from=0,this._to=0,this._value=a,this._valueLen=a.length;for(let p=a.length-1;p>=0;p--,this._valueLen--){const u=this._value.charCodeAt(p);if(!(47===u||this._splitOnBackslash&&92===u))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let a=!0;for(;this._to<this._valueLen;this._to++){const p=this._value.charCodeAt(this._to);if(47===p||this._splitOnBackslash&&92===p){if(!a)break;this._from++}else a=!1}return this}cmp(a){return this._caseSensitive?(0,d.TT)(a,this._value,0,a.length,this._from,this._to):(0,d.j_)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class C{constructor(a,p){this._ignorePathCasing=a,this._ignoreQueryAndFragment=p,this._states=[],this._stateIdx=0}reset(a){return this._value=a,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new T(!1,!this._ignorePathCasing(a)),this._pathIterator.reset(a.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(a)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(a){if(1===this._states[this._stateIdx])return(0,d.zY)(a,this._value.scheme);if(2===this._states[this._stateIdx])return(0,d.zY)(a,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(a);if(4===this._states[this._stateIdx])return(0,d.qu)(a,this._value.query);if(5===this._states[this._stateIdx])return(0,d.qu)(a,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class E{constructor(){this.height=1}rotateLeft(){const a=this.right;return this.right=a.left,a.left=this,this.updateHeight(),a.updateHeight(),a}rotateRight(){const a=this.left;return this.left=a.right,a.right=this,this.updateHeight(),a.updateHeight(),a}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var a,p;return null!==(p=null===(a=this.left)||void 0===a?void 0:a.height)&&void 0!==p?p:0}get heightRight(){var a,p;return null!==(p=null===(a=this.right)||void 0===a?void 0:a.height)&&void 0!==p?p:0}}class L{constructor(a){this._iter=a}static forUris(a=(()=>!1),p=(()=>!1)){return new L(new C(a,p))}static forStrings(){return new L(new S)}static forConfigKeys(){return new L(new v)}clear(){this._root=void 0}set(a,p){const u=this._iter.reset(a);let g;this._root||(this._root=new E,this._root.segment=u.value());const b=[];for(g=this._root;;){const D=u.cmp(g.segment);if(D>0)g.left||(g.left=new E,g.left.segment=u.value()),b.push([-1,g]),g=g.left;else if(D<0)g.right||(g.right=new E,g.right.segment=u.value()),b.push([1,g]),g=g.right;else{if(!u.hasNext())break;u.next(),g.mid||(g.mid=new E,g.mid.segment=u.value()),b.push([0,g]),g=g.mid}}const y=g.value;g.value=p,g.key=a;for(let D=b.length-1;D>=0;D--){const w=b[D][1];w.updateHeight();const I=w.balanceFactor();if(I<-1||I>1){const P=b[D][0],O=b[D+1][0];if(1===P&&1===O)b[D][1]=w.rotateLeft();else if(-1===P&&-1===O)b[D][1]=w.rotateRight();else if(1===P&&-1===O)w.right=b[D+1][1]=b[D+1][1].rotateRight(),b[D][1]=w.rotateLeft();else{if(-1!==P||1!==O)throw new Error;w.left=b[D+1][1]=b[D+1][1].rotateLeft(),b[D][1]=w.rotateRight()}if(D>0)switch(b[D-1][0]){case-1:b[D-1][1].left=b[D][1];break;case 1:b[D-1][1].right=b[D][1];break;case 0:b[D-1][1].mid=b[D][1]}else this._root=b[0][1]}}return y}get(a){var p;return null===(p=this._getNode(a))||void 0===p?void 0:p.value}_getNode(a){const p=this._iter.reset(a);let u=this._root;for(;u;){const g=p.cmp(u.segment);if(g>0)u=u.left;else if(g<0)u=u.right;else{if(!p.hasNext())break;p.next(),u=u.mid}}return u}has(a){const p=this._getNode(a);return!(void 0===p?.value&&void 0===p?.mid)}delete(a){return this._delete(a,!1)}deleteSuperstr(a){return this._delete(a,!0)}_delete(a,p){var u;const g=this._iter.reset(a),b=[];let y=this._root;for(;y;){const D=g.cmp(y.segment);if(D>0)b.push([-1,y]),y=y.left;else if(D<0)b.push([1,y]),y=y.right;else{if(!g.hasNext())break;g.next(),b.push([0,y]),y=y.mid}}if(y){if(p?(y.left=void 0,y.mid=void 0,y.right=void 0,y.height=1):(y.key=void 0,y.value=void 0),!y.mid&&!y.value)if(y.left&&y.right){const D=this._min(y.right),{key:w,value:I,segment:P}=D;this._delete(D.key,!1),y.key=w,y.value=I,y.segment=P}else{const D=null!==(u=y.left)&&void 0!==u?u:y.right;if(b.length>0){const[w,I]=b[b.length-1];switch(w){case-1:I.left=D;break;case 0:I.mid=D;break;case 1:I.right=D}}else this._root=D}for(let D=b.length-1;D>=0;D--){const w=b[D][1];w.updateHeight();const I=w.balanceFactor();if(I>1?(w.right.balanceFactor()>=0||(w.right=w.right.rotateRight()),b[D][1]=w.rotateLeft()):I<-1&&(w.left.balanceFactor()<=0||(w.left=w.left.rotateLeft()),b[D][1]=w.rotateRight()),D>0)switch(b[D-1][0]){case-1:b[D-1][1].left=b[D][1];break;case 1:b[D-1][1].right=b[D][1];break;case 0:b[D-1][1].mid=b[D][1]}else this._root=b[0][1]}}}_min(a){for(;a.left;)a=a.left;return a}findSubstr(a){const p=this._iter.reset(a);let g,u=this._root;for(;u;){const b=p.cmp(u.segment);if(b>0)u=u.left;else if(b<0)u=u.right;else{if(!p.hasNext())break;p.next(),g=u.value||g,u=u.mid}}return u&&u.value||g}findSuperstr(a){const p=this._iter.reset(a);let u=this._root;for(;u;){const g=p.cmp(u.segment);if(g>0)u=u.left;else if(g<0)u=u.right;else{if(!p.hasNext())return u.mid?this._entries(u.mid):void 0;p.next(),u=u.mid}}}forEach(a){for(const[p,u]of this)a(u,p)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(a){const p=[];return this._dfsEntries(a,p),p[Symbol.iterator]()}_dfsEntries(a,p){!a||(a.left&&this._dfsEntries(a.left,p),a.value&&p.push([a.key,a.value]),a.mid&&this._dfsEntries(a.mid,p),a.right&&this._dfsEntries(a.right,p))}}class _{constructor(a,p){this.uri=a,this.value=p}}let s=(()=>{class n{constructor(p,u){this[t]="ResourceMap",p instanceof n?(this.map=new Map(p.map),this.toKey=u??n.defaultToKey):(this.map=new Map,this.toKey=p??n.defaultToKey)}set(p,u){return this.map.set(this.toKey(p),new _(p,u)),this}get(p){var u;return null===(u=this.map.get(this.toKey(p)))||void 0===u?void 0:u.value}has(p){return this.map.has(this.toKey(p))}get size(){return this.map.size}clear(){this.map.clear()}delete(p){return this.map.delete(this.toKey(p))}forEach(p,u){typeof u<"u"&&(p=p.bind(u));for(const[g,b]of this.map)p(b.value,b.uri,this)}*values(){for(const p of this.map.values())yield p.value}*keys(){for(const p of this.map.values())yield p.uri}*entries(){for(const p of this.map.values())yield[p.uri,p.value]}*[(t=Symbol.toStringTag,Symbol.iterator)](){for(const[,p]of this.map)yield[p.uri,p.value]}}return n.defaultToKey=a=>a.toString(),n})();class m{constructor(){this[l]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var a;return null===(a=this._head)||void 0===a?void 0:a.value}get last(){var a;return null===(a=this._tail)||void 0===a?void 0:a.value}has(a){return this._map.has(a)}get(a,p=0){const u=this._map.get(a);if(u)return 0!==p&&this.touch(u,p),u.value}set(a,p,u=0){let g=this._map.get(a);if(g)g.value=p,0!==u&&this.touch(g,u);else{switch(g={key:a,value:p,next:void 0,previous:void 0},u){case 0:case 2:default:this.addItemLast(g);break;case 1:this.addItemFirst(g)}this._map.set(a,g),this._size++}return this}delete(a){return!!this.remove(a)}remove(a){const p=this._map.get(a);if(p)return this._map.delete(a),this.removeItem(p),this._size--,p.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const a=this._head;return this._map.delete(a.key),this.removeItem(a),this._size--,a.value}forEach(a,p){const u=this._state;let g=this._head;for(;g;){if(p?a.bind(p)(g.value,g.key,this):a(g.value,g.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");g=g.next}}keys(){const a=this,p=this._state;let u=this._head;const g={[Symbol.iterator]:()=>g,next(){if(a._state!==p)throw new Error("LinkedMap got modified during iteration.");if(u){const b={value:u.key,done:!1};return u=u.next,b}return{value:void 0,done:!0}}};return g}values(){const a=this,p=this._state;let u=this._head;const g={[Symbol.iterator]:()=>g,next(){if(a._state!==p)throw new Error("LinkedMap got modified during iteration.");if(u){const b={value:u.value,done:!1};return u=u.next,b}return{value:void 0,done:!0}}};return g}entries(){const a=this,p=this._state;let u=this._head;const g={[Symbol.iterator]:()=>g,next(){if(a._state!==p)throw new Error("LinkedMap got modified during iteration.");if(u){const b={value:[u.key,u.value],done:!1};return u=u.next,b}return{value:void 0,done:!0}}};return g}[(l=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size)return;if(0===a)return void this.clear();let p=this._head,u=this.size;for(;p&&u>a;)this._map.delete(p.key),p=p.next,u--;this._head=p,this._size=u,p&&(p.previous=void 0),this._state++}addItemFirst(a){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");a.next=this._head,this._head.previous=a}else this._tail=a;this._head=a,this._state++}addItemLast(a){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");a.previous=this._tail,this._tail.next=a}else this._head=a;this._tail=a,this._state++}removeItem(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{const p=a.next,u=a.previous;if(!p||!u)throw new Error("Invalid list");p.previous=u,u.next=p}a.next=void 0,a.previous=void 0,this._state++}touch(a,p){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===p||2===p)if(1===p){if(a===this._head)return;const u=a.next,g=a.previous;a===this._tail?(g.next=void 0,this._tail=g):(u.previous=g,g.next=u),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a,this._state++}else if(2===p){if(a===this._tail)return;const u=a.next,g=a.previous;a===this._head?(u.previous=void 0,this._head=u):(u.previous=g,g.next=u),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a,this._state++}}toJSON(){const a=[];return this.forEach((p,u)=>{a.push([u,p])}),a}fromJSON(a){this.clear();for(const[p,u]of a)this.set(p,u)}}class c extends m{constructor(a,p=1){super(),this._limit=a,this._ratio=Math.min(Math.max(0,p),1)}get limit(){return this._limit}set limit(a){this._limit=a,this.checkTrim()}get(a,p=2){return super.get(a,p)}peek(a){return super.get(a,0)}set(a,p){return super.set(a,p,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},26662:(Et,X,e)=>{"use strict";e.d(X,{T:()=>t});let d={};!function(){function l(S,v){v(d)}var S,v;l.amd=!0,S=this,v=function(S){function v(ae,_e){for(var he=0;he<_e.length;he++){var le=_e[he];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ae,le.key,le)}}function E(ae,_e){(null==_e||_e>ae.length)&&(_e=ae.length);for(var he=0,le=new Array(_e);he<_e;he++)le[he]=ae[he];return le}function L(ae,_e){var he=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(he)return(he=he.call(ae)).next.bind(he);if(Array.isArray(ae)||(he=function C(ae,_e){if(ae){if("string"==typeof ae)return E(ae,_e);var he=Object.prototype.toString.call(ae).slice(8,-1);if("Object"===he&&ae.constructor&&(he=ae.constructor.name),"Map"===he||"Set"===he)return Array.from(ae);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return E(ae,_e)}}(ae))||_e&&ae&&"number"==typeof ae.length){he&&(ae=he);var le=0;return function(){return le>=ae.length?{done:!0}:{done:!1,value:ae[le++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}S.defaults={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var m=/[&<>"']/,c=/[&<>"']/g,n=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(_e){return p[_e]};function g(ae,_e){if(_e){if(m.test(ae))return ae.replace(c,u)}else if(n.test(ae))return ae.replace(a,u);return ae}var b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function y(ae){return ae.replace(b,function(_e,he){return"colon"===(he=he.toLowerCase())?":":"#"===he.charAt(0)?"x"===he.charAt(1)?String.fromCharCode(parseInt(he.substring(2),16)):String.fromCharCode(+he.substring(1)):""})}var D=/(^|[^\[])\^/g;function w(ae,_e){ae="string"==typeof ae?ae:ae.source,_e=_e||"";var he={replace:function(Q,ve){return ve=(ve=ve.source||ve).replace(D,"$1"),ae=ae.replace(Q,ve),he},getRegex:function(){return new RegExp(ae,_e)}};return he}var I=/[^\w:]/g,P=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function O(ae,_e,he){if(ae){var le;try{le=decodeURIComponent(y(he)).replace(I,"").toLowerCase()}catch{return null}if(0===le.indexOf("javascript:")||0===le.indexOf("vbscript:")||0===le.indexOf("data:"))return null}_e&&!P.test(he)&&(he=function B(ae,_e){H[" "+ae]||(H[" "+ae]=U.test(ae)?ae+"/":ne(ae,"/",!0));var he=-1===(ae=H[" "+ae]).indexOf(":");return"//"===_e.substring(0,2)?he?_e:ae.replace(K,"$1")+_e:"/"===_e.charAt(0)?he?_e:ae.replace(F,"$1")+_e:ae+_e}(_e,he));try{he=encodeURI(he).replace(/%25/g,"%")}catch{return null}return he}var H={},U=/^[^:]+:\/*[^/]*$/,K=/^([^:]+:)[\s\S]*$/,F=/^([^:]+:\/*[^/]*)[\s\S]*$/,z={exec:function(){}};function $(ae){for(var he,le,_e=1;_e<arguments.length;_e++)for(le in he=arguments[_e])Object.prototype.hasOwnProperty.call(he,le)&&(ae[le]=he[le]);return ae}function j(ae,_e){var le=ae.replace(/\|/g,function(ve,Ae,dt){for(var st=!1,et=Ae;--et>=0&&"\\"===dt[et];)st=!st;return st?"|":" |"}).split(/ \|/),Q=0;if(le[0].trim()||le.shift(),le.length>0&&!le[le.length-1].trim()&&le.pop(),le.length>_e)le.splice(_e);else for(;le.length<_e;)le.push("");for(;Q<le.length;Q++)le[Q]=le[Q].trim().replace(/\\\|/g,"|");return le}function ne(ae,_e,he){var le=ae.length;if(0===le)return"";for(var Q=0;Q<le;){var ve=ae.charAt(le-Q-1);if(ve!==_e||he){if(ve===_e||!he)break;Q++}else Q++}return ae.slice(0,le-Q)}function V(ae){ae&&ae.sanitize&&!ae.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Z(ae,_e){if(_e<1)return"";for(var he="";_e>1;)1&_e&&(he+=ae),_e>>=1,ae+=ae;return he+ae}function fe(ae,_e,he,le){var Q=_e.href,ve=_e.title?g(_e.title):null,Ae=ae[1].replace(/\\([\[\]])/g,"$1");if("!"!==ae[0].charAt(0)){le.state.inLink=!0;var dt={type:"link",raw:he,href:Q,title:ve,text:Ae,tokens:le.inlineTokens(Ae,[])};return le.state.inLink=!1,dt}return{type:"image",raw:he,href:Q,title:ve,text:g(Ae)}}var Se=function(){function ae(he){this.options=he||S.defaults}var _e=ae.prototype;return _e.space=function(le){var Q=this.rules.block.newline.exec(le);if(Q&&Q[0].length>0)return{type:"space",raw:Q[0]}},_e.code=function(le){var Q=this.rules.block.code.exec(le);if(Q){var ve=Q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Q[0],codeBlockStyle:"indented",text:this.options.pedantic?ve:ne(ve,"\n")}}},_e.fences=function(le){var Q=this.rules.block.fences.exec(le);if(Q){var ve=Q[0],Ae=function M(ae,_e){var he=ae.match(/^(\s+)(?:```)/);if(null===he)return _e;var le=he[1];return _e.split("\n").map(function(Q){var ve=Q.match(/^\s+/);return null===ve?Q:ve[0].length>=le.length?Q.slice(le.length):Q}).join("\n")}(ve,Q[3]||"");return{type:"code",raw:ve,lang:Q[2]?Q[2].trim():Q[2],text:Ae}}},_e.heading=function(le){var Q=this.rules.block.heading.exec(le);if(Q){var ve=Q[2].trim();if(/#$/.test(ve)){var Ae=ne(ve,"#");(this.options.pedantic||!Ae||/ $/.test(Ae))&&(ve=Ae.trim())}var dt={type:"heading",raw:Q[0],depth:Q[1].length,text:ve,tokens:[]};return this.lexer.inline(dt.text,dt.tokens),dt}},_e.hr=function(le){var Q=this.rules.block.hr.exec(le);if(Q)return{type:"hr",raw:Q[0]}},_e.blockquote=function(le){var Q=this.rules.block.blockquote.exec(le);if(Q){var ve=Q[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Q[0],tokens:this.lexer.blockTokens(ve,[]),text:ve}}},_e.list=function(le){var Q=this.rules.block.list.exec(le);if(Q){var ve,Ae,dt,st,et,Qe,tt,vt,mt,_t,Kt,Bt,Ge=Q[1].trim(),ut=Ge.length>1,Ut={type:"list",raw:"",ordered:ut,start:ut?+Ge.slice(0,-1):"",loose:!1,items:[]};Ge=ut?"\\d{1,9}\\"+Ge.slice(-1):"\\"+Ge,this.options.pedantic&&(Ge=ut?Ge:"[*+-]");for(var hn=new RegExp("^( {0,3}"+Ge+")((?:[\t ][^\\n]*)?(?:\\n|$))");le&&(Bt=!1,(Q=hn.exec(le))&&!this.rules.block.hr.test(le));){if(le=le.substring((ve=Q[0]).length),vt=Q[2].split("\n",1)[0],mt=le.split("\n",1)[0],this.options.pedantic?(st=2,Kt=vt.trimLeft()):(st=Q[2].search(/[^ ]/),Kt=vt.slice(st=st>4?1:st),st+=Q[1].length),Qe=!1,!vt&&/^ *$/.test(mt)&&(ve+=mt+"\n",le=le.substring(mt.length+1),Bt=!0),!Bt)for(var Dn=new RegExp("^ {0,"+Math.min(3,st-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),wt=new RegExp("^ {0,"+Math.min(3,st-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");le&&(vt=_t=le.split("\n",1)[0],this.options.pedantic&&(vt=vt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Dn.test(vt)&&!wt.test(le));){if(vt.search(/[^ ]/)>=st||!vt.trim())Kt+="\n"+vt.slice(st);else{if(Qe)break;Kt+="\n"+vt}!Qe&&!vt.trim()&&(Qe=!0),ve+=_t+"\n",le=le.substring(_t.length+1)}Ut.loose||(tt?Ut.loose=!0:/\n *\n *$/.test(ve)&&(tt=!0)),this.options.gfm&&(Ae=/^\[[ xX]\] /.exec(Kt))&&(dt="[ ] "!==Ae[0],Kt=Kt.replace(/^\[[ xX]\] +/,"")),Ut.items.push({type:"list_item",raw:ve,task:!!Ae,checked:dt,loose:!1,text:Kt}),Ut.raw+=ve}Ut.items[Ut.items.length-1].raw=ve.trimRight(),Ut.items[Ut.items.length-1].text=Kt.trimRight(),Ut.raw=Ut.raw.trimRight();var je=Ut.items.length;for(et=0;et<je;et++){this.lexer.state.top=!1,Ut.items[et].tokens=this.lexer.blockTokens(Ut.items[et].text,[]);var ye=Ut.items[et].tokens.filter(function(ue){return"space"===ue.type}),Me=ye.every(function(ue){for(var ot,qe=0,Fe=L(ue.raw.split(""));!(ot=Fe()).done;)if("\n"===ot.value&&(qe+=1),qe>1)return!0;return!1});!Ut.loose&&ye.length&&Me&&(Ut.loose=!0,Ut.items[et].loose=!0)}return Ut}},_e.html=function(le){var Q=this.rules.block.html.exec(le);if(Q){var ve={type:"html",raw:Q[0],pre:!this.options.sanitizer&&("pre"===Q[1]||"script"===Q[1]||"style"===Q[1]),text:Q[0]};return this.options.sanitize&&(ve.type="paragraph",ve.text=this.options.sanitizer?this.options.sanitizer(Q[0]):g(Q[0]),ve.tokens=[],this.lexer.inline(ve.text,ve.tokens)),ve}},_e.def=function(le){var Q=this.rules.block.def.exec(le);if(Q)return Q[3]&&(Q[3]=Q[3].substring(1,Q[3].length-1)),{type:"def",tag:Q[1].toLowerCase().replace(/\s+/g," "),raw:Q[0],href:Q[2],title:Q[3]}},_e.table=function(le){var Q=this.rules.block.table.exec(le);if(Q){var ve={type:"table",header:j(Q[1]).map(function(tt){return{text:tt}}),align:Q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Q[3]&&Q[3].trim()?Q[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(ve.header.length===ve.align.length){ve.raw=Q[0];var dt,st,et,Qe,Ae=ve.align.length;for(dt=0;dt<Ae;dt++)ve.align[dt]=/^ *-+: *$/.test(ve.align[dt])?"right":/^ *:-+: *$/.test(ve.align[dt])?"center":/^ *:-+ *$/.test(ve.align[dt])?"left":null;for(Ae=ve.rows.length,dt=0;dt<Ae;dt++)ve.rows[dt]=j(ve.rows[dt],ve.header.length).map(function(tt){return{text:tt}});for(Ae=ve.header.length,st=0;st<Ae;st++)ve.header[st].tokens=[],this.lexer.inline(ve.header[st].text,ve.header[st].tokens);for(Ae=ve.rows.length,st=0;st<Ae;st++)for(Qe=ve.rows[st],et=0;et<Qe.length;et++)Qe[et].tokens=[],this.lexer.inline(Qe[et].text,Qe[et].tokens);return ve}}},_e.lheading=function(le){var Q=this.rules.block.lheading.exec(le);if(Q){var ve={type:"heading",raw:Q[0],depth:"="===Q[2].charAt(0)?1:2,text:Q[1],tokens:[]};return this.lexer.inline(ve.text,ve.tokens),ve}},_e.paragraph=function(le){var Q=this.rules.block.paragraph.exec(le);if(Q){var ve={type:"paragraph",raw:Q[0],text:"\n"===Q[1].charAt(Q[1].length-1)?Q[1].slice(0,-1):Q[1],tokens:[]};return this.lexer.inline(ve.text,ve.tokens),ve}},_e.text=function(le){var Q=this.rules.block.text.exec(le);if(Q){var ve={type:"text",raw:Q[0],text:Q[0],tokens:[]};return this.lexer.inline(ve.text,ve.tokens),ve}},_e.escape=function(le){var Q=this.rules.inline.escape.exec(le);if(Q)return{type:"escape",raw:Q[0],text:g(Q[1])}},_e.tag=function(le){var Q=this.rules.inline.tag.exec(le);if(Q)return!this.lexer.state.inLink&&/^<a /i.test(Q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Q[0]):g(Q[0]):Q[0]}},_e.link=function(le){var Q=this.rules.inline.link.exec(le);if(Q){var ve=Q[2].trim();if(!this.options.pedantic&&/^</.test(ve)){if(!/>$/.test(ve))return;var Ae=ne(ve.slice(0,-1),"\\");if((ve.length-Ae.length)%2==0)return}else{var dt=function N(ae,_e){if(-1===ae.indexOf(_e[1]))return-1;for(var he=ae.length,le=0,Q=0;Q<he;Q++)if("\\"===ae[Q])Q++;else if(ae[Q]===_e[0])le++;else if(ae[Q]===_e[1]&&--le<0)return Q;return-1}(Q[2],"()");if(dt>-1){var et=(0===Q[0].indexOf("!")?5:4)+Q[1].length+dt;Q[2]=Q[2].substring(0,dt),Q[0]=Q[0].substring(0,et).trim(),Q[3]=""}}var Qe=Q[2],tt="";if(this.options.pedantic){var vt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Qe);vt&&(Qe=vt[1],tt=vt[3])}else tt=Q[3]?Q[3].slice(1,-1):"";return Qe=Qe.trim(),/^</.test(Qe)&&(Qe=this.options.pedantic&&!/>$/.test(ve)?Qe.slice(1):Qe.slice(1,-1)),fe(Q,{href:Qe&&Qe.replace(this.rules.inline._escapes,"$1"),title:tt&&tt.replace(this.rules.inline._escapes,"$1")},Q[0],this.lexer)}},_e.reflink=function(le,Q){var ve;if((ve=this.rules.inline.reflink.exec(le))||(ve=this.rules.inline.nolink.exec(le))){var Ae=(ve[2]||ve[1]).replace(/\s+/g," ");if(!(Ae=Q[Ae.toLowerCase()])||!Ae.href){var dt=ve[0].charAt(0);return{type:"text",raw:dt,text:dt}}return fe(ve,Ae,ve[0],this.lexer)}},_e.emStrong=function(le,Q,ve){void 0===ve&&(ve="");var Ae=this.rules.inline.emStrong.lDelim.exec(le);if(Ae&&(!Ae[3]||!ve.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var dt=Ae[1]||Ae[2]||"";if(!dt||dt&&(""===ve||this.rules.inline.punctuation.exec(ve))){var et,Qe,st=Ae[0].length-1,tt=st,vt=0,mt="*"===Ae[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(mt.lastIndex=0,Q=Q.slice(-1*le.length+st);null!=(Ae=mt.exec(Q));)if(et=Ae[1]||Ae[2]||Ae[3]||Ae[4]||Ae[5]||Ae[6]){if(Qe=et.length,Ae[3]||Ae[4]){tt+=Qe;continue}if((Ae[5]||Ae[6])&&st%3&&!((st+Qe)%3)){vt+=Qe;continue}if(!((tt-=Qe)>0)){if(Qe=Math.min(Qe,Qe+tt+vt),Math.min(st,Qe)%2){var _t=le.slice(1,st+Ae.index+Qe);return{type:"em",raw:le.slice(0,st+Ae.index+Qe+1),text:_t,tokens:this.lexer.inlineTokens(_t,[])}}var Kt=le.slice(2,st+Ae.index+Qe-1);return{type:"strong",raw:le.slice(0,st+Ae.index+Qe+1),text:Kt,tokens:this.lexer.inlineTokens(Kt,[])}}}}}},_e.codespan=function(le){var Q=this.rules.inline.code.exec(le);if(Q){var ve=Q[2].replace(/\n/g," "),Ae=/[^ ]/.test(ve),dt=/^ /.test(ve)&&/ $/.test(ve);return Ae&&dt&&(ve=ve.substring(1,ve.length-1)),ve=g(ve,!0),{type:"codespan",raw:Q[0],text:ve}}},_e.br=function(le){var Q=this.rules.inline.br.exec(le);if(Q)return{type:"br",raw:Q[0]}},_e.del=function(le){var Q=this.rules.inline.del.exec(le);if(Q)return{type:"del",raw:Q[0],text:Q[2],tokens:this.lexer.inlineTokens(Q[2],[])}},_e.autolink=function(le,Q){var Ae,dt,ve=this.rules.inline.autolink.exec(le);if(ve)return dt="@"===ve[2]?"mailto:"+(Ae=g(this.options.mangle?Q(ve[1]):ve[1])):Ae=g(ve[1]),{type:"link",raw:ve[0],text:Ae,href:dt,tokens:[{type:"text",raw:Ae,text:Ae}]}},_e.url=function(le,Q){var ve;if(ve=this.rules.inline.url.exec(le)){var Ae,dt;if("@"===ve[2])dt="mailto:"+(Ae=g(this.options.mangle?Q(ve[0]):ve[0]));else{var st;do{st=ve[0],ve[0]=this.rules.inline._backpedal.exec(ve[0])[0]}while(st!==ve[0]);Ae=g(ve[0]),dt="www."===ve[1]?"http://"+Ae:Ae}return{type:"link",raw:ve[0],text:Ae,href:dt,tokens:[{type:"text",raw:Ae,text:Ae}]}}},_e.inlineText=function(le,Q){var Ae,ve=this.rules.inline.text.exec(le);if(ve)return Ae=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ve[0]):g(ve[0]):ve[0]:g(this.options.smartypants?Q(ve[0]):ve[0]),{type:"text",raw:ve[0],text:Ae}},ae}(),Ee={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:z,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ee.def=w(Ee.def).replace("label",Ee._label).replace("title",Ee._title).getRegex(),Ee.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ee.listItemStart=w(/^( *)(bull) */).replace("bull",Ee.bullet).getRegex(),Ee.list=w(Ee.list).replace(/bull/g,Ee.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ee.def.source+")").getRegex(),Ee._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ee._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ee.html=w(Ee.html,"i").replace("comment",Ee._comment).replace("tag",Ee._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ee.paragraph=w(Ee._paragraph).replace("hr",Ee.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ee._tag).getRegex(),Ee.blockquote=w(Ee.blockquote).replace("paragraph",Ee.paragraph).getRegex(),Ee.normal=$({},Ee),Ee.gfm=$({},Ee.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ee.gfm.table=w(Ee.gfm.table).replace("hr",Ee.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ee._tag).getRegex(),Ee.gfm.paragraph=w(Ee._paragraph).replace("hr",Ee.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ee.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ee._tag).getRegex(),Ee.pedantic=$({},Ee.normal,{html:w("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ee._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:z,paragraph:w(Ee.normal._paragraph).replace("hr",Ee.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ee.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Le={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:z,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:z,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Ne(ae){return ae.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function oe(ae){var he,le,_e="",Q=ae.length;for(he=0;he<Q;he++)le=ae.charCodeAt(he),Math.random()>.5&&(le="x"+le.toString(16)),_e+="&#"+le+";";return _e}Le._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Le.punctuation=w(Le.punctuation).replace(/punctuation/g,Le._punctuation).getRegex(),Le.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Le.escapedEmSt=/\\\*|\\_/g,Le._comment=w(Ee._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Le.emStrong.lDelim=w(Le.emStrong.lDelim).replace(/punct/g,Le._punctuation).getRegex(),Le.emStrong.rDelimAst=w(Le.emStrong.rDelimAst,"g").replace(/punct/g,Le._punctuation).getRegex(),Le.emStrong.rDelimUnd=w(Le.emStrong.rDelimUnd,"g").replace(/punct/g,Le._punctuation).getRegex(),Le._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Le._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Le._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Le.autolink=w(Le.autolink).replace("scheme",Le._scheme).replace("email",Le._email).getRegex(),Le._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Le.tag=w(Le.tag).replace("comment",Le._comment).replace("attribute",Le._attribute).getRegex(),Le._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Le._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Le._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Le.link=w(Le.link).replace("label",Le._label).replace("href",Le._href).replace("title",Le._title).getRegex(),Le.reflink=w(Le.reflink).replace("label",Le._label).replace("ref",Ee._label).getRegex(),Le.nolink=w(Le.nolink).replace("ref",Ee._label).getRegex(),Le.reflinkSearch=w(Le.reflinkSearch,"g").replace("reflink",Le.reflink).replace("nolink",Le.nolink).getRegex(),Le.normal=$({},Le),Le.pedantic=$({},Le.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:w(/^!?\[(label)\]\((.*?)\)/).replace("label",Le._label).getRegex(),reflink:w(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Le._label).getRegex()}),Le.gfm=$({},Le.normal,{escape:w(Le.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Le.gfm.url=w(Le.gfm.url,"i").replace("email",Le.gfm._extended_email).getRegex(),Le.breaks=$({},Le.gfm,{br:w(Le.br).replace("{2,}","*").getRegex(),text:w(Le.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var we=function(){function ae(he){this.tokens=[],this.tokens.links=Object.create(null),this.options=he||S.defaults,this.options.tokenizer=this.options.tokenizer||new Se,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var le={block:Ee.normal,inline:Le.normal};this.options.pedantic?(le.block=Ee.pedantic,le.inline=Le.pedantic):this.options.gfm&&(le.block=Ee.gfm,le.inline=this.options.breaks?Le.breaks:Le.gfm),this.tokenizer.rules=le}ae.lex=function(le,Q){return new ae(Q).lex(le)},ae.lexInline=function(le,Q){return new ae(Q).inlineTokens(le)};var _e=ae.prototype;return _e.lex=function(le){le=le.replace(/\r\n|\r/g,"\n"),this.blockTokens(le,this.tokens);for(var Q;Q=this.inlineQueue.shift();)this.inlineTokens(Q.src,Q.tokens);return this.tokens},_e.blockTokens=function(le,Q){var Ae,dt,st,et,ve=this;for(void 0===Q&&(Q=[]),le=this.options.pedantic?le.replace(/\t/g,"    ").replace(/^ +$/gm,""):le.replace(/^( *)(\t+)/gm,function(tt,vt,mt){return vt+"    ".repeat(mt.length)});le;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(tt){return!!(Ae=tt.call({lexer:ve},le,Q))&&(le=le.substring(Ae.raw.length),Q.push(Ae),!0)}))){if(Ae=this.tokenizer.space(le)){le=le.substring(Ae.raw.length),1===Ae.raw.length&&Q.length>0?Q[Q.length-1].raw+="\n":Q.push(Ae);continue}if(Ae=this.tokenizer.code(le)){le=le.substring(Ae.raw.length),!(dt=Q[Q.length-1])||"paragraph"!==dt.type&&"text"!==dt.type?Q.push(Ae):(dt.raw+="\n"+Ae.raw,dt.text+="\n"+Ae.text,this.inlineQueue[this.inlineQueue.length-1].src=dt.text);continue}if(Ae=this.tokenizer.fences(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.heading(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.hr(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.blockquote(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.list(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.html(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.def(le)){le=le.substring(Ae.raw.length),!(dt=Q[Q.length-1])||"paragraph"!==dt.type&&"text"!==dt.type?this.tokens.links[Ae.tag]||(this.tokens.links[Ae.tag]={href:Ae.href,title:Ae.title}):(dt.raw+="\n"+Ae.raw,dt.text+="\n"+Ae.raw,this.inlineQueue[this.inlineQueue.length-1].src=dt.text);continue}if(Ae=this.tokenizer.table(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.lheading(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(st=le,this.options.extensions&&this.options.extensions.startBlock&&function(){var tt=1/0,vt=le.slice(1),mt=void 0;ve.options.extensions.startBlock.forEach(function(_t){"number"==typeof(mt=_t.call({lexer:this},vt))&&mt>=0&&(tt=Math.min(tt,mt))}),tt<1/0&&tt>=0&&(st=le.substring(0,tt+1))}(),this.state.top&&(Ae=this.tokenizer.paragraph(st))){dt=Q[Q.length-1],et&&"paragraph"===dt.type?(dt.raw+="\n"+Ae.raw,dt.text+="\n"+Ae.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=dt.text):Q.push(Ae),et=st.length!==le.length,le=le.substring(Ae.raw.length);continue}if(Ae=this.tokenizer.text(le)){le=le.substring(Ae.raw.length),(dt=Q[Q.length-1])&&"text"===dt.type?(dt.raw+="\n"+Ae.raw,dt.text+="\n"+Ae.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=dt.text):Q.push(Ae);continue}if(le){var Qe="Infinite loop on byte: "+le.charCodeAt(0);if(this.options.silent){console.error(Qe);break}throw new Error(Qe)}}return this.state.top=!0,Q},_e.inline=function(le,Q){this.inlineQueue.push({src:le,tokens:Q})},_e.inlineTokens=function(le,Q){var ve=this;void 0===Q&&(Q=[]);var Ae,dt,st,Qe,tt,vt,et=le;if(this.tokens.links){var mt=Object.keys(this.tokens.links);if(mt.length>0)for(;null!=(Qe=this.tokenizer.rules.inline.reflinkSearch.exec(et));)mt.includes(Qe[0].slice(Qe[0].lastIndexOf("[")+1,-1))&&(et=et.slice(0,Qe.index)+"["+Z("a",Qe[0].length-2)+"]"+et.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Qe=this.tokenizer.rules.inline.blockSkip.exec(et));)et=et.slice(0,Qe.index)+"["+Z("a",Qe[0].length-2)+"]"+et.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Qe=this.tokenizer.rules.inline.escapedEmSt.exec(et));)et=et.slice(0,Qe.index)+"++"+et.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;le;)if(tt||(vt=""),tt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Kt){return!!(Ae=Kt.call({lexer:ve},le,Q))&&(le=le.substring(Ae.raw.length),Q.push(Ae),!0)}))){if(Ae=this.tokenizer.escape(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.tag(le)){le=le.substring(Ae.raw.length),(dt=Q[Q.length-1])&&"text"===Ae.type&&"text"===dt.type?(dt.raw+=Ae.raw,dt.text+=Ae.text):Q.push(Ae);continue}if(Ae=this.tokenizer.link(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.reflink(le,this.tokens.links)){le=le.substring(Ae.raw.length),(dt=Q[Q.length-1])&&"text"===Ae.type&&"text"===dt.type?(dt.raw+=Ae.raw,dt.text+=Ae.text):Q.push(Ae);continue}if(Ae=this.tokenizer.emStrong(le,et,vt)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.codespan(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.br(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.del(le)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(Ae=this.tokenizer.autolink(le,oe)){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(!this.state.inLink&&(Ae=this.tokenizer.url(le,oe))){le=le.substring(Ae.raw.length),Q.push(Ae);continue}if(st=le,this.options.extensions&&this.options.extensions.startInline&&function(){var Kt=1/0,Bt=le.slice(1),Ge=void 0;ve.options.extensions.startInline.forEach(function(ut){"number"==typeof(Ge=ut.call({lexer:this},Bt))&&Ge>=0&&(Kt=Math.min(Kt,Ge))}),Kt<1/0&&Kt>=0&&(st=le.substring(0,Kt+1))}(),Ae=this.tokenizer.inlineText(st,Ne)){le=le.substring(Ae.raw.length),"_"!==Ae.raw.slice(-1)&&(vt=Ae.raw.slice(-1)),tt=!0,(dt=Q[Q.length-1])&&"text"===dt.type?(dt.raw+=Ae.raw,dt.text+=Ae.text):Q.push(Ae);continue}if(le){var _t="Infinite loop on byte: "+le.charCodeAt(0);if(this.options.silent){console.error(_t);break}throw new Error(_t)}}return Q},function T(ae,_e,he){_e&&v(ae.prototype,_e),he&&v(ae,he),Object.defineProperty(ae,"prototype",{writable:!1})}(ae,null,[{key:"rules",get:function(){return{block:Ee,inline:Le}}}]),ae}(),xe=function(){function ae(he){this.options=he||S.defaults}var _e=ae.prototype;return _e.code=function(le,Q,ve){var Ae=(Q||"").match(/\S*/)[0];if(this.options.highlight){var dt=this.options.highlight(le,Ae);null!=dt&&dt!==le&&(ve=!0,le=dt)}return le=le.replace(/\n$/,"")+"\n",Ae?'<pre><code class="'+this.options.langPrefix+g(Ae,!0)+'">'+(ve?le:g(le,!0))+"</code></pre>\n":"<pre><code>"+(ve?le:g(le,!0))+"</code></pre>\n"},_e.blockquote=function(le){return"<blockquote>\n"+le+"</blockquote>\n"},_e.html=function(le){return le},_e.heading=function(le,Q,ve,Ae){return this.options.headerIds?"<h"+Q+' id="'+(this.options.headerPrefix+Ae.slug(ve))+'">'+le+"</h"+Q+">\n":"<h"+Q+">"+le+"</h"+Q+">\n"},_e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},_e.list=function(le,Q,ve){var Ae=Q?"ol":"ul";return"<"+Ae+(Q&&1!==ve?' start="'+ve+'"':"")+">\n"+le+"</"+Ae+">\n"},_e.listitem=function(le){return"<li>"+le+"</li>\n"},_e.checkbox=function(le){return"<input "+(le?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},_e.paragraph=function(le){return"<p>"+le+"</p>\n"},_e.table=function(le,Q){return Q&&(Q="<tbody>"+Q+"</tbody>"),"<table>\n<thead>\n"+le+"</thead>\n"+Q+"</table>\n"},_e.tablerow=function(le){return"<tr>\n"+le+"</tr>\n"},_e.tablecell=function(le,Q){var ve=Q.header?"th":"td";return(Q.align?"<"+ve+' align="'+Q.align+'">':"<"+ve+">")+le+"</"+ve+">\n"},_e.strong=function(le){return"<strong>"+le+"</strong>"},_e.em=function(le){return"<em>"+le+"</em>"},_e.codespan=function(le){return"<code>"+le+"</code>"},_e.br=function(){return this.options.xhtml?"<br/>":"<br>"},_e.del=function(le){return"<del>"+le+"</del>"},_e.link=function(le,Q,ve){if(null===(le=O(this.options.sanitize,this.options.baseUrl,le)))return ve;var Ae='<a href="'+g(le)+'"';return Q&&(Ae+=' title="'+Q+'"'),Ae+">"+ve+"</a>"},_e.image=function(le,Q,ve){if(null===(le=O(this.options.sanitize,this.options.baseUrl,le)))return ve;var Ae='<img src="'+le+'" alt="'+ve+'"';return Q&&(Ae+=' title="'+Q+'"'),Ae+(this.options.xhtml?"/>":">")},_e.text=function(le){return le},ae}(),pe=function(){function ae(){}var _e=ae.prototype;return _e.strong=function(le){return le},_e.em=function(le){return le},_e.codespan=function(le){return le},_e.del=function(le){return le},_e.html=function(le){return le},_e.text=function(le){return le},_e.link=function(le,Q,ve){return""+ve},_e.image=function(le,Q,ve){return""+ve},_e.br=function(){return""},ae}(),Te=function(){function ae(){this.seen={}}var _e=ae.prototype;return _e.serialize=function(le){return le.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},_e.getNextSafeSlug=function(le,Q){var ve=le,Ae=0;if(this.seen.hasOwnProperty(ve)){Ae=this.seen[le];do{ve=le+"-"+ ++Ae}while(this.seen.hasOwnProperty(ve))}return Q||(this.seen[le]=Ae,this.seen[ve]=0),ve},_e.slug=function(le,Q){void 0===Q&&(Q={});var ve=this.serialize(le);return this.getNextSafeSlug(ve,Q.dryrun)},ae}(),de=function(){function ae(he){this.options=he||S.defaults,this.options.renderer=this.options.renderer||new xe,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new pe,this.slugger=new Te}ae.parse=function(le,Q){return new ae(Q).parse(le)},ae.parseInline=function(le,Q){return new ae(Q).parseInline(le)};var _e=ae.prototype;return _e.parse=function(le,Q){void 0===Q&&(Q=!0);var Ae,dt,st,et,Qe,tt,vt,mt,_t,Kt,Bt,Ge,ut,Ut,hn,Dn,wt,je,ye,ve="",Me=le.length;for(Ae=0;Ae<Me;Ae++)if(Kt=le[Ae],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Kt.type]&&(!1!==(ye=this.options.extensions.renderers[Kt.type].call({parser:this},Kt))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Kt.type)))ve+=ye||"";else switch(Kt.type){case"space":continue;case"hr":ve+=this.renderer.hr();continue;case"heading":ve+=this.renderer.heading(this.parseInline(Kt.tokens),Kt.depth,y(this.parseInline(Kt.tokens,this.textRenderer)),this.slugger);continue;case"code":ve+=this.renderer.code(Kt.text,Kt.lang,Kt.escaped);continue;case"table":for(mt="",vt="",et=Kt.header.length,dt=0;dt<et;dt++)vt+=this.renderer.tablecell(this.parseInline(Kt.header[dt].tokens),{header:!0,align:Kt.align[dt]});for(mt+=this.renderer.tablerow(vt),_t="",et=Kt.rows.length,dt=0;dt<et;dt++){for(vt="",Qe=(tt=Kt.rows[dt]).length,st=0;st<Qe;st++)vt+=this.renderer.tablecell(this.parseInline(tt[st].tokens),{header:!1,align:Kt.align[st]});_t+=this.renderer.tablerow(vt)}ve+=this.renderer.table(mt,_t);continue;case"blockquote":_t=this.parse(Kt.tokens),ve+=this.renderer.blockquote(_t);continue;case"list":for(Bt=Kt.ordered,Ge=Kt.start,ut=Kt.loose,et=Kt.items.length,_t="",dt=0;dt<et;dt++)Dn=(hn=Kt.items[dt]).checked,wt=hn.task,Ut="",hn.task&&(je=this.renderer.checkbox(Dn),ut?hn.tokens.length>0&&"paragraph"===hn.tokens[0].type?(hn.tokens[0].text=je+" "+hn.tokens[0].text,hn.tokens[0].tokens&&hn.tokens[0].tokens.length>0&&"text"===hn.tokens[0].tokens[0].type&&(hn.tokens[0].tokens[0].text=je+" "+hn.tokens[0].tokens[0].text)):hn.tokens.unshift({type:"text",text:je}):Ut+=je),Ut+=this.parse(hn.tokens,ut),_t+=this.renderer.listitem(Ut,wt,Dn);ve+=this.renderer.list(_t,Bt,Ge);continue;case"html":ve+=this.renderer.html(Kt.text);continue;case"paragraph":ve+=this.renderer.paragraph(this.parseInline(Kt.tokens));continue;case"text":for(_t=Kt.tokens?this.parseInline(Kt.tokens):Kt.text;Ae+1<Me&&"text"===le[Ae+1].type;)_t+="\n"+((Kt=le[++Ae]).tokens?this.parseInline(Kt.tokens):Kt.text);ve+=Q?this.renderer.paragraph(_t):_t;continue;default:var ue='Token with "'+Kt.type+'" type was not found.';if(this.options.silent)return void console.error(ue);throw new Error(ue)}return ve},_e.parseInline=function(le,Q){Q=Q||this.renderer;var Ae,dt,st,ve="",et=le.length;for(Ae=0;Ae<et;Ae++)if(dt=le[Ae],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[dt.type]&&(!1!==(st=this.options.extensions.renderers[dt.type].call({parser:this},dt))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(dt.type)))ve+=st||"";else switch(dt.type){case"escape":case"text":ve+=Q.text(dt.text);break;case"html":ve+=Q.html(dt.text);break;case"link":ve+=Q.link(dt.href,dt.title,this.parseInline(dt.tokens,Q));break;case"image":ve+=Q.image(dt.href,dt.title,dt.text);break;case"strong":ve+=Q.strong(this.parseInline(dt.tokens,Q));break;case"em":ve+=Q.em(this.parseInline(dt.tokens,Q));break;case"codespan":ve+=Q.codespan(dt.text);break;case"br":ve+=Q.br();break;case"del":ve+=Q.del(this.parseInline(dt.tokens,Q));break;default:var Qe='Token with "'+dt.type+'" type was not found.';if(this.options.silent)return void console.error(Qe);throw new Error(Qe)}return ve},ae}();function ke(ae,_e,he){if(typeof ae>"u"||null===ae)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof ae)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");if("function"==typeof _e&&(he=_e,_e=null),V(_e=$({},ke.defaults,_e||{})),he){var Q,le=_e.highlight;try{Q=we.lex(ae,_e)}catch(st){return he(st)}var ve=function(et){var Qe;if(!et)try{_e.walkTokens&&ke.walkTokens(Q,_e.walkTokens),Qe=de.parse(Q,_e)}catch(tt){et=tt}return _e.highlight=le,et?he(et):he(null,Qe)};if(!le||le.length<3||(delete _e.highlight,!Q.length))return ve();var Ae=0;return ke.walkTokens(Q,function(st){"code"===st.type&&(Ae++,setTimeout(function(){le(st.text,st.lang,function(et,Qe){if(et)return ve(et);null!=Qe&&Qe!==st.text&&(st.text=Qe,st.escaped=!0),0==--Ae&&ve()})},0))}),void(0===Ae&&ve())}try{var dt=we.lex(ae,_e);return _e.walkTokens&&ke.walkTokens(dt,_e.walkTokens),de.parse(dt,_e)}catch(st){if(st.message+="\nPlease report this to https://github.com/markedjs/marked.",_e.silent)return"<p>An error occurred:</p><pre>"+g(st.message+"",!0)+"</pre>";throw st}}ke.options=ke.setOptions=function(ae){return $(ke.defaults,ae),function s(ae){S.defaults=ae}(ke.defaults),ke},ke.getDefaults=_,ke.defaults=S.defaults,ke.use=function(){for(var ae=arguments.length,_e=new Array(ae),he=0;he<ae;he++)_e[he]=arguments[he];var ve,le=$.apply(void 0,[{}].concat(_e)),Q=ke.defaults.extensions||{renderers:{},childTokens:{}};_e.forEach(function(Ae){if(Ae.extensions&&(ve=!0,Ae.extensions.forEach(function(st){if(!st.name)throw new Error("extension name required");if(st.renderer){var et=Q.renderers?Q.renderers[st.name]:null;Q.renderers[st.name]=et?function(){for(var Qe=arguments.length,tt=new Array(Qe),vt=0;vt<Qe;vt++)tt[vt]=arguments[vt];var mt=st.renderer.apply(this,tt);return!1===mt&&(mt=et.apply(this,tt)),mt}:st.renderer}if(st.tokenizer){if(!st.level||"block"!==st.level&&"inline"!==st.level)throw new Error("extension level must be 'block' or 'inline'");Q[st.level]?Q[st.level].unshift(st.tokenizer):Q[st.level]=[st.tokenizer],st.start&&("block"===st.level?Q.startBlock?Q.startBlock.push(st.start):Q.startBlock=[st.start]:"inline"===st.level&&(Q.startInline?Q.startInline.push(st.start):Q.startInline=[st.start]))}st.childTokens&&(Q.childTokens[st.name]=st.childTokens)})),Ae.renderer&&function(){var st=ke.defaults.renderer||new xe,et=function(vt){var mt=st[vt];st[vt]=function(){for(var _t=arguments.length,Kt=new Array(_t),Bt=0;Bt<_t;Bt++)Kt[Bt]=arguments[Bt];var Ge=Ae.renderer[vt].apply(st,Kt);return!1===Ge&&(Ge=mt.apply(st,Kt)),Ge}};for(var Qe in Ae.renderer)et(Qe);le.renderer=st}(),Ae.tokenizer&&function(){var st=ke.defaults.tokenizer||new Se,et=function(vt){var mt=st[vt];st[vt]=function(){for(var _t=arguments.length,Kt=new Array(_t),Bt=0;Bt<_t;Bt++)Kt[Bt]=arguments[Bt];var Ge=Ae.tokenizer[vt].apply(st,Kt);return!1===Ge&&(Ge=mt.apply(st,Kt)),Ge}};for(var Qe in Ae.tokenizer)et(Qe);le.tokenizer=st}(),Ae.walkTokens){var dt=ke.defaults.walkTokens;le.walkTokens=function(st){Ae.walkTokens.call(this,st),dt&&dt.call(this,st)}}ve&&(le.extensions=Q),ke.setOptions(le)})},ke.walkTokens=function(ae,_e){for(var Q,he=function(){var Ae=Q.value;switch(_e.call(ke,Ae),Ae.type){case"table":for(var st,dt=L(Ae.header);!(st=dt()).done;)ke.walkTokens(st.value.tokens,_e);for(var tt,Qe=L(Ae.rows);!(tt=Qe()).done;)for(var _t,mt=L(tt.value);!(_t=mt()).done;)ke.walkTokens(_t.value.tokens,_e);break;case"list":ke.walkTokens(Ae.items,_e);break;default:ke.defaults.extensions&&ke.defaults.extensions.childTokens&&ke.defaults.extensions.childTokens[Ae.type]?ke.defaults.extensions.childTokens[Ae.type].forEach(function(Bt){ke.walkTokens(Ae[Bt],_e)}):Ae.tokens&&ke.walkTokens(Ae.tokens,_e)}},le=L(ae);!(Q=le()).done;)he()},ke.parseInline=function(ae,_e){if(typeof ae>"u"||null===ae)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof ae)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ae)+", string expected");V(_e=$({},ke.defaults,_e||{}));try{var he=we.lexInline(ae,_e);return _e.walkTokens&&ke.walkTokens(he,_e.walkTokens),de.parseInline(he,_e)}catch(le){if(le.message+="\nPlease report this to https://github.com/markedjs/marked.",_e.silent)return"<p>An error occurred:</p><pre>"+g(le.message+"",!0)+"</pre>";throw le}},ke.Parser=de,ke.parser=de.parse,ke.Renderer=xe,ke.TextRenderer=pe,ke.Lexer=we,ke.lexer=we.lex,ke.Tokenizer=Se,ke.Slugger=Te,ke.parse=ke;var ze=ke.options,$e=ke.setOptions,ce=ke.use,Ue=ke.walkTokens,nt=ke.parseInline,Dt=ke,Lt=de.parse,Ze=we.lex;S.Lexer=we,S.Parser=de,S.Renderer=xe,S.Slugger=Te,S.TextRenderer=pe,S.Tokenizer=Se,S.getDefaults=_,S.lexer=Ze,S.marked=ke,S.options=ze,S.parse=Dt,S.parseInline=nt,S.parser=Lt,S.setOptions=$e,S.use=ce,S.walkTokens=Ue,Object.defineProperty(S,"__esModule",{value:!0})},"object"==typeof exports?v(exports):l.amd?l(0,v):v((S=typeof globalThis<"u"?globalThis:S||self).marked={})}();var t=d||exports},61408:(Et,X,e)=>{"use strict";e.d(X,{Q:()=>l,w:()=>S});var d=e(32068),t=e(59547);function l(v){let T=JSON.parse(v);return T=S(T),T}function S(v,T=0){if(!v||T>200)return v;if("object"==typeof v){switch(v.$mid){case 1:return t.o.revive(v);case 2:return new RegExp(v.source,v.flags);case 14:return new Date(v.source)}if(v instanceof d.KN||v instanceof Uint8Array)return v;if(Array.isArray(v))for(let C=0;C<v.length;++C)v[C]=S(v[C],T+1);else for(const C in v)Object.hasOwnProperty.call(v,C)&&(v[C]=S(v[C],T+1))}return v}},34189:(Et,X,e)=>{"use strict";e.d(X,{v:()=>d});const d=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},59310:(Et,X,e)=>{"use strict";e.d(X,{Gi:()=>E,WX:()=>T,lg:()=>l});var d=e(8841),t=e(59547),l=(()=>{return(L=l||(l={})).inMemory="inmemory",L.vscode="vscode",L.internal="private",L.walkThrough="walkThrough",L.walkThroughSnippet="walkThroughSnippet",L.http="http",L.https="https",L.file="file",L.mailto="mailto",L.untitled="untitled",L.data="data",L.command="command",L.vscodeRemote="vscode-remote",L.vscodeRemoteResource="vscode-remote-resource",L.vscodeUserData="vscode-userdata",L.vscodeCustomEditor="vscode-custom-editor",L.vscodeNotebook="vscode-notebook",L.vscodeNotebookCell="vscode-notebook-cell",L.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",L.vscodeNotebookCellOutput="vscode-notebook-cell-output",L.vscodeInteractive="vscode-interactive",L.vscodeInteractiveInput="vscode-interactive-input",L.vscodeSettings="vscode-settings",L.vscodeWorkspaceTrust="vscode-workspace-trust",L.vscodeTerminal="vscode-terminal",L.webviewPanel="webview-panel",L.vscodeWebview="vscode-webview",L.extension="extension",L.vscodeFileResource="vscode-file",L.tmp="tmp",L.vsls="vsls",L.vscodeSourceControl="vscode-scm",l;var L})();const T=new class v{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${l.vscodeRemoteResource}`}setPreferredWebSchema(_){this._preferredWebSchema=_}rewrite(_){if(this._delegate)return this._delegate(_);const s=_.authority;let m=this._hosts[s];m&&-1!==m.indexOf(":")&&(m=`[${m}]`);const c=this._ports[s],n=this._connectionTokens[s];let a=`path=${encodeURIComponent(_.path)}`;return"string"==typeof n&&(a+=`&tkn=${encodeURIComponent(n)}`),t.o.from({scheme:d.$L?this._preferredWebSchema:l.vscodeRemoteResource,authority:`${m}:${c}`,path:this._remoteResourcesPath,query:a})}},E=new((()=>{class L{asBrowserUri(s,m){const c=this.toUri(s,m);return c.scheme===l.vscodeRemote?T.rewrite(c):c.scheme===l.file&&(d.tY||d.n2&&d.li.origin===`${l.vscodeFileResource}://${L.FALLBACK_AUTHORITY}`)?c.with({scheme:l.vscodeFileResource,authority:c.authority||L.FALLBACK_AUTHORITY,query:null,fragment:null}):c}toUri(s,m){return t.o.isUri(s)?s:t.o.parse(m.toUrl(s))}}return L.FALLBACK_AUTHORITY="vscode-app",L})())},73455:(Et,X,e)=>{"use strict";function d(S,v,T){return Math.min(Math.max(S,v),T)}e.d(X,{N:()=>l,nM:()=>t,uZ:()=>d});class t{constructor(){this._n=1,this._val=0}update(v){return this._val=this._val+(v-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class l{constructor(v){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(v),this._values.fill(0,0,v)}update(v){const T=this._values[this._index];return this._values[this._index]=v,this._index=(this._index+1)%this._values.length,this._sum-=T,this._sum+=v,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},6276:(Et,X,e)=>{"use strict";e.d(X,{I8:()=>t,_A:()=>l,fS:()=>E,jB:()=>C,rs:()=>v});var d=e(72715);function t(L){if(!L||"object"!=typeof L||L instanceof RegExp)return L;const _=Array.isArray(L)?[]:{};return Object.keys(L).forEach(s=>{_[s]=L[s]&&"object"==typeof L[s]?t(L[s]):L[s]}),_}function l(L){if(!L||"object"!=typeof L)return L;const _=[L];for(;_.length>0;){const s=_.shift();Object.freeze(s);for(const m in s)if(S.call(s,m)){const c=s[m];"object"==typeof c&&!Object.isFrozen(c)&&!(0,d.fU)(c)&&_.push(c)}}return L}const S=Object.prototype.hasOwnProperty;function v(L,_){return T(L,_,new Set)}function T(L,_,s){if((0,d.Jp)(L))return L;const m=_(L);if(typeof m<"u")return m;if((0,d.kJ)(L)){const c=[];for(const n of L)c.push(T(n,_,s));return c}if((0,d.Kn)(L)){if(s.has(L))throw new Error("Cannot clone recursive data-structure");s.add(L);const c={};for(const n in L)S.call(L,n)&&(c[n]=T(L[n],_,s));return s.delete(L),c}return L}function C(L,_,s=!0){return(0,d.Kn)(L)?((0,d.Kn)(_)&&Object.keys(_).forEach(m=>{m in L?s&&((0,d.Kn)(L[m])&&(0,d.Kn)(_[m])?C(L[m],_[m],s):L[m]=_[m]):L[m]=_[m]}),L):_}function E(L,_){if(L===_)return!0;if(null==L||null==_||typeof L!=typeof _||"object"!=typeof L||Array.isArray(L)!==Array.isArray(_))return!1;let s,m;if(Array.isArray(L)){if(L.length!==_.length)return!1;for(s=0;s<L.length;s++)if(!E(L[s],_[s]))return!1}else{const c=[];for(m in L)c.push(m);c.sort();const n=[];for(m in _)n.push(m);if(n.sort(),!E(c,n))return!1;for(s=0;s<c.length;s++)if(!E(L[c[s]],_[c[s]]))return!1}return!0}},61283:(Et,X,e)=>{"use strict";e.d(X,{EZ:()=>F,XX:()=>K,DZ:()=>B,Fv:()=>O,KR:()=>P,Gf:()=>U,DB:()=>H,ir:()=>z,Ku:()=>I});var d=e(8841),t=e(1762);let l;if(typeof d.li.vscode<"u"&&typeof d.li.vscode.process<"u"){const $=d.li.vscode.process;l={get platform(){return $.platform},get arch(){return $.arch},get env(){return $.env},cwd:()=>$.cwd()}}else l=typeof t<"u"?{get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd:()=>t.env.VSCODE_CWD||t.cwd()}:{get platform(){return d.ED?"win32":d.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const S=l.cwd,v=l.env,T=l.platform,s=46,m=47,c=92,n=58;class p extends Error{constructor(j,ne,N){let V;"string"==typeof ne&&0===ne.indexOf("not ")?(V="must not be",ne=ne.replace(/^not /,"")):V="must be";const Z=-1!==j.indexOf(".")?"property":"argument";let fe=`The "${j}" ${Z} ${V} of type ${ne}`;fe+=". Received type "+typeof N,super(fe),this.code="ERR_INVALID_ARG_TYPE"}}function u($,j){if("string"!=typeof $)throw new p(j,"string",$)}function g($){return $===m||$===c}function b($){return $===m}function y($){return $>=65&&$<=90||$>=97&&$<=122}function D($,j,ne,N){let V="",Z=0,fe=-1,M=0,Se=0;for(let Ee=0;Ee<=$.length;++Ee){if(Ee<$.length)Se=$.charCodeAt(Ee);else{if(N(Se))break;Se=m}if(N(Se)){if(fe!==Ee-1&&1!==M)if(2===M){if(V.length<2||2!==Z||V.charCodeAt(V.length-1)!==s||V.charCodeAt(V.length-2)!==s){if(V.length>2){const Le=V.lastIndexOf(ne);-1===Le?(V="",Z=0):(V=V.slice(0,Le),Z=V.length-1-V.lastIndexOf(ne)),fe=Ee,M=0;continue}if(0!==V.length){V="",Z=0,fe=Ee,M=0;continue}}j&&(V+=V.length>0?`${ne}..`:"..",Z=2)}else V.length>0?V+=`${ne}${$.slice(fe+1,Ee)}`:V=$.slice(fe+1,Ee),Z=Ee-fe-1;fe=Ee,M=0}else Se===s&&-1!==M?++M:M=-1}return V}function w($,j){if(null===j||"object"!=typeof j)throw new p("pathObject","Object",j);const ne=j.dir||j.root,N=j.base||`${j.name||""}${j.ext||""}`;return ne?ne===j.root?`${ne}${N}`:`${ne}${$}${N}`:N}const I={resolve(...$){let j="",ne="",N=!1;for(let V=$.length-1;V>=-1;V--){let Z;if(V>=0){if(Z=$[V],u(Z,"path"),0===Z.length)continue}else 0===j.length?Z=S():(Z=v[`=${j}`]||S(),(void 0===Z||Z.slice(0,2).toLowerCase()!==j.toLowerCase()&&Z.charCodeAt(2)===c)&&(Z=`${j}\\`));const fe=Z.length;let M=0,Se="",Ee=!1;const Le=Z.charCodeAt(0);if(1===fe)g(Le)&&(M=1,Ee=!0);else if(g(Le))if(Ee=!0,g(Z.charCodeAt(1))){let Ne=2,oe=Ne;for(;Ne<fe&&!g(Z.charCodeAt(Ne));)Ne++;if(Ne<fe&&Ne!==oe){const we=Z.slice(oe,Ne);for(oe=Ne;Ne<fe&&g(Z.charCodeAt(Ne));)Ne++;if(Ne<fe&&Ne!==oe){for(oe=Ne;Ne<fe&&!g(Z.charCodeAt(Ne));)Ne++;(Ne===fe||Ne!==oe)&&(Se=`\\\\${we}\\${Z.slice(oe,Ne)}`,M=Ne)}}}else M=1;else y(Le)&&Z.charCodeAt(1)===n&&(Se=Z.slice(0,2),M=2,fe>2&&g(Z.charCodeAt(2))&&(Ee=!0,M=3));if(Se.length>0)if(j.length>0){if(Se.toLowerCase()!==j.toLowerCase())continue}else j=Se;if(N){if(j.length>0)break}else if(ne=`${Z.slice(M)}\\${ne}`,N=Ee,Ee&&j.length>0)break}return ne=D(ne,!N,"\\",g),N?`${j}\\${ne}`:`${j}${ne}`||"."},normalize($){u($,"path");const j=$.length;if(0===j)return".";let N,ne=0,V=!1;const Z=$.charCodeAt(0);if(1===j)return b(Z)?"\\":$;if(g(Z))if(V=!0,g($.charCodeAt(1))){let M=2,Se=M;for(;M<j&&!g($.charCodeAt(M));)M++;if(M<j&&M!==Se){const Ee=$.slice(Se,M);for(Se=M;M<j&&g($.charCodeAt(M));)M++;if(M<j&&M!==Se){for(Se=M;M<j&&!g($.charCodeAt(M));)M++;if(M===j)return`\\\\${Ee}\\${$.slice(Se)}\\`;M!==Se&&(N=`\\\\${Ee}\\${$.slice(Se,M)}`,ne=M)}}}else ne=1;else y(Z)&&$.charCodeAt(1)===n&&(N=$.slice(0,2),ne=2,j>2&&g($.charCodeAt(2))&&(V=!0,ne=3));let fe=ne<j?D($.slice(ne),!V,"\\",g):"";return 0===fe.length&&!V&&(fe="."),fe.length>0&&g($.charCodeAt(j-1))&&(fe+="\\"),void 0===N?V?`\\${fe}`:fe:V?`${N}\\${fe}`:`${N}${fe}`},isAbsolute($){u($,"path");const j=$.length;if(0===j)return!1;const ne=$.charCodeAt(0);return g(ne)||j>2&&y(ne)&&$.charCodeAt(1)===n&&g($.charCodeAt(2))},join(...$){if(0===$.length)return".";let j,ne;for(let Z=0;Z<$.length;++Z){const fe=$[Z];u(fe,"path"),fe.length>0&&(void 0===j?j=ne=fe:j+=`\\${fe}`)}if(void 0===j)return".";let N=!0,V=0;if("string"==typeof ne&&g(ne.charCodeAt(0))){++V;const Z=ne.length;Z>1&&g(ne.charCodeAt(1))&&(++V,Z>2&&(g(ne.charCodeAt(2))?++V:N=!1))}if(N){for(;V<j.length&&g(j.charCodeAt(V));)V++;V>=2&&(j=`\\${j.slice(V)}`)}return I.normalize(j)},relative($,j){if(u($,"from"),u(j,"to"),$===j)return"";const ne=I.resolve($),N=I.resolve(j);if(ne===N||($=ne.toLowerCase())===(j=N.toLowerCase()))return"";let V=0;for(;V<$.length&&$.charCodeAt(V)===c;)V++;let Z=$.length;for(;Z-1>V&&$.charCodeAt(Z-1)===c;)Z--;const fe=Z-V;let M=0;for(;M<j.length&&j.charCodeAt(M)===c;)M++;let Se=j.length;for(;Se-1>M&&j.charCodeAt(Se-1)===c;)Se--;const Ee=Se-M,Le=fe<Ee?fe:Ee;let Ne=-1,oe=0;for(;oe<Le;oe++){const xe=$.charCodeAt(V+oe);if(xe!==j.charCodeAt(M+oe))break;xe===c&&(Ne=oe)}if(oe!==Le){if(-1===Ne)return N}else{if(Ee>Le){if(j.charCodeAt(M+oe)===c)return N.slice(M+oe+1);if(2===oe)return N.slice(M+oe)}fe>Le&&($.charCodeAt(V+oe)===c?Ne=oe:2===oe&&(Ne=3)),-1===Ne&&(Ne=0)}let we="";for(oe=V+Ne+1;oe<=Z;++oe)(oe===Z||$.charCodeAt(oe)===c)&&(we+=0===we.length?"..":"\\..");return M+=Ne,we.length>0?`${we}${N.slice(M,Se)}`:(N.charCodeAt(M)===c&&++M,N.slice(M,Se))},toNamespacedPath($){if("string"!=typeof $)return $;if(0===$.length)return"";const j=I.resolve($);if(j.length<=2)return $;if(j.charCodeAt(0)===c){if(j.charCodeAt(1)===c){const ne=j.charCodeAt(2);if(63!==ne&&ne!==s)return`\\\\?\\UNC\\${j.slice(2)}`}}else if(y(j.charCodeAt(0))&&j.charCodeAt(1)===n&&j.charCodeAt(2)===c)return`\\\\?\\${j}`;return $},dirname($){u($,"path");const j=$.length;if(0===j)return".";let ne=-1,N=0;const V=$.charCodeAt(0);if(1===j)return g(V)?$:".";if(g(V)){if(ne=N=1,g($.charCodeAt(1))){let M=2,Se=M;for(;M<j&&!g($.charCodeAt(M));)M++;if(M<j&&M!==Se){for(Se=M;M<j&&g($.charCodeAt(M));)M++;if(M<j&&M!==Se){for(Se=M;M<j&&!g($.charCodeAt(M));)M++;if(M===j)return $;M!==Se&&(ne=N=M+1)}}}}else y(V)&&$.charCodeAt(1)===n&&(ne=j>2&&g($.charCodeAt(2))?3:2,N=ne);let Z=-1,fe=!0;for(let M=j-1;M>=N;--M)if(g($.charCodeAt(M))){if(!fe){Z=M;break}}else fe=!1;if(-1===Z){if(-1===ne)return".";Z=ne}return $.slice(0,Z)},basename($,j){void 0!==j&&u(j,"ext"),u($,"path");let Z,ne=0,N=-1,V=!0;if($.length>=2&&y($.charCodeAt(0))&&$.charCodeAt(1)===n&&(ne=2),void 0!==j&&j.length>0&&j.length<=$.length){if(j===$)return"";let fe=j.length-1,M=-1;for(Z=$.length-1;Z>=ne;--Z){const Se=$.charCodeAt(Z);if(g(Se)){if(!V){ne=Z+1;break}}else-1===M&&(V=!1,M=Z+1),fe>=0&&(Se===j.charCodeAt(fe)?-1==--fe&&(N=Z):(fe=-1,N=M))}return ne===N?N=M:-1===N&&(N=$.length),$.slice(ne,N)}for(Z=$.length-1;Z>=ne;--Z)if(g($.charCodeAt(Z))){if(!V){ne=Z+1;break}}else-1===N&&(V=!1,N=Z+1);return-1===N?"":$.slice(ne,N)},extname($){u($,"path");let j=0,ne=-1,N=0,V=-1,Z=!0,fe=0;$.length>=2&&$.charCodeAt(1)===n&&y($.charCodeAt(0))&&(j=N=2);for(let M=$.length-1;M>=j;--M){const Se=$.charCodeAt(M);if(g(Se)){if(!Z){N=M+1;break}}else-1===V&&(Z=!1,V=M+1),Se===s?-1===ne?ne=M:1!==fe&&(fe=1):-1!==ne&&(fe=-1)}return-1===ne||-1===V||0===fe||1===fe&&ne===V-1&&ne===N+1?"":$.slice(ne,V)},format:w.bind(null,"\\"),parse($){u($,"path");const j={root:"",dir:"",base:"",ext:"",name:""};if(0===$.length)return j;const ne=$.length;let N=0,V=$.charCodeAt(0);if(1===ne)return g(V)?(j.root=j.dir=$,j):(j.base=j.name=$,j);if(g(V)){if(N=1,g($.charCodeAt(1))){let Ne=2,oe=Ne;for(;Ne<ne&&!g($.charCodeAt(Ne));)Ne++;if(Ne<ne&&Ne!==oe){for(oe=Ne;Ne<ne&&g($.charCodeAt(Ne));)Ne++;if(Ne<ne&&Ne!==oe){for(oe=Ne;Ne<ne&&!g($.charCodeAt(Ne));)Ne++;Ne===ne?N=Ne:Ne!==oe&&(N=Ne+1)}}}}else if(y(V)&&$.charCodeAt(1)===n){if(ne<=2)return j.root=j.dir=$,j;if(N=2,g($.charCodeAt(2))){if(3===ne)return j.root=j.dir=$,j;N=3}}N>0&&(j.root=$.slice(0,N));let Z=-1,fe=N,M=-1,Se=!0,Ee=$.length-1,Le=0;for(;Ee>=N;--Ee)if(V=$.charCodeAt(Ee),g(V)){if(!Se){fe=Ee+1;break}}else-1===M&&(Se=!1,M=Ee+1),V===s?-1===Z?Z=Ee:1!==Le&&(Le=1):-1!==Z&&(Le=-1);return-1!==M&&(-1===Z||0===Le||1===Le&&Z===M-1&&Z===fe+1?j.base=j.name=$.slice(fe,M):(j.name=$.slice(fe,Z),j.base=$.slice(fe,M),j.ext=$.slice(Z,M))),j.dir=fe>0&&fe!==N?$.slice(0,fe-1):j.root,j},sep:"\\",delimiter:";",win32:null,posix:null},P={resolve(...$){let j="",ne=!1;for(let N=$.length-1;N>=-1&&!ne;N--){const V=N>=0?$[N]:S();u(V,"path"),0!==V.length&&(j=`${V}/${j}`,ne=V.charCodeAt(0)===m)}return j=D(j,!ne,"/",b),ne?`/${j}`:j.length>0?j:"."},normalize($){if(u($,"path"),0===$.length)return".";const j=$.charCodeAt(0)===m,ne=$.charCodeAt($.length-1)===m;return 0===($=D($,!j,"/",b)).length?j?"/":ne?"./":".":(ne&&($+="/"),j?`/${$}`:$)},isAbsolute:$=>(u($,"path"),$.length>0&&$.charCodeAt(0)===m),join(...$){if(0===$.length)return".";let j;for(let ne=0;ne<$.length;++ne){const N=$[ne];u(N,"path"),N.length>0&&(void 0===j?j=N:j+=`/${N}`)}return void 0===j?".":P.normalize(j)},relative($,j){if(u($,"from"),u(j,"to"),$===j||($=P.resolve($))===(j=P.resolve(j)))return"";const N=$.length,V=N-1,fe=j.length-1,M=V<fe?V:fe;let Se=-1,Ee=0;for(;Ee<M;Ee++){const Ne=$.charCodeAt(1+Ee);if(Ne!==j.charCodeAt(1+Ee))break;Ne===m&&(Se=Ee)}if(Ee===M)if(fe>M){if(j.charCodeAt(1+Ee)===m)return j.slice(1+Ee+1);if(0===Ee)return j.slice(1+Ee)}else V>M&&($.charCodeAt(1+Ee)===m?Se=Ee:0===Ee&&(Se=0));let Le="";for(Ee=1+Se+1;Ee<=N;++Ee)(Ee===N||$.charCodeAt(Ee)===m)&&(Le+=0===Le.length?"..":"/..");return`${Le}${j.slice(1+Se)}`},toNamespacedPath:$=>$,dirname($){if(u($,"path"),0===$.length)return".";const j=$.charCodeAt(0)===m;let ne=-1,N=!0;for(let V=$.length-1;V>=1;--V)if($.charCodeAt(V)===m){if(!N){ne=V;break}}else N=!1;return-1===ne?j?"/":".":j&&1===ne?"//":$.slice(0,ne)},basename($,j){void 0!==j&&u(j,"ext"),u($,"path");let Z,ne=0,N=-1,V=!0;if(void 0!==j&&j.length>0&&j.length<=$.length){if(j===$)return"";let fe=j.length-1,M=-1;for(Z=$.length-1;Z>=0;--Z){const Se=$.charCodeAt(Z);if(Se===m){if(!V){ne=Z+1;break}}else-1===M&&(V=!1,M=Z+1),fe>=0&&(Se===j.charCodeAt(fe)?-1==--fe&&(N=Z):(fe=-1,N=M))}return ne===N?N=M:-1===N&&(N=$.length),$.slice(ne,N)}for(Z=$.length-1;Z>=0;--Z)if($.charCodeAt(Z)===m){if(!V){ne=Z+1;break}}else-1===N&&(V=!1,N=Z+1);return-1===N?"":$.slice(ne,N)},extname($){u($,"path");let j=-1,ne=0,N=-1,V=!0,Z=0;for(let fe=$.length-1;fe>=0;--fe){const M=$.charCodeAt(fe);if(M!==m)-1===N&&(V=!1,N=fe+1),M===s?-1===j?j=fe:1!==Z&&(Z=1):-1!==j&&(Z=-1);else if(!V){ne=fe+1;break}}return-1===j||-1===N||0===Z||1===Z&&j===N-1&&j===ne+1?"":$.slice(j,N)},format:w.bind(null,"/"),parse($){u($,"path");const j={root:"",dir:"",base:"",ext:"",name:""};if(0===$.length)return j;const ne=$.charCodeAt(0)===m;let N;ne?(j.root="/",N=1):N=0;let V=-1,Z=0,fe=-1,M=!0,Se=$.length-1,Ee=0;for(;Se>=N;--Se){const Le=$.charCodeAt(Se);if(Le!==m)-1===fe&&(M=!1,fe=Se+1),Le===s?-1===V?V=Se:1!==Ee&&(Ee=1):-1!==V&&(Ee=-1);else if(!M){Z=Se+1;break}}if(-1!==fe){const Le=0===Z&&ne?1:Z;-1===V||0===Ee||1===Ee&&V===fe-1&&V===Z+1?j.base=j.name=$.slice(Le,fe):(j.name=$.slice(Le,V),j.base=$.slice(Le,fe),j.ext=$.slice(V,fe))}return Z>0?j.dir=$.slice(0,Z-1):ne&&(j.dir="/"),j},sep:"/",delimiter:":",win32:null,posix:null};P.win32=I.win32=I,P.posix=I.posix=P;const O="win32"===T?I.normalize:P.normalize,H="win32"===T?I.resolve:P.resolve,U="win32"===T?I.relative:P.relative,K="win32"===T?I.dirname:P.dirname,F="win32"===T?I.basename:P.basename,B="win32"===T?I.extname:P.extname,z="win32"===T?I.sep:P.sep},8841:(Et,X,e)=>{"use strict";e.d(X,{$L:()=>U,ED:()=>I,G6:()=>Se,IJ:()=>O,OS:()=>ne,dK:()=>z,dz:()=>P,fn:()=>j,gn:()=>F,i7:()=>fe,li:()=>g,n2:()=>K,r:()=>Z,tY:()=>H,un:()=>Ee,vU:()=>M});var l,d=e(55197),t=e(1762);const S="en";let n,u,v=!1,T=!1,C=!1,E=!1,L=!1,_=!1,s=!1,m=!1,c=!1,a=S,p=null;const g="object"==typeof self?self:"object"==typeof global?global:{};let b;typeof g.vscode<"u"&&typeof g.vscode.process<"u"?b=g.vscode.process:typeof t<"u"&&(b=t);const y="string"==typeof(null===(l=b?.versions)||void 0===l?void 0:l.electron);if("object"!=typeof navigator||y&&"renderer"===b?.type)if("object"==typeof b){v="win32"===b.platform,T="darwin"===b.platform,C="linux"===b.platform,E=C&&!!b.env.SNAP&&!!b.env.SNAP_REVISION,s=y,c=!!b.env.CI||!!b.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=S,a=S;const Ne=b.env.VSCODE_NLS_CONFIG;if(Ne)try{const oe=JSON.parse(Ne);n=oe.locale,a=oe.availableLanguages["*"]||S,p=oe._translationsConfigFile}catch{}L=!0}else console.error("Unable to resolve platform.");else u=navigator.userAgent,v=u.indexOf("Windows")>=0,T=u.indexOf("Macintosh")>=0,m=(u.indexOf("Macintosh")>=0||u.indexOf("iPad")>=0||u.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,C=u.indexOf("Linux")>=0,_=!0,n=d.aj(d.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||S,a=n;let w=0;T?w=1:v?w=3:C&&(w=2);const I=v,P=T,O=C,H=L,U=_,K=_&&"function"==typeof g.importScripts,F=m,B=u,z=a,$="function"==typeof g.postMessage&&!g.importScripts,j=(()=>{if($){const Ne=[];g.addEventListener("message",we=>{if(we.data&&we.data.vscodeScheduleAsyncWork)for(let xe=0,pe=Ne.length;xe<pe;xe++){const Te=Ne[xe];if(Te.id===we.data.vscodeScheduleAsyncWork)return Ne.splice(xe,1),void Te.callback()}});let oe=0;return we=>{const xe=++oe;Ne.push({id:xe,callback:we}),g.postMessage({vscodeScheduleAsyncWork:xe},"*")}}return Ne=>setTimeout(Ne)})(),ne=T||m?2:v?1:3;let N=!0,V=!1;function Z(){if(!V){V=!0;const Ne=new Uint8Array(2);Ne[0]=1,Ne[1]=2,N=513===new Uint16Array(Ne.buffer)[0]}return N}const fe=!!(B&&B.indexOf("Chrome")>=0),M=!!(B&&B.indexOf("Firefox")>=0),Se=!!(!fe&&B&&B.indexOf("Safari")>=0),Ee=!!(B&&B.indexOf("Edg/")>=0);B&&B.indexOf("Android")},36969:(Et,X,e)=>{"use strict";var d;e.d(X,{e:()=>d}),function(t){function l(C,E){if(C.start>=E.end||E.start>=C.end)return{start:0,end:0};const L=Math.max(C.start,E.start),_=Math.min(C.end,E.end);return _-L<=0?{start:0,end:0}:{start:L,end:_}}function S(C){return C.end-C.start<=0}t.intersect=l,t.isEmpty=S,t.intersects=function v(C,E){return!S(l(C,E))},t.relativeComplement=function T(C,E){const L=[],_={start:C.start,end:Math.min(E.start,C.end)},s={start:Math.max(E.end,C.start),end:C.end};return S(_)||L.push(_),S(s)||L.push(s),L}}(d||(d={}))},40734:(Et,X,e)=>{"use strict";e.d(X,{AH:()=>y,DZ:()=>u,EZ:()=>p,Hx:()=>a,SF:()=>L,U9:()=>E,Vb:()=>K,Vo:()=>b,XX:()=>g,Xy:()=>m,i3:()=>w,lX:()=>D,z_:()=>C});var d=e(15240),t=e(59310),l=e(61283),S=e(8841),v=e(73879),T=e(59547);function C(F){return(0,T.q)(F,!0)}class E{constructor(B){this._ignorePathCasing=B}compare(B,z,$=!1){return B===z?0:(0,v.qu)(this.getComparisonKey(B,$),this.getComparisonKey(z,$))}isEqual(B,z,$=!1){return B===z||!(!B||!z)&&this.getComparisonKey(B,$)===this.getComparisonKey(z,$)}getComparisonKey(B,z=!1){return B.with({path:this._ignorePathCasing(B)?B.path.toLowerCase():void 0,fragment:z?null:void 0}).toString()}isEqualOrParent(B,z,$=!1){if(B.scheme===z.scheme){if(B.scheme===t.lg.file)return d.KM(C(B),C(z),this._ignorePathCasing(B))&&B.query===z.query&&($||B.fragment===z.fragment);if(P(B.authority,z.authority))return d.KM(B.path,z.path,this._ignorePathCasing(B),"/")&&B.query===z.query&&($||B.fragment===z.fragment)}return!1}joinPath(B,...z){return T.o.joinPath(B,...z)}basenameOrAuthority(B){return p(B)||B.authority}basename(B){return l.KR.basename(B.path)}extname(B){return l.KR.extname(B.path)}dirname(B){if(0===B.path.length)return B;let z;return B.scheme===t.lg.file?z=T.o.file(l.XX(C(B))).path:(z=l.KR.dirname(B.path),B.authority&&z.length&&47!==z.charCodeAt(0)&&(console.error(`dirname("${B.toString})) resulted in a relative path`),z="/")),B.with({path:z})}normalizePath(B){if(!B.path.length)return B;let z;return z=B.scheme===t.lg.file?T.o.file(l.Fv(C(B))).path:l.KR.normalize(B.path),B.with({path:z})}relativePath(B,z){if(B.scheme!==z.scheme||!P(B.authority,z.authority))return;if(B.scheme===t.lg.file){const ne=l.Gf(C(B),C(z));return S.ED?d.ej(ne):ne}let $=B.path||"/";const j=z.path||"/";if(this._ignorePathCasing(B)){let ne=0;for(const N=Math.min($.length,j.length);ne<N&&($.charCodeAt(ne)===j.charCodeAt(ne)||$.charAt(ne).toLowerCase()===j.charAt(ne).toLowerCase());ne++);$=j.substr(0,ne)+$.substr(ne)}return l.KR.relative($,j)}resolvePath(B,z){if(B.scheme===t.lg.file){const $=T.o.file(l.DB(C(B),z));return B.with({authority:$.authority,path:$.path})}return z=d.fn(z),B.with({path:l.KR.resolve(B.path,z)})}isAbsolutePath(B){return!!B.path&&"/"===B.path[0]}isEqualAuthority(B,z){return B===z||void 0!==B&&void 0!==z&&(0,v.qq)(B,z)}hasTrailingPathSeparator(B,z=l.ir){if(B.scheme===t.lg.file){const $=C(B);return $.length>d.yj($).length&&$[$.length-1]===z}{const $=B.path;return $.length>1&&47===$.charCodeAt($.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(B.fsPath)}}removeTrailingPathSeparator(B,z=l.ir){return O(B,z)?B.with({path:B.path.substr(0,B.path.length-1)}):B}addTrailingPathSeparator(B,z=l.ir){let $=!1;if(B.scheme===t.lg.file){const j=C(B);$=void 0!==j&&j.length===d.yj(j).length&&j[j.length-1]===z}else{z="/";const j=B.path;$=1===j.length&&47===j.charCodeAt(j.length-1)}return $||O(B,z)?B:B.with({path:B.path+"/"})}}const L=new E(()=>!1),m=(new E(F=>F.scheme!==t.lg.file||!S.IJ),new E(F=>!0),L.isEqual.bind(L)),a=(L.isEqualOrParent.bind(L),L.getComparisonKey.bind(L),L.basenameOrAuthority.bind(L)),p=L.basename.bind(L),u=L.extname.bind(L),g=L.dirname.bind(L),b=L.joinPath.bind(L),y=L.normalizePath.bind(L),D=L.relativePath.bind(L),w=L.resolvePath.bind(L),P=(L.isAbsolutePath.bind(L),L.isEqualAuthority.bind(L)),O=L.hasTrailingPathSeparator.bind(L);var K,F;L.removeTrailingPathSeparator.bind(L),L.addTrailingPathSeparator.bind(L),(F=K||(K={})).META_DATA_LABEL="label",F.META_DATA_DESCRIPTION="description",F.META_DATA_SIZE="size",F.META_DATA_MIME="mime",F.parseMetaData=function B(z){const $=new Map;z.path.substring(z.path.indexOf(";")+1,z.path.lastIndexOf(";")).split(";").forEach(N=>{const[V,Z]=N.split(":");V&&Z&&$.set(V,Z)});const ne=z.path.substring(0,z.path.indexOf(";"));return ne&&$.set(F.META_DATA_MIME,ne),$}},87188:(Et,X,e)=>{"use strict";e.d(X,{Rm:()=>S});var d=e(3778),t=e(80142);class l{constructor(m,c,n,a,p,u,g){this._forceIntegerValues=m,this._scrollStateBrand=void 0,this._forceIntegerValues&&(c|=0,n|=0,a|=0,p|=0,u|=0,g|=0),this.rawScrollLeft=a,this.rawScrollTop=g,c<0&&(c=0),a+c>n&&(a=n-c),a<0&&(a=0),p<0&&(p=0),g+p>u&&(g=u-p),g<0&&(g=0),this.width=c,this.scrollWidth=n,this.scrollLeft=a,this.height=p,this.scrollHeight=u,this.scrollTop=g}equals(m){return this.rawScrollLeft===m.rawScrollLeft&&this.rawScrollTop===m.rawScrollTop&&this.width===m.width&&this.scrollWidth===m.scrollWidth&&this.scrollLeft===m.scrollLeft&&this.height===m.height&&this.scrollHeight===m.scrollHeight&&this.scrollTop===m.scrollTop}withScrollDimensions(m,c){return new l(this._forceIntegerValues,typeof m.width<"u"?m.width:this.width,typeof m.scrollWidth<"u"?m.scrollWidth:this.scrollWidth,c?this.rawScrollLeft:this.scrollLeft,typeof m.height<"u"?m.height:this.height,typeof m.scrollHeight<"u"?m.scrollHeight:this.scrollHeight,c?this.rawScrollTop:this.scrollTop)}withScrollPosition(m){return new l(this._forceIntegerValues,this.width,this.scrollWidth,typeof m.scrollLeft<"u"?m.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof m.scrollTop<"u"?m.scrollTop:this.rawScrollTop)}createScrollEvent(m,c){return{inSmoothScrolling:c,oldWidth:m.width,oldScrollWidth:m.scrollWidth,oldScrollLeft:m.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:m.height,oldScrollHeight:m.scrollHeight,oldScrollTop:m.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==m.width,scrollWidthChanged:this.scrollWidth!==m.scrollWidth,scrollLeftChanged:this.scrollLeft!==m.scrollLeft,heightChanged:this.height!==m.height,scrollHeightChanged:this.scrollHeight!==m.scrollHeight,scrollTopChanged:this.scrollTop!==m.scrollTop}}}class S extends t.JT{constructor(m){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new d.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=m.smoothScrollDuration,this._scheduleAtNextAnimationFrame=m.scheduleAtNextAnimationFrame,this._state=new l(m.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(m){this._smoothScrollDuration=m}validateScrollPosition(m){return this._state.withScrollPosition(m)}getScrollDimensions(){return this._state}setScrollDimensions(m,c){var n;const a=this._state.withScrollDimensions(m,c);this._setState(a,Boolean(this._smoothScrolling)),null===(n=this._smoothScrolling)||void 0===n||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(m){const c=this._state.withScrollPosition(m);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(c,!1)}setScrollPositionSmooth(m,c){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(m);if(this._smoothScrolling){const n=this._state.withScrollPosition(m={scrollLeft:typeof m.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:m.scrollLeft,scrollTop:typeof m.scrollTop>"u"?this._smoothScrolling.to.scrollTop:m.scrollTop});if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let a;a=c?new E(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=a}else{const n=this._state.withScrollPosition(m);this._smoothScrolling=E.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const m=this._smoothScrolling.tick(),c=this._state.withScrollPosition(m);if(this._setState(c,!0),this._smoothScrolling){if(m.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(m,c){const n=this._state;n.equals(m)||(this._state=m,this._onScroll.fire(this._state.createScrollEvent(n,c)))}}class v{constructor(m,c,n){this.scrollLeft=m,this.scrollTop=c,this.isDone=n}}function T(s,m){const c=m-s;return function(n){return s+c*function _(s){return 1-function L(s){return Math.pow(s,3)}(1-s)}(n)}}class E{constructor(m,c,n,a){this.from=m,this.to=c,this.duration=a,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(m,c,n){if(Math.abs(m-c)>2.5*n){let p,u;return m<c?(p=m+.75*n,u=c-.75*n):(p=m-.75*n,u=c+.75*n),function C(s,m,c){return function(n){return n<c?s(n/c):m((n-c)/(1-c))}}(T(m,p),T(u,c),.33)}return T(m,c)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(m){this.to=m.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(m){const c=(m-this.startTime)/this.duration;if(c<1){const n=this.scrollLeft(c),a=this.scrollTop(c);return new v(n,a,!1)}return new v(this.to.scrollLeft,this.to.scrollTop,!0)}combine(m,c,n){return E.start(m,c,n)}static start(m,c,n){n+=10;const a=Date.now()-10;return new E(m,c,a,n)}}},50819:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>l});var d=e(73879),t=(()=>{return(S=t||(t={}))[S.Ignore=0]="Ignore",S[S.Info=1]="Info",S[S.Warning=2]="Warning",S[S.Error=3]="Error",t;var S})();!function(S){const v="error",T="warning",E="info";S.fromValue=function _(m){return m?d.qq(v,m)?S.Error:d.qq(T,m)||d.qq("warn",m)?S.Warning:d.qq(E,m)?S.Info:S.Ignore:S.Ignore},S.toString=function s(m){switch(m){case S.Error:return v;case S.Warning:return T;case S.Info:return E;default:return"ignore"}}}(t||(t={}));const l=t},631:(Et,X,e)=>{"use strict";e.d(X,{G:()=>l});var d=e(8841);const t=d.li.performance&&"function"==typeof d.li.performance.now;class l{constructor(v){this._highResolution=t&&v,this._startTime=this._now(),this._stopTime=-1}static create(v=!0){return new l(v)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?d.li.performance.now():Date.now()}}},73879:(Et,X,e)=>{"use strict";e.d(X,{$i:()=>we,B4:()=>_e,C8:()=>de,GF:()=>n,HO:()=>Se,IO:()=>a,J_:()=>Ee,K7:()=>Te,Kw:()=>$e,LC:()=>g,Mh:()=>B,P1:()=>z,PJ:()=>ce,Qe:()=>xe,R1:()=>c,T5:()=>O,TT:()=>w,Ut:()=>Ne,V8:()=>b,W1:()=>fe,WU:()=>T,YK:()=>j,YU:()=>C,ZG:()=>$,ZH:()=>N,ZK:()=>he,ab:()=>pe,c1:()=>ke,df:()=>U,ec:()=>E,fy:()=>L,j3:()=>_,j_:()=>P,m5:()=>S,mK:()=>H,mr:()=>p,oH:()=>Lt,oL:()=>s,ok:()=>F,ow:()=>y,qq:()=>K,qu:()=>D,rL:()=>ne,uS:()=>ze,un:()=>m,uq:()=>u,vH:()=>M,vU:()=>le,zY:()=>I});var l,d=e(71664),t=e(27386);function S(Q){return!Q||"string"!=typeof Q||0===Q.trim().length}const v=/{(\d+)}/g;function T(Q,...ve){return 0===ve.length?Q:Q.replace(v,function(Ae,dt){const st=parseInt(dt,10);return isNaN(st)||st<0||st>=ve.length?Ae:ve[st]})}function C(Q){return Q.replace(/[<>&]/g,function(ve){switch(ve){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ve}})}function E(Q){return Q.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function L(Q,ve=" "){return s(_(Q,ve),ve)}function _(Q,ve){if(!Q||!ve)return Q;const Ae=ve.length;if(0===Ae||0===Q.length)return Q;let dt=0;for(;Q.indexOf(ve,dt)===dt;)dt+=Ae;return Q.substring(dt)}function s(Q,ve){if(!Q||!ve)return Q;const Ae=ve.length,dt=Q.length;if(0===Ae||0===dt)return Q;let st=dt,et=-1;for(;et=Q.lastIndexOf(ve,st-1),-1!==et&&et+Ae===st;){if(0===et)return"";st=et}return Q.substring(0,st)}function m(Q){return Q.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function c(Q){return Q.replace(/\*/g,"")}function n(Q,ve,Ae={}){if(!Q)throw new Error("Cannot create regex from empty string");ve||(Q=E(Q)),Ae.wholeWord&&(/\B/.test(Q.charAt(0))||(Q="\\b"+Q),/\B/.test(Q.charAt(Q.length-1))||(Q+="\\b"));let dt="";return Ae.global&&(dt+="g"),Ae.matchCase||(dt+="i"),Ae.multiline&&(dt+="m"),Ae.unicode&&(dt+="u"),new RegExp(Q,dt)}function a(Q){return"^"!==Q.source&&"^$"!==Q.source&&"$"!==Q.source&&"^\\s*$"!==Q.source&&!(!Q.exec("")||0!==Q.lastIndex)}function p(Q){return(Q.global?"g":"")+(Q.ignoreCase?"i":"")+(Q.multiline?"m":"")+(Q.unicode?"u":"")}function u(Q){return Q.split(/\r\n|\r|\n/)}function g(Q){for(let ve=0,Ae=Q.length;ve<Ae;ve++){const dt=Q.charCodeAt(ve);if(32!==dt&&9!==dt)return ve}return-1}function b(Q,ve=0,Ae=Q.length){for(let dt=ve;dt<Ae;dt++){const st=Q.charCodeAt(dt);if(32!==st&&9!==st)return Q.substring(ve,dt)}return Q.substring(ve,Ae)}function y(Q,ve=Q.length-1){for(let Ae=ve;Ae>=0;Ae--){const dt=Q.charCodeAt(Ae);if(32!==dt&&9!==dt)return Ae}return-1}function D(Q,ve){return Q<ve?-1:Q>ve?1:0}function w(Q,ve,Ae=0,dt=Q.length,st=0,et=ve.length){for(;Ae<dt&&st<et;Ae++,st++){const vt=Q.charCodeAt(Ae),mt=ve.charCodeAt(st);if(vt<mt)return-1;if(vt>mt)return 1}const Qe=dt-Ae,tt=et-st;return Qe<tt?-1:Qe>tt?1:0}function I(Q,ve){return P(Q,ve,0,Q.length,0,ve.length)}function P(Q,ve,Ae=0,dt=Q.length,st=0,et=ve.length){for(;Ae<dt&&st<et;Ae++,st++){let vt=Q.charCodeAt(Ae),mt=ve.charCodeAt(st);if(vt===mt)continue;if(vt>=128||mt>=128)return w(Q.toLowerCase(),ve.toLowerCase(),Ae,dt,st,et);H(vt)&&(vt-=32),H(mt)&&(mt-=32);const _t=vt-mt;if(0!==_t)return _t}const Qe=dt-Ae,tt=et-st;return Qe<tt?-1:Qe>tt?1:0}function O(Q){return Q>=48&&Q<=57}function H(Q){return Q>=97&&Q<=122}function U(Q){return Q>=65&&Q<=90}function K(Q,ve){return Q.length===ve.length&&0===P(Q,ve)}function F(Q,ve){return!(ve.length>Q.length)&&0===P(Q,ve,0,ve.length)}function B(Q,ve){const Ae=Math.min(Q.length,ve.length);let dt;for(dt=0;dt<Ae;dt++)if(Q.charCodeAt(dt)!==ve.charCodeAt(dt))return dt;return Ae}function z(Q,ve){const Ae=Math.min(Q.length,ve.length);let dt;const st=Q.length-1,et=ve.length-1;for(dt=0;dt<Ae;dt++)if(Q.charCodeAt(st-dt)!==ve.charCodeAt(et-dt))return dt;return Ae}function $(Q){return 55296<=Q&&Q<=56319}function j(Q){return 56320<=Q&&Q<=57343}function ne(Q,ve){return ve-56320+(Q-55296<<10)+65536}function N(Q,ve,Ae){const dt=Q.charCodeAt(Ae);if($(dt)&&Ae+1<ve){const st=Q.charCodeAt(Ae+1);if(j(st))return ne(dt,st)}return dt}class Z{constructor(ve,Ae=0){this._str=ve,this._len=ve.length,this._offset=Ae}get offset(){return this._offset}setOffset(ve){this._offset=ve}prevCodePoint(){const ve=function V(Q,ve){const Ae=Q.charCodeAt(ve-1);if(j(Ae)&&ve>1){const dt=Q.charCodeAt(ve-2);if($(dt))return ne(dt,Ae)}return Ae}(this._str,this._offset);return this._offset-=ve>=65536?2:1,ve}nextCodePoint(){const ve=N(this._str,this._len,this._offset);return this._offset+=ve>=65536?2:1,ve}eol(){return this._offset>=this._len}}class fe{constructor(ve,Ae=0){this._iterator=new Z(ve,Ae)}get offset(){return this._iterator.offset}nextGraphemeLength(){const ve=nt.getInstance(),Ae=this._iterator,dt=Ae.offset;let st=ve.getGraphemeBreakType(Ae.nextCodePoint());for(;!Ae.eol();){const et=Ae.offset,Qe=ve.getGraphemeBreakType(Ae.nextCodePoint());if(Ue(st,Qe)){Ae.setOffset(et);break}st=Qe}return Ae.offset-dt}prevGraphemeLength(){const ve=nt.getInstance(),Ae=this._iterator,dt=Ae.offset;let st=ve.getGraphemeBreakType(Ae.prevCodePoint());for(;Ae.offset>0;){const et=Ae.offset,Qe=ve.getGraphemeBreakType(Ae.prevCodePoint());if(Ue(Qe,st)){Ae.setOffset(et);break}st=Qe}return dt-Ae.offset}eol(){return this._iterator.eol()}}function M(Q,ve){return new fe(Q,ve).nextGraphemeLength()}function Se(Q,ve){return new fe(Q,ve).prevGraphemeLength()}function Ee(Q,ve){ve>0&&j(Q.charCodeAt(ve))&&ve--;const Ae=ve+M(Q,ve);return[Ae-Se(Q,Ae),Ae]}const Le=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Ne(Q){return Le.test(Q)}const oe=/^[\t\n\r\x20-\x7E]*$/;function we(Q){return oe.test(Q)}const xe=/[\u2028\u2029]/;function pe(Q){return xe.test(Q)}function Te(Q){return Q>=11904&&Q<=55215||Q>=63744&&Q<=64255||Q>=65281&&Q<=65374}function de(Q){return Q>=127462&&Q<=127487||8986===Q||8987===Q||9200===Q||9203===Q||Q>=9728&&Q<=10175||11088===Q||11093===Q||Q>=127744&&Q<=128591||Q>=128640&&Q<=128764||Q>=128992&&Q<=129008||Q>=129280&&Q<=129535||Q>=129648&&Q<=129782}const ke=String.fromCharCode(65279);function ze(Q){return!!(Q&&Q.length>0&&65279===Q.charCodeAt(0))}function $e(Q,ve=!1){return!!Q&&(ve&&(Q=Q.replace(/\\./g,"")),Q.toLowerCase()!==Q)}function ce(Q){return Q%=52,String.fromCharCode(Q<26?97+Q:65+Q-26)}function Ue(Q,ve){return 0===Q?5!==ve&&7!==ve:!(2===Q&&3===ve||4!==Q&&2!==Q&&3!==Q&&4!==ve&&2!==ve&&3!==ve&&(8===Q&&(8===ve||9===ve||11===ve||12===ve)||(11===Q||9===Q)&&(9===ve||10===ve)||(12===Q||10===Q)&&10===ve||5===ve||13===ve||7===ve||1===Q||13===Q&&14===ve||6===Q&&6===ve))}let nt=(()=>{class Q{constructor(){this._data=function Dt(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}static getInstance(){return Q._INSTANCE||(Q._INSTANCE=new Q),Q._INSTANCE}getGraphemeBreakType(Ae){if(Ae<32)return 10===Ae?3:13===Ae?2:4;if(Ae<127)return 0;const dt=this._data,st=dt.length/3;let et=1;for(;et<=st;)if(Ae<dt[3*et])et*=2;else{if(!(Ae>dt[3*et+1]))return dt[3*et+2];et=2*et+1}return 0}}return Q._INSTANCE=null,Q})();function Lt(Q,ve){if(0===Q)return 0;const Ae=function Ze(Q,ve){const Ae=new Z(ve,Q);let dt=Ae.prevCodePoint();for(;ae(dt)||65039===dt||8419===dt;){if(0===Ae.offset)return;dt=Ae.prevCodePoint()}if(!de(dt))return;let st=Ae.offset;return st>0&&8205===Ae.prevCodePoint()&&(st=Ae.offset),st}(Q,ve);if(void 0!==Ae)return Ae;const dt=new Z(ve,Q);return dt.prevCodePoint(),dt.offset}function ae(Q){return 127995<=Q&&Q<=127999}const _e="\xa0";class he{constructor(ve){this.confusableDictionary=ve}static getInstance(ve){return he.cache.get(Array.from(ve))}static getLocales(){return he._locales.getValue()}isAmbiguous(ve){return this.confusableDictionary.has(ve)}getPrimaryConfusable(ve){return this.confusableDictionary.get(ve)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}l=he,he.ambiguousCharacterData=new t.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),he.cache=new d.t(Q=>{function ve(mt){const _t=new Map;for(let Kt=0;Kt<mt.length;Kt+=2)_t.set(mt[Kt],mt[Kt+1]);return _t}function dt(mt,_t){if(!mt)return _t;const Kt=new Map;for(const[Bt,Ge]of mt)_t.has(Bt)&&Kt.set(Bt,Ge);return Kt}const st=l.ambiguousCharacterData.getValue();let Qe,et=Q.filter(mt=>!mt.startsWith("_")&&mt in st);0===et.length&&(et=["_default"]);for(const mt of et)Qe=dt(Qe,ve(st[mt]));const vt=function Ae(mt,_t){const Kt=new Map(mt);for(const[Bt,Ge]of _t)Kt.set(Bt,Ge);return Kt}(ve(st._common),Qe);return new he(vt)}),he._locales=new t.o(()=>Object.keys(he.ambiguousCharacterData.getValue()).filter(Q=>!Q.startsWith("_")));class le{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(le.getRawData())),this._data}static isInvisibleCharacter(ve){return le.getData().has(ve)}static get codePoints(){return le.getData()}}le._data=void 0},72715:(Et,X,e)=>{"use strict";function d(D){return Array.isArray(D)}function t(D){return"string"==typeof D}function l(D){return!("object"!=typeof D||null===D||Array.isArray(D)||D instanceof RegExp||D instanceof Date)}function S(D){const w=Object.getPrototypeOf(Uint8Array);return"object"==typeof D&&D instanceof w}function v(D){return"number"==typeof D&&!isNaN(D)}function T(D){return!!D&&"function"==typeof D[Symbol.iterator]}function C(D){return!0===D||!1===D}function E(D){return typeof D>"u"}function L(D){return!_(D)}function _(D){return E(D)||null===D}function s(D,w){if(!D)throw new Error(w?`Unexpected type, expected '${w}'`:"Unexpected type")}function m(D){if(_(D))throw new Error("Assertion Failed: argument is undefined or null");return D}function c(D){return"function"==typeof D}function n(D,w){const I=Math.min(D.length,w.length);for(let P=0;P<I;P++)a(D[P],w[P])}function a(D,w){if(t(w)){if(typeof D!==w)throw new Error(`argument does not match constraint: typeof ${w}`)}else if(c(w)){try{if(D instanceof w)return}catch{}if(!_(D)&&D.constructor===w||1===w.length&&!0===w.call(void 0,D))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function u(D){const w=[];for(const I of function p(D){let w=[],I=Object.getPrototypeOf(D);for(;Object.prototype!==I;)w=w.concat(Object.getOwnPropertyNames(I)),I=Object.getPrototypeOf(I);return w}(D))"function"==typeof D[I]&&w.push(I);return w}function g(D,w){const I=O=>function(){const H=Array.prototype.slice.call(arguments,0);return w(O,H)},P={};for(const O of D)P[O]=I(O);return P}function b(D){return null===D?void 0:D}function y(D,w="Unreachable"){throw new Error(w)}e.d(X,{$E:()=>u,$K:()=>L,D8:()=>n,HD:()=>t,IU:()=>g,Jp:()=>_,Kn:()=>l,Nf:()=>a,TW:()=>T,cW:()=>m,f6:()=>b,fU:()=>S,hj:()=>v,jn:()=>C,kJ:()=>d,mf:()=>c,o8:()=>E,p_:()=>s,vE:()=>y})},48071:(Et,X,e)=>{"use strict";function d(l){return l<0?0:l>255?255:0|l}function t(l){return l<0?0:l>4294967295?4294967295:0|l}e.d(X,{A:()=>t,K:()=>d})},59547:(Et,X,e)=>{"use strict";e.d(X,{o:()=>m,q:()=>g});var d=e(61283),t=e(8841);const l=/^\w[\w\d+.-]*$/,S=/^\//,v=/^\/\//;function T(I,P){if(!I.scheme&&P)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${I.authority}", path: "${I.path}", query: "${I.query}", fragment: "${I.fragment}"}`);if(I.scheme&&!l.test(I.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(I.path)if(I.authority){if(!S.test(I.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(I.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const L="",_="/",s=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class m{constructor(P,O,H,U,K,F=!1){"object"==typeof P?(this.scheme=P.scheme||L,this.authority=P.authority||L,this.path=P.path||L,this.query=P.query||L,this.fragment=P.fragment||L):(this.scheme=function C(I,P){return I||P?I:"file"}(P,F),this.authority=O||L,this.path=function E(I,P){switch(I){case"https":case"http":case"file":P?P[0]!==_&&(P=_+P):P=_}return P}(this.scheme,H||L),this.query=U||L,this.fragment=K||L,T(this,F))}static isUri(P){return P instanceof m||!!P&&"string"==typeof P.authority&&"string"==typeof P.fragment&&"string"==typeof P.path&&"string"==typeof P.query&&"string"==typeof P.scheme&&"string"==typeof P.fsPath&&"function"==typeof P.with&&"function"==typeof P.toString}get fsPath(){return g(this,!1)}with(P){if(!P)return this;let{scheme:O,authority:H,path:U,query:K,fragment:F}=P;return void 0===O?O=this.scheme:null===O&&(O=L),void 0===H?H=this.authority:null===H&&(H=L),void 0===U?U=this.path:null===U&&(U=L),void 0===K?K=this.query:null===K&&(K=L),void 0===F?F=this.fragment:null===F&&(F=L),O===this.scheme&&H===this.authority&&U===this.path&&K===this.query&&F===this.fragment?this:new n(O,H,U,K,F)}static parse(P,O=!1){const H=s.exec(P);return H?new n(H[2]||L,w(H[4]||L),w(H[5]||L),w(H[7]||L),w(H[9]||L),O):new n(L,L,L,L,L)}static file(P){let O=L;if(t.ED&&(P=P.replace(/\\/g,_)),P[0]===_&&P[1]===_){const H=P.indexOf(_,2);-1===H?(O=P.substring(2),P=_):(O=P.substring(2,H),P=P.substring(H)||_)}return new n("file",O,P,L,L)}static from(P){const O=new n(P.scheme,P.authority,P.path,P.query,P.fragment);return T(O,!0),O}static joinPath(P,...O){if(!P.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let H;return H=t.ED&&"file"===P.scheme?m.file(d.Ku.join(g(P,!0),...O)).path:d.KR.join(P.path,...O),P.with({path:H})}toString(P=!1){return b(this,P)}toJSON(){return this}static revive(P){if(P){if(P instanceof m)return P;{const O=new n(P);return O._formatted=P.external,O._fsPath=P._sep===c?P.fsPath:null,O}}return P}}const c=t.ED?1:void 0;class n extends m{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=g(this,!1)),this._fsPath}toString(P=!1){return P?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const P={$mid:1};return this._fsPath&&(P.fsPath=this._fsPath,P._sep=c),this._formatted&&(P.external=this._formatted),this.path&&(P.path=this.path),this.scheme&&(P.scheme=this.scheme),this.authority&&(P.authority=this.authority),this.query&&(P.query=this.query),this.fragment&&(P.fragment=this.fragment),P}}const a={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function p(I,P){let O,H=-1;for(let U=0;U<I.length;U++){const K=I.charCodeAt(U);if(K>=97&&K<=122||K>=65&&K<=90||K>=48&&K<=57||45===K||46===K||95===K||126===K||P&&47===K)-1!==H&&(O+=encodeURIComponent(I.substring(H,U)),H=-1),void 0!==O&&(O+=I.charAt(U));else{void 0===O&&(O=I.substr(0,U));const F=a[K];void 0!==F?(-1!==H&&(O+=encodeURIComponent(I.substring(H,U)),H=-1),O+=F):-1===H&&(H=U)}}return-1!==H&&(O+=encodeURIComponent(I.substring(H))),void 0!==O?O:I}function u(I){let P;for(let O=0;O<I.length;O++){const H=I.charCodeAt(O);35===H||63===H?(void 0===P&&(P=I.substr(0,O)),P+=a[H]):void 0!==P&&(P+=I[O])}return void 0!==P?P:I}function g(I,P){let O;return O=I.authority&&I.path.length>1&&"file"===I.scheme?`//${I.authority}${I.path}`:47===I.path.charCodeAt(0)&&(I.path.charCodeAt(1)>=65&&I.path.charCodeAt(1)<=90||I.path.charCodeAt(1)>=97&&I.path.charCodeAt(1)<=122)&&58===I.path.charCodeAt(2)?P?I.path.substr(1):I.path[1].toLowerCase()+I.path.substr(2):I.path,t.ED&&(O=O.replace(/\//g,"\\")),O}function b(I,P){const O=P?u:p;let H="",{scheme:U,authority:K,path:F,query:B,fragment:z}=I;if(U&&(H+=U,H+=":"),(K||"file"===U)&&(H+=_,H+=_),K){let $=K.indexOf("@");if(-1!==$){const j=K.substr(0,$);K=K.substr($+1),$=j.indexOf(":"),-1===$?H+=O(j,!1):(H+=O(j.substr(0,$),!1),H+=":",H+=O(j.substr($+1),!1)),H+="@"}K=K.toLowerCase(),$=K.indexOf(":"),-1===$?H+=O(K,!1):(H+=O(K.substr(0,$),!1),H+=K.substr($))}if(F){if(F.length>=3&&47===F.charCodeAt(0)&&58===F.charCodeAt(2)){const $=F.charCodeAt(1);$>=65&&$<=90&&(F=`/${String.fromCharCode($+32)}:${F.substr(3)}`)}else if(F.length>=2&&58===F.charCodeAt(1)){const $=F.charCodeAt(0);$>=65&&$<=90&&(F=`${String.fromCharCode($+32)}:${F.substr(2)}`)}H+=O(F,!0)}return B&&(H+="?",H+=O(B,!1)),z&&(H+="#",H+=P?z:p(z,!1)),H}function y(I){try{return decodeURIComponent(I)}catch{return I.length>3?I.substr(0,3)+y(I.substr(3)):I}}const D=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(I){return I.match(D)?I.replace(D,P=>y(P)):I}},15067:(Et,X,e)=>{"use strict";e.d(X,{R:()=>d});const d=function(){if("object"==typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID.bind(crypto);let t;t="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(v){for(let T=0;T<v.length;T++)v[T]=Math.floor(256*Math.random());return v};const l=new Uint8Array(16),S=[];for(let v=0;v<256;v++)S.push(v.toString(16).padStart(2,"0"));return function(){t(l),l[6]=15&l[6]|64,l[8]=63&l[8]|128;let T=0,C="";return C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+="-",C+=S[l[T++]],C+=S[l[T++]],C+="-",C+=S[l[T++]],C+=S[l[T++]],C+="-",C+=S[l[T++]],C+=S[l[T++]],C+="-",C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C+=S[l[T++]],C}}()},50342:(Et,X,e)=>{"use strict";e.d(X,{O:()=>be});var d=e(98463),t=e(41140),l=e(65065),S=e(62922),v=e(97139),T=e(69355),C=e(3778),E=e(80142),L=e(6276),_=e(57856),s=e.n(_),m=e(38470),c=e.n(m),n=e(43370),a=e.n(n),p=e(28458),u=e.n(p),g=e(71278),b=e.n(g),y=e(29488),D=e.n(y),w=e(91169),I={};I.styleTagTransform=D(),I.setAttributes=u(),I.insert=a().bind(null,"head"),I.domAPI=c(),I.insertStyleElement=b(),s()(w.Z,I);const H={buttonBackground:T.Il.fromHex("#0E639C"),buttonHoverBackground:T.Il.fromHex("#006BB3"),buttonSeparator:T.Il.white,buttonForeground:T.Il.white};class U extends E.JT{constructor(Fe,ot){super(),this._onDidClick=this._register(new C.Q5),this.options=ot||Object.create(null),(0,L.jB)(this.options,H,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),Fe.appendChild(this._element),this._register(S.o.addTarget(this._element)),[d.tw.CLICK,S.t.Tap].forEach(bt=>{this._register((0,d.nm)(this._element,bt,Ht=>{this.enabled?this._onDidClick.fire(Ht):d.zB.stop(Ht)}))}),this._register((0,d.nm)(this._element,d.tw.KEY_DOWN,bt=>{const Ht=new t.y(bt);let vn=!1;this.enabled&&(Ht.equals(3)||Ht.equals(10))?(this._onDidClick.fire(bt),vn=!0):Ht.equals(9)&&(this._element.blur(),vn=!0),vn&&d.zB.stop(Ht,!0)})),this._register((0,d.nm)(this._element,d.tw.MOUSE_OVER,bt=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,d.nm)(this._element,d.tw.MOUSE_OUT,bt=>{this.applyStyles()})),this.focusTracker=this._register((0,d.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let Fe;Fe=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,Fe&&(this._element.style.backgroundColor=Fe)}style(Fe){this.buttonForeground=Fe.buttonForeground,this.buttonBackground=Fe.buttonBackground,this.buttonHoverBackground=Fe.buttonHoverBackground,this.buttonSecondaryForeground=Fe.buttonSecondaryForeground,this.buttonSecondaryBackground=Fe.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=Fe.buttonSecondaryHoverBackground,this.buttonBorder=Fe.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let Fe,ot;this.options.secondary?(ot=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",Fe=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(ot=this.buttonForeground?this.buttonForeground.toString():"",Fe=this.buttonBackground?this.buttonBackground.toString():"");const bt=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=ot,this._element.style.backgroundColor=Fe,this._element.style.borderWidth=bt?"1px":"",this._element.style.borderStyle=bt?"solid":"",this._element.style.borderColor=bt}}get element(){return this._element}set label(Fe){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,d.mc)(this._element,...(0,v.T)(Fe)):this._element.textContent=Fe,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=Fe)}set enabled(Fe){Fe?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var K=e(30535),F=e(24738),B=e(827),z=e(64023),$=e(48648),j=e(73888),ne=e(58783),N=e(8841),V=e(50819),Z=e(72715),fe=e(84575),M=e(41015),Se={};Se.styleTagTransform=D(),Se.setAttributes=u(),Se.insert=a().bind(null,"head"),Se.domAPI=c(),Se.insertStyleElement=b(),s()(M.Z,Se);const Ne={},oe=new fe.R("quick-input-button-icon-");function we(qe){if(!qe)return;let Fe;const ot=qe.dark.toString();return Ne[ot]?Fe=Ne[ot]:(Fe=oe.nextId(),d.fk(`.${Fe}, .hc-light .${Fe}`,`background-image: ${d.wY(qe.light||qe.dark)}`),d.fk(`.vs-dark .${Fe}, .hc-black .${Fe}`,`background-image: ${d.wY(qe.dark)}`),Ne[ot]=Fe),Fe}var xe=e(39263),pe=e(55197),Te=e(97340),de=e(1689);const ke=d.$;class ze extends E.JT{constructor(Fe){super(),this.parent=Fe,this.onKeyDown=ot=>d.nm(this.inputBox.inputElement,d.tw.KEY_DOWN,bt=>{ot(new t.y(bt))}),this.onMouseDown=ot=>d.nm(this.inputBox.inputElement,d.tw.MOUSE_DOWN,bt=>{ot(new Te.n(bt))}),this.onDidChange=ot=>this.inputBox.onDidChange(ot),this.container=d.R3(this.parent,ke(".quick-input-box")),this.inputBox=this._register(new de.W(this.container,void 0))}get value(){return this.inputBox.value}set value(Fe){this.inputBox.value=Fe}select(Fe=null){this.inputBox.select(Fe)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(Fe){this.inputBox.setPlaceHolder(Fe)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(Fe){this.inputBox.setAriaLabel(Fe)}get password(){return"password"===this.inputBox.inputElement.type}set password(Fe){this.inputBox.inputElement.type=Fe?"password":"text"}setAttribute(Fe,ot){this.inputBox.inputElement.setAttribute(Fe,ot)}removeAttribute(Fe){this.inputBox.inputElement.removeAttribute(Fe)}showDecoration(Fe){Fe===V.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:Fe===V.Z.Info?1:Fe===V.Z.Warning?2:3,content:""})}stylesForType(Fe){return this.inputBox.stylesForType(Fe===V.Z.Info?1:Fe===V.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(Fe){this.inputBox.style(Fe)}}var $e=e(80757),ce=e(11719),Ue=e(30333),nt={};nt.styleTagTransform=D(),nt.setAttributes=u(),nt.insert=a().bind(null,"head"),nt.domAPI=c(),nt.insertStyleElement=b(),s()(Ue.Z,nt);const Ze=d.$;class ae{constructor(Fe,ot,bt){this.os=ot,this.keyElements=new Set,this.options=bt||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=d.R3(Fe,Ze(".monaco-keybinding")),this.didEverRender=!1,Fe.appendChild(this.domNode)}get element(){return this.domNode}set(Fe,ot){this.didEverRender&&this.keybinding===Fe&&ae.areSame(this.matches,ot)||(this.keybinding=Fe,this.matches=ot,this.render())}render(){if(this.clear(),this.keybinding){const[Fe,ot]=this.keybinding.getParts();Fe&&this.renderPart(this.domNode,Fe,this.matches?this.matches.firstPart:null),ot&&(d.R3(this.domNode,Ze("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,ot,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){d.PO(this.domNode),this.keyElements.clear()}renderPart(Fe,ot,bt){const Ht=ce.xo.modifierLabels[this.os];ot.ctrlKey&&this.renderKey(Fe,Ht.ctrlKey,Boolean(bt?.ctrlKey),Ht.separator),ot.shiftKey&&this.renderKey(Fe,Ht.shiftKey,Boolean(bt?.shiftKey),Ht.separator),ot.altKey&&this.renderKey(Fe,Ht.altKey,Boolean(bt?.altKey),Ht.separator),ot.metaKey&&this.renderKey(Fe,Ht.metaKey,Boolean(bt?.metaKey),Ht.separator);const vn=ot.keyLabel;vn&&this.renderKey(Fe,vn,Boolean(bt?.keyCode),"")}renderKey(Fe,ot,bt,Ht){d.R3(Fe,this.createKeyElement(ot,bt?".highlight":"")),Ht&&d.R3(Fe,Ze("span.monaco-keybinding-key-separator",void 0,Ht))}renderUnbound(Fe){d.R3(Fe,this.createKeyElement((0,pe.NC)("unbound","Unbound")))}createKeyElement(Fe,ot=""){const bt=Ze("span.monaco-keybinding-key"+ot,void 0,Fe);return this.keyElements.add(bt),bt}style(Fe){this.labelBackground=Fe.keybindingLabelBackground,this.labelForeground=Fe.keybindingLabelForeground,this.labelBorder=Fe.keybindingLabelBorder,this.labelBottomBorder=Fe.keybindingLabelBottomBorder,this.labelShadow=Fe.keybindingLabelShadow,this.applyStyles()}applyStyles(){var Fe;if(this.element){for(const ot of this.keyElements)this.labelBackground&&(ot.style.backgroundColor=null===(Fe=this.labelBackground)||void 0===Fe?void 0:Fe.toString()),this.labelBorder&&(ot.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(ot.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(ot.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(Fe,ot){return Fe===ot||!Fe&&!ot||!!Fe&&!!ot&&(0,L.fS)(Fe.firstPart,ot.firstPart)&&(0,L.fS)(Fe.chordPart,ot.chordPart)}}const _e=new $.Ue(()=>{const qe=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:qe,collatorIsNumeric:qe.resolvedOptions().numeric}});new $.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new $.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var dt=e(66471),st=e(59882),et=e(73879),Qe=function(qe,Fe,ot,bt){var Mn,Ht=arguments.length,vn=Ht<3?Fe:null===bt?bt=Object.getOwnPropertyDescriptor(Fe,ot):bt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)vn=Reflect.decorate(qe,Fe,ot,bt);else for(var Ct=qe.length-1;Ct>=0;Ct--)(Mn=qe[Ct])&&(vn=(Ht<3?Mn(vn):Ht>3?Mn(Fe,ot,vn):Mn(Fe,ot))||vn);return Ht>3&&vn&&Object.defineProperty(Fe,ot,vn),vn};const vt=d.$;class mt{constructor(Fe){this.hidden=!1,this._onChecked=new C.Q5,this.onChecked=this._onChecked.event,Object.assign(this,Fe)}get checked(){return!!this._checked}set checked(Fe){Fe!==this._checked&&(this._checked=Fe,this._onChecked.fire(Fe))}dispose(){this._onChecked.dispose()}}let _t=(()=>{class qe{get templateId(){return qe.ID}renderTemplate(ot){const bt=Object.create(null);bt.toDisposeElement=[],bt.toDisposeTemplate=[],bt.entry=d.R3(ot,vt(".quick-input-list-entry"));const Ht=d.R3(bt.entry,vt("label.quick-input-list-label"));bt.toDisposeTemplate.push(d.mu(Ht,d.tw.CLICK,yn=>{bt.checkbox.offsetParent||yn.preventDefault()})),bt.checkbox=d.R3(Ht,vt("input.quick-input-list-checkbox")),bt.checkbox.type="checkbox",bt.toDisposeTemplate.push(d.mu(bt.checkbox,d.tw.CHANGE,yn=>{bt.element.checked=bt.checkbox.checked}));const vn=d.R3(Ht,vt(".quick-input-list-rows")),Mn=d.R3(vn,vt(".quick-input-list-row")),Ct=d.R3(vn,vt(".quick-input-list-row"));bt.label=new $e.g(Mn,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const fn=d.R3(Mn,vt(".quick-input-list-entry-keybinding"));bt.keybinding=new ae(fn,N.OS);const Vn=d.R3(Ct,vt(".quick-input-list-label-meta"));return bt.detail=new $e.g(Vn,{supportHighlights:!0,supportIcons:!0}),bt.separator=d.R3(bt.entry,vt(".quick-input-list-separator")),bt.actionBar=new l.o(bt.entry),bt.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),bt.toDisposeTemplate.push(bt.actionBar),bt}renderElement(ot,bt,Ht){Ht.toDisposeElement=(0,E.B9)(Ht.toDisposeElement),Ht.element=ot,Ht.checkbox.checked=ot.checked,Ht.toDisposeElement.push(ot.onChecked(yn=>Ht.checkbox.checked=yn));const{labelHighlights:vn,descriptionHighlights:Mn,detailHighlights:Ct}=ot,fn=Object.create(null);fn.matches=vn||[],fn.descriptionTitle=ot.saneDescription,fn.descriptionMatches=Mn||[],fn.extraClasses=ot.item.iconClasses,fn.italic=ot.item.italic,fn.strikethrough=ot.item.strikethrough,Ht.label.setLabel(ot.saneLabel,ot.saneDescription,fn),Ht.keybinding.set(ot.item.keybinding),ot.saneDetail&&Ht.detail.setLabel(ot.saneDetail,void 0,{matches:Ct,title:ot.saneDetail}),ot.separator&&ot.separator.label?(Ht.separator.textContent=ot.separator.label,Ht.separator.style.display=""):Ht.separator.style.display="none",Ht.entry.classList.toggle("quick-input-list-separator-border",!!ot.separator),Ht.actionBar.clear();const Vn=ot.item.buttons;Vn&&Vn.length?(Ht.actionBar.push(Vn.map((yn,zn)=>{let li=yn.iconClass||(yn.iconPath?we(yn.iconPath):void 0);yn.alwaysVisible&&(li=li?`${li} always-visible`:"always-visible");const oi=new B.aU(`id-${zn}`,"",li,!0,()=>function(qe,Fe,ot,bt){return new(ot||(ot=Promise))(function(vn,Mn){function Ct(yn){try{Vn(bt.next(yn))}catch(zn){Mn(zn)}}function fn(yn){try{Vn(bt.throw(yn))}catch(zn){Mn(zn)}}function Vn(yn){yn.done?vn(yn.value):function Ht(vn){return vn instanceof ot?vn:new ot(function(Mn){Mn(vn)})}(yn.value).then(Ct,fn)}Vn((bt=bt.apply(qe,Fe||[])).next())})}(this,void 0,void 0,function*(){ot.fireButtonTriggered({button:yn,item:ot.item})}));return oi.tooltip=yn.tooltip||"",oi}),{icon:!0,label:!1}),Ht.entry.classList.add("has-actions")):Ht.entry.classList.remove("has-actions")}disposeElement(ot,bt,Ht){Ht.toDisposeElement=(0,E.B9)(Ht.toDisposeElement)}disposeTemplate(ot){ot.toDisposeElement=(0,E.B9)(ot.toDisposeElement),ot.toDisposeTemplate=(0,E.B9)(ot.toDisposeTemplate)}}return qe.ID="listelement",qe})();class Kt{getHeight(Fe){return Fe.saneDetail?44:22}getTemplateId(Fe){return _t.ID}}var Bt=(()=>{return(qe=Bt||(Bt={}))[qe.First=1]="First",qe[qe.Second=2]="Second",qe[qe.Last=3]="Last",qe[qe.Next=4]="Next",qe[qe.Previous=5]="Previous",qe[qe.NextPage=6]="NextPage",qe[qe.PreviousPage=7]="PreviousPage",Bt;var qe})();class Ge{constructor(Fe,ot,bt){this.parent=Fe,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new C.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new C.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new C.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new C.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new C.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new C.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new C.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=ot,this.container=d.R3(this.parent,vt(".quick-input-list"));const Ht=new Kt,vn=new Dn;this.list=bt.createList("QuickInput",this.container,Ht,[new _t],{identityProvider:{getId:Mn=>Mn.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:vn}),this.list.getHTMLElement().id=ot,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Mn=>{const Ct=new t.y(Mn);switch(Ct.keyCode){case 10:this.toggleCheckbox();break;case 31:(N.dz?Mn.metaKey:Mn.ctrlKey)&&this.list.setFocus((0,z.w6)(this.list.length));break;case 16:{const fn=this.list.getFocus();1===fn.length&&0===fn[0]&&this._onLeave.fire();break}case 18:{const fn=this.list.getFocus();1===fn.length&&fn[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(Ct)})),this.disposables.push(this.list.onMouseDown(Mn=>{2!==Mn.browserEvent.button&&Mn.browserEvent.preventDefault()})),this.disposables.push(d.nm(this.container,d.tw.CLICK,Mn=>{(Mn.x||Mn.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Mn=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Mn=>{"number"==typeof Mn.index&&(Mn.browserEvent.preventDefault(),this.list.setSelection([Mn.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return C.ju.map(this.list.onDidChangeFocus,Fe=>Fe.elements.map(ot=>ot.item))}get onDidChangeSelection(){return C.ju.map(this.list.onDidChangeSelection,Fe=>({items:Fe.elements.map(ot=>ot.item),event:Fe.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(Fe){this.list.scrollTop=Fe}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(Fe,ot=!0){for(let bt=0,Ht=Fe.length;bt<Ht;bt++){const vn=Fe[bt];if(!vn.hidden){if(!vn.checked)return!1;ot=!0}}return ot}getCheckedCount(){let Fe=0;const ot=this.elements;for(let bt=0,Ht=ot.length;bt<Ht;bt++)ot[bt].checked&&Fe++;return Fe}getVisibleCount(){let Fe=0;const ot=this.elements;for(let bt=0,Ht=ot.length;bt<Ht;bt++)ot[bt].hidden||Fe++;return Fe}setAllVisibleChecked(Fe){try{this._fireCheckedEvents=!1,this.elements.forEach(ot=>{ot.hidden||(ot.checked=Fe)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(Fe){this.elementDisposables=(0,E.B9)(this.elementDisposables);const ot=bt=>this.fireButtonTriggered(bt);this.inputElements=Fe,this.elements=Fe.reduce((bt,Ht,vn)=>{var Mn,Ct,fn;if("separator"!==Ht.type){const Vn=vn&&Fe[vn-1],yn=Ht.label&&Ht.label.replace(/\r?\n/g," "),zn=(0,st.Ho)(yn).text.trim(),li=Ht.meta&&Ht.meta.replace(/\r?\n/g," "),oi=Ht.description&&Ht.description.replace(/\r?\n/g," "),Li=Ht.detail&&Ht.detail.replace(/\r?\n/g," "),so=Ht.ariaLabel||[yn,oi,Li].map(xo=>(0,ne.JL)(xo)).filter(xo=>!!xo).join(", "),oo=this.parent.classList.contains("show-checkboxes");bt.push(new mt({hasCheckbox:oo,index:vn,item:Ht,saneLabel:yn,saneSortLabel:zn,saneMeta:li,saneAriaLabel:so,saneDescription:oi,saneDetail:Li,labelHighlights:null===(Mn=Ht.highlights)||void 0===Mn?void 0:Mn.label,descriptionHighlights:null===(Ct=Ht.highlights)||void 0===Ct?void 0:Ct.description,detailHighlights:null===(fn=Ht.highlights)||void 0===fn?void 0:fn.detail,checked:!1,separator:Vn&&"separator"===Vn.type?Vn:void 0,fireButtonTriggered:ot}))}return bt},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(bt=>bt.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((bt,Ht,vn)=>(bt.set(Ht.item,vn),bt),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(Fe=>Fe.item)}setFocusedElements(Fe){if(this.list.setFocus(Fe.filter(ot=>this.elementsToIndexes.has(ot)).map(ot=>this.elementsToIndexes.get(ot))),Fe.length>0){const ot=this.list.getFocus()[0];"number"==typeof ot&&this.list.reveal(ot)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(Fe){this.list.setSelection(Fe.filter(ot=>this.elementsToIndexes.has(ot)).map(ot=>this.elementsToIndexes.get(ot)))}getCheckedElements(){return this.elements.filter(Fe=>Fe.checked).map(Fe=>Fe.item)}setCheckedElements(Fe){try{this._fireCheckedEvents=!1;const ot=new Set;for(const bt of Fe)ot.add(bt);for(const bt of this.elements)bt.checked=ot.has(bt.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(Fe){this.list.getHTMLElement().style.pointerEvents=Fe?"":"none"}focus(Fe){if(!this.list.length)return;switch(Fe===Bt.Next&&this.list.getFocus()[0]===this.list.length-1&&(Fe=Bt.First),Fe===Bt.Previous&&0===this.list.getFocus()[0]&&(Fe=Bt.Last),Fe===Bt.Second&&this.list.length<2&&(Fe=Bt.First),Fe){case Bt.First:this.list.focusFirst();break;case Bt.Second:this.list.focusNth(1);break;case Bt.Last:this.list.focusLast();break;case Bt.Next:this.list.focusNext();break;case Bt.Previous:this.list.focusPrevious();break;case Bt.NextPage:this.list.focusNextPage();break;case Bt.PreviousPage:this.list.focusPreviousPage()}const ot=this.list.getFocus()[0];"number"==typeof ot&&this.list.reveal(ot)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(Fe){this.list.getHTMLElement().style.maxHeight=Fe?`calc(${44*Math.floor(Fe/44)}px)`:"",this.list.layout()}filter(Fe){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const ot=Fe;if((Fe=Fe.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let Ht;this.elements.forEach(vn=>{let Mn;Mn="fuzzy"===this.matchOnLabelMode?this.matchOnLabel?(0,Z.f6)((0,st.Gt)(Fe,(0,st.Ho)(vn.saneLabel))):void 0:this.matchOnLabel?(0,Z.f6)(function ut(qe,Fe){const{text:ot,iconOffsets:bt}=Fe;if(!bt||0===bt.length)return Ut(qe,ot);const Ht=(0,et.j3)(ot," "),vn=ot.length-Ht.length,Mn=Ut(qe,Ht);if(Mn)for(const Ct of Mn){const fn=bt[Ct.start+vn]+vn;Ct.start+=fn,Ct.end+=fn}return Mn}(ot,(0,st.Ho)(vn.saneLabel))):void 0;const Ct=this.matchOnDescription?(0,Z.f6)((0,st.Gt)(Fe,(0,st.Ho)(vn.saneDescription||""))):void 0,fn=this.matchOnDetail?(0,Z.f6)((0,st.Gt)(Fe,(0,st.Ho)(vn.saneDetail||""))):void 0,Vn=this.matchOnMeta?(0,Z.f6)((0,st.Gt)(Fe,(0,st.Ho)(vn.saneMeta||""))):void 0;if(Mn||Ct||fn||Vn?(vn.labelHighlights=Mn,vn.descriptionHighlights=Ct,vn.detailHighlights=fn,vn.hidden=!1):(vn.labelHighlights=void 0,vn.descriptionHighlights=void 0,vn.detailHighlights=void 0,vn.hidden=!vn.item.alwaysShow),vn.separator=void 0,!this.sortByLabel){const yn=vn.index&&this.inputElements[vn.index-1];Ht=yn&&"separator"===yn.type?yn:Ht,Ht&&!vn.hidden&&(vn.separator=Ht,Ht=void 0)}})}else this.elements.forEach(Ht=>{Ht.labelHighlights=void 0,Ht.descriptionHighlights=void 0,Ht.detailHighlights=void 0,Ht.hidden=!1;const vn=Ht.index&&this.inputElements[Ht.index-1];Ht.separator=vn&&"separator"===vn.type?vn:void 0});const bt=this.elements.filter(Ht=>!Ht.hidden);if(this.sortByLabel&&Fe){const Ht=Fe.toLowerCase();bt.sort((vn,Mn)=>function hn(qe,Fe,ot){const bt=qe.labelHighlights||[],Ht=Fe.labelHighlights||[];return bt.length&&!Ht.length?-1:!bt.length&&Ht.length?1:0===bt.length&&0===Ht.length?0:function ve(qe,Fe,ot){const bt=qe.toLowerCase(),Ht=Fe.toLowerCase(),vn=function Ae(qe,Fe,ot){const bt=qe.toLowerCase(),Ht=Fe.toLowerCase(),vn=bt.startsWith(ot),Mn=Ht.startsWith(ot);if(vn!==Mn)return vn?-1:1;if(vn&&Mn){if(bt.length<Ht.length)return-1;if(bt.length>Ht.length)return 1}return 0}(qe,Fe,ot);if(vn)return vn;const Mn=bt.endsWith(ot);if(Mn!==Ht.endsWith(ot))return Mn?-1:1;const fn=function Q(qe,Fe,ot=!1){const bt=qe||"",Ht=Fe||"",vn=_e.value.collator.compare(bt,Ht);return _e.value.collatorIsNumeric&&0===vn&&bt!==Ht?bt<Ht?-1:1:vn}(bt,Ht);return 0!==fn?fn:bt.localeCompare(Ht)}(qe.saneSortLabel,Fe.saneSortLabel,ot)}(vn,Mn,Ht))}return this.elementsToIndexes=bt.reduce((Ht,vn,Mn)=>(Ht.set(vn.item,Mn),Ht),new Map),this.list.splice(0,this.list.length,bt),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(bt.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const Fe=this.list.getFocusedElements(),ot=this.allVisibleChecked(Fe);for(const bt of Fe)bt.checked=!ot}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(Fe){this.container.style.display=Fe?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,E.B9)(this.elementDisposables),this.disposables=(0,E.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(Fe){this._onButtonTriggered.fire(Fe)}style(Fe){this.list.style(Fe)}}function Ut(qe,Fe){const ot=Fe.toLowerCase().indexOf(qe.toLowerCase());return-1!==ot?[{start:ot,end:ot+qe.length}]:null}Qe([dt.H],Ge.prototype,"onDidChangeFocus",null),Qe([dt.H],Ge.prototype,"onDidChangeSelection",null);class Dn{getWidgetAriaLabel(){return(0,pe.NC)("quickInput","Quick Input")}getAriaLabel(Fe){var ot;return null!==(ot=Fe.separator)&&void 0!==ot&&ot.label?`${Fe.saneAriaLabel}, ${Fe.separator.label}`:Fe.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(Fe){return Fe.hasCheckbox?"checkbox":"option"}isChecked(Fe){if(Fe.hasCheckbox)return{value:Fe.checked,onDidChange:Fe.onChecked}}}var wt=function(qe,Fe,ot,bt){return new(ot||(ot=Promise))(function(vn,Mn){function Ct(yn){try{Vn(bt.next(yn))}catch(zn){Mn(zn)}}function fn(yn){try{Vn(bt.throw(yn))}catch(zn){Mn(zn)}}function Vn(yn){yn.done?vn(yn.value):function Ht(vn){return vn instanceof ot?vn:new ot(function(Mn){Mn(vn)})}(yn.value).then(Ct,fn)}Vn((bt=bt.apply(qe,Fe||[])).next())})};const je=d.$,ye={iconClass:ne.lA.quickInputBack.classNames,tooltip:(0,pe.NC)("quickInput.back","Back"),handle:-1};class Me extends E.JT{constructor(Fe){super(),this.ui=Fe,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Me.noPromptMessage,this._severity=V.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new C.Q5),this.onDidHideEmitter=this._register(new C.Q5),this.onDisposeEmitter=this._register(new C.Q5),this.visibleDisposables=this._register(new E.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(Fe){this._title=Fe,this.update()}get description(){return this._description}set description(Fe){this._description=Fe,this.update()}get step(){return this._steps}set step(Fe){this._steps=Fe,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(Fe){this._totalSteps=Fe,this.update()}get enabled(){return this._enabled}set enabled(Fe){this._enabled=Fe,this.update()}get contextKey(){return this._contextKey}set contextKey(Fe){this._contextKey=Fe,this.update()}get busy(){return this._busy}set busy(Fe){this._busy=Fe,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(Fe){const ot=this._ignoreFocusOut!==Fe&&!N.gn;this._ignoreFocusOut=Fe&&!N.gn,ot&&this.update()}get buttons(){return this._buttons}set buttons(Fe){this._buttons=Fe,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(Fe){this._validationMessage=Fe,this.update()}get severity(){return this._severity}set severity(Fe){this._severity=Fe,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(Fe=>{-1!==this.buttons.indexOf(Fe)&&this.onDidTriggerButtonEmitter.fire(Fe)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(Fe=xe.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:Fe})}update(){if(!this.visible)return;const Fe=this.getTitle();Fe&&this.ui.title.textContent!==Fe?this.ui.title.textContent=Fe:!Fe&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const ot=this.getDescription();if(this.ui.description1.textContent!==ot&&(this.ui.description1.textContent=ot),this.ui.description2.textContent!==ot&&(this.ui.description2.textContent=ot),this.busy&&!this.busyDelay&&(this.busyDelay=new $._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Ht=this.buttons.filter(Mn=>Mn===ye);this.ui.leftActionBar.push(Ht.map((Mn,Ct)=>{const fn=new B.aU(`id-${Ct}`,"",Mn.iconClass||we(Mn.iconPath),!0,()=>wt(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Mn)}));return fn.tooltip=Mn.tooltip||"",fn}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const vn=this.buttons.filter(Mn=>Mn!==ye);this.ui.rightActionBar.push(vn.map((Mn,Ct)=>{const fn=new B.aU(`id-${Ct}`,"",Mn.iconClass||we(Mn.iconPath),!0,()=>wt(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(Mn)}));return fn.tooltip=Mn.tooltip||"",fn}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const bt=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==bt&&(this._lastValidationMessage=bt,d.mc(this.ui.message,...(0,v.T)(bt))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,pe.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(Fe){if(this.ui.inputBox.showDecoration(Fe),Fe!==V.Z.Ignore){const ot=this.ui.inputBox.stylesForType(Fe);this.ui.message.style.color=ot.foreground?`${ot.foreground}`:"",this.ui.message.style.backgroundColor=ot.background?`${ot.background}`:"",this.ui.message.style.border=ot.border?`1px solid ${ot.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Me.noPromptMessage=(0,pe.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class ue extends Me{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new C.Q5),this.onWillAcceptEmitter=this._register(new C.Q5),this.onDidAcceptEmitter=this._register(new C.Q5),this.onDidCustomEmitter=this._register(new C.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?xe.jG.NONE:xe.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new C.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new C.Q5),this.onDidTriggerItemButtonEmitter=this._register(new C.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=Fe=>Fe,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(Fe){this._quickNavigate=Fe,this.update()}get value(){return this._value}set value(Fe){this.doSetValue(Fe)}doSetValue(Fe,ot){this._value!==Fe&&(this._value=Fe,ot||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(Fe){this._ariaLabel=Fe,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(Fe){this._placeholder=Fe,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(Fe){this.ui.list.scrollTop=Fe}set items(Fe){this._items=Fe,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(Fe){this._canSelectMany=Fe,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(Fe){this._canAcceptInBackground=Fe}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(Fe){this._matchOnDescription=Fe,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(Fe){this._matchOnDetail=Fe,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(Fe){this._matchOnLabel=Fe,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(Fe){this._matchOnLabelMode=Fe,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(Fe){this._sortByLabel=Fe,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(Fe){this._autoFocusOnList=Fe,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(Fe){this._keepScrollPosition=Fe}get itemActivation(){return this._itemActivation}set itemActivation(Fe){this._itemActivation=Fe}get activeItems(){return this._activeItems}set activeItems(Fe){this._activeItems=Fe,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(Fe){this._selectedItems=Fe,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?xe.X5:this.ui.keyMods}set valueSelection(Fe){this._valueSelection=Fe,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(Fe){this._customButton=Fe,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(Fe){this._customButtonLabel=Fe,this.update()}get customHover(){return this._customButtonHover}set customHover(Fe){this._customButtonHover=Fe,this.update()}get ok(){return this._ok}set ok(Fe){this._ok=Fe,this.update()}get hideInput(){return!!this._hideInput}set hideInput(Fe){this._hideInput=Fe,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Bt.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(Fe=>{this.doSetValue(Fe,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(Fe=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(Fe=>{switch(Fe.keyCode){case 18:this.ui.list.focus(Bt.Next),this.canSelectMany&&this.ui.list.domFocus(),d.zB.stop(Fe,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Bt.Previous):this.ui.list.focus(Bt.Last),this.canSelectMany&&this.ui.list.domFocus(),d.zB.stop(Fe,!0);break;case 12:this.ui.list.focus(Bt.NextPage),this.canSelectMany&&this.ui.list.domFocus(),d.zB.stop(Fe,!0);break;case 11:this.ui.list.focus(Bt.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),d.zB.stop(Fe,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(Fe.ctrlKey||Fe.metaKey)&&!Fe.shiftKey&&!Fe.altKey&&(this.ui.list.focus(Bt.First),d.zB.stop(Fe,!0));break;case 13:(Fe.ctrlKey||Fe.metaKey)&&!Fe.shiftKey&&!Fe.altKey&&(this.ui.list.focus(Bt.Last),d.zB.stop(Fe,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(Fe=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,z.fS)(Fe,this._activeItems,(ot,bt)=>ot===bt)||(this._activeItems=Fe,this.onDidChangeActiveEmitter.fire(Fe))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:Fe,event:ot})=>{this.canSelectMany?Fe.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,z.fS)(Fe,this._selectedItems,(bt,Ht)=>bt===Ht)||(this._selectedItems=Fe,this.onDidChangeSelectionEmitter.fire(Fe),Fe.length&&this.handleAccept(ot instanceof MouseEvent&&1===ot.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(Fe=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,z.fS)(Fe,this._selectedItems,(ot,bt)=>ot===bt)||(this._selectedItems=Fe,this.onDidChangeSelectionEmitter.fire(Fe))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(Fe=>this.onDidTriggerItemButtonEmitter.fire(Fe))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(Fe){let ot=!1;this.onWillAcceptEmitter.fire({veto:()=>ot=!0}),ot||this.onDidAcceptEmitter.fire({inBackground:Fe})}registerQuickNavigation(){return d.nm(this.ui.container,d.tw.KEY_UP,Fe=>{if(this.canSelectMany||!this._quickNavigate)return;const ot=new t.y(Fe),bt=ot.keyCode;this._quickNavigate.keybindings.some(Mn=>{const[Ct,fn]=Mn.getParts();return!(fn||(Ct.shiftKey&&4===bt?ot.ctrlKey||ot.altKey||ot.metaKey:!(Ct.altKey&&6===bt||Ct.ctrlKey&&5===bt||Ct.metaKey&&57===bt)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const Fe=this.keepScrollPosition?this.scrollTop:0,ot=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",ot&&!this.description);const bt={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!ot,progressBar:!ot,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(bt),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let Ht=this.ariaLabel;if(Ht||(Ht=this.placeholder||ue.DEFAULT_ARIA_LABEL,this.title&&(Ht+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==Ht&&(this.ui.inputBox.ariaLabel=Ht),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case xe.jG.NONE:this._itemActivation=xe.jG.FIRST;break;case xe.jG.SECOND:this.ui.list.focus(Bt.Second),this._itemActivation=xe.jG.FIRST;break;case xe.jG.LAST:this.ui.list.focus(Bt.Last),this._itemActivation=xe.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),bt.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Bt.First)),this.keepScrollPosition&&(this.scrollTop=Fe)}}ue.DEFAULT_ARIA_LABEL=(0,pe.NC)("quickInputBox.ariaLabel","Type to narrow down results.");let be=(()=>{class qe extends E.JT{constructor(ot){super(),this.options=ot,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new C.Q5),this.onDidCustomEmitter=this._register(new C.Q5),this.onDidTriggerButtonEmitter=this._register(new C.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new C.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new C.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=ot.idPrefix,this.parentElement=ot.container,this.styles=ot.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const ot=bt=>{this.keyMods.ctrlCmd=bt.ctrlKey||bt.metaKey,this.keyMods.alt=bt.altKey};this._register(d.nm(window,d.tw.KEY_DOWN,ot,!0)),this._register(d.nm(window,d.tw.KEY_UP,ot,!0)),this._register(d.nm(window,d.tw.MOUSE_DOWN,ot,!0))}getUI(){if(this.ui)return this.ui;const ot=d.R3(this.parentElement,je(".quick-input-widget.show-file-icons"));ot.tabIndex=-1,ot.style.display="none";const bt=d.dS(ot),Ht=d.R3(ot,je(".quick-input-titlebar")),vn=this._register(new l.o(Ht));vn.domNode.classList.add("quick-input-left-action-bar");const Mn=d.R3(Ht,je(".quick-input-title")),Ct=this._register(new l.o(Ht));Ct.domNode.classList.add("quick-input-right-action-bar");const fn=d.R3(ot,je(".quick-input-description")),Vn=d.R3(ot,je(".quick-input-header")),yn=d.R3(Vn,je("input.quick-input-check-all"));yn.type="checkbox",yn.setAttribute("aria-label",(0,pe.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(d.mu(yn,d.tw.CHANGE,rn=>{ft.setAllVisibleChecked(yn.checked)})),this._register(d.nm(yn,d.tw.CLICK,rn=>{(rn.x||rn.y)&&Li.setFocus()}));const zn=d.R3(Vn,je(".quick-input-description")),li=d.R3(Vn,je(".quick-input-and-message")),oi=d.R3(li,je(".quick-input-filter")),Li=this._register(new ze(oi));Li.setAttribute("aria-describedby",`${this.idPrefix}message`);const so=d.R3(oi,je(".quick-input-visible-count"));so.setAttribute("aria-live","polite"),so.setAttribute("aria-atomic","true");const oo=new K.Z(so,{countFormat:(0,pe.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),xo=d.R3(oi,je(".quick-input-count"));xo.setAttribute("aria-live","polite");const ro=new K.Z(xo,{countFormat:(0,pe.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),_o=d.R3(Vn,je(".quick-input-action")),mo=new U(_o);mo.label=(0,pe.NC)("ok","OK"),this._register(mo.onDidClick(rn=>{this.onDidAcceptEmitter.fire()}));const si=d.R3(Vn,je(".quick-input-action")),Qt=new U(si);Qt.label=(0,pe.NC)("custom","Custom"),this._register(Qt.onDidClick(rn=>{this.onDidCustomEmitter.fire()}));const pt=d.R3(li,je(`#${this.idPrefix}message.quick-input-message`)),ft=this._register(new Ge(ot,this.idPrefix+"list",this.options));this._register(ft.onChangedAllVisibleChecked(rn=>{yn.checked=rn})),this._register(ft.onChangedVisibleCount(rn=>{oo.setCount(rn)})),this._register(ft.onChangedCheckedCount(rn=>{ro.setCount(rn)})),this._register(ft.onLeave(()=>{setTimeout(()=>{Li.setFocus(),this.controller instanceof ue&&this.controller.canSelectMany&&ft.clearFocus()},0)})),this._register(ft.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const jt=new F.k(ot);jt.getContainer().classList.add("quick-input-progress");const en=d.go(ot);return this._register(en),this._register(d.nm(ot,d.tw.FOCUS,rn=>{this.previousFocusElement=rn.relatedTarget instanceof HTMLElement?rn.relatedTarget:void 0},!0)),this._register(en.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(xe.Jq.Blur),this.previousFocusElement=void 0})),this._register(d.nm(ot,d.tw.FOCUS,rn=>{Li.setFocus()})),this._register(d.nm(ot,d.tw.KEY_DOWN,rn=>{const gn=new t.y(rn);switch(gn.keyCode){case 3:d.zB.stop(rn,!0),this.onDidAcceptEmitter.fire();break;case 9:d.zB.stop(rn,!0),this.hide(xe.Jq.Gesture);break;case 2:if(!gn.altKey&&!gn.ctrlKey&&!gn.metaKey){const An=[".action-label.codicon"];ot.classList.contains("show-checkboxes")?An.push("input"):An.push("input[type=text]"),this.getUI().list.isDisplayed()&&An.push(".monaco-list");const jn=ot.querySelectorAll(An.join(", "));gn.shiftKey&&gn.target===jn[0]?(d.zB.stop(rn,!0),jn[jn.length-1].focus()):!gn.shiftKey&&gn.target===jn[jn.length-1]&&(d.zB.stop(rn,!0),jn[0].focus())}}})),this.ui={container:ot,styleSheet:bt,leftActionBar:vn,titleBar:Ht,title:Mn,description1:fn,description2:zn,rightActionBar:Ct,checkAll:yn,filterContainer:oi,inputBox:Li,visibleCountContainer:so,visibleCount:oo,countContainer:xo,count:ro,okContainer:_o,ok:mo,message:pt,customButtonContainer:si,customButton:Qt,list:ft,progressBar:jt,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:rn=>this.show(rn),hide:()=>this.hide(),setVisibilities:rn=>this.setVisibilities(rn),setComboboxAccessibility:rn=>this.setComboboxAccessibility(rn),setEnabled:rn=>this.setEnabled(rn),setContextKey:rn=>this.options.setContextKey(rn)},this.updateStyles(),this.ui}pick(ot,bt={},Ht=j.T.None){return new Promise((vn,Mn)=>{let Ct=zn=>{var li;Ct=vn,null===(li=bt.onKeyMods)||void 0===li||li.call(bt,fn.keyMods),vn(zn)};if(Ht.isCancellationRequested)return void Ct(void 0);const fn=this.createQuickPick();let Vn;const yn=[fn,fn.onDidAccept(()=>{if(fn.canSelectMany)Ct(fn.selectedItems.slice()),fn.hide();else{const zn=fn.activeItems[0];zn&&(Ct(zn),fn.hide())}}),fn.onDidChangeActive(zn=>{const li=zn[0];li&&bt.onDidFocus&&bt.onDidFocus(li)}),fn.onDidChangeSelection(zn=>{if(!fn.canSelectMany){const li=zn[0];li&&(Ct(li),fn.hide())}}),fn.onDidTriggerItemButton(zn=>bt.onDidTriggerItemButton&&bt.onDidTriggerItemButton(Object.assign(Object.assign({},zn),{removeItem:()=>{const li=fn.items.indexOf(zn.item);if(-1!==li){const oi=fn.items.slice(),Li=oi.splice(li,1),so=fn.activeItems.filter(xo=>xo!==Li[0]),oo=fn.keepScrollPosition;fn.keepScrollPosition=!0,fn.items=oi,so&&(fn.activeItems=so),fn.keepScrollPosition=oo}}}))),fn.onDidChangeValue(zn=>{Vn&&!zn&&(1!==fn.activeItems.length||fn.activeItems[0]!==Vn)&&(fn.activeItems=[Vn])}),Ht.onCancellationRequested(()=>{fn.hide()}),fn.onDidHide(()=>{(0,E.B9)(yn),Ct(void 0)})];fn.title=bt.title,fn.canSelectMany=!!bt.canPickMany,fn.placeholder=bt.placeHolder,fn.ignoreFocusOut=!!bt.ignoreFocusLost,fn.matchOnDescription=!!bt.matchOnDescription,fn.matchOnDetail=!!bt.matchOnDetail,fn.matchOnLabel=void 0===bt.matchOnLabel||bt.matchOnLabel,fn.autoFocusOnList=void 0===bt.autoFocusOnList||bt.autoFocusOnList,fn.quickNavigate=bt.quickNavigate,fn.hideInput=!!bt.hideInput,fn.contextKey=bt.contextKey,fn.busy=!0,Promise.all([ot,bt.activeItem]).then(([zn,li])=>{Vn=li,fn.busy=!1,fn.items=zn,fn.canSelectMany&&(fn.selectedItems=zn.filter(oi=>"separator"!==oi.type&&oi.picked)),Vn&&(fn.activeItems=[Vn])}),fn.show(),Promise.resolve(ot).then(void 0,zn=>{Mn(zn),fn.hide()})})}createQuickPick(){const ot=this.getUI();return new ue(ot)}show(ot){const bt=this.getUI();this.onShowEmitter.fire();const Ht=this.controller;this.controller=ot,Ht&&Ht.didHide(),this.setEnabled(!0),bt.leftActionBar.clear(),bt.title.textContent="",bt.description1.textContent="",bt.description2.textContent="",bt.rightActionBar.clear(),bt.checkAll.checked=!1,bt.inputBox.placeholder="",bt.inputBox.password=!1,bt.inputBox.showDecoration(V.Z.Ignore),bt.visibleCount.setCount(0),bt.count.setCount(0),d.mc(bt.message),bt.progressBar.stop(),bt.list.setElements([]),bt.list.matchOnDescription=!1,bt.list.matchOnDetail=!1,bt.list.matchOnLabel=!0,bt.list.sortByLabel=!0,bt.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),bt.inputBox.ariaLabel="";const vn=this.options.backKeybindingLabel();ye.tooltip=vn?(0,pe.NC)("quickInput.backWithKeybinding","Back ({0})",vn):(0,pe.NC)("quickInput.back","Back"),bt.container.style.display="",this.updateLayout(),bt.inputBox.setFocus()}setVisibilities(ot){const bt=this.getUI();bt.title.style.display=ot.title?"":"none",bt.description1.style.display=ot.description&&(ot.inputBox||ot.checkAll)?"":"none",bt.description2.style.display=!ot.description||ot.inputBox||ot.checkAll?"none":"",bt.checkAll.style.display=ot.checkAll?"":"none",bt.filterContainer.style.display=ot.inputBox?"":"none",bt.visibleCountContainer.style.display=ot.visibleCount?"":"none",bt.countContainer.style.display=ot.count?"":"none",bt.okContainer.style.display=ot.ok?"":"none",bt.customButtonContainer.style.display=ot.customButton?"":"none",bt.message.style.display=ot.message?"":"none",bt.progressBar.getContainer().style.display=ot.progressBar?"":"none",bt.list.display(!!ot.list),bt.container.classList[ot.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(ot){if(ot!==this.comboboxAccessibility){const bt=this.getUI();this.comboboxAccessibility=ot,this.comboboxAccessibility?(bt.inputBox.setAttribute("role","combobox"),bt.inputBox.setAttribute("aria-haspopup","true"),bt.inputBox.setAttribute("aria-autocomplete","list"),bt.inputBox.setAttribute("aria-activedescendant",bt.list.getActiveDescendant()||"")):(bt.inputBox.removeAttribute("role"),bt.inputBox.removeAttribute("aria-haspopup"),bt.inputBox.removeAttribute("aria-autocomplete"),bt.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(ot){if(ot!==this.enabled){this.enabled=ot;for(const bt of this.getUI().leftActionBar.viewItems)bt.getAction().enabled=ot;for(const bt of this.getUI().rightActionBar.viewItems)bt.getAction().enabled=ot;this.getUI().checkAll.disabled=!ot,this.getUI().ok.enabled=ot,this.getUI().list.enabled=ot}}hide(ot){var bt;const Ht=this.controller;if(Ht){const vn=!(null!==(bt=this.ui)&&void 0!==bt&&bt.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!vn){let Mn=this.previousFocusElement;for(;Mn&&!Mn.offsetParent;)Mn=(0,Z.f6)(Mn.parentElement);Mn?.offsetParent?(Mn.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}Ht.didHide(ot)}}layout(ot,bt){this.dimension=ot,this.titleBarOffset=bt,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const ot=this.ui.container.style,bt=Math.min(.62*this.dimension.width,qe.MAX_WIDTH);ot.width=bt+"px",ot.marginLeft="-"+bt/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(ot){this.styles=ot,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:ot,quickInputBackground:bt,quickInputForeground:Ht,contrastBorder:vn,widgetShadow:Mn}=this.styles.widget;this.ui.titleBar.style.backgroundColor=ot?ot.toString():"",this.ui.container.style.backgroundColor=bt?bt.toString():"",this.ui.container.style.color=Ht?Ht.toString():"",this.ui.container.style.border=vn?`1px solid ${vn}`:"",this.ui.container.style.boxShadow=Mn?`0 0 8px 2px ${Mn}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const Ct=[];this.styles.list.pickerGroupBorder&&Ct.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&Ct.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(Ct.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&Ct.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&Ct.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&Ct.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&Ct.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&Ct.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),Ct.push("}"));const fn=Ct.join("\n");fn!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=fn)}}}return qe.MAX_WIDTH=600,qe})()},39263:(Et,X,e)=>{"use strict";e.d(X,{Jq:()=>t,X5:()=>d,jG:()=>l});const d={ctrlCmd:!1,alt:!1};var t=(()=>{return(T=t||(t={}))[T.Blur=1]="Blur",T[T.Gesture=2]="Gesture",T[T.Other=3]="Other",t;var T})(),l=(()=>{return(T=l||(l={}))[T.NONE=0]="NONE",T[T.FIRST=1]="FIRST",T[T.SECOND=2]="SECOND",T[T.LAST=3]="LAST",l;var T})();new class S{constructor(C){this.options=C}}},88652:(Et,X,e)=>{"use strict";e.d(X,{H:()=>p});var d=e(17374),t=e(67519),l=e(89982),S=Object.defineProperty,v=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,C=Object.prototype.hasOwnProperty,E=(u,g,b,y)=>{if(g&&"object"==typeof g||"function"==typeof g)for(let D of T(g))!C.call(u,D)&&D!==b&&S(u,D,{get:()=>g[D],enumerable:!(y=v(g,D))||y.enumerable});return u},_={};E(_,l,"default");var s={},m={},c=class Uc{static getOrCreate(g){return m[g]||(m[g]=new Uc(g)),m[g]}constructor(g){(0,t.Z)(this,"_languageId",void 0),(0,t.Z)(this,"_loadingTriggered",void 0),(0,t.Z)(this,"_lazyLoadPromise",void 0),(0,t.Z)(this,"_lazyLoadPromiseResolve",void 0),(0,t.Z)(this,"_lazyLoadPromiseReject",void 0),this._languageId=g,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((b,y)=>{this._lazyLoadPromiseResolve=b,this._lazyLoadPromiseReject=y})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,s[this._languageId].loader().then(g=>this._lazyLoadPromiseResolve(g),g=>this._lazyLoadPromiseReject(g))),this._lazyLoadPromise}};function p(u){const g=u.id;s[g]=u,_.languages.register(u);const b=c.getOrCreate(g);var y;_.languages.registerTokensProviderFactory(g,{create:(y=(0,d.Z)(function*(){return(yield b.load()).language}),function(){return y.apply(this,arguments)})}),_.languages.onLanguage(g,(0,d.Z)(function*(){const y=yield b.load();_.languages.setLanguageConfiguration(g,y.conf)}))}},76746:(Et,X,e)=>{"use strict";e.r(X),(0,e(88652).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([e.e(592),e.e(274)]).then(e.bind(e,79274))})},93213:(Et,X,e)=>{"use strict";e.r(X),(0,e(88652).H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>e.e(592).then(e.bind(e,39798))})},44716:(Et,X,e)=>{"use strict";e.d(X,{N:()=>t});var d=e(12226);function t(l,S){l instanceof d.Z?(l.setFontFamily(S.getMassagedFontFamily()),l.setFontWeight(S.fontWeight),l.setFontSize(S.fontSize),l.setFontFeatureSettings(S.fontFeatureSettings),l.setLineHeight(S.lineHeight),l.setLetterSpacing(S.letterSpacing)):(l.style.fontFamily=S.getMassagedFontFamily(),l.style.fontWeight=S.fontWeight,l.style.fontSize=S.fontSize+"px",l.style.fontFeatureSettings=S.fontFeatureSettings,l.style.lineHeight=S.lineHeight+"px",l.style.letterSpacing=S.letterSpacing+"px")}},93972:(Et,X,e)=>{"use strict";e.d(X,{I:()=>l});var d=e(80142),t=e(3778);class l extends d.JT{constructor(v,T){super(),this._onDidChange=this._register(new t.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=v,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,T)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(v=>{v&&v[0]&&v[0].contentRect?this.observe({width:v[0].contentRect.width,height:v[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(v){this.measureReferenceDomElement(!0,v)}measureReferenceDomElement(v,T){let C=0,E=0;T?(C=T.width,E=T.height):this._referenceDomElement&&(C=this._referenceDomElement.clientWidth,E=this._referenceDomElement.clientHeight),C=Math.max(5,C),E=Math.max(5,E),(this._width!==C||this._height!==E)&&(this._width=C,this._height=E,v&&this._onDidChange.fire())}}},15057:(Et,X,e)=>{"use strict";e.d(X,{g:()=>m});var d=e(37428),t=e(3778),l=e(80142),S=e(44716);class v{constructor(n,a){this.chr=n,this.type=a,this.width=0}fulfill(n){this.width=n}}class T{constructor(n,a){this._bareFontInfo=n,this._requests=a,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const n=document.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const a=document.createElement("div");(0,S.N)(a,this._bareFontInfo),n.appendChild(a);const p=document.createElement("div");(0,S.N)(p,this._bareFontInfo),p.style.fontWeight="bold",n.appendChild(p);const u=document.createElement("div");(0,S.N)(u,this._bareFontInfo),u.style.fontStyle="italic",n.appendChild(u);const g=[];for(const b of this._requests){let y;0===b.type&&(y=a),2===b.type&&(y=p),1===b.type&&(y=u),y.appendChild(document.createElement("br"));const D=document.createElement("span");T._render(D,b),y.appendChild(D),g.push(D)}this._container=n,this._testElements=g}static _render(n,a){if(" "===a.chr){let p="\xa0";for(let u=0;u<8;u++)p+=p;n.innerText=p}else{let p=a.chr;for(let u=0;u<8;u++)p+=p;n.textContent=p}}_readFromDomElements(){for(let n=0,a=this._requests.length;n<a;n++)this._requests[n].fulfill(this._testElements[n].offsetWidth/256)}}var E=e(54862),L=e(44120);class s{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const a=n.getId();return!!this._values[a]}get(n){const a=n.getId();return this._values[a]}put(n,a){const p=n.getId();this._keys[p]=n,this._values[p]=a}remove(n){const a=n.getId();delete this._keys[a],delete this._values[a]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}const m=new class _ extends l.JT{constructor(){super(),this._onDidChange=this._register(new t.Q5),this.onDidChange=this._onDidChange.event,this._cache=new s,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new s,this._onDidChange.fire()}_writeToCache(n,a){this._cache.put(n,a),!a.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const n=this._cache.getValues();let a=!1;for(const p of n)p.isTrusted||(a=!0,this._cache.remove(p));a&&this._onDidChange.fire()}readFontInfo(n){if(!this._cache.has(n)){let a=this._actualReadFontInfo(n);(a.typicalHalfwidthCharacterWidth<=2||a.typicalFullwidthCharacterWidth<=2||a.spaceWidth<=2||a.maxDigitWidth<=2)&&(a=new L.pR({pixelRatio:d.PixelRatio.value,fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFeatureSettings:a.fontFeatureSettings,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,isMonospace:a.isMonospace,typicalHalfwidthCharacterWidth:Math.max(a.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(a.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:a.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(a.spaceWidth,5),middotWidth:Math.max(a.middotWidth,5),wsmiddotWidth:Math.max(a.wsmiddotWidth,5),maxDigitWidth:Math.max(a.maxDigitWidth,5)},!1)),this._writeToCache(n,a)}return this._cache.get(n)}_createRequest(n,a,p,u){const g=new v(n,a);return p.push(g),u?.push(g),g}_actualReadFontInfo(n){const a=[],p=[],u=this._createRequest("n",0,a,p),g=this._createRequest("\uff4d",0,a,null),b=this._createRequest(" ",0,a,p),y=this._createRequest("0",0,a,p),D=this._createRequest("1",0,a,p),w=this._createRequest("2",0,a,p),I=this._createRequest("3",0,a,p),P=this._createRequest("4",0,a,p),O=this._createRequest("5",0,a,p),H=this._createRequest("6",0,a,p),U=this._createRequest("7",0,a,p),K=this._createRequest("8",0,a,p),F=this._createRequest("9",0,a,p),B=this._createRequest("\u2192",0,a,p),z=this._createRequest("\uffeb",0,a,null),$=this._createRequest("\xb7",0,a,p),j=this._createRequest(String.fromCharCode(11825),0,a,null),ne="|/-_ilm%";for(let M=0,Se=ne.length;M<Se;M++)this._createRequest(ne.charAt(M),0,a,p),this._createRequest(ne.charAt(M),1,a,p),this._createRequest(ne.charAt(M),2,a,p);!function C(c,n){new T(c,n).read()}(n,a);const N=Math.max(y.width,D.width,w.width,I.width,P.width,O.width,H.width,U.width,K.width,F.width);let V=n.fontFeatureSettings===E.n0.OFF;const Z=p[0].width;for(let M=1,Se=p.length;V&&M<Se;M++){const Ee=Z-p[M].width;if(Ee<-.001||Ee>.001){V=!1;break}}let fe=!0;return V&&z.width!==Z&&(fe=!1),z.width>B.width&&(fe=!1),new L.pR({pixelRatio:d.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:V,typicalHalfwidthCharacterWidth:u.width,typicalFullwidthCharacterWidth:g.width,canUseHalfwidthRightwardsArrow:fe,spaceWidth:b.width,middotWidth:$.width,wsmiddotWidth:j.width,maxDigitWidth:N},!0)}}},5825:(Et,X,e)=>{"use strict";e.d(X,{n:()=>l});var d=e(3778);const l=new class t{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new d.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(v){this._tabFocus!==v&&(this._tabFocus=v,this._onDidChangeTabFocus.fire(this._tabFocus))}}},85375:(Et,X,e)=>{"use strict";e.d(X,{Fz:()=>a,Nl:()=>c,RA:()=>m,Tj:()=>u,pd:()=>s});var d=e(37428),t=e(98463),l=e(41140),S=e(48648),v=e(3778),T=e(80142),C=e(34189),E=e(73879),L=e(431),_=e(7233),s=(()=>((s||(s={})).Tap="-monaco-textarea-synthetic-tap",s))();const m={forceCopyWithSyntaxHighlighting:!1};class c{constructor(){this._lastState=null}set(b,y){this._lastState={lastCopiedValue:b,data:y}}get(b){return this._lastState&&this._lastState.lastCopiedValue===b?this._lastState.data:(this._lastState=null,null)}}c.INSTANCE=new c;class n{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(b){const y={text:b=b||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=b.length,y}}class a extends T.JT{constructor(b,y,D,w){super(),this._host=b,this._textArea=y,this._OS=D,this._browser=w,this._onFocus=this._register(new v.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new v.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new v.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new v.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new v.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new v.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new v.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new v.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new v.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new v.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new v.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new S.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new S.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=L.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let I=null;this._register(this._textArea.onKeyDown(P=>{const O=new l.y(P);(109===O.keyCode||this._currentComposition&&1===O.keyCode)&&O.stopPropagation(),O.equals(9)&&O.preventDefault(),I=O,this._onKeyDown.fire(O)})),this._register(this._textArea.onKeyUp(P=>{const O=new l.y(P);this._onKeyUp.fire(O)})),this._register(this._textArea.onCompositionStart(P=>{L.al&&console.log("[compositionstart]",P);const O=new n;if(!this._currentComposition)return this._currentComposition=O,2===this._OS&&I&&I.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===P.data&&("ArrowRight"===I.code||"ArrowLeft"===I.code)?(L.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",P),O.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:P.data})):void this._onCompositionStart.fire({data:P.data});this._currentComposition=O})),this._register(this._textArea.onCompositionUpdate(P=>{L.al&&console.log("[compositionupdate]",P);const O=this._currentComposition;if(!O)return;if(this._browser.isAndroid){const U=L.un.readFromTextArea(this._textArea),K=L.un.deduceAndroidCompositionInput(this._textAreaState,U);return this._textAreaState=U,this._onType.fire(K),void this._onCompositionUpdate.fire(P)}const H=O.handleCompositionUpdate(P.data);this._textAreaState=L.un.readFromTextArea(this._textArea),this._onType.fire(H),this._onCompositionUpdate.fire(P)})),this._register(this._textArea.onCompositionEnd(P=>{L.al&&console.log("[compositionend]",P);const O=this._currentComposition;if(!O)return;if(this._currentComposition=null,this._browser.isAndroid){const U=L.un.readFromTextArea(this._textArea),K=L.un.deduceAndroidCompositionInput(this._textAreaState,U);return this._textAreaState=U,this._onType.fire(K),void this._onCompositionEnd.fire()}const H=O.handleCompositionUpdate(P.data);this._textAreaState=L.un.readFromTextArea(this._textArea),this._onType.fire(H),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(P=>{if(L.al&&console.log("[input]",P),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const O=L.un.readFromTextArea(this._textArea),H=L.un.deduceInput(this._textAreaState,O,2===this._OS);0===H.replacePrevCharCnt&&1===H.text.length&&E.ZG(H.text.charCodeAt(0))||(this._textAreaState=O,(""!==H.text||0!==H.replacePrevCharCnt||0!==H.replaceNextCharCnt||0!==H.positionDelta)&&this._onType.fire(H))})),this._register(this._textArea.onCut(P=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(P),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(P=>{this._ensureClipboardGetsEditorSelection(P)})),this._register(this._textArea.onPaste(P=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),P.preventDefault(),!P.clipboardData)return;let[O,H]=p.getTextData(P.clipboardData);!O||(H=H||c.INSTANCE.get(O),this._onPaste.fire({text:O,metadata:H}))})),this._register(this._textArea.onFocus(()=>{const P=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!P&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let b=0;return t.nm(document,"selectionchange",y=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const D=Date.now(),w=D-b;if(b=D,w<5)return;const I=D-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),I<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const P=this._textArea.getValue();if(this._textAreaState.value!==P)return;const O=this._textArea.getSelectionStart(),H=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===O&&this._textAreaState.selectionEnd===H)return;const U=this._textAreaState.deduceEditorPosition(O),K=this._host.deduceModelPosition(U[0],U[1],U[2]),F=this._textAreaState.deduceEditorPosition(H),B=this._host.deduceModelPosition(F[0],F[1],F[2]),z=new _.Y(K.lineNumber,K.column,B.lineNumber,B.column);this._onSelectionChangeRequest.fire(z)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(b){this._hasFocus!==b&&(this._hasFocus=b,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(b,y){this._hasFocus||(y=y.collapseSelection()),y.writeToTextArea(b,this._textArea,this._hasFocus),this._textAreaState=y}writeScreenReaderContent(b){this._currentComposition||this._setAndWriteTextAreaState(b,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(b){const y=this._host.getDataToCopy(),D={version:1,isFromEmptySelection:y.isFromEmptySelection,multicursorText:y.multicursorText,mode:y.mode};c.INSTANCE.set(this._browser.isFirefox?y.text.replace(/\r\n/g,"\n"):y.text,D),b.preventDefault(),b.clipboardData&&p.setTextData(b.clipboardData,y.text,y.html,D)}}class p{static getTextData(b){const y=b.getData(C.v.text);let D=null;const w=b.getData("vscode-editor-data");if("string"==typeof w)try{D=JSON.parse(w),1!==D.version&&(D=null)}catch{}return 0===y.length&&null===D&&b.files.length>0?[Array.prototype.slice.call(b.files,0).map(P=>P.name).join("\n"),null]:[y,D]}static setTextData(b,y,D,w){b.setData(C.v.text,y),"string"==typeof D&&b.setData("text/html",D),b.setData("vscode-editor-data",JSON.stringify(w))}}class u extends T.JT{constructor(b){super(),this._actual=b,this.onKeyDown=this._register(t.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(t.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(t.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(t.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(t.IC(this._actual,"compositionend")).event,this.onInput=this._register(t.IC(this._actual,"input")).event,this.onCut=this._register(t.IC(this._actual,"cut")).event,this.onCopy=this._register(t.IC(this._actual,"copy")).event,this.onPaste=this._register(t.IC(this._actual,"paste")).event,this.onFocus=this._register(t.IC(this._actual,"focus")).event,this.onBlur=this._register(t.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new v.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(t.nm(this._actual,s.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const b=t.Ay(this._actual);return b?b.activeElement===this._actual:!!t.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(b){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(b,y){const D=this._actual;D.value!==y&&(this.setIgnoreSelectionChangeTime("setValue"),D.value=y)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(b,y,D){const w=this._actual;let I=null;const P=t.Ay(w);I=P?P.activeElement:document.activeElement;const O=I===w;if(O&&w.selectionStart===y&&w.selectionEnd===D)d.isFirefox&&window.parent!==window&&w.focus();else{if(O)return this.setIgnoreSelectionChangeTime("setSelectionRange"),w.setSelectionRange(y,D),void(d.isFirefox&&window.parent!==window&&w.focus());try{const K=t.vL(w);this.setIgnoreSelectionChangeTime("setSelectionRange"),w.focus(),w.setSelectionRange(y,D),t._0(w,K)}catch{}}}}},431:(Et,X,e)=>{"use strict";e.d(X,{al:()=>S,ee:()=>T,un:()=>v});var d=e(73879),t=e(18723),l=e(98570);const S=!1;class v{constructor(E,L,_,s,m){this.value=E,this.selectionStart=L,this.selectionEnd=_,this.selectionStartPosition=s,this.selectionEndPosition=m}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(E){return new v(E.getValue(),E.getSelectionStart(),E.getSelectionEnd(),null,null)}collapseSelection(){return new v(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(E,L,_){S&&console.log(`writeToTextArea ${E}: ${this.toString()}`),L.setValue(E,this.value),_&&L.setSelectionRange(E,this.selectionStart,this.selectionEnd)}deduceEditorPosition(E){if(E<=this.selectionStart){const s=this.value.substring(E,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,s,-1)}if(E>=this.selectionEnd){const s=this.value.substring(this.selectionEnd,E);return this._finishDeduceEditorPosition(this.selectionEndPosition,s,1)}const L=this.value.substring(this.selectionStart,E);if(-1===L.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,L,1);const _=this.value.substring(E,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,_,-1)}_finishDeduceEditorPosition(E,L,_){let s=0,m=-1;for(;-1!==(m=L.indexOf("\n",m+1));)s++;return[E,_*L.length,s]}static deduceInput(E,L,_){if(!E)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};S&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${E.toString()}`),console.log(`CURRENT STATE: ${L.toString()}`));const s=Math.min(d.Mh(E.value,L.value),E.selectionStart,L.selectionStart),m=Math.min(d.P1(E.value,L.value),E.value.length-E.selectionEnd,L.value.length-L.selectionEnd),c=E.value.substring(s,E.value.length-m),n=L.value.substring(s,L.value.length-m),a=E.selectionStart-s,p=E.selectionEnd-s,u=L.selectionStart-s,g=L.selectionEnd-s;if(S&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${c}>, selectionStart: ${a}, selectionEnd: ${p}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${u}, selectionEnd: ${g}`)),u===g){const y=E.selectionStart-s;return S&&console.log(`REMOVE PREVIOUS: ${y} chars`),{text:n,replacePrevCharCnt:y,replaceNextCharCnt:0,positionDelta:0}}return{text:n,replacePrevCharCnt:p-a,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(E,L){if(!E)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(S&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${E.toString()}`),console.log(`CURRENT STATE: ${L.toString()}`)),E.value===L.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:L.selectionEnd-E.selectionEnd};const _=Math.min(d.Mh(E.value,L.value),E.selectionEnd),s=Math.min(d.P1(E.value,L.value),E.value.length-E.selectionEnd),m=E.value.substring(_,E.value.length-s),c=L.value.substring(_,L.value.length-s),a=E.selectionEnd-_,p=L.selectionStart-_,u=L.selectionEnd-_;return S&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${m}>, selectionStart: ${E.selectionStart-_}, selectionEnd: ${a}`),console.log(`AFTER DIFFING CURRENT STATE: <${c}>, selectionStart: ${p}, selectionEnd: ${u}`)),{text:c,replacePrevCharCnt:a,replaceNextCharCnt:m.length-a,positionDelta:u-c.length}}}v.EMPTY=new v("",0,0,null,null);class T{static _getPageOfLine(E,L){return Math.floor((E-1)/L)}static _getRangeForPage(E,L){const _=E*L;return new l.e(_+1,1,_+L+1,1)}static fromEditorSelection(E,L,_,s,m){const c=T._getPageOfLine(_.startLineNumber,s),n=T._getRangeForPage(c,s),a=T._getPageOfLine(_.endLineNumber,s),p=T._getRangeForPage(a,s),u=n.intersectRanges(new l.e(1,1,_.startLineNumber,_.startColumn));let g=L.getValueInRange(u,1);const b=L.getLineCount(),y=L.getLineMaxColumn(b),D=p.intersectRanges(new l.e(_.endLineNumber,_.endColumn,b,y));let I,w=L.getValueInRange(D,1);if(c===a||c+1===a)I=L.getValueInRange(_,1);else{const P=n.intersectRanges(_),O=p.intersectRanges(_);I=L.getValueInRange(P,1)+String.fromCharCode(8230)+L.getValueInRange(O,1)}return m&&(g.length>500&&(g=g.substring(g.length-500,g.length)),w.length>500&&(w=w.substring(0,500)),I.length>1e3&&(I=I.substring(0,500)+String.fromCharCode(8230)+I.substring(I.length-500,I.length))),new v(g+I+w,g.length,g.length+I.length,new t.L(_.startLineNumber,_.startColumn),new t.L(_.endLineNumber,_.endColumn))}}},41442:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CoreEditingCommands:()=>H,CoreEditorCommand:()=>g,CoreNavigationCommands:()=>w,EditorScroll_:()=>b,RevealLine_:()=>y});var d=e(55197),t=e(37428),l=e(72715),S=e(59797),v=e(26845),T=e(33745),C=e(76336),E=e(18723),L=e(98570);class _{static columnSelect(B,z,$,j,ne,N){const V=Math.abs(ne-$)+1,Z=$>ne,fe=j>N,M=j<N,Se=[];for(let Ee=0;Ee<V;Ee++){const Le=$+(Z?-Ee:Ee),Ne=B.columnFromVisibleColumn(z,Le,j),oe=B.columnFromVisibleColumn(z,Le,N),we=B.visibleColumnFromColumn(z,new E.L(Le,Ne)),xe=B.visibleColumnFromColumn(z,new E.L(Le,oe));M&&(we>N||xe<j)||fe&&(xe>j||we<N)||Se.push(new C.rS(new L.e(Le,Ne,Le,Ne),0,new E.L(Le,oe),0))}if(0===Se.length)for(let Ee=0;Ee<V;Ee++){const Le=$+(Z?-Ee:Ee),Ne=z.getLineMaxColumn(Le);Se.push(new C.rS(new L.e(Le,Ne,Le,Ne),0,new E.L(Le,Ne),0))}return{viewStates:Se,reversed:Z,fromLineNumber:$,fromVisualColumn:j,toLineNumber:ne,toVisualColumn:N}}static columnSelectLeft(B,z,$){let j=$.toViewVisualColumn;return j>0&&j--,_.columnSelect(B,z,$.fromViewLineNumber,$.fromViewVisualColumn,$.toViewLineNumber,j)}static columnSelectRight(B,z,$){let j=0;const ne=Math.min($.fromViewLineNumber,$.toViewLineNumber),N=Math.max($.fromViewLineNumber,$.toViewLineNumber);for(let Z=ne;Z<=N;Z++){const fe=z.getLineMaxColumn(Z),M=B.visibleColumnFromColumn(z,new E.L(Z,fe));j=Math.max(j,M)}let V=$.toViewVisualColumn;return V<j&&V++,this.columnSelect(B,z,$.fromViewLineNumber,$.fromViewVisualColumn,$.toViewLineNumber,V)}static columnSelectUp(B,z,$,j){const N=Math.max(1,$.toViewLineNumber-(j?B.pageSize:1));return this.columnSelect(B,z,$.fromViewLineNumber,$.fromViewVisualColumn,N,$.toViewVisualColumn)}static columnSelectDown(B,z,$,j){const ne=j?B.pageSize:1,N=Math.min(z.getLineCount(),$.toViewLineNumber+ne);return this.columnSelect(B,z,$.fromViewLineNumber,$.fromViewVisualColumn,N,$.toViewVisualColumn)}}var b,F,y,w,s=e(8445),m=e(21073),c=e(97979),n=e(82290),a=e(16468),p=e(98915);class g extends v._l{runEditorCommand(B,z,$){const j=z._getViewModel();!j||this.runCoreEditorCommand(j,$||{})}}(F=b||(b={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function($){if(!l.Kn($))return!1;const j=$;return!(!l.HD(j.to)||!l.o8(j.by)&&!l.HD(j.by)||!l.o8(j.value)&&!l.hj(j.value)||!l.o8(j.revealCursor)&&!l.jn(j.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},F.RawDirection={Up:"up",Down:"down"},F.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"},F.parse=function z($){let j,ne;switch($.to){case F.RawDirection.Up:j=1;break;case F.RawDirection.Down:j=2;break;default:return null}switch($.by){case F.RawUnit.Line:ne=1;break;case F.RawUnit.WrappedLine:ne=2;break;case F.RawUnit.Page:ne=3;break;case F.RawUnit.HalfPage:ne=4;break;case F.RawUnit.Editor:ne=5;break;default:ne=2}return{direction:j,unit:ne,value:Math.floor($.value||1),revealCursor:!!$.revealCursor,select:!!$.select}},function(F){F.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(z){if(!l.Kn(z))return!1;const $=z;return!(!l.hj($.lineNumber)&&!l.HD($.lineNumber)||!l.o8($.at)&&!l.HD($.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},F.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(y||(y={}));class D{constructor(B){B.addImplementation(1e4,"code-editor",(z,$)=>{const j=z.get(T.$).getFocusedCodeEditor();return!(!j||!j.hasTextFocus())&&this._runEditorCommand(z,j,$)}),B.addImplementation(1e3,"generic-dom-input-textarea",(z,$)=>{const j=document.activeElement;return!!(j&&["input","textarea"].indexOf(j.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),B.addImplementation(0,"generic-dom",(z,$)=>{const j=z.get(T.$).getActiveCodeEditor();return!!j&&(j.focus(),this._runEditorCommand(z,j,$))})}_runEditorCommand(B,z,$){return this.runEditorCommand(B,z,$)||!0}}!function(F){class B extends g{constructor(pe){super(pe),this._minimalReveal=pe.minimalReveal,this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,[m.P.moveTo(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Te.position,Te.viewPosition)])&&pe.revealPrimaryCursor(Te.source,!0,this._minimalReveal)}}F.MoveTo=(0,v.fK)(new B({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),F.MoveToSelect=(0,v.fK)(new B({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class z extends g{runCoreEditorCommand(pe,Te){pe.model.pushStackElement();const de=this._getColumnSelectResult(pe,pe.getPrimaryCursorState(),pe.getCursorColumnSelectData(),Te);pe.setCursorStates(Te.source,3,de.viewStates.map(ke=>C.Vi.fromViewState(ke))),pe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:de.fromLineNumber,fromViewVisualColumn:de.fromVisualColumn,toViewLineNumber:de.toLineNumber,toViewVisualColumn:de.toVisualColumn}),de.reversed?pe.revealTopMostCursor(Te.source):pe.revealBottomMostCursor(Te.source)}}F.ColumnSelect=(0,v.fK)(new class extends z{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(xe,pe,Te,de){const ke=xe.model.validatePosition(de.position),ze=xe.coordinatesConverter.validateViewPosition(new E.L(de.viewPosition.lineNumber,de.viewPosition.column),ke);return _.columnSelect(xe.cursorConfig,xe,de.doColumnSelect?Te.fromViewLineNumber:ze.lineNumber,de.doColumnSelect?Te.fromViewVisualColumn:de.mouseColumn-1,ze.lineNumber,de.mouseColumn-1)}}),F.CursorColumnSelectLeft=(0,v.fK)(new class extends z{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(xe,pe,Te,de){return _.columnSelectLeft(xe.cursorConfig,xe,Te)}}),F.CursorColumnSelectRight=(0,v.fK)(new class extends z{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(xe,pe,Te,de){return _.columnSelectRight(xe.cursorConfig,xe,Te)}});class $ extends z{constructor(pe){super(pe),this._isPaged=pe.isPaged}_getColumnSelectResult(pe,Te,de,ke){return _.columnSelectUp(pe.cursorConfig,pe,de,this._isPaged)}}F.CursorColumnSelectUp=(0,v.fK)(new $({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3600,linux:{primary:0}}})),F.CursorColumnSelectPageUp=(0,v.fK)(new $({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3595,linux:{primary:0}}}));class j extends z{constructor(pe){super(pe),this._isPaged=pe.isPaged}_getColumnSelectResult(pe,Te,de,ke){return _.columnSelectDown(pe.cursorConfig,pe,de,this._isPaged)}}F.CursorColumnSelectDown=(0,v.fK)(new j({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3602,linux:{primary:0}}})),F.CursorColumnSelectPageDown=(0,v.fK)(new j({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3596,linux:{primary:0}}}));class ne extends g{constructor(){super({id:"cursorMove",precondition:void 0,description:m.N.description})}runCoreEditorCommand(pe,Te){const de=m.N.parse(Te);!de||this._runCursorMove(pe,Te.source,de)}_runCursorMove(pe,Te,de){pe.model.pushStackElement(),pe.setCursorStates(Te,3,ne._move(pe,pe.getCursorStates(),de)),pe.revealPrimaryCursor(Te,!0)}static _move(pe,Te,de){const ke=de.select,ze=de.value;switch(de.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return m.P.simpleMove(pe,Te,de.direction,ke,ze,de.unit);case 11:case 13:case 12:case 14:return m.P.viewportMove(pe,Te,de.direction,ke,ze);default:return null}}}F.CursorMoveImpl=ne,F.CursorMove=(0,v.fK)(new ne);class N extends g{constructor(pe){super(pe),this._staticArgs=pe.args}runCoreEditorCommand(pe,Te){let de=this._staticArgs;-1===this._staticArgs.value&&(de={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Te.pageSize||pe.cursorConfig.pageSize}),pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,m.P.simpleMove(pe,pe.getCursorStates(),de.direction,de.select,de.value,de.unit)),pe.revealPrimaryCursor(Te.source,!0)}}F.CursorLeft=(0,v.fK)(new N({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),F.CursorLeftSelect=(0,v.fK)(new N({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1039}})),F.CursorRight=(0,v.fK)(new N({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),F.CursorRightSelect=(0,v.fK)(new N({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1041}})),F.CursorUp=(0,v.fK)(new N({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),F.CursorUpSelect=(0,v.fK)(new N({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),F.CursorPageUp=(0,v.fK)(new N({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:11}})),F.CursorPageUpSelect=(0,v.fK)(new N({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1035}})),F.CursorDown=(0,v.fK)(new N({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),F.CursorDownSelect=(0,v.fK)(new N({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),F.CursorPageDown=(0,v.fK)(new N({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:12}})),F.CursorPageDownSelect=(0,v.fK)(new N({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1036}})),F.CreateCursor=(0,v.fK)(new class extends g{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(xe,pe){let Te;Te=pe.wholeLine?m.P.line(xe,xe.getPrimaryCursorState(),!1,pe.position,pe.viewPosition):m.P.moveTo(xe,xe.getPrimaryCursorState(),!1,pe.position,pe.viewPosition);const de=xe.getCursorStates();if(de.length>1){const ke=Te.modelState?Te.modelState.position:null,ze=Te.viewState?Te.viewState.position:null;for(let $e=0,ce=de.length;$e<ce;$e++){const Ue=de[$e];if((!ke||Ue.modelState.selection.containsPosition(ke))&&(!ze||Ue.viewState.selection.containsPosition(ze)))return de.splice($e,1),xe.model.pushStackElement(),void xe.setCursorStates(pe.source,3,de)}}de.push(Te),xe.model.pushStackElement(),xe.setCursorStates(pe.source,3,de)}}),F.LastCursorMoveToSelect=(0,v.fK)(new class extends g{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(xe,pe){const Te=xe.getLastAddedCursorIndex(),de=xe.getCursorStates(),ke=de.slice(0);ke[Te]=m.P.moveTo(xe,de[Te],!0,pe.position,pe.viewPosition),xe.model.pushStackElement(),xe.setCursorStates(pe.source,3,ke)}});class V extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,m.P.moveToBeginningOfLine(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Te.source,!0)}}F.CursorHome=(0,v.fK)(new V({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),F.CursorHomeSelect=(0,v.fK)(new V({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class Z extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,this._exec(pe.getCursorStates())),pe.revealPrimaryCursor(Te.source,!0)}_exec(pe){const Te=[];for(let de=0,ke=pe.length;de<ke;de++){const ze=pe[de];Te[de]=C.Vi.fromModelState(ze.modelState.move(this._inSelectionMode,ze.modelState.position.lineNumber,1,0))}return Te}}F.CursorLineStart=(0,v.fK)(new Z({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:287}}})),F.CursorLineStartSelect=(0,v.fK)(new Z({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1311}}}));class fe extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,m.P.moveToEndOfLine(pe,pe.getCursorStates(),this._inSelectionMode,Te.sticky||!1)),pe.revealPrimaryCursor(Te.source,!0)}}F.CursorEnd=(0,v.fK)(new fe({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:n.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:d.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),F.CursorEndSelect=(0,v.fK)(new fe({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:n.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:d.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class M extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,this._exec(pe,pe.getCursorStates())),pe.revealPrimaryCursor(Te.source,!0)}_exec(pe,Te){const de=[];for(let ke=0,ze=Te.length;ke<ze;ke++){const $e=Te[ke],ce=$e.modelState.position.lineNumber,Ue=pe.model.getLineMaxColumn(ce);de[ke]=C.Vi.fromModelState($e.modelState.move(this._inSelectionMode,ce,Ue,0))}return de}}F.CursorLineEnd=(0,v.fK)(new M({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:291}}})),F.CursorLineEndSelect=(0,v.fK)(new M({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1315}}}));class Se extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,m.P.moveToBeginningOfBuffer(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Te.source,!0)}}F.CursorTop=(0,v.fK)(new Se({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2062,mac:{primary:2064}}})),F.CursorTopSelect=(0,v.fK)(new Se({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class Ee extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,m.P.moveToEndOfBuffer(pe,pe.getCursorStates(),this._inSelectionMode)),pe.revealPrimaryCursor(Te.source,!0)}}F.CursorBottom=(0,v.fK)(new Ee({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2061,mac:{primary:2066}}})),F.CursorBottomSelect=(0,v.fK)(new Ee({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class Le extends g{constructor(){super({id:"editorScroll",precondition:void 0,description:b.description})}runCoreEditorCommand(pe,Te){const de=b.parse(Te);!de||this._runEditorScroll(pe,Te.source,de)}_runEditorScroll(pe,Te,de){const ke=this._computeDesiredScrollTop(pe,de);if(de.revealCursor){const ze=pe.getCompletelyVisibleViewRangeAtScrollTop(ke);pe.setCursorStates(Te,3,[m.P.findPositionInViewportIfOutside(pe,pe.getPrimaryCursorState(),ze,de.select)])}pe.viewLayout.setScrollPosition({scrollTop:ke},0)}_computeDesiredScrollTop(pe,Te){if(1===Te.unit){const ze=pe.getCompletelyVisibleViewRange(),$e=pe.coordinatesConverter.convertViewRangeToModelRange(ze);let ce;ce=1===Te.direction?Math.max(1,$e.startLineNumber-Te.value):Math.min(pe.model.getLineCount(),$e.startLineNumber+Te.value);const Ue=pe.coordinatesConverter.convertModelPositionToViewPosition(new E.L(ce,1));return pe.viewLayout.getVerticalOffsetForLineNumber(Ue.lineNumber)}if(5===Te.unit){let ze=0;return 2===Te.direction&&(ze=pe.model.getLineCount()-pe.cursorConfig.pageSize),pe.viewLayout.getVerticalOffsetForLineNumber(ze)}let de;de=3===Te.unit?pe.cursorConfig.pageSize*Te.value:4===Te.unit?Math.round(pe.cursorConfig.pageSize/2)*Te.value:Te.value;const ke=(1===Te.direction?-1:1)*de;return pe.viewLayout.getCurrentScrollTop()+ke*pe.cursorConfig.lineHeight}}F.EditorScrollImpl=Le,F.EditorScroll=(0,v.fK)(new Le),F.ScrollLineUp=(0,v.fK)(new class extends g{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(xe,pe){F.EditorScroll._runEditorScroll(xe,pe.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),F.ScrollPageUp=(0,v.fK)(new class extends g{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(xe,pe){F.EditorScroll._runEditorScroll(xe,pe.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),F.ScrollEditorTop=(0,v.fK)(new class extends g{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(xe,pe){F.EditorScroll._runEditorScroll(xe,pe.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),F.ScrollLineDown=(0,v.fK)(new class extends g{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(xe,pe){F.EditorScroll._runEditorScroll(xe,pe.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),F.ScrollPageDown=(0,v.fK)(new class extends g{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(xe,pe){F.EditorScroll._runEditorScroll(xe,pe.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),F.ScrollEditorBottom=(0,v.fK)(new class extends g{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(xe,pe){F.EditorScroll._runEditorScroll(xe,pe.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class Ne extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,[m.P.word(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Te.position)]),pe.revealPrimaryCursor(Te.source,!0)}}F.WordSelect=(0,v.fK)(new Ne({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),F.WordSelectDrag=(0,v.fK)(new Ne({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),F.LastCursorWordSelect=(0,v.fK)(new class extends g{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(xe,pe){const Te=xe.getLastAddedCursorIndex(),de=xe.getCursorStates(),ke=de.slice(0),ze=de[Te];ke[Te]=m.P.word(xe,ze,ze.modelState.hasSelection(),pe.position),xe.model.pushStackElement(),xe.setCursorStates(pe.source,3,ke)}});class oe extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,[m.P.line(pe,pe.getPrimaryCursorState(),this._inSelectionMode,Te.position,Te.viewPosition)]),pe.revealPrimaryCursor(Te.source,!1)}}F.LineSelect=(0,v.fK)(new oe({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),F.LineSelectDrag=(0,v.fK)(new oe({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class we extends g{constructor(pe){super(pe),this._inSelectionMode=pe.inSelectionMode}runCoreEditorCommand(pe,Te){const de=pe.getLastAddedCursorIndex(),ke=pe.getCursorStates(),ze=ke.slice(0);ze[de]=m.P.line(pe,ke[de],this._inSelectionMode,Te.position,Te.viewPosition),pe.model.pushStackElement(),pe.setCursorStates(Te.source,3,ze)}}F.LastCursorLineSelect=(0,v.fK)(new we({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),F.LastCursorLineSelectDrag=(0,v.fK)(new we({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),F.CancelSelection=(0,v.fK)(new class extends g{constructor(){super({id:"cancelSelection",precondition:n.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(xe,pe){xe.model.pushStackElement(),xe.setCursorStates(pe.source,3,[m.P.cancelSelection(xe,xe.getPrimaryCursorState())]),xe.revealPrimaryCursor(pe.source,!0)}}),F.RemoveSecondaryCursors=(0,v.fK)(new class extends g{constructor(){super({id:"removeSecondaryCursors",precondition:n.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(xe,pe){xe.model.pushStackElement(),xe.setCursorStates(pe.source,3,[xe.getPrimaryCursorState()]),xe.revealPrimaryCursor(pe.source,!0),(0,S.i7)(d.NC("removedCursor","Removed secondary cursors"))}}),F.RevealLine=(0,v.fK)(new class extends g{constructor(){super({id:"revealLine",precondition:void 0,description:y.description})}runCoreEditorCommand(xe,pe){const Te=pe,de=Te.lineNumber||0;let ke="number"==typeof de?de+1:parseInt(de)+1;ke<1&&(ke=1);const ze=xe.model.getLineCount();ke>ze&&(ke=ze);const $e=new L.e(ke,1,ke,xe.model.getLineMaxColumn(ke));let ce=0;if(Te.at)switch(Te.at){case y.RawAtArgument.Top:ce=3;break;case y.RawAtArgument.Center:ce=1;break;case y.RawAtArgument.Bottom:ce=4}const Ue=xe.coordinatesConverter.convertModelRangeToViewRange($e);xe.revealRange(pe.source,!1,Ue,ce,0)}}),F.SelectAll=new class extends D{constructor(){super(v.Sq)}runDOMCommand(){t.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(xe,pe,Te){const de=pe._getViewModel();!de||this.runCoreEditorCommand(de,Te)}runCoreEditorCommand(xe,pe){xe.model.pushStackElement(),xe.setCursorStates("keyboard",3,[m.P.selectAll(xe,xe.getPrimaryCursorState())])}},F.SetSelection=(0,v.fK)(new class extends g{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(xe,pe){xe.model.pushStackElement(),xe.setCursorStates(pe.source,3,[C.Vi.fromModelSelection(pe.selection)])}})}(w||(w={}));const I=a.Ao.and(n.u.textInputFocus,n.u.columnSelection);function P(F,B){p.W.registerKeybindingRule({id:F,primary:B,when:I,weight:1})}function O(F){return F.register(),F}var H;P(w.CursorColumnSelectLeft.id,1039),P(w.CursorColumnSelectRight.id,1041),P(w.CursorColumnSelectUp.id,1040),P(w.CursorColumnSelectPageUp.id,1035),P(w.CursorColumnSelectDown.id,1042),P(w.CursorColumnSelectPageDown.id,1036),function(F){class B extends v._l{runEditorCommand($,j,ne){const N=j._getViewModel();!N||this.runCoreEditingCommand(j,N,ne||{})}}F.CoreEditingCommand=B,F.LineBreakInsert=(0,v.fK)(new class extends B{constructor(){super({id:"lineBreakInsert",precondition:n.u.writable,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(z,$,j){z.pushUndoStop(),z.executeCommands(this.id,c.u6.lineBreakInsert($.cursorConfig,$.model,$.getCursorStates().map(ne=>ne.modelState.selection)))}}),F.Outdent=(0,v.fK)(new class extends B{constructor(){super({id:"outdent",precondition:n.u.writable,kbOpts:{weight:0,kbExpr:a.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(z,$,j){z.pushUndoStop(),z.executeCommands(this.id,c.u6.outdent($.cursorConfig,$.model,$.getCursorStates().map(ne=>ne.modelState.selection))),z.pushUndoStop()}}),F.Tab=(0,v.fK)(new class extends B{constructor(){super({id:"tab",precondition:n.u.writable,kbOpts:{weight:0,kbExpr:a.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(z,$,j){z.pushUndoStop(),z.executeCommands(this.id,c.u6.tab($.cursorConfig,$.model,$.getCursorStates().map(ne=>ne.modelState.selection))),z.pushUndoStop()}}),F.DeleteLeft=(0,v.fK)(new class extends B{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(z,$,j){const[ne,N]=s.A.deleteLeft($.getPrevEditOperationType(),$.cursorConfig,$.model,$.getCursorStates().map(V=>V.modelState.selection),$.getCursorAutoClosedCharacters());ne&&z.pushUndoStop(),z.executeCommands(this.id,N),$.setPrevEditOperationType(2)}}),F.DeleteRight=(0,v.fK)(new class extends B{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:n.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(z,$,j){const[ne,N]=s.A.deleteRight($.getPrevEditOperationType(),$.cursorConfig,$.model,$.getCursorStates().map(V=>V.modelState.selection));ne&&z.pushUndoStop(),z.executeCommands(this.id,N),$.setPrevEditOperationType(3)}}),F.Undo=new class extends D{constructor(){super(v.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(z,$,j){if($.hasModel()&&!0!==$.getOption(83))return $.getModel().undo()}},F.Redo=new class extends D{constructor(){super(v.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(z,$,j){if($.hasModel()&&!0!==$.getOption(83))return $.getModel().redo()}}}(H||(H={}));class U extends v.mY{constructor(B,z,$){super({id:B,precondition:void 0,description:$}),this._handlerId=z}runCommand(B,z){const $=B.get(T.$).getFocusedCodeEditor();!$||$.trigger("keyboard",this._handlerId,z)}}function K(F,B){O(new U("default:"+F,F)),O(new U(F,F,B))}K("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),K("replacePreviousChar"),K("compositionType"),K("compositionStart"),K("compositionEnd"),K("paste"),K("cut")},78812:(Et,X,e)=>{"use strict";e.d(X,{Z0:()=>b,dR:()=>g,Bo:()=>a});var d=e(67719),t=e(64023),l=e(1187),S=e(34189),v=e(59547),T=e(61408),C=e(44827),E=e(4259);const c={DragAndDropContribution:"workbench.contributions.dragAndDrop"};E.B.add(c.DragAndDropContribution,new class m{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}});function a(y){const D=new l.Hl;for(const w of y.items){const I=w.type;if("string"===w.kind){const P=new Promise(O=>w.getAsString(O));D.append(I,(0,l.ZO)(P))}else if("file"===w.kind){const P=w.getAsFile();P&&D.append(I,p(P))}}return D}function p(y){const D=y.path?v.o.parse(y.path):void 0;return(0,l.Ix)(y.name,D,()=>function(y,D,w,I){return new(w||(w=Promise))(function(O,H){function U(B){try{F(I.next(B))}catch(z){H(z)}}function K(B){try{F(I.throw(B))}catch(z){H(z)}}function F(B){B.done?O(B.value):function P(O){return O instanceof w?O:new w(function(H){H(O)})}(B.value).then(U,K)}F((I=I.apply(y,D||[])).next())})}(this,void 0,void 0,function*(){return new Uint8Array(yield y.arrayBuffer())}))}const u=Object.freeze(["CodeEditors","CodeFiles",d.g.RESOURCES]);function g(y,D,w=!1){var I;if(D.dataTransfer&&(w||!y.has(S.v.uriList))){const P=function _(y){var D;const w=[];if(y.dataTransfer&&y.dataTransfer.types.length>0){const I=y.dataTransfer.getData("CodeEditors");if(I)try{w.push(...(0,T.Q)(I))}catch{}else try{const H=y.dataTransfer.getData(d.g.RESOURCES);w.push(...function s(y){const D=[];if(y){const w=JSON.parse(y);for(const I of w)if(I.indexOf(":")>0){const{selection:P,uri:O}=(0,C.xI)(v.o.parse(I));D.push({resource:O,options:{selection:P}})}}return D}(H))}catch{}if(null!==(D=y.dataTransfer)&&void 0!==D&&D.files)for(let H=0;H<y.dataTransfer.files.length;H++){const U=y.dataTransfer.files[H];if(U&&U.path)try{w.push({resource:v.o.file(U.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const P=y.dataTransfer.getData("CodeFiles");if(P)try{const H=JSON.parse(P);for(const U of H)w.push({resource:v.o.file(U),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const O=E.B.as(c.DragAndDropContribution).getAll();for(const H of O){const U=y.dataTransfer.getData(H.dataFormatKey);if(U)try{w.push(...H.getEditorInputs(U))}catch{}}}return w}(D).filter(O=>O.resource).map(O=>O.resource.toString());for(const O of null===(I=D.dataTransfer)||void 0===I?void 0:I.items){const H=O.getAsFile();H&&P.push(H.path?v.o.file(H.path).toString():H.name)}P.length&&y.replace(S.v.uriList,(0,l.ZO)(b.create(P)))}for(const P of u)y.delete(P)}const b=Object.freeze({create:y=>(0,t.EB)(y.map(D=>D.toString())).join("\r\n"),parse:y=>y.split("\r\n").filter(D=>!D.startsWith("#"))})},91353:(Et,X,e)=>{"use strict";e.d(X,{CL:()=>t,Pi:()=>S,QI:()=>l});var d=e(22859);function t(v){return!(!v||"function"!=typeof v.getEditorType)&&v.getEditorType()===d.g.ICodeEditor}function l(v){return!(!v||"function"!=typeof v.getEditorType)&&v.getEditorType()===d.g.IDiffEditor}function S(v){return t(v)?v:l(v)?v.getModifiedEditor():null}},69545:(Et,X,e)=>{"use strict";e.d(X,{AL:()=>p,N5:()=>n,Pp:()=>m,YN:()=>C,gy:()=>c,kG:()=>s,rU:()=>E,t7:()=>u,tC:()=>a});var d=e(98463),t=e(11210),l=e(97340),S=e(48648),v=e(80142),T=e(4062);class C{constructor(D,w){this.x=D,this.y=w,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new E(this.x-d.DI.scrollX,this.y-d.DI.scrollY)}}class E{constructor(D,w){this.clientX=D,this.clientY=w,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new C(this.clientX+d.DI.scrollX,this.clientY+d.DI.scrollY)}}class L{constructor(D,w,I,P){this.x=D,this.y=w,this.width=I,this.height=P,this._editorPagePositionBrand=void 0}}class _{constructor(D,w){this.x=D,this.y=w,this._positionRelativeToEditorBrand=void 0}}function s(y){const D=d.i(y);return new L(D.left,D.top,D.width,D.height)}function m(y,D,w){return new _((w.x-D.x)/(D.width/y.offsetWidth),(w.y-D.y)/(D.height/y.offsetHeight))}class c extends l.n{constructor(D,w,I){super(D),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=w,this.pos=new C(this.posx,this.posy),this.editorPos=s(I),this.relativePos=m(I,this.editorPos,this.pos)}}class n{constructor(D){this._editorViewDomNode=D}_create(D){return new c(D,!1,this._editorViewDomNode)}onContextMenu(D,w){return d.nm(D,"contextmenu",I=>{w(this._create(I))})}onMouseUp(D,w){return d.nm(D,"mouseup",I=>{w(this._create(I))})}onMouseDown(D,w){return d.nm(D,d.tw.MOUSE_DOWN,I=>{w(this._create(I))})}onPointerDown(D,w){return d.nm(D,d.tw.POINTER_DOWN,I=>{w(this._create(I),I.pointerId)})}onMouseLeave(D,w){return d.nm(D,d.tw.MOUSE_LEAVE,I=>{w(this._create(I))})}onMouseMove(D,w){return d.nm(D,"mousemove",I=>w(this._create(I)))}}class a{constructor(D){this._editorViewDomNode=D}_create(D){return new c(D,!1,this._editorViewDomNode)}onPointerUp(D,w){return d.nm(D,"pointerup",I=>{w(this._create(I))})}onPointerDown(D,w){return d.nm(D,d.tw.POINTER_DOWN,I=>{w(this._create(I),I.pointerId)})}onPointerLeave(D,w){return d.nm(D,d.tw.POINTER_LEAVE,I=>{w(this._create(I))})}onPointerMove(D,w){return d.nm(D,"pointermove",I=>w(this._create(I)))}}class p extends v.JT{constructor(D){super(),this._editorViewDomNode=D,this._globalPointerMoveMonitor=this._register(new t.C),this._keydownListener=null}startMonitoring(D,w,I,P,O){this._keydownListener=d.mu(document,"keydown",H=>{H.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,H.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(D,w,I,H=>{P(new c(H,!0,this._editorViewDomNode))},H=>{this._keydownListener.dispose(),O(H)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}let u=(()=>{class y{constructor(w){this._editor=w,this._instanceId=++y._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new S.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(w){const I=this.getOrCreateRule(w);return I.increaseRefCount(),{className:I.className,dispose:()=>{I.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(w){const I=this.computeUniqueKey(w);let P=this._rules.get(I);if(!P){const O=this._counter++;P=new g(I,`dyn-rule-${this._instanceId}-${O}`,d.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,w),this._rules.set(I,P)}return P}computeUniqueKey(w){return JSON.stringify(w)}garbageCollect(){for(const w of this._rules.values())w.hasReferences()||(this._rules.delete(w.key),w.dispose())}}return y._idPool=0,y})();class g{constructor(D,w,I,P){this.key=D,this.className=w,this.properties=P,this._referenceCount=0,this._styleElement=d.dS(I),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(D,w){let I=`.${D} {`;for(const P in w){const O=w[P];let H;H="object"==typeof O?`var(${(0,T.QO2)(O.id)})`:O;const U=P.replace(/(^[A-Z])/,([D])=>D.toLowerCase()).replace(/([A-Z])/g,([D])=>`-${D.toLowerCase()}`);I+=`\n\t${U}: ${H};`}return I+="\n}",I}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},26845:(Et,X,e)=>{"use strict";e.d(X,{AJ:()=>u,QG:()=>H,Qr:()=>P,R6:()=>y,Sq:()=>ne,Uc:()=>K,_K:()=>U,_l:()=>b,fK:()=>I,jY:()=>D,kz:()=>j,mY:()=>p,n_:()=>$,rn:()=>O,sb:()=>w});var K,N,d=e(55197),t=e(59547),l=e(33745),S=e(18723),v=e(59602),T=e(1149),C=e(74918),E=e(66549),L=e(16468),_=e(9265),s=e(98915),m=e(4259),c=e(24131),n=e(72715),a=e(29693);class p{constructor(V){this.id=V.id,this.precondition=V.precondition,this._kbOpts=V.kbOpts,this._menuOpts=V.menuOpts,this._description=V.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const V=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const Z of V){let fe=Z.kbExpr;this.precondition&&(fe=fe?L.Ao.and(fe,this.precondition):this.precondition),s.W.registerKeybindingRule({id:this.id,weight:Z.weight,args:Z.args,when:fe,primary:Z.primary,secondary:Z.secondary,win:Z.win,linux:Z.linux,mac:Z.mac})}}E.P0.registerCommand({id:this.id,handler:(V,Z)=>this.runCommand(V,Z),description:this._description})}_registerMenuItem(V){C.BH.appendMenuItem(V.menuId,{group:V.group,command:{id:this.id,title:V.title,icon:V.icon,precondition:this.precondition},when:V.when,order:V.order})}}class u extends p{constructor(){super(...arguments),this._implementations=[]}addImplementation(V,Z,fe){return this._implementations.push({priority:V,name:Z,implementation:fe}),this._implementations.sort((M,Se)=>Se.priority-M.priority),{dispose:()=>{for(let M=0;M<this._implementations.length;M++)if(this._implementations[M].implementation===fe)return void this._implementations.splice(M,1)}}}runCommand(V,Z){const fe=V.get(a.VZ);fe.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const M of this._implementations){const Se=M.implementation(V,Z);if(Se)return fe.trace(`Command '${this.id}' was handled by '${M.name}'.`),"boolean"==typeof Se?void 0:Se}fe.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class g extends p{constructor(V,Z){super(Z),this.command=V}runCommand(V,Z){return this.command.runCommand(V,Z)}}class b extends p{static bindToContribution(V){return class extends b{constructor(fe){super(fe),this._callback=fe.handler}runEditorCommand(fe,M,Se){const Ee=V(M);Ee&&this._callback(Ee,Se)}}}static runEditorCommand(V,Z,fe,M){const Se=V.get(l.$),Ee=Se.getFocusedCodeEditor()||Se.getActiveCodeEditor();if(Ee)return Ee.invokeWithinContext(Le=>{if(Le.get(L.i6).contextMatchesRules((0,n.f6)(fe)))return M(Le,Ee,Z)})}runCommand(V,Z){return b.runEditorCommand(V,Z,this.precondition,(fe,M,Se)=>this.runEditorCommand(fe,M,Se))}}class y extends b{constructor(V){super(y.convertOptions(V)),this.label=V.label,this.alias=V.alias}static convertOptions(V){let Z;function fe(M){return M.menuId||(M.menuId=C.eH.EditorContext),M.title||(M.title=V.label),M.when=L.Ao.and(V.precondition,M.when),M}return Z=Array.isArray(V.menuOpts)?V.menuOpts:V.menuOpts?[V.menuOpts]:[],Array.isArray(V.contextMenuOpts)?Z.push(...V.contextMenuOpts.map(fe)):V.contextMenuOpts&&Z.push(fe(V.contextMenuOpts)),V.menuOpts=Z,V}runEditorCommand(V,Z,fe){return this.reportTelemetry(V,Z),this.run(V,Z,fe||{})}reportTelemetry(V,Z){V.get(c.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class D extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(V,Z){return this._implementations.push([V,Z]),this._implementations.sort((fe,M)=>M[0]-fe[0]),{dispose:()=>{for(let fe=0;fe<this._implementations.length;fe++)if(this._implementations[fe][1]===Z)return void this._implementations.splice(fe,1)}}}run(V,Z,fe){for(const M of this._implementations){const Se=M[1](V,Z,fe);if(Se)return"boolean"==typeof Se?void 0:Se}}}function w(N,V){E.P0.registerCommand(N,function(Z,...fe){const M=Z.get(_.TG),[Se,Ee]=fe;(0,n.p_)(t.o.isUri(Se)),(0,n.p_)(S.L.isIPosition(Ee));const Le=Z.get(v.q).getModel(Se);if(Le){const Ne=S.L.lift(Ee);return M.invokeFunction(V,Le,Ne,...fe.slice(2))}return Z.get(T.S).createModelReference(Se).then(Ne=>new Promise((oe,we)=>{try{oe(M.invokeFunction(V,Ne.object.textEditorModel,S.L.lift(Ee),fe.slice(2)))}catch(xe){we(xe)}}).finally(()=>{Ne.dispose()}))})}function I(N){return B.INSTANCE.registerEditorCommand(N),N}function P(N){const V=new N;return B.INSTANCE.registerEditorAction(V),V}function O(N){return B.INSTANCE.registerEditorAction(N),N}function H(N){B.INSTANCE.registerEditorAction(N)}function U(N,V){B.INSTANCE.registerEditorContribution(N,V)}(N=K||(K={})).getEditorCommand=function V(Ee){return B.INSTANCE.getEditorCommand(Ee)},N.getEditorActions=function Z(){return B.INSTANCE.getEditorActions()},N.getEditorContributions=function fe(){return B.INSTANCE.getEditorContributions()},N.getSomeEditorContributions=function M(Ee){return B.INSTANCE.getEditorContributions().filter(Le=>Ee.indexOf(Le.id)>=0)},N.getDiffEditorContributions=function Se(){return B.INSTANCE.getDiffEditorContributions()};class B{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(V,Z){this.editorContributions.push({id:V,ctor:Z})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(V){V.register(),this.editorActions.push(V)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(V){V.register(),this.editorCommands[V.id]=V}getEditorCommand(V){return this.editorCommands[V]||null}}function z(N){return N.register(),N}B.INSTANCE=new B,m.B.add("editor.contributions",B.INSTANCE);const $=z(new u({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:C.eH.MenubarEditMenu,group:"1_do",title:d.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:C.eH.CommandPalette,group:"",title:d.NC("undo","Undo"),order:1}]}));z(new g($,{id:"default:undo",precondition:void 0}));const j=z(new u({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:C.eH.MenubarEditMenu,group:"1_do",title:d.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:C.eH.CommandPalette,group:"",title:d.NC("redo","Redo"),order:1}]}));z(new g(j,{id:"default:redo",precondition:void 0}));const ne=z(new u({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:C.eH.MenubarSelectionMenu,group:"1_basic",title:d.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:C.eH.CommandPalette,group:"",title:d.NC("selectAll","Select All"),order:1}]}))},61560:(Et,X,e)=>{"use strict";e.d(X,{Gl:()=>T,fo:()=>v,pH:()=>C,vu:()=>S});var d=e(9265),t=e(59547),l=e(72715);const S=(0,d.yh)("IWorkspaceEditService");class v{constructor(L){this.metadata=L}static convert(L){return L.edits.map(_=>{if(T.is(_))return T.lift(_);if(C.is(_))return C.lift(_);throw new Error("Unsupported edit")})}}class T extends v{constructor(L,_,s,m){super(m),this.resource=L,this.textEdit=_,this.versionId=s}static is(L){return L instanceof T||(0,l.Kn)(L)&&t.o.isUri(L.resource)&&(0,l.Kn)(L.textEdit)}static lift(L){return L instanceof T?L:new T(L.resource,L.textEdit,L.versionId,L.metadata)}}class C extends v{constructor(L,_,s={},m){super(m),this.oldResource=L,this.newResource=_,this.options=s}static is(L){return L instanceof C||(0,l.Kn)(L)&&(Boolean(L.newResource)||Boolean(L.oldResource))}static lift(L){return L instanceof C?L:new C(L.oldResource,L.newResource,L.options,L.metadata)}}},33745:(Et,X,e)=>{"use strict";e.d(X,{$:()=>t});const t=(0,e(9265).yh)("codeEditorService")},30910:(Et,X,e)=>{"use strict";e.d(X,{Q8:()=>wt,eu:()=>Bt});var d=e(48648),t=e(80142),l=e(4125),S=e(3778),v=e(8841),T=e(72715),C=e(73879);let L=!1;function _(je){!v.$L||(L||(L=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(je.message))}class s{constructor(ye,Me,ue,be){this.vsWorker=ye,this.req=Me,this.method=ue,this.args=be,this.type=0}}class m{constructor(ye,Me,ue,be){this.vsWorker=ye,this.seq=Me,this.res=ue,this.err=be,this.type=1}}class c{constructor(ye,Me,ue,be){this.vsWorker=ye,this.req=Me,this.eventName=ue,this.arg=be,this.type=2}}class n{constructor(ye,Me,ue){this.vsWorker=ye,this.req=Me,this.event=ue,this.type=3}}class a{constructor(ye,Me){this.vsWorker=ye,this.req=Me,this.type=4}}class p{constructor(ye){this._workerId=-1,this._handler=ye,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(ye){this._workerId=ye}sendMessage(ye,Me){const ue=String(++this._lastSentReq);return new Promise((be,qe)=>{this._pendingReplies[ue]={resolve:be,reject:qe},this._send(new s(this._workerId,ue,ye,Me))})}listen(ye,Me){let ue=null;const be=new S.Q5({onFirstListenerAdd:()=>{ue=String(++this._lastSentReq),this._pendingEmitters.set(ue,be),this._send(new c(this._workerId,ue,ye,Me))},onLastListenerRemove:()=>{this._pendingEmitters.delete(ue),this._send(new a(this._workerId,ue)),ue=null}});return be.event}handleMessage(ye){!ye||!ye.vsWorker||-1!==this._workerId&&ye.vsWorker!==this._workerId||this._handleMessage(ye)}_handleMessage(ye){switch(ye.type){case 1:return this._handleReplyMessage(ye);case 0:return this._handleRequestMessage(ye);case 2:return this._handleSubscribeEventMessage(ye);case 3:return this._handleEventMessage(ye);case 4:return this._handleUnsubscribeEventMessage(ye)}}_handleReplyMessage(ye){if(!this._pendingReplies[ye.seq])return void console.warn("Got reply to unknown seq");const Me=this._pendingReplies[ye.seq];if(delete this._pendingReplies[ye.seq],ye.err){let ue=ye.err;return ye.err.$isError&&(ue=new Error,ue.name=ye.err.name,ue.message=ye.err.message,ue.stack=ye.err.stack),void Me.reject(ue)}Me.resolve(ye.res)}_handleRequestMessage(ye){const Me=ye.req;this._handler.handleMessage(ye.method,ye.args).then(be=>{this._send(new m(this._workerId,Me,be,void 0))},be=>{be.detail instanceof Error&&(be.detail=(0,l.ri)(be.detail)),this._send(new m(this._workerId,Me,void 0,(0,l.ri)(be)))})}_handleSubscribeEventMessage(ye){const Me=ye.req,ue=this._handler.handleEvent(ye.eventName,ye.arg)(be=>{this._send(new n(this._workerId,Me,be))});this._pendingEvents.set(Me,ue)}_handleEventMessage(ye){this._pendingEmitters.has(ye.req)?this._pendingEmitters.get(ye.req).fire(ye.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(ye){this._pendingEvents.has(ye.req)?(this._pendingEvents.get(ye.req).dispose(),this._pendingEvents.delete(ye.req)):console.warn("Got unsubscribe for unknown req")}_send(ye){const Me=[];if(0===ye.type)for(let ue=0;ue<ye.args.length;ue++)ye.args[ue]instanceof ArrayBuffer&&Me.push(ye.args[ue]);else 1===ye.type&&ye.res instanceof ArrayBuffer&&Me.push(ye.res);this._handler.sendMessage(ye,Me)}}class u extends t.JT{constructor(ye,Me,ue){super();let be=null;this._worker=this._register(ye.create("vs/base/common/worker/simpleWorker",Ht=>{this._protocol.handleMessage(Ht)},Ht=>{be?.(Ht)})),this._protocol=new p({sendMessage:(Ht,vn)=>{this._worker.postMessage(Ht,vn)},handleMessage:(Ht,vn)=>{if("function"!=typeof ue[Ht])return Promise.reject(new Error("Missing method "+Ht+" on main thread host."));try{return Promise.resolve(ue[Ht].apply(ue,vn))}catch(Mn){return Promise.reject(Mn)}},handleEvent:(Ht,vn)=>{if(b(Ht)){const Mn=ue[Ht].call(ue,vn);if("function"!=typeof Mn)throw new Error(`Missing dynamic event ${Ht} on main thread host.`);return Mn}if(g(Ht)){const Mn=ue[Ht];if("function"!=typeof Mn)throw new Error(`Missing event ${Ht} on main thread host.`);return Mn}throw new Error(`Malformed event name ${Ht}`)}}),this._protocol.setWorkerId(this._worker.getId());let qe=null;typeof v.li.require<"u"&&"function"==typeof v.li.require.getConfig?qe=v.li.require.getConfig():typeof v.li.requirejs<"u"&&(qe=v.li.requirejs.s.contexts._.config);const Fe=T.$E(ue);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(qe)),Me,Fe]);const ot=(Ht,vn)=>this._request(Ht,vn),bt=(Ht,vn)=>this._protocol.listen(Ht,vn);this._lazyProxy=new Promise((Ht,vn)=>{be=vn,this._onModuleLoaded.then(Mn=>{Ht(function y(je,ye,Me){const ue=Fe=>function(){const ot=Array.prototype.slice.call(arguments,0);return ye(Fe,ot)},be=Fe=>function(ot){return Me(Fe,ot)},qe={};for(const Fe of je)qe[Fe]=b(Fe)?be(Fe):g(Fe)?Me(Fe,void 0):ue(Fe);return qe}(Mn,ot,bt))},Mn=>{vn(Mn),this._onError("Worker failed to load "+Me,Mn)})})}getProxyObject(){return this._lazyProxy}_request(ye,Me){return new Promise((ue,be)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(ye,Me).then(ue,be)},be)})}_onError(ye,Me){console.error(ye),console.info(Me)}}function g(je){return"o"===je[0]&&"n"===je[1]&&C.df(je.charCodeAt(2))}function b(je){return/^onDynamic/.test(je)&&C.df(je.charCodeAt(9))}var I;const P=null===(I=window.trustedTypes)||void 0===I?void 0:I.createPolicy("defaultWorkerFactory",{createScriptURL:je=>je});class U{constructor(ye,Me,ue,be,qe){this.id=Me;const Fe=function O(je){if(v.li.MonacoEnvironment){if("function"==typeof v.li.MonacoEnvironment.getWorker)return v.li.MonacoEnvironment.getWorker("workerMain.js",je);if("function"==typeof v.li.MonacoEnvironment.getWorkerUrl){const ye=v.li.MonacoEnvironment.getWorkerUrl("workerMain.js",je);return new Worker(P?P.createScriptURL(ye):ye,{name:je})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(ue);this.worker=function H(je){return"function"==typeof je.then}(Fe)?Fe:Promise.resolve(Fe),this.postMessage(ye,[]),this.worker.then(ot=>{ot.onmessage=function(bt){be(bt.data)},ot.onmessageerror=qe,"function"==typeof ot.addEventListener&&ot.addEventListener("error",qe)})}getId(){return this.id}postMessage(ye,Me){var ue;null===(ue=this.worker)||void 0===ue||ue.then(be=>be.postMessage(ye,Me))}dispose(){var ye;null===(ye=this.worker)||void 0===ye||ye.then(Me=>Me.terminate()),this.worker=null}}let K=(()=>{class je{constructor(Me){this._label=Me,this._webWorkerFailedBeforeError=!1}create(Me,ue,be){const qe=++je.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new U(Me,qe,this._label||"anonymous"+qe,ue,Fe=>{_(Fe),this._webWorkerFailedBeforeError=Fe,be(Fe)})}}return je.LAST_WORKER_ID=0,je})();var F=e(98570),B=e(94911),z=e(52237),$=e(59547),j=e(18723);function N(je,ye,Me,ue){return new z.Hs(je,ye,Me).ComputeDiff(ue)}class V{constructor(ye){const Me=[],ue=[];for(let be=0,qe=ye.length;be<qe;be++)Me[be]=Le(ye[be],1),ue[be]=Ne(ye[be],1);this.lines=ye,this._startColumns=Me,this._endColumns=ue}getElements(){const ye=[];for(let Me=0,ue=this.lines.length;Me<ue;Me++)ye[Me]=this.lines[Me].substring(this._startColumns[Me]-1,this._endColumns[Me]-1);return ye}getStrictElement(ye){return this.lines[ye]}getStartLineNumber(ye){return ye+1}getEndLineNumber(ye){return ye+1}createCharSequence(ye,Me,ue){const be=[],qe=[],Fe=[];let ot=0;for(let bt=Me;bt<=ue;bt++){const Ht=this.lines[bt],Mn=ye?this._endColumns[bt]:Ht.length+1;for(let Ct=ye?this._startColumns[bt]:1;Ct<Mn;Ct++)be[ot]=Ht.charCodeAt(Ct-1),qe[ot]=bt+1,Fe[ot]=Ct,ot++;!ye&&bt<ue&&(be[ot]=10,qe[ot]=bt+1,Fe[ot]=Ht.length+1,ot++)}return new Z(be,qe,Fe)}}class Z{constructor(ye,Me,ue){this._charCodes=ye,this._lineNumbers=Me,this._columns=ue}toString(){return"["+this._charCodes.map((ye,Me)=>(10===ye?"\\n":String.fromCharCode(ye))+`-(${this._lineNumbers[Me]},${this._columns[Me]})`).join(", ")+"]"}_assertIndex(ye,Me){if(ye<0||ye>=Me.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(ye){return ye>0&&ye===this._lineNumbers.length?this.getEndLineNumber(ye-1):(this._assertIndex(ye,this._lineNumbers),this._lineNumbers[ye])}getEndLineNumber(ye){return-1===ye?this.getStartLineNumber(ye+1):(this._assertIndex(ye,this._lineNumbers),10===this._charCodes[ye]?this._lineNumbers[ye]+1:this._lineNumbers[ye])}getStartColumn(ye){return ye>0&&ye===this._columns.length?this.getEndColumn(ye-1):(this._assertIndex(ye,this._columns),this._columns[ye])}getEndColumn(ye){return-1===ye?this.getStartColumn(ye+1):(this._assertIndex(ye,this._columns),10===this._charCodes[ye]?1:this._columns[ye]+1)}}class fe{constructor(ye,Me,ue,be,qe,Fe,ot,bt){this.originalStartLineNumber=ye,this.originalStartColumn=Me,this.originalEndLineNumber=ue,this.originalEndColumn=be,this.modifiedStartLineNumber=qe,this.modifiedStartColumn=Fe,this.modifiedEndLineNumber=ot,this.modifiedEndColumn=bt}static createFromDiffChange(ye,Me,ue){const be=Me.getStartLineNumber(ye.originalStart),qe=Me.getStartColumn(ye.originalStart),Fe=Me.getEndLineNumber(ye.originalStart+ye.originalLength-1),ot=Me.getEndColumn(ye.originalStart+ye.originalLength-1),bt=ue.getStartLineNumber(ye.modifiedStart),Ht=ue.getStartColumn(ye.modifiedStart),vn=ue.getEndLineNumber(ye.modifiedStart+ye.modifiedLength-1),Mn=ue.getEndColumn(ye.modifiedStart+ye.modifiedLength-1);return new fe(be,qe,Fe,ot,bt,Ht,vn,Mn)}}class Se{constructor(ye,Me,ue,be,qe){this.originalStartLineNumber=ye,this.originalEndLineNumber=Me,this.modifiedStartLineNumber=ue,this.modifiedEndLineNumber=be,this.charChanges=qe}static createFromDiffResult(ye,Me,ue,be,qe,Fe,ot){let bt,Ht,vn,Mn,Ct;if(0===Me.originalLength?(bt=ue.getStartLineNumber(Me.originalStart)-1,Ht=0):(bt=ue.getStartLineNumber(Me.originalStart),Ht=ue.getEndLineNumber(Me.originalStart+Me.originalLength-1)),0===Me.modifiedLength?(vn=be.getStartLineNumber(Me.modifiedStart)-1,Mn=0):(vn=be.getStartLineNumber(Me.modifiedStart),Mn=be.getEndLineNumber(Me.modifiedStart+Me.modifiedLength-1)),Fe&&Me.originalLength>0&&Me.originalLength<20&&Me.modifiedLength>0&&Me.modifiedLength<20&&qe()){const fn=ue.createCharSequence(ye,Me.originalStart,Me.originalStart+Me.originalLength-1),Vn=be.createCharSequence(ye,Me.modifiedStart,Me.modifiedStart+Me.modifiedLength-1);if(fn.getElements().length>0&&Vn.getElements().length>0){let yn=N(fn,Vn,qe,!0).changes;ot&&(yn=function M(je){if(je.length<=1)return je;const ye=[je[0]];let Me=ye[0];for(let ue=1,be=je.length;ue<be;ue++){const qe=je[ue];Math.min(qe.originalStart-(Me.originalStart+Me.originalLength),qe.modifiedStart-(Me.modifiedStart+Me.modifiedLength))<3?(Me.originalLength=qe.originalStart+qe.originalLength-Me.originalStart,Me.modifiedLength=qe.modifiedStart+qe.modifiedLength-Me.modifiedStart):(ye.push(qe),Me=qe)}return ye}(yn)),Ct=[];for(let zn=0,li=yn.length;zn<li;zn++)Ct.push(fe.createFromDiffChange(yn[zn],fn,Vn))}}return new Se(bt,Ht,vn,Mn,Ct)}}class Ee{constructor(ye,Me,ue){this.shouldComputeCharChanges=ue.shouldComputeCharChanges,this.shouldPostProcessCharChanges=ue.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=ue.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=ue.shouldMakePrettyDiff,this.originalLines=ye,this.modifiedLines=Me,this.original=new V(ye),this.modified=new V(Me),this.continueLineDiff=oe(ue.maxComputationTime),this.continueCharDiff=oe(0===ue.maxComputationTime?0:Math.min(ue.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const ye=N(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),Me=ye.changes,ue=ye.quitEarly;if(this.shouldIgnoreTrimWhitespace){const ot=[];for(let bt=0,Ht=Me.length;bt<Ht;bt++)ot.push(Se.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Me[bt],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:ue,changes:ot}}const be=[];let qe=0,Fe=0;for(let ot=-1,bt=Me.length;ot<bt;ot++){const Ht=ot+1<bt?Me[ot+1]:null,vn=Ht?Ht.originalStart:this.originalLines.length,Mn=Ht?Ht.modifiedStart:this.modifiedLines.length;for(;qe<vn&&Fe<Mn;){const Ct=this.originalLines[qe],fn=this.modifiedLines[Fe];if(Ct!==fn){{let Vn=Le(Ct,1),yn=Le(fn,1);for(;Vn>1&&yn>1&&Ct.charCodeAt(Vn-2)===fn.charCodeAt(yn-2);)Vn--,yn--;(Vn>1||yn>1)&&this._pushTrimWhitespaceCharChange(be,qe+1,1,Vn,Fe+1,1,yn)}{let Vn=Ne(Ct,1),yn=Ne(fn,1);const zn=Ct.length+1,li=fn.length+1;for(;Vn<zn&&yn<li&&Ct.charCodeAt(Vn-1)===Ct.charCodeAt(yn-1);)Vn++,yn++;(Vn<zn||yn<li)&&this._pushTrimWhitespaceCharChange(be,qe+1,Vn,zn,Fe+1,yn,li)}}qe++,Fe++}Ht&&(be.push(Se.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ht,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),qe+=Ht.originalLength,Fe+=Ht.modifiedLength)}return{quitEarly:ue,changes:be}}_pushTrimWhitespaceCharChange(ye,Me,ue,be,qe,Fe,ot){if(this._mergeTrimWhitespaceCharChange(ye,Me,ue,be,qe,Fe,ot))return;let bt;this.shouldComputeCharChanges&&(bt=[new fe(Me,ue,Me,be,qe,Fe,qe,ot)]),ye.push(new Se(Me,Me,qe,qe,bt))}_mergeTrimWhitespaceCharChange(ye,Me,ue,be,qe,Fe,ot){const bt=ye.length;if(0===bt)return!1;const Ht=ye[bt-1];return 0!==Ht.originalEndLineNumber&&0!==Ht.modifiedEndLineNumber&&Ht.originalEndLineNumber+1===Me&&Ht.modifiedEndLineNumber+1===qe&&(Ht.originalEndLineNumber=Me,Ht.modifiedEndLineNumber=qe,this.shouldComputeCharChanges&&Ht.charChanges&&Ht.charChanges.push(new fe(Me,ue,Me,be,qe,Fe,qe,ot)),!0)}}function Le(je,ye){const Me=C.LC(je);return-1===Me?ye:Me+1}function Ne(je,ye){const Me=C.ow(je);return-1===Me?ye:Me+2}function oe(je){if(0===je)return()=>!0;const ye=Date.now();return()=>Date.now()-ye<je}var we=e(98950),xe=e(50894),pe=e(81742);class Te{constructor(ye,Me,ue){const be=new Uint8Array(ye*Me);for(let qe=0,Fe=ye*Me;qe<Fe;qe++)be[qe]=ue;this._data=be,this.rows=ye,this.cols=Me}get(ye,Me){return this._data[ye*this.cols+Me]}set(ye,Me,ue){this._data[ye*this.cols+Me]=ue}}class de{constructor(ye){let Me=0,ue=0;for(let qe=0,Fe=ye.length;qe<Fe;qe++){const[ot,bt,Ht]=ye[qe];bt>Me&&(Me=bt),ot>ue&&(ue=ot),Ht>ue&&(ue=Ht)}Me++,ue++;const be=new Te(ue,Me,0);for(let qe=0,Fe=ye.length;qe<Fe;qe++){const[ot,bt,Ht]=ye[qe];be.set(ot,bt,Ht)}this._states=be,this._maxCharCode=Me}nextState(ye,Me){return Me<0||Me>=this._maxCharCode?0:this._states.get(ye,Me)}}let ke=null,$e=null;class Ue{static _createLink(ye,Me,ue,be,qe){let Fe=qe-1;do{const ot=Me.charCodeAt(Fe);if(2!==ye.get(ot))break;Fe--}while(Fe>be);if(be>0){const ot=Me.charCodeAt(be-1),bt=Me.charCodeAt(Fe);(40===ot&&41===bt||91===ot&&93===bt||123===ot&&125===bt)&&Fe--}return{range:{startLineNumber:ue,startColumn:be+1,endLineNumber:ue,endColumn:Fe+2},url:Me.substring(be,Fe+1)}}static computeLinks(ye,Me=function ze(){return null===ke&&(ke=new de([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),ke}()){const ue=function ce(){if(null===$e){$e=new pe.N(0);const je=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let Me=0;Me<je.length;Me++)$e.set(je.charCodeAt(Me),1);const ye=".,;:";for(let Me=0;Me<ye.length;Me++)$e.set(ye.charCodeAt(Me),2)}return $e}(),be=[];for(let qe=1,Fe=ye.getLineCount();qe<=Fe;qe++){const ot=ye.getLineContent(qe),bt=ot.length;let Ht=0,vn=0,Mn=0,Ct=1,fn=!1,Vn=!1,yn=!1,zn=!1;for(;Ht<bt;){let li=!1;const oi=ot.charCodeAt(Ht);if(13===Ct){let Li;switch(oi){case 40:fn=!0,Li=0;break;case 41:Li=fn?0:1;break;case 91:yn=!0,Vn=!0,Li=0;break;case 93:yn=!1,Li=Vn?0:1;break;case 123:zn=!0,Li=0;break;case 125:Li=zn?0:1;break;case 39:Li=39===Mn?1:0;break;case 34:Li=34===Mn?1:0;break;case 96:Li=96===Mn?1:0;break;case 42:Li=42===Mn?1:0;break;case 124:Li=124===Mn?1:0;break;case 32:Li=yn?0:1;break;default:Li=ue.get(oi)}1===Li&&(be.push(Ue._createLink(ue,ot,qe,vn,Ht)),li=!0)}else if(12===Ct){let Li;91===oi?(Vn=!0,Li=0):Li=ue.get(oi),1===Li?li=!0:Ct=13}else Ct=Me.nextState(Ct,oi),0===Ct&&(li=!0);li&&(Ct=1,fn=!1,Vn=!1,zn=!1,vn=Ht+1,Mn=oi),Ht++}13===Ct&&be.push(Ue._createLink(ue,ot,qe,vn,bt))}return be}}class Dt{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(ye,Me,ue,be,qe){if(ye&&Me){const Fe=this.doNavigateValueSet(Me,qe);if(Fe)return{range:ye,value:Fe}}if(ue&&be){const Fe=this.doNavigateValueSet(be,qe);if(Fe)return{range:ue,value:Fe}}return null}doNavigateValueSet(ye,Me){const ue=this.numberReplace(ye,Me);return null!==ue?ue:this.textReplace(ye,Me)}numberReplace(ye,Me){const ue=Math.pow(10,ye.length-(ye.lastIndexOf(".")+1));let be=Number(ye);const qe=parseFloat(ye);return isNaN(be)||isNaN(qe)||be!==qe?null:0!==be||Me?(be=Math.floor(be*ue),be+=Me?ue:-ue,String(be/ue)):null}textReplace(ye,Me){return this.valueSetsReplace(this._defaultValueSet,ye,Me)}valueSetsReplace(ye,Me,ue){let be=null;for(let qe=0,Fe=ye.length;null===be&&qe<Fe;qe++)be=this.valueSetReplace(ye[qe],Me,ue);return be}valueSetReplace(ye,Me,ue){let be=ye.indexOf(Me);return be>=0?(be+=ue?1:-1,be<0?be=ye.length-1:be%=ye.length,ye[be]):null}}Dt.INSTANCE=new Dt;var Lt=e(48885),Ze=e(631),ae=e(27245),_e=function(je,ye,Me,ue){return new(Me||(Me=Promise))(function(qe,Fe){function ot(vn){try{Ht(ue.next(vn))}catch(Mn){Fe(Mn)}}function bt(vn){try{Ht(ue.throw(vn))}catch(Mn){Fe(Mn)}}function Ht(vn){vn.done?qe(vn.value):function be(qe){return qe instanceof Me?qe:new Me(function(Fe){Fe(qe)})}(vn.value).then(ot,bt)}Ht((ue=ue.apply(je,ye||[])).next())})};class he extends we.v{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(ye){return this._lines[ye-1]}getWordAtPosition(ye,Me){const ue=(0,xe.t2)(ye.column,(0,xe.eq)(Me),this._lines[ye.lineNumber-1],0);return ue?new F.e(ye.lineNumber,ue.startColumn,ye.lineNumber,ue.endColumn):null}words(ye){const Me=this._lines,ue=this._wordenize.bind(this);let be=0,qe="",Fe=0,ot=[];return{*[Symbol.iterator](){for(;;)if(Fe<ot.length){const bt=qe.substring(ot[Fe].start,ot[Fe].end);Fe+=1,yield bt}else{if(!(be<Me.length))break;qe=Me[be],ot=ue(qe,ye),Fe=0,be+=1}}}}getLineWords(ye,Me){const ue=this._lines[ye-1],be=this._wordenize(ue,Me),qe=[];for(const Fe of be)qe.push({word:ue.substring(Fe.start,Fe.end),startColumn:Fe.start+1,endColumn:Fe.end+1});return qe}_wordenize(ye,Me){const ue=[];let be;for(Me.lastIndex=0;(be=Me.exec(ye))&&0!==be[0].length;)ue.push({start:be.index,end:be.index+be[0].length});return ue}getValueInRange(ye){if((ye=this._validateRange(ye)).startLineNumber===ye.endLineNumber)return this._lines[ye.startLineNumber-1].substring(ye.startColumn-1,ye.endColumn-1);const Me=this._eol,ue=ye.startLineNumber-1,be=ye.endLineNumber-1,qe=[];qe.push(this._lines[ue].substring(ye.startColumn-1));for(let Fe=ue+1;Fe<be;Fe++)qe.push(this._lines[Fe]);return qe.push(this._lines[be].substring(0,ye.endColumn-1)),qe.join(Me)}offsetAt(ye){return ye=this._validatePosition(ye),this._ensureLineStarts(),this._lineStarts.getPrefixSum(ye.lineNumber-2)+(ye.column-1)}positionAt(ye){ye=Math.floor(ye),ye=Math.max(0,ye),this._ensureLineStarts();const Me=this._lineStarts.getIndexOf(ye);return{lineNumber:1+Me.index,column:1+Math.min(Me.remainder,this._lines[Me.index].length)}}_validateRange(ye){const Me=this._validatePosition({lineNumber:ye.startLineNumber,column:ye.startColumn}),ue=this._validatePosition({lineNumber:ye.endLineNumber,column:ye.endColumn});return Me.lineNumber!==ye.startLineNumber||Me.column!==ye.startColumn||ue.lineNumber!==ye.endLineNumber||ue.column!==ye.endColumn?{startLineNumber:Me.lineNumber,startColumn:Me.column,endLineNumber:ue.lineNumber,endColumn:ue.column}:ye}_validatePosition(ye){if(!j.L.isIPosition(ye))throw new Error("bad position");let{lineNumber:Me,column:ue}=ye,be=!1;if(Me<1)Me=1,ue=1,be=!0;else if(Me>this._lines.length)Me=this._lines.length,ue=this._lines[Me-1].length+1,be=!0;else{const qe=this._lines[Me-1].length+1;ue<1?(ue=1,be=!0):ue>qe&&(ue=qe,be=!0)}return be?{lineNumber:Me,column:ue}:ye}}let le=(()=>{class je{constructor(Me,ue){this._host=Me,this._models=Object.create(null),this._foreignModuleFactory=ue,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(Me){return this._models[Me]}_getModels(){const Me=[];return Object.keys(this._models).forEach(ue=>Me.push(this._models[ue])),Me}acceptNewModel(Me){this._models[Me.url]=new he($.o.parse(Me.url),Me.lines,Me.EOL,Me.versionId)}acceptModelChanged(Me,ue){this._models[Me]&&this._models[Me].onEvents(ue)}acceptRemovedModel(Me){!this._models[Me]||delete this._models[Me]}computeUnicodeHighlights(Me,ue,be){return _e(this,void 0,void 0,function*(){const qe=this._getModel(Me);return qe?ae.a.computeUnicodeHighlights(qe,ue,be):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(Me,ue,be,qe){return _e(this,void 0,void 0,function*(){const Fe=this._getModel(Me),ot=this._getModel(ue);return Fe&&ot?je.computeDiff(Fe,ot,be,qe):null})}static computeDiff(Me,ue,be,qe){const Fe=Me.getLinesContent(),ot=ue.getLinesContent(),Ht=new Ee(Fe,ot,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:be,shouldMakePrettyDiff:!0,maxComputationTime:qe}).computeDiff(),vn=!(Ht.changes.length>0)&&this._modelsAreIdentical(Me,ue);return{quitEarly:Ht.quitEarly,identical:vn,changes:Ht.changes}}static _modelsAreIdentical(Me,ue){const be=Me.getLineCount();if(be!==ue.getLineCount())return!1;for(let Fe=1;Fe<=be;Fe++)if(Me.getLineContent(Fe)!==ue.getLineContent(Fe))return!1;return!0}computeMoreMinimalEdits(Me,ue){return _e(this,void 0,void 0,function*(){const be=this._getModel(Me);if(!be)return ue;const qe=[];let Fe;ue=ue.slice(0).sort((ot,bt)=>ot.range&&bt.range?F.e.compareRangesUsingStarts(ot.range,bt.range):(ot.range?0:1)-(bt.range?0:1));for(let{range:ot,text:bt,eol:Ht}of ue){if("number"==typeof Ht&&(Fe=Ht),F.e.isEmpty(ot)&&!bt)continue;const vn=be.getValueInRange(ot);if(bt=bt.replace(/\r\n|\n|\r/g,be.eol),vn===bt)continue;if(Math.max(bt.length,vn.length)>je._diffLimit){qe.push({range:ot,text:bt});continue}const Mn=(0,z.a$)(vn,bt,!1),Ct=be.offsetAt(F.e.lift(ot).getStartPosition());for(const fn of Mn){const Vn=be.positionAt(Ct+fn.originalStart),yn=be.positionAt(Ct+fn.originalStart+fn.originalLength),zn={text:bt.substr(fn.modifiedStart,fn.modifiedLength),range:{startLineNumber:Vn.lineNumber,startColumn:Vn.column,endLineNumber:yn.lineNumber,endColumn:yn.column}};be.getValueInRange(zn.range)!==zn.text&&qe.push(zn)}}return"number"==typeof Fe&&qe.push({eol:Fe,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),qe})}computeLinks(Me){return _e(this,void 0,void 0,function*(){const ue=this._getModel(Me);return ue?function nt(je){return je&&"function"==typeof je.getLineCount&&"function"==typeof je.getLineContent?Ue.computeLinks(je):[]}(ue):null})}textualSuggest(Me,ue,be,qe){return _e(this,void 0,void 0,function*(){const Fe=new Ze.G(!0),ot=new RegExp(be,qe),bt=new Set;e:for(const Ht of Me){const vn=this._getModel(Ht);if(vn)for(const Mn of vn.words(ot))if(Mn!==ue&&isNaN(Number(Mn))&&(bt.add(Mn),bt.size>je._suggestionsLimit))break e}return{words:Array.from(bt),duration:Fe.elapsed()}})}computeWordRanges(Me,ue,be,qe){return _e(this,void 0,void 0,function*(){const Fe=this._getModel(Me);if(!Fe)return Object.create(null);const ot=new RegExp(be,qe),bt=Object.create(null);for(let Ht=ue.startLineNumber;Ht<ue.endLineNumber;Ht++){const vn=Fe.getLineWords(Ht,ot);for(const Mn of vn){if(!isNaN(Number(Mn.word)))continue;let Ct=bt[Mn.word];Ct||(Ct=[],bt[Mn.word]=Ct),Ct.push({startLineNumber:Ht,startColumn:Mn.startColumn,endLineNumber:Ht,endColumn:Mn.endColumn})}}return bt})}navigateValueSet(Me,ue,be,qe,Fe){return _e(this,void 0,void 0,function*(){const ot=this._getModel(Me);if(!ot)return null;const bt=new RegExp(qe,Fe);ue.startColumn===ue.endColumn&&(ue={startLineNumber:ue.startLineNumber,startColumn:ue.startColumn,endLineNumber:ue.endLineNumber,endColumn:ue.endColumn+1});const Ht=ot.getValueInRange(ue),vn=ot.getWordAtPosition({lineNumber:ue.startLineNumber,column:ue.startColumn},bt);if(!vn)return null;const Mn=ot.getValueInRange(vn);return Dt.INSTANCE.navigateValueSet(ue,Ht,vn,Mn,be)})}loadForeignModule(Me,ue,be){const ot={host:T.IU(be,(bt,Ht)=>this._host.fhr(bt,Ht)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ot,ue),Promise.resolve(T.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(Me,ue){if(!this._foreignModule||"function"!=typeof this._foreignModule[Me])return Promise.reject(new Error("Missing requestHandler or method: "+Me));try{return Promise.resolve(this._foreignModule[Me].apply(this._foreignModule,ue))}catch(be){return Promise.reject(be)}}}return je._diffLimit=1e5,je._suggestionsLimit=1e4,je})();"function"==typeof importScripts&&(v.li.monaco=(0,Lt.O)());var ve=e(59602),Ae=e(19147),dt=e(64023),st=e(29693),et=e(90790),tt=function(je,ye){return function(Me,ue){ye(Me,ue,je)}},vt=function(je,ye,Me,ue){return new(Me||(Me=Promise))(function(qe,Fe){function ot(vn){try{Ht(ue.next(vn))}catch(Mn){Fe(Mn)}}function bt(vn){try{Ht(ue.throw(vn))}catch(Mn){Fe(Mn)}}function Ht(vn){vn.done?qe(vn.value):function be(qe){return qe instanceof Me?qe:new Me(function(Fe){Fe(qe)})}(vn.value).then(ot,bt)}Ht((ue=ue.apply(je,ye||[])).next())})};function Kt(je,ye){const Me=je.getModel(ye);return!(!Me||Me.isTooLargeForSyncing())}let Bt=class extends t.JT{constructor(ye,Me,ue,be,qe){super(),this._modelService=ye,this._workerManager=this._register(new ut(this._modelService,be)),this._logService=ue,this._register(qe.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(Fe,ot)=>Kt(this._modelService,Fe.uri)?this._workerManager.withWorker().then(bt=>bt.computeLinks(Fe.uri)).then(bt=>bt&&{links:bt}):Promise.resolve({links:[]})})),this._register(qe.completionProvider.register("*",new Ge(this._workerManager,Me,this._modelService,be)))}dispose(){super.dispose()}canComputeUnicodeHighlights(ye){return Kt(this._modelService,ye)}computedUnicodeHighlights(ye,Me,ue){return this._workerManager.withWorker().then(be=>be.computedUnicodeHighlights(ye,Me,ue))}computeDiff(ye,Me,ue,be){return this._workerManager.withWorker().then(qe=>qe.computeDiff(ye,Me,ue,be))}computeMoreMinimalEdits(ye,Me){if((0,dt.Of)(Me)){if(!Kt(this._modelService,ye))return Promise.resolve(Me);const ue=Ze.G.create(!0),be=this._workerManager.withWorker().then(qe=>qe.computeMoreMinimalEdits(ye,Me));return be.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",ye.toString(!0),ue.elapsed())),Promise.race([be,(0,d.Vs)(1e3).then(()=>Me)])}return Promise.resolve(void 0)}canNavigateValueSet(ye){return Kt(this._modelService,ye)}navigateValueSet(ye,Me,ue){return this._workerManager.withWorker().then(be=>be.navigateValueSet(ye,Me,ue))}canComputeWordRanges(ye){return Kt(this._modelService,ye)}computeWordRanges(ye,Me){return this._workerManager.withWorker().then(ue=>ue.computeWordRanges(ye,Me))}};Bt=function(je,ye,Me,ue){var Fe,be=arguments.length,qe=be<3?ye:null===ue?ue=Object.getOwnPropertyDescriptor(ye,Me):ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)qe=Reflect.decorate(je,ye,Me,ue);else for(var ot=je.length-1;ot>=0;ot--)(Fe=je[ot])&&(qe=(be<3?Fe(qe):be>3?Fe(ye,Me,qe):Fe(ye,Me))||qe);return be>3&&qe&&Object.defineProperty(ye,Me,qe),qe}([tt(0,ve.q),tt(1,Ae.V),tt(2,st.VZ),tt(3,B.c_),tt(4,et.p)],Bt);class Ge{constructor(ye,Me,ue,be){this.languageConfigurationService=be,this._debugDisplayName="wordbasedCompletions",this._workerManager=ye,this._configurationService=Me,this._modelService=ue}provideCompletionItems(ye,Me){return vt(this,void 0,void 0,function*(){const ue=this._configurationService.getValue(ye.uri,Me,"editor");if(!ue.wordBasedSuggestions)return;const be=[];if("currentDocument"===ue.wordBasedSuggestionsMode)Kt(this._modelService,ye.uri)&&be.push(ye.uri);else for(const Mn of this._modelService.getModels())!Kt(this._modelService,Mn.uri)||(Mn===ye?be.unshift(Mn.uri):("allDocuments"===ue.wordBasedSuggestionsMode||Mn.getLanguageId()===ye.getLanguageId())&&be.push(Mn.uri));if(0===be.length)return;const qe=this.languageConfigurationService.getLanguageConfiguration(ye.getLanguageId()).getWordDefinition(),Fe=ye.getWordAtPosition(Me),ot=Fe?new F.e(Me.lineNumber,Fe.startColumn,Me.lineNumber,Fe.endColumn):F.e.fromPositions(Me),bt=ot.setEndPosition(Me.lineNumber,Me.column),vn=yield(yield this._workerManager.withWorker()).textualSuggest(be,Fe?.word,qe);return vn?{duration:vn.duration,suggestions:vn.words.map(Mn=>({kind:18,label:Mn,insertText:Mn,range:{insert:bt,replace:ot}}))}:void 0})}}class ut extends t.JT{constructor(ye,Me){super(),this.languageConfigurationService=Me,this._modelService=ye,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new d.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(be=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new wt(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Ut extends t.JT{constructor(ye,Me,ue){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=ye,this._modelService=Me,!ue){const be=new d.zh;be.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(be)}}dispose(){for(const ye in this._syncedModels)(0,t.B9)(this._syncedModels[ye]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(ye,Me){for(const ue of ye){const be=ue.toString();this._syncedModels[be]||this._beginModelSync(ue,Me),this._syncedModels[be]&&(this._syncedModelsLastUsedTime[be]=(new Date).getTime())}}_checkStopModelSync(){const ye=(new Date).getTime(),Me=[];for(const ue in this._syncedModelsLastUsedTime)ye-this._syncedModelsLastUsedTime[ue]>6e4&&Me.push(ue);for(const ue of Me)this._stopModelSync(ue)}_beginModelSync(ye,Me){const ue=this._modelService.getModel(ye);if(!ue||!Me&&ue.isTooLargeForSyncing())return;const be=ye.toString();this._proxy.acceptNewModel({url:ue.uri.toString(),lines:ue.getLinesContent(),EOL:ue.getEOL(),versionId:ue.getVersionId()});const qe=new t.SL;qe.add(ue.onDidChangeContent(Fe=>{this._proxy.acceptModelChanged(be.toString(),Fe)})),qe.add(ue.onWillDispose(()=>{this._stopModelSync(be)})),qe.add((0,t.OF)(()=>{this._proxy.acceptRemovedModel(be)})),this._syncedModels[be]=qe}_stopModelSync(ye){const Me=this._syncedModels[ye];delete this._syncedModels[ye],delete this._syncedModelsLastUsedTime[ye],(0,t.B9)(Me)}}class hn{constructor(ye){this._instance=ye,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Dn{constructor(ye){this._workerClient=ye}fhr(ye,Me){return this._workerClient.fhr(ye,Me)}}class wt extends t.JT{constructor(ye,Me,ue,be){super(),this.languageConfigurationService=be,this._disposed=!1,this._modelService=ye,this._keepIdleModels=Me,this._workerFactory=new K(ue),this._worker=null,this._modelManager=null}fhr(ye,Me){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new u(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Dn(this)))}catch(ye){_(ye),this._worker=new hn(new le(new Dn(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,ye=>(_(ye),this._worker=new hn(new le(new Dn(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(ye){return this._modelManager||(this._modelManager=this._register(new Ut(ye,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(ye,Me=!1){return vt(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,l.F0)()):this._getProxy().then(ue=>(this._getOrCreateModelManager(ue).ensureSyncedResources(ye,Me),ue))})}computedUnicodeHighlights(ye,Me,ue){return this._withSyncedResources([ye]).then(be=>be.computeUnicodeHighlights(ye.toString(),Me,ue))}computeDiff(ye,Me,ue,be){return this._withSyncedResources([ye,Me],!0).then(qe=>qe.computeDiff(ye.toString(),Me.toString(),ue,be))}computeMoreMinimalEdits(ye,Me){return this._withSyncedResources([ye]).then(ue=>ue.computeMoreMinimalEdits(ye.toString(),Me))}computeLinks(ye){return this._withSyncedResources([ye]).then(Me=>Me.computeLinks(ye.toString()))}textualSuggest(ye,Me,ue){return vt(this,void 0,void 0,function*(){const be=yield this._withSyncedResources(ye),qe=ue.source,Fe=(0,C.mr)(ue);return be.textualSuggest(ye.map(ot=>ot.toString()),Me,qe,Fe)})}computeWordRanges(ye,Me){return this._withSyncedResources([ye]).then(ue=>{const be=this._modelService.getModel(ye);if(!be)return Promise.resolve(null);const qe=this.languageConfigurationService.getLanguageConfiguration(be.getLanguageId()).getWordDefinition(),Fe=qe.source,ot=(0,C.mr)(qe);return ue.computeWordRanges(ye.toString(),Me,Fe,ot)})}navigateValueSet(ye,Me,ue){return this._withSyncedResources([ye]).then(be=>{const qe=this._modelService.getModel(ye);if(!qe)return null;const Fe=this.languageConfigurationService.getLanguageConfiguration(qe.getLanguageId()).getWordDefinition(),ot=Fe.source,bt=(0,C.mr)(Fe);return be.navigateValueSet(ye.toString(),Me,ue,ot,bt)})}dispose(){super.dispose(),this._disposed=!0}}},46780:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>d});class d{constructor(l,S,v){this._visiblePosition=l,this._visiblePositionScrollDelta=S,this._cursorPosition=v}static capture(l){let S=null,v=0;if(0!==l.getScrollTop()){const T=l.getVisibleRanges();if(T.length>0){S=T[0].getStartPosition();const C=l.getTopForPosition(S.lineNumber,S.column);v=l.getScrollTop()-C}}return new d(S,v,l.getPosition())}restore(l){if(this._visiblePosition){const S=l.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);l.setScrollTop(S+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(l){const S=l.getPosition();if(!this._cursorPosition||!S)return;const v=l.getTopForLineNumber(S.lineNumber)-l.getTopForLineNumber(this._cursorPosition.lineNumber);l.setScrollTop(l.getScrollTop()+v)}}},85421:(Et,X,e)=>{"use strict";e.d(X,{Gm:()=>Oa});var d=e(55585),t=e(26845);let v=class{constructor(i,r){}dispose(){}};var i;v.ID="editor.contrib.markerDecorations",v=function(Wt,i,r,x){var De,W=arguments.length,J=W<3?i:null===x?x=Object.getOwnPropertyDescriptor(i,r):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(Wt,i,r,x);else for(var We=Wt.length-1;We>=0;We--)(De=Wt[We])&&(J=(W<3?De(J):W>3?De(i,r,J):De(i,r))||J);return W>3&&J&&Object.defineProperty(i,r,J),J}([(1,i=d.i,function(r,x){i(r,x,1)})],v),(0,t._K)(v.ID,v);var T=e(57856),C=e.n(T),E=e(38470),L=e.n(E),_=e(43370),s=e.n(_),m=e(28458),c=e.n(m),n=e(71278),a=e.n(n),p=e(29488),u=e.n(p),g=e(89009),b={};b.styleTagTransform=u(),b.setAttributes=c(),b.insert=s().bind(null,"head"),b.domAPI=L(),b.insertStyleElement=a(),C()(g.Z,b);var w=e(55197),I=e(98463),P=e(4125),O=e(3778),H=e(80142),U=e(59310),K=e(37428),F=e(64023),B=e(6276),z=e(8841),$=e(93972),j=e(15057);let ne=(()=>{class Wt{constructor(r,x){this.key=r,this.migrate=x}apply(r){const x=Wt._read(r,this.key);this.migrate(x,De=>Wt._read(r,De),(De,We)=>Wt._write(r,De,We))}static _read(r,x){if(typeof r>"u")return;const W=x.indexOf(".");if(W>=0){const J=x.substring(0,W);return this._read(r[J],x.substring(W+1))}return r[x]}static _write(r,x,W){const J=x.indexOf(".");if(J>=0){const De=x.substring(0,J);return r[De]=r[De]||{},void this._write(r[De],x.substring(J+1),W)}r[x]=W}}return Wt.items=[],Wt})();function N(Wt,i){ne.items.push(new ne(Wt,i))}function V(Wt,i){N(Wt,(r,x,W)=>{if(typeof r<"u")for(const[J,De]of i)if(r===J)return void W(Wt,De)})}V("wordWrap",[[!0,"on"],[!1,"off"]]),V("lineNumbers",[[!0,"on"],[!1,"off"]]),V("cursorBlinking",[["visible","solid"]]),V("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),V("renderLineHighlight",[[!0,"line"],[!1,"none"]]),V("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),V("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),V("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),V("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),V("autoIndent",[[!1,"advanced"],[!0,"full"]]),V("matchBrackets",[[!0,"always"],[!1,"never"]]),N("autoClosingBrackets",(Wt,i,r)=>{!1===Wt&&(r("autoClosingBrackets","never"),typeof i("autoClosingQuotes")>"u"&&r("autoClosingQuotes","never"),typeof i("autoSurround")>"u"&&r("autoSurround","never"))}),N("renderIndentGuides",(Wt,i,r)=>{typeof Wt<"u"&&(r("renderIndentGuides",void 0),typeof i("guides.indentation")>"u"&&r("guides.indentation",!!Wt))}),N("highlightActiveIndentGuide",(Wt,i,r)=>{typeof Wt<"u"&&(r("highlightActiveIndentGuide",void 0),typeof i("guides.highlightActiveIndentation")>"u"&&r("guides.highlightActiveIndentation",!!Wt))});const fe={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};N("suggest.filteredTypes",(Wt,i,r)=>{if(Wt&&"object"==typeof Wt){for(const x of Object.entries(fe))!1===Wt[x[0]]&&typeof i(`suggest.${x[1]}`)>"u"&&r(`suggest.${x[1]}`,!1);r("suggest.filteredTypes",void 0)}}),N("quickSuggestions",(Wt,i,r)=>{if("boolean"==typeof Wt){const x=Wt?"on":"off";r("quickSuggestions",{comments:x,strings:x,other:x})}});var M=e(5825),Se=e(54862),Ee=e(66198),Le=e(44120),Ne=e(64280);let xe=class extends H.JT{constructor(i,r,x,W){super(),this._accessibilityService=W,this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new O.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new Se.LJ,this.isSimpleWidget=i,this._containerObserver=this._register(new $.I(x,r.dimension)),this._rawOptions=$e(r),this._validatedOptions=ze.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(Ee.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(M.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(j.g.onDidChange(()=>this._recomputeOptions())),this._register(K.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const i=this._computeOptions(),r=ze.checkEquals(this.options,i);null!==r&&(this.options=i,this._onDidChangeFast.fire(r),this._onDidChange.fire(r))}_computeOptions(){const i=this._readEnvConfiguration(),r=Le.E4.createFromValidatedSettings(this._validatedOptions,i.pixelRatio,this.isSimpleWidget),x=this._readFontInfo(r),W={memory:this._computeOptionsMemory,outerWidth:i.outerWidth,outerHeight:i.outerHeight-this._reservedHeight,fontInfo:x,extraEditorClassName:i.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:i.emptySelectionClipboard,pixelRatio:i.pixelRatio,tabFocusMode:M.n.getTabFocusMode(),accessibilitySupport:i.accessibilitySupport};return ze.computeOptions(this._validatedOptions,W)}_readEnvConfiguration(){return{extraEditorClassName:Te(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:K.isWebKit||K.isFirefox,pixelRatio:K.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(i){return j.g.readFontInfo(i)}getRawOptions(){return this._rawOptions}updateOptions(i){const r=$e(i);!ze.applyUpdate(this._rawOptions,r)||(this._validatedOptions=ze.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(i){this._containerObserver.observe(i)}setIsDominatedByLongLines(i){this._isDominatedByLongLines!==i&&(this._isDominatedByLongLines=i,this._recomputeOptions())}setModelLineCount(i){const r=function pe(Wt){let i=0;for(;Wt;)Wt=Math.floor(Wt/10),i++;return i||1}(i);this._lineNumbersDigitCount!==r&&(this._lineNumbersDigitCount=r,this._recomputeOptions())}setViewLineCount(i){this._viewLineCount!==i&&(this._viewLineCount=i,this._recomputeOptions())}setReservedHeight(i){this._reservedHeight!==i&&(this._reservedHeight=i,this._recomputeOptions())}};function Te(){let Wt="";return!K.isSafari&&!K.isWebkitWebView&&(Wt+="no-user-select "),K.isSafari&&(Wt+="no-minimap-shadow ",Wt+="enable-user-select "),z.dz&&(Wt+="mac "),Wt}xe=function(Wt,i,r,x){var De,W=arguments.length,J=W<3?i:null===x?x=Object.getOwnPropertyDescriptor(i,r):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(Wt,i,r,x);else for(var We=Wt.length-1;We>=0;We--)(De=Wt[We])&&(J=(W<3?De(J):W>3?De(i,r,J):De(i,r))||J);return W>3&&J&&Object.defineProperty(i,r,J),J}([function(Wt,i){return function(r,x){i(r,x,3)}}(0,Ne.F)],xe);class de{constructor(){this._values=[]}_read(i){return this._values[i]}get(i){return this._values[i]}_write(i,r){this._values[i]=r}}class ke{constructor(){this._values=[]}_read(i){if(i>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[i]}get(i){return this._read(i)}_write(i,r){this._values[i]=r}}class ze{static validateOptions(i){const r=new de;for(const x of Se.Bc)r._write(x.id,x.validate("_never_"===x.name?void 0:i[x.name]));return r}static computeOptions(i,r){const x=new ke;for(const W of Se.Bc)x._write(W.id,W.compute(r,x,i._read(W.id)));return x}static _deepEquals(i,r){if("object"!=typeof i||"object"!=typeof r||!i||!r)return i===r;if(Array.isArray(i)||Array.isArray(r))return!(!Array.isArray(i)||!Array.isArray(r))&&F.fS(i,r);if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const x in i)if(!ze._deepEquals(i[x],r[x]))return!1;return!0}static checkEquals(i,r){const x=[];let W=!1;for(const J of Se.Bc){const De=!ze._deepEquals(i._read(J.id),r._read(J.id));x[J.id]=De,De&&(W=!0)}return W?new Se.Bb(x):null}static applyUpdate(i,r){let x=!1;for(const W of Se.Bc)if(r.hasOwnProperty(W.name)){const J=W.applyUpdate(i[W.name],r[W.name]);i[W.name]=J.newValue,x=x||J.didChange}return x}}function $e(Wt){const i=B.I8(Wt);return function Z(Wt){ne.items.forEach(i=>i.apply(Wt))}(i),i}var ce=e(33745),Ue=e(7233),nt=e(12226),Dt=e(62922),Lt=e(97340),Ze=e(48648),ae=e(69545);class _e extends H.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(i){return!1}onCompositionEnd(i){return!1}onConfigurationChanged(i){return!1}onCursorStateChanged(i){return!1}onDecorationsChanged(i){return!1}onFlushed(i){return!1}onFocusChanged(i){return!1}onLanguageConfigurationChanged(i){return!1}onLineMappingChanged(i){return!1}onLinesChanged(i){return!1}onLinesDeleted(i){return!1}onLinesInserted(i){return!1}onRevealRangeRequest(i){return!1}onScrollChanged(i){return!1}onThemeChanged(i){return!1}onTokensChanged(i){return!1}onTokensColorsChanged(i){return!1}onZonesChanged(i){return!1}handleEvents(i){let r=!1;for(let x=0,W=i.length;x<W;x++){const J=i[x];switch(J.type){case 0:this.onCompositionStart(J)&&(r=!0);break;case 1:this.onCompositionEnd(J)&&(r=!0);break;case 2:this.onConfigurationChanged(J)&&(r=!0);break;case 3:this.onCursorStateChanged(J)&&(r=!0);break;case 4:this.onDecorationsChanged(J)&&(r=!0);break;case 5:this.onFlushed(J)&&(r=!0);break;case 6:this.onFocusChanged(J)&&(r=!0);break;case 7:this.onLanguageConfigurationChanged(J)&&(r=!0);break;case 8:this.onLineMappingChanged(J)&&(r=!0);break;case 9:this.onLinesChanged(J)&&(r=!0);break;case 10:this.onLinesDeleted(J)&&(r=!0);break;case 11:this.onLinesInserted(J)&&(r=!0);break;case 12:this.onRevealRangeRequest(J)&&(r=!0);break;case 13:this.onScrollChanged(J)&&(r=!0);break;case 15:this.onTokensChanged(J)&&(r=!0);break;case 14:this.onThemeChanged(J)&&(r=!0);break;case 16:this.onTokensColorsChanged(J)&&(r=!0);break;case 17:this.onZonesChanged(J)&&(r=!0);break;default:console.info("View received unknown event: "),console.info(J)}}r&&(this._shouldRender=!0)}}class he extends _e{constructor(i){super(),this._context=i,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class le{static write(i,r){i.setAttribute("data-mprt",String(r))}static read(i){const r=i.getAttribute("data-mprt");return null===r?0:parseInt(r,10)}static collect(i,r){const x=[];let W=0;for(;i&&i!==document.body&&i!==r;)i.nodeType===i.ELEMENT_NODE&&(x[W++]=this.read(i)),i=i.parentElement;const J=new Uint8Array(W);for(let De=0;De<W;De++)J[De]=x[W-De-1];return J}}class Q{constructor(i,r){this._restrictedRenderingContextBrand=void 0,this._viewLayout=i,this.viewportData=r,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const x=this._viewLayout.getCurrentViewport();this.scrollTop=x.top,this.scrollLeft=x.left,this.viewportWidth=x.width,this.viewportHeight=x.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class ve extends Q{constructor(i,r,x){super(i,r),this._renderingContextBrand=void 0,this._viewLines=x}linesVisibleRangesForRange(i,r){return this._viewLines.linesVisibleRangesForRange(i,r)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}class Ae{constructor(i,r,x){this.outsideRenderedLine=i,this.lineNumber=r,this.ranges=x}}class dt{constructor(i,r){this._horizontalRangeBrand=void 0,this.left=Math.round(i),this.width=Math.round(r)}static from(i){const r=new Array(i.length);for(let x=0,W=i.length;x<W;x++){const J=i[x];r[x]=new dt(J.left,J.width)}return r}toString(){return`[${this.left},${this.width}]`}}class st{constructor(i,r){this._floatHorizontalRangeBrand=void 0,this.left=i,this.width=r}toString(){return`[${this.left},${this.width}]`}static compare(i,r){return i.left-r.left}}class et{constructor(i,r){this.outsideRenderedLine=i,this.originalLeft=r,this.left=Math.round(this.originalLeft)}}class Qe{constructor(i,r){this.outsideRenderedLine=i,this.ranges=r}}class tt{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(i,r){i.selectNodeContents(r)}static _readClientRects(i,r,x,W,J){const De=this._createRange();try{return De.setStart(i,r),De.setEnd(x,W),De.getClientRects()}catch{return null}finally{this._detachRange(De,J)}}static _mergeAdjacentRanges(i){if(1===i.length)return i;i.sort(st.compare);const r=[];let x=0,W=i[0];for(let J=1,De=i.length;J<De;J++){const We=i[J];W.left+W.width+.9>=We.left?W.width=Math.max(W.width,We.left+We.width-W.left):(r[x++]=W,W=We)}return r[x++]=W,r}static _createHorizontalRangesFromClientRects(i,r,x){if(!i||0===i.length)return null;const W=[];for(let J=0,De=i.length;J<De;J++){const We=i[J];W[J]=new st(Math.max(0,(We.left-r)/x),We.width/x)}return this._mergeAdjacentRanges(W)}static readHorizontalRanges(i,r,x,W,J,De,We,lt){const Nt=i.children.length-1;if(0>Nt)return null;if((r=Math.min(Nt,Math.max(0,r)))===(W=Math.min(Nt,Math.max(0,W)))&&x===J&&0===x&&!i.children[r].firstChild){const Wn=i.children[r].getClientRects();return this._createHorizontalRangesFromClientRects(Wn,De,We)}r!==W&&W>0&&0===J&&(W--,J=1073741824);let Gt=i.children[r].firstChild,an=i.children[W].firstChild;if((!Gt||!an)&&(!Gt&&0===x&&r>0&&(Gt=i.children[r-1].firstChild,x=1073741824),!an&&0===J&&W>0&&(an=i.children[W-1].firstChild,J=1073741824)),!Gt||!an)return null;x=Math.min(Gt.textContent.length,Math.max(0,x)),J=Math.min(an.textContent.length,Math.max(0,J));const un=this._readClientRects(Gt,x,an,J,lt);return this._createHorizontalRangesFromClientRects(un,De,We)}}var vt=e(56110),mt=e(27131),_t=e(18034);const Kt=!!z.tY||!(z.IJ||K.isFirefox||K.isSafari);let Bt=!0;class Ge{constructor(i,r){this._domNode=i,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=r}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const i=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=i.left,this._clientRectScale=i.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class ut{constructor(i,r){this.themeType=r;const x=i.options,W=x.get(46);this.renderWhitespace=x.get(90),this.renderControlCharacters=x.get(85),this.spaceWidth=W.spaceWidth,this.middotWidth=W.middotWidth,this.wsmiddotWidth=W.wsmiddotWidth,this.useMonospaceOptimizations=W.isMonospace&&!x.get(29),this.canUseHalfwidthRightwardsArrow=W.canUseHalfwidthRightwardsArrow,this.lineHeight=x.get(61),this.stopRenderingLineAfter=x.get(107),this.fontLigatures=x.get(47)}equals(i){return this.themeType===i.themeType&&this.renderWhitespace===i.renderWhitespace&&this.renderControlCharacters===i.renderControlCharacters&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.useMonospaceOptimizations===i.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.lineHeight===i.lineHeight&&this.stopRenderingLineAfter===i.stopRenderingLineAfter&&this.fontLigatures===i.fontLigatures}}let Ut=(()=>{class Wt{constructor(r){this._options=r,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(r){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,nt.X)(r)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(r){this._isMaybeInvalid=!0,this._options=r}onSelectionChanged(){return!(!(0,_t.c3)(this._options.themeType)&&"selection"!==this._options.renderWhitespace||(this._isMaybeInvalid=!0,0))}renderLine(r,x,W,J){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const De=W.getViewLineRenderingData(r),We=this._options,lt=vt.Kp.filter(De.inlineDecorations,r,De.minColumn,De.maxColumn);let yt=null;if((0,_t.c3)(We.themeType)||"selection"===this._options.renderWhitespace){const un=W.selections;for(const Wn of un){if(Wn.endLineNumber<r||Wn.startLineNumber>r)continue;const $n=Wn.startLineNumber===r?Wn.startColumn:De.minColumn,Gn=Wn.endLineNumber===r?Wn.endColumn:De.maxColumn;$n<Gn&&((0,_t.c3)(We.themeType)||"selection"!==this._options.renderWhitespace?lt.push(new vt.Kp($n,Gn,"inline-selected-text",0)):(yt||(yt=[]),yt.push(new mt.zG($n-1,Gn-1))))}}const Nt=new mt.IJ(We.useMonospaceOptimizations,We.canUseHalfwidthRightwardsArrow,De.content,De.continuesWithWrappedLine,De.isBasicASCII,De.containsRTL,De.minColumn-1,De.tokens,lt,De.tabSize,De.startVisibleColumn,We.spaceWidth,We.middotWidth,We.wsmiddotWidth,We.stopRenderingLineAfter,We.renderWhitespace,We.renderControlCharacters,We.fontLigatures!==Se.n0.OFF,yt);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Nt))return!1;J.appendASCIIString('<div style="top:'),J.appendASCIIString(String(x)),J.appendASCIIString("px;height:"),J.appendASCIIString(String(this._options.lineHeight)),J.appendASCIIString('px;" class="'),J.appendASCIIString(Wt.CLASS_NAME),J.appendASCIIString('">');const Gt=(0,mt.d1)(Nt,J);J.appendASCIIString("</div>");let an=null;return Bt&&Kt&&De.isBasicASCII&&We.useMonospaceOptimizations&&0===Gt.containsForeignElements&&De.content.length<300&&Nt.lineTokens.getCount()<100&&(an=new hn(this._renderedViewLine?this._renderedViewLine.domNode:null,Nt,Gt.characterMapping)),an||(an=je(this._renderedViewLine?this._renderedViewLine.domNode:null,Nt,Gt.characterMapping,Gt.containsRTL,Gt.containsForeignElements)),this._renderedViewLine=an,!0}layoutLine(r,x){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(x),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof hn}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof hn?this._renderedViewLine.monospaceAssumptionsAreValid():Bt}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof hn&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(r,x,W,J){if(!this._renderedViewLine)return null;x=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,x)),W=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,W));const De=this._renderedViewLine.input.stopRenderingLineAfter;let We=!1;-1!==De&&x>De+1&&W>De+1&&(We=!0),-1!==De&&x>De+1&&(x=De+1),-1!==De&&W>De+1&&(W=De+1);const lt=this._renderedViewLine.getVisibleRangesForRange(r,x,W,J);return lt&&lt.length>0?new Qe(We,lt):null}getColumnOfNodeOffset(r,x,W){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(r,x,W):1}}return Wt.CLASS_NAME="view-line",Wt})();class hn{constructor(i,r,x){this.domNode=i,this.input=r,this._characterMapping=x,this._charWidth=r.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Bt;const i=this.getWidth();return Math.abs(i-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Bt=!1),Bt}toSlowRenderedLine(){return je(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(i,r,x,W){const J=this._getCharPosition(r),De=this._getCharPosition(x);return[new st(J,De-J)]}_getCharPosition(i){const r=this._characterMapping.getHorizontalOffset(i);return this._charWidth*r}getColumnOfNodeOffset(i,r,x){const W=r.textContent.length;let J=-1;for(;r;)r=r.previousSibling,J++;return this._characterMapping.getColumn(new mt.Nd(J,x),W)}}class Dn{constructor(i,r,x,W,J){if(this.domNode=i,this.input=r,this._characterMapping=x,this._isWhitespaceOnly=/^\s*$/.test(r.lineContent),this._containsForeignElements=J,this._cachedWidth=-1,this._pixelOffsetCache=null,!W||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let De=0,We=this._characterMapping.length;De<=We;De++)this._pixelOffsetCache[De]=-1}}_getReadingTarget(i){return i.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(i,r,x,W){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const J=this._readPixelOffset(this.domNode,i,r,W);if(-1===J)return null;const De=this._readPixelOffset(this.domNode,i,x,W);return-1===De?null:[new st(J,De-J)]}return this._readVisibleRangesForRange(this.domNode,i,r,x,W)}_readVisibleRangesForRange(i,r,x,W,J){if(x===W){const De=this._readPixelOffset(i,r,x,J);return-1===De?null:[new st(De,0)]}return this._readRawVisibleRangesForRange(i,x,W,J)}_readPixelOffset(i,r,x,W){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const J=this._getReadingTarget(i);return J.firstChild?J.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const J=this._pixelOffsetCache[x];if(-1!==J)return J;const De=this._actualReadPixelOffset(i,r,x,W);return this._pixelOffsetCache[x]=De,De}return this._actualReadPixelOffset(i,r,x,W)}_actualReadPixelOffset(i,r,x,W){if(0===this._characterMapping.length){const lt=tt.readHorizontalRanges(this._getReadingTarget(i),0,0,0,0,W.clientRectDeltaLeft,W.clientRectScale,W.endNode);return lt&&0!==lt.length?lt[0].left:-1}if(x===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const J=this._characterMapping.getDomPosition(x),De=tt.readHorizontalRanges(this._getReadingTarget(i),J.partIndex,J.charIndex,J.partIndex,J.charIndex,W.clientRectDeltaLeft,W.clientRectScale,W.endNode);if(!De||0===De.length)return-1;const We=De[0].left;if(this.input.isBasicASCII){const lt=this._characterMapping.getHorizontalOffset(x),yt=Math.round(this.input.spaceWidth*lt);if(Math.abs(yt-We)<=1)return yt}return We}_readRawVisibleRangesForRange(i,r,x,W){if(1===r&&x===this._characterMapping.length)return[new st(0,this.getWidth())];const J=this._characterMapping.getDomPosition(r),De=this._characterMapping.getDomPosition(x);return tt.readHorizontalRanges(this._getReadingTarget(i),J.partIndex,J.charIndex,De.partIndex,De.charIndex,W.clientRectDeltaLeft,W.clientRectScale,W.endNode)}getColumnOfNodeOffset(i,r,x){const W=r.textContent.length;let J=-1;for(;r;)r=r.previousSibling,J++;return this._characterMapping.getColumn(new mt.Nd(J,x),W)}}class wt extends Dn{_readVisibleRangesForRange(i,r,x,W,J){const De=super._readVisibleRangesForRange(i,r,x,W,J);if(!De||0===De.length||x===W||1===x&&W===this._characterMapping.length)return De;if(!this.input.containsRTL){const We=this._readPixelOffset(i,r,W,J);if(-1!==We){const lt=De[De.length-1];lt.left<We&&(lt.width=We-lt.left)}}return De}}const je=K.isWebKit?function ye(Wt,i,r,x,W){return new wt(Wt,i,r,x,W)}:function Me(Wt,i,r,x,W){return new Dn(Wt,i,r,x,W)};var Ht,ue=e(18723),be=e(98570),qe=e(5409),Fe=e(19123);class ot{constructor(i=null){this.hitTarget=i,this.type=0}}class bt{constructor(i,r,x){this.position=i,this.spanNode=r,this.injectedText=x,this.type=1}}!function(Wt){Wt.createFromDOMInfo=function i(r,x,W){const J=r.getPositionFromDOMInfo(x,W);return J?new bt(J,x,null):new ot(x)}}(Ht||(Ht={}));class vn{constructor(i,r){this.lastViewCursorsRenderData=i,this.lastTextareaPosition=r}}class Mn{static _deduceRage(i,r=null){return!r&&i?new be.e(i.lineNumber,i.column,i.lineNumber,i.column):r??null}static createUnknown(i,r,x){return{type:0,element:i,mouseColumn:r,position:x,range:this._deduceRage(x)}}static createTextarea(i,r){return{type:1,element:i,mouseColumn:r,position:null,range:null}}static createMargin(i,r,x,W,J,De){return{type:i,element:r,mouseColumn:x,position:W,range:J,detail:De}}static createViewZone(i,r,x,W,J){return{type:i,element:r,mouseColumn:x,position:W,range:this._deduceRage(W),detail:J}}static createContentText(i,r,x,W,J){return{type:6,element:i,mouseColumn:r,position:x,range:this._deduceRage(x,W),detail:J}}static createContentEmpty(i,r,x,W){return{type:7,element:i,mouseColumn:r,position:x,range:this._deduceRage(x),detail:W}}static createContentWidget(i,r,x){return{type:9,element:i,mouseColumn:r,position:null,range:null,detail:x}}static createScrollbar(i,r,x){return{type:11,element:i,mouseColumn:r,position:x,range:this._deduceRage(x)}}static createOverlayWidget(i,r,x){return{type:12,element:i,mouseColumn:r,position:null,range:null,detail:x}}static createOutsideEditor(i,r){return{type:13,element:null,mouseColumn:i,position:r,range:this._deduceRage(r)}}static _typeToString(i){return 1===i?"TEXTAREA":2===i?"GUTTER_GLYPH_MARGIN":3===i?"GUTTER_LINE_NUMBERS":4===i?"GUTTER_LINE_DECORATIONS":5===i?"GUTTER_VIEW_ZONE":6===i?"CONTENT_TEXT":7===i?"CONTENT_EMPTY":8===i?"CONTENT_VIEW_ZONE":9===i?"CONTENT_WIDGET":10===i?"OVERVIEW_RULER":11===i?"SCROLLBAR":12===i?"OVERLAY_WIDGET":"UNKNOWN"}static toString(i){return this._typeToString(i.type)+": "+i.position+" - "+i.range+" - "+JSON.stringify(i.detail)}}class Ct{static isTextArea(i){return 2===i.length&&3===i[0]&&6===i[1]}static isChildOfViewLines(i){return i.length>=4&&3===i[0]&&7===i[3]}static isStrictChildOfViewLines(i){return i.length>4&&3===i[0]&&7===i[3]}static isChildOfScrollableElement(i){return i.length>=2&&3===i[0]&&5===i[1]}static isChildOfMinimap(i){return i.length>=2&&3===i[0]&&8===i[1]}static isChildOfContentWidgets(i){return i.length>=4&&3===i[0]&&1===i[3]}static isChildOfOverflowingContentWidgets(i){return i.length>=1&&2===i[0]}static isChildOfOverlayWidgets(i){return i.length>=2&&3===i[0]&&4===i[1]}}class fn{constructor(i,r,x){this.viewModel=i.viewModel;const W=i.configuration.options;this.layoutInfo=W.get(133),this.viewDomNode=r.viewDomNode,this.lineHeight=W.get(61),this.stickyTabStops=W.get(106),this.typicalHalfwidthCharacterWidth=W.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=x,this._context=i,this._viewHelper=r}getZoneAtCoord(i){return fn.getZoneAtCoord(this._context,i)}static getZoneAtCoord(i,r){const x=i.viewLayout.getWhitespaceAtVerticalOffset(r);if(x){const W=x.verticalOffset+x.height/2,J=i.viewModel.getLineCount();let We,De=null,lt=null;return x.afterLineNumber!==J&&(lt=new ue.L(x.afterLineNumber+1,1)),x.afterLineNumber>0&&(De=new ue.L(x.afterLineNumber,i.viewModel.getLineMaxColumn(x.afterLineNumber))),We=null===lt?De:null===De?lt:r<W?De:lt,{viewZoneId:x.id,afterLineNumber:x.afterLineNumber,positionBefore:De,positionAfter:lt,position:We}}return null}getFullLineRangeAtCoord(i){if(this._context.viewLayout.isAfterLines(i)){const W=this._context.viewModel.getLineCount(),J=this._context.viewModel.getLineMaxColumn(W);return{range:new be.e(W,J,W,J),isAfterLines:!0}}const r=this._context.viewLayout.getLineNumberAtVerticalOffset(i),x=this._context.viewModel.getLineMaxColumn(r);return{range:new be.e(r,1,r,x),isAfterLines:!1}}getLineNumberAtVerticalOffset(i){return this._context.viewLayout.getLineNumberAtVerticalOffset(i)}isAfterLines(i){return this._context.viewLayout.isAfterLines(i)}isInTopPadding(i){return this._context.viewLayout.isInTopPadding(i)}isInBottomPadding(i){return this._context.viewLayout.isInBottomPadding(i)}getVerticalOffsetForLineNumber(i){return this._context.viewLayout.getVerticalOffsetForLineNumber(i)}findAttribute(i,r){return fn._findAttribute(i,r,this._viewHelper.viewDomNode)}static _findAttribute(i,r,x){for(;i&&i!==document.body;){if(i.hasAttribute&&i.hasAttribute(r))return i.getAttribute(r);if(i===x)return null;i=i.parentNode}return null}getLineWidth(i){return this._viewHelper.getLineWidth(i)}visibleRangeForPosition(i,r){return this._viewHelper.visibleRangeForPosition(i,r)}getPositionFromDOMInfo(i,r){return this._viewHelper.getPositionFromDOMInfo(i,r)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Vn{constructor(i,r,x,W){this.editorPos=r,this.pos=x,this.relativePos=W,this.mouseVerticalOffset=Math.max(0,i.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=i.getCurrentScrollLeft()+this.relativePos.x-i.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<i.layoutInfo.contentLeft&&this.relativePos.x>=i.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,oi._getMouseColumn(this.mouseContentHorizontalOffset,i.typicalHalfwidthCharacterWidth))}}class yn extends Vn{constructor(i,r,x,W,J){super(i,r,x,W),this._ctx=i,J?(this.target=J,this.targetPath=le.collect(J,i.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(i=null){return i&&i.column<this._ctx.viewModel.getLineMaxColumn(i.lineNumber)?qe.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(i.lineNumber),i.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(i=null){return Mn.createUnknown(this.target,this._getMouseColumn(i),i)}fulfillTextarea(){return Mn.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(i,r,x,W){return Mn.createMargin(i,this.target,this._getMouseColumn(r),r,x,W)}fulfillViewZone(i,r,x){return Mn.createViewZone(i,this.target,this._getMouseColumn(r),r,x)}fulfillContentText(i,r,x){return Mn.createContentText(this.target,this._getMouseColumn(i),i,r,x)}fulfillContentEmpty(i,r){return Mn.createContentEmpty(this.target,this._getMouseColumn(i),i,r)}fulfillContentWidget(i){return Mn.createContentWidget(this.target,this._getMouseColumn(),i)}fulfillScrollbar(i){return Mn.createScrollbar(this.target,this._getMouseColumn(i),i)}fulfillOverlayWidget(i){return Mn.createOverlayWidget(this.target,this._getMouseColumn(),i)}withTarget(i){return new yn(this._ctx,this.editorPos,this.pos,this.relativePos,i)}}const zn={isAfterLines:!0};function li(Wt){return{isAfterLines:!1,horizontalDistanceToText:Wt}}class oi{constructor(i,r){this._context=i,this._viewHelper=r}mouseTargetIsWidget(i){const x=le.collect(i.target,this._viewHelper.viewDomNode);return!!(Ct.isChildOfContentWidgets(x)||Ct.isChildOfOverflowingContentWidgets(x)||Ct.isChildOfOverlayWidgets(x))}createMouseTarget(i,r,x,W,J){const De=new fn(this._context,this._viewHelper,i),We=new yn(De,r,x,W,J);try{return oi._createMouseTarget(De,We,!1)}catch{return We.fulfillUnknown()}}static _createMouseTarget(i,r,x){if(null===r.target){if(x)return r.fulfillUnknown();const De=oi._doHitTest(i,r);return 1===De.type?oi.createMouseTargetFromHitTestPosition(i,r,De.spanNode,De.position,De.injectedText):this._createMouseTarget(i,r.withTarget(De.hitTarget),!0)}const W=r;let J=null;return J=J||oi._hitTestContentWidget(i,W),J=J||oi._hitTestOverlayWidget(i,W),J=J||oi._hitTestMinimap(i,W),J=J||oi._hitTestScrollbarSlider(i,W),J=J||oi._hitTestViewZone(i,W),J=J||oi._hitTestMargin(i,W),J=J||oi._hitTestViewCursor(i,W),J=J||oi._hitTestTextArea(i,W),J=J||oi._hitTestViewLines(i,W,x),J=J||oi._hitTestScrollbar(i,W),J||r.fulfillUnknown()}static _hitTestContentWidget(i,r){if(Ct.isChildOfContentWidgets(r.targetPath)||Ct.isChildOfOverflowingContentWidgets(r.targetPath)){const x=i.findAttribute(r.target,"widgetId");return x?r.fulfillContentWidget(x):r.fulfillUnknown()}return null}static _hitTestOverlayWidget(i,r){if(Ct.isChildOfOverlayWidgets(r.targetPath)){const x=i.findAttribute(r.target,"widgetId");return x?r.fulfillOverlayWidget(x):r.fulfillUnknown()}return null}static _hitTestViewCursor(i,r){if(r.target){const x=i.lastRenderData.lastViewCursorsRenderData;for(const W of x)if(r.target===W.domNode)return r.fulfillContentText(W.position,null,{mightBeForeignElement:!1,injectedText:null})}if(r.isInContentArea){const x=i.lastRenderData.lastViewCursorsRenderData,W=r.mouseContentHorizontalOffset,J=r.mouseVerticalOffset;for(const De of x){if(W<De.contentLeft||W>De.contentLeft+De.width)continue;const We=i.getVerticalOffsetForLineNumber(De.position.lineNumber);if(We<=J&&J<=We+De.height)return r.fulfillContentText(De.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(i,r){const x=i.getZoneAtCoord(r.mouseVerticalOffset);return x?r.fulfillViewZone(r.isInContentArea?8:5,x.position,x):null}static _hitTestTextArea(i,r){return Ct.isTextArea(r.targetPath)?i.lastRenderData.lastTextareaPosition?r.fulfillContentText(i.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):r.fulfillTextarea():null}static _hitTestMargin(i,r){if(r.isInMarginArea){const x=i.getFullLineRangeAtCoord(r.mouseVerticalOffset),W=x.range.getStartPosition();let J=Math.abs(r.relativePos.x);const De={isAfterLines:x.isAfterLines,glyphMarginLeft:i.layoutInfo.glyphMarginLeft,glyphMarginWidth:i.layoutInfo.glyphMarginWidth,lineNumbersWidth:i.layoutInfo.lineNumbersWidth,offsetX:J};return J-=i.layoutInfo.glyphMarginLeft,J<=i.layoutInfo.glyphMarginWidth?r.fulfillMargin(2,W,x.range,De):(J-=i.layoutInfo.glyphMarginWidth,J<=i.layoutInfo.lineNumbersWidth?r.fulfillMargin(3,W,x.range,De):(J-=i.layoutInfo.lineNumbersWidth,r.fulfillMargin(4,W,x.range,De)))}return null}static _hitTestViewLines(i,r,x){if(!Ct.isChildOfViewLines(r.targetPath))return null;if(i.isInTopPadding(r.mouseVerticalOffset))return r.fulfillContentEmpty(new ue.L(1,1),zn);if(i.isAfterLines(r.mouseVerticalOffset)||i.isInBottomPadding(r.mouseVerticalOffset)){const J=i.viewModel.getLineCount(),De=i.viewModel.getLineMaxColumn(J);return r.fulfillContentEmpty(new ue.L(J,De),zn)}if(x){if(Ct.isStrictChildOfViewLines(r.targetPath)){const J=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset);if(0===i.viewModel.getLineLength(J)){const We=i.getLineWidth(J),lt=li(r.mouseContentHorizontalOffset-We);return r.fulfillContentEmpty(new ue.L(J,1),lt)}const De=i.getLineWidth(J);if(r.mouseContentHorizontalOffset>=De){const We=li(r.mouseContentHorizontalOffset-De),lt=new ue.L(J,i.viewModel.getLineMaxColumn(J));return r.fulfillContentEmpty(lt,We)}}return r.fulfillUnknown()}const W=oi._doHitTest(i,r);return 1===W.type?oi.createMouseTargetFromHitTestPosition(i,r,W.spanNode,W.position,W.injectedText):this._createMouseTarget(i,r.withTarget(W.hitTarget),!0)}static _hitTestMinimap(i,r){if(Ct.isChildOfMinimap(r.targetPath)){const x=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset),W=i.viewModel.getLineMaxColumn(x);return r.fulfillScrollbar(new ue.L(x,W))}return null}static _hitTestScrollbarSlider(i,r){if(Ct.isChildOfScrollableElement(r.targetPath)&&r.target&&1===r.target.nodeType){const x=r.target.className;if(x&&/\b(slider|scrollbar)\b/.test(x)){const W=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset),J=i.viewModel.getLineMaxColumn(W);return r.fulfillScrollbar(new ue.L(W,J))}}return null}static _hitTestScrollbar(i,r){if(Ct.isChildOfScrollableElement(r.targetPath)){const x=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset),W=i.viewModel.getLineMaxColumn(x);return r.fulfillScrollbar(new ue.L(x,W))}return null}getMouseColumn(i){const r=this._context.configuration.options,x=r.get(133),W=this._context.viewLayout.getCurrentScrollLeft()+i.x-x.contentLeft;return oi._getMouseColumn(W,r.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(i,r){return i<0?1:Math.round(i/r)+1}static createMouseTargetFromHitTestPosition(i,r,x,W,J){const De=W.lineNumber,We=W.column,lt=i.getLineWidth(De);if(r.mouseContentHorizontalOffset>lt){const Gn=li(r.mouseContentHorizontalOffset-lt);return r.fulfillContentEmpty(W,Gn)}const yt=i.visibleRangeForPosition(De,We);if(!yt)return r.fulfillUnknown(W);if(r.mouseContentHorizontalOffset===yt.left)return r.fulfillContentText(W,null,{mightBeForeignElement:!!J,injectedText:J});const Gt=[];if(Gt.push({offset:yt.left,column:We}),We>1){const Gn=i.visibleRangeForPosition(De,We-1);Gn&&Gt.push({offset:Gn.left,column:We-1})}if(We<i.viewModel.getLineMaxColumn(De)){const Gn=i.visibleRangeForPosition(De,We+1);Gn&&Gt.push({offset:Gn.left,column:We+1})}Gt.sort((Gn,ci)=>Gn.offset-ci.offset);const un=r.pos.toClientCoordinates(),Wn=x.getBoundingClientRect(),$n=Wn.left<=un.clientX&&un.clientX<=Wn.right;for(let Gn=1;Gn<Gt.length;Gn++){const ci=Gt[Gn-1],mi=Gt[Gn];if(ci.offset<=r.mouseContentHorizontalOffset&&r.mouseContentHorizontalOffset<=mi.offset){const Di=new be.e(De,ci.column,De,mi.column),Ui=Math.abs(ci.offset-r.mouseContentHorizontalOffset),eo=Math.abs(mi.offset-r.mouseContentHorizontalOffset),zi=new ue.L(De,Ui<eo?ci.column:mi.column);return r.fulfillContentText(zi,Di,{mightBeForeignElement:!$n||!!J,injectedText:J})}}return r.fulfillContentText(W,null,{mightBeForeignElement:!$n||!!J,injectedText:J})}static _doHitTestWithCaretRangeFromPoint(i,r){const x=i.getLineNumberAtVerticalOffset(r.mouseVerticalOffset),J=i.getVerticalOffsetForLineNumber(x)+Math.floor(i.lineHeight/2);let De=r.pos.y+(J-r.mouseVerticalOffset);De<=r.editorPos.y&&(De=r.editorPos.y+1),De>=r.editorPos.y+r.editorPos.height&&(De=r.editorPos.y+r.editorPos.height-1);const We=new ae.YN(r.pos.x,De),lt=this._actualDoHitTestWithCaretRangeFromPoint(i,We.toClientCoordinates());return 1===lt.type?lt:this._actualDoHitTestWithCaretRangeFromPoint(i,r.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(i,r){const x=I.Ay(i.viewDomNode);let W;if(W=x?typeof x.caretRangeFromPoint>"u"?function Li(Wt,i,r){const x=document.createRange();let W=Wt.elementFromPoint(i,r);if(null!==W){for(;W&&W.firstChild&&W.firstChild.nodeType!==W.firstChild.TEXT_NODE&&W.lastChild&&W.lastChild.firstChild;)W=W.lastChild;const J=W.getBoundingClientRect(),De=window.getComputedStyle(W,null).getPropertyValue("font"),We=W.innerText;let Nt,lt=J.left,yt=0;if(i>J.left+J.width)yt=We.length;else{const Gt=so.getInstance();for(let an=0;an<We.length+1;an++){if(Nt=Gt.getCharWidth(We.charAt(an),De)/2,lt+=Nt,i<lt){yt=an;break}lt+=Nt}}x.setStart(W.firstChild,yt),x.setEnd(W.firstChild,yt)}return x}(x,r.clientX,r.clientY):x.caretRangeFromPoint(r.clientX,r.clientY):document.caretRangeFromPoint(r.clientX,r.clientY),!W||!W.startContainer)return new ot;const J=W.startContainer;if(J.nodeType===J.TEXT_NODE){const De=J.parentNode,We=De?De.parentNode:null,lt=We?We.parentNode:null;return(lt&&lt.nodeType===lt.ELEMENT_NODE?lt.className:null)===Ut.CLASS_NAME?Ht.createFromDOMInfo(i,De,W.startOffset):new ot(J.parentNode)}if(J.nodeType===J.ELEMENT_NODE){const De=J.parentNode,We=De?De.parentNode:null;return(We&&We.nodeType===We.ELEMENT_NODE?We.className:null)===Ut.CLASS_NAME?Ht.createFromDOMInfo(i,J,J.textContent.length):new ot(J)}return new ot}static _doHitTestWithCaretPositionFromPoint(i,r){const x=document.caretPositionFromPoint(r.clientX,r.clientY);if(x.offsetNode.nodeType===x.offsetNode.TEXT_NODE){const W=x.offsetNode.parentNode,J=W?W.parentNode:null,De=J?J.parentNode:null;return(De&&De.nodeType===De.ELEMENT_NODE?De.className:null)===Ut.CLASS_NAME?Ht.createFromDOMInfo(i,x.offsetNode.parentNode,x.offset):new ot(x.offsetNode.parentNode)}if(x.offsetNode.nodeType===x.offsetNode.ELEMENT_NODE){const W=x.offsetNode.parentNode,De=W?W.parentNode:null,We=De&&De.nodeType===De.ELEMENT_NODE?De.className:null;if((W&&W.nodeType===W.ELEMENT_NODE?W.className:null)===Ut.CLASS_NAME){const lt=x.offsetNode.childNodes[Math.min(x.offset,x.offsetNode.childNodes.length-1)];if(lt)return Ht.createFromDOMInfo(i,lt,0)}else if(We===Ut.CLASS_NAME)return Ht.createFromDOMInfo(i,x.offsetNode,0)}return new ot(x.offsetNode)}static _snapToSoftTabBoundary(i,r){const x=r.getLineContent(i.lineNumber),{tabSize:W}=r.model.getOptions(),J=Fe.l.atomicPosition(x,i.column-1,W,2);return-1!==J?new ue.L(i.lineNumber,J+1):i}static _doHitTest(i,r){let x=new ot;if("function"==typeof document.caretRangeFromPoint?x=this._doHitTestWithCaretRangeFromPoint(i,r):document.caretPositionFromPoint&&(x=this._doHitTestWithCaretPositionFromPoint(i,r.pos.toClientCoordinates())),1===x.type){const W=i.viewModel.getInjectedTextAt(x.position),J=i.viewModel.normalizePosition(x.position,2);(W||!J.equals(x.position))&&(x=new bt(J,x.spanNode,W))}return 1===x.type&&i.stickyTabStops&&(x=new bt(this._snapToSoftTabBoundary(x.position,i.viewModel),x.spanNode,x.injectedText)),x}}let so=(()=>{class Wt{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Wt._INSTANCE||(Wt._INSTANCE=new Wt),Wt._INSTANCE}getCharWidth(r,x){const W=r+x;if(this._cache[W])return this._cache[W];const J=this._canvas.getContext("2d");J.font=x;const We=J.measureText(r).width;return this._cache[W]=We,We}}return Wt._INSTANCE=null,Wt})();class oo extends _e{constructor(i,r,x){super(),this._mouseLeaveMonitor=null,this._context=i,this.viewController=r,this.viewHelper=x,this.mouseTargetFactory=new oi(this._context,x),this._mouseDownOperation=this._register(new xo(this._context,this.viewController,this.viewHelper,(We,lt)=>this._createMouseTarget(We,lt),We=>this._getMouseColumn(We))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const W=new ae.N5(this.viewHelper.viewDomNode);this._register(W.onContextMenu(this.viewHelper.viewDomNode,We=>this._onContextMenu(We,!0))),this._register(W.onMouseMove(this.viewHelper.viewDomNode,We=>{this._onMouseMove(We),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=I.nm(document,"mousemove",lt=>{this.viewHelper.viewDomNode.contains(lt.target)||this._onMouseLeave(new ae.gy(lt,!1,this.viewHelper.viewDomNode))}))})),this._register(W.onMouseUp(this.viewHelper.viewDomNode,We=>this._onMouseUp(We))),this._register(W.onMouseLeave(this.viewHelper.viewDomNode,We=>this._onMouseLeave(We)));let J=0;this._register(W.onPointerDown(this.viewHelper.viewDomNode,(We,lt)=>{J=lt})),this._register(I.nm(this.viewHelper.viewDomNode,I.tw.POINTER_UP,We=>{this._mouseDownOperation.onPointerUp()})),this._register(W.onMouseDown(this.viewHelper.viewDomNode,We=>this._onMouseDown(We,J))),this._register(I.nm(this.viewHelper.viewDomNode,I.tw.MOUSE_WHEEL,We=>{if(this.viewController.emitMouseWheel(We),!this._context.configuration.options.get(70))return;const lt=new Lt.q(We);if(z.dz?(We.metaKey||We.ctrlKey)&&!We.shiftKey&&!We.altKey:We.ctrlKey&&!We.metaKey&&!We.shiftKey&&!We.altKey){const Nt=Ee.C.getZoomLevel();Ee.C.setZoomLevel(Nt+(lt.deltaY>0?1:-1)),lt.preventDefault(),lt.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(i){if(i.hasChanged(133)){const r=this._context.configuration.options.get(133).height;this._height!==r&&(this._height=r,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(i){return this._mouseDownOperation.onCursorStateChanged(i),!1}onFocusChanged(i){return!1}onScrollChanged(i){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(i,r){const W=new ae.rU(i,r).toPageCoordinates(),J=(0,ae.kG)(this.viewHelper.viewDomNode);if(W.y<J.y||W.y>J.y+J.height||W.x<J.x||W.x>J.x+J.width)return null;const De=(0,ae.Pp)(this.viewHelper.viewDomNode,J,W);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),J,W,De,null)}_createMouseTarget(i,r){let x=i.target;if(!this.viewHelper.viewDomNode.contains(x)){const W=I.Ay(this.viewHelper.viewDomNode);W&&(x=W.elementsFromPoint(i.posx,i.posy).find(J=>this.viewHelper.viewDomNode.contains(J)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i.editorPos,i.pos,i.relativePos,r?x:null)}_getMouseColumn(i){return this.mouseTargetFactory.getMouseColumn(i.relativePos)}_onContextMenu(i,r){this.viewController.emitContextMenu({event:i,target:this._createMouseTarget(i,r)})}_onMouseMove(i){this.mouseTargetFactory.mouseTargetIsWidget(i)||i.preventDefault(),!(this._mouseDownOperation.isActive()||i.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:i,target:this._createMouseTarget(i,!0)})}_onMouseLeave(i){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:i,target:null})}_onMouseUp(i){this.viewController.emitMouseUp({event:i,target:this._createMouseTarget(i,!0)})}_onMouseDown(i,r){const x=this._createMouseTarget(i,!0),W=6===x.type||7===x.type,J=2===x.type||3===x.type||4===x.type,De=3===x.type,We=this._context.configuration.options.get(100),lt=8===x.type||5===x.type,yt=9===x.type;let Nt=i.leftButton||i.middleButton;z.dz&&i.leftButton&&i.ctrlKey&&(Nt=!1);const Gt=()=>{i.preventDefault(),this.viewHelper.focusTextArea()};if(Nt&&(W||De&&We))Gt(),this._mouseDownOperation.start(x.type,i,r);else if(J)i.preventDefault();else if(lt){const an=x.detail;Nt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(an.viewZoneId)&&(Gt(),this._mouseDownOperation.start(x.type,i,r),i.preventDefault())}else yt&&this.viewHelper.shouldSuppressMouseDownOnWidget(x.detail)&&(Gt(),i.preventDefault());this.viewController.emitMouseDown({event:i,target:x})}}class xo extends H.JT{constructor(i,r,x,W,J){super(),this._context=i,this._viewController=r,this._viewHelper=x,this._createMouseTarget=W,this._getMouseColumn=J,this._mouseMoveMonitor=this._register(new ae.AL(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Ze._F),this._mouseState=new ro,this._currentSelection=new Ue.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(i){this._lastMouseEvent=i,this._mouseState.setModifiers(i);const r=this._findMousePosition(i,!1);!r||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:i,target:r}):this._dispatchMouse(r,!0))}start(i,r,x){this._lastMouseEvent=r,this._mouseState.setStartedOnLineNumbers(3===i),this._mouseState.setStartButtons(r),this._mouseState.setModifiers(r);const W=this._findMousePosition(r,!0);if(!W||!W.position)return;this._mouseState.trySetCount(r.detail,W.position),r.detail=this._mouseState.count;const J=this._context.configuration.options;if(!J.get(83)&&J.get(31)&&!J.get(18)&&!this._mouseState.altKey&&r.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===W.type&&W.position&&this._currentSelection.containsPosition(W.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,x,r.buttons,De=>this._onMouseDownThenMove(De),De=>{const We=this._findMousePosition(this._lastMouseEvent,!1);De&&De instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:We?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(W,r.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,x,r.buttons,De=>this._onMouseDownThenMove(De),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const i=this._findMousePosition(this._lastMouseEvent,!1);!i||this._mouseState.isDragAndDrop||this._dispatchMouse(i,!0)},10)}onCursorStateChanged(i){this._currentSelection=i.selections[0]}_getPositionOutsideEditor(i){const r=i.editorPos,x=this._context.viewModel,W=this._context.viewLayout,J=this._getMouseColumn(i);if(i.posy<r.y){const We=Math.max(W.getCurrentScrollTop()-(r.y-i.posy),0),lt=fn.getZoneAtCoord(this._context,We);if(lt){const Nt=this._helpPositionJumpOverViewZone(lt);if(Nt)return Mn.createOutsideEditor(J,Nt)}const yt=W.getLineNumberAtVerticalOffset(We);return Mn.createOutsideEditor(J,new ue.L(yt,1))}if(i.posy>r.y+r.height){const We=W.getCurrentScrollTop()+i.relativePos.y,lt=fn.getZoneAtCoord(this._context,We);if(lt){const Nt=this._helpPositionJumpOverViewZone(lt);if(Nt)return Mn.createOutsideEditor(J,Nt)}const yt=W.getLineNumberAtVerticalOffset(We);return Mn.createOutsideEditor(J,new ue.L(yt,x.getLineMaxColumn(yt)))}const De=W.getLineNumberAtVerticalOffset(W.getCurrentScrollTop()+i.relativePos.y);return i.posx<r.x?Mn.createOutsideEditor(J,new ue.L(De,1)):i.posx>r.x+r.width?Mn.createOutsideEditor(J,new ue.L(De,x.getLineMaxColumn(De))):null}_findMousePosition(i,r){const x=this._getPositionOutsideEditor(i);if(x)return x;const W=this._createMouseTarget(i,r);if(!W.position)return null;if(8===W.type||5===W.type){const De=this._helpPositionJumpOverViewZone(W.detail);if(De)return Mn.createViewZone(W.type,W.element,W.mouseColumn,De,W.detail)}return W}_helpPositionJumpOverViewZone(i){const r=new ue.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),x=i.positionBefore,W=i.positionAfter;return x&&W?x.isBefore(r)?x:W:null}_dispatchMouse(i,r){!i.position||this._viewController.dispatchMouse({position:i.position,mouseColumn:i.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:r,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===i.type&&null!==i.detail.injectedText})}}let ro=(()=>{class Wt{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(r){this._altKey=r.altKey,this._ctrlKey=r.ctrlKey,this._metaKey=r.metaKey,this._shiftKey=r.shiftKey}setStartButtons(r){this._leftButton=r.leftButton,this._middleButton=r.middleButton}setStartedOnLineNumbers(r){this._startedOnLineNumbers=r}trySetCount(r,x){const W=(new Date).getTime();W-this._lastSetMouseDownCountTime>Wt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(r=1),this._lastSetMouseDownCountTime=W,r>this._lastMouseDownCount+1&&(r=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(x)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=x,this._lastMouseDownCount=Math.min(r,this._lastMouseDownPositionEqualCount)}}return Wt.CLEAR_MOUSE_DOWN_COUNT_TIME=400,Wt})();var _o=e(15278),mo=e(85375);class si extends oo{constructor(i,r,x){super(i,r,x),this._register(Dt.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(I.nm(this.viewHelper.linesContentDomNode,Dt.t.Tap,J=>this.onTap(J))),this._register(I.nm(this.viewHelper.linesContentDomNode,Dt.t.Change,J=>this.onChange(J))),this._register(I.nm(this.viewHelper.linesContentDomNode,Dt.t.Contextmenu,J=>this._onContextMenu(new ae.gy(J,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(I.nm(this.viewHelper.linesContentDomNode,"pointerdown",J=>{const De=J.pointerType;this._lastPointerType="mouse"!==De?"touch"===De?"touch":"pen":"mouse"}));const W=new ae.tC(this.viewHelper.viewDomNode);this._register(W.onPointerMove(this.viewHelper.viewDomNode,J=>this._onMouseMove(J))),this._register(W.onPointerUp(this.viewHelper.viewDomNode,J=>this._onMouseUp(J))),this._register(W.onPointerLeave(this.viewHelper.viewDomNode,J=>this._onMouseLeave(J))),this._register(W.onPointerDown(this.viewHelper.viewDomNode,(J,De)=>this._onMouseDown(J,De)))}onTap(i){if(!i.initialTarget||!this.viewHelper.linesContentDomNode.contains(i.initialTarget))return;i.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new ae.gy(i,!1,this.viewHelper.viewDomNode),!1);r.position&&this.viewController.dispatchMouse({position:r.position,mouseColumn:r.position.column,startedOnLineNumbers:!1,mouseDownCount:i.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===r.type&&null!==r.detail.injectedText})}onChange(i){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}_onMouseDown(i,r){"touch"!==i.browserEvent.pointerType&&super._onMouseDown(i,r)}}class Qt extends oo{constructor(i,r,x){super(i,r,x),this._register(Dt.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(I.nm(this.viewHelper.linesContentDomNode,Dt.t.Tap,W=>this.onTap(W))),this._register(I.nm(this.viewHelper.linesContentDomNode,Dt.t.Change,W=>this.onChange(W))),this._register(I.nm(this.viewHelper.linesContentDomNode,Dt.t.Contextmenu,W=>this._onContextMenu(new ae.gy(W,!1,this.viewHelper.viewDomNode),!1)))}onTap(i){i.preventDefault(),this.viewHelper.focusTextArea();const r=this._createMouseTarget(new ae.gy(i,!1,this.viewHelper.viewDomNode),!1);if(r.position){const x=document.createEvent("CustomEvent");x.initEvent(mo.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(x),this.viewController.moveTo(r.position)}}onChange(i){this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}}class pt extends H.JT{constructor(i,r,x){super(),this.handler=z.gn&&_o.D.pointerEvents?this._register(new si(i,r,x)):window.TouchEvent?this._register(new Qt(i,r,x)):this._register(new oo(i,r,x))}getTargetAtClientPoint(i,r){return this.handler.getTargetAtClientPoint(i,r)}}var ft=e(31082),jt={};jt.styleTagTransform=u(),jt.setAttributes=c(),jt.insert=s().bind(null,"head"),jt.domAPI=L(),jt.insertStyleElement=a(),C()(ft.Z,jt);var gn=e(73879),An=e(44716),jn=e(431),Qn=e(17609),wi={};wi.styleTagTransform=u(),wi.setAttributes=c(),wi.insert=s().bind(null,"head"),wi.domAPI=L(),wi.insertStyleElement=a(),C()(Qn.Z,wi);class Oi extends _e{}var Ki=e(43944),ji=e(40902);let co=(()=>{class Wt extends Oi{constructor(r){super(),this._context=r,this._readConfig(),this._lastCursorModelPosition=new ue.L(1,1),this._lastCursorViewPosition=new ue.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const r=this._context.configuration.options;this._lineHeight=r.get(61);const x=r.get(62);this._renderLineNumbers=x.renderType,this._renderCustomLineNumbers=x.renderFn,this._renderFinalNewline=r.get(86);const W=r.get(133);this._lineNumbersLeft=W.lineNumbersLeft,this._lineNumbersWidth=W.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){return this._readConfig(),!0}onCursorStateChanged(r){const x=r.selections[0].getPosition();this._lastCursorViewPosition=x,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(x);let W=!1;return this._activeLineNumber!==x.lineNumber&&(this._activeLineNumber=x.lineNumber,W=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(W=!0),W}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_getLineRenderLineNumber(r){const x=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(r,1));if(1!==x.column)return"";const W=x.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(W):3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===W||W%10==0?String(W):"":String(W)}prepareRender(r){if(0===this._renderLineNumbers)return void(this._renderResult=null);const x=z.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",W=r.visibleRange.startLineNumber,J=r.visibleRange.endLineNumber,De='<div class="'+Wt.CLASS_NAME+x+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let We=null;if(2===this._renderLineNumbers){We=new Array(J-W+1),this._lastCursorViewPosition.lineNumber>=W&&this._lastCursorViewPosition.lineNumber<=J&&(We[this._lastCursorViewPosition.lineNumber-W]=this._lastCursorModelPosition.lineNumber);{let Nt=0;for(let Gt=this._lastCursorViewPosition.lineNumber+1;Gt<=J;Gt++){const un=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(Gt,1)).column;un||Nt++,Gt>=W&&(We[Gt-W]=un?0:Nt)}}{let Nt=0;for(let Gt=this._lastCursorViewPosition.lineNumber-1;Gt>=W;Gt--){const un=1!==this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(Gt,1)).column;un||Nt++,Gt<=J&&(We[Gt-W]=un?0:Nt)}}}const lt=this._context.viewModel.getLineCount(),yt=[];for(let Nt=W;Nt<=J;Nt++){const Gt=Nt-W;if(!this._renderFinalNewline&&Nt===lt&&0===this._context.viewModel.getLineLength(Nt)){yt[Gt]="";continue}let an;if(We){const un=We[Gt];an=this._lastCursorViewPosition.lineNumber===Nt?`<span class="relative-current-line-number">${un}</span>`:un?String(un):""}else an=this._getLineRenderLineNumber(Nt);yt[Gt]=an?Nt===this._activeLineNumber?'<div class="active-line-number '+Wt.CLASS_NAME+x+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+an+"</div>":De+an+"</div>":""}this._renderResult=yt}render(r,x){if(!this._renderResult)return"";const W=x-r;return W<0||W>=this._renderResult.length?"":this._renderResult[W]}}return Wt.CLASS_NAME="line-numbers",Wt})();(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.hw);r&&i.addRule(`.monaco-editor .line-numbers { color: ${r}; }`);const x=Wt.getColor(Ki.DD);x&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${x}; }`)});let yo=(()=>{class Wt extends he{constructor(r){super(r);const x=this._context.configuration.options,W=x.get(133);this._canUseLayerHinting=!x.get(28),this._contentLeft=W.contentLeft,this._glyphMarginLeft=W.glyphMarginLeft,this._glyphMarginWidth=W.glyphMarginWidth,this._domNode=(0,nt.X)(document.createElement("div")),this._domNode.setClassName(Wt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,nt.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Wt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(r){const x=this._context.configuration.options,W=x.get(133);return this._canUseLayerHinting=!x.get(28),this._contentLeft=W.contentLeft,this._glyphMarginLeft=W.glyphMarginLeft,this._glyphMarginWidth=W.glyphMarginWidth,!0}onScrollChanged(r){return super.onScrollChanged(r)||r.scrollTopChanged}prepareRender(r){}render(r){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(r.scrollTop-r.bigNumbersDelta));const W=Math.min(r.scrollHeight,1e6);this._domNode.setHeight(W),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(W)}}return Wt.CLASS_NAME="glyph-margin",Wt.OUTER_CLASS_NAME="margin",Wt})();var Go=e(91609),Po=e(92273),wo=e(45337),Do=e(69355);class to{constructor(i,r,x,W,J){this._context=i,this.modelLineNumber=r,this.distanceToModelLineStart=x,this.widthOfHiddenLineTextBefore=W,this.distanceToModelLineEnd=J,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(i){const r=new ue.L(this.modelLineNumber,this.distanceToModelLineStart+1),x=new ue.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(x),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=i.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=i.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(i){return this._previousPresentation||(this._previousPresentation=i||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const vo=K.isFirefox;class Oo extends he{constructor(i,r,x){super(i),this._primaryCursorPosition=new ue.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=r,this._visibleRangeProvider=x,this._scrollLeft=0,this._scrollTop=0;const W=this._context.configuration.options,J=W.get(133);this._setAccessibilityOptions(W),this._contentLeft=J.contentLeft,this._contentWidth=J.contentWidth,this._contentHeight=J.height,this._fontInfo=W.get(46),this._lineHeight=W.get(61),this._emptySelectionClipboard=W.get(33),this._copyWithSyntaxHighlighting=W.get(21),this._visibleTextArea=null,this._selections=[new Ue.Y(1,1,1,1)],this._modelSelections=[new Ue.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,nt.X)(document.createElement("textarea")),le.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Po.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(W)),this.textArea.setAttribute("tabindex",String(W.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",w.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),W.get(30)&&W.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,nt.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const De={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:yt=>this._context.viewModel.getLineMaxColumn(yt),getValueInRange:(yt,Nt)=>this._context.viewModel.getValueInRange(yt,Nt)},We={getDataToCopy:()=>{const yt=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,z.ED),Nt=this._context.viewModel.model.getEOL(),Gt=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),an=Array.isArray(yt)?yt:null,un=Array.isArray(yt)?yt.join(Nt):yt;let Wn,$n=null;if(mo.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&un.length<65536){const Gn=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Gn&&(Wn=Gn.html,$n=Gn.mode)}return{isFromEmptySelection:Gt,multicursorText:an,text:un,html:Wn,mode:$n}},getScreenReaderContent:yt=>{if(1===this._accessibilitySupport){const Nt=this._selections[0];if(z.dz&&Nt.isEmpty()){const Gt=Nt.getStartPosition();let an=this._getWordBeforePosition(Gt);if(0===an.length&&(an=this._getCharacterBeforePosition(Gt)),an.length>0)return new jn.un(an,an.length,an.length,Gt,Gt)}if(K.isSafari&&!Nt.isEmpty()){const Gt="vscode-placeholder";return new jn.un(Gt,0,Gt.length,null,null)}return jn.un.EMPTY}if(K.isAndroid){const Nt=this._selections[0];if(Nt.isEmpty()){const Gt=Nt.getStartPosition(),[an,un]=this._getAndroidWordAtPosition(Gt);if(an.length>0)return new jn.un(an,un,un,Gt,Gt)}return jn.un.EMPTY}return jn.ee.fromEditorSelection(yt,De,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(yt,Nt,Gt)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(yt,Nt,Gt)},lt=this._register(new mo.Tj(this.textArea.domNode));this._textAreaInput=this._register(new mo.Fz(We,lt,z.OS,K)),this._register(this._textAreaInput.onKeyDown(yt=>{this._viewController.emitKeyDown(yt)})),this._register(this._textAreaInput.onKeyUp(yt=>{this._viewController.emitKeyUp(yt)})),this._register(this._textAreaInput.onPaste(yt=>{let Nt=!1,Gt=null,an=null;yt.metadata&&(Nt=this._emptySelectionClipboard&&!!yt.metadata.isFromEmptySelection,Gt=typeof yt.metadata.multicursorText<"u"?yt.metadata.multicursorText:null,an=yt.metadata.mode),this._viewController.paste(yt.text,Nt,Gt,an)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(yt=>{yt.replacePrevCharCnt||yt.replaceNextCharCnt||yt.positionDelta?(jn.al&&console.log(` => compositionType: <<${yt.text}>>, ${yt.replacePrevCharCnt}, ${yt.replaceNextCharCnt}, ${yt.positionDelta}`),this._viewController.compositionType(yt.text,yt.replacePrevCharCnt,yt.replaceNextCharCnt,yt.positionDelta)):(jn.al&&console.log(` => type: <<${yt.text}>>`),this._viewController.type(yt.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(yt=>{this._viewController.setSelection(yt)})),this._register(this._textAreaInput.onCompositionStart(yt=>{const Nt=this.textArea.domNode,Gt=this._modelSelections[0],{distanceToModelLineStart:an,widthOfHiddenTextBefore:un}=(()=>{const $n=Nt.value.substring(0,Math.min(Nt.selectionStart,Nt.selectionEnd)),Gn=$n.lastIndexOf("\n"),ci=$n.substring(Gn+1),mi=ci.lastIndexOf("\t"),Di=ci.length-mi-1,Ui=Gt.getStartPosition(),eo=Math.min(Ui.column-1,Di),zi=Ui.column-1-eo,Qi=function ai(Wt,i){if(0===Wt.length)return 0;const r=document.createElement("div");r.style.position="absolute",r.style.top="-50000px",r.style.width="50000px";const x=document.createElement("span");(0,An.N)(x,i),x.style.whiteSpace="pre",x.append(Wt),r.appendChild(x),document.body.appendChild(r);const W=x.offsetWidth;return document.body.removeChild(r),W}(ci.substring(0,ci.length-eo),this._fontInfo);return{distanceToModelLineStart:zi,widthOfHiddenTextBefore:Qi}})(),{distanceToModelLineEnd:Wn}=(()=>{const $n=Nt.value.substring(Math.max(Nt.selectionStart,Nt.selectionEnd)),Gn=$n.indexOf("\n"),ci=-1===Gn?$n:$n.substring(0,Gn),mi=ci.indexOf("\t"),Di=-1===mi?ci.length:ci.length-mi-1,Ui=Gt.getEndPosition(),eo=Math.min(this._context.viewModel.model.getLineMaxColumn(Ui.lineNumber)-Ui.column,Di);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Ui.lineNumber)-Ui.column-eo}})();this._context.viewModel.revealRange("keyboard",!0,be.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new to(this._context,Gt.startLineNumber,an,un,Wn),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${Po.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(yt=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Po.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(i){const x=this._context.viewModel.getLineContent(i.lineNumber),W=(0,Go.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let J=!0,De=i.column,We=!0,lt=i.column,yt=0;for(;yt<50&&(J||We);){if(J&&De<=1&&(J=!1),J){const Nt=x.charCodeAt(De-2);0!==W.get(Nt)?J=!1:De--}if(We&&lt>x.length&&(We=!1),We){const Nt=x.charCodeAt(lt-1);0!==W.get(Nt)?We=!1:lt++}yt++}return[x.substring(De-1,lt-1),i.column-De]}_getWordBeforePosition(i){const r=this._context.viewModel.getLineContent(i.lineNumber),x=(0,Go.u)(this._context.configuration.options.get(119));let W=i.column,J=0;for(;W>1;){const De=r.charCodeAt(W-2);if(0!==x.get(De)||J>50)return r.substring(W-1,i.column-1);J++,W--}return r.substring(0,i.column-1)}_getCharacterBeforePosition(i){if(i.column>1){const x=this._context.viewModel.getLineContent(i.lineNumber).charAt(i.column-2);if(!gn.ZG(x.charCodeAt(0)))return x}return""}_getAriaLabel(i){return 1===i.get(2)?w.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",z.IJ?"Shift+Alt+F1":"Alt+F1"):i.get(4)}_setAccessibilityOptions(i){this._accessibilitySupport=i.get(2);const r=i.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&r===Se.BH.accessibilityPageSize.defaultValue?500:r}onConfigurationChanged(i){const r=this._context.configuration.options,x=r.get(133);return this._setAccessibilityOptions(r),this._contentLeft=x.contentLeft,this._contentWidth=x.contentWidth,this._contentHeight=x.height,this._fontInfo=r.get(46),this._lineHeight=r.get(61),this._emptySelectionClipboard=r.get(33),this._copyWithSyntaxHighlighting=r.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(r)),this.textArea.setAttribute("tabindex",String(r.get(114))),(i.hasChanged(30)||i.hasChanged(83))&&(r.get(30)&&r.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),i.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),this._modelSelections=i.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return this._scrollLeft=i.scrollLeft,this._scrollTop=i.scrollTop,!0}onZonesChanged(i){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(i){i.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",i.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),i.role&&this.textArea.setAttribute("role",i.role)}prepareRender(i){var r;this._primaryCursorPosition=new ue.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=i.visibleRangeForPosition(this._primaryCursorPosition),null===(r=this._visibleTextArea)||void 0===r||r.prepareRender(i)}render(i){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const x=this._visibleTextArea.visibleTextareaStart,W=this._visibleTextArea.visibleTextareaEnd,J=this._visibleTextArea.startPosition,De=this._visibleTextArea.endPosition;if(J&&De&&x&&W&&W.left>=this._scrollLeft&&x.left<=this._scrollLeft+this._contentWidth){const We=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,lt=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let yt=this._visibleTextArea.widthOfHiddenLineTextBefore,Nt=this._contentLeft+x.left-this._scrollLeft,Gt=W.left-x.left+1;if(Nt<this._contentLeft){const ci=this._contentLeft-Nt;Nt+=ci,yt+=ci,Gt-=ci}Gt>this._contentWidth&&(Gt=this._contentWidth);const an=this._context.viewModel.getViewLineData(J.lineNumber),un=an.tokens.findTokenIndexAtOffset(J.column-1),Wn=an.tokens.findTokenIndexAtOffset(De.column-1),Gn=this._visibleTextArea.definePresentation(un===Wn?an.tokens.getPresentation(un):null);this.textArea.domNode.scrollTop=lt*this._lineHeight,this.textArea.domNode.scrollLeft=yt,this._doRender({lastRenderPosition:null,top:We,left:Nt,width:Gt,height:this._lineHeight,useCover:!1,color:(wo.RW.getColorMap()||[])[Gn.foreground],italic:Gn.italic,bold:Gn.bold,underline:Gn.underline,strikethrough:Gn.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const i=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(i<this._contentLeft||i>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const r=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(r<0||r>this._contentHeight)this._renderAtTopLeft();else if(z.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:r,left:i,width:vo?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const x=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=x*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:r,left:i,width:vo?0:1,height:vo?0:1,useCover:!1})}_newlinecount(i){let r=0,x=-1;for(;x=i.indexOf("\n",x+1),-1!==x;)r++;return r}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:vo?0:1,height:vo?0:1,useCover:!0})}_doRender(i){this._lastRenderPosition=i.lastRenderPosition;const r=this.textArea,x=this.textAreaCover;(0,An.N)(r,this._fontInfo),r.setTop(i.top),r.setLeft(i.left),r.setWidth(i.width),r.setHeight(i.height),r.setColor(i.color?Do.Il.Format.CSS.formatHex(i.color):""),r.setFontStyle(i.italic?"italic":""),i.bold&&r.setFontWeight("bold"),r.setTextDecoration(`${i.underline?" underline":""}${i.strikethrough?" line-through":""}`),x.setTop(i.useCover?i.top:0),x.setLeft(i.useCover?i.left:0),x.setWidth(i.useCover?i.width:0),x.setHeight(i.useCover?i.height:0);const W=this._context.configuration.options;W.get(52)?x.setClassName("monaco-editor-background textAreaCover "+yo.OUTER_CLASS_NAME):0!==W.get(62).renderType?x.setClassName("monaco-editor-background textAreaCover "+co.CLASS_NAME):x.setClassName("monaco-editor-background textAreaCover")}}var Yt=e(41442);class kt{constructor(i,r,x,W){this.configuration=i,this.viewModel=r,this.userInputEvents=x,this.commandDelegate=W}paste(i,r,x,W){this.commandDelegate.paste(i,r,x,W)}type(i){this.commandDelegate.type(i)}compositionType(i,r,x,W){this.commandDelegate.compositionType(i,r,x,W)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(i){Yt.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:i})}_validateViewColumn(i){const r=this.viewModel.getLineMinColumn(i.lineNumber);return i.column<r?new ue.L(i.lineNumber,r):i}_hasMulticursorModifier(i){switch(this.configuration.options.get(72)){case"altKey":return i.altKey;case"ctrlKey":return i.ctrlKey;case"metaKey":return i.metaKey;default:return!1}}_hasNonMulticursorModifier(i){switch(this.configuration.options.get(72)){case"altKey":return i.ctrlKey||i.metaKey;case"ctrlKey":return i.altKey||i.metaKey;case"metaKey":return i.ctrlKey||i.altKey;default:return!1}}dispatchMouse(i){const r=this.configuration.options,x=z.IJ&&r.get(98),W=r.get(18);i.middleButton&&!x?this._columnSelect(i.position,i.mouseColumn,i.inSelectionMode):i.startedOnLineNumbers?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelect(i.position):this._createCursor(i.position,!0):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):i.mouseDownCount>=4?this._selectAll():3===i.mouseDownCount?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelectDrag(i.position):this._lastCursorLineSelect(i.position):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):2===i.mouseDownCount?i.onInjectedText||(this._hasMulticursorModifier(i)?this._lastCursorWordSelect(i.position):i.inSelectionMode?this._wordSelectDrag(i.position):this._wordSelect(i.position)):this._hasMulticursorModifier(i)?this._hasNonMulticursorModifier(i)||(i.shiftKey?this._columnSelect(i.position,i.mouseColumn,!0):i.inSelectionMode?this._lastCursorMoveToSelect(i.position):this._createCursor(i.position,!1)):i.inSelectionMode?i.altKey||W?this._columnSelect(i.position,i.mouseColumn,!0):this._moveToSelect(i.position):this.moveTo(i.position)}_usualArgs(i){return i=this._validateViewColumn(i),{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i}}moveTo(i){Yt.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_moveToSelect(i){Yt.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_columnSelect(i,r,x){i=this._validateViewColumn(i),Yt.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,mouseColumn:r,doColumnSelect:x})}_createCursor(i,r){i=this._validateViewColumn(i),Yt.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,wholeLine:r})}_lastCursorMoveToSelect(i){Yt.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelect(i){Yt.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelectDrag(i){Yt.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorWordSelect(i){Yt.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelect(i){Yt.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelectDrag(i){Yt.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelect(i){Yt.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelectDrag(i){Yt.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_selectAll(){Yt.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(i){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i)}emitKeyDown(i){this.userInputEvents.emitKeyDown(i)}emitKeyUp(i){this.userInputEvents.emitKeyUp(i)}emitContextMenu(i){this.userInputEvents.emitContextMenu(i)}emitMouseMove(i){this.userInputEvents.emitMouseMove(i)}emitMouseLeave(i){this.userInputEvents.emitMouseLeave(i)}emitMouseUp(i){this.userInputEvents.emitMouseUp(i)}emitMouseDown(i){this.userInputEvents.emitMouseDown(i)}emitMouseDrag(i){this.userInputEvents.emitMouseDrag(i)}emitMouseDrop(i){this.userInputEvents.emitMouseDrop(i)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(i){this.userInputEvents.emitMouseWheel(i)}}class ln{constructor(i){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=i}emitKeyDown(i){var r;null===(r=this.onKeyDown)||void 0===r||r.call(this,i)}emitKeyUp(i){var r;null===(r=this.onKeyUp)||void 0===r||r.call(this,i)}emitContextMenu(i){var r;null===(r=this.onContextMenu)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseMove(i){var r;null===(r=this.onMouseMove)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseLeave(i){var r;null===(r=this.onMouseLeave)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDown(i){var r;null===(r=this.onMouseDown)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseUp(i){var r;null===(r=this.onMouseUp)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDrag(i){var r;null===(r=this.onMouseDrag)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDrop(i){var r;null===(r=this.onMouseDrop)||void 0===r||r.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDropCanceled(){var i;null===(i=this.onMouseDropCanceled)||void 0===i||i.call(this)}emitMouseWheel(i){var r;null===(r=this.onMouseWheel)||void 0===r||r.call(this,i)}_convertViewToModelMouseEvent(i){return i.target?{event:i.event,target:this._convertViewToModelMouseTarget(i.target)}:i}_convertViewToModelMouseTarget(i){return ln.convertViewToModelMouseTarget(i,this._coordinatesConverter)}static convertViewToModelMouseTarget(i,r){const x=Object.assign({},i);return x.position&&(x.position=r.convertViewPositionToModelPosition(x.position)),x.range&&(x.range=r.convertViewRangeToModelRange(x.range)),x}}var Fn,On=e(8680);class dn{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,r){this._lines=r,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const r=i-this._rendLineNumberStart;if(r<0||r>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[r]}onLinesDeleted(i,r){if(0===this.getCount())return null;const x=this.getStartLineNumber(),W=this.getEndLineNumber();if(r<x)return this._rendLineNumberStart-=r-i+1,null;if(i>W)return null;let J=0,De=0;for(let lt=x;lt<=W;lt++){const yt=lt-this._rendLineNumberStart;i<=lt&&lt<=r&&(0===De?(J=yt,De=1):De++)}if(i<x){let lt=0;lt=r<x?r-i+1:x-i,this._rendLineNumberStart-=lt}return this._lines.splice(J,De)}onLinesChanged(i,r){const x=i+r-1;if(0===this.getCount())return!1;const W=this.getStartLineNumber(),J=this.getEndLineNumber();let De=!1;for(let We=i;We<=x;We++)We>=W&&We<=J&&(this._lines[We-this._rendLineNumberStart].onContentChanged(),De=!0);return De}onLinesInserted(i,r){if(0===this.getCount())return null;const x=r-i+1,W=this.getStartLineNumber(),J=this.getEndLineNumber();if(i<=W)return this._rendLineNumberStart+=x,null;if(i>J)return null;if(x+i>J)return this._lines.splice(i-this._rendLineNumberStart,J-i+1);const De=[];for(let Gt=0;Gt<x;Gt++)De[Gt]=this._createLine();const We=i-this._rendLineNumberStart,lt=this._lines.slice(0,We),yt=this._lines.slice(We,this._lines.length-x),Nt=this._lines.slice(this._lines.length-x,this._lines.length);return this._lines=lt.concat(De).concat(yt),Nt}onTokensChanged(i){if(0===this.getCount())return!1;const r=this.getStartLineNumber(),x=this.getEndLineNumber();let W=!1;for(let J=0,De=i.length;J<De;J++){const We=i[J];if(We.toLineNumber<r||We.fromLineNumber>x)continue;const lt=Math.max(r,We.fromLineNumber),yt=Math.min(x,We.toLineNumber);for(let Nt=lt;Nt<=yt;Nt++)this._lines[Nt-this._rendLineNumberStart].onTokensChanged(),W=!0}return W}}class gt{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new dn(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,nt.X)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(133)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){const r=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(r)for(let x=0,W=r.length;x<W;x++){const J=r[x].getDomNode();J&&this.domNode.domNode.removeChild(J)}return!0}onLinesInserted(i){const r=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(r)for(let x=0,W=r.length;x<W;x++){const J=r[x].getDomNode();J&&this.domNode.domNode.removeChild(J)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const r=this._linesCollection._get(),J=new sn(this.domNode.domNode,this._host,i).render({rendLineNumberStart:r.rendLineNumberStart,lines:r.lines,linesLength:r.lines.length},i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set(J.rendLineNumberStart,J.lines)}}class sn{constructor(i,r,x){this.domNode=i,this.host=r,this.viewportData=x}render(i,r,x,W){const J={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if(J.rendLineNumberStart+J.linesLength-1<r||x<J.rendLineNumberStart){J.rendLineNumberStart=r,J.linesLength=x-r+1,J.lines=[];for(let De=r;De<=x;De++)J.lines[De-r]=this.host.createVisibleLine();return this._finishRendering(J,!0,W),J}if(this._renderUntouchedLines(J,Math.max(r-J.rendLineNumberStart,0),Math.min(x-J.rendLineNumberStart,J.linesLength-1),W,r),J.rendLineNumberStart>r){const De=r,We=Math.min(x,J.rendLineNumberStart-1);De<=We&&(this._insertLinesBefore(J,De,We,W,r),J.linesLength+=We-De+1)}else if(J.rendLineNumberStart<r){const De=Math.min(J.linesLength,r-J.rendLineNumberStart);De>0&&(this._removeLinesBefore(J,De),J.linesLength-=De)}if(J.rendLineNumberStart=r,J.rendLineNumberStart+J.linesLength-1<x){const De=J.rendLineNumberStart+J.linesLength,We=x;De<=We&&(this._insertLinesAfter(J,De,We,W,r),J.linesLength+=We-De+1)}else if(J.rendLineNumberStart+J.linesLength-1>x){const De=Math.max(0,x-J.rendLineNumberStart+1),lt=J.linesLength-1-De+1;lt>0&&(this._removeLinesAfter(J,lt),J.linesLength-=lt)}return this._finishRendering(J,!1,W),J}_renderUntouchedLines(i,r,x,W,J){const De=i.rendLineNumberStart,We=i.lines;for(let lt=r;lt<=x;lt++){const yt=De+lt;We[lt].layoutLine(yt,W[yt-J])}}_insertLinesBefore(i,r,x,W,J){const De=[];let We=0;for(let lt=r;lt<=x;lt++)De[We++]=this.host.createVisibleLine();i.lines=De.concat(i.lines)}_removeLinesBefore(i,r){for(let x=0;x<r;x++){const W=i.lines[x].getDomNode();W&&this.domNode.removeChild(W)}i.lines.splice(0,r)}_insertLinesAfter(i,r,x,W,J){const De=[];let We=0;for(let lt=r;lt<=x;lt++)De[We++]=this.host.createVisibleLine();i.lines=i.lines.concat(De)}_removeLinesAfter(i,r){const x=i.linesLength-r;for(let W=0;W<r;W++){const J=i.lines[x+W].getDomNode();J&&this.domNode.removeChild(J)}i.lines.splice(x,r)}_finishRenderingNewLines(i,r,x,W){sn._ttPolicy&&(x=sn._ttPolicy.createHTML(x));const J=this.domNode.lastChild;r||!J?this.domNode.innerHTML=x:J.insertAdjacentHTML("afterend",x);let De=this.domNode.lastChild;for(let We=i.linesLength-1;We>=0;We--){const lt=i.lines[We];W[We]&&(lt.setDomNode(De),De=De.previousSibling)}}_finishRenderingInvalidLines(i,r,x){const W=document.createElement("div");sn._ttPolicy&&(r=sn._ttPolicy.createHTML(r)),W.innerHTML=r;for(let J=0;J<i.linesLength;J++){const De=i.lines[J];if(x[J]){const We=W.firstChild,lt=De.getDomNode();lt.parentNode.replaceChild(We,lt),De.setDomNode(We)}}}_finishRendering(i,r,x){const W=sn._sb,J=i.linesLength,De=i.lines,We=i.rendLineNumberStart,lt=[];{W.reset();let yt=!1;for(let Nt=0;Nt<J;Nt++){const Gt=De[Nt];lt[Nt]=!1,!Gt.getDomNode()&&Gt.renderLine(Nt+We,x[Nt],this.viewportData,W)&&(lt[Nt]=!0,yt=!0)}yt&&this._finishRenderingNewLines(i,r,W.build(),lt)}{W.reset();let yt=!1;const Nt=[];for(let Gt=0;Gt<J;Gt++){const an=De[Gt];Nt[Gt]=!1,!lt[Gt]&&an.renderLine(Gt+We,x[Gt],this.viewportData,W)&&(Nt[Gt]=!0,yt=!0)}yt&&this._finishRenderingInvalidLines(i,W.build(),Nt)}}}sn._ttPolicy=null===(Fn=window.trustedTypes)||void 0===Fn?void 0:Fn.createPolicy("editorViewLayer",{createHTML:Wt=>Wt}),sn._sb=(0,On.l$)(1e5);class nn extends he{constructor(i){super(i),this._visibleLines=new gt(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,r=this._dynamicOverlays.length;i<r;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,r=this._dynamicOverlays.length;i<r;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new xn(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const r=this._visibleLines.getStartLineNumber(),x=this._visibleLines.getEndLineNumber();for(let W=r;W<=x;W++)this._visibleLines.getVisibleLine(W).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const r=this._dynamicOverlays.filter(x=>x.shouldRender());for(let x=0,W=r.length;x<W;x++){const J=r[x];J.prepareRender(i),J.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}class xn{constructor(i,r){this._configuration=i,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=r,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,nt.X)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(61)}renderLine(i,r,x,W){let J="";for(let De=0,We=this._dynamicOverlays.length;De<We;De++)J+=this._dynamicOverlays[De].render(x.startLineNumber,i);return this._renderedContent!==J&&(this._renderedContent=J,W.appendASCIIString('<div style="position:absolute;top:'),W.appendASCIIString(String(r)),W.appendASCIIString("px;width:100%;height:"),W.appendASCIIString(String(this._lineHeight)),W.appendASCIIString('px;">'),W.appendASCIIString(J),W.appendASCIIString("</div>"),!0)}layoutLine(i,r){this._domNode&&(this._domNode.setTop(r),this._domNode.setHeight(this._lineHeight))}}class Pn extends nn{constructor(i){super(i);const x=this._context.configuration.options.get(133);this._contentWidth=x.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const x=this._context.configuration.options.get(133);return this._contentWidth=x.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}class En extends nn{constructor(i){super(i);const r=this._context.configuration.options,x=r.get(133);this._contentLeft=x.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,An.N)(this.domNode,r.get(46))}onConfigurationChanged(i){const r=this._context.configuration.options;(0,An.N)(this.domNode,r.get(46));const x=r.get(133);return this._contentLeft=x.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const r=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(r),this.domNode.setWidth(this._contentLeft)}}class ht{constructor(i,r){this._coordinateBrand=void 0,this.top=i,this.left=r}}class Rt extends he{constructor(i,r){super(i),this._viewDomNode=r,this._widgets={},this.domNode=(0,nt.X)(document.createElement("div")),le.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,nt.X)(document.createElement("div")),le.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const r=Object.keys(this._widgets);for(const x of r)this._widgets[x].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){const r=Object.keys(this._widgets);for(const x of r)this._widgets[x].onLineMappingChanged(i);return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}addWidget(i){const r=new Vt(this._context,this._viewDomNode,i);this._widgets[r.id]=r,r.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(r.domNode):this.domNode.appendChild(r.domNode),this.setShouldRender()}setWidgetPosition(i,r,x,W){this._widgets[i.getId()].setPosition(r,x,W),this.setShouldRender()}removeWidget(i){const r=i.getId();if(this._widgets.hasOwnProperty(r)){const x=this._widgets[r];delete this._widgets[r];const W=x.domNode.domNode;W.parentNode.removeChild(W),W.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return!!this._widgets.hasOwnProperty(i)&&this._widgets[i].suppressMouseDown}onBeforeRender(i){const r=Object.keys(this._widgets);for(const x of r)this._widgets[x].onBeforeRender(i)}prepareRender(i){const r=Object.keys(this._widgets);for(const x of r)this._widgets[x].prepareRender(i)}render(i){const r=Object.keys(this._widgets);for(const x of r)this._widgets[x].render(i)}}class Vt{constructor(i,r,x){this._context=i,this._viewDomNode=r,this._actual=x,this.domNode=(0,nt.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const W=this._context.configuration.options,J=W.get(133);this._fixedOverflowWidgets=W.get(38),this._contentWidth=J.contentWidth,this._contentLeft=J.contentLeft,this._lineHeight=W.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const r=this._context.configuration.options;if(this._lineHeight=r.get(61),i.hasChanged(133)){const x=r.get(133);this._contentLeft=x.contentLeft,this._contentWidth=x.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(i){this._setPosition(this._range,this._affinity)}_setPosition(i,r){var x;if(this._range=i,this._viewRange=null,this._affinity=r,this._range){const W=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(W.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(W.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(W,null!==(x=this._affinity)&&void 0!==x?x:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(i,r,x){this._setPosition(i,x),this._preference=r,this.domNode.setDisplay(this._viewRange&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,r,x,W,J){const De=i.top,lt=r.top+this._lineHeight;let Wn=i.left,$n=r.left;return Wn+x>J.scrollLeft+J.viewportWidth&&(Wn=J.scrollLeft+J.viewportWidth-x),$n+x>J.scrollLeft+J.viewportWidth&&($n=J.scrollLeft+J.viewportWidth-x),Wn<J.scrollLeft&&(Wn=J.scrollLeft),$n<J.scrollLeft&&($n=J.scrollLeft),{fitsAbove:De>=W,aboveTop:De-W,aboveLeft:Wn,fitsBelow:J.viewportHeight-lt>=W,belowTop:lt,belowLeft:$n}}_layoutHorizontalSegmentInPage(i,r,x,W){const J=Math.max(0,r.left-W),De=Math.min(r.left+r.width+W,i.width);let We=r.left+x-I.DI.scrollX;if(We+W>De){const lt=We-(De-W);We-=lt,x-=lt}if(We<J){const lt=We-J;We-=lt,x-=lt}return[x,We]}_layoutBoxInPage(i,r,x,W,J){const De=i.top-W,We=r.top+this._lineHeight,lt=I.i(this._viewDomNode.domNode),yt=lt.top+De-I.DI.scrollY,Nt=lt.top+We-I.DI.scrollY,Gt=I.D6(document.body),[an,un]=this._layoutHorizontalSegmentInPage(Gt,lt,i.left-J.scrollLeft+this._contentLeft,x),[Wn,$n]=this._layoutHorizontalSegmentInPage(Gt,lt,r.left-J.scrollLeft+this._contentLeft,x),mi=yt>=22,Di=Nt+W<=Gt.height-22;return this._fixedOverflowWidgets?{fitsAbove:mi,aboveTop:Math.max(yt,22),aboveLeft:un,fitsBelow:Di,belowTop:Nt,belowLeft:$n}:{fitsAbove:mi,aboveTop:De,aboveLeft:an,fitsBelow:Di,belowTop:We,belowLeft:Wn}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new ht(i.top,i.left+this._contentLeft)}_getTopAndBottomLeft(i){if(!this._viewRange)return[null,null];const r=i.linesVisibleRangesForRange(this._viewRange,!1);if(!r||0===r.length)return[null,null];let x=r[0],W=r[0];for(const Gt of r)Gt.lineNumber<x.lineNumber&&(x=Gt),Gt.lineNumber>W.lineNumber&&(W=Gt);let J=1073741824;for(const Gt of x.ranges)Gt.left<J&&(J=Gt.left);let De=1073741824;for(const Gt of W.ranges)Gt.left<De&&(De=Gt.left);const We=i.getVerticalOffsetForLineNumber(x.lineNumber)-i.scrollTop,lt=new ht(We,J),yt=i.getVerticalOffsetForLineNumber(W.lineNumber)-i.scrollTop;return[lt,new ht(yt,De)]}_prepareRenderWidget(i){if(!this._preference||0===this._preference.length)return null;const[r,x]=this._getTopAndBottomLeft(i);if(!r||!x)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let J=null;if("function"==typeof this._actual.beforeRender&&(J=Zt(this._actual.beforeRender,this._actual)),J)this._cachedDomNodeOffsetWidth=J.width,this._cachedDomNodeOffsetHeight=J.height;else{const We=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(We.width),this._cachedDomNodeOffsetHeight=Math.round(We.height)}}let W;W=this.allowEditorOverflow?this._layoutBoxInPage(r,x,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):this._layoutBoxInViewport(r,x,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let J=1;J<=2;J++)for(const De of this._preference)if(1===De){if(!W)return null;if(2===J||W.fitsAbove)return{coordinate:new ht(W.aboveTop,W.aboveLeft),position:1}}else{if(2!==De)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(r),position:0}:{coordinate:r,position:0};if(!W)return null;if(2===J||W.fitsBelow)return{coordinate:new ht(W.belowTop,W.belowLeft),position:2}}return null}onBeforeRender(i){!this._viewRange||!this._preference||this._viewRange.endLineNumber<i.startLineNumber||this._viewRange.startLineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&Zt(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&Zt(this._actual.afterRender,this._actual,this._renderData.position)}}function Zt(Wt,i,...r){try{return Wt.call(i,...r)}catch{return null}}var Cn=e(69025),Re={};Re.styleTagTransform=u(),Re.setAttributes=c(),Re.insert=s().bind(null,"head"),Re.domAPI=L(),Re.insertStyleElement=a(),C()(Cn.Z,Re);class Hn extends Oi{constructor(i){super(),this._context=i;const r=this._context.configuration.options,x=r.get(133);this._lineHeight=r.get(61),this._renderLineHighlight=r.get(87),this._renderLineHighlightOnlyWhenFocus=r.get(88),this._contentLeft=x.contentLeft,this._contentWidth=x.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Ue.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const r=this._selections.map(W=>W.positionLineNumber);r.sort((W,J)=>W-J),F.fS(this._cursorLineNumbers,r)||(this._cursorLineNumbers=r,i=!0);const x=this._selections.every(W=>W.isEmpty());return this._selectionIsEmpty!==x&&(this._selectionIsEmpty=x,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const r=this._context.configuration.options,x=r.get(133);return this._lineHeight=r.get(61),this._renderLineHighlight=r.get(87),this._renderLineHighlightOnlyWhenFocus=r.get(88),this._contentLeft=x.contentLeft,this._contentWidth=x.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=i.isFocused,!0)}prepareRender(i){if(!this._shouldRenderThis())return void(this._renderData=null);const r=this._renderOne(i),x=i.visibleRange.startLineNumber,W=i.visibleRange.endLineNumber,J=this._cursorLineNumbers.length;let De=0;const We=[];for(let lt=x;lt<=W;lt++){const yt=lt-x;for(;De<J&&this._cursorLineNumbers[De]<lt;)De++;We[yt]=De<J&&this._cursorLineNumbers[De]===lt?r:""}this._renderData=We}render(i,r){if(!this._renderData)return"";const x=r-i;return x>=this._renderData.length?"":this._renderData[x]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Ai extends Hn{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class yi extends Hn{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.Kh);if(r&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${r}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${r}; border: none; }`)),!r||r.isTransparent()||Wt.defines(Ki.Mm)){const x=Wt.getColor(Ki.Mm);x&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${x}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${x}; }`),(0,_t.c3)(Wt.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var di=e(83772),Ft={};Ft.styleTagTransform=u(),Ft.setAttributes=c(),Ft.insert=s().bind(null,"head"),Ft.domAPI=L(),Ft.insertStyleElement=a(),C()(di.Z,Ft);class me extends Oi{constructor(i){super(),this._context=i;const r=this._context.configuration.options;this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=r.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options;return this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=r.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}prepareRender(i){const r=i.getDecorationsInViewport();let x=[],W=0;for(let lt=0,yt=r.length;lt<yt;lt++){const Nt=r[lt];Nt.options.className&&(x[W++]=Nt)}x=x.sort((lt,yt)=>{if(lt.options.zIndex<yt.options.zIndex)return-1;if(lt.options.zIndex>yt.options.zIndex)return 1;const Nt=lt.options.className,Gt=yt.options.className;return Nt<Gt?-1:Nt>Gt?1:be.e.compareRangesUsingStarts(lt.range,yt.range)});const J=i.visibleRange.startLineNumber,De=i.visibleRange.endLineNumber,We=[];for(let lt=J;lt<=De;lt++)We[lt-J]="";this._renderWholeLineDecorations(i,x,We),this._renderNormalDecorations(i,x,We),this._renderResult=We}_renderWholeLineDecorations(i,r,x){const W=String(this._lineHeight),J=i.visibleRange.startLineNumber,De=i.visibleRange.endLineNumber;for(let We=0,lt=r.length;We<lt;We++){const yt=r[We];if(!yt.options.isWholeLine)continue;const Nt='<div class="cdr '+yt.options.className+'" style="left:0;width:100%;height:'+W+'px;"></div>',Gt=Math.max(yt.range.startLineNumber,J),an=Math.min(yt.range.endLineNumber,De);for(let un=Gt;un<=an;un++)x[un-J]+=Nt}}_renderNormalDecorations(i,r,x){const W=String(this._lineHeight),J=i.visibleRange.startLineNumber;let De=null,We=!1,lt=null;for(let yt=0,Nt=r.length;yt<Nt;yt++){const Gt=r[yt];if(Gt.options.isWholeLine)continue;const an=Gt.options.className,un=Boolean(Gt.options.showIfCollapsed);let Wn=Gt.range;un&&1===Wn.endColumn&&Wn.endLineNumber!==Wn.startLineNumber&&(Wn=new be.e(Wn.startLineNumber,Wn.startColumn,Wn.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Wn.endLineNumber-1))),De===an&&We===un&&be.e.areIntersectingOrTouching(lt,Wn)?lt=be.e.plusRange(lt,Wn):(null!==De&&this._renderNormalDecoration(i,lt,De,We,W,J,x),De=an,We=un,lt=Wn)}null!==De&&this._renderNormalDecoration(i,lt,De,We,W,J,x)}_renderNormalDecoration(i,r,x,W,J,De,We){const lt=i.linesVisibleRangesForRange(r,"findMatch"===x);if(lt)for(let yt=0,Nt=lt.length;yt<Nt;yt++){const Gt=lt[yt];if(Gt.outsideRenderedLine)continue;const an=Gt.lineNumber-De;if(W&&1===Gt.ranges.length){const un=Gt.ranges[0];if(un.width<this._typicalHalfwidthCharacterWidth){const Wn=Math.round(un.left+un.width/2),$n=Math.max(0,Math.round(Wn-this._typicalHalfwidthCharacterWidth/2));Gt.ranges[0]=new dt($n,this._typicalHalfwidthCharacterWidth)}}for(let un=0,Wn=Gt.ranges.length;un<Wn;un++){const $n=Gt.ranges[un],Gn='<div class="cdr '+x+'" style="left:'+String($n.left)+"px;width:"+String($n.width)+"px;height:"+J+'px;"></div>';We[an]+=Gn}}}render(i,r){if(!this._renderResult)return"";const x=r-i;return x<0||x>=this._renderResult.length?"":this._renderResult[x]}}var Ke=e(3067),Xe=e(4062);class at extends he{constructor(i,r,x,W){super(i);const J=this._context.configuration.options,De=J.get(94),We=J.get(69),lt=J.get(36),yt=J.get(97),Nt={listenOnDomNode:x.domNode,className:"editor-scrollable "+(0,ji.m6)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:De.vertical,horizontal:De.horizontal,verticalHasArrows:De.verticalHasArrows,horizontalHasArrows:De.horizontalHasArrows,verticalScrollbarSize:De.verticalScrollbarSize,verticalSliderSize:De.verticalSliderSize,horizontalScrollbarSize:De.horizontalScrollbarSize,horizontalSliderSize:De.horizontalSliderSize,handleMouseWheel:De.handleMouseWheel,alwaysConsumeMouseWheel:De.alwaysConsumeMouseWheel,arrowSize:De.arrowSize,mouseWheelScrollSensitivity:We,fastScrollSensitivity:lt,scrollPredominantAxis:yt,scrollByPage:De.scrollByPage};this.scrollbar=this._register(new Ke.$Z(r.domNode,Nt,this._context.viewLayout.getScrollable())),le.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,nt.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Gt=(an,un,Wn)=>{const $n={};if(un){const Gn=an.scrollTop;Gn&&($n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+Gn,an.scrollTop=0)}if(Wn){const Gn=an.scrollLeft;Gn&&($n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+Gn,an.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition($n,1)};this._register(I.nm(x.domNode,"scroll",an=>Gt(x.domNode,!0,!0))),this._register(I.nm(r.domNode,"scroll",an=>Gt(r.domNode,!0,!1))),this._register(I.nm(W.domNode,"scroll",an=>Gt(W.domNode,!0,!1))),this._register(I.nm(this.scrollbarDomNode.domNode,"scroll",an=>Gt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,r=i.get(133);this.scrollbarDomNode.setLeft(r.contentLeft),"right"===i.get(67).side?this.scrollbarDomNode.setWidth(r.contentWidth+r.minimap.minimapWidth):this.scrollbarDomNode.setWidth(r.contentWidth),this.scrollbarDomNode.setHeight(r.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(i){this.scrollbar.delegateVerticalScrollbarPointerDown(i)}onConfigurationChanged(i){if(i.hasChanged(94)||i.hasChanged(69)||i.hasChanged(36)){const r=this._context.configuration.options,x=r.get(94),W=r.get(69),J=r.get(36),De=r.get(97);this.scrollbar.updateOptions({vertical:x.vertical,horizontal:x.horizontal,verticalScrollbarSize:x.verticalScrollbarSize,horizontalScrollbarSize:x.horizontalScrollbarSize,scrollByPage:x.scrollByPage,handleMouseWheel:x.handleMouseWheel,mouseWheelScrollSensitivity:W,fastScrollSensitivity:J,scrollPredominantAxis:De})}return i.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,ji.m6)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Xe._wn);r&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${r} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${r} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${r} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`);const x=Wt.getColor(Xe.etL);x&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${x};\n\t\t\t}\n\t\t`);const W=Wt.getColor(Xe.ABB);W&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${W};\n\t\t\t}\n\t\t`);const J=Wt.getColor(Xe.ynu);J&&i.addRule(`\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${J};\n\t\t\t}\n\t\t`)});var tn=e(30181),Jt={};Jt.styleTagTransform=u(),Jt.setAttributes=c(),Jt.insert=s().bind(null,"head"),Jt.domAPI=L(),Jt.insertStyleElement=a(),C()(tn.Z,Jt);class Bn{constructor(i,r,x){this._decorationToRenderBrand=void 0,this.startLineNumber=+i,this.endLineNumber=+r,this.className=String(x)}}class Kn extends Oi{_render(i,r,x){const W=[];for(let We=i;We<=r;We++)W[We-i]=[];if(0===x.length)return W;x.sort((We,lt)=>We.className===lt.className?We.startLineNumber===lt.startLineNumber?We.endLineNumber-lt.endLineNumber:We.startLineNumber-lt.startLineNumber:We.className<lt.className?-1:1);let J=null,De=0;for(let We=0,lt=x.length;We<lt;We++){const yt=x[We],Nt=yt.className;let Gt=Math.max(yt.startLineNumber,i)-i;const an=Math.min(yt.endLineNumber,r)-i;J===Nt?(Gt=Math.max(De+1,Gt),De=Math.max(De,an)):(J=Nt,De=an);for(let un=Gt;un<=De;un++)W[un].push(J)}return W}}class ti extends Kn{constructor(i){super(),this._context=i;const r=this._context.configuration.options,x=r.get(133);this._lineHeight=r.get(61),this._glyphMargin=r.get(52),this._glyphMarginLeft=x.glyphMarginLeft,this._glyphMarginWidth=x.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options,x=r.get(133);return this._lineHeight=r.get(61),this._glyphMargin=r.get(52),this._glyphMarginLeft=x.glyphMarginLeft,this._glyphMarginWidth=x.glyphMarginWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const r=i.getDecorationsInViewport(),x=[];let W=0;for(let J=0,De=r.length;J<De;J++){const We=r[J],lt=We.options.glyphMarginClassName;lt&&(x[W++]=new Bn(We.range.startLineNumber,We.range.endLineNumber,lt))}return x}prepareRender(i){if(!this._glyphMargin)return void(this._renderResult=null);const r=i.visibleRange.startLineNumber,x=i.visibleRange.endLineNumber,W=this._render(r,x,this._getDecorations(i)),J=this._lineHeight.toString(),lt='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+J+'px;"></div>',yt=[];for(let Nt=r;Nt<=x;Nt++){const Gt=Nt-r,an=W[Gt];yt[Gt]=0===an.length?"":'<div class="cgmr codicon '+an.join(" ")+lt}this._renderResult=yt}render(i,r){if(!this._renderResult)return"";const x=r-i;return x<0||x>=this._renderResult.length?"":this._renderResult[x]}}var fi=e(74563),hi={};hi.styleTagTransform=u(),hi.setAttributes=c(),hi.insert=s().bind(null,"head"),hi.domAPI=L(),hi.insertStyleElement=a(),C()(fi.Z,hi);var ge=e(72715),it=e(29595),Tt=e(87570);class qt extends Oi{constructor(i){super(),this._context=i,this._primaryPosition=null;const r=this._context.configuration.options,x=r.get(134),W=r.get(46);this._lineHeight=r.get(61),this._spaceWidth=W.spaceWidth,this._maxIndentLeft=-1===x.wrappingColumn?-1:x.wrappingColumn*W.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=r.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options,x=r.get(134),W=r.get(46);return this._lineHeight=r.get(61),this._spaceWidth=W.spaceWidth,this._maxIndentLeft=-1===x.wrappingColumn?-1:x.wrappingColumn*W.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=r.get(13),!0}onCursorStateChanged(i){var r;const W=i.selections[0].getPosition();return!(null!==(r=this._primaryPosition)&&void 0!==r&&r.equals(W)||(this._primaryPosition=W,0))}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var r,x,W,J;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const De=i.visibleRange.startLineNumber,We=i.visibleRange.endLineNumber,lt=i.scrollWidth,yt=this._lineHeight,Gt=this.getGuidesByLine(De,We,this._primaryPosition),an=[];for(let un=De;un<=We;un++){const Wn=un-De,$n=Gt[Wn];let Gn="";const ci=null!==(x=null===(r=i.visibleRangeForPosition(new ue.L(un,1)))||void 0===r?void 0:r.left)&&void 0!==x?x:0;for(const mi of $n){const Di=-1===mi.column?ci+(mi.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new ue.L(un,mi.column)).left;if(Di>lt||this._maxIndentLeft>0&&Di>this._maxIndentLeft)break;const Ui=mi.horizontalLine?mi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",eo=mi.horizontalLine?(null!==(J=null===(W=i.visibleRangeForPosition(new ue.L(un,mi.horizontalLine.endColumn)))||void 0===W?void 0:W.left)&&void 0!==J?J:Di+this._spaceWidth)-Di:this._spaceWidth;Gn+=`<div class="core-guide ${mi.className} ${Ui}" style="left:${Di}px;height:${yt}px;width:${eo}px"></div>`}an[Wn]=Gn}this._renderResult=an}getGuidesByLine(i,r,x){const W=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(i,r,x,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Tt.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Tt.s6.EnabledForActive:Tt.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,J=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,r):null;let De=0,We=0,lt=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&x){const Gt=this._context.viewModel.getActiveIndentGuide(x.lineNumber,i,r);De=Gt.startLineNumber,We=Gt.endLineNumber,lt=Gt.indent}const{indentSize:yt}=this._context.viewModel.model.getOptions(),Nt=[];for(let Gt=i;Gt<=r;Gt++){const an=new Array;Nt.push(an);const un=W?W[Gt-i]:[],Wn=new F.H9(un),$n=J?J[Gt-i]:[];for(let Gn=1;Gn<=$n;Gn++){const ci=(Gn-1)*yt+1,mi=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===un.length)&&De<=Gt&&Gt<=We&&Gn===lt;an.push(...Wn.takeWhile(Ui=>Ui.visibleColumn<ci)||[]);const Di=Wn.peek();(!Di||Di.visibleColumn!==ci||Di.horizontalLine)&&an.push(new Tt.UO(ci,-1,mi?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}an.push(...Wn.takeWhile(Gn=>!0)||[])}return Nt}render(i,r){if(!this._renderResult)return"";const x=r-i;return x<0||x>=this._renderResult.length?"":this._renderResult[x]}}function Mt(Wt){if(!Wt||!Wt.isTransparent())return Wt}(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.tR);r&&i.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${r} inset; }`);const x=Wt.getColor(Ki.Ym)||r;x&&i.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${x} inset; }`);const W=[{bracketColor:Ki.zJ,guideColor:Ki.oV,guideColorActive:Ki.Qb},{bracketColor:Ki.Vs,guideColor:Ki.m$,guideColorActive:Ki.m3},{bracketColor:Ki.CE,guideColor:Ki.DS,guideColorActive:Ki.To},{bracketColor:Ki.UP,guideColor:Ki.lS,guideColorActive:Ki.L7},{bracketColor:Ki.r0,guideColor:Ki.Jn,guideColorActive:Ki.HV},{bracketColor:Ki.m1,guideColor:Ki.YF,guideColorActive:Ki.f9}],J=new it.W,De=W.map(We=>{var lt,yt;const Nt=Wt.getColor(We.bracketColor),Gt=Wt.getColor(We.guideColor),an=Wt.getColor(We.guideColorActive),un=Mt(null!==(lt=Mt(Gt))&&void 0!==lt?lt:Nt?.transparent(.3)),Wn=Mt(null!==(yt=Mt(an))&&void 0!==yt?yt:Nt);if(un&&Wn)return{guideColor:un,guideColorActive:Wn}}).filter(ge.$K);if(De.length>0){for(let We=0;We<30;We++){const lt=De[We%De.length];i.addRule(`.monaco-editor .${J.getInlineClassNameOfLevel(We).replace(/ /g,".")} { --guide-color: ${lt.guideColor}; --guide-color-active: ${lt.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${J.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${J.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${J.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});var ee=e(43475),Ie={};Ie.styleTagTransform=u(),Ie.setAttributes=c(),Ie.insert=s().bind(null,"head"),Ie.domAPI=L(),Ie.insertStyleElement=a(),C()(ee.Z,Ie);class cn{constructor(){this._currentVisibleRange=new be.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(i){this._currentVisibleRange=i}}class Ln{constructor(i,r,x,W,J,De,We){this.minimalReveal=i,this.lineNumber=r,this.startColumn=x,this.endColumn=W,this.startScrollTop=J,this.stopScrollTop=De,this.scrollType=We,this.type="range",this.minLineNumber=r,this.maxLineNumber=r}}class In{constructor(i,r,x,W,J){this.minimalReveal=i,this.selections=r,this.startScrollTop=x,this.stopScrollTop=W,this.scrollType=J,this.type="selections";let De=r[0].startLineNumber,We=r[0].endLineNumber;for(let lt=1,yt=r.length;lt<yt;lt++){const Nt=r[lt];De=Math.min(De,Nt.startLineNumber),We=Math.max(We,Nt.endLineNumber)}this.minLineNumber=De,this.maxLineNumber=We}}let ni=(()=>{class Wt extends he{constructor(r,x){super(r),this._linesContent=x,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new gt(this),this.domNode=this._visibleLines.domNode;const W=this._context.configuration,J=this._context.configuration.options,De=J.get(46),We=J.get(134),lt=J.get(133);this._lineHeight=J.get(61),this._typicalHalfwidthCharacterWidth=De.typicalHalfwidthCharacterWidth,this._isViewportWrapping=We.isViewportWrapping,this._revealHorizontalRightPadding=J.get(91),this._horizontalScrollbarHeight=lt.horizontalScrollbarHeight,this._cursorSurroundingLines=J.get(25),this._cursorSurroundingLinesStyle=J.get(26),this._canUseLayerHinting=!J.get(28),this._viewLineOptions=new ut(W,this._context.theme.type),le.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Po.S}`),(0,An.N)(this.domNode,De),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Ze.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Ze.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new cn,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Ut(this._viewLineOptions)}onConfigurationChanged(r){this._visibleLines.onConfigurationChanged(r),r.hasChanged(134)&&(this._maxLineWidth=0);const x=this._context.configuration.options,W=x.get(46),J=x.get(134),De=x.get(133);return this._lineHeight=x.get(61),this._typicalHalfwidthCharacterWidth=W.typicalHalfwidthCharacterWidth,this._isViewportWrapping=J.isViewportWrapping,this._revealHorizontalRightPadding=x.get(91),this._horizontalScrollbarHeight=De.horizontalScrollbarHeight,this._cursorSurroundingLines=x.get(25),this._cursorSurroundingLinesStyle=x.get(26),this._canUseLayerHinting=!x.get(28),(0,An.N)(this.domNode,W),this._onOptionsMaybeChanged(),r.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const x=new ut(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(x)){this._viewLineOptions=x;const W=this._visibleLines.getStartLineNumber(),J=this._visibleLines.getEndLineNumber();for(let De=W;De<=J;De++)this._visibleLines.getVisibleLine(De).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(r){const x=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();let J=!1;for(let De=x;De<=W;De++)J=this._visibleLines.getVisibleLine(De).onSelectionChanged()||J;return J}onDecorationsChanged(r){{const x=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();for(let J=x;J<=W;J++)this._visibleLines.getVisibleLine(J).onDecorationsChanged()}return!0}onFlushed(r){const x=this._visibleLines.onFlushed(r);return this._maxLineWidth=0,x}onLinesChanged(r){return this._visibleLines.onLinesChanged(r)}onLinesDeleted(r){return this._visibleLines.onLinesDeleted(r)}onLinesInserted(r){return this._visibleLines.onLinesInserted(r)}onRevealRangeRequest(r){const x=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),r.source,r.minimalReveal,r.range,r.selections,r.verticalType);if(-1===x)return!1;let W=this._context.viewLayout.validateScrollPosition({scrollTop:x});r.revealHorizontal?r.range&&r.range.startLineNumber!==r.range.endLineNumber?W={scrollTop:W.scrollTop,scrollLeft:0}:r.range?this._horizontalRevealRequest=new Ln(r.minimalReveal,r.range.startLineNumber,r.range.startColumn,r.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),W.scrollTop,r.scrollType):r.selections&&r.selections.length>0&&(this._horizontalRevealRequest=new In(r.minimalReveal,r.selections,this._context.viewLayout.getCurrentScrollTop(),W.scrollTop,r.scrollType)):this._horizontalRevealRequest=null;const De=Math.abs(this._context.viewLayout.getCurrentScrollTop()-W.scrollTop)<=this._lineHeight?1:r.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(W,De),!0}onScrollChanged(r){if(this._horizontalRevealRequest&&r.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&r.scrollTopChanged){const x=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),W=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(r.scrollTop<x||r.scrollTop>W)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(r.scrollWidth),this._visibleLines.onScrollChanged(r)||!0}onTokensChanged(r){return this._visibleLines.onTokensChanged(r)}onZonesChanged(r){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(r)}onThemeChanged(r){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(r,x){const W=this._getViewLineDomNode(r);if(null===W)return null;const J=this._getLineNumberFor(W);if(-1===J||J<1||J>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(J))return new ue.L(J,1);const De=this._visibleLines.getStartLineNumber(),We=this._visibleLines.getEndLineNumber();if(J<De||J>We)return null;let lt=this._visibleLines.getVisibleLine(J).getColumnOfNodeOffset(J,r,x);const yt=this._context.viewModel.getLineMinColumn(J);return lt<yt&&(lt=yt),new ue.L(J,lt)}_getViewLineDomNode(r){for(;r&&1===r.nodeType;){if(r.className===Ut.CLASS_NAME)return r;r=r.parentElement}return null}_getLineNumberFor(r){const x=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();for(let J=x;J<=W;J++)if(r===this._visibleLines.getVisibleLine(J).getDomNode())return J;return-1}getLineWidth(r){const x=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();return r<x||r>W?-1:this._visibleLines.getVisibleLine(r).getWidth()}linesVisibleRangesForRange(r,x){if(this.shouldRender())return null;const W=r.endLineNumber,J=be.e.intersectRanges(r,this._lastRenderedData.getCurrentVisibleRange());if(!J)return null;const De=[];let We=0;const lt=new Ge(this.domNode.domNode,this._textRangeRestingSpot);let yt=0;x&&(yt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(J.startLineNumber,1)).lineNumber);const Nt=this._visibleLines.getStartLineNumber(),Gt=this._visibleLines.getEndLineNumber();for(let an=J.startLineNumber;an<=J.endLineNumber;an++){if(an<Nt||an>Gt)continue;const un=an===J.startLineNumber?J.startColumn:1,Wn=an===J.endLineNumber?J.endColumn:this._context.viewModel.getLineMaxColumn(an),$n=this._visibleLines.getVisibleLine(an).getVisibleRangesForRange(an,un,Wn,lt);if($n){if(x&&an<W){const Gn=yt;yt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(an+1,1)).lineNumber,Gn!==yt&&($n.ranges[$n.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}De[We++]=new Ae($n.outsideRenderedLine,an,dt.from($n.ranges))}}return 0===We?null:De}_visibleRangesForLineRange(r,x,W){return this.shouldRender()||r<this._visibleLines.getStartLineNumber()||r>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(r).getVisibleRangesForRange(r,x,W,new Ge(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(r){const x=this._visibleRangesForLineRange(r.lineNumber,r.column,r.column);return x?new et(x.outsideRenderedLine,x.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(r){const x=this._visibleLines.getStartLineNumber(),W=this._visibleLines.getEndLineNumber();let J=1,De=!0;for(let We=x;We<=W;We++){const lt=this._visibleLines.getVisibleLine(We);!r||lt.getWidthIsFast()?J=Math.max(J,lt.getWidth()):De=!1}return De&&1===x&&W===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(J),De}_checkMonospaceFontAssumptions(){let r=-1,x=-1;const W=this._visibleLines.getStartLineNumber(),J=this._visibleLines.getEndLineNumber();for(let De=W;De<=J;De++){const We=this._visibleLines.getVisibleLine(De);if(We.needsMonospaceFontCheck()){const lt=We.getWidth();lt>x&&(x=lt,r=De)}}if(-1!==r&&!this._visibleLines.getVisibleLine(r).monospaceAssumptionsAreValid())for(let De=W;De<=J;De++)this._visibleLines.getVisibleLine(De).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(r){if(this._visibleLines.renderLines(r),this._lastRenderedData.setCurrentVisibleRange(r.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const W=this._horizontalRevealRequest;if(r.startLineNumber<=W.minLineNumber&&W.maxLineNumber<=r.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const J=this._computeScrollLeftToReveal(W);J&&(this._isViewportWrapping||this._ensureMaxLineWidth(J.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:J.scrollLeft},W.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),z.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const W=this._visibleLines.getStartLineNumber(),J=this._visibleLines.getEndLineNumber();for(let De=W;De<=J;De++)if(this._visibleLines.getVisibleLine(De).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const x=this._context.viewLayout.getCurrentScrollTop()-r.bigNumbersDelta;this._linesContent.setTop(-x),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(r){const x=Math.ceil(r);this._maxLineWidth<x&&(this._maxLineWidth=x,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(r,x,W,J,De,We){const lt=r.top,yt=r.height,Nt=lt+yt;let Gt,an,un,$n;if(De&&De.length>0){let Gn=De[0].startLineNumber,ci=De[0].endLineNumber;for(let mi=1,Di=De.length;mi<Di;mi++){const Ui=De[mi];Gn=Math.min(Gn,Ui.startLineNumber),ci=Math.max(ci,Ui.endLineNumber)}Gt=!1,an=this._context.viewLayout.getVerticalOffsetForLineNumber(Gn),un=this._context.viewLayout.getVerticalOffsetForLineNumber(ci)+this._lineHeight}else{if(!J)return-1;Gt=!0,an=this._context.viewLayout.getVerticalOffsetForLineNumber(J.startLineNumber),un=this._context.viewLayout.getVerticalOffsetForLineNumber(J.endLineNumber)+this._lineHeight}if("mouse"!==x&&!W||"default"!==this._cursorSurroundingLinesStyle){const Gn=Math.min(yt/this._lineHeight/2,this._cursorSurroundingLines);an-=Gn*this._lineHeight,un+=Math.max(0,Gn-1)*this._lineHeight}else W||(an-=this._lineHeight);if((0===We||4===We)&&(un+=W?this._horizontalScrollbarHeight:this._lineHeight),un-an>yt){if(!Gt)return-1;$n=an}else if(5===We||6===We)if(6===We&&lt<=an&&un<=Nt)$n=lt;else{const Gn=Math.max(5*this._lineHeight,.2*yt);$n=Math.max(un-yt,an-Gn)}else $n=1===We||2===We?2===We&&lt<=an&&un<=Nt?lt:Math.max(0,(an+un)/2-yt/2):this._computeMinimumScrolling(lt,Nt,an,un,3===We,4===We);return $n}_computeScrollLeftToReveal(r){const x=this._context.viewLayout.getCurrentViewport(),W=x.left,J=W+x.width;let De=1073741824,We=0;if("range"===r.type){const yt=this._visibleRangesForLineRange(r.lineNumber,r.startColumn,r.endColumn);if(!yt)return null;for(const Nt of yt.ranges)De=Math.min(De,Math.round(Nt.left)),We=Math.max(We,Math.round(Nt.left+Nt.width))}else for(const yt of r.selections){if(yt.startLineNumber!==yt.endLineNumber)return null;const Nt=this._visibleRangesForLineRange(yt.startLineNumber,yt.startColumn,yt.endColumn);if(!Nt)return null;for(const Gt of Nt.ranges)De=Math.min(De,Math.round(Gt.left)),We=Math.max(We,Math.round(Gt.left+Gt.width))}return r.minimalReveal||(De=Math.max(0,De-Wt.HORIZONTAL_EXTRA_PX),We+=this._revealHorizontalRightPadding),"selections"===r.type&&We-De>x.width?null:{scrollLeft:this._computeMinimumScrolling(W,J,De,We),maxHorizontalOffset:We}}_computeMinimumScrolling(r,x,W,J,De,We){De=!!De,We=!!We;const lt=(x|=0)-(r|=0);return(J|=0)-(W|=0)<lt?De?W:We?Math.max(0,J-lt):W<r?W:J>x?Math.max(0,J-lt):r:W}}return Wt.HORIZONTAL_EXTRA_PX=30,Wt})();var Jn=e(3710),gi={};gi.styleTagTransform=u(),gi.setAttributes=c(),gi.insert=s().bind(null,"head"),gi.domAPI=L(),gi.insertStyleElement=a(),C()(Jn.Z,gi);class Pi extends Kn{constructor(i){super(),this._context=i;const x=this._context.configuration.options.get(133);this._decorationsLeft=x.decorationsLeft,this._decorationsWidth=x.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const x=this._context.configuration.options.get(133);return this._decorationsLeft=x.decorationsLeft,this._decorationsWidth=x.decorationsWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const r=i.getDecorationsInViewport(),x=[];let W=0;for(let J=0,De=r.length;J<De;J++){const We=r[J],lt=We.options.linesDecorationsClassName;lt&&(x[W++]=new Bn(We.range.startLineNumber,We.range.endLineNumber,lt));const yt=We.options.firstLineDecorationClassName;yt&&(x[W++]=new Bn(We.range.startLineNumber,We.range.startLineNumber,yt))}return x}prepareRender(i){const r=i.visibleRange.startLineNumber,x=i.visibleRange.endLineNumber,W=this._render(r,x,this._getDecorations(i)),We='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',lt=[];for(let yt=r;yt<=x;yt++){const Nt=yt-r,Gt=W[Nt];let an="";for(let un=0,Wn=Gt.length;un<Wn;un++)an+='<div class="cldr '+Gt[un]+We;lt[Nt]=an}this._renderResult=lt}render(i,r){return this._renderResult?this._renderResult[r-i]:""}}var Wi=e(80025),Yi={};Yi.styleTagTransform=u(),Yi.setAttributes=c(),Yi.insert=s().bind(null,"head"),Yi.domAPI=L(),Yi.insertStyleElement=a(),C()(Wi.Z,Yi);class Ho extends Kn{constructor(i){super(),this._context=i,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const r=i.getDecorationsInViewport(),x=[];let W=0;for(let J=0,De=r.length;J<De;J++){const We=r[J],lt=We.options.marginClassName;lt&&(x[W++]=new Bn(We.range.startLineNumber,We.range.endLineNumber,lt))}return x}prepareRender(i){const r=i.visibleRange.startLineNumber,x=i.visibleRange.endLineNumber,W=this._render(r,x,this._getDecorations(i)),J=[];for(let De=r;De<=x;De++){const We=De-r,lt=W[We];let yt="";for(let Nt=0,Gt=lt.length;Nt<Gt;Nt++)yt+='<div class="cmdr '+lt[Nt]+'" style=""></div>';J[We]=yt}this._renderResult=J}render(i,r){return this._renderResult?this._renderResult[r-i]:""}}var Ro=e(47679),is={};is.styleTagTransform=u(),is.setAttributes=c(),is.insert=s().bind(null,"head"),is.domAPI=L(),is.insertStyleElement=a(),C()(Ro.Z,is);var Yo=e(11210);class Ko{constructor(i,r,x,W){this._rgba8Brand=void 0,this.r=Ko._clamp(i),this.g=Ko._clamp(r),this.b=Ko._clamp(x),this.a=Ko._clamp(W)}equals(i){return this.r===i.r&&this.g===i.g&&this.b===i.b&&this.a===i.a}static _clamp(i){return i<0?0:i>255?255:0|i}}Ko.Empty=new Ko(0,0,0,0);let Nr=(()=>{class Wt extends H.JT{constructor(){super(),this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(wo.RW.onDidChange(r=>{r.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,H.dk)(new Wt)),this._INSTANCE}_updateColorMap(){const r=wo.RW.getColorMap();if(!r)return this._colors=[Ko.Empty],void(this._backgroundIsLight=!0);this._colors=[Ko.Empty];for(let W=1;W<r.length;W++){const J=r[W].rgba;this._colors[W]=new Ko(J.r,J.g,J.b,Math.round(255*J.a))}const x=r[2].getRelativeLuminance();this._backgroundIsLight=x>=.5,this._onDidChange.fire(void 0)}getColor(r){return(r<1||r>=this._colors.length)&&(r=2),this._colors[r]}backgroundIsLight(){return this._backgroundIsLight}}return Wt._INSTANCE=null,Wt})();var Ps=e(38232);const Lr=(()=>{const Wt=[];for(let i=32;i<=126;i++)Wt.push(i);return Wt.push(65533),Wt})();var mr=e(48071);class $s{constructor(i,r){this.scale=r,this._minimapCharRendererBrand=void 0,this.charDataNormal=$s.soften(i,.8),this.charDataLight=$s.soften(i,50/60)}static soften(i,r){const x=new Uint8ClampedArray(i.length);for(let W=0,J=i.length;W<J;W++)x[W]=(0,mr.K)(i[W]*r);return x}renderChar(i,r,x,W,J,De,We,lt,yt,Nt,Gt){const an=1*this.scale,un=2*this.scale,Wn=Gt?1:un;if(r+an>i.width||x+Wn>i.height)return void console.warn("bad render request outside image data");const $n=Nt?this.charDataLight:this.charDataNormal,Gn=((Wt,i)=>(Wt-=32)<0||Wt>96?i<=2?(Wt+96)%96:95:Wt)(W,yt),ci=4*i.width,mi=We.r,Di=We.g,Ui=We.b,eo=J.r-mi,zi=J.g-Di,Ji=J.b-Ui,Qi=Math.max(De,lt),fo=i.data;let No=Gn*an*un,bo=x*ci+4*r;for(let ps=0;ps<Wn;ps++){let ss=bo;for(let vs=0;vs<an;vs++){const Qo=$n[No++]/255*(De/255);fo[ss++]=mi+eo*Qo,fo[ss++]=Di+zi*Qo,fo[ss++]=Ui+Ji*Qo,fo[ss++]=Qi}bo+=ci}}blockRenderChar(i,r,x,W,J,De,We,lt){const yt=1*this.scale,Gt=lt?1:2*this.scale;if(r+yt>i.width||x+Gt>i.height)return void console.warn("bad render request outside image data");const an=4*i.width,un=J/255*.5,Wn=De.r,$n=De.g,Gn=De.b,Ui=Wn+(W.r-Wn)*un,eo=$n+(W.g-$n)*un,zi=Gn+(W.b-Gn)*un,Ji=Math.max(J,We),Qi=i.data;let fo=x*an+4*r;for(let No=0;No<Gt;No++){let bo=fo;for(let ps=0;ps<yt;ps++)Qi[bo++]=Ui,Qi[bo++]=eo,Qi[bo++]=zi,Qi[bo++]=Ji;fo+=an}}}var Zs=e(92192);const Rr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},er=Wt=>{const i=new Uint8ClampedArray(Wt.length/2);for(let r=0;r<Wt.length;r+=2)i[r>>1]=Rr[Wt[r]]<<4|15&Rr[Wt[r+1]];return i},Or={1:(0,Zs.I)(()=>er("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Zs.I)(()=>er("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Qs{static create(i,r){if(this.lastCreated&&i===this.lastCreated.scale&&r===this.lastFontFamily)return this.lastCreated;let x;return x=Or[i]?new $s(Or[i](),i):Qs.createFromSampleData(Qs.createSampleData(r).data,i),this.lastFontFamily=r,this.lastCreated=x,x}static createSampleData(i){const r=document.createElement("canvas"),x=r.getContext("2d");r.style.height="16px",r.height=16,r.width=960,r.style.width="960px",x.fillStyle="#ffffff",x.font=`bold 16px ${i}`,x.textBaseline="middle";let W=0;for(const J of Lr)x.fillText(String.fromCharCode(J),W,8),W+=10;return x.getImageData(0,0,960,16)}static createFromSampleData(i,r){if(61440!==i.length)throw new Error("Unexpected source in MinimapCharRenderer");const W=Qs._downsample(i,r);return new $s(W,r)}static _downsampleChar(i,r,x,W,J){const De=1*J,We=2*J;let lt=W,yt=0;for(let Nt=0;Nt<We;Nt++){const Gt=Nt/We*16,an=(Nt+1)/We*16;for(let un=0;un<De;un++){const Wn=un/De*10,$n=(un+1)/De*10;let Gn=0,ci=0;for(let Di=Gt;Di<an;Di++){const Ui=r+3840*Math.floor(Di),eo=1-(Di-Math.floor(Di));for(let zi=Wn;zi<$n;zi++){const Ji=1-(zi-Math.floor(zi)),Qi=Ui+4*Math.floor(zi),fo=Ji*eo;ci+=fo,Gn+=i[Qi]*i[Qi+3]/255*fo}}const mi=Gn/ci;yt=Math.max(yt,mi),x[lt++]=(0,mr.K)(mi)}}return yt}static _downsample(i,r){const x=2*r*1*r,W=96*x,J=new Uint8ClampedArray(W);let De=0,We=0,lt=0;for(let yt=0;yt<96;yt++)lt=Math.max(lt,this._downsampleChar(i,We,J,De,r)),De+=x,We+=40;if(lt>0){const yt=255/lt;for(let Nt=0;Nt<W;Nt++)J[Nt]*=yt}return J}}var js=e(47629);class pr{constructor(i,r,x){const W=i.options,J=W.get(131),De=W.get(133),We=De.minimap,lt=W.get(46),yt=W.get(67);this.renderMinimap=We.renderMinimap,this.size=yt.size,this.minimapHeightIsEditorHeight=We.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=W.get(96),this.showSlider=yt.showSlider,this.autohide=yt.autohide,this.pixelRatio=J,this.typicalHalfwidthCharacterWidth=lt.typicalHalfwidthCharacterWidth,this.lineHeight=W.get(61),this.minimapLeft=We.minimapLeft,this.minimapWidth=We.minimapWidth,this.minimapHeight=De.height,this.canvasInnerWidth=We.minimapCanvasInnerWidth,this.canvasInnerHeight=We.minimapCanvasInnerHeight,this.canvasOuterWidth=We.minimapCanvasOuterWidth,this.canvasOuterHeight=We.minimapCanvasOuterHeight,this.isSampling=We.minimapIsSampling,this.editorHeight=De.height,this.fontScale=We.minimapScale,this.minimapLineHeight=We.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Zs.I)(()=>Qs.create(this.fontScale,lt.fontFamily)),this.defaultBackgroundColor=x.getColor(2),this.backgroundColor=pr._getMinimapBackground(r,this.defaultBackgroundColor),this.foregroundAlpha=pr._getMinimapForegroundOpacity(r)}static _getMinimapBackground(i,r){const x=i.getColor(Xe.kVY);return x?new Ko(x.rgba.r,x.rgba.g,x.rgba.b,Math.round(255*x.rgba.a)):r}static _getMinimapForegroundOpacity(i){const r=i.getColor(Xe.Itd);return r?Ko._clamp(Math.round(255*r.rgba.a)):255}equals(i){return this.renderMinimap===i.renderMinimap&&this.size===i.size&&this.minimapHeightIsEditorHeight===i.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===i.scrollBeyondLastLine&&this.showSlider===i.showSlider&&this.autohide===i.autohide&&this.pixelRatio===i.pixelRatio&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.lineHeight===i.lineHeight&&this.minimapLeft===i.minimapLeft&&this.minimapWidth===i.minimapWidth&&this.minimapHeight===i.minimapHeight&&this.canvasInnerWidth===i.canvasInnerWidth&&this.canvasInnerHeight===i.canvasInnerHeight&&this.canvasOuterWidth===i.canvasOuterWidth&&this.canvasOuterHeight===i.canvasOuterHeight&&this.isSampling===i.isSampling&&this.editorHeight===i.editorHeight&&this.fontScale===i.fontScale&&this.minimapLineHeight===i.minimapLineHeight&&this.minimapCharWidth===i.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(i.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(i.backgroundColor)&&this.foregroundAlpha===i.foregroundAlpha}}class ir{constructor(i,r,x,W,J,De,We,lt){this.scrollTop=i,this.scrollHeight=r,this.sliderNeeded=x,this._computedSliderRatio=W,this.sliderTop=J,this.sliderHeight=De,this.startLineNumber=We,this.endLineNumber=lt}getDesiredScrollTopFromDelta(i){return Math.round(this.scrollTop+i/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(i){return Math.round((i-this.sliderHeight/2)/this._computedSliderRatio)}static create(i,r,x,W,J,De,We,lt,yt,Nt,Gt){const an=i.pixelRatio,un=i.minimapLineHeight,Wn=Math.floor(i.canvasInnerHeight/un),$n=i.lineHeight;if(i.minimapHeightIsEditorHeight){const zi=Math.max(1,Math.floor(J*J/(lt*i.lineHeight+(i.scrollBeyondLastLine?J-i.lineHeight:0)))),Ji=Math.max(0,i.minimapHeight-zi),Qi=Ji/(Nt-J),fo=yt*Qi,No=Ji>0,bo=Math.floor(i.canvasInnerHeight/i.minimapLineHeight);return new ir(yt,Nt,No,Qi,fo,zi,1,Math.min(We,bo))}let Gn,ci;Gn=De&&x!==We?Math.floor((x-r+1)*un/an):Math.floor(J/$n*un/an),ci=i.scrollBeyondLastLine?(We-1)*un/an:Math.max(0,We*un/an-Gn),ci=Math.min(i.minimapHeight-Gn,ci);const mi=ci/(Nt-J),Di=yt*mi;let Ui=0;if(i.scrollBeyondLastLine&&(Ui=J/$n-1),Wn>=We+Ui)return new ir(yt,Nt,ci>0,mi,Di,Gn,1,We);{let eo=Math.max(1,Math.floor(r-Di*an/un));Gt&&Gt.scrollHeight===Nt&&(Gt.scrollTop>yt&&(eo=Math.min(eo,Gt.startLineNumber)),Gt.scrollTop<yt&&(eo=Math.max(eo,Gt.startLineNumber)));const zi=Math.min(We,eo+Wn-1);return new ir(yt,Nt,!0,mi,(r-eo+(yt-W)/$n)*un/an,Gn,eo,zi)}}}class Fs{constructor(i){this.dy=i}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Fs.INVALID=new Fs(-1);class Jo{constructor(i,r,x){this.renderedLayout=i,this._imageData=r,this._renderedLines=new dn(()=>Fs.INVALID),this._renderedLines._set(i.startLineNumber,x)}linesEquals(i){if(!this.scrollEquals(i))return!1;const x=this._renderedLines._get().lines;for(let W=0,J=x.length;W<J;W++)if(-1===x[W].dy)return!1;return!0}scrollEquals(i){return this.renderedLayout.startLineNumber===i.startLineNumber&&this.renderedLayout.endLineNumber===i.endLineNumber}_get(){const i=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:i.rendLineNumberStart,lines:i.lines}}onLinesChanged(i,r){return this._renderedLines.onLinesChanged(i,r)}onLinesDeleted(i,r){this._renderedLines.onLinesDeleted(i,r)}onLinesInserted(i,r){this._renderedLines.onLinesInserted(i,r)}onTokensChanged(i){return this._renderedLines.onTokensChanged(i)}}class xr{constructor(i,r,x,W){this._backgroundFillData=xr._createBackgroundFillData(r,x,W),this._buffers=[i.createImageData(r,x),i.createImageData(r,x)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const i=this._buffers[this._lastUsedBuffer];return i.data.set(this._backgroundFillData),i}static _createBackgroundFillData(i,r,x){const W=x.r,J=x.g,De=x.b,We=x.a,lt=new Uint8ClampedArray(i*r*4);let yt=0;for(let Nt=0;Nt<r;Nt++)for(let Gt=0;Gt<i;Gt++)lt[yt]=W,lt[yt+1]=J,lt[yt+2]=De,lt[yt+3]=We,yt+=4;return lt}}class or{constructor(i,r){this.samplingRatio=i,this.minimapLines=r}static compute(i,r,x){if(0===i.renderMinimap||!i.isSampling)return[null,[]];const W=i.pixelRatio,J=i.lineHeight,De=i.scrollBeyondLastLine,{minimapLineCount:We}=Se.gk.computeContainedMinimapLineCount({viewLineCount:r,scrollBeyondLastLine:De,height:i.editorHeight,lineHeight:J,pixelRatio:W}),lt=r/We,yt=lt/2;if(!x||0===x.minimapLines.length){const Di=[];if(Di[0]=1,We>1){for(let Ui=0,eo=We-1;Ui<eo;Ui++)Di[Ui]=Math.round(Ui*lt+yt);Di[We-1]=r}return[new or(lt,Di),[]]}const Nt=x.minimapLines,Gt=Nt.length,an=[];let un=0,Wn=0,$n=1,ci=[],mi=null;for(let Di=0;Di<We;Di++){const Ui=Math.max($n,Math.round(Di*lt)),eo=Math.max(Ui,Math.round((Di+1)*lt));for(;un<Gt&&Nt[un]<Ui;){if(ci.length<10){const Ji=un+1+Wn;mi&&"deleted"===mi.type&&mi._oldIndex===un-1?mi.deleteToLineNumber++:(mi={type:"deleted",_oldIndex:un,deleteFromLineNumber:Ji,deleteToLineNumber:Ji},ci.push(mi)),Wn--}un++}let zi;if(un<Gt&&Nt[un]<=eo)zi=Nt[un],un++;else if(zi=0===Di?1:Di+1===We?r:Math.round(Di*lt+yt),ci.length<10){const Ji=un+1+Wn;mi&&"inserted"===mi.type&&mi._i===Di-1?mi.insertToLineNumber++:(mi={type:"inserted",_i:Di,insertFromLineNumber:Ji,insertToLineNumber:Ji},ci.push(mi)),Wn++}an[Di]=zi,$n=zi}if(ci.length<10)for(;un<Gt;){const Di=un+1+Wn;mi&&"deleted"===mi.type&&mi._oldIndex===un-1?mi.deleteToLineNumber++:(mi={type:"deleted",_oldIndex:un,deleteFromLineNumber:Di,deleteToLineNumber:Di},ci.push(mi)),Wn--,un++}else ci=[{type:"flush"}];return[new or(lt,an),ci]}modelLineToMinimapLine(i){return Math.min(this.minimapLines.length,Math.max(1,Math.round(i/this.samplingRatio)))}modelLineRangeToMinimapLineRange(i,r){let x=this.modelLineToMinimapLine(i)-1;for(;x>0&&this.minimapLines[x-1]>=i;)x--;let W=this.modelLineToMinimapLine(r)-1;for(;W+1<this.minimapLines.length&&this.minimapLines[W+1]<=r;)W++;if(x===W){const J=this.minimapLines[x];if(J<i||J>r)return null}return[x+1,W+1]}decorationLineRangeToMinimapLineRange(i,r){let x=this.modelLineToMinimapLine(i),W=this.modelLineToMinimapLine(r);return i!==r&&W===x&&(W===this.minimapLines.length?x>1&&x--:W++),[x,W]}onLinesDeleted(i){const r=i.toLineNumber-i.fromLineNumber+1;let x=this.minimapLines.length,W=0;for(let J=this.minimapLines.length-1;J>=0&&!(this.minimapLines[J]<i.fromLineNumber);J--)this.minimapLines[J]<=i.toLineNumber?(this.minimapLines[J]=Math.max(1,i.fromLineNumber-1),x=Math.min(x,J),W=Math.max(W,J)):this.minimapLines[J]-=r;return[x,W]}onLinesInserted(i){const r=i.toLineNumber-i.fromLineNumber+1;for(let x=this.minimapLines.length-1;x>=0&&!(this.minimapLines[x]<i.fromLineNumber);x--)this.minimapLines[x]+=r}}class kr extends he{constructor(i){super(i),this.tokensColorTracker=Nr.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new pr(this._context.configuration,this._context.theme,this.tokensColorTracker);const[r]=or.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=r,this._shouldCheckSampling=!1,this._actual=new Bs(i.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const i=new pr(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(i)&&(this.options=i,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(i){return this._onOptionsMaybeChanged()}onCursorStateChanged(i){return this._selections=i.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(i){return!!i.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(i){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(i){if(this._samplingState){const r=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.fromLineNumber+i.count-1);return!!r&&this._actual.onLinesChanged(r[0],r[1]-r[0]+1)}return this._actual.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){if(this._samplingState){const[r,x]=this._samplingState.onLinesDeleted(i);return r<=x&&this._actual.onLinesChanged(r+1,x-r+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(i.fromLineNumber,i.toLineNumber)}onLinesInserted(i){return this._samplingState?(this._samplingState.onLinesInserted(i),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(i.fromLineNumber,i.toLineNumber)}onScrollChanged(i){return this._actual.onScrollChanged()}onThemeChanged(i){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(i){if(this._samplingState){const r=[];for(const x of i.ranges){const W=this._samplingState.modelLineRangeToMinimapLineRange(x.fromLineNumber,x.toLineNumber);W&&r.push({fromLineNumber:W[0],toLineNumber:W[1]})}return!!r.length&&this._actual.onTokensChanged(r)}return this._actual.onTokensChanged(i.ranges)}onTokensColorsChanged(i){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(i){return this._actual.onZonesChanged()}prepareRender(i){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(i){let r=i.visibleRange.startLineNumber,x=i.visibleRange.endLineNumber;this._samplingState&&(r=this._samplingState.modelLineToMinimapLine(r),x=this._samplingState.modelLineToMinimapLine(x));const W={viewportContainsWhitespaceGaps:i.viewportData.whitespaceViewportData.length>0,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight,viewportStartLineNumber:r,viewportEndLineNumber:x,viewportStartLineNumberVerticalOffset:i.getVerticalOffsetForLineNumber(r),scrollTop:i.scrollTop,scrollLeft:i.scrollLeft,viewportWidth:i.viewportWidth,viewportHeight:i.viewportHeight};this._actual.render(W)}_recreateLineSampling(){this._minimapSelections=null;const i=Boolean(this._samplingState),[r,x]=or.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=r,i&&this._samplingState)for(const W of x)switch(W.type){case"deleted":this._actual.onLinesDeleted(W.deleteFromLineNumber,W.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(W.insertFromLineNumber,W.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(i){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[i-1]:i)}getLineMaxColumn(i){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[i-1]:i)}getMinimapLinesRenderingData(i,r,x){if(this._samplingState){const W=[];for(let J=0,De=r-i+1;J<De;J++)W[J]=x[J]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[i+J-1]):null;return W}return this._context.viewModel.getMinimapLinesRenderingData(i,r,x).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const i of this._selections){const[r,x]=this._samplingState.decorationLineRangeToMinimapLineRange(i.startLineNumber,i.endLineNumber);this._minimapSelections.push(new Ue.Y(r,i.startColumn,x,i.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(i,r){let x;if(this._samplingState){const De=this._samplingState.minimapLines[r-1];x=new be.e(this._samplingState.minimapLines[i-1],1,De,this._context.viewModel.getLineMaxColumn(De))}else x=new be.e(i,1,r,this._context.viewModel.getLineMaxColumn(r));const W=this._context.viewModel.getDecorationsInViewport(x);if(this._samplingState){const J=[];for(const De of W){if(!De.options.minimap)continue;const We=De.range,lt=this._samplingState.modelLineToMinimapLine(We.startLineNumber),yt=this._samplingState.modelLineToMinimapLine(We.endLineNumber);J.push(new Ps.$l(new be.e(lt,We.startColumn,yt,We.endColumn),De.options))}return J}return W}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(i){this._samplingState&&(i=this._samplingState.minimapLines[i-1]),this._context.viewModel.revealRange("mouse",!1,new be.e(i,1,i,1),1,0)}setScrollTop(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i},1)}}class Bs extends H.JT{constructor(i,r){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=i,this._model=r,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Xe.ov3),this._domNode=(0,nt.X)(document.createElement("div")),le.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,nt.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,nt.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,nt.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,nt.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,nt.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=I.mu(this._domNode.domNode,I.tw.POINTER_DOWN,x=>{if(x.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===x.button&&this._lastRenderData){const yt=I.i(this._slider.domNode);this._startSliderDragging(x,yt.top+yt.height/2,this._lastRenderData.renderedLayout)}return}let lt=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*x.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber;lt=Math.min(lt,this._model.getLineCount()),this._model.revealLineNumber(lt)}),this._sliderPointerMoveMonitor=new Yo.C,this._sliderPointerDownListener=I.mu(this._slider.domNode,I.tw.POINTER_DOWN,x=>{x.preventDefault(),x.stopPropagation(),0===x.button&&this._lastRenderData&&this._startSliderDragging(x,x.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Dt.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=I.nm(this._domNode.domNode,Dt.t.Start,x=>{x.preventDefault(),x.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(x))},{passive:!1}),this._sliderTouchMoveListener=I.nm(this._domNode.domNode,Dt.t.Change,x=>{x.preventDefault(),x.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(x)},{passive:!1}),this._sliderTouchEndListener=I.mu(this._domNode.domNode,Dt.t.End,x=>{x.preventDefault(),x.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(i,r,x){if(!(i.target&&i.target instanceof Element))return;const W=i.pageX;this._slider.toggleClassName("active",!0);const J=(De,We)=>{const lt=Math.abs(We-W);this._model.setScrollTop(z.ED&&lt>140?x.scrollTop:x.getDesiredScrollTopFromDelta(De-r))};i.pageY!==r&&J(i.pageY,W),this._sliderPointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,De=>J(De.pageY,De.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(i){const r=this._domNode.domNode.getBoundingClientRect().top,x=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(i.pageY-r);this._model.setScrollTop(x)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const i=["minimap"];return i.push("always"===this._model.options.showSlider?"slider-always":"slider-mouseover"),this._model.options.autohide&&i.push("autohide"),i.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new xr(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(i,r){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(i,r)}onLinesDeleted(i,r){var x;return null===(x=this._lastRenderData)||void 0===x||x.onLinesDeleted(i,r),!0}onLinesInserted(i,r){var x;return null===(x=this._lastRenderData)||void 0===x||x.onLinesInserted(i,r),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Xe.ov3),this._renderDecorations=!0,!0}onTokensChanged(i){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(i)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(i){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(i.scrollLeft+i.viewportWidth>=i.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const x=ir.create(this._model.options,i.viewportStartLineNumber,i.viewportEndLineNumber,i.viewportStartLineNumberVerticalOffset,i.viewportHeight,i.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),i.scrollTop,i.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(x.sliderNeeded?"block":"none"),this._slider.setTop(x.sliderTop),this._slider.setHeight(x.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(x.sliderHeight),this.renderDecorations(x),this._lastRenderData=this.renderLines(x)}renderDecorations(i){if(this._renderDecorations){this._renderDecorations=!1;const r=this._model.getSelections();r.sort(be.e.compareRangesUsingStarts);const x=this._model.getMinimapDecorationsInViewport(i.startLineNumber,i.endLineNumber);x.sort((an,un)=>(an.options.zIndex||0)-(un.options.zIndex||0));const{canvasInnerWidth:W,canvasInnerHeight:J}=this._model.options,De=this._model.options.minimapLineHeight,We=this._model.options.minimapCharWidth,lt=this._model.getOptions().tabSize,yt=this._decorationsCanvas.domNode.getContext("2d");yt.clearRect(0,0,W,J);const Nt=new fs(i.startLineNumber,i.endLineNumber,!1);this._renderSelectionLineHighlights(yt,r,Nt,i,De),this._renderDecorationsLineHighlights(yt,x,Nt,i,De);const Gt=new fs(i.startLineNumber,i.endLineNumber,null);this._renderSelectionsHighlights(yt,r,Gt,i,De,lt,We,W),this._renderDecorationsHighlights(yt,x,Gt,i,De,lt,We,W)}}_renderSelectionLineHighlights(i,r,x,W,J){if(!this._selectionColor||this._selectionColor.isTransparent())return;i.fillStyle=this._selectionColor.transparent(.5).toString();let De=0,We=0;for(const lt of r){const yt=Math.max(W.startLineNumber,lt.startLineNumber),Nt=Math.min(W.endLineNumber,lt.endLineNumber);if(yt>Nt)continue;for(let un=yt;un<=Nt;un++)x.set(un,!0);const Gt=(yt-W.startLineNumber)*J,an=(Nt-W.startLineNumber)*J+J;We>=Gt||(We>De&&i.fillRect(Se.y0,De,i.canvas.width,We-De),De=Gt),We=an}We>De&&i.fillRect(Se.y0,De,i.canvas.width,We-De)}_renderDecorationsLineHighlights(i,r,x,W,J){const De=new Map;for(let We=r.length-1;We>=0;We--){const lt=r[We],yt=lt.options.minimap;if(!yt||yt.position!==js.F5.Inline)continue;const Nt=Math.max(W.startLineNumber,lt.range.startLineNumber),Gt=Math.min(W.endLineNumber,lt.range.endLineNumber);if(Nt>Gt)continue;const an=yt.getColor(this._theme.value);if(!an||an.isTransparent())continue;let un=De.get(an.toString());un||(un=an.transparent(.5).toString(),De.set(an.toString(),un)),i.fillStyle=un;for(let Wn=Nt;Wn<=Gt;Wn++)x.has(Wn)||(x.set(Wn,!0),i.fillRect(Se.y0,(Nt-W.startLineNumber)*J,i.canvas.width,J))}}_renderSelectionsHighlights(i,r,x,W,J,De,We,lt){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const yt of r){const Nt=Math.max(W.startLineNumber,yt.startLineNumber),Gt=Math.min(W.endLineNumber,yt.endLineNumber);if(!(Nt>Gt))for(let an=Nt;an<=Gt;an++)this.renderDecorationOnLine(i,x,yt,this._selectionColor,W,an,J,J,De,We,lt)}}_renderDecorationsHighlights(i,r,x,W,J,De,We,lt){for(const yt of r){const Nt=yt.options.minimap;if(!Nt)continue;const Gt=Math.max(W.startLineNumber,yt.range.startLineNumber),an=Math.min(W.endLineNumber,yt.range.endLineNumber);if(Gt>an)continue;const un=Nt.getColor(this._theme.value);if(un&&!un.isTransparent())for(let Wn=Gt;Wn<=an;Wn++)switch(Nt.position){case js.F5.Inline:this.renderDecorationOnLine(i,x,yt.range,un,W,Wn,J,J,De,We,lt);continue;case js.F5.Gutter:this.renderDecoration(i,un,2,(Wn-W.startLineNumber)*J,2,J);continue}}}renderDecorationOnLine(i,r,x,W,J,De,We,lt,yt,Nt,Gt){const an=(De-J.startLineNumber)*lt;if(an+We<0||an>this._model.options.canvasInnerHeight)return;const{startLineNumber:un,endLineNumber:Wn}=x,$n=un===De?x.startColumn:1,Gn=Wn===De?x.endColumn:this._model.getLineMaxColumn(De),ci=this.getXOffsetForPosition(r,De,$n,yt,Nt,Gt),mi=this.getXOffsetForPosition(r,De,Gn,yt,Nt,Gt);this.renderDecoration(i,W,ci,an,mi-ci,We)}getXOffsetForPosition(i,r,x,W,J,De){if(1===x)return Se.y0;if((x-1)*J>=De)return De;let lt=i.get(r);if(!lt){const yt=this._model.getLineContent(r);lt=[Se.y0];let Nt=Se.y0;for(let Gt=1;Gt<yt.length+1;Gt++){const an=yt.charCodeAt(Gt-1),Wn=Nt+(9===an?W*J:gn.K7(an)?2*J:J);if(Wn>=De){lt[Gt]=De;break}lt[Gt]=Wn,Nt=Wn}i.set(r,lt)}return x-1<lt.length?lt[x-1]:De}renderDecoration(i,r,x,W,J,De){i.fillStyle=r&&r.toString()||"",i.fillRect(x,W,J,De)}renderLines(i){const r=i.startLineNumber,x=i.endLineNumber,W=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(i)){const Qo=this._lastRenderData._get();return new Jo(i,Qo.imageData,Qo.lines)}const J=this._getBuffer();if(!J)return null;const[De,We,lt]=Bs._renderUntouchedLines(J,r,x,W,this._lastRenderData),yt=this._model.getMinimapLinesRenderingData(r,x,lt),Nt=this._model.getOptions().tabSize,Gt=this._model.options.defaultBackgroundColor,an=this._model.options.backgroundColor,un=this._model.options.foregroundAlpha,Wn=this._model.tokensColorTracker,$n=Wn.backgroundIsLight(),Gn=this._model.options.renderMinimap,ci=this._model.options.charRenderer(),mi=this._model.options.fontScale,Di=this._model.options.minimapCharWidth,eo=(1===Gn?2:3)*mi,zi=W>eo?Math.floor((W-eo)/2):0,Ji=an.a/255,Qi=new Ko(Math.round((an.r-Gt.r)*Ji+Gt.r),Math.round((an.g-Gt.g)*Ji+Gt.g),Math.round((an.b-Gt.b)*Ji+Gt.b),255);let fo=0;const No=[];for(let Qo=0,Os=x-r+1;Qo<Os;Qo++)lt[Qo]&&Bs._renderLine(J,Qi,an.a,$n,Gn,Di,Wn,un,ci,fo,zi,Nt,yt[Qo],mi,W),No[Qo]=new Fs(fo),fo+=W;const bo=-1===De?0:De,ss=(-1===We?J.height:We)-bo;return this._canvas.domNode.getContext("2d").putImageData(J,0,0,0,bo,J.width,ss),new Jo(i,J,No)}static _renderUntouchedLines(i,r,x,W,J){const De=[];if(!J){for(let Qi=0,fo=x-r+1;Qi<fo;Qi++)De[Qi]=!0;return[-1,-1,De]}const We=J._get(),lt=We.imageData.data,yt=We.rendLineNumberStart,Nt=We.lines,Gt=Nt.length,an=i.width,un=i.data,Wn=(x-r+1)*W*an*4;let $n=-1,Gn=-1,ci=-1,mi=-1,Di=-1,Ui=-1,eo=0;for(let Qi=r;Qi<=x;Qi++){const fo=Qi-r,No=Qi-yt,bo=No>=0&&No<Gt?Nt[No].dy:-1;if(-1===bo){De[fo]=!0,eo+=W;continue}const ps=bo*an*4,ss=(bo+W)*an*4,vs=eo*an*4,Qo=(eo+W)*an*4;mi===ps&&Ui===vs?(mi=ss,Ui=Qo):(-1!==ci&&(un.set(lt.subarray(ci,mi),Di),-1===$n&&0===ci&&ci===Di&&($n=mi),-1===Gn&&mi===Wn&&ci===Di&&(Gn=ci)),ci=ps,mi=ss,Di=vs,Ui=Qo),De[fo]=!1,eo+=W}return-1!==ci&&(un.set(lt.subarray(ci,mi),Di),-1===$n&&0===ci&&ci===Di&&($n=mi),-1===Gn&&mi===Wn&&ci===Di&&(Gn=ci)),[-1===$n?-1:$n/(4*an),-1===Gn?-1:Gn/(4*an),De]}static _renderLine(i,r,x,W,J,De,We,lt,yt,Nt,Gt,an,un,Wn,$n){const Gn=un.content,ci=un.tokens,mi=i.width-De,Di=1===$n;let Ui=Se.y0,eo=0,zi=0;for(let Ji=0,Qi=ci.getCount();Ji<Qi;Ji++){const fo=ci.getEndOffset(Ji),No=ci.getForeground(Ji),bo=We.getColor(No);for(;eo<fo;eo++){if(Ui>mi)return;const ps=Gn.charCodeAt(eo);if(9===ps){const ss=an-(eo+zi)%an;zi+=ss-1,Ui+=ss*De}else if(32===ps)Ui+=De;else{const ss=gn.K7(ps)?2:1;for(let vs=0;vs<ss;vs++)if(2===J?yt.blockRenderChar(i,Ui,Nt+Gt,bo,lt,r,x,Di):yt.renderChar(i,Ui,Nt+Gt,ps,bo,lt,r,x,Wn,W,Di),Ui+=De,Ui>mi)return}}}}}class fs{constructor(i,r,x){this._startLineNumber=i,this._endLineNumber=r,this._defaultValue=x,this._values=[];for(let W=0,J=this._endLineNumber-this._startLineNumber+1;W<J;W++)this._values[W]=x}has(i){return this.get(i)!==this._defaultValue}set(i,r){i<this._startLineNumber||i>this._endLineNumber||(this._values[i-this._startLineNumber]=r)}get(i){return i<this._startLineNumber||i>this._endLineNumber?this._defaultValue:this._values[i-this._startLineNumber]}}(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Xe.CA6);r&&i.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${r}; }`);const x=Wt.getColor(Xe.Xy4);x&&i.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${x}; }`);const W=Wt.getColor(Xe.brw);W&&i.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${W}; }`);const J=Wt.getColor(Xe._wn);J&&i.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${J} -6px 0 6px -6px inset; }`)});var ar=e(11724),lr={};lr.styleTagTransform=u(),lr.setAttributes=c(),lr.insert=s().bind(null,"head"),lr.domAPI=L(),lr.insertStyleElement=a(),C()(ar.Z,lr);class Ys extends he{constructor(i){super(i);const x=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=x.verticalScrollbarWidth,this._minimapWidth=x.minimap.minimapWidth,this._horizontalScrollbarHeight=x.horizontalScrollbarHeight,this._editorHeight=x.height,this._editorWidth=x.width,this._domNode=(0,nt.X)(document.createElement("div")),le.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(i){const x=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=x.verticalScrollbarWidth,this._minimapWidth=x.minimap.minimapWidth,this._horizontalScrollbarHeight=x.horizontalScrollbarHeight,this._editorHeight=x.height,this._editorWidth=x.width,!0}addWidget(i){const r=(0,nt.X)(i.getDomNode());this._widgets[i.getId()]={widget:i,preference:null,domNode:r},r.setPosition("absolute"),r.setAttribute("widgetId",i.getId()),this._domNode.appendChild(r),this.setShouldRender()}setWidgetPosition(i,r){const x=this._widgets[i.getId()];return x.preference!==r&&(x.preference=r,this.setShouldRender(),!0)}removeWidget(i){const r=i.getId();if(this._widgets.hasOwnProperty(r)){const W=this._widgets[r].domNode.domNode;delete this._widgets[r],W.parentNode.removeChild(W),this.setShouldRender()}}_renderWidget(i){const r=i.domNode;null!==i.preference?0===i.preference?(r.setTop(0),r.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===i.preference?(r.setTop(this._editorHeight-r.domNode.clientHeight-2*this._horizontalScrollbarHeight),r.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===i.preference&&(r.setTop(0),r.domNode.style.right="50%"):r.setTop("")}prepareRender(i){}render(i){this._domNode.setWidth(this._editorWidth);const r=Object.keys(this._widgets);for(let x=0,W=r.length;x<W;x++)this._renderWidget(this._widgets[r[x]])}}class Ws{constructor(i,r){const x=i.options;this.lineHeight=x.get(61),this.pixelRatio=x.get(131),this.overviewRulerLanes=x.get(76),this.renderBorder=x.get(75);const W=r.getColor(Ki.zw);this.borderColor=W?W.toString():null,this.hideCursor=x.get(54);const J=r.getColor(Ki.n0);this.cursorColor=J?J.transparent(.7).toString():null,this.themeType=r.type;const De=x.get(67),We=De.enabled,lt=De.side,yt=r.getColor(Ki.e_),Nt=wo.RW.getDefaultBackground();let Gt=null;void 0!==yt?Gt=yt:We&&(Gt=Nt),this.backgroundColor=null===Gt||"left"===lt?null:Do.Il.Format.CSS.formatHex(Gt);const un=x.get(133).overviewRuler;this.top=un.top,this.right=un.right,this.domWidth=un.width,this.domHeight=un.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Wn,$n]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Wn,this.w=$n}_initLanes(i,r,x){const W=r-i;if(x>=3){const J=Math.floor(W/3),De=Math.floor(W/3),We=W-J-De,yt=i+J;return[[0,i,yt,i,i+J+We,i,yt,i],[0,J,We,J+We,De,J+We+De,We+De,J+We+De]]}if(2===x){const J=Math.floor(W/2),De=W-J;return[[0,i,i,i,i+J,i,i,i],[0,J,J,J,De,J+De,J+De,J+De]]}return[[0,i,i,i,i,i,i,i],[0,W,W,W,W,W,W,W]]}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class qi extends he{constructor(i){super(i),this._domNode=(0,nt.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=wo.RW.onDidChange(r=>{r.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const r=new Ws(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(r)||(this._settings=r,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),0))}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let r=0,x=i.selections.length;r<x;r++)this._cursorPositions[r]=i.selections[r].getPosition();return this._cursorPositions.sort(ue.L.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const i=this._settings.canvasWidth,r=this._settings.canvasHeight,x=this._settings.lineHeight,W=this._context.viewLayout,De=r/this._context.viewLayout.getScrollHeight(),We=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),lt=6*this._settings.pixelRatio|0,yt=lt/2|0,Nt=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?Nt.clearRect(0,0,i,r):(Nt.fillStyle=this._settings.backgroundColor,Nt.fillRect(0,0,i,r));const Gt=this._settings.x,an=this._settings.w;We.sort(Ps.SQ.cmp);for(const un of We){const $n=un.data;Nt.fillStyle=un.color;let Gn=0,ci=0,mi=0;for(let Di=0,Ui=$n.length/3;Di<Ui;Di++){const eo=$n[3*Di],Ji=$n[3*Di+2];let Qi=W.getVerticalOffsetForLineNumber($n[3*Di+1])*De|0,fo=(W.getVerticalOffsetForLineNumber(Ji)+x)*De|0;if(fo-Qi<lt){let bo=(Qi+fo)/2|0;bo<yt?bo=yt:bo+yt>r&&(bo=r-yt),Qi=bo-yt,fo=bo+yt}Qi>mi+1||eo!==Gn?(0!==Di&&Nt.fillRect(Gt[Gn],ci,an[Gn],mi-ci),Gn=eo,ci=Qi,mi=fo):fo>mi&&(mi=fo)}Nt.fillRect(Gt[Gn],ci,an[Gn],mi-ci)}if(!this._settings.hideCursor&&this._settings.cursorColor){const un=2*this._settings.pixelRatio|0,Wn=un/2|0,$n=this._settings.x[7],Gn=this._settings.w[7];Nt.fillStyle=this._settings.cursorColor;let ci=-100,mi=-100;for(let Di=0,Ui=this._cursorPositions.length;Di<Ui;Di++){let zi=W.getVerticalOffsetForLineNumber(this._cursorPositions[Di].lineNumber)*De|0;zi<Wn?zi=Wn:zi+Wn>r&&(zi=r-Wn);const Ji=zi-Wn,Qi=Ji+un;Ji>mi+1?(0!==Di&&Nt.fillRect($n,ci,Gn,mi-ci),ci=Ji,mi=Qi):Qi>mi&&(mi=Qi)}Nt.fillRect($n,ci,Gn,mi-ci)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Nt.beginPath(),Nt.lineWidth=1,Nt.strokeStyle=this._settings.borderColor,Nt.moveTo(0,0),Nt.lineTo(0,r),Nt.stroke(),Nt.moveTo(0,0),Nt.lineTo(i,0),Nt.stroke())}}var dr=e(18632);class yr extends _e{constructor(i,r){super(),this._context=i;const x=this._context.configuration.options;this._domNode=(0,nt.X)(document.createElement("canvas")),this._domNode.setClassName(r),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new dr.Tj(W=>this._context.viewLayout.getVerticalOffsetForLineNumber(W)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(x.get(61)),this._zoneManager.setPixelRatio(x.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options;return i.hasChanged(61)&&(this._zoneManager.setLineHeight(r.get(61)),this._render()),i.hasChanged(131)&&(this._zoneManager.setPixelRatio(r.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(i){return this._render(),!0}onScrollChanged(i){return i.scrollHeightChanged&&(this._zoneManager.setOuterHeight(i.scrollHeight),this._render()),!0}onZonesChanged(i){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(i){this._domNode.setTop(i.top),this._domNode.setRight(i.right);let r=!1;r=this._zoneManager.setDOMWidth(i.width)||r,r=this._zoneManager.setDOMHeight(i.height)||r,r&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(i){this._zoneManager.setZones(i),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const i=this._zoneManager.getCanvasWidth(),r=this._zoneManager.getCanvasHeight(),x=this._zoneManager.resolveColorZones(),W=this._zoneManager.getId2Color(),J=this._domNode.domNode.getContext("2d");return J.clearRect(0,0,i,r),x.length>0&&this._renderOneLane(J,x,W,i),!0}_renderOneLane(i,r,x,W){let J=0,De=0,We=0;for(const lt of r){const yt=lt.colorId,Nt=lt.from,Gt=lt.to;yt!==J?(i.fillRect(0,De,W,We-De),J=yt,i.fillStyle=x[J],De=Nt,We=Gt):We>=Nt?We=Math.max(We,Gt):(i.fillRect(0,De,W,We-De),De=Nt,We=Gt)}i.fillRect(0,De,W,We-De)}}var sr=e(4439),Vs={};Vs.styleTagTransform=u(),Vs.setAttributes=c(),Vs.insert=s().bind(null,"head"),Vs.domAPI=L(),Vs.insertStyleElement=a(),C()(sr.Z,Vs);class Br extends he{constructor(i){super(i),this.domNode=(0,nt.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const r=this._context.configuration.options;this._rulers=r.get(93),this._typicalHalfwidthCharacterWidth=r.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(i){const r=this._context.configuration.options;return this._rulers=r.get(93),this._typicalHalfwidthCharacterWidth=r.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(i){return i.scrollHeightChanged}prepareRender(i){}_ensureRulersCount(){const i=this._renderedRulers.length,r=this._rulers.length;if(i===r)return;if(i<r){const{tabSize:W}=this._context.viewModel.model.getOptions(),J=W;let De=r-i;for(;De>0;){const We=(0,nt.X)(document.createElement("div"));We.setClassName("view-ruler"),We.setWidth(J),this.domNode.appendChild(We),this._renderedRulers.push(We),De--}return}let x=i-r;for(;x>0;){const W=this._renderedRulers.pop();this.domNode.removeChild(W),x--}}render(i){this._ensureRulersCount();for(let r=0,x=this._rulers.length;r<x;r++){const W=this._renderedRulers[r],J=this._rulers[r];W.setBoxShadow(J.color?`1px 0 0 0 ${J.color} inset`:""),W.setHeight(Math.min(i.scrollHeight,1e6)),W.setLeft(J.column*this._typicalHalfwidthCharacterWidth)}}}(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.zk);r&&i.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${r} inset; }`)});var ho=e(16858),ko={};ko.styleTagTransform=u(),ko.setAttributes=c(),ko.insert=s().bind(null,"head"),ko.domAPI=L(),ko.insertStyleElement=a(),C()(ho.Z,ko);class xs extends he{constructor(i){super(i),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const x=this._context.configuration.options.get(94);this._useShadows=x.useShadows,this._domNode=(0,nt.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const i=this._useShadows&&this._scrollTop>0;return this._shouldShow!==i&&(this._shouldShow=i,!0)}getDomNode(){return this._domNode}_updateWidth(){const r=this._context.configuration.options.get(133);this._width=0===r.minimap.renderMinimap||r.minimap.minimapWidth>0&&0===r.minimap.minimapLeft?r.width:r.width-r.verticalScrollbarWidth}onConfigurationChanged(i){const x=this._context.configuration.options.get(94);return this._useShadows=x.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(i){return this._scrollTop=i.scrollTop,this._updateShouldShow()}prepareRender(i){}render(i){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Xe._wn);r&&i.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${r} 0 6px 6px -6px inset; }`)});var ms=e(5826),Hs={};Hs.styleTagTransform=u(),Hs.setAttributes=c(),Hs.insert=s().bind(null,"head"),Hs.domAPI=L(),Hs.insertStyleElement=a(),C()(ms.Z,Hs);class ra{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class tr{constructor(i,r){this.lineNumber=i,this.ranges=r}}function Nn(Wt){return new ra(Wt)}function se(Wt){return new tr(Wt.lineNumber,Wt.ranges.map(Nn))}let Ce=(()=>{class Wt extends Oi{constructor(r){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=r;const x=this._context.configuration.options;this._lineHeight=x.get(61),this._roundedSelection=x.get(92),this._typicalHalfwidthCharacterWidth=x.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(r){const x=this._context.configuration.options;return this._lineHeight=x.get(61),this._roundedSelection=x.get(92),this._typicalHalfwidthCharacterWidth=x.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(r){return this._selections=r.selections.slice(0),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return r.scrollTopChanged}onZonesChanged(r){return!0}_visibleRangesHaveGaps(r){for(let x=0,W=r.length;x<W;x++)if(r[x].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(r,x,W){const J=this._typicalHalfwidthCharacterWidth/4;let De=null,We=null;if(W&&W.length>0&&x.length>0){const lt=x[0].lineNumber;if(lt===r.startLineNumber)for(let Nt=0;!De&&Nt<W.length;Nt++)W[Nt].lineNumber===lt&&(De=W[Nt].ranges[0]);const yt=x[x.length-1].lineNumber;if(yt===r.endLineNumber)for(let Nt=W.length-1;!We&&Nt>=0;Nt--)W[Nt].lineNumber===yt&&(We=W[Nt].ranges[0]);De&&!De.startStyle&&(De=null),We&&!We.startStyle&&(We=null)}for(let lt=0,yt=x.length;lt<yt;lt++){const Nt=x[lt].ranges[0],Gt=Nt.left,an=Nt.left+Nt.width,un={top:0,bottom:0},Wn={top:0,bottom:0};if(lt>0){const $n=x[lt-1].ranges[0].left,Gn=x[lt-1].ranges[0].left+x[lt-1].ranges[0].width;Ve(Gt-$n)<J?un.top=2:Gt>$n&&(un.top=1),Ve(an-Gn)<J?Wn.top=2:$n<an&&an<Gn&&(Wn.top=1)}else De&&(un.top=De.startStyle.top,Wn.top=De.endStyle.top);if(lt+1<yt){const $n=x[lt+1].ranges[0].left,Gn=x[lt+1].ranges[0].left+x[lt+1].ranges[0].width;Ve(Gt-$n)<J?un.bottom=2:$n<Gt&&Gt<Gn&&(un.bottom=1),Ve(an-Gn)<J?Wn.bottom=2:an<Gn&&(Wn.bottom=1)}else We&&(un.bottom=We.startStyle.bottom,Wn.bottom=We.endStyle.bottom);Nt.startStyle=un,Nt.endStyle=Wn}}_getVisibleRangesWithStyle(r,x,W){const De=(x.linesVisibleRangesForRange(r,!0)||[]).map(se);return!this._visibleRangesHaveGaps(De)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(x.visibleRange,De,W),De}_createSelectionPiece(r,x,W,J,De){return'<div class="cslr '+W+'" style="top:'+r.toString()+"px;left:"+J.toString()+"px;width:"+De.toString()+"px;height:"+x+'px;"></div>'}_actualRenderOneSelection(r,x,W,J){if(0===J.length)return;const De=!!J[0].ranges[0].startStyle,We=this._lineHeight.toString(),lt=(this._lineHeight-1).toString(),yt=J[0].lineNumber,Nt=J[J.length-1].lineNumber;for(let Gt=0,an=J.length;Gt<an;Gt++){const un=J[Gt],Wn=un.lineNumber,$n=Wn-x,Gn=!W||Wn!==Nt&&Wn!==yt?We:lt,ci=W&&Wn===yt?1:0;let mi="",Di="";for(let Ui=0,eo=un.ranges.length;Ui<eo;Ui++){const zi=un.ranges[Ui];if(De){const Qi=zi.startStyle,fo=zi.endStyle;if(1===Qi.top||1===Qi.bottom){mi+=this._createSelectionPiece(ci,Gn,Wt.SELECTION_CLASS_NAME,zi.left-Wt.ROUNDED_PIECE_WIDTH,Wt.ROUNDED_PIECE_WIDTH);let No=Wt.EDITOR_BACKGROUND_CLASS_NAME;1===Qi.top&&(No+=" "+Wt.SELECTION_TOP_RIGHT),1===Qi.bottom&&(No+=" "+Wt.SELECTION_BOTTOM_RIGHT),mi+=this._createSelectionPiece(ci,Gn,No,zi.left-Wt.ROUNDED_PIECE_WIDTH,Wt.ROUNDED_PIECE_WIDTH)}if(1===fo.top||1===fo.bottom){mi+=this._createSelectionPiece(ci,Gn,Wt.SELECTION_CLASS_NAME,zi.left+zi.width,Wt.ROUNDED_PIECE_WIDTH);let No=Wt.EDITOR_BACKGROUND_CLASS_NAME;1===fo.top&&(No+=" "+Wt.SELECTION_TOP_LEFT),1===fo.bottom&&(No+=" "+Wt.SELECTION_BOTTOM_LEFT),mi+=this._createSelectionPiece(ci,Gn,No,zi.left+zi.width,Wt.ROUNDED_PIECE_WIDTH)}}let Ji=Wt.SELECTION_CLASS_NAME;if(De){const Qi=zi.startStyle,fo=zi.endStyle;0===Qi.top&&(Ji+=" "+Wt.SELECTION_TOP_LEFT),0===Qi.bottom&&(Ji+=" "+Wt.SELECTION_BOTTOM_LEFT),0===fo.top&&(Ji+=" "+Wt.SELECTION_TOP_RIGHT),0===fo.bottom&&(Ji+=" "+Wt.SELECTION_BOTTOM_RIGHT)}Di+=this._createSelectionPiece(ci,Gn,Ji,zi.left,zi.width)}r[$n][0]+=mi,r[$n][1]+=Di}}prepareRender(r){const x=[],W=r.visibleRange.startLineNumber,J=r.visibleRange.endLineNumber;for(let We=W;We<=J;We++)x[We-W]=["",""];const De=[];for(let We=0,lt=this._selections.length;We<lt;We++){const yt=this._selections[We];if(yt.isEmpty()){De[We]=null;continue}const Nt=this._getVisibleRangesWithStyle(yt,r,this._previousFrameVisibleRangesWithStyle[We]);De[We]=Nt,this._actualRenderOneSelection(x,W,this._selections.length>1,Nt)}this._previousFrameVisibleRangesWithStyle=De,this._renderResult=x.map(([We,lt])=>We+lt)}render(r,x){if(!this._renderResult)return"";const W=x-r;return W<0||W>=this._renderResult.length?"":this._renderResult[W]}}return Wt.SELECTION_CLASS_NAME="selected-text",Wt.SELECTION_TOP_LEFT="top-left-radius",Wt.SELECTION_BOTTOM_LEFT="bottom-left-radius",Wt.SELECTION_TOP_RIGHT="top-right-radius",Wt.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Wt.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Wt.ROUNDED_PIECE_WIDTH=10,Wt})();function Ve(Wt){return Wt<0?-Wt:Wt}(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Xe.hEj);r&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${r}; }`);const x=Wt.getColor(Xe.ES4);x&&i.addRule(`.monaco-editor .selected-text { background-color: ${x}; }`);const W=Wt.getColor(Xe.yb5);W&&!W.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${W}; }`)});var It=e(51595),Pt={};Pt.styleTagTransform=u(),Pt.setAttributes=c(),Pt.insert=s().bind(null,"head"),Pt.domAPI=L(),Pt.insertStyleElement=a(),C()(It.Z,Pt);class ii{constructor(i,r,x,W,J,De){this.top=i,this.left=r,this.width=x,this.height=W,this.textContent=J,this.textContentClassName=De}}class Ci{constructor(i){this._context=i;const r=this._context.configuration.options,x=r.get(46);this._cursorStyle=r.get(24),this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=x.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,nt.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${Po.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,An.N)(this._domNode,x),this._domNode.setDisplay("none"),this._position=new ue.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const r=this._context.configuration.options,x=r.get(46);return this._cursorStyle=r.get(24),this._lineHeight=r.get(61),this._typicalHalfwidthCharacterWidth=x.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(r.get(27),this._typicalHalfwidthCharacterWidth),(0,An.N)(this._domNode,x),!0}onCursorPositionChanged(i){return this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:r}=this._position,x=this._context.viewModel.getLineContent(i),[W,J]=gn.J_(x,r-1);return[new ue.L(i,W+1),x.substring(W,J)]}_prepareRender(i){let r="";const[x,W]=this._getGraphemeAwarePosition();if(this._cursorStyle===Se.d2.Line||this._cursorStyle===Se.d2.LineThin){const an=i.visibleRangeForPosition(x);if(!an||an.outsideRenderedLine)return null;let un;this._cursorStyle===Se.d2.Line?(un=I.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),un>2&&(r=W)):un=I.Uh(1);let Wn=an.left;un>=2&&Wn>=1&&(Wn-=1);const $n=i.getVerticalOffsetForLineNumber(x.lineNumber)-i.bigNumbersDelta;return new ii($n,Wn,un,this._lineHeight,r,"")}const J=i.linesVisibleRangesForRange(new be.e(x.lineNumber,x.column,x.lineNumber,x.column+W.length),!1);if(!J||0===J.length)return null;const De=J[0];if(De.outsideRenderedLine||0===De.ranges.length)return null;const We=De.ranges[0],lt="\t"===W||We.width<1?this._typicalHalfwidthCharacterWidth:We.width;let yt="";if(this._cursorStyle===Se.d2.Block){const an=this._context.viewModel.getViewLineData(x.lineNumber);r=W;const un=an.tokens.findTokenIndexAtOffset(x.column-1);yt=an.tokens.getClassName(un)}let Nt=i.getVerticalOffsetForLineNumber(x.lineNumber)-i.bigNumbersDelta,Gt=this._lineHeight;return(this._cursorStyle===Se.d2.Underline||this._cursorStyle===Se.d2.UnderlineThin)&&(Nt+=this._lineHeight-2,Gt=2),new ii(Nt,We.left,lt,Gt,r,yt)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Po.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let ki=(()=>{class Wt extends he{constructor(r){super(r);const x=this._context.configuration.options;this._readOnly=x.get(83),this._cursorBlinking=x.get(22),this._cursorStyle=x.get(24),this._cursorSmoothCaretAnimation=x.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new Ci(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,nt.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ze._F,this._cursorFlatBlinkInterval=new Ze.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(r){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(r){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(r){const x=this._context.configuration.options;this._readOnly=x.get(83),this._cursorBlinking=x.get(22),this._cursorStyle=x.get(24),this._cursorSmoothCaretAnimation=x.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(r);for(let W=0,J=this._secondaryCursors.length;W<J;W++)this._secondaryCursors[W].onConfigurationChanged(r);return!0}_onCursorPositionChanged(r,x){if(this._primaryCursor.onCursorPositionChanged(r),this._updateBlinking(),this._secondaryCursors.length<x.length){const W=x.length-this._secondaryCursors.length;for(let J=0;J<W;J++){const De=new Ci(this._context);this._domNode.domNode.insertBefore(De.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(De)}}else if(this._secondaryCursors.length>x.length){const W=this._secondaryCursors.length-x.length;for(let J=0;J<W;J++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let W=0;W<x.length;W++)this._secondaryCursors[W].onCursorPositionChanged(x[W])}onCursorStateChanged(r){const x=[];for(let J=0,De=r.selections.length;J<De;J++)x[J]=r.selections[J].getPosition();this._onCursorPositionChanged(x[0],x.slice(1));const W=r.selections[0].isEmpty();return this._selectionIsEmpty!==W&&(this._selectionIsEmpty=W,this._updateDomClassName()),!0}onDecorationsChanged(r){return!0}onFlushed(r){return!0}onFocusChanged(r){return this._editorHasFocus=r.isFocused,this._updateBlinking(),!1}onLinesChanged(r){return!0}onLinesDeleted(r){return!0}onLinesInserted(r){return!0}onScrollChanged(r){return!0}onTokensChanged(r){const x=W=>{for(let J=0,De=r.ranges.length;J<De;J++)if(r.ranges[J].fromLineNumber<=W.lineNumber&&W.lineNumber<=r.ranges[J].toLineNumber)return!0;return!1};if(x(this._primaryCursor.getPosition()))return!0;for(const W of this._secondaryCursors)if(x(W.getPosition()))return!0;return!1}onZonesChanged(r){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const r=this._getCursorBlinking(),x=0===r,W=5===r;x?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!x&&!W&&(1===r?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Wt.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Wt.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let r="cursors-layer";switch(this._selectionIsEmpty||(r+=" has-selection"),this._cursorStyle){case Se.d2.Line:r+=" cursor-line-style";break;case Se.d2.Block:r+=" cursor-block-style";break;case Se.d2.Underline:r+=" cursor-underline-style";break;case Se.d2.LineThin:r+=" cursor-line-thin-style";break;case Se.d2.BlockOutline:r+=" cursor-block-outline-style";break;case Se.d2.UnderlineThin:r+=" cursor-underline-thin-style";break;default:r+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:r+=" cursor-blink";break;case 2:r+=" cursor-smooth";break;case 3:r+=" cursor-phase";break;case 4:r+=" cursor-expand";break;default:r+=" cursor-solid"}else r+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(r+=" cursor-smooth-caret-animation"),r}_show(){this._primaryCursor.show();for(let r=0,x=this._secondaryCursors.length;r<x;r++)this._secondaryCursors[r].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let r=0,x=this._secondaryCursors.length;r<x;r++)this._secondaryCursors[r].hide();this._isVisible=!1}prepareRender(r){this._primaryCursor.prepareRender(r);for(let x=0,W=this._secondaryCursors.length;x<W;x++)this._secondaryCursors[x].prepareRender(r)}render(r){const x=[];let W=0;const J=this._primaryCursor.render(r);J&&(x[W++]=J);for(let De=0,We=this._secondaryCursors.length;De<We;De++){const lt=this._secondaryCursors[De].render(r);lt&&(x[W++]=lt)}this._renderData=x}getLastRenderData(){return this._renderData}}return Wt.BLINK_INTERVAL=500,Wt})();(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Ki.n0);if(r){let x=Wt.getColor(Ki.fY);x||(x=r.opposite()),i.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${r}; }`),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${r}; border-color: ${r}; color: ${x}; }`),(0,_t.c3)(Wt.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${x}; border-right: 1px solid ${x}; }`)}});const Mo=()=>{throw new Error("Invalid change accessor")};class ts extends he{constructor(i){super(i);const r=this._context.configuration.options,x=r.get(133);this._lineHeight=r.get(61),this._contentWidth=x.contentWidth,this._contentLeft=x.contentLeft,this.domNode=(0,nt.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,nt.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const i=this._context.viewLayout.getWhitespaces(),r=new Map;for(const W of i)r.set(W.id,W);let x=!1;return this._context.viewModel.changeWhitespace(W=>{const J=Object.keys(this._zones);for(let De=0,We=J.length;De<We;De++){const lt=J[De],yt=this._zones[lt],Nt=this._computeWhitespaceProps(yt.delegate);yt.isInHiddenArea=Nt.isInHiddenArea;const Gt=r.get(lt);Gt&&(Gt.afterLineNumber!==Nt.afterViewLineNumber||Gt.height!==Nt.heightInPx)&&(W.changeOneWhitespace(lt,Nt.afterViewLineNumber,Nt.heightInPx),this._safeCallOnComputedHeight(yt.delegate,Nt.heightInPx),x=!0)}}),x}onConfigurationChanged(i){const r=this._context.configuration.options,x=r.get(133);return this._lineHeight=r.get(61),this._contentWidth=x.contentWidth,this._contentLeft=x.contentLeft,i.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(i){return this._recomputeWhitespacesProps()}onLinesDeleted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}onLinesInserted(i){return!0}_getZoneOrdinal(i){return typeof i.afterColumn<"u"?i.afterColumn:1e4}_computeWhitespaceProps(i){if(0===i.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(i),minWidthInPx:this._minWidthInPixels(i)};let r,x;if(typeof i.afterColumn<"u")r=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:i.afterColumn});else{const De=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:1}).lineNumber;r=new ue.L(De,this._context.viewModel.model.getLineMaxColumn(De))}x=r.column===this._context.viewModel.model.getLineMaxColumn(r.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:r.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:r.lineNumber,column:r.column+1});const W=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r,i.afterColumnAffinity),J=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(x);return{isInHiddenArea:!J,afterViewLineNumber:W.lineNumber,heightInPx:J?this._heightInPixels(i):0,minWidthInPx:this._minWidthInPixels(i)}}changeViewZones(i){let r=!1;return this._context.viewModel.changeWhitespace(x=>{const W={addZone:J=>(r=!0,this._addZone(x,J)),removeZone:J=>{!J||(r=this._removeZone(x,J)||r)},layoutZone:J=>{!J||(r=this._layoutZone(x,J)||r)}};(function jo(Wt,i){try{Wt(i)}catch(r){(0,P.dL)(r)}})(i,W),W.addZone=Mo,W.removeZone=Mo,W.layoutZone=Mo}),r}_addZone(i,r){const x=this._computeWhitespaceProps(r),J={whitespaceId:i.insertWhitespace(x.afterViewLineNumber,this._getZoneOrdinal(r),x.heightInPx,x.minWidthInPx),delegate:r,isInHiddenArea:x.isInHiddenArea,isVisible:!1,domNode:(0,nt.X)(r.domNode),marginDomNode:r.marginDomNode?(0,nt.X)(r.marginDomNode):null};return this._safeCallOnComputedHeight(J.delegate,x.heightInPx),J.domNode.setPosition("absolute"),J.domNode.domNode.style.width="100%",J.domNode.setDisplay("none"),J.domNode.setAttribute("monaco-view-zone",J.whitespaceId),this.domNode.appendChild(J.domNode),J.marginDomNode&&(J.marginDomNode.setPosition("absolute"),J.marginDomNode.domNode.style.width="100%",J.marginDomNode.setDisplay("none"),J.marginDomNode.setAttribute("monaco-view-zone",J.whitespaceId),this.marginDomNode.appendChild(J.marginDomNode)),this._zones[J.whitespaceId]=J,this.setShouldRender(),J.whitespaceId}_removeZone(i,r){if(this._zones.hasOwnProperty(r)){const x=this._zones[r];return delete this._zones[r],i.removeWhitespace(x.whitespaceId),x.domNode.removeAttribute("monaco-visible-view-zone"),x.domNode.removeAttribute("monaco-view-zone"),x.domNode.domNode.parentNode.removeChild(x.domNode.domNode),x.marginDomNode&&(x.marginDomNode.removeAttribute("monaco-visible-view-zone"),x.marginDomNode.removeAttribute("monaco-view-zone"),x.marginDomNode.domNode.parentNode.removeChild(x.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(i,r){if(this._zones.hasOwnProperty(r)){const x=this._zones[r],W=this._computeWhitespaceProps(x.delegate);return x.isInHiddenArea=W.isInHiddenArea,i.changeOneWhitespace(x.whitespaceId,W.afterViewLineNumber,W.heightInPx),this._safeCallOnComputedHeight(x.delegate,W.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(i){return!!this._zones.hasOwnProperty(i)&&Boolean(this._zones[i].delegate.suppressMouseDown)}_heightInPixels(i){return"number"==typeof i.heightInPx?i.heightInPx:"number"==typeof i.heightInLines?this._lineHeight*i.heightInLines:this._lineHeight}_minWidthInPixels(i){return"number"==typeof i.minWidthInPx?i.minWidthInPx:0}_safeCallOnComputedHeight(i,r){if("function"==typeof i.onComputedHeight)try{i.onComputedHeight(r)}catch(x){(0,P.dL)(x)}}_safeCallOnDomNodeTop(i,r){if("function"==typeof i.onDomNodeTop)try{i.onDomNodeTop(r)}catch(x){(0,P.dL)(x)}}prepareRender(i){}render(i){const r=i.viewportData.whitespaceViewportData,x={};let W=!1;for(const De of r)this._zones[De.id].isInHiddenArea||(x[De.id]=De,W=!0);const J=Object.keys(this._zones);for(let De=0,We=J.length;De<We;De++){const lt=J[De],yt=this._zones[lt];let Nt=0,Gt=0,an="none";x.hasOwnProperty(lt)?(Nt=x[lt].verticalOffset-i.bigNumbersDelta,Gt=x[lt].height,an="block",yt.isVisible||(yt.domNode.setAttribute("monaco-visible-view-zone","true"),yt.isVisible=!0),this._safeCallOnDomNodeTop(yt.delegate,i.getScrolledTopFromAbsoluteTop(x[lt].verticalOffset))):(yt.isVisible&&(yt.domNode.removeAttribute("monaco-visible-view-zone"),yt.isVisible=!1),this._safeCallOnDomNodeTop(yt.delegate,i.getScrolledTopFromAbsoluteTop(-1e6))),yt.domNode.setTop(Nt),yt.domNode.setHeight(Gt),yt.domNode.setDisplay(an),yt.marginDomNode&&(yt.marginDomNode.setTop(Nt),yt.marginDomNode.setHeight(Gt),yt.marginDomNode.setDisplay(an))}W&&(this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class Xs{constructor(i){this._theme=i}get type(){return this._theme.type}get value(){return this._theme}update(i){this._theme=i}getColor(i){return this._theme.getColor(i)}}class Qr{constructor(i,r,x){this.configuration=i,this.theme=new Xs(r),this.viewModel=x,this.viewLayout=x.viewLayout}addEventHandler(i){this.viewModel.addViewEventHandler(i)}removeEventHandler(i){this.viewModel.removeViewEventHandler(i)}}class Ir{constructor(i,r,x,W){this.selections=i,this.startLineNumber=0|r.startLineNumber,this.endLineNumber=0|r.endLineNumber,this.relativeVerticalOffset=r.relativeVerticalOffset,this.bigNumbersDelta=0|r.bigNumbersDelta,this.whitespaceViewportData=x,this._model=W,this.visibleRange=new be.e(r.startLineNumber,this._model.getLineMinColumn(r.startLineNumber),r.endLineNumber,this._model.getLineMaxColumn(r.endLineNumber))}getViewLineRenderingData(i){return this._model.getViewportViewLineRenderingData(this.visibleRange,i)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var aa=e(11625),fa={};fa.styleTagTransform=u(),fa.setAttributes=c(),fa.insert=s().bind(null,"head"),fa.domAPI=L(),fa.insertStyleElement=a(),C()(aa.Z,fa);class Tr extends he{constructor(i){super(i),this.blocks=[],this.contentWidth=-1,this.domNode=(0,nt.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let i=!1;const x=this._context.configuration.options.get(133),W=x.contentWidth-x.verticalScrollbarWidth;return this.contentWidth!==W&&(this.contentWidth=W,i=!0),i}dispose(){super.dispose()}onConfigurationChanged(i){return this.update()}onScrollChanged(i){return i.scrollTopChanged||i.scrollLeftChanged}onDecorationsChanged(i){return!0}onZonesChanged(i){return!0}prepareRender(i){}render(i){let r=0;const x=i.getDecorationsInViewport();for(const W of x){if(!W.options.blockClassName)continue;let J=this.blocks[r];J||(J=this.blocks[r]=(0,nt.X)(document.createElement("div")),this.domNode.appendChild(J));const De=i.getVerticalOffsetForLineNumber(W.range.startLineNumber),We=i.getVerticalOffsetForLineNumber(W.range.endLineNumber+1);J.setClassName("blockDecorations-block "+W.options.blockClassName),J.setLeft(i.scrollLeft),J.setWidth(this.contentWidth),J.setTop(De),J.setHeight(We-De),r++}for(let W=r;W<this.blocks.length;W++)this.blocks[W].domNode.remove();this.blocks.length=r}}class Js extends _e{constructor(i,r,x,W,J,De){super(),this._selections=[new Ue.Y(1,1,1,1)],this._renderAnimationFrame=null;const We=new kt(r,W,J,i);this._context=new Qr(r,x,W),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new Oo(this._context,We,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,nt.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,nt.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,nt.X)(document.createElement("div")),le.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new at(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new ni(this._context,this._linesContent),this._viewZones=new ts(this._context),this._viewParts.push(this._viewZones);const lt=new qi(this._context);this._viewParts.push(lt);const yt=new xs(this._context);this._viewParts.push(yt);const Nt=new Pn(this._context);this._viewParts.push(Nt),Nt.addDynamicOverlay(new Ai(this._context)),Nt.addDynamicOverlay(new Ce(this._context)),Nt.addDynamicOverlay(new qt(this._context)),Nt.addDynamicOverlay(new me(this._context));const Gt=new En(this._context);this._viewParts.push(Gt),Gt.addDynamicOverlay(new yi(this._context)),Gt.addDynamicOverlay(new ti(this._context)),Gt.addDynamicOverlay(new Ho(this._context)),Gt.addDynamicOverlay(new Pi(this._context)),Gt.addDynamicOverlay(new co(this._context));const an=new yo(this._context);an.getDomNode().appendChild(this._viewZones.marginDomNode),an.getDomNode().appendChild(Gt.getDomNode()),this._viewParts.push(an),this._contentWidgets=new Rt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new ki(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Ys(this._context),this._viewParts.push(this._overlayWidgets);const un=new Br(this._context);this._viewParts.push(un);const Wn=new Tr(this._context);this._viewParts.push(Wn);const $n=new kr(this._context);if(this._viewParts.push($n),lt){const Gn=this._scrollbar.getOverviewRulerLayoutInfo();Gn.parent.insertBefore(lt.getDomNode(),Gn.insertBefore)}this._linesContent.appendChild(Nt.getDomNode()),this._linesContent.appendChild(un.domNode),this._linesContent.appendChild(Wn.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(an.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(yt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild($n.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),De?De.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new pt(this._context,We,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:i=>{this._textAreaHandler.textArea.domNode.dispatchEvent(i)},getLastRenderData:()=>{const i=this._viewCursors.getLastRenderData()||[],r=this._textAreaHandler.getLastRenderData();return new vn(i,r)},shouldSuppressMouseDownOnViewZone:i=>this._viewZones.shouldSuppressMouseDownOnViewZone(i),shouldSuppressMouseDownOnWidget:i=>this._contentWidgets.shouldSuppressMouseDownOnWidget(i),getPositionFromDOMInfo:(i,r)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(i,r)),visibleRangeForPosition:(i,r)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new ue.L(i,r))),getLineWidth:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(i))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(i))}}_applyLayout(){const r=this._context.configuration.options.get(133);this.domNode.setWidth(r.width),this.domNode.setHeight(r.height),this._overflowGuardContainer.setWidth(r.width),this._overflowGuardContainer.setHeight(r.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const i=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,ji.m6)(this._context.theme.type)+i}handleEvents(i){super.handleEvents(i),this._scheduleRender()}onConfigurationChanged(i){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(i){return this._selections=i.selections,!1}onFocusChanged(i){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(i){return this._context.theme.update(i.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const i of this._viewParts)i.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=I.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function za(Wt){try{Wt()}catch(i){(0,P.dL)(i)}}(()=>this._actualRender())}_getViewPartsToRender(){const i=[];let r=0;for(const x of this._viewParts)x.shouldRender()&&(i[r++]=x);return i}_actualRender(){if(!I.Uw(this.domNode.domNode))return;let i=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===i.length)return;const r=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(r.startLineNumber,r.endLineNumber,r.centeredLineNumber);const x=new Ir(this._selections,r,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(x),this._viewLines.shouldRender()&&(this._viewLines.renderText(x),this._viewLines.onDidRender(),i=this._getViewPartsToRender());const W=new ve(this._context.viewLayout,x,this._viewLines);for(const J of i)J.prepareRender(W);for(const J of i)J.render(W),J.onDidRender()}delegateVerticalScrollbarPointerDown(i){this._scrollbar.delegateVerticalScrollbarPointerDown(i)}restoreState(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:i.scrollLeft},1)}getOffsetForColumn(i,r){const x=this._context.viewModel.model.validatePosition({lineNumber:i,column:r}),W=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(x);this._flushAccumulatedAndRenderNow();const J=this._viewLines.visibleRangeForPosition(new ue.L(W.lineNumber,W.column));return J?J.left:-1}getTargetAtClientPoint(i,r){const x=this._pointerHandler.getTargetAtClientPoint(i,r);return x?ln.convertViewToModelMouseTarget(x,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(i){return new yr(this._context,i)}change(i){this._viewZones.changeViewZones(i),this._scheduleRender()}render(i,r){if(r){this._viewLines.forceShouldRender();for(const x of this._viewParts)x.forceShouldRender()}i?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(i){this._textAreaHandler.setAriaOptions(i)}addContentWidget(i){this._contentWidgets.addWidget(i.widget),this.layoutContentWidget(i),this._scheduleRender()}layoutContentWidget(i){var r,x;let W=i.position&&i.position.range||null;if(null===W){const De=i.position?i.position.position:null;null!==De&&(W=new be.e(De.lineNumber,De.column,De.lineNumber,De.column))}this._contentWidgets.setWidgetPosition(i.widget,W,i.position?i.position.preference:null,null!==(x=null===(r=i.position)||void 0===r?void 0:r.positionAffinity)&&void 0!==x?x:null),this._scheduleRender()}removeContentWidget(i){this._contentWidgets.removeWidget(i.widget),this._scheduleRender()}addOverlayWidget(i){this._overlayWidgets.addWidget(i.widget),this.layoutOverlayWidget(i),this._scheduleRender()}layoutOverlayWidget(i){this._overlayWidgets.setWidgetPosition(i.widget,i.position?i.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(i){this._overlayWidgets.removeWidget(i.widget),this._scheduleRender()}}var ys=e(76336);class Wr{constructor(i){this._selTrackedRange=null,this._trackSelection=!0,this._setState(i,new ys.rS(new be.e(1,1,1,1),0,new ue.L(1,1),0),new ys.rS(new be.e(1,1,1,1),0,new ue.L(1,1),0))}dispose(i){this._removeTrackedRange(i)}startTrackingSelection(i){this._trackSelection=!0,this._updateTrackedRange(i)}stopTrackingSelection(i){this._trackSelection=!1,this._removeTrackedRange(i)}_updateTrackedRange(i){!this._trackSelection||(this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(i){this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new ys.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(i){const r=i.model._getTrackedRange(this._selTrackedRange);return Ue.Y.fromRange(r,this.modelState.selection.getDirection())}ensureValidState(i){this._setState(i,this.modelState,this.viewState)}setState(i,r,x){this._setState(i,r,x)}static _validatePositionWithCache(i,r,x,W){return r.equals(x)?W:i.normalizePosition(r,2)}static _validateViewState(i,r){const x=r.position,W=r.selectionStart.getStartPosition(),J=r.selectionStart.getEndPosition(),De=i.normalizePosition(x,2),We=this._validatePositionWithCache(i,W,x,De),lt=this._validatePositionWithCache(i,J,W,We);return x.equals(De)&&W.equals(We)&&J.equals(lt)?r:new ys.rS(be.e.fromPositions(We,lt),r.selectionStartLeftoverVisibleColumns+W.column-We.column,De,r.leftoverVisibleColumns+x.column-De.column)}_setState(i,r,x){if(x&&(x=Wr._validateViewState(i.viewModel,x)),r){const W=i.model.validateRange(r.selectionStart),J=r.selectionStart.equalsRange(W)?r.selectionStartLeftoverVisibleColumns:0,De=i.model.validatePosition(r.position),We=r.position.equals(De)?r.leftoverVisibleColumns:0;r=new ys.rS(W,J,De,We)}else{if(!x)return;const W=i.model.validateRange(i.coordinatesConverter.convertViewRangeToModelRange(x.selectionStart)),J=i.model.validatePosition(i.coordinatesConverter.convertViewPositionToModelPosition(x.position));r=new ys.rS(W,x.selectionStartLeftoverVisibleColumns,J,x.leftoverVisibleColumns)}if(x){const W=i.coordinatesConverter.validateViewRange(x.selectionStart,r.selectionStart),J=i.coordinatesConverter.validateViewPosition(x.position,r.position);x=new ys.rS(W,r.selectionStartLeftoverVisibleColumns,J,r.leftoverVisibleColumns)}else{const W=i.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(r.selectionStart.startLineNumber,r.selectionStart.startColumn)),J=i.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(r.selectionStart.endLineNumber,r.selectionStart.endColumn)),De=new be.e(W.lineNumber,W.column,J.lineNumber,J.column),We=i.coordinatesConverter.convertModelPositionToViewPosition(r.position);x=new ys.rS(De,r.selectionStartLeftoverVisibleColumns,We,r.leftoverVisibleColumns)}this.modelState=r,this.viewState=x,this._updateTrackedRange(i)}}class Yr{constructor(i){this.context=i,this.cursors=[new Wr(i)],this.lastAddedCursorIndex=0}dispose(){for(const i of this.cursors)i.dispose(this.context)}startTrackingSelections(){for(const i of this.cursors)i.startTrackingSelection(this.context)}stopTrackingSelections(){for(const i of this.cursors)i.stopTrackingSelection(this.context)}updateContext(i){this.context=i}ensureValidState(){for(const i of this.cursors)i.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(i=>i.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(i=>i.asCursorState())}getViewPositions(){return this.cursors.map(i=>i.viewState.position)}getTopMostViewPosition(){return(0,F.VJ)(this.cursors,(0,F.tT)(i=>i.viewState.position,ue.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,F.jV)(this.cursors,(0,F.tT)(i=>i.viewState.position,ue.L.compare)).viewState.position}getSelections(){return this.cursors.map(i=>i.modelState.selection)}getViewSelections(){return this.cursors.map(i=>i.viewState.selection)}setSelections(i){this.setStates(ys.Vi.fromModelSelections(i))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(i){null!==i&&(this.cursors[0].setState(this.context,i[0].modelState,i[0].viewState),this._setSecondaryStates(i.slice(1)))}_setSecondaryStates(i){const r=this.cursors.length-1,x=i.length;if(r<x){const W=x-r;for(let J=0;J<W;J++)this._addSecondaryCursor()}else if(r>x){const W=r-x;for(let J=0;J<W;J++)this._removeSecondaryCursor(this.cursors.length-2)}for(let W=0;W<x;W++)this.cursors[W+1].setState(this.context,i[W].modelState,i[W].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Wr(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(i){this.lastAddedCursorIndex>=i+1&&this.lastAddedCursorIndex--,this.cursors[i+1].dispose(this.context),this.cursors.splice(i+1,1)}normalize(){if(1===this.cursors.length)return;const i=this.cursors.slice(0),r=[];for(let x=0,W=i.length;x<W;x++)r.push({index:x,selection:i[x].modelState.selection});r.sort((0,F.tT)(x=>x.selection,be.e.compareRangesUsingStarts));for(let x=0;x<r.length-1;x++){const W=r[x],J=r[x+1],De=W.selection,We=J.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let lt;if(lt=We.isEmpty()||De.isEmpty()?We.getStartPosition().isBeforeOrEqual(De.getEndPosition()):We.getStartPosition().isBefore(De.getEndPosition()),lt){const yt=W.index<J.index?x:x+1,Nt=W.index<J.index?x+1:x,Gt=r[Nt].index,an=r[yt].index,un=r[Nt].selection,Wn=r[yt].selection;if(!un.equalsSelection(Wn)){const $n=un.plusRange(Wn),Gn=un.selectionStartLineNumber===un.startLineNumber&&un.selectionStartColumn===un.startColumn,ci=Wn.selectionStartLineNumber===Wn.startLineNumber&&Wn.selectionStartColumn===Wn.startColumn;let mi,Di;Gt===this.lastAddedCursorIndex?(mi=Gn,this.lastAddedCursorIndex=an):mi=ci,Di=mi?new Ue.Y($n.startLineNumber,$n.startColumn,$n.endLineNumber,$n.endColumn):new Ue.Y($n.endLineNumber,$n.endColumn,$n.startLineNumber,$n.startColumn),r[yt].selection=Di;const Ui=ys.Vi.fromModelSelection(Di);i[an].setState(this.context,Ui.modelState,Ui.viewState)}for(const $n of r)$n.index>Gt&&$n.index--;i.splice(Gt,1),r.splice(Nt,1),this._removeSecondaryCursor(Gt-1),x--}}}}class Gi{constructor(i,r,x,W){this._cursorContextBrand=void 0,this.model=i,this.viewModel=r,this.coordinatesConverter=x,this.cursorConfig=W}}var cs=e(8445),qo=e(97979),cr=e(54547);class xa{constructor(){this.type=0}}class Vr{constructor(){this.type=1}}class Ia{constructor(i){this.type=2,this._source=i}hasChanged(i){return this._source.hasChanged(i)}}class Ta{constructor(i,r){this.type=3,this.selections=i,this.modelSelections=r}}class ur{constructor(i){this.type=4,i?(this.affectsMinimap=i.affectsMinimap,this.affectsOverviewRuler=i.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class jr{constructor(){this.type=5}}class zt{constructor(i){this.type=6,this.isFocused=i}}class Pe{constructor(){this.type=7}}class Ye{constructor(){this.type=8}}class xt{constructor(i,r){this.fromLineNumber=i,this.count=r,this.type=9}}class Xt{constructor(i,r){this.type=10,this.fromLineNumber=i,this.toLineNumber=r}}class pn{constructor(i,r){this.type=11,this.fromLineNumber=i,this.toLineNumber=r}}class bn{constructor(i,r,x,W,J,De,We){this.source=i,this.minimalReveal=r,this.range=x,this.selections=W,this.verticalType=J,this.revealHorizontal=De,this.scrollType=We,this.type=12}}class kn{constructor(i){this.type=13,this.scrollWidth=i.scrollWidth,this.scrollLeft=i.scrollLeft,this.scrollHeight=i.scrollHeight,this.scrollTop=i.scrollTop,this.scrollWidthChanged=i.scrollWidthChanged,this.scrollLeftChanged=i.scrollLeftChanged,this.scrollHeightChanged=i.scrollHeightChanged,this.scrollTopChanged=i.scrollTopChanged}}class Xn{constructor(i){this.theme=i,this.type=14}}class Zn{constructor(i){this.type=15,this.ranges=i}}class qn{constructor(){this.type=16}}class ri{constructor(){this.type=17}}class Mi extends H.JT{constructor(){super(),this._onEvent=this._register(new O.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(i){this._addOutgoingEvent(i),this._emitOutgoingEvents()}_addOutgoingEvent(i){for(let r=0,x=this._outgoingEvents.length;r<x;r++){const W=this._outgoingEvents[r].kind===i.kind?this._outgoingEvents[r].attemptToMerge(i):null;if(W)return void(this._outgoingEvents[r]=W)}this._outgoingEvents.push(i)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const i=this._outgoingEvents.shift();i.isNoOp()||this._onEvent.fire(i)}}addViewEventHandler(i){for(let r=0,x=this._eventHandlers.length;r<x;r++)this._eventHandlers[r]===i&&console.warn("Detected duplicate listener in ViewEventDispatcher",i);this._eventHandlers.push(i)}removeViewEventHandler(i){for(let r=0;r<this._eventHandlers.length;r++)if(this._eventHandlers[r]===i){this._eventHandlers.splice(r,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Ni),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const i=this._collector.outgoingEvents,r=this._collector.viewEvents;this._collector=null;for(const x of i)this._addOutgoingEvent(x);r.length>0&&this._emitMany(r)}this._emitOutgoingEvents()}emitSingleViewEvent(i){try{this.beginEmitViewEvents().emitViewEvent(i)}finally{this.endEmitViewEvents()}}_emitMany(i){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(i):i,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const i=this._viewEventQueue;this._viewEventQueue=null;const r=this._eventHandlers.slice(0);for(const x of r)x.handleEvents(i)}}}class Ni{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(i){this.viewEvents.push(i)}emitOutgoingEvent(i){this.outgoingEvents.push(i)}}class Vi{constructor(i,r,x,W){this.kind=0,this._oldContentWidth=i,this._oldContentHeight=r,this.contentWidth=x,this.contentHeight=W,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(i){return i.kind!==this.kind?null:new Vi(this._oldContentWidth,this._oldContentHeight,i.contentWidth,i.contentHeight)}}class Xi{constructor(i,r){this.kind=1,this.oldHasFocus=i,this.hasFocus=r}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(i){return i.kind!==this.kind?null:new Xi(this.oldHasFocus,i.hasFocus)}}class po{constructor(i,r,x,W,J,De,We,lt){this.kind=2,this._oldScrollWidth=i,this._oldScrollLeft=r,this._oldScrollHeight=x,this._oldScrollTop=W,this.scrollWidth=J,this.scrollLeft=De,this.scrollHeight=We,this.scrollTop=lt,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(i){return i.kind!==this.kind?null:new po(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,i.scrollWidth,i.scrollLeft,i.scrollHeight,i.scrollTop)}}class Io{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Ao{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Eo{constructor(i,r,x,W,J,De,We){this.kind=6,this.oldSelections=i,this.selections=r,this.oldModelVersionId=x,this.modelVersionId=W,this.source=J,this.reason=De,this.reachedMaxCursorCount=We}static _selectionsAreEqual(i,r){if(!i&&!r)return!0;if(!i||!r)return!1;const x=i.length;if(x!==r.length)return!1;for(let J=0;J<x;J++)if(!i[J].equalsSelection(r[J]))return!1;return!0}isNoOp(){return Eo._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(i){return i.kind!==this.kind?null:new Eo(this.oldSelections,i.selections,this.oldModelVersionId,i.modelVersionId,i.source,i.reason,this.reachedMaxCursorCount||i.reachedMaxCursorCount)}}class lo{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class $o{constructor(i){this.event=i,this.kind=7}isNoOp(){return!1}attemptToMerge(i){return null}}class Fo{constructor(i){this.event=i,this.kind=8}isNoOp(){return!1}attemptToMerge(i){return null}}class So{constructor(i){this.event=i,this.kind=9}isNoOp(){return!1}attemptToMerge(i){return null}}class io{constructor(i){this.event=i,this.kind=10}isNoOp(){return!1}attemptToMerge(i){return null}}class Lo{constructor(i){this.event=i,this.kind=11}isNoOp(){return!1}attemptToMerge(i){return null}}class zo{constructor(i){this.event=i,this.kind=12}isNoOp(){return!1}attemptToMerge(i){return null}}let Zo=(()=>{class Wt extends H.JT{constructor(r,x,W,J){super(),this._model=r,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=x,this._coordinatesConverter=W,this.context=new Gi(this._model,this._viewModel,this._coordinatesConverter,J),this._cursors=new Yr(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,H.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(r){this.context=new Gi(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors.updateContext(this.context)}onLineMappingChanged(r){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(r,"viewModel",0,this.getCursorStates())}setHasFocus(r){this._hasFocus=r}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const r=this._cursors.getSelections();for(let x=0;x<this._autoClosedActions.length;x++){const W=this._autoClosedActions[x];W.isValid(r)||(W.dispose(),this._autoClosedActions.splice(x,1),x--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(r,x,W,J){let De=!1;null!==J&&J.length>Wt.MAX_CURSOR_COUNT&&(J=J.slice(0,Wt.MAX_CURSOR_COUNT),De=!0);const We=ns.from(this._model,this);return this._cursors.setStates(J),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,x,W,We,De)}setCursorColumnSelectData(r){this._columnSelectData=r}revealPrimary(r,x,W,J,De,We){const lt=this._cursors.getViewPositions();let yt=null,Nt=null;lt.length>1?Nt=this._cursors.getViewSelections():yt=be.e.fromPositions(lt[0],lt[0]),r.emitViewEvent(new bn(x,W,yt,Nt,J,De,We))}saveState(){const r=[],x=this._cursors.getSelections();for(let W=0,J=x.length;W<J;W++){const De=x[W];r.push({inSelectionMode:!De.isEmpty(),selectionStart:{lineNumber:De.selectionStartLineNumber,column:De.selectionStartColumn},position:{lineNumber:De.positionLineNumber,column:De.positionColumn}})}return r}restoreState(r,x){const W=[];for(let J=0,De=x.length;J<De;J++){const We=x[J];let lt=1,yt=1;We.position&&We.position.lineNumber&&(lt=We.position.lineNumber),We.position&&We.position.column&&(yt=We.position.column);let Nt=lt,Gt=yt;We.selectionStart&&We.selectionStart.lineNumber&&(Nt=We.selectionStart.lineNumber),We.selectionStart&&We.selectionStart.column&&(Gt=We.selectionStart.column),W.push({selectionStartLineNumber:Nt,selectionStartColumn:Gt,positionLineNumber:lt,positionColumn:yt})}this.setStates(r,"restoreState",0,ys.Vi.fromModelSelections(W)),this.revealPrimary(r,"restoreState",!1,0,!0,1)}onModelContentChanged(r,x){if(x instanceof cr.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(r,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const W=x.rawContentChangedEvent;if(this._knownModelVersionId=W.versionId,this._isHandling)return;const J=W.containsEvent(1);if(this._prevEditOperationType=0,J)this._cursors.dispose(),this._cursors=new Yr(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,"model",1,null,!1);else if(this._hasFocus&&W.resultingSelection&&W.resultingSelection.length>0){const De=ys.Vi.fromModelSelections(W.resultingSelection);this.setStates(r,"modelChange",W.isUndoing?5:W.isRedoing?6:2,De)&&this.revealPrimary(r,"modelChange",!1,0,!0,0)}else{const De=this._cursors.readSelectionFromMarkers();this.setStates(r,"modelChange",2,ys.Vi.fromModelSelections(De))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const r=this._cursors.getPrimaryCursor(),x=r.viewState.selectionStart.getStartPosition(),W=r.viewState.position;return{isReal:!1,fromViewLineNumber:x.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,x),toViewLineNumber:W.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,W)}}getSelections(){return this._cursors.getSelections()}setSelections(r,x,W,J){this.setStates(r,x,J,ys.Vi.fromModelSelections(W))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(r){this._prevEditOperationType=r}_pushAutoClosedAction(r,x){const W=[],J=[];for(let lt=0,yt=r.length;lt<yt;lt++)W.push({range:r[lt],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),J.push({range:x[lt],options:{description:"auto-closed-enclosing",stickiness:1}});const De=this._model.deltaDecorations([],W),We=this._model.deltaDecorations([],J);this._autoClosedActions.push(new To(this._model,De,We))}_executeEditOperation(r){if(!r)return;r.shouldPushStackElementBefore&&this._model.pushStackElement();const x=as.executeCommands(this._model,this._cursors.getSelections(),r.commands);if(x){this._interpretCommandResult(x);const W=[],J=[];for(let De=0;De<r.commands.length;De++){const We=r.commands[De];We instanceof qo.g_&&We.enclosingRange&&We.closeCharacterRange&&(W.push(We.closeCharacterRange),J.push(We.enclosingRange))}W.length>0&&this._pushAutoClosedAction(W,J),this._prevEditOperationType=r.type}r.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(r){(!r||0===r.length)&&(r=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(r),this._cursors.normalize()}_emitStateChangedIfNecessary(r,x,W,J,De){const We=ns.from(this._model,this);if(We.equals(J))return!1;const lt=this._cursors.getSelections(),yt=this._cursors.getViewSelections();if(r.emitViewEvent(new Ta(yt,lt)),!J||J.cursorState.length!==We.cursorState.length||We.cursorState.some((Nt,Gt)=>!Nt.modelState.equals(J.cursorState[Gt].modelState))){const Nt=J?J.cursorState.map(an=>an.modelState.selection):null;r.emitOutgoingEvent(new Eo(Nt,lt,J?J.modelVersionId:0,We.modelVersionId,x||"keyboard",W,De))}return!0}_findAutoClosingPairs(r){if(!r.length)return null;const x=[];for(let W=0,J=r.length;W<J;W++){const De=r[W];if(!De.text||De.text.indexOf("\n")>=0)return null;const We=De.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!We)return null;const yt=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(We[1]);if(!yt||1!==yt.length)return null;const Gt=De.text.length-We[2].length-1,an=De.text.lastIndexOf(yt[0].open,Gt-1);if(-1===an)return null;x.push([an,Gt])}return x}executeEdits(r,x,W,J){let De=null;"snippet"===x&&(De=this._findAutoClosingPairs(W)),De&&(W[0]._isTracked=!0);const We=[],lt=[],yt=this._model.pushEditOperations(this.getSelections(),W,Nt=>{if(De)for(let an=0,un=De.length;an<un;an++){const[Wn,$n]=De[an],Gn=Nt[an],ci=Gn.range.startLineNumber,mi=Gn.range.startColumn-1+Wn,Di=Gn.range.startColumn-1+$n;We.push(new be.e(ci,Di+1,ci,Di+2)),lt.push(new be.e(ci,mi+1,ci,Di+2))}const Gt=J(Nt);return Gt&&(this._isHandling=!0),Gt});yt&&(this._isHandling=!1,this.setSelections(r,x,yt,0)),We.length>0&&this._pushAutoClosedAction(We,lt)}_executeEdit(r,x,W,J=0){if(this.context.cursorConfig.readOnly)return;const De=ns.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),r()}catch(We){(0,P.dL)(We)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(x,W,J,De,!1)&&this.revealPrimary(x,W,!1,0,!0,0)}getAutoClosedCharacters(){return To.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(r){this._compositionState=new es(this._model,this.getSelections())}endComposition(r,x){const W=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{"keyboard"===x&&this._executeEditOperation(qo.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,W,this.getSelections(),this.getAutoClosedCharacters()))},r,x)}type(r,x,W){this._executeEdit(()=>{if("keyboard"===W){const J=x.length;let De=0;for(;De<J;){const We=gn.vH(x,De),lt=x.substr(De,We);this._executeEditOperation(qo.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),lt)),De+=We}}else this._executeEditOperation(qo.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),x))},r,W)}compositionType(r,x,W,J,De,We){if(0!==x.length||0!==W||0!==J)this._executeEdit(()=>{this._executeEditOperation(qo.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),x,W,J,De))},r,We);else if(0!==De){const lt=this.getSelections().map(yt=>{const Nt=yt.getPosition();return new Ue.Y(Nt.lineNumber,Nt.column+De,Nt.lineNumber,Nt.column+De)});this.setSelections(r,We,lt,0)}}paste(r,x,W,J,De){this._executeEdit(()=>{this._executeEditOperation(qo.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),x,W,J||[]))},r,De,4)}cut(r,x){this._executeEdit(()=>{this._executeEditOperation(cs.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},r,x)}executeCommand(r,x,W){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ys.Tp(0,[x],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,W)}executeCommands(r,x,W){this._executeEdit(()=>{this._executeEditOperation(new ys.Tp(0,x,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,W)}}return Wt.MAX_CURSOR_COUNT=1e4,Wt})();class ns{constructor(i,r){this.modelVersionId=i,this.cursorState=r}static from(i,r){return new ns(i.getVersionId(),r.getCursorStates())}equals(i){if(!i||this.modelVersionId!==i.modelVersionId||this.cursorState.length!==i.cursorState.length)return!1;for(let r=0,x=this.cursorState.length;r<x;r++)if(!this.cursorState[r].equals(i.cursorState[r]))return!1;return!0}}class To{constructor(i,r,x){this._model=i,this._autoClosedCharactersDecorations=r,this._autoClosedEnclosingDecorations=x}static getAllAutoClosedCharacters(i){let r=[];for(const x of i)r=r.concat(x.getAutoClosedCharactersRanges());return r}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const i=[];for(let r=0;r<this._autoClosedCharactersDecorations.length;r++){const x=this._model.getDecorationRange(this._autoClosedCharactersDecorations[r]);x&&i.push(x)}return i}isValid(i){const r=[];for(let x=0;x<this._autoClosedEnclosingDecorations.length;x++){const W=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[x]);if(W&&(r.push(W),W.startLineNumber!==W.endLineNumber))return!1}r.sort(be.e.compareRangesUsingStarts),i.sort(be.e.compareRangesUsingStarts);for(let x=0;x<i.length;x++)if(x>=r.length||!r[x].strictContainsRange(i[x]))return!1;return!0}}class as{static executeCommands(i,r,x){const W={model:i,selectionsBefore:r,trackedRanges:[],trackedRangesDirection:[]},J=this._innerExecuteCommands(W,x);for(let De=0,We=W.trackedRanges.length;De<We;De++)W.model._setTrackedRange(W.trackedRanges[De],null,0);return J}static _innerExecuteCommands(i,r){if(this._arrayIsEmpty(r))return null;const x=this._getEditOperations(i,r);if(0===x.operations.length)return null;const W=x.operations,J=this._getLoserCursorMap(W);if(J.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const De=[];for(let yt=0,Nt=W.length;yt<Nt;yt++)J.hasOwnProperty(W[yt].identifier.major.toString())||De.push(W[yt]);x.hadTrackedEditOperation&&De.length>0&&(De[0]._isTracked=!0);let We=i.model.pushEditOperations(i.selectionsBefore,De,yt=>{const Nt=[];for(let un=0;un<i.selectionsBefore.length;un++)Nt[un]=[];for(const un of yt)!un.identifier||Nt[un.identifier.major].push(un);const Gt=(un,Wn)=>un.identifier.minor-Wn.identifier.minor,an=[];for(let un=0;un<i.selectionsBefore.length;un++)Nt[un].length>0?(Nt[un].sort(Gt),an[un]=r[un].computeCursorState(i.model,{getInverseEditOperations:()=>Nt[un],getTrackedSelection:Wn=>{const $n=parseInt(Wn,10),Gn=i.model._getTrackedRange(i.trackedRanges[$n]);return 0===i.trackedRangesDirection[$n]?new Ue.Y(Gn.startLineNumber,Gn.startColumn,Gn.endLineNumber,Gn.endColumn):new Ue.Y(Gn.endLineNumber,Gn.endColumn,Gn.startLineNumber,Gn.startColumn)}})):an[un]=i.selectionsBefore[un];return an});We||(We=i.selectionsBefore);const lt=[];for(const yt in J)J.hasOwnProperty(yt)&&lt.push(parseInt(yt,10));lt.sort((yt,Nt)=>Nt-yt);for(const yt of lt)We.splice(yt,1);return We}static _arrayIsEmpty(i){for(let r=0,x=i.length;r<x;r++)if(i[r])return!1;return!0}static _getEditOperations(i,r){let x=[],W=!1;for(let J=0,De=r.length;J<De;J++){const We=r[J];if(We){const lt=this._getEditOperationsFromCommand(i,J,We);x=x.concat(lt.operations),W=W||lt.hadTrackedEditOperation}}return{operations:x,hadTrackedEditOperation:W}}static _getEditOperationsFromCommand(i,r,x){const W=[];let J=0;const De=(Gt,an,un=!1)=>{be.e.isEmpty(Gt)&&""===an||W.push({identifier:{major:r,minor:J++},range:Gt,text:an,forceMoveMarkers:un,isAutoWhitespaceEdit:x.insertsAutoWhitespace})};let We=!1;const Nt={addEditOperation:De,addTrackedEditOperation:(Gt,an,un)=>{We=!0,De(Gt,an,un)},trackSelection:(Gt,an)=>{const un=Ue.Y.liftSelection(Gt);let Wn;if(un.isEmpty())if("boolean"==typeof an)Wn=an?2:3;else{const ci=i.model.getLineMaxColumn(un.startLineNumber);Wn=un.startColumn===ci?2:3}else Wn=1;const $n=i.trackedRanges.length,Gn=i.model._setTrackedRange(null,un,Wn);return i.trackedRanges[$n]=Gn,i.trackedRangesDirection[$n]=un.getDirection(),$n.toString()}};try{x.getEditOperations(i.model,Nt)}catch(Gt){return(0,P.dL)(Gt),{operations:[],hadTrackedEditOperation:!1}}return{operations:W,hadTrackedEditOperation:We}}static _getLoserCursorMap(i){(i=i.slice(0)).sort((x,W)=>-be.e.compareRangesUsingEnds(x.range,W.range));const r={};for(let x=1;x<i.length;x++){const W=i[x-1],J=i[x];if(be.e.getStartPosition(W.range).isBefore(be.e.getEndPosition(J.range))){let De;De=W.identifier.major>J.identifier.major?W.identifier.major:J.identifier.major,r[De.toString()]=!0;for(let We=0;We<i.length;We++)i[We].identifier.major===De&&(i.splice(We,1),We<x&&x--,We--);x>0&&x--}}return r}}class zs{constructor(i,r,x){this.text=i,this.startSelection=r,this.endSelection=x}}class es{constructor(i,r){this._original=es._capture(i,r)}static _capture(i,r){const x=[];for(const W of r){if(W.startLineNumber!==W.endLineNumber)return null;x.push(new zs(i.getLineContent(W.startLineNumber),W.startColumn-1,W.endColumn-1))}return x}deduceOutcome(i,r){if(!this._original)return null;const x=es._capture(i,r);if(!x||this._original.length!==x.length)return null;const W=[];for(let J=0,De=this._original.length;J<De;J++)W.push(es._deduceOutcome(this._original[J],x[J]));return W}static _deduceOutcome(i,r){const x=Math.min(i.startSelection,r.startSelection,gn.Mh(i.text,r.text)),W=Math.min(i.text.length-i.endSelection,r.text.length-r.endSelection,gn.P1(i.text,r.text)),J=i.text.substring(x,i.text.length-W),De=r.text.substring(x,r.text.length-W);return new qo.Nu(J,i.startSelection-x,i.endSelection-x,De,r.startSelection-x,r.endSelection-x)}}var Gs=e(58397),Ks=e(22859),Bo=e(82290),ws=e(59758),Ii=e(72188),Mr=e(90076),_r=e(87188);class ls{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(i){this._hasPending=!0,this._inserts.push(i)}change(i){this._hasPending=!0,this._changes.push(i)}remove(i){this._hasPending=!0,this._removes.push(i)}mustCommit(){return this._hasPending}commit(i){if(!this._hasPending)return;const r=this._inserts,x=this._changes,W=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],i._commitPendingChanges(r,x,W)}}class tl{constructor(i,r,x,W,J){this.id=i,this.afterLineNumber=r,this.ordinal=x,this.height=W,this.minWidth=J,this.prefixSum=0}}let Ma=(()=>{class Wt{constructor(r,x,W,J){this._instanceId=gn.PJ(++Wt.INSTANCE_COUNT),this._pendingChanges=new ls,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=r,this._lineHeight=x,this._paddingTop=W,this._paddingBottom=J}static findInsertionIndex(r,x,W){let J=0,De=r.length;for(;J<De;){const We=J+De>>>1;x===r[We].afterLineNumber?W<r[We].ordinal?De=We:J=We+1:x<r[We].afterLineNumber?De=We:J=We+1}return J}setLineHeight(r){this._checkPendingChanges(),this._lineHeight=r}setPadding(r,x){this._paddingTop=r,this._paddingBottom=x}onFlushed(r){this._checkPendingChanges(),this._lineCount=r}changeWhitespace(r){let x=!1;try{r({insertWhitespace:(J,De,We,lt)=>{x=!0,J|=0,De|=0,We|=0,lt|=0;const yt=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new tl(yt,J,De,We,lt)),yt},changeOneWhitespace:(J,De,We)=>{x=!0,this._pendingChanges.change({id:J,newAfterLineNumber:De|=0,newHeight:We|=0})},removeWhitespace:J=>{x=!0,this._pendingChanges.remove({id:J})}})}finally{this._pendingChanges.commit(this)}return x}_commitPendingChanges(r,x,W){if((r.length>0||W.length>0)&&(this._minWidth=-1),r.length+x.length+W.length<=1){for(const yt of r)this._insertWhitespace(yt);for(const yt of x)this._changeOneWhitespace(yt.id,yt.newAfterLineNumber,yt.newHeight);for(const yt of W){const Nt=this._findWhitespaceIndex(yt.id);-1!==Nt&&this._removeWhitespace(Nt)}return}const J=new Set;for(const yt of W)J.add(yt.id);const De=new Map;for(const yt of x)De.set(yt.id,yt);const We=yt=>{const Nt=[];for(const Gt of yt)if(!J.has(Gt.id)){if(De.has(Gt.id)){const an=De.get(Gt.id);Gt.afterLineNumber=an.newAfterLineNumber,Gt.height=an.newHeight}Nt.push(Gt)}return Nt},lt=We(this._arr).concat(We(r));lt.sort((yt,Nt)=>yt.afterLineNumber===Nt.afterLineNumber?yt.ordinal-Nt.ordinal:yt.afterLineNumber-Nt.afterLineNumber),this._arr=lt,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(r){const x=Wt.findInsertionIndex(this._arr,r.afterLineNumber,r.ordinal);this._arr.splice(x,0,r),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,x-1)}_findWhitespaceIndex(r){const x=this._arr;for(let W=0,J=x.length;W<J;W++)if(x[W].id===r)return W;return-1}_changeOneWhitespace(r,x,W){const J=this._findWhitespaceIndex(r);if(-1!==J&&(this._arr[J].height!==W&&(this._arr[J].height=W,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,J-1)),this._arr[J].afterLineNumber!==x)){const De=this._arr[J];this._removeWhitespace(J),De.afterLineNumber=x,this._insertWhitespace(De)}}_removeWhitespace(r){this._arr.splice(r,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)}onLinesDeleted(r,x){this._checkPendingChanges(),this._lineCount-=(x|=0)-(r|=0)+1;for(let W=0,J=this._arr.length;W<J;W++){const De=this._arr[W].afterLineNumber;r<=De&&De<=x?this._arr[W].afterLineNumber=r-1:De>x&&(this._arr[W].afterLineNumber-=x-r+1)}}onLinesInserted(r,x){this._checkPendingChanges(),this._lineCount+=(x|=0)-(r|=0)+1;for(let W=0,J=this._arr.length;W<J;W++)r<=this._arr[W].afterLineNumber&&(this._arr[W].afterLineNumber+=x-r+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(r){this._checkPendingChanges(),r|=0;let x=Math.max(0,this._prefixSumValidIndex+1);0===x&&(this._arr[0].prefixSum=this._arr[0].height,x++);for(let W=x;W<=r;W++)this._arr[W].prefixSum=this._arr[W-1].prefixSum+this._arr[W].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,r),this._arr[r].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(r){this._checkPendingChanges();const x=this._findLastWhitespaceBeforeLineNumber(r|=0);return-1===x?0:this.getWhitespacesAccumulatedHeight(x)}_findLastWhitespaceBeforeLineNumber(r){r|=0;const x=this._arr;let W=0,J=x.length-1;for(;W<=J;){const lt=W+((J-W|0)/2|0)|0;if(x[lt].afterLineNumber<r){if(lt+1>=x.length||x[lt+1].afterLineNumber>=r)return lt;W=lt+1|0}else J=lt-1|0}return-1}_findFirstWhitespaceAfterLineNumber(r){const W=this._findLastWhitespaceBeforeLineNumber(r|=0)+1;return W<this._arr.length?W:-1}getFirstWhitespaceIndexAfterLineNumber(r){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(r|=0)}getVerticalOffsetForLineNumber(r,x=!1){let W;return this._checkPendingChanges(),W=(r|=0)>1?this._lineHeight*(r-1):0,W+this.getWhitespaceAccumulatedHeightBeforeLineNumber(r-(x?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(r,x=!1){return this._checkPendingChanges(),this._lineHeight*(r|=0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(r+(x?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let r=0;for(let x=0,W=this._arr.length;x<W;x++)r=Math.max(r,this._arr[x].minWidth);this._minWidth=r}return this._minWidth}isAfterLines(r){return this._checkPendingChanges(),r>this.getLinesTotalHeight()}isInTopPadding(r){return 0!==this._paddingTop&&(this._checkPendingChanges(),r<this._paddingTop)}isInBottomPadding(r){return 0!==this._paddingBottom&&(this._checkPendingChanges(),r>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(r){if(this._checkPendingChanges(),(r|=0)<0)return 1;const x=0|this._lineCount,W=this._lineHeight;let J=1,De=x;for(;J<De;){const We=(J+De)/2|0,lt=0|this.getVerticalOffsetForLineNumber(We);if(r>=lt+W)J=We+1;else{if(r>=lt)return We;De=We}}return J>x?x:J}getLinesViewportData(r,x){this._checkPendingChanges(),x|=0;const W=this._lineHeight,J=0|this.getLineNumberAtOrAfterVerticalOffset(r|=0),De=0|this.getVerticalOffsetForLineNumber(J);let We=0|this._lineCount,lt=0|this.getFirstWhitespaceIndexAfterLineNumber(J);const yt=0|this.getWhitespacesCount();let Nt,Gt;-1===lt?(lt=yt,Gt=We+1,Nt=0):(Gt=0|this.getAfterLineNumberForWhitespaceIndex(lt),Nt=0|this.getHeightForWhitespaceIndex(lt));let an=De,un=an;const Wn=5e5;let $n=0;De>=Wn&&($n=Math.floor(De/Wn)*Wn,$n=Math.floor($n/W)*W,un-=$n);const Gn=[],ci=r+(x-r)/2;let mi=-1;for(let zi=J;zi<=We;zi++){if(-1===mi){const Ji=an,Qi=an+W;(Ji<=ci&&ci<Qi||Ji>ci)&&(mi=zi)}for(an+=W,Gn[zi-J]=un,un+=W;Gt===zi;)un+=Nt,an+=Nt,lt++,lt>=yt?Gt=We+1:(Gt=0|this.getAfterLineNumberForWhitespaceIndex(lt),Nt=0|this.getHeightForWhitespaceIndex(lt));if(an>=x){We=zi;break}}-1===mi&&(mi=We);const Di=0|this.getVerticalOffsetForLineNumber(We);let Ui=J,eo=We;return Ui<eo&&De<r&&Ui++,Ui<eo&&Di+W>x&&eo--,{bigNumbersDelta:$n,startLineNumber:J,endLineNumber:We,relativeVerticalOffset:Gn,centeredLineNumber:mi,completelyVisibleStartLineNumber:Ui,completelyVisibleEndLineNumber:eo}}getVerticalOffsetForWhitespaceIndex(r){this._checkPendingChanges();const x=this.getAfterLineNumberForWhitespaceIndex(r|=0);let W,J;return W=x>=1?this._lineHeight*x:0,J=r>0?this.getWhitespacesAccumulatedHeight(r-1):0,W+J+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(r){this._checkPendingChanges(),r|=0;let x=0,W=this.getWhitespacesCount()-1;if(W<0)return-1;if(r>=this.getVerticalOffsetForWhitespaceIndex(W)+this.getHeightForWhitespaceIndex(W))return-1;for(;x<W;){const We=Math.floor((x+W)/2),lt=this.getVerticalOffsetForWhitespaceIndex(We);if(r>=lt+this.getHeightForWhitespaceIndex(We))x=We+1;else{if(r>=lt)return We;W=We}}return x}getWhitespaceAtVerticalOffset(r){this._checkPendingChanges();const x=this.getWhitespaceIndexAtOrAfterVerticallOffset(r|=0);if(x<0||x>=this.getWhitespacesCount())return null;const W=this.getVerticalOffsetForWhitespaceIndex(x);if(W>r)return null;const J=this.getHeightForWhitespaceIndex(x);return{id:this.getIdForWhitespaceIndex(x),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(x),verticalOffset:W,height:J}}getWhitespaceViewportData(r,x){this._checkPendingChanges(),x|=0;const W=this.getWhitespaceIndexAtOrAfterVerticallOffset(r|=0),J=this.getWhitespacesCount()-1;if(W<0)return[];const De=[];for(let We=W;We<=J;We++){const lt=this.getVerticalOffsetForWhitespaceIndex(We),yt=this.getHeightForWhitespaceIndex(We);if(lt>=x)break;De.push({id:this.getIdForWhitespaceIndex(We),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(We),verticalOffset:lt,height:yt})}return De}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(r){return this._checkPendingChanges(),this._arr[r|=0].id}getAfterLineNumberForWhitespaceIndex(r){return this._checkPendingChanges(),this._arr[r|=0].afterLineNumber}getHeightForWhitespaceIndex(r){return this._checkPendingChanges(),this._arr[r|=0].height}}return Wt.INSTANCE_COUNT=0,Wt})();class Aa{constructor(i,r,x,W){(i|=0)<0&&(i=0),(r|=0)<0&&(r=0),(x|=0)<0&&(x=0),(W|=0)<0&&(W=0),this.width=i,this.contentWidth=r,this.scrollWidth=Math.max(i,r),this.height=x,this.contentHeight=W,this.scrollHeight=Math.max(x,W)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class ml extends H.JT{constructor(i,r){super(),this._onDidContentSizeChange=this._register(new O.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Aa(0,0,0,0),this._scrollable=this._register(new _r.Rm({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:r})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const r=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0),(r.contentWidth!==i.contentWidth||r.contentHeight!==i.contentHeight)&&this._onDidContentSizeChange.fire(new Vi(r.contentWidth,r.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}}class pl extends H.JT{constructor(i,r,x){super(),this._configuration=i;const W=this._configuration.options,J=W.get(133),De=W.get(77);this._linesLayout=new Ma(r,W.get(61),De.top,De.bottom),this._scrollable=this._register(new ml(0,x)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Aa(J.contentWidth,0,J.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?125:0)}onConfigurationChanged(i){const r=this._configuration.options;if(i.hasChanged(61)&&this._linesLayout.setLineHeight(r.get(61)),i.hasChanged(77)){const x=r.get(77);this._linesLayout.setPadding(x.top,x.bottom)}if(i.hasChanged(133)){const x=r.get(133),W=x.contentWidth,J=x.height,De=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Aa(W,De.contentWidth,J,this._getContentHeight(W,J,De.contentWidth)))}else this._updateHeight();i.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,r){this._linesLayout.onLinesDeleted(i,r)}onLinesInserted(i,r){this._linesLayout.onLinesInserted(i,r)}_getHorizontalScrollbarHeight(i,r){const W=this._configuration.options.get(94);return 2===W.horizontal||i>=r?0:W.horizontalScrollbarSize}_getContentHeight(i,r,x){const W=this._configuration.options;let J=this._linesLayout.getLinesTotalHeight();return W.get(96)?J+=Math.max(0,r-W.get(61)-W.get(77).bottom):J+=this._getHorizontalScrollbarHeight(i,x),J}_updateHeight(){const i=this._scrollable.getScrollDimensions(),r=i.width,x=i.height;this._scrollable.setScrollDimensions(new Aa(r,i.contentWidth,x,this._getContentHeight(r,x,i.contentWidth)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),r=this._scrollable.getCurrentScrollPosition();return new Ps.l_(r.scrollTop,r.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),r=this._scrollable.getFutureScrollPosition();return new Ps.l_(r.scrollTop,r.scrollLeft,i.width,i.height)}_computeContentWidth(i){const r=this._configuration.options,x=r.get(134),W=r.get(46),J=r.get(133);if(x.isViewportWrapping){const De=r.get(67);return i>J.contentWidth+W.typicalHalfwidthCharacterWidth&&De.enabled&&"right"===De.side?i+J.verticalScrollbarWidth:i}{const De=r.get(95)*W.typicalHalfwidthCharacterWidth,We=this._linesLayout.getWhitespaceMinWidth();return Math.max(i+De+J.verticalScrollbarWidth,We)}}setMaxLineWidth(i){const r=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Aa(r.width,this._computeContentWidth(i),r.height,r.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),r=i.scrollTop,x=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(r);return{scrollTop:r,scrollTopWithoutViewZones:r-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(x),scrollLeft:i.scrollLeft}}changeWhitespace(i){const r=this._linesLayout.changeWhitespace(i);return r&&this.onHeightMaybeChanged(),r}getVerticalOffsetForLineNumber(i,r=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,r)}getVerticalOffsetAfterLineNumber(i,r=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,r)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const r=this._scrollable.getScrollDimensions();return i+r.height>r.scrollHeight&&(i=r.scrollHeight-r.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+r.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,r){1===r?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}deltaScrollNow(i,r){const x=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:x.scrollLeft+i,scrollTop:x.scrollTop+r})}}var _l=e(53931),Ol=e(71513);function ga(Wt,i){return null===Wt?i?Hr.INSTANCE:il.INSTANCE:new zr(Wt,i)}class zr{constructor(i,r){this._projectionData=i,this._isVisible=r}isVisible(){return this._isVisible}setVisible(i){return this._isVisible=i,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(i,r,x){this._assertVisible();const W=x>0?this._projectionData.breakOffsets[x-1]:0,J=this._projectionData.breakOffsets[x];let De;if(null!==this._projectionData.injectionOffsets){const We=this._projectionData.injectionOffsets.map((yt,Nt)=>new cr.gk(0,0,yt+1,this._projectionData.injectionOptions[Nt],0));De=cr.gk.applyInjectedText(i.getLineContent(r),We).substring(W,J)}else De=i.getValueInRange({startLineNumber:r,startColumn:W+1,endLineNumber:r,endColumn:J+1});return x>0&&(De=ol(this._projectionData.wrappedTextIndentLength)+De),De}getViewLineLength(i,r,x){return this._assertVisible(),this._projectionData.getLineLength(x)}getViewLineMinColumn(i,r,x){return this._assertVisible(),this._projectionData.getMinOutputOffset(x)+1}getViewLineMaxColumn(i,r,x){return this._assertVisible(),this._projectionData.getMaxOutputOffset(x)+1}getViewLineData(i,r,x){const W=new Array;return this.getViewLinesData(i,r,x,1,0,[!0],W),W[0]}getViewLinesData(i,r,x,W,J,De,We){this._assertVisible();const lt=this._projectionData,yt=lt.injectionOffsets,Nt=lt.injectionOptions;let an,Gt=null;if(yt){Gt=[];let un=0,Wn=0;for(let $n=0;$n<lt.getOutputLineCount();$n++){const Gn=new Array;Gt[$n]=Gn;const ci=$n>0?lt.breakOffsets[$n-1]:0,mi=lt.breakOffsets[$n];for(;Wn<yt.length;){const Di=Nt[Wn].content.length,Ui=yt[Wn]+un,eo=Ui+Di;if(Ui>mi)break;if(ci<eo){const zi=Nt[Wn];if(zi.inlineClassName){const Ji=$n>0?lt.wrappedTextIndentLength:0,Qi=Ji+Math.max(Ui-ci,0),fo=Ji+Math.min(eo-ci,mi);Qi!==fo&&Gn.push(new Ps.Wx(Qi,fo,zi.inlineClassName,zi.inlineClassNameAffectsLetterSpacing))}}if(!(eo<=mi))break;un+=Di,Wn++}}}an=yt?i.tokenization.getLineTokens(r).withInserted(yt.map((un,Wn)=>({offset:un,text:Nt[Wn].content,tokenMetadata:Ol.A.defaultTokenMetadata}))):i.tokenization.getLineTokens(r);for(let un=x;un<x+W;un++){const Wn=J+un-x;We[Wn]=De[Wn]?this._getViewLineData(an,Gt?Gt[un]:null,un):null}}_getViewLineData(i,r,x){this._assertVisible();const W=this._projectionData,lt=i.sliceAndInflate(x>0?W.breakOffsets[x-1]:0,W.breakOffsets[x],x>0?W.wrappedTextIndentLength:0);let yt=lt.getLineContent();x>0&&(yt=ol(W.wrappedTextIndentLength)+yt);const Nt=this._projectionData.getMinOutputOffset(x)+1,Gt=yt.length+1,an=x+1<this.getViewLineCount();return new Ps.IP(yt,an,Nt,Gt,0===x?0:W.breakOffsetsVisibleColumn[x-1],lt,r)}getModelColumnOfViewPosition(i,r){return this._assertVisible(),this._projectionData.translateToInputOffset(i,r-1)+1}getViewPositionOfModelPosition(i,r,x=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(r-1,x).toPosition(i)}getViewLineNumberOfModelPosition(i,r){return this._assertVisible(),i+this._projectionData.translateToOutputPosition(r-1).outputLineIndex}normalizePosition(i,r,x){const W=r.lineNumber-i;return this._projectionData.normalizeOutputPosition(i,r.column-1,x).toPosition(W)}getInjectedTextAt(i,r){return this._projectionData.getInjectedText(i,r-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Hr{constructor(){}isVisible(){return!0}setVisible(i){return i?this:il.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(i,r,x){return i.getLineContent(r)}getViewLineLength(i,r,x){return i.getLineLength(r)}getViewLineMinColumn(i,r,x){return i.getLineMinColumn(r)}getViewLineMaxColumn(i,r,x){return i.getLineMaxColumn(r)}getViewLineData(i,r,x){const W=i.tokenization.getLineTokens(r),J=W.getLineContent();return new Ps.IP(J,!1,1,J.length+1,0,W.inflate(),null)}getViewLinesData(i,r,x,W,J,De,We){We[J]=De[J]?this.getViewLineData(i,r,0):null}getModelColumnOfViewPosition(i,r){return r}getViewPositionOfModelPosition(i,r){return new ue.L(i,r)}getViewLineNumberOfModelPosition(i,r){return i}normalizePosition(i,r,x){return r}getInjectedTextAt(i,r){return null}}Hr.INSTANCE=new Hr;class il{constructor(){}isVisible(){return!1}setVisible(i){return i?Hr.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(i,r,x){throw new Error("Not supported")}getViewLineLength(i,r,x){throw new Error("Not supported")}getViewLineMinColumn(i,r,x){throw new Error("Not supported")}getViewLineMaxColumn(i,r,x){throw new Error("Not supported")}getViewLineData(i,r,x){throw new Error("Not supported")}getViewLinesData(i,r,x,W,J,De,We){throw new Error("Not supported")}getModelColumnOfViewPosition(i,r){throw new Error("Not supported")}getViewPositionOfModelPosition(i,r){throw new Error("Not supported")}getViewLineNumberOfModelPosition(i,r){throw new Error("Not supported")}normalizePosition(i,r,x){throw new Error("Not supported")}getInjectedTextAt(i,r){throw new Error("Not supported")}}il.INSTANCE=new il;const Fi=[""];function ol(Wt){if(Wt>=Fi.length)for(let i=1;i<=Wt;i++)Fi[i]=Xr(i);return Fi[Wt]}function Xr(Wt){return new Array(Wt+1).join(" ")}var Pa=e(88598);class Is{constructor(i,r,x,W,J,De,We,lt,yt){this._editorId=i,this.model=r,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=x,this._monospaceLineBreaksComputerFactory=W,this.fontInfo=J,this.tabSize=De,this.wrappingStrategy=We,this.wrappingColumn=lt,this.wrappingIndent=yt,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new la(this)}_constructLines(i,r){this.modelLineProjections=[],i&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const x=this.model.getLinesContent(),W=this.model.getInjectedTextDecorations(this._editorId),J=x.length,De=this.createLineBreaksComputer(),We=new F.H9(cr.gk.fromDecorations(W));for(let $n=0;$n<J;$n++){const Gn=We.takeWhile(ci=>ci.lineNumber===$n+1);De.addRequest(x[$n],Gn,r?r[$n]:null)}const lt=De.finalize(),yt=[],Nt=this.hiddenAreasDecorationIds.map($n=>this.model.getDecorationRange($n)).sort(be.e.compareRangesUsingStarts);let Gt=1,an=0,un=-1,Wn=un+1<Nt.length?an+1:J+2;for(let $n=0;$n<J;$n++){const Gn=$n+1;Gn===Wn&&(un++,Gt=Nt[un].startLineNumber,an=Nt[un].endLineNumber,Wn=un+1<Nt.length?an+1:J+2);const mi=ga(lt[$n],!(Gn>=Gt&&Gn<=an));yt[$n]=mi.getViewLineCount(),this.modelLineProjections[$n]=mi}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Pa.Ck(yt)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(i=>this.model.getDecorationRange(i))}setHiddenAreas(i){const x=function Vo(Wt){if(0===Wt.length)return[];const i=Wt.slice();i.sort(be.e.compareRangesUsingStarts);const r=[];let x=i[0].startLineNumber,W=i[0].endLineNumber;for(let J=1,De=i.length;J<De;J++){const We=i[J];We.startLineNumber>W+1?(r.push(new be.e(x,1,W,1)),x=We.startLineNumber,W=We.endLineNumber):We.endLineNumber>W&&(W=We.endLineNumber)}return r.push(new be.e(x,1,W,1)),r}(i.map(an=>this.model.validateRange(an))),W=this.hiddenAreasDecorationIds.map(an=>this.model.getDecorationRange(an)).sort(be.e.compareRangesUsingStarts);if(x.length===W.length){let an=!1;for(let un=0;un<x.length;un++)if(!x[un].equalsRange(W[un])){an=!0;break}if(!an)return!1}const J=x.map(an=>({range:an,options:ws.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,J);const De=x;let We=1,lt=0,yt=-1,Nt=yt+1<De.length?lt+1:this.modelLineProjections.length+2,Gt=!1;for(let an=0;an<this.modelLineProjections.length;an++){const un=an+1;un===Nt&&(yt++,We=De[yt].startLineNumber,lt=De[yt].endLineNumber,Nt=yt+1<De.length?lt+1:this.modelLineProjections.length+2);let Wn=!1;if(un>=We&&un<=lt?this.modelLineProjections[an].isVisible()&&(this.modelLineProjections[an]=this.modelLineProjections[an].setVisible(!1),Wn=!0):(Gt=!0,this.modelLineProjections[an].isVisible()||(this.modelLineProjections[an]=this.modelLineProjections[an].setVisible(!0),Wn=!0)),Wn){const $n=this.modelLineProjections[an].getViewLineCount();this.projectedModelLineLineCounts.setValue(an,$n)}}return Gt||this.setHiddenAreas([]),!0}modelPositionIsVisible(i,r){return!(i<1||i>this.modelLineProjections.length)&&this.modelLineProjections[i-1].isVisible()}getModelLineViewLineCount(i){return i<1||i>this.modelLineProjections.length?1:this.modelLineProjections[i-1].getViewLineCount()}setTabSize(i){return this.tabSize!==i&&(this.tabSize=i,this._constructLines(!1,null),!0)}setWrappingSettings(i,r,x,W){const J=this.fontInfo.equals(i),De=this.wrappingStrategy===r,We=this.wrappingColumn===x,lt=this.wrappingIndent===W;if(J&&De&&We&&lt)return!1;const yt=J&&De&&!We&&lt;this.fontInfo=i,this.wrappingStrategy=r,this.wrappingColumn=x,this.wrappingIndent=W;let Nt=null;if(yt){Nt=[];for(let Gt=0,an=this.modelLineProjections.length;Gt<an;Gt++)Nt[Gt]=this.modelLineProjections[Gt].getProjectionData()}return this._constructLines(!1,Nt),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(i,r,x){if(!i||i<=this._validModelVersionId)return null;const W=1===r?1:this.projectedModelLineLineCounts.getPrefixSum(r-1)+1,J=this.projectedModelLineLineCounts.getPrefixSum(x);return this.modelLineProjections.splice(r-1,x-r+1),this.projectedModelLineLineCounts.removeValues(r-1,x-r+1),new Xt(W,J)}onModelLinesInserted(i,r,x,W){if(!i||i<=this._validModelVersionId)return null;const J=r>2&&!this.modelLineProjections[r-2].isVisible(),De=1===r?1:this.projectedModelLineLineCounts.getPrefixSum(r-1)+1;let We=0;const lt=[],yt=[];for(let Nt=0,Gt=W.length;Nt<Gt;Nt++){const an=ga(W[Nt],!J);lt.push(an);const un=an.getViewLineCount();We+=un,yt[Nt]=un}return this.modelLineProjections=this.modelLineProjections.slice(0,r-1).concat(lt).concat(this.modelLineProjections.slice(r-1)),this.projectedModelLineLineCounts.insertValues(r-1,yt),new pn(De,De+We-1)}onModelLineChanged(i,r,x){if(null!==i&&i<=this._validModelVersionId)return[!1,null,null,null];const W=r-1,J=this.modelLineProjections[W].getViewLineCount(),We=ga(x,this.modelLineProjections[W].isVisible());this.modelLineProjections[W]=We;const lt=this.modelLineProjections[W].getViewLineCount();let yt=!1,Nt=0,Gt=-1,an=0,un=-1,Wn=0,$n=-1;return J>lt?(Nt=this.projectedModelLineLineCounts.getPrefixSum(r-1)+1,Gt=Nt+lt-1,Wn=Gt+1,$n=Wn+(J-lt)-1,yt=!0):J<lt?(Nt=this.projectedModelLineLineCounts.getPrefixSum(r-1)+1,Gt=Nt+J-1,an=Gt+1,un=an+(lt-J)-1,yt=!0):(Nt=this.projectedModelLineLineCounts.getPrefixSum(r-1)+1,Gt=Nt+lt-1),this.projectedModelLineLineCounts.setValue(W,lt),[yt,Nt<=Gt?new xt(Nt,Gt-Nt+1):null,an<=un?new pn(an,un):null,Wn<=$n?new Xt(Wn,$n):null]}acceptVersionId(i){this._validModelVersionId=i,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(i){if(i<1)return 1;const r=this.getViewLineCount();return i>r?r:0|i}getActiveIndentGuide(i,r,x){i=this._toValidViewLineNumber(i),r=this._toValidViewLineNumber(r),x=this._toValidViewLineNumber(x);const W=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),J=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),De=this.convertViewPositionToModelPosition(x,this.getViewLineMinColumn(x)),We=this.model.guides.getActiveIndentGuide(W.lineNumber,J.lineNumber,De.lineNumber),lt=this.convertModelPositionToViewPosition(We.startLineNumber,1),yt=this.convertModelPositionToViewPosition(We.endLineNumber,this.model.getLineMaxColumn(We.endLineNumber));return{startLineNumber:lt.lineNumber,endLineNumber:yt.lineNumber,indent:We.indent}}getViewLineInfo(i){i=this._toValidViewLineNumber(i);const r=this.projectedModelLineLineCounts.getIndexOf(i-1);return new _s(r.index+1,r.remainder)}getMinColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(i){const r=this.modelLineProjections[i.modelLineNumber-1],x=r.getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),W=r.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,x);return new ue.L(i.modelLineNumber,W)}getModelEndPositionOfViewLine(i){const r=this.modelLineProjections[i.modelLineNumber-1],x=r.getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),W=r.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,x);return new ue.L(i.modelLineNumber,W)}getViewLineInfosGroupedByModelRanges(i,r){const x=this.getViewLineInfo(i),W=this.getViewLineInfo(r),J=new Array;let De=this.getModelStartPositionOfViewLine(x),We=new Array;for(let lt=x.modelLineNumber;lt<=W.modelLineNumber;lt++){const yt=this.modelLineProjections[lt-1];if(yt.isVisible()){const Nt=lt===x.modelLineNumber?x.modelLineWrappedLineIdx:0,Gt=lt===W.modelLineNumber?W.modelLineWrappedLineIdx+1:yt.getViewLineCount();for(let an=Nt;an<Gt;an++)We.push(new _s(lt,an))}if(!yt.isVisible()&&De){const Nt=new ue.L(lt-1,this.model.getLineMaxColumn(lt-1)+1),Gt=be.e.fromPositions(De,Nt);J.push(new hr(Gt,We)),We=[],De=null}else yt.isVisible()&&!De&&(De=new ue.L(lt,1))}if(De){const lt=be.e.fromPositions(De,this.getModelEndPositionOfViewLine(W));J.push(new hr(lt,We))}return J}getViewLinesBracketGuides(i,r,x,W){const J=x?this.convertViewPositionToModelPosition(x.lineNumber,x.column):null,De=[];for(const We of this.getViewLineInfosGroupedByModelRanges(i,r)){const lt=We.modelRange.startLineNumber,yt=this.model.guides.getLinesBracketGuides(lt,We.modelRange.endLineNumber,J,W);for(const Nt of We.viewLines){const an=yt[Nt.modelLineNumber-lt].map(un=>{if(-1!==un.forWrappedLinesAfterColumn&&this.modelLineProjections[Nt.modelLineNumber-1].getViewPositionOfModelPosition(0,un.forWrappedLinesAfterColumn).lineNumber>=Nt.modelLineWrappedLineIdx||-1!==un.forWrappedLinesBeforeOrAtColumn&&this.modelLineProjections[Nt.modelLineNumber-1].getViewPositionOfModelPosition(0,un.forWrappedLinesBeforeOrAtColumn).lineNumber<Nt.modelLineWrappedLineIdx)return;if(!un.horizontalLine)return un;let Wn=-1;if(-1!==un.column){const ci=this.modelLineProjections[Nt.modelLineNumber-1].getViewPositionOfModelPosition(0,un.column);if(ci.lineNumber===Nt.modelLineWrappedLineIdx)Wn=ci.column;else if(ci.lineNumber<Nt.modelLineWrappedLineIdx)Wn=this.getMinColumnOfViewLine(Nt);else if(ci.lineNumber>Nt.modelLineWrappedLineIdx)return}const $n=this.convertModelPositionToViewPosition(Nt.modelLineNumber,un.horizontalLine.endColumn),Gn=this.modelLineProjections[Nt.modelLineNumber-1].getViewPositionOfModelPosition(0,un.horizontalLine.endColumn);return Gn.lineNumber===Nt.modelLineWrappedLineIdx?new Tt.UO(un.visibleColumn,Wn,un.className,new Tt.vW(un.horizontalLine.top,$n.column),-1,-1):Gn.lineNumber<Nt.modelLineWrappedLineIdx||-1!==un.visibleColumn?void 0:new Tt.UO(un.visibleColumn,Wn,un.className,new Tt.vW(un.horizontalLine.top,this.getMaxColumnOfViewLine(Nt)),-1,-1)});De.push(an.filter(un=>!!un))}}return De}getViewLinesIndentGuides(i,r){i=this._toValidViewLineNumber(i),r=this._toValidViewLineNumber(r);const x=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),W=this.convertViewPositionToModelPosition(r,this.getViewLineMaxColumn(r));let J=[];const De=[],We=[],lt=x.lineNumber-1,yt=W.lineNumber-1;let Nt=null;for(let Wn=lt;Wn<=yt;Wn++){const $n=this.modelLineProjections[Wn];if($n.isVisible()){const Gn=$n.getViewLineNumberOfModelPosition(0,Wn===lt?x.column:1),ci=$n.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Wn+1)),mi=ci-Gn+1;let Di=0;mi>1&&1===$n.getViewLineMinColumn(this.model,Wn+1,ci)&&(Di=0===Gn?1:2),De.push(mi),We.push(Di),null===Nt&&(Nt=new ue.L(Wn+1,0))}else null!==Nt&&(J=J.concat(this.model.guides.getLinesIndentGuides(Nt.lineNumber,Wn)),Nt=null)}null!==Nt&&(J=J.concat(this.model.guides.getLinesIndentGuides(Nt.lineNumber,W.lineNumber)),Nt=null);const Gt=r-i+1,an=new Array(Gt);let un=0;for(let Wn=0,$n=J.length;Wn<$n;Wn++){let Gn=J[Wn];const ci=Math.min(Gt-un,De[Wn]),mi=We[Wn];let Di;Di=2===mi?0:1===mi?1:ci;for(let Ui=0;Ui<ci;Ui++)Ui===Di&&(Gn=0),an[un++]=Gn}return an}getViewLineContent(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineContent(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLineLength(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineLength(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLineMinColumn(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineMinColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLineMaxColumn(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineMaxColumn(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLineData(i){const r=this.getViewLineInfo(i);return this.modelLineProjections[r.modelLineNumber-1].getViewLineData(this.model,r.modelLineNumber,r.modelLineWrappedLineIdx)}getViewLinesData(i,r,x){i=this._toValidViewLineNumber(i),r=this._toValidViewLineNumber(r);const W=this.projectedModelLineLineCounts.getIndexOf(i-1);let J=i;const De=W.index,We=W.remainder,lt=[];for(let yt=De,Nt=this.model.getLineCount();yt<Nt;yt++){const Gt=this.modelLineProjections[yt];if(!Gt.isVisible())continue;const an=yt===De?We:0;let un=Gt.getViewLineCount()-an,Wn=!1;if(J+un>r&&(Wn=!0,un=r-J+1),Gt.getViewLinesData(this.model,yt+1,an,un,J-i,x,lt),J+=un,Wn)break}return lt}validateViewPosition(i,r,x){i=this._toValidViewLineNumber(i);const W=this.projectedModelLineLineCounts.getIndexOf(i-1),J=W.index,De=W.remainder,We=this.modelLineProjections[J],lt=We.getViewLineMinColumn(this.model,J+1,De),yt=We.getViewLineMaxColumn(this.model,J+1,De);r<lt&&(r=lt),r>yt&&(r=yt);const Nt=We.getModelColumnOfViewPosition(De,r);return this.model.validatePosition(new ue.L(J+1,Nt)).equals(x)?new ue.L(i,r):this.convertModelPositionToViewPosition(x.lineNumber,x.column)}validateViewRange(i,r){const x=this.validateViewPosition(i.startLineNumber,i.startColumn,r.getStartPosition()),W=this.validateViewPosition(i.endLineNumber,i.endColumn,r.getEndPosition());return new be.e(x.lineNumber,x.column,W.lineNumber,W.column)}convertViewPositionToModelPosition(i,r){const x=this.getViewLineInfo(i),W=this.modelLineProjections[x.modelLineNumber-1].getModelColumnOfViewPosition(x.modelLineWrappedLineIdx,r);return this.model.validatePosition(new ue.L(x.modelLineNumber,W))}convertViewRangeToModelRange(i){const r=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),x=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);return new be.e(r.lineNumber,r.column,x.lineNumber,x.column)}convertModelPositionToViewPosition(i,r,x=2){const W=this.model.validatePosition(new ue.L(i,r)),J=W.lineNumber,De=W.column;let We=J-1,lt=!1;for(;We>0&&!this.modelLineProjections[We].isVisible();)We--,lt=!0;if(0===We&&!this.modelLineProjections[We].isVisible())return new ue.L(1,1);const yt=1+this.projectedModelLineLineCounts.getPrefixSum(We);let Nt;return Nt=lt?this.modelLineProjections[We].getViewPositionOfModelPosition(yt,this.model.getLineMaxColumn(We+1),x):this.modelLineProjections[J-1].getViewPositionOfModelPosition(yt,De,x),Nt}convertModelRangeToViewRange(i,r=0){if(i.isEmpty()){const x=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,r);return be.e.fromPositions(x)}{const x=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,1),W=this.convertModelPositionToViewPosition(i.endLineNumber,i.endColumn,0);return new be.e(x.lineNumber,x.column,W.lineNumber,W.column)}}getViewLineNumberOfModelPosition(i,r){let x=i-1;if(this.modelLineProjections[x].isVisible()){const J=1+this.projectedModelLineLineCounts.getPrefixSum(x);return this.modelLineProjections[x].getViewLineNumberOfModelPosition(J,r)}for(;x>0&&!this.modelLineProjections[x].isVisible();)x--;if(0===x&&!this.modelLineProjections[x].isVisible())return 1;const W=1+this.projectedModelLineLineCounts.getPrefixSum(x);return this.modelLineProjections[x].getViewLineNumberOfModelPosition(W,this.model.getLineMaxColumn(x+1))}getDecorationsInRange(i,r,x){const W=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),J=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);if(J.lineNumber-W.lineNumber<=i.endLineNumber-i.startLineNumber)return this.model.getDecorationsInRange(new be.e(W.lineNumber,1,J.lineNumber,J.column),r,x);let De=[];const We=W.lineNumber-1,lt=J.lineNumber-1;let yt=null;for(let un=We;un<=lt;un++)if(this.modelLineProjections[un].isVisible())null===yt&&(yt=new ue.L(un+1,un===We?W.column:1));else if(null!==yt){const $n=this.model.getLineMaxColumn(un);De=De.concat(this.model.getDecorationsInRange(new be.e(yt.lineNumber,yt.column,un,$n),r,x)),yt=null}null!==yt&&(De=De.concat(this.model.getDecorationsInRange(new be.e(yt.lineNumber,yt.column,J.lineNumber,J.column),r,x)),yt=null),De.sort((un,Wn)=>{const $n=be.e.compareRangesUsingStarts(un.range,Wn.range);return 0===$n?un.id<Wn.id?-1:un.id>Wn.id?1:0:$n});const Nt=[];let Gt=0,an=null;for(const un of De){const Wn=un.id;an!==Wn&&(an=Wn,Nt[Gt++]=un)}return Nt}getInjectedTextAt(i){const r=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[r.modelLineNumber-1].getInjectedTextAt(r.modelLineWrappedLineIdx,i.column)}normalizePosition(i,r){const x=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[x.modelLineNumber-1].normalizePosition(x.modelLineWrappedLineIdx,i,r)}getLineIndentColumn(i){const r=this.getViewLineInfo(i);return 0===r.modelLineWrappedLineIdx?this.model.getLineIndentColumn(r.modelLineNumber):0}}class _s{constructor(i,r){this.modelLineNumber=i,this.modelLineWrappedLineIdx=r}}class hr{constructor(i,r){this.modelRange=i,this.viewLines=r}}class la{constructor(i){this._lines=i}convertViewPositionToModelPosition(i){return this._lines.convertViewPositionToModelPosition(i.lineNumber,i.column)}convertViewRangeToModelRange(i){return this._lines.convertViewRangeToModelRange(i)}validateViewPosition(i,r){return this._lines.validateViewPosition(i.lineNumber,i.column,r)}validateViewRange(i,r){return this._lines.validateViewRange(i,r)}convertModelPositionToViewPosition(i,r){return this._lines.convertModelPositionToViewPosition(i.lineNumber,i.column,r)}convertModelRangeToViewRange(i,r){return this._lines.convertModelRangeToViewRange(i,r)}modelPositionIsVisible(i){return this._lines.modelPositionIsVisible(i.lineNumber,i.column)}getModelLineViewLineCount(i){return this._lines.getModelLineViewLineCount(i)}getViewLineNumberOfModelPosition(i,r){return this._lines.getViewLineNumberOfModelPosition(i,r)}}class sl{constructor(i){this.model=i}dispose(){}createCoordinatesConverter(){return new Ka(this)}getHiddenAreas(){return[]}setHiddenAreas(i){return!1}setTabSize(i){return!1}setWrappingSettings(i,r,x,W){return!1}createLineBreaksComputer(){const i=[];return{addRequest:(r,x,W)=>{i.push(null)},finalize:()=>i}}onModelFlushed(){}onModelLinesDeleted(i,r,x){return new Xt(r,x)}onModelLinesInserted(i,r,x,W){return new pn(r,x)}onModelLineChanged(i,r,x){return[!1,new xt(r,1),null,null]}acceptVersionId(i){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(i,r,x){return{startLineNumber:i,endLineNumber:i,indent:0}}getViewLinesBracketGuides(i,r,x){return new Array(r-i+1).fill([])}getViewLinesIndentGuides(i,r){const x=r-i+1,W=new Array(x);for(let J=0;J<x;J++)W[J]=0;return W}getViewLineContent(i){return this.model.getLineContent(i)}getViewLineLength(i){return this.model.getLineLength(i)}getViewLineMinColumn(i){return this.model.getLineMinColumn(i)}getViewLineMaxColumn(i){return this.model.getLineMaxColumn(i)}getViewLineData(i){const r=this.model.tokenization.getLineTokens(i),x=r.getLineContent();return new Ps.IP(x,!1,1,x.length+1,0,r.inflate(),null)}getViewLinesData(i,r,x){const W=this.model.getLineCount();i=Math.min(Math.max(1,i),W),r=Math.min(Math.max(1,r),W);const J=[];for(let De=i;De<=r;De++){const We=De-i;J[We]=x[We]?this.getViewLineData(De):null}return J}getDecorationsInRange(i,r,x){return this.model.getDecorationsInRange(i,r,x)}normalizePosition(i,r){return this.model.normalizePosition(i,r)}getLineIndentColumn(i){return this.model.getLineIndentColumn(i)}getInjectedTextAt(i){return null}}class Ka{constructor(i){this._lines=i}_validPosition(i){return this._lines.model.validatePosition(i)}_validRange(i){return this._lines.model.validateRange(i)}convertViewPositionToModelPosition(i){return this._validPosition(i)}convertViewRangeToModelRange(i){return this._validRange(i)}validateViewPosition(i,r){return this._validPosition(r)}validateViewRange(i,r){return this._validRange(r)}convertModelPositionToViewPosition(i){return this._validPosition(i)}convertModelRangeToViewRange(i){return this._validRange(i)}modelPositionIsVisible(i){const r=this._lines.model.getLineCount();return!(i.lineNumber<1||i.lineNumber>r)}getModelLineViewLineCount(i){return 1}getViewLineNumberOfModelPosition(i,r){return i}}class kl extends H.JT{constructor(i,r,x,W,J,De,We,lt){if(super(),this.languageConfigurationService=We,this._themeService=lt,this._editorId=i,this._configuration=r,this.model=x,this._eventDispatcher=new Mi,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new ys.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new Ze.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Ze.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=rr.create(this.model),this.model.isTooLargeForTokenization())this._lines=new sl(this.model);else{const yt=this._configuration.options,Nt=yt.get(46),Gt=yt.get(127),an=yt.get(134),un=yt.get(126);this._lines=new Is(this._editorId,this.model,W,J,Nt,this.model.getOptions().tabSize,Gt,an.wrappingColumn,un)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Zo(x,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new pl(this._configuration,this.getLineCount(),De)),this._register(this.viewLayout.onDidScroll(yt=>{yt.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),yt.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new kn(yt)),this._eventDispatcher.emitOutgoingEvent(new po(yt.oldScrollWidth,yt.oldScrollLeft,yt.oldScrollHeight,yt.oldScrollTop,yt.scrollWidth,yt.scrollLeft,yt.scrollHeight,yt.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(yt=>{this._eventDispatcher.emitOutgoingEvent(yt)})),this._decorations=new _l.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(yt=>{try{const Nt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Nt,yt)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(Nr.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new qn)})),this._register(this._themeService.onDidColorThemeChange(yt=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new Xn(yt))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(i){this._eventDispatcher.addViewEventHandler(i)}removeViewEventHandler(i){this._eventDispatcher.removeViewEventHandler(i)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const i=this.viewLayout.getLinesViewportData(),r=new be.e(i.startLineNumber,this.getLineMinColumn(i.startLineNumber),i.endLineNumber,this.getLineMaxColumn(i.endLineNumber)),x=this._toModelVisibleRanges(r);for(const W of x)this.model.tokenization.tokenizeViewport(W.startLineNumber,W.endLineNumber)}setHasFocus(i){this._hasFocus=i,this._cursor.setHasFocus(i),this._eventDispatcher.emitSingleViewEvent(new zt(i)),this._eventDispatcher.emitOutgoingEvent(new Xi(!i,i))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new xa)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Vr)}_onConfigurationChanged(i,r){let x=null;if(this._viewportStart.isValid){const Nt=new ue.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));x=this.coordinatesConverter.convertViewPositionToModelPosition(Nt)}let W=!1;const J=this._configuration.options,De=J.get(46),We=J.get(127),lt=J.get(134),yt=J.get(126);if(this._lines.setWrappingSettings(De,We,lt.wrappingColumn,yt)&&(i.emitViewEvent(new jr),i.emitViewEvent(new Ye),i.emitViewEvent(new ur(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(W=!0),this._updateConfigurationViewLineCount.schedule()),r.hasChanged(83)&&(this._decorations.reset(),i.emitViewEvent(new ur(null))),i.emitViewEvent(new Ia(r)),this.viewLayout.onConfigurationChanged(r),W&&x){const Nt=this.coordinatesConverter.convertModelPositionToViewPosition(x),Gt=this.viewLayout.getVerticalOffsetForLineNumber(Nt.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Gt+this._viewportStart.startLineDelta},1)}ys.LM.shouldRecreate(r)&&(this.cursorConfig=new ys.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(i=>{try{const x=this._eventDispatcher.beginEmitViewEvents();let W=!1,J=!1;const De=i instanceof cr.fV?i.rawContentChangedEvent.changes:i.changes,We=i instanceof cr.fV?i.rawContentChangedEvent.versionId:null,lt=this._lines.createLineBreaksComputer();for(const Gt of De)switch(Gt.changeType){case 4:for(let an=0;an<Gt.detail.length;an++){const un=Gt.detail[an];let Wn=Gt.injectedTexts[an];Wn&&(Wn=Wn.filter($n=>!$n.ownerId||$n.ownerId===this._editorId)),lt.addRequest(un,Wn,null)}break;case 2:{let an=null;Gt.injectedText&&(an=Gt.injectedText.filter(un=>!un.ownerId||un.ownerId===this._editorId)),lt.addRequest(Gt.detail,an,null);break}}const yt=lt.finalize(),Nt=new F.H9(yt);for(const Gt of De)switch(Gt.changeType){case 1:this._lines.onModelFlushed(),x.emitViewEvent(new jr),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),W=!0;break;case 3:{const an=this._lines.onModelLinesDeleted(We,Gt.fromLineNumber,Gt.toLineNumber);null!==an&&(x.emitViewEvent(an),this.viewLayout.onLinesDeleted(an.fromLineNumber,an.toLineNumber)),W=!0;break}case 4:{const an=Nt.takeCount(Gt.detail.length),un=this._lines.onModelLinesInserted(We,Gt.fromLineNumber,Gt.toLineNumber,an);null!==un&&(x.emitViewEvent(un),this.viewLayout.onLinesInserted(un.fromLineNumber,un.toLineNumber)),W=!0;break}case 2:{const an=Nt.dequeue(),[un,Wn,$n,Gn]=this._lines.onModelLineChanged(We,Gt.lineNumber,an);J=un,Wn&&x.emitViewEvent(Wn),$n&&(x.emitViewEvent($n),this.viewLayout.onLinesInserted($n.fromLineNumber,$n.toLineNumber)),Gn&&(x.emitViewEvent(Gn),this.viewLayout.onLinesDeleted(Gn.fromLineNumber,Gn.toLineNumber));break}}null!==We&&this._lines.acceptVersionId(We),this.viewLayout.onHeightMaybeChanged(),!W&&J&&(x.emitViewEvent(new Ye),x.emitViewEvent(new ur(null)),this._cursor.onLineMappingChanged(x),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const r=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&r){const x=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(x){const W=this.coordinatesConverter.convertModelPositionToViewPosition(x.getStartPosition()),J=this.viewLayout.getVerticalOffsetForLineNumber(W.lineNumber);this.viewLayout.setScrollPosition({scrollTop:J+this._viewportStart.startLineDelta},1)}}try{const x=this._eventDispatcher.beginEmitViewEvents();i instanceof cr.fV&&x.emitOutgoingEvent(new io(i.contentChangedEvent)),this._cursor.onModelContentChanged(x,i)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(i=>{const r=[];for(let x=0,W=i.ranges.length;x<W;x++){const J=i.ranges[x],De=this.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(J.fromLineNumber,1)).lineNumber,We=this.coordinatesConverter.convertModelPositionToViewPosition(new ue.L(J.toLineNumber,this.model.getLineMaxColumn(J.toLineNumber))).lineNumber;r[x]={fromLineNumber:De,toLineNumber:We}}this._eventDispatcher.emitSingleViewEvent(new Zn(r)),i.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new zo(i))})),this._register(this.model.onDidChangeLanguageConfiguration(i=>{this._eventDispatcher.emitSingleViewEvent(new Pe),this.cursorConfig=new ys.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new So(i))})),this._register(this.model.onDidChangeLanguage(i=>{this.cursorConfig=new ys.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Fo(i))})),this._register(this.model.onDidChangeOptions(i=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const r=this._eventDispatcher.beginEmitViewEvents();r.emitViewEvent(new jr),r.emitViewEvent(new Ye),r.emitViewEvent(new ur(null)),this._cursor.onLineMappingChanged(r),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new ys.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Lo(i))})),this._register(this.model.onDidChangeDecorations(i=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new ur(i)),this._eventDispatcher.emitOutgoingEvent(new $o(i))}))}setHiddenAreas(i){let r=!1;try{const x=this._eventDispatcher.beginEmitViewEvents();r=this._lines.setHiddenAreas(i),r&&(x.emitViewEvent(new jr),x.emitViewEvent(new Ye),x.emitViewEvent(new ur(null)),this._cursor.onLineMappingChanged(x),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),r&&this._eventDispatcher.emitOutgoingEvent(new Ao)}getVisibleRangesPlusViewportAboveBelow(){const i=this._configuration.options.get(133),r=this._configuration.options.get(61),x=Math.max(20,Math.round(i.height/r)),W=this.viewLayout.getLinesViewportData(),J=Math.max(1,W.completelyVisibleStartLineNumber-x),De=Math.min(this.getLineCount(),W.completelyVisibleEndLineNumber+x);return this._toModelVisibleRanges(new be.e(J,this.getLineMinColumn(J),De,this.getLineMaxColumn(De)))}getVisibleRanges(){const i=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(i)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(i){const r=this.coordinatesConverter.convertViewRangeToModelRange(i),x=this._lines.getHiddenAreas();if(0===x.length)return[r];const W=[];let J=0,De=r.startLineNumber,We=r.startColumn;const lt=r.endLineNumber,yt=r.endColumn;for(let Nt=0,Gt=x.length;Nt<Gt;Nt++){const an=x[Nt].startLineNumber,un=x[Nt].endLineNumber;un<De||an>lt||(De<an&&(W[J++]=new be.e(De,We,an-1,this.model.getLineMaxColumn(an-1))),De=un+1,We=1)}return(De<lt||De===lt&&We<yt)&&(W[J++]=new be.e(De,We,lt,yt)),W}getCompletelyVisibleViewRange(){const i=this.viewLayout.getLinesViewportData(),r=i.completelyVisibleStartLineNumber,x=i.completelyVisibleEndLineNumber;return new be.e(r,this.getLineMinColumn(r),x,this.getLineMaxColumn(x))}getCompletelyVisibleViewRangeAtScrollTop(i){const r=this.viewLayout.getLinesViewportDataAtScrollTop(i),x=r.completelyVisibleStartLineNumber,W=r.completelyVisibleEndLineNumber;return new be.e(x,this.getLineMinColumn(x),W,this.getLineMaxColumn(W))}saveState(){const i=this.viewLayout.saveState(),r=i.scrollTop,x=this.viewLayout.getLineNumberAtVerticalOffset(r),W=this.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(x,this.getLineMinColumn(x))),J=this.viewLayout.getVerticalOffsetForLineNumber(x)-r;return{scrollLeft:i.scrollLeft,firstPosition:W,firstPositionDeltaTop:J}}reduceRestoreState(i){if(typeof i.firstPosition>"u")return this._reduceRestoreStateCompatibility(i);const r=this.model.validatePosition(i.firstPosition),x=this.coordinatesConverter.convertModelPositionToViewPosition(r),W=this.viewLayout.getVerticalOffsetForLineNumber(x.lineNumber)-i.firstPositionDeltaTop;return{scrollLeft:i.scrollLeft,scrollTop:W}}_reduceRestoreStateCompatibility(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(i,r,x){this._viewportStart.update(this,i)}getActiveIndentGuide(i,r,x){return this._lines.getActiveIndentGuide(i,r,x)}getLinesIndentGuides(i,r){return this._lines.getViewLinesIndentGuides(i,r)}getBracketGuidesInRangeByLine(i,r,x,W){return this._lines.getViewLinesBracketGuides(i,r,x,W)}getLineContent(i){return this._lines.getViewLineContent(i)}getLineLength(i){return this._lines.getViewLineLength(i)}getLineMinColumn(i){return this._lines.getViewLineMinColumn(i)}getLineMaxColumn(i){return this._lines.getViewLineMaxColumn(i)}getLineFirstNonWhitespaceColumn(i){const r=gn.LC(this.getLineContent(i));return-1===r?0:r+1}getLineLastNonWhitespaceColumn(i){const r=gn.ow(this.getLineContent(i));return-1===r?0:r+2}getDecorationsInViewport(i){return this._decorations.getDecorationsViewportData(i).decorations}getInjectedTextAt(i){return this._lines.getInjectedTextAt(i)}getViewportViewLineRenderingData(i,r){const W=this._decorations.getDecorationsViewportData(i).inlineDecorations[r-i.startLineNumber];return this._getViewLineRenderingData(r,W)}getViewLineRenderingData(i){const r=this._decorations.getInlineDecorationsOnLine(i);return this._getViewLineRenderingData(i,r)}_getViewLineRenderingData(i,r){const x=this.model.mightContainRTL(),W=this.model.mightContainNonBasicASCII(),J=this.getTabSize(),De=this._lines.getViewLineData(i);return De.inlineDecorations&&(r=[...r,...De.inlineDecorations.map(We=>We.toInlineDecoration(i))]),new Ps.wA(De.minColumn,De.maxColumn,De.content,De.continuesWithWrappedLine,x,W,De.tokens,r,J,De.startVisibleColumn)}getViewLineData(i){return this._lines.getViewLineData(i)}getMinimapLinesRenderingData(i,r,x){const W=this._lines.getViewLinesData(i,r,x);return new Ps.ud(this.getTabSize(),W)}getAllOverviewRulerDecorations(i){const r=this.model.getOverviewRulerDecorations(this._editorId,(0,Se.$J)(this._configuration.options)),x=new rd;for(const W of r){const J=W.options,De=J.overviewRuler;if(!De)continue;const We=De.position;if(0===We)continue;const lt=De.getColor(i.value),yt=this.coordinatesConverter.getViewLineNumberOfModelPosition(W.range.startLineNumber,W.range.startColumn),Nt=this.coordinatesConverter.getViewLineNumberOfModelPosition(W.range.endLineNumber,W.range.endColumn);x.accept(lt,J.zIndex,yt,Nt,We)}return x.asArray}_invalidateDecorationsColorCache(){const i=this.model.getOverviewRulerDecorations();for(const r of i){const x=r.options.overviewRuler;x&&x.invalidateCachedColor();const W=r.options.minimap;W&&W.invalidateCachedColor()}}getValueInRange(i,r){const x=this.coordinatesConverter.convertViewRangeToModelRange(i);return this.model.getValueInRange(x,r)}deduceModelPositionRelativeToViewPosition(i,r,x){const W=this.coordinatesConverter.convertViewPositionToModelPosition(i);2===this.model.getEOL().length&&(r<0?r-=x:r+=x);const De=this.model.getOffsetAt(W)+r;return this.model.getPositionAt(De)}getPlainTextToCopy(i,r,x){const W=x?"\r\n":this.model.getEOL();(i=i.slice(0)).sort(be.e.compareRangesUsingStarts);let J=!1,De=!1;for(const lt of i)lt.isEmpty()?J=!0:De=!0;if(!De){if(!r)return"";const lt=i.map(Nt=>Nt.startLineNumber);let yt="";for(let Nt=0;Nt<lt.length;Nt++)Nt>0&&lt[Nt-1]===lt[Nt]||(yt+=this.model.getLineContent(lt[Nt])+W);return yt}if(J&&r){const lt=[];let yt=0;for(const Nt of i){const Gt=Nt.startLineNumber;Nt.isEmpty()?Gt!==yt&&lt.push(this.model.getLineContent(Gt)):lt.push(this.model.getValueInRange(Nt,x?2:0)),yt=Gt}return 1===lt.length?lt[0]:lt}const We=[];for(const lt of i)lt.isEmpty()||We.push(this.model.getValueInRange(lt,x?2:0));return 1===We.length?We[0]:We}getRichTextToCopy(i,r){const x=this.model.getLanguageId();if(x===Ii.bd||1!==i.length)return null;let W=i[0];if(W.isEmpty()){if(!r)return null;const Nt=W.startLineNumber;W=new be.e(Nt,this.model.getLineMinColumn(Nt),Nt,this.model.getLineMaxColumn(Nt))}const J=this._configuration.options.get(46),De=this._getColorMap();let yt;return/[:;\\\/<>]/.test(J.fontFamily)||J.fontFamily===Se.hL.fontFamily?yt=Se.hL.fontFamily:(yt=J.fontFamily,yt=yt.replace(/"/g,"'"),/[,']/.test(yt)||/[+ ]/.test(yt)&&(yt=`'${yt}'`),yt=`${yt}, ${Se.hL.fontFamily}`),{mode:x,html:`<div style="color: ${De[1]};background-color: ${De[2]};font-family: ${yt};font-weight: ${J.fontWeight};font-size: ${J.fontSize}px;line-height: ${J.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(W,De)+"</div>"}}_getHTMLToCopy(i,r){const x=i.startLineNumber,W=i.startColumn,J=i.endLineNumber,De=i.endColumn,We=this.getTabSize();let lt="";for(let yt=x;yt<=J;yt++){const Nt=this.model.tokenization.getLineTokens(yt),Gt=Nt.getLineContent(),an=yt===x?W-1:0,un=yt===J?De-1:Gt.length;lt+=""===Gt?"<br>":(0,Mr.Fq)(Gt,Nt.inflate(),r,an,un,We,z.ED)}return lt}_getColorMap(){const i=wo.RW.getColorMap(),r=["#000000"];if(i)for(let x=1,W=i.length;x<W;x++)r[x]=Do.Il.Format.CSS.formatHex(i[x]);return r}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(i,r,x){return this._withViewEventsCollector(W=>this._cursor.setStates(W,i,r,x))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(i){this._cursor.setCursorColumnSelectData(i)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(i){this._cursor.setPrevEditOperationType(i)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(i,r,x=0){this._withViewEventsCollector(W=>this._cursor.setSelections(W,i,r,x))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(i){this._withViewEventsCollector(r=>this._cursor.restoreState(r,i))}_executeCursorEdit(i){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new lo):this._withViewEventsCollector(i)}executeEdits(i,r,x){this._executeCursorEdit(W=>this._cursor.executeEdits(W,i,r,x))}startComposition(){this._executeCursorEdit(i=>this._cursor.startComposition(i))}endComposition(i){this._executeCursorEdit(r=>this._cursor.endComposition(r,i))}type(i,r){this._executeCursorEdit(x=>this._cursor.type(x,i,r))}compositionType(i,r,x,W,J){this._executeCursorEdit(De=>this._cursor.compositionType(De,i,r,x,W,J))}paste(i,r,x,W){this._executeCursorEdit(J=>this._cursor.paste(J,i,r,x,W))}cut(i){this._executeCursorEdit(r=>this._cursor.cut(r,i))}executeCommand(i,r){this._executeCursorEdit(x=>this._cursor.executeCommand(x,i,r))}executeCommands(i,r){this._executeCursorEdit(x=>this._cursor.executeCommands(x,i,r))}revealPrimaryCursor(i,r,x=!1){this._withViewEventsCollector(W=>this._cursor.revealPrimary(W,i,x,0,r,0))}revealTopMostCursor(i){const r=this._cursor.getTopMostViewPosition(),x=new be.e(r.lineNumber,r.column,r.lineNumber,r.column);this._withViewEventsCollector(W=>W.emitViewEvent(new bn(i,!1,x,null,0,!0,0)))}revealBottomMostCursor(i){const r=this._cursor.getBottomMostViewPosition(),x=new be.e(r.lineNumber,r.column,r.lineNumber,r.column);this._withViewEventsCollector(W=>W.emitViewEvent(new bn(i,!1,x,null,0,!0,0)))}revealRange(i,r,x,W,J){this._withViewEventsCollector(De=>De.emitViewEvent(new bn(i,!1,x,null,W,r,J)))}changeWhitespace(i){this.viewLayout.changeWhitespace(i)&&(this._eventDispatcher.emitSingleViewEvent(new ri),this._eventDispatcher.emitOutgoingEvent(new Io))}_withViewEventsCollector(i){try{return i(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(i,r){return this._lines.normalizePosition(i,r)}getLineIndentColumn(i){return this._lines.getLineIndentColumn(i)}}class rr{constructor(i,r,x,W,J){this._model=i,this._viewLineNumber=r,this._isValid=x,this._modelTrackedRange=W,this._startLineDelta=J}static create(i){const r=i._setTrackedRange(null,new be.e(1,1,1,1),1);return new rr(i,1,!1,r,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(i,r){const x=i.coordinatesConverter.convertViewPositionToModelPosition(new ue.L(r,i.getLineMinColumn(r))),W=i.model._setTrackedRange(this._modelTrackedRange,new be.e(x.lineNumber,x.column,x.lineNumber,x.column),1),J=i.viewLayout.getVerticalOffsetForLineNumber(r),De=i.viewLayout.getCurrentScrollTop();this._viewLineNumber=r,this._isValid=!0,this._modelTrackedRange=W,this._startLineDelta=De-J}invalidate(){this._isValid=!1}}class rd{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(i,r,x,W,J){const De=this._asMap[i];if(De){const We=De.data,yt=We[We.length-1];if(We[We.length-3]===J&&yt+1>=x)return void(W>yt&&(We[We.length-1]=W));We.push(J,x,W)}else{const We=new Ps.SQ(i,r,[J,x,W]);this._asMap[i]=We,this.asArray.push(We)}}}var vl=e(66549),$a=e(16468),Fl=e(9265),os=e(62706),ma=e(54436),us=e(81742);class Zi{constructor(i,r,x,W,J){this.injectionOffsets=i,this.injectionOptions=r,this.breakOffsets=x,this.breakOffsetsVisibleColumn=W,this.wrappedTextIndentLength=J}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){let W=this.breakOffsets[i]-(i>0?this.breakOffsets[i-1]:0);return i>0&&(W+=this.wrappedTextIndentLength),W}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,r){i>0&&(r=Math.max(0,r-this.wrappedTextIndentLength));let W=0===i?r:this.breakOffsets[i-1]+r;if(null!==this.injectionOffsets)for(let J=0;J<this.injectionOffsets.length&&W>this.injectionOffsets[J];J++)W<this.injectionOffsets[J]+this.injectionOptions[J].content.length?W=this.injectionOffsets[J]:W-=this.injectionOptions[J].content.length;return W}translateToOutputPosition(i,r=2){let x=i;if(null!==this.injectionOffsets)for(let W=0;W<this.injectionOffsets.length&&!(i<this.injectionOffsets[W]||1!==r&&i===this.injectionOffsets[W]);W++)x+=this.injectionOptions[W].content.length;return this.offsetInInputWithInjectionsToOutputPosition(x,r)}offsetInInputWithInjectionsToOutputPosition(i,r=2){let x=0,W=this.breakOffsets.length-1,J=0,De=0;for(;x<=W;){J=x+(W-x)/2|0;const lt=this.breakOffsets[J];if(De=J>0?this.breakOffsets[J-1]:0,0===r)if(i<=De)W=J-1;else{if(!(i>lt))break;x=J+1}else if(i<De)W=J-1;else{if(!(i>=lt))break;x=J+1}}let We=i-De;return J>0&&(We+=this.wrappedTextIndentLength),new Us(J,We)}normalizeOutputPosition(i,r,x){if(null!==this.injectionOffsets){const W=this.outputPositionToOffsetInInputWithInjections(i,r),J=this.normalizeOffsetInInputWithInjectionsAroundInjections(W,x);if(J!==W)return this.offsetInInputWithInjectionsToOutputPosition(J,x)}if(0===x){if(i>0&&r===this.getMinOutputOffset(i))return new Us(i-1,this.getMaxOutputOffset(i-1))}else if(1===x&&i<this.getOutputLineCount()-1&&r===this.getMaxOutputOffset(i))return new Us(i+1,this.getMinOutputOffset(i+1));return new Us(i,r)}outputPositionToOffsetInInputWithInjections(i,r){return i>0&&(r=Math.max(0,r-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+r}normalizeOffsetInInputWithInjectionsAroundInjections(i,r){const x=this.getInjectedTextAtOffset(i);if(!x)return i;if(2===r){if(i===x.offsetInInputWithInjections+x.length&&da(this.injectionOptions[x.injectedTextIndex].cursorStops))return x.offsetInInputWithInjections+x.length;{let W=x.offsetInInputWithInjections;if(Rs(this.injectionOptions[x.injectedTextIndex].cursorStops))return W;let J=x.injectedTextIndex-1;for(;J>=0&&this.injectionOffsets[J]===this.injectionOffsets[x.injectedTextIndex]&&!da(this.injectionOptions[J].cursorStops)&&(W-=this.injectionOptions[J].content.length,!Rs(this.injectionOptions[J].cursorStops));)J--;return W}}if(1===r||4===r){let W=x.offsetInInputWithInjections+x.length,J=x.injectedTextIndex;for(;J+1<this.injectionOffsets.length&&this.injectionOffsets[J+1]===this.injectionOffsets[J];)W+=this.injectionOptions[J+1].content.length,J++;return W}if(0===r||3===r){let W=x.offsetInInputWithInjections,J=x.injectedTextIndex;for(;J-1>=0&&this.injectionOffsets[J-1]===this.injectionOffsets[J];)W-=this.injectionOptions[J-1].content.length,J--;return W}(0,ge.vE)(r)}getInjectedText(i,r){const x=this.outputPositionToOffsetInInputWithInjections(i,r),W=this.getInjectedTextAtOffset(x);return W?{options:this.injectionOptions[W.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const r=this.injectionOffsets,x=this.injectionOptions;if(null!==r){let W=0;for(let J=0;J<r.length;J++){const De=x[J].content.length,We=r[J]+W,lt=r[J]+W+De;if(We>i)break;if(i<=lt)return{injectedTextIndex:J,offsetInInputWithInjections:We,length:De};W+=De}}}}function da(Wt){return null==Wt||Wt===js.RM.Right||Wt===js.RM.Both}function Rs(Wt){return null==Wt||Wt===js.RM.Left||Wt===js.RM.Both}class Us{constructor(i,r){this.outputLineIndex=i,this.outputOffset=r}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new ue.L(i+this.outputLineIndex,this.outputOffset+1)}}class Ti{constructor(i,r){this.classifier=new ca(i,r)}static create(i){return new Ti(i.get(122),i.get(121))}createLineBreaksComputer(i,r,x,W){const J=[],De=[],We=[];return{addRequest:(lt,yt,Nt)=>{J.push(lt),De.push(yt),We.push(Nt)},finalize:()=>{const lt=i.typicalFullwidthCharacterWidth/i.typicalHalfwidthCharacterWidth,yt=[];for(let Nt=0,Gt=J.length;Nt<Gt;Nt++){const an=De[Nt],un=We[Nt];yt[Nt]=!un||un.injectionOptions||an?ao(this.classifier,J[Nt],an,r,x,lt,W):rl(this.classifier,un,J[Nt],r,x,lt,W)}return pa.length=0,Cl.length=0,yt}}}}class ca extends us.N{constructor(i,r){super(0);for(let x=0;x<i.length;x++)this.set(i.charCodeAt(x),1);for(let x=0;x<r.length;x++)this.set(r.charCodeAt(x),2)}get(i){return i>=0&&i<256?this._asciiMap[i]:i>=12352&&i<=12543||i>=13312&&i<=19903||i>=19968&&i<=40959?3:this._map.get(i)||this._defaultValue}}let pa=[],Cl=[];function rl(Wt,i,r,x,W,J,De){if(-1===W)return null;const We=r.length;if(We<=1)return null;const lt=i.breakOffsets,yt=i.breakOffsetsVisibleColumn,Nt=Na(r,x,W,J,De),Gt=W-Nt,an=pa,un=Cl;let Wn=0,$n=0,Gn=0,ci=W;const mi=lt.length;let Di=0;if(Di>=0){let Ui=Math.abs(yt[Di]-ci);for(;Di+1<mi;){const eo=Math.abs(yt[Di+1]-ci);if(eo>=Ui)break;Ui=eo,Di++}}for(;Di<mi;){let Ui=Di<0?0:lt[Di],eo=Di<0?0:yt[Di];$n>Ui&&(Ui=$n,eo=Gn);let zi=0,Ji=0,Qi=0,fo=0;if(eo<=ci){let bo=eo,ps=0===Ui?0:r.charCodeAt(Ui-1),ss=0===Ui?0:Wt.get(ps),vs=!0;for(let Qo=Ui;Qo<We;Qo++){const Os=Qo,Ts=r.charCodeAt(Qo);let Ms,Dr;if(gn.ZG(Ts)?(Qo++,Ms=0,Dr=2):(Ms=Wt.get(Ts),Dr=_a(Ts,bo,x,J)),Os>$n&&Jr(0,ss,Ts,Ms)&&(zi=Os,Ji=bo),bo+=Dr,bo>ci){Os>$n?(Qi=Os,fo=bo-Dr):(Qi=Qo+1,fo=bo),bo-Ji>Gt&&(zi=0),vs=!1;break}ps=Ts,ss=Ms}if(vs){Wn>0&&(an[Wn]=lt[lt.length-1],un[Wn]=yt[lt.length-1],Wn++);break}}if(0===zi){let bo=eo,ps=r.charCodeAt(Ui),ss=Wt.get(ps),vs=!1;for(let Qo=Ui-1;Qo>=$n;Qo--){const Os=Qo+1,Ts=r.charCodeAt(Qo);if(9===Ts){vs=!0;break}let Ms,Dr;if(gn.YK(Ts)?(Qo--,Ms=0,Dr=2):(Ms=Wt.get(Ts),Dr=gn.K7(Ts)?J:1),bo<=ci){if(0===Qi&&(Qi=Os,fo=bo),bo<=ci-Gt)break;if(Jr(0,Ms,ps,ss)){zi=Os,Ji=bo;break}}bo-=Dr,ps=Ts,ss=Ms}if(0!==zi){const Qo=Gt-(fo-Ji);if(Qo<=x){const Os=r.charCodeAt(Qi);let Ts;Ts=gn.ZG(Os)?2:_a(Os,fo,x,J),Qo-Ts<0&&(zi=0)}}if(vs){Di--;continue}}if(0===zi&&(zi=Qi,Ji=fo),zi<=$n){const bo=r.charCodeAt($n);gn.ZG(bo)?(zi=$n+2,Ji=Gn+2):(zi=$n+1,Ji=Gn+_a(bo,Gn,x,J))}for($n=zi,an[Wn]=zi,Gn=Ji,un[Wn]=Ji,Wn++,ci=Ji+Gt;Di<0||Di<mi&&yt[Di]<Ji;)Di++;let No=Math.abs(yt[Di]-ci);for(;Di+1<mi;){const bo=Math.abs(yt[Di+1]-ci);if(bo>=No)break;No=bo,Di++}}return 0===Wn?null:(an.length=Wn,un.length=Wn,pa=i.breakOffsets,Cl=i.breakOffsetsVisibleColumn,i.breakOffsets=an,i.breakOffsetsVisibleColumn=un,i.wrappedTextIndentLength=Nt,i)}function ao(Wt,i,r,x,W,J,De){const We=cr.gk.applyInjectedText(i,r);let lt,yt;if(r&&r.length>0?(lt=r.map(Ji=>Ji.options),yt=r.map(Ji=>Ji.column-1)):(lt=null,yt=null),-1===W)return lt?new Zi(yt,lt,[We.length],[],0):null;const Nt=We.length;if(Nt<=1)return lt?new Zi(yt,lt,[We.length],[],0):null;const Gt=Na(We,x,W,J,De),an=W-Gt,un=[],Wn=[];let $n=0,Gn=0,ci=0,mi=W,Di=We.charCodeAt(0),Ui=Wt.get(Di),eo=_a(Di,0,x,J),zi=1;gn.ZG(Di)&&(eo+=1,Di=We.charCodeAt(1),Ui=Wt.get(Di),zi++);for(let Ji=zi;Ji<Nt;Ji++){const Qi=Ji,fo=We.charCodeAt(Ji);let No,bo;gn.ZG(fo)?(Ji++,No=0,bo=2):(No=Wt.get(fo),bo=_a(fo,eo,x,J)),Jr(0,Ui,fo,No)&&(Gn=Qi,ci=eo),eo+=bo,eo>mi&&((0===Gn||eo-ci>an)&&(Gn=Qi,ci=eo-bo),un[$n]=Gn,Wn[$n]=ci,$n++,mi=ci+an,Gn=0),Di=fo,Ui=No}return 0!==$n||r&&0!==r.length?(un[$n]=Nt,Wn[$n]=eo,new Zi(yt,lt,un,Wn,Gt)):null}function _a(Wt,i,r,x){return 9===Wt?r-i%r:gn.K7(Wt)||Wt<32?x:1}function al(Wt,i){return i-Wt%i}function Jr(Wt,i,r,x){return 32!==r&&(2===i&&2!==x||1!==i&&1===x||3===i&&2!==x||3===x&&1!==i)}function Na(Wt,i,r,x,W){let J=0;if(0!==W){const De=gn.LC(Wt);if(-1!==De){for(let lt=0;lt<De;lt++)J+=9===Wt.charCodeAt(lt)?al(J,i):1;const We=3===W?2:2===W?1:0;for(let lt=0;lt<We;lt++)J+=al(J,i);J+x>r&&(J=0)}}return J}var Ra;const bl=null===(Ra=window.trustedTypes)||void 0===Ra?void 0:Ra.createPolicy("domLineBreaksComputer",{createHTML:Wt=>Wt});class Bl{static create(){return new Bl}constructor(){}createLineBreaksComputer(i,r,x,W){const J=[],De=[];return{addRequest:(We,lt,yt)=>{J.push(We),De.push(lt)},finalize:()=>function kd(Wt,i,r,x,W,J){var De;function We(Qi){const fo=J[Qi];if(fo){const No=cr.gk.applyInjectedText(Wt[Qi],fo),bo=fo.map(ss=>ss.options),ps=fo.map(ss=>ss.column-1);return new Zi(ps,bo,[No.length],[],0)}return null}if(-1===x){const Qi=[];for(let fo=0,No=Wt.length;fo<No;fo++)Qi[fo]=We(fo);return Qi}const lt=Math.round(x*i.typicalHalfwidthCharacterWidth),Nt=Math.round(r*(3===W?2:2===W?1:0)),Gt=Math.ceil(i.spaceWidth*Nt),an=document.createElement("div");(0,An.N)(an,i);const un=(0,On.l$)(1e4),Wn=[],$n=[],Gn=[],ci=[],mi=[];for(let Qi=0;Qi<Wt.length;Qi++){const fo=cr.gk.applyInjectedText(Wt[Qi],J[Qi]);let No=0,bo=0,ps=lt;if(0!==W)if(No=gn.LC(fo),-1===No)No=0;else{for(let Os=0;Os<No;Os++)bo+=9===fo.charCodeAt(Os)?r-bo%r:1;const Qo=Math.ceil(i.spaceWidth*bo);Qo+i.typicalFullwidthCharacterWidth>lt?(No=0,bo=0):ps=lt-Qo}const ss=fo.substr(No),vs=Wl(ss,bo,r,ps,un,Gt);Wn[Qi]=No,$n[Qi]=bo,Gn[Qi]=ss,ci[Qi]=vs[0],mi[Qi]=vs[1]}const Di=un.build(),Ui=null!==(De=bl?.createHTML(Di))&&void 0!==De?De:Di;an.innerHTML=Ui,an.style.position="absolute",an.style.top="10000",an.style.wordWrap="break-word",document.body.appendChild(an);const eo=document.createRange(),zi=Array.prototype.slice.call(an.children,0),Ji=[];for(let Qi=0;Qi<Wt.length;Qi++){const No=va(eo,zi[Qi],Gn[Qi],ci[Qi]);if(null===No){Ji[Qi]=We(Qi);continue}const bo=Wn[Qi],ps=$n[Qi]+Nt,ss=mi[Qi],vs=[];for(let Ms=0,Dr=No.length;Ms<Dr;Ms++)vs[Ms]=ss[No[Ms]];if(0!==bo)for(let Ms=0,Dr=No.length;Ms<Dr;Ms++)No[Ms]+=bo;let Qo,Os;const Ts=J[Qi];Ts?(Qo=Ts.map(Ms=>Ms.options),Os=Ts.map(Ms=>Ms.column-1)):(Qo=null,Os=null),Ji[Qi]=new Zi(Os,Qo,No,vs,ps)}return document.body.removeChild(an),Ji}(J,i,r,x,W,De)}}}function Wl(Wt,i,r,x,W,J){if(0!==J){const an=String(J);W.appendASCIIString('<div style="text-indent: -'),W.appendASCIIString(an),W.appendASCIIString("px; padding-left: "),W.appendASCIIString(an),W.appendASCIIString("px; box-sizing: border-box; width:")}else W.appendASCIIString('<div style="width:');W.appendASCIIString(String(x)),W.appendASCIIString('px;">');const De=Wt.length;let We=i,lt=0;const yt=[],Nt=[];let Gt=0<De?Wt.charCodeAt(0):0;W.appendASCIIString("<span>");for(let an=0;an<De;an++){0!==an&&an%16384==0&&W.appendASCIIString("</span><span>"),yt[an]=lt,Nt[an]=We;const un=Gt;Gt=an+1<De?Wt.charCodeAt(an+1):0;let Wn=1,$n=1;switch(un){case 9:Wn=r-We%r,$n=Wn;for(let Gn=1;Gn<=Wn;Gn++)Gn<Wn?W.write1(160):W.appendASCII(32);break;case 32:32===Gt?W.write1(160):W.appendASCII(32);break;case 60:W.appendASCIIString("&lt;");break;case 62:W.appendASCIIString("&gt;");break;case 38:W.appendASCIIString("&amp;");break;case 0:W.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:W.write1(65533);break;default:gn.K7(un)&&$n++,W.write1(un<32?9216+un:un)}lt+=Wn,We+=$n}return W.appendASCIIString("</span>"),yt[Wt.length]=lt,Nt[Wt.length]=We,W.appendASCIIString("</div>"),[yt,Nt]}function va(Wt,i,r,x){if(r.length<=1)return null;const W=Array.prototype.slice.call(i.children,0),J=[];try{Ss(Wt,W,x,0,null,r.length-1,null,J)}catch(De){return console.log(De),null}return 0===J.length?null:(J.push(r.length),J)}function Ss(Wt,i,r,x,W,J,De,We){if(x===J||(W=W||fr(Wt,i,r[x],r[x+1]),De=De||fr(Wt,i,r[J],r[J+1]),Math.abs(W[0].top-De[0].top)<=.1))return;if(x+1===J)return void We.push(J);const lt=x+(J-x)/2|0,yt=fr(Wt,i,r[lt],r[lt+1]);Ss(Wt,i,r,x,W,lt,yt,We),Ss(Wt,i,r,lt,yt,J,De,We)}function fr(Wt,i,r,x){return Wt.setStart(i[r/16384|0].firstChild,r%16384),Wt.setEnd(i[x/16384|0].firstChild,x%16384),Wt.getClientRects()}var Ar=e(7878),Ca=e(94911),Za=e(90790),qr=function(Wt,i){return function(r,x){i(r,x,Wt)}};let ld=0;class dd{constructor(i,r,x,W,J){this.model=i,this.viewModel=r,this.view=x,this.hasRealView=W,this.listenersToRemove=J}dispose(){(0,H.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Oa=class nd extends H.JT{constructor(i,r,x,W,J,De,We,lt,yt,Nt,Gt,an){super(),this.languageConfigurationService=Gt,this._deliveryQueue=new O.F3,this._onDidDispose=this._register(new O.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Vl({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Vl({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new O.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const un=Object.assign({},r);let Wn;this._domElement=i,this._overflowWidgetsDomNode=un.overflowWidgetsDomNode,delete un.overflowWidgetsDomNode,this._id=++ld,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=x.telemetryData,this._configuration=this._register(this._createConfiguration(x.isSimpleWidget||!1,un,Nt)),this._register(this._configuration.onDidChange(Gn=>{this._onDidChangeConfiguration.fire(Gn);const ci=this._configuration.options;if(Gn.hasChanged(133)){const mi=ci.get(133);this._onDidLayoutChange.fire(mi)}})),this._contextKeyService=this._register(We.createScoped(this._domElement)),this._notificationService=yt,this._codeEditorService=J,this._commandService=De,this._themeService=lt,this._register(new cd(this,this._contextKeyService)),this._register(new ud(this,this._contextKeyService,an)),this._instantiationService=W.createChild(new os.y([$a.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Qa(i),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},Wn=Array.isArray(x.contributions)?x.contributions:t.Uc.getEditorContributions();for(const Gn of Wn)if(this._contributions[Gn.id])(0,P.dL)(new Error(`Cannot have two contributions with the same id ${Gn.id}`));else try{const ci=this._instantiationService.createInstance(Gn.ctor,this);this._contributions[Gn.id]=ci}catch(ci){(0,P.dL)(ci)}t.Uc.getEditorActions().forEach(Gn=>{if(this._actions[Gn.id])return void(0,P.dL)(new Error(`Cannot have two actions with the same id ${Gn.id}`));const ci=new Gs.p(Gn.id,Gn.label,Gn.alias,(0,ge.f6)(Gn.precondition),()=>this._instantiationService.invokeFunction(mi=>Promise.resolve(Gn.runEditorCommand(mi,this,null))),this._contextKeyService);this._actions[ci.id]=ci});const $n=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new I.eg(this._domElement,{onDragEnter:()=>{},onDragOver:Gn=>{if(!$n())return;const ci=this.getTargetAtClientPoint(Gn.clientX,Gn.clientY);ci?.position&&this.showDropIndicatorAt(ci.position)},onDrop:Gn=>function(Wt,i,r,x){return new(r||(r=Promise))(function(J,De){function We(Nt){try{yt(x.next(Nt))}catch(Gt){De(Gt)}}function lt(Nt){try{yt(x.throw(Nt))}catch(Gt){De(Gt)}}function yt(Nt){Nt.done?J(Nt.value):function W(J){return J instanceof r?J:new r(function(De){De(J)})}(Nt.value).then(We,lt)}yt((x=x.apply(Wt,i||[])).next())})}(this,void 0,void 0,function*(){if(!$n()||(this.removeDropIndicator(),!Gn.dataTransfer))return;const ci=this.getTargetAtClientPoint(Gn.clientX,Gn.clientY);ci?.position&&this._onDropIntoEditor.fire({position:ci.position,event:Gn})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(i,r,x){return new xe(i,r,this._domElement,x)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Ks.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const i=Object.keys(this._contributions);for(let r=0,x=i.length;r<x;r++)this._contributions[i[r]].dispose();this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(i){return this._instantiationService.invokeFunction(i)}updateOptions(i){this._configuration.updateOptions(i||{})}getOptions(){return this._configuration.options}getOption(i){return this._configuration.options.get(i)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(i){return this._modelData?Ar.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),i):null}getValue(i=null){if(!this._modelData)return"";let x=0;return i&&i.lineEnding&&"\n"===i.lineEnding?x=1:i&&i.lineEnding&&"\r\n"===i.lineEnding&&(x=2),this._modelData.model.getValue(x,!(!i||!i.preserveBOM))}setValue(i){!this._modelData||this._modelData.model.setValue(i)}getModel(){return this._modelData?this._modelData.model:null}setModel(i=null){const r=i;if(null===this._modelData&&null===r||this._modelData&&this._modelData.model===r)return;const x=this.hasTextFocus(),W=this._detachModel();this._attachModel(r),x&&this.hasModel()&&this.focus();const J={oldModelUrl:W?W.uri:null,newModelUrl:r?r.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(J),this._postDetachModelCleanup(W)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const i in this._decorationTypeSubtypes){const r=this._decorationTypeSubtypes[i];for(const x in r)this._removeDecorationType(i+"-"+x)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(i,r,x,W){const J=i.model.validatePosition({lineNumber:r,column:x}),De=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(J);return i.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(De.lineNumber,W)}getTopForLineNumber(i,r=!1){return this._modelData?nd._getVerticalOffsetForPosition(this._modelData,i,1,r):-1}getTopForPosition(i,r){return this._modelData?nd._getVerticalOffsetForPosition(this._modelData,i,r,!1):-1}static _getVerticalOffsetForPosition(i,r,x,W=!1){const J=i.model.validatePosition({lineNumber:r,column:x}),De=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition(J);return i.viewModel.viewLayout.getVerticalOffsetForLineNumber(De.lineNumber,W)}getBottomForLineNumber(i,r=!1){return this._modelData?nd._getVerticalOffsetAfterPosition(this._modelData,i,1,r):-1}setHiddenAreas(i){var r;null===(r=this._modelData)||void 0===r||r.viewModel.setHiddenAreas(i.map(x=>be.e.lift(x)))}getVisibleColumnFromPosition(i){if(!this._modelData)return i.column;const r=this._modelData.model.validatePosition(i),x=this._modelData.model.getOptions().tabSize;return qe.i.visibleColumnFromColumn(this._modelData.model.getLineContent(r.lineNumber),r.column,x)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(i,r="api"){if(this._modelData){if(!ue.L.isIPosition(i))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(r,[{selectionStartLineNumber:i.lineNumber,selectionStartColumn:i.column,positionLineNumber:i.lineNumber,positionColumn:i.column}])}}_sendRevealRange(i,r,x,W){if(!this._modelData)return;if(!be.e.isIRange(i))throw new Error("Invalid arguments");const J=this._modelData.model.validateRange(i),De=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(J);this._modelData.viewModel.revealRange("api",x,De,r,W)}revealLine(i,r=0){this._revealLine(i,0,r)}revealLineInCenter(i,r=0){this._revealLine(i,1,r)}revealLineInCenterIfOutsideViewport(i,r=0){this._revealLine(i,2,r)}revealLineNearTop(i,r=0){this._revealLine(i,5,r)}_revealLine(i,r,x){if("number"!=typeof i)throw new Error("Invalid arguments");this._sendRevealRange(new be.e(i,1,i,1),r,!1,x)}revealPosition(i,r=0){this._revealPosition(i,0,!0,r)}revealPositionInCenter(i,r=0){this._revealPosition(i,1,!0,r)}revealPositionInCenterIfOutsideViewport(i,r=0){this._revealPosition(i,2,!0,r)}revealPositionNearTop(i,r=0){this._revealPosition(i,5,!0,r)}_revealPosition(i,r,x,W){if(!ue.L.isIPosition(i))throw new Error("Invalid arguments");this._sendRevealRange(new be.e(i.lineNumber,i.column,i.lineNumber,i.column),r,x,W)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(i,r="api"){const x=Ue.Y.isISelection(i),W=be.e.isIRange(i);if(!x&&!W)throw new Error("Invalid arguments");x?this._setSelectionImpl(i,r):W&&this._setSelectionImpl({selectionStartLineNumber:i.startLineNumber,selectionStartColumn:i.startColumn,positionLineNumber:i.endLineNumber,positionColumn:i.endColumn},r)}_setSelectionImpl(i,r){if(!this._modelData)return;const x=new Ue.Y(i.selectionStartLineNumber,i.selectionStartColumn,i.positionLineNumber,i.positionColumn);this._modelData.viewModel.setSelections(r,[x])}revealLines(i,r,x=0){this._revealLines(i,r,0,x)}revealLinesInCenter(i,r,x=0){this._revealLines(i,r,1,x)}revealLinesInCenterIfOutsideViewport(i,r,x=0){this._revealLines(i,r,2,x)}revealLinesNearTop(i,r,x=0){this._revealLines(i,r,5,x)}_revealLines(i,r,x,W){if("number"!=typeof i||"number"!=typeof r)throw new Error("Invalid arguments");this._sendRevealRange(new be.e(i,1,r,1),x,!1,W)}revealRange(i,r=0,x=!1,W=!0){this._revealRange(i,x?1:0,W,r)}revealRangeInCenter(i,r=0){this._revealRange(i,1,!0,r)}revealRangeInCenterIfOutsideViewport(i,r=0){this._revealRange(i,2,!0,r)}revealRangeNearTop(i,r=0){this._revealRange(i,5,!0,r)}revealRangeNearTopIfOutsideViewport(i,r=0){this._revealRange(i,6,!0,r)}revealRangeAtTop(i,r=0){this._revealRange(i,3,!0,r)}_revealRange(i,r,x,W){if(!be.e.isIRange(i))throw new Error("Invalid arguments");this._sendRevealRange(be.e.lift(i),r,x,W)}setSelections(i,r="api",x=0){if(this._modelData){if(!i||0===i.length)throw new Error("Invalid arguments");for(let W=0,J=i.length;W<J;W++)if(!Ue.Y.isISelection(i[W]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(r,i,x)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(i,r=1){if(this._modelData){if("number"!=typeof i)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:i},r)}}setScrollTop(i,r=1){if(this._modelData){if("number"!=typeof i)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:i},r)}}setScrollPosition(i,r=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(i,r)}saveViewState(){if(!this._modelData)return null;const i={},r=Object.keys(this._contributions);for(const J of r){const De=this._contributions[J];"function"==typeof De.saveViewState&&(i[J]=De.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:i}}restoreViewState(i){if(!this._modelData||!this._modelData.hasRealView)return;const r=i;if(r&&r.cursorState&&r.viewState){const x=r.cursorState;Array.isArray(x)?x.length>0&&this._modelData.viewModel.restoreCursorState(x):this._modelData.viewModel.restoreCursorState([x]);const W=r.contributionsState||{},J=Object.keys(this._contributions);for(let We=0,lt=J.length;We<lt;We++){const yt=J[We],Nt=this._contributions[yt];"function"==typeof Nt.restoreViewState&&Nt.restoreViewState(W[yt])}const De=this._modelData.viewModel.reduceRestoreState(r.viewState);this._modelData.view.restoreState(De)}}getContribution(i){return this._contributions[i]||null}getActions(){const i=[],r=Object.keys(this._actions);for(let x=0,W=r.length;x<W;x++)i.push(this._actions[r[x]]);return i}getSupportedActions(){let i=this.getActions();return i=i.filter(r=>r.isSupported()),i}getAction(i){return this._actions[i]||null}trigger(i,r,x){switch(x=x||{},r){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(i);case"type":return void this._type(i,x.text||"");case"replacePreviousChar":return void this._compositionType(i,x.text||"",x.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(i,x.text||"",x.replacePrevCharCnt||0,x.replaceNextCharCnt||0,x.positionDelta||0);case"paste":return void this._paste(i,x.text||"",x.pasteOnNewLine||!1,x.multicursorText||null,x.mode||null);case"cut":return void this._cut(i)}const W=this.getAction(r);W?Promise.resolve(W.run()).then(void 0,P.dL):!this._modelData||this._triggerEditorCommand(i,r,x)||this._triggerCommand(r,x)}_triggerCommand(i,r){this._commandService.executeCommand(i,r)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(i){!this._modelData||(this._modelData.viewModel.endComposition(i),this._onDidCompositionEnd.fire())}_type(i,r){!this._modelData||0===r.length||("keyboard"===i&&this._onWillType.fire(r),this._modelData.viewModel.type(r,i),"keyboard"===i&&this._onDidType.fire(r))}_compositionType(i,r,x,W,J){!this._modelData||this._modelData.viewModel.compositionType(r,x,W,J,i)}_paste(i,r,x,W,J){if(!this._modelData||0===r.length)return;const De=this._modelData.viewModel,We=De.getSelection().getStartPosition();De.paste(r,x,W,i);const lt=De.getSelection().getStartPosition();"keyboard"===i&&this._onDidPaste.fire({range:new be.e(We.lineNumber,We.column,lt.lineNumber,lt.column),languageId:J})}_cut(i){!this._modelData||this._modelData.viewModel.cut(i)}_triggerEditorCommand(i,r,x){const W=t.Uc.getEditorCommand(r);return!!W&&((x=x||{}).source=i,this._instantiationService.invokeFunction(J=>{Promise.resolve(W.runEditorCommand(J,this,x)).then(void 0,P.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(83)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(83)||(this._modelData.model.popStackElement(),0))}executeEdits(i,r,x){if(!this._modelData||this._configuration.options.get(83))return!1;let W;return W=x?Array.isArray(x)?()=>x:x:()=>null,this._modelData.viewModel.executeEdits(i,r,W),!0}executeCommand(i,r){!this._modelData||this._modelData.viewModel.executeCommand(r,i)}executeCommands(i,r){!this._modelData||this._modelData.viewModel.executeCommands(r,i)}createDecorationsCollection(i){return new hd(this,i)}changeDecorations(i){return this._modelData?this._modelData.model.changeDecorations(i,this._id):null}getLineDecorations(i){return this._modelData?this._modelData.model.getLineDecorations(i,this._id,(0,Se.$J)(this._configuration.options)):null}getDecorationsInRange(i){return this._modelData?this._modelData.model.getDecorationsInRange(i,this._id,(0,Se.$J)(this._configuration.options)):null}deltaDecorations(i,r){return this._modelData?0===i.length&&0===r.length?i:this._modelData.model.deltaDecorations(i,r,this._id):[]}removeDecorations(i){!this._modelData||0===i.length||this._modelData.model.changeDecorations(r=>{r.deltaDecorations(i,[])})}removeDecorationsByType(i){const r=this._decorationTypeKeysToIds[i];r&&this.deltaDecorations(r,[]),this._decorationTypeKeysToIds.hasOwnProperty(i)&&delete this._decorationTypeKeysToIds[i],this._decorationTypeSubtypes.hasOwnProperty(i)&&delete this._decorationTypeSubtypes[i]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(i){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(i):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(i)}layout(i){this._configuration.observeContainer(i),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(i){const r={widget:i,position:i.getPosition()};this._contentWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[i.getId()]=r,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(r)}layoutContentWidget(i){const r=i.getId();if(this._contentWidgets.hasOwnProperty(r)){const x=this._contentWidgets[r];x.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(x)}}removeContentWidget(i){const r=i.getId();if(this._contentWidgets.hasOwnProperty(r)){const x=this._contentWidgets[r];delete this._contentWidgets[r],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(x)}}addOverlayWidget(i){const r={widget:i,position:i.getPosition()};this._overlayWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[i.getId()]=r,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(r)}layoutOverlayWidget(i){const r=i.getId();if(this._overlayWidgets.hasOwnProperty(r)){const x=this._overlayWidgets[r];x.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(x)}}removeOverlayWidget(i){const r=i.getId();if(this._overlayWidgets.hasOwnProperty(r)){const x=this._overlayWidgets[r];delete this._overlayWidgets[r],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(x)}}changeViewZones(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(i)}getTargetAtClientPoint(i,r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(i,r):null}getScrolledVisiblePosition(i){if(!this._modelData||!this._modelData.hasRealView)return null;const r=this._modelData.model.validatePosition(i),x=this._configuration.options,W=x.get(133);return{top:nd._getVerticalOffsetForPosition(this._modelData,r.lineNumber,r.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(r.lineNumber,r.column)+W.glyphMarginWidth+W.lineNumbersWidth+W.decorationsWidth-this.getScrollLeft(),height:x.get(61)}}getOffsetForColumn(i,r){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(i,r):-1}render(i=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,i)}setAriaOptions(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(i)}applyFontInfo(i){(0,An.N)(i,this._configuration.options.get(46))}setBanner(i,r){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=i,this._configuration.setReservedHeight(i?r:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(i){if(!i)return void(this._modelData=null);const r=[];this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._configuration.setIsDominatedByLongLines(i.isDominatedByLongLines()),this._configuration.setModelLineCount(i.getLineCount()),i.onBeforeAttached();const x=new kl(this._id,this._configuration,i,Bl.create(),Ti.create(this._configuration.options),De=>I.jL(De),this.languageConfigurationService,this._themeService);r.push(i.onWillDispose(()=>this.setModel(null))),r.push(x.onEvent(De=>{switch(De.kind){case 0:this._onDidContentSizeChange.fire(De);break;case 1:this._editorTextFocus.setValue(De.hasFocus);break;case 2:this._onDidScrollChange.fire(De);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{De.reachedMaxCursorCount&&this._notificationService.warn(w.NC("cursors.maximum","The number of cursors has been limited to {0}.",Zo.MAX_CURSOR_COUNT));const We=[];for(let Nt=0,Gt=De.selections.length;Nt<Gt;Nt++)We[Nt]=De.selections[Nt].getPosition();const lt={position:We[0],secondaryPositions:We.slice(1),reason:De.reason,source:De.source};this._onDidChangeCursorPosition.fire(lt);const yt={selection:De.selections[0],secondarySelections:De.selections.slice(1),modelVersionId:De.modelVersionId,oldSelections:De.oldSelections,oldModelVersionId:De.oldModelVersionId,source:De.source,reason:De.reason};this._onDidChangeCursorSelection.fire(yt);break}case 7:this._onDidChangeModelDecorations.fire(De.event);break;case 8:this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._onDidChangeModelLanguage.fire(De.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(De.event);break;case 10:this._onDidChangeModelContent.fire(De.event);break;case 11:this._onDidChangeModelOptions.fire(De.event);break;case 12:this._onDidChangeModelTokens.fire(De.event)}}));const[W,J]=this._createView(x);if(J){this._domElement.appendChild(W.domNode.domNode);let De=Object.keys(this._contentWidgets);for(let We=0,lt=De.length;We<lt;We++)W.addContentWidget(this._contentWidgets[De[We]]);De=Object.keys(this._overlayWidgets);for(let We=0,lt=De.length;We<lt;We++)W.addOverlayWidget(this._overlayWidgets[De[We]]);W.render(!1,!0),W.domNode.domNode.setAttribute("data-uri",i.uri.toString())}this._modelData=new dd(i,x,W,J,r)}_createView(i){let r;r=this.isSimpleWidget?{paste:(J,De,We,lt)=>{this._paste("keyboard",J,De,We,lt)},type:J=>{this._type("keyboard",J)},compositionType:(J,De,We,lt)=>{this._compositionType("keyboard",J,De,We,lt)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(J,De,We,lt)=>{this._commandService.executeCommand("paste",{text:J,pasteOnNewLine:De,multicursorText:We,mode:lt})},type:J=>{this._commandService.executeCommand("type",{text:J})},compositionType:(J,De,We,lt)=>{We||lt?this._commandService.executeCommand("compositionType",{text:J,replacePrevCharCnt:De,replaceNextCharCnt:We,positionDelta:lt}):this._commandService.executeCommand("replacePreviousChar",{text:J,replaceCharCnt:De})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const x=new ln(i.coordinatesConverter);return x.onKeyDown=J=>this._onKeyDown.fire(J),x.onKeyUp=J=>this._onKeyUp.fire(J),x.onContextMenu=J=>this._onContextMenu.fire(J),x.onMouseMove=J=>this._onMouseMove.fire(J),x.onMouseLeave=J=>this._onMouseLeave.fire(J),x.onMouseDown=J=>this._onMouseDown.fire(J),x.onMouseUp=J=>this._onMouseUp.fire(J),x.onMouseDrag=J=>this._onMouseDrag.fire(J),x.onMouseDrop=J=>this._onMouseDrop.fire(J),x.onMouseDropCanceled=J=>this._onMouseDropCanceled.fire(J),x.onMouseWheel=J=>this._onMouseWheel.fire(J),[new Js(r,this._configuration,this._themeService.getColorTheme(),i,x,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(i){i?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const i=this._modelData.model,r=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),r&&this._domElement.contains(r)&&this._domElement.removeChild(r),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),i}_removeDecorationType(i){this._codeEditorService.removeDecorationType(i)}hasModel(){return null!==this._modelData}showDropIndicatorAt(i){const r=[{range:new be.e(i.lineNumber,i.column,i.lineNumber,i.column),options:nd.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(r),this.revealPosition(i,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Oa.dropIntoEditorDecorationOptions=ws.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Oa=function(Wt,i,r,x){var De,W=arguments.length,J=W<3?i:null===x?x=Object.getOwnPropertyDescriptor(i,r):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(Wt,i,r,x);else for(var We=Wt.length-1;We>=0;We--)(De=Wt[We])&&(J=(W<3?De(J):W>3?De(i,r,J):De(i,r))||J);return W>3&&J&&Object.defineProperty(i,r,J),J}([qr(3,Fl.TG),qr(4,ce.$),qr(5,vl.Hy),qr(6,$a.i6),qr(7,ji.XE),qr(8,ma.lT),qr(9,Ne.F),qr(10,Ca.c_),qr(11,Za.p)],Oa);class Vl extends H.JT{constructor(i){super(),this._emitterOptions=i,this._onDidChangeToTrue=this._register(new O.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new O.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(i){const r=i?2:1;this._value!==r&&(this._value=r,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class cd extends H.JT{constructor(i,r){super(),this._editor=i,r.createKey("editorId",i.getId()),this._editorSimpleInput=Bo.u.editorSimpleInput.bindTo(r),this._editorFocus=Bo.u.focus.bindTo(r),this._textInputFocus=Bo.u.textInputFocus.bindTo(r),this._editorTextFocus=Bo.u.editorTextFocus.bindTo(r),this._editorTabMovesFocus=Bo.u.tabMovesFocus.bindTo(r),this._editorReadonly=Bo.u.readOnly.bindTo(r),this._inDiffEditor=Bo.u.inDiffEditor.bindTo(r),this._editorColumnSelection=Bo.u.columnSelection.bindTo(r),this._hasMultipleSelections=Bo.u.hasMultipleSelections.bindTo(r),this._hasNonEmptySelection=Bo.u.hasNonEmptySelection.bindTo(r),this._canUndo=Bo.u.canUndo.bindTo(r),this._canRedo=Bo.u.canRedo.bindTo(r),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const i=this._editor.getOptions();this._editorTabMovesFocus.set(i.get(132)),this._editorReadonly.set(i.get(83)),this._inDiffEditor.set(i.get(56)),this._editorColumnSelection.set(i.get(18))}_updateFromSelection(){const i=this._editor.getSelections();i?(this._hasMultipleSelections.set(i.length>1),this._hasNonEmptySelection.set(i.some(r=>!r.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const i=this._editor.getModel();this._canUndo.set(Boolean(i&&i.canUndo())),this._canRedo.set(Boolean(i&&i.canRedo()))}}class ud extends H.JT{constructor(i,r,x){super(),this._editor=i,this._contextKeyService=r,this._languageFeaturesService=x,this._langId=Bo.u.languageId.bindTo(r),this._hasCompletionItemProvider=Bo.u.hasCompletionItemProvider.bindTo(r),this._hasCodeActionsProvider=Bo.u.hasCodeActionsProvider.bindTo(r),this._hasCodeLensProvider=Bo.u.hasCodeLensProvider.bindTo(r),this._hasDefinitionProvider=Bo.u.hasDefinitionProvider.bindTo(r),this._hasDeclarationProvider=Bo.u.hasDeclarationProvider.bindTo(r),this._hasImplementationProvider=Bo.u.hasImplementationProvider.bindTo(r),this._hasTypeDefinitionProvider=Bo.u.hasTypeDefinitionProvider.bindTo(r),this._hasHoverProvider=Bo.u.hasHoverProvider.bindTo(r),this._hasDocumentHighlightProvider=Bo.u.hasDocumentHighlightProvider.bindTo(r),this._hasDocumentSymbolProvider=Bo.u.hasDocumentSymbolProvider.bindTo(r),this._hasReferenceProvider=Bo.u.hasReferenceProvider.bindTo(r),this._hasRenameProvider=Bo.u.hasRenameProvider.bindTo(r),this._hasSignatureHelpProvider=Bo.u.hasSignatureHelpProvider.bindTo(r),this._hasInlayHintsProvider=Bo.u.hasInlayHintsProvider.bindTo(r),this._hasDocumentFormattingProvider=Bo.u.hasDocumentFormattingProvider.bindTo(r),this._hasDocumentSelectionFormattingProvider=Bo.u.hasDocumentSelectionFormattingProvider.bindTo(r),this._hasMultipleDocumentFormattingProvider=Bo.u.hasMultipleDocumentFormattingProvider.bindTo(r),this._hasMultipleDocumentSelectionFormattingProvider=Bo.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(r),this._isInWalkThrough=Bo.u.isInWalkThroughSnippet.bindTo(r);const W=()=>this._update();this._register(i.onDidChangeModel(W)),this._register(i.onDidChangeModelLanguage(W)),this._register(x.completionProvider.onDidChange(W)),this._register(x.codeActionProvider.onDidChange(W)),this._register(x.codeLensProvider.onDidChange(W)),this._register(x.definitionProvider.onDidChange(W)),this._register(x.declarationProvider.onDidChange(W)),this._register(x.implementationProvider.onDidChange(W)),this._register(x.typeDefinitionProvider.onDidChange(W)),this._register(x.hoverProvider.onDidChange(W)),this._register(x.documentHighlightProvider.onDidChange(W)),this._register(x.documentSymbolProvider.onDidChange(W)),this._register(x.referenceProvider.onDidChange(W)),this._register(x.renameProvider.onDidChange(W)),this._register(x.documentFormattingEditProvider.onDidChange(W)),this._register(x.documentRangeFormattingEditProvider.onDidChange(W)),this._register(x.signatureHelpProvider.onDidChange(W)),this._register(x.inlayHintsProvider.onDidChange(W)),W()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const i=this._editor.getModel();i?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(i.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(i)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(i)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(i)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(i)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(i)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(i)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(i)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(i)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(i)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(i)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(i)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(i)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(i)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(i)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(i)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(i).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._isInWalkThrough.set(i.uri.scheme===U.lg.walkThroughSnippet)}):this.reset()}}class Qa extends H.JT{constructor(i){super(),this._onChange=this._register(new O.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(I.go(i)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class hd{constructor(i,r){this._editor=i,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(r)&&r.length>0&&this.set(r)}get length(){return this._decorationIds.length}onDidChange(i,r,x){return this._editor.onDidChangeModelDecorations(W=>{this._isChangingDecorations||i.call(r,W)},x)}getRange(i){return!this._editor.hasModel()||i>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[i])}getRanges(){if(!this._editor.hasModel())return[];const i=this._editor.getModel(),r=[];for(const x of this._decorationIds){const W=i.getDecorationRange(x);W&&r.push(W)}return r}has(i){return this._decorationIds.includes(i.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(i){try{this._isChangingDecorations=!0,this._editor.changeDecorations(r=>{this._decorationIds=r.deltaDecorations(this._decorationIds,i)})}finally{this._isChangingDecorations=!1}}}const ll=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Hl=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ka(Wt){return ll+encodeURIComponent(Wt.toString())+Hl}const ya=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),yl=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,ji.Ic)((Wt,i)=>{const r=Wt.getColor(Xe.b6y);r&&i.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${r}; }`);const x=Wt.getColor(Xe.lXJ);x&&i.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ka(x)}") repeat-x bottom left; }`);const W=Wt.getColor(Xe.L_H);W&&i.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${W}; }`);const J=Wt.getColor(Xe.pW3);J&&i.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${J}; }`);const De=Wt.getColor(Xe.uoC);De&&i.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ka(De)}") repeat-x bottom left; }`);const We=Wt.getColor(Xe.gpD);We&&i.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${We}; }`);const lt=Wt.getColor(Xe.T83);lt&&i.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${lt}; }`);const yt=Wt.getColor(Xe.c63);yt&&i.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ka(yt)}") repeat-x bottom left; }`);const Nt=Wt.getColor(Xe.few);Nt&&i.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Nt}; }`);const Gt=Wt.getColor(Xe.fEB);Gt&&i.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${Gt}; }`);const an=Wt.getColor(Xe.Dut);an&&i.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function fd(Wt){return ya+encodeURIComponent(Wt.toString())+yl}(an)}") no-repeat bottom left; }`);const un=Wt.getColor(Ki.zu);un&&i.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${un.rgba.a}; }`);const Wn=Wt.getColor(Ki.kp);Wn&&i.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Wn}; }`);const $n=Wt.getColor(Xe.NOs)||"inherit";i.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${$n}}`)})},19186:(Et,X,e)=>{"use strict";e.d(X,{H:()=>n});var d=e(6276),t=e(33745),l=e(85421),S=e(66549),v=e(16468),T=e(9265),C=e(54436),E=e(40902),L=e(64280),_=e(94911),s=e(90790),c=function(a,p){return function(u,g){p(u,g,a)}};let n=class extends l.Gm{constructor(p,u,g,b,y,D,w,I,P,O,H,U){super(p,Object.assign(Object.assign({},g.getRawOptions()),{overflowWidgetsDomNode:g.getOverflowWidgetsDomNode()}),{},b,y,D,w,I,P,O,H,U),this._parentEditor=g,this._overwriteOptions=u,super.updateOptions(this._overwriteOptions),this._register(g.onDidChangeConfiguration(K=>this._onParentConfigurationChanged(K)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(p){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(p){d.jB(this._overwriteOptions,p,!0),super.updateOptions(this._overwriteOptions)}};n=function(a,p,u,g){var D,b=arguments.length,y=b<3?p:null===g?g=Object.getOwnPropertyDescriptor(p,u):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(a,p,u,g);else for(var w=a.length-1;w>=0;w--)(D=a[w])&&(y=(b<3?D(y):b>3?D(p,u,y):D(p,u))||y);return b>3&&y&&Object.defineProperty(p,u,y),y}([c(3,T.TG),c(4,t.$),c(5,S.Hy),c(6,v.i6),c(7,E.XE),c(8,C.lT),c(9,L.F),c(10,_.c_),c(11,s.p)],n)},22599:(Et,X,e)=>{"use strict";e.d(X,{OY:()=>l,Sj:()=>S,T4:()=>t,Uo:()=>v,hP:()=>T});var d=e(7233);class t{constructor(E,L,_=!1){this._range=E,this._text=L,this.insertsAutoWhitespace=_}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const s=L.getInverseEditOperations()[0].range;return d.Y.fromPositions(s.getEndPosition())}}class l{constructor(E,L){this._range=E,this._text=L}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const s=L.getInverseEditOperations()[0].range;return d.Y.fromRange(s,0)}}class S{constructor(E,L,_=!1){this._range=E,this._text=L,this.insertsAutoWhitespace=_}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const s=L.getInverseEditOperations()[0].range;return d.Y.fromPositions(s.getStartPosition())}}class v{constructor(E,L,_,s,m=!1){this._range=E,this._text=L,this._columnDeltaOffset=s,this._lineNumberDeltaOffset=_,this.insertsAutoWhitespace=m}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const s=L.getInverseEditOperations()[0].range;return d.Y.fromPositions(s.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class T{constructor(E,L,_,s=!1){this._range=E,this._text=L,this._initialSelection=_,this._forceMoveMarkers=s,this._selectionId=null}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=L.trackSelection(this._initialSelection)}computeCursorState(E,L){return L.getTrackedSelection(this._selectionId)}}},91117:(Et,X,e)=>{"use strict";e.d(X,{U:()=>s});var d=e(73879),t=e(5409),l=e(98570),S=e(7233),v=e(12969),T=e(94911);const L=Object.create(null);function _(m,c){if(c<=0)return"";L[m]||(L[m]=["",m]);const n=L[m];for(let a=n.length;a<=c;a++)n[a]=n[a-1]+m;return n[c]}let s=class yc{constructor(c,n,a){this._languageConfigurationService=a,this._opts=n,this._selection=c,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(c,n,a,p,u){const g=t.i.visibleColumnFromColumn(c,n,a);if(u){const b=_(" ",p);return _(b,t.i.prevIndentTabStop(g,p)/p)}return _("\t",t.i.prevRenderTabStop(g,a)/a)}static shiftIndent(c,n,a,p,u){const g=t.i.visibleColumnFromColumn(c,n,a);if(u){const b=_(" ",p);return _(b,t.i.nextIndentTabStop(g,p)/p)}return _("\t",t.i.nextRenderTabStop(g,a)/a)}_addEditOperation(c,n,a){this._useLastEditRangeForCursorEndPosition?c.addTrackedEditOperation(n,a):c.addEditOperation(n,a)}getEditOperations(c,n){const a=this._selection.startLineNumber;let p=this._selection.endLineNumber;1===this._selection.endColumn&&a!==p&&(p-=1);const{tabSize:u,indentSize:g,insertSpaces:b}=this._opts,y=a===p;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(c.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let D=0,w=0;for(let I=a;I<=p;I++,D=w){w=0;const P=c.getLineContent(I);let H,O=d.LC(P);if((!this._opts.isUnshift||0!==P.length&&0!==O)&&(y||this._opts.isUnshift||0!==P.length)){if(-1===O&&(O=P.length),I>1&&t.i.visibleColumnFromColumn(P,O+1,u)%g!=0&&c.tokenization.isCheapToTokenize(I-1)){const K=(0,v.A)(this._opts.autoIndent,c,new l.e(I-1,c.getLineMaxColumn(I-1),I-1,c.getLineMaxColumn(I-1)),this._languageConfigurationService);if(K){if(w=D,K.appendText)for(let F=0,B=K.appendText.length;F<B&&w<g&&32===K.appendText.charCodeAt(F);F++)w++;K.removeText&&(w=Math.max(0,w-K.removeText));for(let F=0;F<w&&0!==O&&32===P.charCodeAt(O-1);F++)O--}}this._opts.isUnshift&&0===O||(H=this._opts.isUnshift?yc.unshiftIndent(P,O+1,u,g,b):yc.shiftIndent(P,O+1,u,g,b),this._addEditOperation(n,new l.e(I,1,I,O+1),H),I===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=O+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===c.getLineLength(a)&&(this._useLastEditRangeForCursorEndPosition=!0);const D=b?_(" ",g):"\t";for(let w=a;w<=p;w++){const I=c.getLineContent(w);let P=d.LC(I);if((!this._opts.isUnshift||0!==I.length&&0!==P)&&(y||this._opts.isUnshift||0!==I.length)&&(-1===P&&(P=I.length),!this._opts.isUnshift||0!==P))if(this._opts.isUnshift){P=Math.min(P,g);for(let O=0;O<P;O++)if(9===I.charCodeAt(O)){P=O+1;break}this._addEditOperation(n,new l.e(w,1,w,P+1),"")}else this._addEditOperation(n,new l.e(w,1,w,1),D),w===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=n.trackSelection(this._selection)}computeCursorState(c,n){if(this._useLastEditRangeForCursorEndPosition){const p=n.getInverseEditOperations()[0];return new S.Y(p.range.endLineNumber,p.range.endColumn,p.range.endLineNumber,p.range.endColumn)}const a=n.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const p=this._selection.startColumn;return a.startColumn<=p?a:0===a.getDirection()?new S.Y(a.startLineNumber,p,a.endLineNumber,a.endColumn):new S.Y(a.endLineNumber,a.endColumn,a.startLineNumber,p)}return a}};var c;s=function(m,c,n,a){var g,p=arguments.length,u=p<3?c:null===a?a=Object.getOwnPropertyDescriptor(c,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(m,c,n,a);else for(var b=m.length-1;b>=0;b--)(g=m[b])&&(u=(p<3?g(u):p>3?g(c,n,u):g(c,n))||u);return p>3&&u&&Object.defineProperty(c,n,u),u}([(2,c=T.c_,function(n,a){c(n,a,2)})],s)},61904:(Et,X,e)=>{"use strict";e.d(X,{Pe:()=>m,ei:()=>s,wk:()=>T});var d=e(54862),t=e(39945),l=e(55197),S=e(29093),v=e(4259);const T=Object.freeze({id:"editor",order:5,type:"object",title:l.NC("editorConfigurationTitle","Editor"),scope:5}),C=Object.assign(Object.assign({},T),{properties:{"editor.tabSize":{type:"number",default:t.D.tabSize,minimum:1,markdownDescription:l.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:t.D.insertSpaces,markdownDescription:l.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:t.D.detectIndentation,markdownDescription:l.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:t.D.trimAutoWhitespace,description:l.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:t.D.largeFileOptimizations,description:l.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:l.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[l.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),l.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),l.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:l.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[l.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),l.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),l.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:l.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:l.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:l.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:l.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:l.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:l.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:l.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:l.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:l.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:l.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:l.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:l.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:l.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:l.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:l.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:l.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[l.NC("wordWrap.off","Lines will never wrap."),l.NC("wordWrap.on","Lines will wrap at the viewport width."),l.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function E(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of d.Bc){const a=n.schema;if(typeof a<"u")if(E(a))C.properties[`editor.${n.name}`]=a;else for(const p in a)Object.hasOwnProperty.call(a,p)&&(C.properties[p]=a[p])}let L=null;function _(){return null===L&&(L=Object.create(null),Object.keys(C.properties).forEach(n=>{L[n]=!0})),L}function s(n){return _()[`editor.${n}`]||!1}function m(n){return _()[`diffEditor.${n}`]||!1}v.B.as(S.IP.Configuration).registerConfiguration(C)},54862:(Et,X,e)=>{"use strict";e.d(X,{$J:()=>ze,Av:()=>nt,BH:()=>Kt,Bb:()=>E,Bc:()=>mt,LJ:()=>L,NY:()=>D,O7:()=>a,Zc:()=>u,d2:()=>K,gk:()=>M,hL:()=>vt,n0:()=>j,qt:()=>Dt,rk:()=>s,y0:()=>C});var d=e(55197),t=e(8841),l=e(50894),S=e(64023),v=e(6276),T=e(39945);const C=8;class E{constructor(Ge){this._values=Ge}hasChanged(Ge){return this._values[Ge]}}class L{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class _{constructor(Ge,ut,Ut,hn){this.id=Ge,this.name=ut,this.defaultValue=Ut,this.schema=hn}applyUpdate(Ge,ut){return m(Ge,ut)}compute(Ge,ut,Ut){return Ut}}class s{constructor(Ge,ut){this.newValue=Ge,this.didChange=ut}}function m(Bt,Ge){if("object"!=typeof Bt||"object"!=typeof Ge||!Bt||!Ge)return new s(Ge,Bt!==Ge);if(Array.isArray(Bt)||Array.isArray(Ge)){const Ut=Array.isArray(Bt)&&Array.isArray(Ge)&&S.fS(Bt,Ge);return new s(Ge,!Ut)}let ut=!1;for(const Ut in Ge)if(Ge.hasOwnProperty(Ut)){const hn=m(Bt[Ut],Ge[Ut]);hn.didChange&&(Bt[Ut]=hn.newValue,ut=!0)}return new s(Bt,ut)}class c{constructor(Ge){this.schema=void 0,this.id=Ge,this.name="_never_",this.defaultValue=void 0}applyUpdate(Ge,ut){return m(Ge,ut)}validate(Ge){return this.defaultValue}}class n{constructor(Ge,ut,Ut,hn){this.id=Ge,this.name=ut,this.defaultValue=Ut,this.schema=hn}applyUpdate(Ge,ut){return m(Ge,ut)}validate(Ge){return typeof Ge>"u"?this.defaultValue:Ge}compute(Ge,ut,Ut){return Ut}}function a(Bt,Ge){return typeof Bt>"u"?Ge:"false"!==Bt&&Boolean(Bt)}class p extends n{constructor(Ge,ut,Ut,hn){typeof hn<"u"&&(hn.type="boolean",hn.default=Ut),super(Ge,ut,Ut,hn)}validate(Ge){return a(Ge,this.defaultValue)}}function u(Bt,Ge,ut,Ut){if(typeof Bt>"u")return Ge;let hn=parseInt(Bt,10);return isNaN(hn)?Ge:(hn=Math.max(ut,hn),hn=Math.min(Ut,hn),0|hn)}class g extends n{constructor(Ge,ut,Ut,hn,Dn,wt){typeof wt<"u"&&(wt.type="integer",wt.default=Ut,wt.minimum=hn,wt.maximum=Dn),super(Ge,ut,Ut,wt),this.minimum=hn,this.maximum=Dn}static clampedInt(Ge,ut,Ut,hn){return u(Ge,ut,Ut,hn)}validate(Ge){return g.clampedInt(Ge,this.defaultValue,this.minimum,this.maximum)}}class b extends n{constructor(Ge,ut,Ut,hn,Dn){typeof Dn<"u"&&(Dn.type="number",Dn.default=Ut),super(Ge,ut,Ut,Dn),this.validationFn=hn}static clamp(Ge,ut,Ut){return Ge<ut?ut:Ge>Ut?Ut:Ge}static float(Ge,ut){if("number"==typeof Ge)return Ge;if(typeof Ge>"u")return ut;const Ut=parseFloat(Ge);return isNaN(Ut)?ut:Ut}validate(Ge){return this.validationFn(b.float(Ge,this.defaultValue))}}class y extends n{static string(Ge,ut){return"string"!=typeof Ge?ut:Ge}constructor(Ge,ut,Ut,hn){typeof hn<"u"&&(hn.type="string",hn.default=Ut),super(Ge,ut,Ut,hn)}validate(Ge){return y.string(Ge,this.defaultValue)}}function D(Bt,Ge,ut){return"string"!=typeof Bt||-1===ut.indexOf(Bt)?Ge:Bt}class w extends n{constructor(Ge,ut,Ut,hn,Dn){typeof Dn<"u"&&(Dn.type="string",Dn.enum=hn,Dn.default=Ut),super(Ge,ut,Ut,Dn),this._allowedValues=hn}validate(Ge){return D(Ge,this.defaultValue,this._allowedValues)}}class I extends _{constructor(Ge,ut,Ut,hn,Dn,wt,je){typeof je<"u"&&(je.type="string",je.enum=Dn,je.default=hn),super(Ge,ut,Ut,je),this._allowedValues=Dn,this._convert=wt}validate(Ge){return"string"!=typeof Ge||-1===this._allowedValues.indexOf(Ge)?this.defaultValue:this._convert(Ge)}}var K=(()=>{return(Bt=K||(K={}))[Bt.Line=1]="Line",Bt[Bt.Block=2]="Block",Bt[Bt.Underline=3]="Underline",Bt[Bt.LineThin=4]="LineThin",Bt[Bt.BlockOutline=5]="BlockOutline",Bt[Bt.UnderlineThin=6]="UnderlineThin",K;var Bt})();let j=(()=>{class Bt extends _{constructor(){super(47,"fontLigatures",Bt.OFF,{anyOf:[{type:"boolean",description:d.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:d.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:d.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(ut){return typeof ut>"u"?this.defaultValue:"string"==typeof ut?"false"===ut?Bt.OFF:"true"===ut?Bt.ON:ut:Boolean(ut)?Bt.ON:Bt.OFF}}return Bt.OFF='"liga" off, "calt" off',Bt.ON='"liga" on, "calt" on',Bt})(),V=(()=>{class Bt extends _{constructor(){super(49,"fontWeight",vt.fontWeight,{anyOf:[{type:"number",minimum:Bt.MINIMUM_VALUE,maximum:Bt.MAXIMUM_VALUE,errorMessage:d.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Bt.SUGGESTION_VALUES}],default:vt.fontWeight,description:d.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(ut){return"normal"===ut||"bold"===ut?ut:String(g.clampedInt(ut,vt.fontWeight,Bt.MINIMUM_VALUE,Bt.MAXIMUM_VALUE))}}return Bt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Bt.MINIMUM_VALUE=1,Bt.MAXIMUM_VALUE=1e3,Bt})();class M extends c{constructor(){super(133)}compute(Ge,ut,Ut){return M.computeLayout(ut,{memory:Ge.memory,outerWidth:Ge.outerWidth,outerHeight:Ge.outerHeight,isDominatedByLongLines:Ge.isDominatedByLongLines,lineHeight:Ge.fontInfo.lineHeight,viewLineCount:Ge.viewLineCount,lineNumbersDigitCount:Ge.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ge.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ge.fontInfo.maxDigitWidth,pixelRatio:Ge.pixelRatio})}static computeContainedMinimapLineCount(Ge){const ut=Ge.height/Ge.lineHeight,Ut=Ge.scrollBeyondLastLine?ut-1:0,hn=(Ge.viewLineCount+Ut)/(Ge.pixelRatio*Ge.height);return{typicalViewportLineCount:ut,extraLinesBeyondLastLine:Ut,desiredRatio:hn,minimapLineCount:Math.floor(Ge.viewLineCount/hn)}}static _computeMinimapLayout(Ge,ut){const Ut=Ge.outerWidth,hn=Ge.outerHeight,Dn=Ge.pixelRatio;if(!Ge.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Dn*hn),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:hn};const wt=ut.stableMinimapLayoutInput,je=wt&&Ge.outerHeight===wt.outerHeight&&Ge.lineHeight===wt.lineHeight&&Ge.typicalHalfwidthCharacterWidth===wt.typicalHalfwidthCharacterWidth&&Ge.pixelRatio===wt.pixelRatio&&Ge.scrollBeyondLastLine===wt.scrollBeyondLastLine&&Ge.minimap.enabled===wt.minimap.enabled&&Ge.minimap.side===wt.minimap.side&&Ge.minimap.size===wt.minimap.size&&Ge.minimap.showSlider===wt.minimap.showSlider&&Ge.minimap.renderCharacters===wt.minimap.renderCharacters&&Ge.minimap.maxColumn===wt.minimap.maxColumn&&Ge.minimap.scale===wt.minimap.scale&&Ge.verticalScrollbarWidth===wt.verticalScrollbarWidth&&Ge.isViewportWrapping===wt.isViewportWrapping,ye=Ge.lineHeight,Me=Ge.typicalHalfwidthCharacterWidth,ue=Ge.scrollBeyondLastLine,be=Ge.minimap.renderCharacters;let qe=Dn>=2?Math.round(2*Ge.minimap.scale):Ge.minimap.scale;const Fe=Ge.minimap.maxColumn,ot=Ge.minimap.size,bt=Ge.minimap.side,Ht=Ge.verticalScrollbarWidth,vn=Ge.viewLineCount,Mn=Ge.remainingWidth,Ct=Ge.isViewportWrapping,fn=be?2:3;let Vn=Math.floor(Dn*hn);const yn=Vn/Dn;let zn=!1,li=!1,oi=fn*qe,Li=qe/Dn,so=1;if("fill"===ot||"fit"===ot){const{typicalViewportLineCount:Qt,extraLinesBeyondLastLine:pt,desiredRatio:ft,minimapLineCount:jt}=M.computeContainedMinimapLineCount({viewLineCount:vn,scrollBeyondLastLine:ue,height:hn,lineHeight:ye,pixelRatio:Dn});if(vn/jt>1)zn=!0,li=!0,qe=1,oi=1,Li=qe/Dn;else{let rn=!1,gn=qe+1;if("fit"===ot){const An=Math.ceil((vn+pt)*oi);Ct&&je&&Mn<=ut.stableFitRemainingWidth?(rn=!0,gn=ut.stableFitMaxMinimapScale):rn=An>Vn}if("fill"===ot||rn){zn=!0;const An=qe;oi=Math.min(ye*Dn,Math.max(1,Math.floor(1/ft))),Ct&&je&&Mn<=ut.stableFitRemainingWidth&&(gn=ut.stableFitMaxMinimapScale),qe=Math.min(gn,Math.max(1,Math.floor(oi/fn))),qe>An&&(so=Math.min(2,qe/An)),Li=qe/Dn/so,Vn=Math.ceil(Math.max(Qt,vn+pt)*oi),Ct?(ut.stableMinimapLayoutInput=Ge,ut.stableFitRemainingWidth=Mn,ut.stableFitMaxMinimapScale=qe):(ut.stableMinimapLayoutInput=null,ut.stableFitRemainingWidth=0)}}}const oo=Math.floor(Fe*Li),xo=Math.min(oo,Math.max(0,Math.floor((Mn-Ht-2)*Li/(Me+Li)))+C);let ro=Math.floor(Dn*xo);const _o=ro/Dn;return ro=Math.floor(ro*so),{renderMinimap:be?1:2,minimapLeft:"left"===bt?0:Ut-xo-Ht,minimapWidth:xo,minimapHeightIsEditorHeight:zn,minimapIsSampling:li,minimapScale:qe,minimapLineHeight:oi,minimapCanvasInnerWidth:ro,minimapCanvasInnerHeight:Vn,minimapCanvasOuterWidth:_o,minimapCanvasOuterHeight:yn}}static computeLayout(Ge,ut){const Ut=0|ut.outerWidth,hn=0|ut.outerHeight,Dn=0|ut.lineHeight,wt=0|ut.lineNumbersDigitCount,je=ut.typicalHalfwidthCharacterWidth,ye=ut.maxDigitWidth,Me=ut.pixelRatio,ue=ut.viewLineCount,be=Ge.get(125),qe="inherit"===be?Ge.get(124):be,Fe="inherit"===qe?Ge.get(120):qe,ot=Ge.get(123),bt=Ge.get(2),Ht=ut.isDominatedByLongLines,vn=Ge.get(52),Mn=0!==Ge.get(62).renderType,Ct=Ge.get(63),fn=Ge.get(96),Vn=Ge.get(67),yn=Ge.get(94),zn=yn.verticalScrollbarSize,li=yn.verticalHasArrows,oi=yn.arrowSize,Li=yn.horizontalScrollbarSize,so=Ge.get(60),oo=Ge.get(39),xo="never"!==Ge.get(101);let ro;if("string"==typeof so&&/^\d+(\.\d+)?ch$/.test(so)){const xi=parseFloat(so.substr(0,so.length-2));ro=g.clampedInt(xi*je,0,0,1e3)}else ro=g.clampedInt(so,0,0,1e3);oo&&xo&&(ro+=16);let _o=0;if(Mn){const xi=Math.max(wt,Ct);_o=Math.round(xi*ye)}let mo=0;vn&&(mo=Dn);let si=0,Qt=si+mo,pt=Qt+_o,ft=pt+ro;const jt=Ut-mo-_o-ro;let en=!1,rn=!1,gn=-1;2!==bt&&("inherit"===qe&&Ht?(en=!0,rn=!0):"on"===Fe||"bounded"===Fe?rn=!0:"wordWrapColumn"===Fe&&(gn=ot));const An=M._computeMinimapLayout({outerWidth:Ut,outerHeight:hn,lineHeight:Dn,typicalHalfwidthCharacterWidth:je,pixelRatio:Me,scrollBeyondLastLine:fn,minimap:Vn,verticalScrollbarWidth:zn,viewLineCount:ue,remainingWidth:jt,isViewportWrapping:rn},ut.memory||new L);0!==An.renderMinimap&&0===An.minimapLeft&&(si+=An.minimapWidth,Qt+=An.minimapWidth,pt+=An.minimapWidth,ft+=An.minimapWidth);const jn=jt-An.minimapWidth,Qn=Math.max(1,Math.floor((jn-zn-2)/je)),wi=li?oi:0;return rn&&(gn=Math.max(1,Qn),"bounded"===Fe&&(gn=Math.min(gn,ot))),{width:Ut,height:hn,glyphMarginLeft:si,glyphMarginWidth:mo,lineNumbersLeft:Qt,lineNumbersWidth:_o,decorationsLeft:pt,decorationsWidth:ro,contentLeft:ft,contentWidth:jn,minimap:An,viewportColumn:Qn,isWordWrapMinified:en,isViewportWrapping:rn,wrappingColumn:gn,verticalScrollbarWidth:zn,horizontalScrollbarHeight:Li,overviewRuler:{top:wi,width:zn,height:hn-2*wi,right:0}}}}function ze(Bt){const Ge=Bt.get(89);return"editable"===Ge?Bt.get(83):"on"!==Ge}function ce(Bt,Ge){if("string"!=typeof Bt)return Ge;switch(Bt){case"hidden":return 2;case"visible":return 3;default:return 1}}const nt="inUntrustedWorkspace",Dt={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function he(Bt,Ge,ut){const Ut=ut.indexOf(Bt);return-1===Ut?Ge:ut[Ut]}const vt={fontFamily:t.dz?"Menlo, Monaco, 'Courier New', monospace":t.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:t.dz?12:14,lineHeight:0,letterSpacing:0},mt=[];function _t(Bt){return mt[Bt.id]=Bt,Bt}const Kt={acceptSuggestionOnCommitCharacter:_t(new p(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:d.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:_t(new w(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",d.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:d.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:_t(new class O extends _{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[d.NC("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),d.NC("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),d.NC("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:d.NC("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Ge){switch(Ge){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ge,ut,Ut){return 0===Ut?Ge.accessibilitySupport:Ut}}),accessibilityPageSize:_t(new g(3,"accessibilityPageSize",10,1,1073741824,{description:d.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:_t(new y(4,"ariaLabel",d.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:_t(new w(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",d.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),d.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:d.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:_t(new w(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",d.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:d.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:_t(new w(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",d.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:d.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:_t(new w(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",d.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),d.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:d.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:_t(new I(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function P(Bt){switch(Bt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[d.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),d.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),d.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),d.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),d.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:d.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:_t(new p(10,"automaticLayout",!1)),autoSurround:_t(new w(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[d.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),d.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),d.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:d.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:_t(new class ae extends _{constructor(){const Ge={enabled:T.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:T.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",Ge,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ge.enabled,markdownDescription:d.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Ge.independentColorPoolPerBracketType,description:d.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{enabled:a(ut.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:a(ut.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:_t(new class _e extends _{constructor(){const Ge={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Ge,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[d.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),d.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),d.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ge.bracketPairs,description:d.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[d.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),d.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),d.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ge.bracketPairsHorizontal,description:d.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ge.highlightActiveBracketPair,description:d.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Ge.indentation,description:d.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[d.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),d.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),d.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Ge.highlightActiveIndentation,description:d.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{bracketPairs:he(ut.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:he(ut.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:a(ut.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:a(ut.indentation,this.defaultValue.indentation),highlightActiveIndentation:he(ut.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:_t(new p(106,"stickyTabStops",!1,{description:d.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:_t(new p(14,"codeLens",!0,{description:d.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:_t(new y(15,"codeLensFontFamily","",{description:d.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:_t(new g(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:d.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:_t(new p(17,"colorDecorators",!0,{description:d.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:_t(new p(18,"columnSelection",!1,{description:d.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:_t(new class H extends _{constructor(){const Ge={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Ge,{"editor.comments.insertSpace":{type:"boolean",default:Ge.insertSpace,description:d.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ge.ignoreEmptyLines,description:d.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{insertSpace:a(ut.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:a(ut.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:_t(new p(20,"contextmenu",!0)),copyWithSyntaxHighlighting:_t(new p(21,"copyWithSyntaxHighlighting",!0,{description:d.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:_t(new I(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function U(Bt){switch(Bt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:d.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:_t(new p(23,"cursorSmoothCaretAnimation",!1,{description:d.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:_t(new I(24,"cursorStyle",K.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function F(Bt){switch(Bt){case"line":return K.Line;case"block":return K.Block;case"underline":return K.Underline;case"line-thin":return K.LineThin;case"block-outline":return K.BlockOutline;case"underline-thin":return K.UnderlineThin}},{description:d.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:_t(new g(25,"cursorSurroundingLines",0,0,1073741824,{description:d.NC("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:_t(new w(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[d.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),d.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:d.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:_t(new g(27,"cursorWidth",0,0,1073741824,{markdownDescription:d.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:_t(new p(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:_t(new p(29,"disableMonospaceOptimizations",!1)),domReadOnly:_t(new p(30,"domReadOnly",!1)),dragAndDrop:_t(new p(31,"dragAndDrop",!0,{description:d.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:_t(new class z extends p{constructor(){super(33,"emptySelectionClipboard",!0,{description:d.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ge,ut,Ut){return Ut&&Ge.emptySelectionClipboard}}),dropIntoEditor:_t(new class st extends _{constructor(){const Ge={enabled:!0};super(32,"dropIntoEditor",Ge,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Ge.enabled,markdownDescription:d.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(Ge){return Ge&&"object"==typeof Ge?{enabled:a(Ge.enabled,this.defaultValue.enabled)}:this.defaultValue}}),experimental:_t(new class Ee extends _{constructor(){const Ge={stickyScroll:{enabled:!1}};super(34,"experimental",Ge,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:Ge.stickyScroll.enabled,description:d.NC("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(Ge){var ut;return Ge&&"object"==typeof Ge?{stickyScroll:{enabled:a(null===(ut=Ge.stickyScroll)||void 0===ut?void 0:ut.enabled,this.defaultValue.stickyScroll.enabled)}}:this.defaultValue}}),extraEditorClassName:_t(new y(35,"extraEditorClassName","")),fastScrollSensitivity:_t(new b(36,"fastScrollSensitivity",5,Bt=>Bt<=0?5:Bt,{markdownDescription:d.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:_t(new class $ extends _{constructor(){const Ge={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",Ge,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ge.cursorMoveOnType,description:d.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ge.seedSearchStringFromSelection,enumDescriptions:[d.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),d.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),d.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:d.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ge.autoFindInSelection,enumDescriptions:[d.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),d.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),d.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:d.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ge.globalFindClipboard,description:d.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:t.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ge.addExtraSpaceOnTop,description:d.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ge.loop,description:d.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{cursorMoveOnType:a(ut.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof Ge.seedSearchStringFromSelection?Ge.seedSearchStringFromSelection?"always":"never":D(ut.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof Ge.autoFindInSelection?Ge.autoFindInSelection?"always":"never":D(ut.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:a(ut.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:a(ut.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:a(ut.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:_t(new p(38,"fixedOverflowWidgets",!1)),folding:_t(new p(39,"folding",!0,{description:d.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:_t(new w(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[d.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),d.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:d.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:_t(new p(41,"foldingHighlight",!0,{description:d.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:_t(new p(42,"foldingImportsByDefault",!1,{description:d.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:_t(new g(43,"foldingMaximumRegions",5e3,10,65e3,{description:d.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:_t(new p(44,"unfoldOnClickAfterEndOfLine",!1,{description:d.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:_t(new y(45,"fontFamily",vt.fontFamily,{description:d.NC("fontFamily","Controls the font family.")})),fontInfo:_t(new class ne extends c{constructor(){super(46)}compute(Ge,ut,Ut){return Ge.fontInfo}}),fontLigatures2:_t(new j),fontSize:_t(new class N extends n{constructor(){super(48,"fontSize",vt.fontSize,{type:"number",minimum:6,maximum:100,default:vt.fontSize,description:d.NC("fontSize","Controls the font size in pixels.")})}validate(Ge){const ut=b.float(Ge,this.defaultValue);return 0===ut?vt.fontSize:b.clamp(ut,6,100)}compute(Ge,ut,Ut){return Ge.fontInfo.fontSize}}),fontWeight:_t(new V),formatOnPaste:_t(new p(50,"formatOnPaste",!1,{description:d.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:_t(new p(51,"formatOnType",!1,{description:d.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:_t(new p(52,"glyphMargin",!0,{description:d.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:_t(new class Z extends _{constructor(){const Ge={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ut={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ge.multiple,enumDescriptions:[d.NC("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),d.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),d.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},Ut=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",Ge,{"editor.gotoLocation.multiple":{deprecationMessage:d.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},ut),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},ut),"editor.gotoLocation.multipleDeclarations":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},ut),"editor.gotoLocation.multipleImplementations":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},ut),"editor.gotoLocation.multipleReferences":Object.assign({description:d.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},ut),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ge.alternativeDefinitionCommand,enum:Ut,description:d.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ge.alternativeTypeDefinitionCommand,enum:Ut,description:d.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ge.alternativeDeclarationCommand,enum:Ut,description:d.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ge.alternativeImplementationCommand,enum:Ut,description:d.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ge.alternativeReferenceCommand,enum:Ut,description:d.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ge){var ut,Ut,hn,Dn,wt;if(!Ge||"object"!=typeof Ge)return this.defaultValue;const je=Ge;return{multiple:D(je.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(ut=je.multipleDefinitions)&&void 0!==ut?ut:D(je.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(Ut=je.multipleTypeDefinitions)&&void 0!==Ut?Ut:D(je.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(hn=je.multipleDeclarations)&&void 0!==hn?hn:D(je.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(Dn=je.multipleImplementations)&&void 0!==Dn?Dn:D(je.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(wt=je.multipleReferences)&&void 0!==wt?wt:D(je.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:y.string(je.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:y.string(je.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:y.string(je.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:y.string(je.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:y.string(je.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:_t(new p(54,"hideCursorInOverviewRuler",!1,{description:d.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:_t(new class fe extends _{constructor(){const Ge={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",Ge,{"editor.hover.enabled":{type:"boolean",default:Ge.enabled,description:d.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ge.delay,minimum:0,maximum:1e4,description:d.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ge.sticky,description:d.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ge.above,description:d.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{enabled:a(ut.enabled,this.defaultValue.enabled),delay:g.clampedInt(ut.delay,this.defaultValue.delay,0,1e4),sticky:a(ut.sticky,this.defaultValue.sticky),above:a(ut.above,this.defaultValue.above)}}}),inDiffEditor:_t(new p(56,"inDiffEditor",!1)),letterSpacing:_t(new b(58,"letterSpacing",vt.letterSpacing,Bt=>b.clamp(Bt,-5,20),{description:d.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:_t(new class Se extends _{constructor(){const Ge={enabled:!0};super(59,"lightbulb",Ge,{"editor.lightbulb.enabled":{type:"boolean",default:Ge.enabled,description:d.NC("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Ge){return Ge&&"object"==typeof Ge?{enabled:a(Ge.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:_t(new n(60,"lineDecorationsWidth",10)),lineHeight:_t(new class Ne extends b{constructor(){super(61,"lineHeight",vt.lineHeight,Ge=>b.clamp(Ge,0,150),{markdownDescription:d.NC("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(Ge,ut,Ut){return Ge.fontInfo.lineHeight}}),lineNumbers:_t(new class ke extends _{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[d.NC("lineNumbers.off","Line numbers are not rendered."),d.NC("lineNumbers.on","Line numbers are rendered as absolute number."),d.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),d.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:d.NC("lineNumbers","Controls the display of line numbers.")})}validate(Ge){let ut=this.defaultValue.renderType,Ut=this.defaultValue.renderFn;return typeof Ge<"u"&&("function"==typeof Ge?(ut=4,Ut=Ge):ut="interval"===Ge?3:"relative"===Ge?2:"on"===Ge?1:0),{renderType:ut,renderFn:Ut}}}),lineNumbersMinChars:_t(new g(63,"lineNumbersMinChars",5,1,300)),linkedEditing:_t(new p(64,"linkedEditing",!1,{description:d.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:_t(new p(65,"links",!0,{description:d.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:_t(new w(66,"matchBrackets","always",["always","near","never"],{description:d.NC("matchBrackets","Highlight matching brackets.")})),minimap:_t(new class oe extends _{constructor(){const Ge={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",Ge,{"editor.minimap.enabled":{type:"boolean",default:Ge.enabled,description:d.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Ge.autohide,description:d.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[d.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),d.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),d.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ge.size,description:d.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ge.side,description:d.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ge.showSlider,description:d.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ge.scale,minimum:1,maximum:3,enum:[1,2,3],description:d.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ge.renderCharacters,description:d.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ge.maxColumn,description:d.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{enabled:a(ut.enabled,this.defaultValue.enabled),autohide:a(ut.autohide,this.defaultValue.autohide),size:D(ut.size,this.defaultValue.size,["proportional","fill","fit"]),side:D(ut.side,this.defaultValue.side,["right","left"]),showSlider:D(ut.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:a(ut.renderCharacters,this.defaultValue.renderCharacters),scale:g.clampedInt(ut.scale,1,1,3),maxColumn:g.clampedInt(ut.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:_t(new w(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:_t(new b(69,"mouseWheelScrollSensitivity",1,Bt=>0===Bt?1:Bt,{markdownDescription:d.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:_t(new p(70,"mouseWheelZoom",!1,{markdownDescription:d.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:_t(new p(71,"multiCursorMergeOverlapping",!0,{description:d.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:_t(new I(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function we(Bt){return"ctrlCmd"===Bt?t.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[d.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),d.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:d.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:_t(new w(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[d.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),d.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:d.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:_t(new p(74,"occurrencesHighlight",!0,{description:d.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:_t(new p(75,"overviewRulerBorder",!0,{description:d.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:_t(new g(76,"overviewRulerLanes",3,0,3)),padding:_t(new class xe extends _{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:d.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:d.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{top:g.clampedInt(ut.top,0,0,1e3),bottom:g.clampedInt(ut.bottom,0,0,1e3)}}}),parameterHints:_t(new class pe extends _{constructor(){const Ge={enabled:!0,cycle:!1};super(78,"parameterHints",Ge,{"editor.parameterHints.enabled":{type:"boolean",default:Ge.enabled,description:d.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ge.cycle,description:d.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{enabled:a(ut.enabled,this.defaultValue.enabled),cycle:a(ut.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:_t(new w(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[d.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),d.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:d.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:_t(new p(80,"definitionLinkOpensInPeek",!1,{description:d.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:_t(new class de extends _{constructor(){const Ge={other:"on",comments:"off",strings:"off"},ut=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[d.NC("on","Quick suggestions show inside the suggest widget"),d.NC("inline","Quick suggestions show as ghost text"),d.NC("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",Ge,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:ut,default:Ge.strings,description:d.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:ut,default:Ge.comments,description:d.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:ut,default:Ge.other,description:d.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Ge,markdownDescription:d.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Ge}validate(Ge){if("boolean"==typeof Ge){const Me=Ge?"on":"off";return{comments:Me,strings:Me,other:Me}}if(!Ge||"object"!=typeof Ge)return this.defaultValue;const{other:ut,comments:Ut,strings:hn}=Ge,Dn=["on","inline","off"];let wt,je,ye;return wt="boolean"==typeof ut?ut?"on":"off":D(ut,this.defaultValue.other,Dn),je="boolean"==typeof Ut?Ut?"on":"off":D(Ut,this.defaultValue.comments,Dn),ye="boolean"==typeof hn?hn?"on":"off":D(hn,this.defaultValue.strings,Dn),{other:wt,comments:je,strings:ye}}}),quickSuggestionsDelay:_t(new g(82,"quickSuggestionsDelay",10,0,1073741824,{description:d.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:_t(new p(83,"readOnly",!1)),renameOnType:_t(new p(84,"renameOnType",!1,{description:d.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:d.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:_t(new p(85,"renderControlCharacters",!0,{description:d.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:_t(new p(86,"renderFinalNewline",!0,{description:d.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:_t(new w(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",d.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:d.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:_t(new p(88,"renderLineHighlightOnlyWhenFocus",!1,{description:d.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:_t(new w(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:_t(new w(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",d.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),d.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),d.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:d.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:_t(new g(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:_t(new p(92,"roundedSelection",!0,{description:d.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:_t(new class $e extends _{constructor(){const Ge=[],ut={type:"number",description:d.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",Ge,{type:"array",items:{anyOf:[ut,{type:["object"],properties:{column:ut,color:{type:"string",description:d.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ge,description:d.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ge){if(Array.isArray(Ge)){const ut=[];for(const Ut of Ge)if("number"==typeof Ut)ut.push({column:g.clampedInt(Ut,0,0,1e4),color:null});else if(Ut&&"object"==typeof Ut){const hn=Ut;ut.push({column:g.clampedInt(hn.column,0,0,1e4),color:hn.color})}return ut.sort((Ut,hn)=>Ut.column-hn.column),ut}return this.defaultValue}}),scrollbar:_t(new class Ue extends _{constructor(){const Ge={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",Ge,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[d.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),d.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),d.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:d.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[d.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),d.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),d.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:d.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ge.verticalScrollbarSize,description:d.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ge.horizontalScrollbarSize,description:d.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ge.scrollByPage,description:d.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge,Ut=g.clampedInt(ut.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),hn=g.clampedInt(ut.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:g.clampedInt(ut.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ce(ut.vertical,this.defaultValue.vertical),horizontal:ce(ut.horizontal,this.defaultValue.horizontal),useShadows:a(ut.useShadows,this.defaultValue.useShadows),verticalHasArrows:a(ut.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:a(ut.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:a(ut.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:a(ut.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ut,horizontalSliderSize:g.clampedInt(ut.horizontalSliderSize,Ut,0,1e3),verticalScrollbarSize:hn,verticalSliderSize:g.clampedInt(ut.verticalSliderSize,hn,0,1e3),scrollByPage:a(ut.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:_t(new g(95,"scrollBeyondLastColumn",4,0,1073741824,{description:d.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:_t(new p(96,"scrollBeyondLastLine",!0,{description:d.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:_t(new p(97,"scrollPredominantAxis",!0,{description:d.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:_t(new p(98,"selectionClipboard",!0,{description:d.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:t.IJ})),selectionHighlight:_t(new p(99,"selectionHighlight",!0,{description:d.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:_t(new p(100,"selectOnLineNumbers",!0)),showFoldingControls:_t(new w(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[d.NC("showFoldingControls.always","Always show the folding controls."),d.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),d.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:d.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:_t(new p(102,"showUnused",!0,{description:d.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:_t(new p(128,"showDeprecated",!0,{description:d.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:_t(new class Le extends _{constructor(){const Ge={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",Ge,{"editor.inlayHints.enabled":{type:"string",default:Ge.enabled,description:d.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[d.NC("editor.inlayHints.on","Inlay hints are enabled"),d.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),d.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),d.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Ge.fontSize,markdownDescription:d.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Ge.fontFamily,markdownDescription:d.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Ge.padding,description:d.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return"boolean"==typeof ut.enabled&&(ut.enabled=ut.enabled?"on":"off"),{enabled:D(ut.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:g.clampedInt(ut.fontSize,this.defaultValue.fontSize,0,100),fontFamily:y.string(ut.fontFamily,this.defaultValue.fontFamily),padding:a(ut.padding,this.defaultValue.padding)}}}),snippetSuggestions:_t(new w(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[d.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),d.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),d.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),d.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:d.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:_t(new class Q extends _{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:d.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Ge){return Ge&&"object"==typeof Ge?{selectLeadingAndTrailingWhitespace:a(Ge.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}:this.defaultValue}}),smoothScrolling:_t(new p(105,"smoothScrolling",!1,{description:d.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:_t(new g(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:_t(new class le extends _{constructor(){const Ge={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",Ge,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[d.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),d.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ge.insertMode,description:d.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ge.filterGraceful,description:d.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ge.localityBonus,description:d.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ge.shareSuggestSelections,markdownDescription:d.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ge.snippetsPreventQuickSuggestions,description:d.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ge.showIcons,description:d.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ge.showStatusBar,description:d.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ge.preview,description:d.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ge.showInlineDetails,description:d.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:d.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:d.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:d.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{insertMode:D(ut.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:a(ut.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:a(ut.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:a(ut.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:a(ut.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:a(ut.showIcons,this.defaultValue.showIcons),showStatusBar:a(ut.showStatusBar,this.defaultValue.showStatusBar),preview:a(ut.preview,this.defaultValue.preview),previewMode:D(ut.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:a(ut.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:a(ut.showMethods,this.defaultValue.showMethods),showFunctions:a(ut.showFunctions,this.defaultValue.showFunctions),showConstructors:a(ut.showConstructors,this.defaultValue.showConstructors),showDeprecated:a(ut.showDeprecated,this.defaultValue.showDeprecated),showFields:a(ut.showFields,this.defaultValue.showFields),showVariables:a(ut.showVariables,this.defaultValue.showVariables),showClasses:a(ut.showClasses,this.defaultValue.showClasses),showStructs:a(ut.showStructs,this.defaultValue.showStructs),showInterfaces:a(ut.showInterfaces,this.defaultValue.showInterfaces),showModules:a(ut.showModules,this.defaultValue.showModules),showProperties:a(ut.showProperties,this.defaultValue.showProperties),showEvents:a(ut.showEvents,this.defaultValue.showEvents),showOperators:a(ut.showOperators,this.defaultValue.showOperators),showUnits:a(ut.showUnits,this.defaultValue.showUnits),showValues:a(ut.showValues,this.defaultValue.showValues),showConstants:a(ut.showConstants,this.defaultValue.showConstants),showEnums:a(ut.showEnums,this.defaultValue.showEnums),showEnumMembers:a(ut.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:a(ut.showKeywords,this.defaultValue.showKeywords),showWords:a(ut.showWords,this.defaultValue.showWords),showColors:a(ut.showColors,this.defaultValue.showColors),showFiles:a(ut.showFiles,this.defaultValue.showFiles),showReferences:a(ut.showReferences,this.defaultValue.showReferences),showFolders:a(ut.showFolders,this.defaultValue.showFolders),showTypeParameters:a(ut.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:a(ut.showSnippets,this.defaultValue.showSnippets),showUsers:a(ut.showUsers,this.defaultValue.showUsers),showIssues:a(ut.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:_t(new class Ze extends _{constructor(){const Ge={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",Ge,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ge.enabled,description:d.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{enabled:a(ut.enabled,this.defaultValue.enabled),mode:D(ut.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}),suggestFontSize:_t(new g(109,"suggestFontSize",0,0,1e3,{markdownDescription:d.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:_t(new g(110,"suggestLineHeight",0,0,1e3,{markdownDescription:d.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:_t(new p(111,"suggestOnTriggerCharacters",!0,{description:d.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:_t(new w(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[d.NC("suggestSelection.first","Always select the first suggestion."),d.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),d.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:d.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:_t(new w(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[d.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),d.NC("tabCompletion.off","Disable tab completions."),d.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:d.NC("tabCompletion","Enables tab completions.")})),tabIndex:_t(new g(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:_t(new class Lt extends _{constructor(){const Ge={nonBasicASCII:nt,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:nt,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",Ge,{[Dt.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,nt],default:Ge.nonBasicASCII,description:d.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Dt.invisibleCharacters]:{restricted:!0,type:"boolean",default:Ge.invisibleCharacters,description:d.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Dt.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Ge.ambiguousCharacters,description:d.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Dt.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,nt],default:Ge.includeComments,description:d.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Dt.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,nt],default:Ge.includeStrings,description:d.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Dt.allowedCharacters]:{restricted:!0,type:"object",default:Ge.allowedCharacters,description:d.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Dt.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Ge.allowedLocales,description:d.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Ge,ut){let Ut=!1;ut.allowedCharacters&&Ge&&(v.fS(Ge.allowedCharacters,ut.allowedCharacters)||(Ge=Object.assign(Object.assign({},Ge),{allowedCharacters:ut.allowedCharacters}),Ut=!0)),ut.allowedLocales&&Ge&&(v.fS(Ge.allowedLocales,ut.allowedLocales)||(Ge=Object.assign(Object.assign({},Ge),{allowedLocales:ut.allowedLocales}),Ut=!0));const hn=super.applyUpdate(Ge,ut);return Ut?new s(hn.newValue,!0):hn}validate(Ge){if(!Ge||"object"!=typeof Ge)return this.defaultValue;const ut=Ge;return{nonBasicASCII:he(ut.nonBasicASCII,nt,[!0,!1,nt]),invisibleCharacters:a(ut.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:a(ut.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:he(ut.includeComments,nt,[!0,!1,nt]),includeStrings:he(ut.includeStrings,nt,[!0,!1,nt]),allowedCharacters:this.validateBooleanMap(Ge.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Ge.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Ge,ut){if("object"!=typeof Ge||!Ge)return ut;const Ut={};for(const[hn,Dn]of Object.entries(Ge))!0===Dn&&(Ut[hn]=!0);return Ut}}),unusualLineTerminators:_t(new w(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[d.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),d.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),d.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:d.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:_t(new p(117,"useShadowDOM",!0)),useTabStops:_t(new p(118,"useTabStops",!0,{description:d.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:_t(new y(119,"wordSeparators",l.vu,{description:d.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:_t(new w(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[d.NC("wordWrap.off","Lines will never wrap."),d.NC("wordWrap.on","Lines will wrap at the viewport width."),d.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),d.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:d.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:_t(new y(121,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:_t(new y(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:_t(new g(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:d.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:_t(new w(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:_t(new w(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:_t(new I(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function Ae(Bt){switch(Bt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[d.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),d.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),d.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),d.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:d.NC("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:_t(new w(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[d.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),d.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:d.NC("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:_t(new class B extends c{constructor(){super(130)}compute(Ge,ut,Ut){const hn=["monaco-editor"];return ut.get(35)&&hn.push(ut.get(35)),Ge.extraEditorClassName&&hn.push(Ge.extraEditorClassName),"default"===ut.get(68)?hn.push("mouse-default"):"copy"===ut.get(68)&&hn.push("mouse-copy"),ut.get(102)&&hn.push("showUnused"),ut.get(128)&&hn.push("showDeprecated"),hn.join(" ")}}),pixelRatio:_t(new class Te extends c{constructor(){super(131)}compute(Ge,ut,Ut){return Ge.pixelRatio}}),tabFocusMode:_t(new class ve extends c{constructor(){super(132)}compute(Ge,ut,Ut){return!!ut.get(83)||Ge.tabFocusMode}}),layoutInfo:_t(new M),wrappingInfo:_t(new class dt extends c{constructor(){super(134)}compute(Ge,ut,Ut){const hn=ut.get(133);return{isDominatedByLongLines:Ge.isDominatedByLongLines,isWordWrapMinified:hn.isWordWrapMinified,isViewportWrapping:hn.isViewportWrapping,wrappingColumn:hn.wrappingColumn}}})}},66198:(Et,X,e)=>{"use strict";e.d(X,{C:()=>t});var d=e(3778);const t=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new d.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(l){l=Math.min(Math.max(-5,l),20),this._zoomLevel!==l&&(this._zoomLevel=l,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},44120:(Et,X,e)=>{"use strict";e.d(X,{E4:()=>T,pR:()=>E});var d=e(8841),t=e(54862),l=e(66198);const S=d.dz?1.5:1.35;class T{constructor(_){this._bareFontInfoBrand=void 0,this.pixelRatio=_.pixelRatio,this.fontFamily=String(_.fontFamily),this.fontWeight=String(_.fontWeight),this.fontSize=_.fontSize,this.fontFeatureSettings=_.fontFeatureSettings,this.lineHeight=0|_.lineHeight,this.letterSpacing=_.letterSpacing}static createFromValidatedSettings(_,s,m){const c=_.get(45),n=_.get(49),a=_.get(48),p=_.get(47),u=_.get(61),g=_.get(58);return T._create(c,n,a,p,u,g,s,m)}static _create(_,s,m,c,n,a,p,u){0===n?n=S*m:n<8&&(n*=m),(n=Math.round(n))<8&&(n=8);const g=1+(u?0:.1*l.C.getZoomLevel());return new T({pixelRatio:p,fontFamily:_,fontWeight:s,fontSize:m*=g,fontFeatureSettings:c,lineHeight:n*=g,letterSpacing:a})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const _=t.hL.fontFamily,s=T._wrapInQuotes(this.fontFamily);return _&&this.fontFamily!==_?`${s}, ${_}`:s}static _wrapInQuotes(_){return/[,"']/.test(_)?_:/[+ ]/.test(_)?`"${_}"`:_}}class E extends T{constructor(_,s){super(_),this._editorStylingBrand=void 0,this.version=1,this.isTrusted=s,this.isMonospace=_.isMonospace,this.typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=_.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.maxDigitWidth=_.maxDigitWidth}equals(_){return this.fontFamily===_.fontFamily&&this.fontWeight===_.fontWeight&&this.fontSize===_.fontSize&&this.fontFeatureSettings===_.fontFeatureSettings&&this.lineHeight===_.lineHeight&&this.letterSpacing===_.letterSpacing&&this.typicalHalfwidthCharacterWidth===_.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===_.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.spaceWidth===_.spaceWidth&&this.middotWidth===_.middotWidth&&this.wsmiddotWidth===_.wsmiddotWidth&&this.maxDigitWidth===_.maxDigitWidth}}},81742:(Et,X,e)=>{"use strict";e.d(X,{N:()=>t,q:()=>l});var d=e(48071);class t{constructor(v){const T=(0,d.K)(v);this._defaultValue=T,this._asciiMap=t._createAsciiMap(T),this._map=new Map}static _createAsciiMap(v){const T=new Uint8Array(256);for(let C=0;C<256;C++)T[C]=v;return T}set(v,T){const C=(0,d.K)(T);v>=0&&v<256?this._asciiMap[v]=C:this._map.set(v,C)}get(v){return v>=0&&v<256?this._asciiMap[v]:this._map.get(v)||this._defaultValue}}class l{constructor(){this._actual=new t(0)}add(v){this._actual.set(v,1)}has(v){return 1===this._actual.get(v)}}},5409:(Et,X,e)=>{"use strict";e.d(X,{i:()=>t});var d=e(73879);class t{static _nextVisibleColumn(S,v,T){return 9===S?t.nextRenderTabStop(v,T):d.K7(S)||d.C8(S)?v+2:v+1}static visibleColumnFromColumn(S,v,T){const C=Math.min(v-1,S.length),E=S.substring(0,C),L=new d.W1(E);let _=0;for(;!L.eol();){const s=d.ZH(E,C,L.offset);L.nextGraphemeLength(),_=this._nextVisibleColumn(s,_,T)}return _}static columnFromVisibleColumn(S,v,T){if(v<=0)return 1;const C=S.length,E=new d.W1(S);let L=0,_=1;for(;!E.eol();){const s=d.ZH(S,C,E.offset);E.nextGraphemeLength();const m=this._nextVisibleColumn(s,L,T),c=E.offset+1;if(m>=v)return m-v<v-L?c:_;L=m,_=c}return C+1}static nextRenderTabStop(S,v){return S+v-S%v}static nextIndentTabStop(S,v){return S+v-S%v}static prevRenderTabStop(S,v){return Math.max(0,S-1-(S-1)%v)}static prevIndentTabStop(S,v){return Math.max(0,S-1-(S-1)%v)}}},65484:(Et,X,e)=>{"use strict";e.d(X,{h:()=>t});var d=e(98570);class t{static insert(S,v){return{range:new d.e(S.lineNumber,S.column,S.lineNumber,S.column),text:v,forceMoveMarkers:!0}}static delete(S){return{range:S,text:null}}static replace(S,v){return{range:S,text:v}}static replaceMove(S,v){return{range:S,text:v,forceMoveMarkers:!0}}}},43944:(Et,X,e)=>{"use strict";e.d(X,{CE:()=>M,DD:()=>b,DS:()=>xe,Dl:()=>I,HV:()=>Ue,IO:()=>z,Jn:()=>Te,Kh:()=>T,L7:()=>ce,Mm:()=>C,N5:()=>B,Qb:()=>ke,Re:()=>N,TC:()=>w,To:()=>$e,UP:()=>Se,Vs:()=>fe,YF:()=>de,Ym:()=>p,eS:()=>V,e_:()=>O,f9:()=>nt,fY:()=>c,hw:()=>u,kp:()=>U,lK:()=>ne,lS:()=>pe,m$:()=>we,m1:()=>Le,m3:()=>ze,m9:()=>j,n0:()=>m,oV:()=>oe,r0:()=>Ee,tR:()=>a,ts:()=>Ne,x3:()=>F,zJ:()=>Z,zk:()=>y,zu:()=>K,zw:()=>P});var d=e(55197),t=e(69355),l=e(4062),S=e(40902),v=e(18034);const T=(0,l.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},d.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),C=(0,l.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:l.lRK},d.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),E=(0,l.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},d.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),L=(0,l.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:l.xL1,hcLight:l.xL1},d.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),_=(0,l.P6G)("editor.symbolHighlightBackground",{dark:l.MUv,light:l.MUv,hcDark:null,hcLight:null},d.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),s=(0,l.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:l.xL1,hcLight:l.xL1},d.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),m=(0,l.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:t.Il.black,hcDark:t.Il.white,hcLight:"#0F4A85"},d.NC("caret","Color of the editor cursor.")),c=(0,l.P6G)("editorCursor.background",null,d.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),n=(0,l.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},d.NC("editorWhitespaces","Color of whitespace characters in the editor.")),a=(0,l.P6G)("editorIndentGuide.background",{dark:n,light:n,hcDark:n,hcLight:n},d.NC("editorIndentGuides","Color of the editor indentation guides.")),p=(0,l.P6G)("editorIndentGuide.activeBackground",{dark:n,light:n,hcDark:n,hcLight:n},d.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),u=(0,l.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:t.Il.white,hcLight:"#292929"},d.NC("editorLineNumbers","Color of editor line numbers.")),g=(0,l.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:l.xL1,hcLight:l.xL1},d.NC("editorActiveLineNumber","Color of editor active line number"),!1,d.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),b=(0,l.P6G)("editorLineNumber.activeForeground",{dark:g,light:g,hcDark:g,hcLight:g},d.NC("editorActiveLineNumber","Color of editor active line number")),y=(0,l.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:t.Il.lightgrey,hcDark:t.Il.white,hcLight:"#292929"},d.NC("editorRuler","Color of the editor rulers.")),w=((0,l.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},d.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,l.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},d.NC("editorBracketMatchBackground","Background color behind matching brackets"))),I=(0,l.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:l.lRK,hcLight:l.lRK},d.NC("editorBracketMatchBorder","Color for matching brackets boxes")),P=(0,l.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},d.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),O=(0,l.P6G)("editorOverviewRuler.background",null,d.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),H=(0,l.P6G)("editorGutter.background",{dark:l.cvW,light:l.cvW,hcDark:l.cvW,hcLight:l.cvW},d.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),U=(0,l.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:t.Il.fromHex("#fff").transparent(.8),hcLight:l.lRK},d.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),K=(0,l.P6G)("editorUnnecessaryCode.opacity",{dark:t.Il.fromHex("#000a"),light:t.Il.fromHex("#0007"),hcDark:null,hcLight:null},d.NC("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),F=(0,l.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:t.Il.fromHex("#fff").transparent(.8),hcLight:t.Il.fromHex("#292929").transparent(.8)},d.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),B=(0,l.P6G)("editorGhostText.foreground",{dark:t.Il.fromHex("#ffffff56"),light:t.Il.fromHex("#0007"),hcDark:null,hcLight:null},d.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),z=(0,l.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},d.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),$=new t.Il(new t.VS(0,122,204,.6)),j=(0,l.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:$,light:$,hcDark:$,hcLight:$},d.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ne=(0,l.P6G)("editorOverviewRuler.errorForeground",{dark:new t.Il(new t.VS(255,18,18,.7)),light:new t.Il(new t.VS(255,18,18,.7)),hcDark:new t.Il(new t.VS(255,50,50,1)),hcLight:"#B5200D"},d.NC("overviewRuleError","Overview ruler marker color for errors.")),N=(0,l.P6G)("editorOverviewRuler.warningForeground",{dark:l.uoC,light:l.uoC,hcDark:l.pW3,hcLight:l.pW3},d.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),V=(0,l.P6G)("editorOverviewRuler.infoForeground",{dark:l.c63,light:l.c63,hcDark:l.T83,hcLight:l.T83},d.NC("overviewRuleInfo","Overview ruler marker color for infos.")),Z=(0,l.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},d.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),fe=(0,l.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},d.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),M=(0,l.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},d.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Se=(0,l.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ee=(0,l.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Le=(0,l.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Ne=(0,l.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new t.Il(new t.VS(255,18,18,.8)),light:new t.Il(new t.VS(255,18,18,.8)),hcDark:new t.Il(new t.VS(255,50,50,1)),hcLight:""},d.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),oe=(0,l.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),we=(0,l.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),xe=(0,l.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),pe=(0,l.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Te=(0,l.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),de=(0,l.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ke=(0,l.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),ze=(0,l.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),$e=(0,l.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),ce=(0,l.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),Ue=(0,l.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),nt=(0,l.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},d.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,l.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},d.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,l.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},d.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,S.Ic)((Ze,ae)=>{const _e=Ze.getColor(l.cvW);_e&&ae.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${_e}; }`);const he=Ze.getColor(T),le=he&&!he.isTransparent()?he:_e;le&&ae.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${le}; }`);const Q=Ze.getColor(l.NOs);Q&&ae.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${Q}; }`);const ve=Ze.getColor(H);ve&&ae.addRule(`.monaco-editor .margin { background-color: ${ve}; }`);const Ae=Ze.getColor(E);Ae&&ae.addRule(`.monaco-editor .rangeHighlight { background-color: ${Ae}; }`);const dt=Ze.getColor(L);dt&&ae.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,v.c3)(Ze.type)?"dotted":"solid"} ${dt}; }`);const st=Ze.getColor(_);st&&ae.addRule(`.monaco-editor .symbolHighlight { background-color: ${st}; }`);const et=Ze.getColor(s);et&&ae.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,v.c3)(Ze.type)?"dotted":"solid"} ${et}; }`);const Qe=Ze.getColor(n);Qe&&(ae.addRule(`.monaco-editor .mtkw { color: ${Qe} !important; }`),ae.addRule(`.monaco-editor .mtkz { color: ${Qe} !important; }`))})},93169:(Et,X,e)=>{"use strict";function d(t){let l=0,S=0,v=0,T=0;for(let C=0,E=t.length;C<E;C++){const L=t.charCodeAt(C);13===L?(0===l&&(S=C),l++,C+1<E&&10===t.charCodeAt(C+1)?(T|=2,C++):T|=3,v=C+1):10===L&&(T|=1,0===l&&(S=C),l++,v=C+1)}return 0===l&&(S=t.length),[l,S,t.length-v,T]}e.d(X,{Q:()=>d})},87652:(Et,X,e)=>{"use strict";e.d(X,{x:()=>S});var d=e(73879),t=e(5409);function S(v,T,C){let E=d.LC(v);return-1===E&&(E=v.length),function l(v,T,C){let E=0;for(let _=0;_<v.length;_++)"\t"===v.charAt(_)?E=t.i.nextIndentTabStop(E,T):E++;let L="";if(!C){const _=Math.floor(E/T);E%=T;for(let s=0;s<_;s++)L+="\t"}for(let _=0;_<E;_++)L+=" ";return L}(v.substring(0,E),T,C)+v.substring(E)}},18723:(Et,X,e)=>{"use strict";e.d(X,{L:()=>d});class d{constructor(l,S){this.lineNumber=l,this.column=S}with(l=this.lineNumber,S=this.column){return l===this.lineNumber&&S===this.column?this:new d(l,S)}delta(l=0,S=0){return this.with(this.lineNumber+l,this.column+S)}equals(l){return d.equals(this,l)}static equals(l,S){return!l&&!S||!!l&&!!S&&l.lineNumber===S.lineNumber&&l.column===S.column}isBefore(l){return d.isBefore(this,l)}static isBefore(l,S){return l.lineNumber<S.lineNumber||!(S.lineNumber<l.lineNumber)&&l.column<S.column}isBeforeOrEqual(l){return d.isBeforeOrEqual(this,l)}static isBeforeOrEqual(l,S){return l.lineNumber<S.lineNumber||!(S.lineNumber<l.lineNumber)&&l.column<=S.column}static compare(l,S){const v=0|l.lineNumber,T=0|S.lineNumber;return v===T?(0|l.column)-(0|S.column):v-T}clone(){return new d(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(l){return new d(l.lineNumber,l.column)}static isIPosition(l){return l&&"number"==typeof l.lineNumber&&"number"==typeof l.column}}},98570:(Et,X,e)=>{"use strict";e.d(X,{e:()=>t});var d=e(18723);class t{constructor(S,v,T,C){S>T||S===T&&v>C?(this.startLineNumber=T,this.startColumn=C,this.endLineNumber=S,this.endColumn=v):(this.startLineNumber=S,this.startColumn=v,this.endLineNumber=T,this.endColumn=C)}isEmpty(){return t.isEmpty(this)}static isEmpty(S){return S.startLineNumber===S.endLineNumber&&S.startColumn===S.endColumn}containsPosition(S){return t.containsPosition(this,S)}static containsPosition(S,v){return!(v.lineNumber<S.startLineNumber||v.lineNumber>S.endLineNumber||v.lineNumber===S.startLineNumber&&v.column<S.startColumn||v.lineNumber===S.endLineNumber&&v.column>S.endColumn)}static strictContainsPosition(S,v){return!(v.lineNumber<S.startLineNumber||v.lineNumber>S.endLineNumber||v.lineNumber===S.startLineNumber&&v.column<=S.startColumn||v.lineNumber===S.endLineNumber&&v.column>=S.endColumn)}containsRange(S){return t.containsRange(this,S)}static containsRange(S,v){return!(v.startLineNumber<S.startLineNumber||v.endLineNumber<S.startLineNumber||v.startLineNumber>S.endLineNumber||v.endLineNumber>S.endLineNumber||v.startLineNumber===S.startLineNumber&&v.startColumn<S.startColumn||v.endLineNumber===S.endLineNumber&&v.endColumn>S.endColumn)}strictContainsRange(S){return t.strictContainsRange(this,S)}static strictContainsRange(S,v){return!(v.startLineNumber<S.startLineNumber||v.endLineNumber<S.startLineNumber||v.startLineNumber>S.endLineNumber||v.endLineNumber>S.endLineNumber||v.startLineNumber===S.startLineNumber&&v.startColumn<=S.startColumn||v.endLineNumber===S.endLineNumber&&v.endColumn>=S.endColumn)}plusRange(S){return t.plusRange(this,S)}static plusRange(S,v){let T,C,E,L;return v.startLineNumber<S.startLineNumber?(T=v.startLineNumber,C=v.startColumn):v.startLineNumber===S.startLineNumber?(T=v.startLineNumber,C=Math.min(v.startColumn,S.startColumn)):(T=S.startLineNumber,C=S.startColumn),v.endLineNumber>S.endLineNumber?(E=v.endLineNumber,L=v.endColumn):v.endLineNumber===S.endLineNumber?(E=v.endLineNumber,L=Math.max(v.endColumn,S.endColumn)):(E=S.endLineNumber,L=S.endColumn),new t(T,C,E,L)}intersectRanges(S){return t.intersectRanges(this,S)}static intersectRanges(S,v){let T=S.startLineNumber,C=S.startColumn,E=S.endLineNumber,L=S.endColumn;const _=v.startLineNumber,s=v.startColumn,m=v.endLineNumber,c=v.endColumn;return T<_?(T=_,C=s):T===_&&(C=Math.max(C,s)),E>m?(E=m,L=c):E===m&&(L=Math.min(L,c)),T>E||T===E&&C>L?null:new t(T,C,E,L)}equalsRange(S){return t.equalsRange(this,S)}static equalsRange(S,v){return!!S&&!!v&&S.startLineNumber===v.startLineNumber&&S.startColumn===v.startColumn&&S.endLineNumber===v.endLineNumber&&S.endColumn===v.endColumn}getEndPosition(){return t.getEndPosition(this)}static getEndPosition(S){return new d.L(S.endLineNumber,S.endColumn)}getStartPosition(){return t.getStartPosition(this)}static getStartPosition(S){return new d.L(S.startLineNumber,S.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(S,v){return new t(this.startLineNumber,this.startColumn,S,v)}setStartPosition(S,v){return new t(S,v,this.endLineNumber,this.endColumn)}collapseToStart(){return t.collapseToStart(this)}static collapseToStart(S){return new t(S.startLineNumber,S.startColumn,S.startLineNumber,S.startColumn)}static fromPositions(S,v=S){return new t(S.lineNumber,S.column,v.lineNumber,v.column)}static lift(S){return S?new t(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):null}static isIRange(S){return S&&"number"==typeof S.startLineNumber&&"number"==typeof S.startColumn&&"number"==typeof S.endLineNumber&&"number"==typeof S.endColumn}static areIntersectingOrTouching(S,v){return!(S.endLineNumber<v.startLineNumber||S.endLineNumber===v.startLineNumber&&S.endColumn<v.startColumn||v.endLineNumber<S.startLineNumber||v.endLineNumber===S.startLineNumber&&v.endColumn<S.startColumn)}static areIntersecting(S,v){return!(S.endLineNumber<v.startLineNumber||S.endLineNumber===v.startLineNumber&&S.endColumn<=v.startColumn||v.endLineNumber<S.startLineNumber||v.endLineNumber===S.startLineNumber&&v.endColumn<=S.startColumn)}static compareRangesUsingStarts(S,v){if(S&&v){const E=0|S.startLineNumber,L=0|v.startLineNumber;if(E===L){const _=0|S.startColumn,s=0|v.startColumn;if(_===s){const m=0|S.endLineNumber,c=0|v.endLineNumber;return m===c?(0|S.endColumn)-(0|v.endColumn):m-c}return _-s}return E-L}return(S?1:0)-(v?1:0)}static compareRangesUsingEnds(S,v){return S.endLineNumber===v.endLineNumber?S.endColumn===v.endColumn?S.startLineNumber===v.startLineNumber?S.startColumn-v.startColumn:S.startLineNumber-v.startLineNumber:S.endColumn-v.endColumn:S.endLineNumber-v.endLineNumber}static spansMultipleLines(S){return S.endLineNumber>S.startLineNumber}toJSON(){return this}}},7233:(Et,X,e)=>{"use strict";e.d(X,{Y:()=>l});var d=e(18723),t=e(98570);class l extends t.e{constructor(v,T,C,E){super(v,T,C,E),this.selectionStartLineNumber=v,this.selectionStartColumn=T,this.positionLineNumber=C,this.positionColumn=E}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(v){return l.selectionsEqual(this,v)}static selectionsEqual(v,T){return v.selectionStartLineNumber===T.selectionStartLineNumber&&v.selectionStartColumn===T.selectionStartColumn&&v.positionLineNumber===T.positionLineNumber&&v.positionColumn===T.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(v,T){return 0===this.getDirection()?new l(this.startLineNumber,this.startColumn,v,T):new l(v,T,this.startLineNumber,this.startColumn)}getPosition(){return new d.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new d.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(v,T){return 0===this.getDirection()?new l(v,T,this.endLineNumber,this.endColumn):new l(this.endLineNumber,this.endColumn,v,T)}static fromPositions(v,T=v){return new l(v.lineNumber,v.column,T.lineNumber,T.column)}static fromRange(v,T){return 0===T?new l(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new l(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}static liftSelection(v){return new l(v.selectionStartLineNumber,v.selectionStartColumn,v.positionLineNumber,v.positionColumn)}static selectionsArrEqual(v,T){if(v&&!T||!v&&T)return!1;if(!v&&!T)return!0;if(v.length!==T.length)return!1;for(let C=0,E=v.length;C<E;C++)if(!this.selectionsEqual(v[C],T[C]))return!1;return!0}static isISelection(v){return v&&"number"==typeof v.selectionStartLineNumber&&"number"==typeof v.selectionStartColumn&&"number"==typeof v.positionLineNumber&&"number"==typeof v.positionColumn}static createWithDirection(v,T,C,E,L){return 0===L?new l(v,T,C,E):new l(C,E,v,T)}}},8680:(Et,X,e)=>{"use strict";e.d(X,{kH:()=>m,l$:()=>s,lZ:()=>_,oe:()=>L});var d=e(73879),t=e(8841),l=e(32068);let S,T,E;function v(){return S||(S=new TextDecoder("UTF-16LE")),S}function L(){return E||(E=t.r()?v():function C(){return T||(T=new TextDecoder("UTF-16BE")),T}()),E}const _=typeof TextDecoder<"u";let s,m;function n(u,g,b){const y=[];let D=0;for(let w=0;w<b;w++){const I=l.mP(u,g);g+=2,y[D++]=String.fromCharCode(I)}return y.join("")}_?(s=u=>new a(u),m=function c(u,g,b){const y=new Uint16Array(u.buffer,g,b);return b>0&&(65279===y[0]||65534===y[0])?n(u,g,b):v().decode(y)}):(s=u=>new p,m=n);class a{constructor(g){this._capacity=0|g,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const g=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return L().decode(g)}_flushBuffer(){const g=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[g]:this._completedStrings[this._completedStrings.length]=g}write1(g){const b=this._capacity-this._bufferLength;b<=1&&(0===b||d.ZG(g))&&this._flushBuffer(),this._buffer[this._bufferLength++]=g}appendASCII(g){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=g}appendASCIIString(g){const b=g.length;if(this._bufferLength+b>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=g);for(let y=0;y<b;y++)this._buffer[this._bufferLength++]=g.charCodeAt(y)}}class p{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(g){this._pieces[this._piecesLen++]=String.fromCharCode(g)}appendASCII(g){this._pieces[this._piecesLen++]=String.fromCharCode(g)}appendASCIIString(g){this._pieces[this._piecesLen++]=g}}},66390:(Et,X,e)=>{"use strict";e.d(X,{b:()=>v,q:()=>S});var d=e(32068),t=e(8680);function l(C){return C.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class S{constructor(E,L,_,s){this.oldPosition=E,this.oldText=L,this.newPosition=_,this.newText=s}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${l(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${l(this.oldText)}")`:`(replace@${this.oldPosition} "${l(this.oldText)}" with "${l(this.newText)}")`}static _writeStringSize(E){return 4+2*E.length}static _writeString(E,L,_){const s=L.length;d.T4(E,s,_),_+=4;for(let m=0;m<s;m++)d.oq(E,L.charCodeAt(m),_),_+=2;return _}static _readString(E,L){const _=d.Ag(E,L);return(0,t.kH)(E,L+=4,_)}writeSize(){return 8+S._writeStringSize(this.oldText)+S._writeStringSize(this.newText)}write(E,L){return d.T4(E,this.oldPosition,L),d.T4(E,this.newPosition,L+=4),L=S._writeString(E,this.oldText,L+=4),S._writeString(E,this.newText,L)}static read(E,L,_){const s=d.Ag(E,L),m=d.Ag(E,L+=4),c=S._readString(E,L+=4);L+=S._writeStringSize(c);const n=S._readString(E,L);return L+=S._writeStringSize(n),_.push(new S(s,c,m,n)),L}}function v(C,E){return null===C||0===C.length?E:new T(C,E).compress()}class T{constructor(E,L){this._prevEdits=E,this._currEdits=L,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let E=0,L=0,_=this._getPrev(E),s=this._getCurr(L);for(;E<this._prevLen||L<this._currLen;){if(null===_){this._acceptCurr(s),s=this._getCurr(++L);continue}if(null===s){this._acceptPrev(_),_=this._getPrev(++E);continue}if(s.oldEnd<=_.newPosition){this._acceptCurr(s),s=this._getCurr(++L);continue}if(_.newEnd<=s.oldPosition){this._acceptPrev(_),_=this._getPrev(++E);continue}if(s.oldPosition<_.newPosition){const[p,u]=T._splitCurr(s,_.newPosition-s.oldPosition);this._acceptCurr(p),s=u;continue}if(_.newPosition<s.oldPosition){const[p,u]=T._splitPrev(_,s.oldPosition-_.newPosition);this._acceptPrev(p),_=u;continue}let n,a;if(s.oldEnd===_.newEnd)n=_,a=s,_=this._getPrev(++E),s=this._getCurr(++L);else if(s.oldEnd<_.newEnd){const[p,u]=T._splitPrev(_,s.oldLength);n=p,a=s,_=u,s=this._getCurr(++L)}else{const[p,u]=T._splitCurr(s,_.newLength);n=_,a=p,_=this._getPrev(++E),s=u}this._result[this._resultLen++]=new S(n.oldPosition,n.oldText,a.newPosition,a.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=a.newLength-a.oldLength}const m=T._merge(this._result);return T._removeNoOps(m)}_acceptCurr(E){this._result[this._resultLen++]=T._rebaseCurr(this._prevDeltaOffset,E),this._currDeltaOffset+=E.newLength-E.oldLength}_getCurr(E){return E<this._currLen?this._currEdits[E]:null}_acceptPrev(E){this._result[this._resultLen++]=T._rebasePrev(this._currDeltaOffset,E),this._prevDeltaOffset+=E.newLength-E.oldLength}_getPrev(E){return E<this._prevLen?this._prevEdits[E]:null}static _rebaseCurr(E,L){return new S(L.oldPosition-E,L.oldText,L.newPosition,L.newText)}static _rebasePrev(E,L){return new S(L.oldPosition,L.oldText,L.newPosition+E,L.newText)}static _splitPrev(E,L){const _=E.newText.substr(0,L),s=E.newText.substr(L);return[new S(E.oldPosition,E.oldText,E.newPosition,_),new S(E.oldEnd,"",E.newPosition+L,s)]}static _splitCurr(E,L){const _=E.oldText.substr(0,L),s=E.oldText.substr(L);return[new S(E.oldPosition,_,E.newPosition,E.newText),new S(E.oldPosition+L,s,E.newEnd,"")]}static _merge(E){if(0===E.length)return E;const L=[];let _=0,s=E[0];for(let m=1;m<E.length;m++){const c=E[m];s.oldEnd===c.oldPosition?s=new S(s.oldPosition,s.oldText+c.oldText,s.newPosition,s.newText+c.newText):(L[_++]=s,s=c)}return L[_++]=s,L}static _removeNoOps(E){if(0===E.length)return E;const L=[];let _=0;for(let s=0;s<E.length;s++){const m=E[s];m.oldText!==m.newText&&(L[_++]=m)}return L}}},39945:(Et,X,e)=>{"use strict";e.d(X,{D:()=>d});const d={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},91609:(Et,X,e)=>{"use strict";e.d(X,{u:()=>S});var d=e(81742);class t extends d.N{constructor(T){super(0);for(let C=0,E=T.length;C<E;C++)this.set(T.charCodeAt(C),2);this.set(32,1),this.set(9,1)}}const S=function l(v){const T={};return C=>(T.hasOwnProperty(C)||(T[C]=v(C)),T[C])}(v=>new t(v))},50894:(Et,X,e)=>{"use strict";e.d(X,{Af:()=>v,eq:()=>T,t2:()=>E,vu:()=>l});var d=e(1999),t=e(85739);const l="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",v=function S(_=""){let s="(-?\\d*\\.\\d\\w*)|([^";for(const m of l)_.indexOf(m)>=0||(s+="\\"+m);return s+="\\s]+)",new RegExp(s,"g")}();function T(_){let s=v;if(_&&_ instanceof RegExp)if(_.global)s=_;else{let m="g";_.ignoreCase&&(m+="i"),_.multiline&&(m+="m"),_.unicode&&(m+="u"),s=new RegExp(_.source,m)}return s.lastIndex=0,s}const C=new t.S;function E(_,s,m,c,n){if(n||(n=d.$.first(C)),m.length>n.maxLen){let b=_-n.maxLen/2;return b<0?b=0:c+=b,E(_,s,m=m.substring(b,_+n.maxLen/2),c,n)}const a=Date.now(),p=_-1-c;let u=-1,g=null;for(let b=1;!(Date.now()-a>=n.timeBudget);b++){const y=p-n.windowSize*b;s.lastIndex=Math.max(0,y);const D=L(s,m,p,u);if(!D&&g||(g=D,y<=0))break;u=y}if(g){const b={word:g[0],startColumn:c+1+g.index,endColumn:c+1+g.index+g[0].length};return s.lastIndex=0,b}return null}function L(_,s,m,c){let n;for(;n=_.exec(s);){const a=n.index||0;if(a<=m&&_.lastIndex>=m)return n;if(c>0&&a>c)return null}return null}C.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},19123:(Et,X,e)=>{"use strict";e.d(X,{l:()=>t});var d=e(5409);class t{static whitespaceVisibleColumn(S,v,T){const C=S.length;let E=0,L=-1,_=-1;for(let s=0;s<C;s++){if(s===v)return[L,_,E];switch(E%T==0&&(L=s,_=E),S.charCodeAt(s)){case 32:E+=1;break;case 9:E=d.i.nextRenderTabStop(E,T);break;default:return[-1,-1,-1]}}return v===C?[L,_,E]:[-1,-1,-1]}static atomicPosition(S,v,T,C){const E=S.length,[L,_,s]=t.whitespaceVisibleColumn(S,v,T);if(-1===s)return-1;let m;switch(C){case 0:m=!0;break;case 1:m=!1;break;case 2:if(s%T==0)return v;m=s%T<=T/2}if(m){if(-1===L)return-1;let a=_;for(let p=L;p<E;++p){if(a===_+T)return L;switch(S.charCodeAt(p)){case 32:a+=1;break;case 9:a=d.i.nextRenderTabStop(a,T);break;default:return-1}}return a===_+T?L:-1}const c=d.i.nextRenderTabStop(s,T);let n=s;for(let a=v;a<E;a++){if(n===c)return a;switch(S.charCodeAt(a)){case 32:n+=1;break;case 9:n=d.i.nextRenderTabStop(n,T);break;default:return-1}}return n===c?E:-1}}},8445:(Et,X,e)=>{"use strict";e.d(X,{A:()=>E});var d=e(73879),t=e(22599),l=e(76336),S=e(5409),v=e(48589),T=e(98570),C=e(18723);class E{static deleteRight(_,s,m,c){const n=[];let a=3!==_;for(let p=0,u=c.length;p<u;p++){const g=c[p];let b=g;if(b.isEmpty()){const y=g.getPosition(),D=v.o.right(s,m,y);b=new T.e(D.lineNumber,D.column,y.lineNumber,y.column)}b.isEmpty()?n[p]=null:(b.startLineNumber!==b.endLineNumber&&(a=!0),n[p]=new t.T4(b,""))}return[a,n]}static isAutoClosingPairDelete(_,s,m,c,n,a,p){if("never"===s&&"never"===m||"never"===_)return!1;for(let u=0,g=a.length;u<g;u++){const b=a[u],y=b.getPosition();if(!b.isEmpty())return!1;const D=n.getLineContent(y.lineNumber);if(y.column<2||y.column>=D.length+1)return!1;const w=D.charAt(y.column-2),I=c.get(w);if(!I)return!1;if((0,l.LN)(w)){if("never"===m)return!1}else if("never"===s)return!1;const P=D.charAt(y.column-1);let O=!1;for(const H of I)H.open===w&&H.close===P&&(O=!0);if(!O)return!1;if("auto"===_){let H=!1;for(let U=0,K=p.length;U<K;U++){const F=p[U];if(y.lineNumber===F.startLineNumber&&y.column===F.startColumn){H=!0;break}}if(!H)return!1}}return!0}static _runAutoClosingPairDelete(_,s,m){const c=[];for(let n=0,a=m.length;n<a;n++){const p=m[n].getPosition(),u=new T.e(p.lineNumber,p.column-1,p.lineNumber,p.column+1);c[n]=new t.T4(u,"")}return[!0,c]}static deleteLeft(_,s,m,c,n){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,m,c,n))return this._runAutoClosingPairDelete(s,m,c);const a=[];let p=2!==_;for(let u=0,g=c.length;u<g;u++){const b=E.getDeleteRange(c[u],m,s);b.isEmpty()?a[u]=null:(b.startLineNumber!==b.endLineNumber&&(p=!0),a[u]=new t.T4(b,""))}return[p,a]}static getDeleteRange(_,s,m){if(!_.isEmpty())return _;const c=_.getPosition();if(m.useTabStops&&c.column>1){const n=s.getLineContent(c.lineNumber),a=d.LC(n);if(c.column<=(-1===a?n.length+1:a+1)){const u=m.visibleColumnFromColumn(s,c),g=S.i.prevIndentTabStop(u,m.indentSize),b=m.columnFromVisibleColumn(s,c.lineNumber,g);return new T.e(c.lineNumber,b,c.lineNumber,c.column)}}return T.e.fromPositions(E.getPositionAfterDeleteLeft(c,s),c)}static getPositionAfterDeleteLeft(_,s){if(_.column>1){const m=d.oH(_.column-1,s.getLineContent(_.lineNumber));return _.with(void 0,m+1)}if(_.lineNumber>1){const m=_.lineNumber-1;return new C.L(m,s.getLineMaxColumn(m))}return _}static cut(_,s,m){const c=[];let n=null;m.sort((a,p)=>C.L.compare(a.getStartPosition(),p.getEndPosition()));for(let a=0,p=m.length;a<p;a++){const u=m[a];if(u.isEmpty())if(_.emptySelectionClipboard){const g=u.getPosition();let b,y,D,w;g.lineNumber<s.getLineCount()?(b=g.lineNumber,y=1,D=g.lineNumber+1,w=1):g.lineNumber>1&&n?.endLineNumber!==g.lineNumber?(b=g.lineNumber-1,y=s.getLineMaxColumn(g.lineNumber-1),D=g.lineNumber,w=s.getLineMaxColumn(g.lineNumber)):(b=g.lineNumber,y=1,D=g.lineNumber,w=s.getLineMaxColumn(g.lineNumber));const I=new T.e(b,y,D,w);n=I,c[a]=I.isEmpty()?null:new t.T4(I,"")}else c[a]=null;else c[a]=new t.T4(u,"")}return new l.Tp(0,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},21073:(Et,X,e)=>{"use strict";e.d(X,{N:()=>E,P:()=>C});var E,L,d=e(72715),t=e(76336),l=e(48589),S=e(7878),v=e(18723),T=e(98570);class C{static addCursorDown(_,s,m){const c=[];let n=0;for(let a=0,p=s.length;a<p;a++){const u=s[a];c[n++]=new t.Vi(u.modelState,u.viewState),c[n++]=m?t.Vi.fromModelState(l.o.translateDown(_.cursorConfig,_.model,u.modelState)):t.Vi.fromViewState(l.o.translateDown(_.cursorConfig,_,u.viewState))}return c}static addCursorUp(_,s,m){const c=[];let n=0;for(let a=0,p=s.length;a<p;a++){const u=s[a];c[n++]=new t.Vi(u.modelState,u.viewState),c[n++]=m?t.Vi.fromModelState(l.o.translateUp(_.cursorConfig,_.model,u.modelState)):t.Vi.fromViewState(l.o.translateUp(_.cursorConfig,_,u.viewState))}return c}static moveToBeginningOfLine(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++)c[n]=this._moveToLineStart(_,s[n],m);return c}static _moveToLineStart(_,s,m){const c=s.viewState.position.column,a=c===s.modelState.position.column,u=_.getLineFirstNonWhitespaceColumn(s.viewState.position.lineNumber);return a||c===u?this._moveToLineStartByModel(_,s,m):this._moveToLineStartByView(_,s,m)}static _moveToLineStartByView(_,s,m){return t.Vi.fromViewState(l.o.moveToBeginningOfLine(_.cursorConfig,_,s.viewState,m))}static _moveToLineStartByModel(_,s,m){return t.Vi.fromModelState(l.o.moveToBeginningOfLine(_.cursorConfig,_.model,s.modelState,m))}static moveToEndOfLine(_,s,m,c){const n=[];for(let a=0,p=s.length;a<p;a++)n[a]=this._moveToLineEnd(_,s[a],m,c);return n}static _moveToLineEnd(_,s,m,c){const n=s.viewState.position,a=_.getLineMaxColumn(n.lineNumber),p=n.column===a,u=s.modelState.position,g=_.model.getLineMaxColumn(u.lineNumber);return p||a-n.column==g-u.column?this._moveToLineEndByModel(_,s,m,c):this._moveToLineEndByView(_,s,m,c)}static _moveToLineEndByView(_,s,m,c){return t.Vi.fromViewState(l.o.moveToEndOfLine(_.cursorConfig,_,s.viewState,m,c))}static _moveToLineEndByModel(_,s,m,c){return t.Vi.fromModelState(l.o.moveToEndOfLine(_.cursorConfig,_.model,s.modelState,m,c))}static expandLineSelection(_,s){const m=[];for(let c=0,n=s.length;c<n;c++){const a=s[c],p=a.modelState.selection.startLineNumber,u=_.model.getLineCount();let b,g=a.modelState.selection.endLineNumber;g===u?b=_.model.getLineMaxColumn(u):(g++,b=1),m[c]=t.Vi.fromModelState(new t.rS(new T.e(p,1,p,1),0,new v.L(g,b),0))}return m}static moveToBeginningOfBuffer(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++)c[n]=t.Vi.fromModelState(l.o.moveToBeginningOfBuffer(_.cursorConfig,_.model,s[n].modelState,m));return c}static moveToEndOfBuffer(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++)c[n]=t.Vi.fromModelState(l.o.moveToEndOfBuffer(_.cursorConfig,_.model,s[n].modelState,m));return c}static selectAll(_,s){const m=_.model.getLineCount(),c=_.model.getLineMaxColumn(m);return t.Vi.fromModelState(new t.rS(new T.e(1,1,1,1),0,new v.L(m,c),0))}static line(_,s,m,c,n){const a=_.model.validatePosition(c),p=n?_.coordinatesConverter.validateViewPosition(new v.L(n.lineNumber,n.column),a):_.coordinatesConverter.convertModelPositionToViewPosition(a);if(!m||!s.modelState.hasSelection()){const g=_.model.getLineCount();let b=a.lineNumber+1,y=1;return b>g&&(b=g,y=_.model.getLineMaxColumn(b)),t.Vi.fromModelState(new t.rS(new T.e(a.lineNumber,1,b,y),0,new v.L(b,y),0))}const u=s.modelState.selectionStart.getStartPosition().lineNumber;if(a.lineNumber<u)return t.Vi.fromViewState(s.viewState.move(s.modelState.hasSelection(),p.lineNumber,1,0));if(a.lineNumber>u){const g=_.getLineCount();let b=p.lineNumber+1,y=1;return b>g&&(b=g,y=_.getLineMaxColumn(b)),t.Vi.fromViewState(s.viewState.move(s.modelState.hasSelection(),b,y,0))}{const g=s.modelState.selectionStart.getEndPosition();return t.Vi.fromModelState(s.modelState.move(s.modelState.hasSelection(),g.lineNumber,g.column,0))}}static word(_,s,m,c){const n=_.model.validatePosition(c);return t.Vi.fromModelState(S.w.word(_.cursorConfig,_.model,s.modelState,m,n))}static cancelSelection(_,s){if(!s.modelState.hasSelection())return new t.Vi(s.modelState,s.viewState);const m=s.viewState.position.lineNumber,c=s.viewState.position.column;return t.Vi.fromViewState(new t.rS(new T.e(m,c,m,c),0,new v.L(m,c),0))}static moveTo(_,s,m,c,n){const a=_.model.validatePosition(c),p=n?_.coordinatesConverter.validateViewPosition(new v.L(n.lineNumber,n.column),a):_.coordinatesConverter.convertModelPositionToViewPosition(a);return t.Vi.fromViewState(s.viewState.move(m,p.lineNumber,p.column,0))}static simpleMove(_,s,m,c,n,a){switch(m){case 0:return 4===a?this._moveHalfLineLeft(_,s,c):this._moveLeft(_,s,c,n);case 1:return 4===a?this._moveHalfLineRight(_,s,c):this._moveRight(_,s,c,n);case 2:return 2===a?this._moveUpByViewLines(_,s,c,n):this._moveUpByModelLines(_,s,c,n);case 3:return 2===a?this._moveDownByViewLines(_,s,c,n):this._moveDownByModelLines(_,s,c,n);case 4:return s.map(2===a?p=>t.Vi.fromViewState(l.o.moveToPrevBlankLine(_.cursorConfig,_,p.viewState,c)):p=>t.Vi.fromModelState(l.o.moveToPrevBlankLine(_.cursorConfig,_.model,p.modelState,c)));case 5:return s.map(2===a?p=>t.Vi.fromViewState(l.o.moveToNextBlankLine(_.cursorConfig,_,p.viewState,c)):p=>t.Vi.fromModelState(l.o.moveToNextBlankLine(_.cursorConfig,_.model,p.modelState,c)));case 6:return this._moveToViewMinColumn(_,s,c);case 7:return this._moveToViewFirstNonWhitespaceColumn(_,s,c);case 8:return this._moveToViewCenterColumn(_,s,c);case 9:return this._moveToViewMaxColumn(_,s,c);case 10:return this._moveToViewLastNonWhitespaceColumn(_,s,c);default:return null}}static viewportMove(_,s,m,c,n){const a=_.getCompletelyVisibleViewRange(),p=_.coordinatesConverter.convertViewRangeToModelRange(a);switch(m){case 11:{const u=this._firstLineNumberInRange(_.model,p,n),g=_.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(_,s[0],c,u,g)]}case 13:{const u=this._lastLineNumberInRange(_.model,p,n),g=_.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(_,s[0],c,u,g)]}case 12:{const u=Math.round((p.startLineNumber+p.endLineNumber)/2),g=_.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(_,s[0],c,u,g)]}case 14:{const u=[];for(let g=0,b=s.length;g<b;g++)u[g]=this.findPositionInViewportIfOutside(_,s[g],a,c);return u}default:return null}}static findPositionInViewportIfOutside(_,s,m,c){const n=s.viewState.position.lineNumber;if(m.startLineNumber<=n&&n<=m.endLineNumber-1)return new t.Vi(s.modelState,s.viewState);{let a;a=n>m.endLineNumber-1?m.endLineNumber-1:n<m.startLineNumber?m.startLineNumber:n;const p=l.o.vertical(_.cursorConfig,_,n,s.viewState.position.column,s.viewState.leftoverVisibleColumns,a,!1);return t.Vi.fromViewState(s.viewState.move(c,p.lineNumber,p.column,p.leftoverVisibleColumns))}}static _firstLineNumberInRange(_,s,m){let c=s.startLineNumber;return s.startColumn!==_.getLineMinColumn(c)&&c++,Math.min(s.endLineNumber,c+m-1)}static _lastLineNumberInRange(_,s,m){let c=s.startLineNumber;return s.startColumn!==_.getLineMinColumn(c)&&c++,Math.max(c,s.endLineNumber-m+1)}static _moveLeft(_,s,m,c){return s.map(n=>t.Vi.fromViewState(l.o.moveLeft(_.cursorConfig,_,n.viewState,m,c)))}static _moveHalfLineLeft(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++){const p=s[n],g=Math.round(_.getLineContent(p.viewState.position.lineNumber).length/2);c[n]=t.Vi.fromViewState(l.o.moveLeft(_.cursorConfig,_,p.viewState,m,g))}return c}static _moveRight(_,s,m,c){return s.map(n=>t.Vi.fromViewState(l.o.moveRight(_.cursorConfig,_,n.viewState,m,c)))}static _moveHalfLineRight(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++){const p=s[n],g=Math.round(_.getLineContent(p.viewState.position.lineNumber).length/2);c[n]=t.Vi.fromViewState(l.o.moveRight(_.cursorConfig,_,p.viewState,m,g))}return c}static _moveDownByViewLines(_,s,m,c){const n=[];for(let a=0,p=s.length;a<p;a++)n[a]=t.Vi.fromViewState(l.o.moveDown(_.cursorConfig,_,s[a].viewState,m,c));return n}static _moveDownByModelLines(_,s,m,c){const n=[];for(let a=0,p=s.length;a<p;a++)n[a]=t.Vi.fromModelState(l.o.moveDown(_.cursorConfig,_.model,s[a].modelState,m,c));return n}static _moveUpByViewLines(_,s,m,c){const n=[];for(let a=0,p=s.length;a<p;a++)n[a]=t.Vi.fromViewState(l.o.moveUp(_.cursorConfig,_,s[a].viewState,m,c));return n}static _moveUpByModelLines(_,s,m,c){const n=[];for(let a=0,p=s.length;a<p;a++)n[a]=t.Vi.fromModelState(l.o.moveUp(_.cursorConfig,_.model,s[a].modelState,m,c));return n}static _moveToViewPosition(_,s,m,c,n){return t.Vi.fromViewState(s.viewState.move(m,c,n,0))}static _moveToModelPosition(_,s,m,c,n){return t.Vi.fromModelState(s.modelState.move(m,c,n,0))}static _moveToViewMinColumn(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++){const p=s[n],u=p.viewState.position.lineNumber,g=_.getLineMinColumn(u);c[n]=this._moveToViewPosition(_,p,m,u,g)}return c}static _moveToViewFirstNonWhitespaceColumn(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++){const p=s[n],u=p.viewState.position.lineNumber,g=_.getLineFirstNonWhitespaceColumn(u);c[n]=this._moveToViewPosition(_,p,m,u,g)}return c}static _moveToViewCenterColumn(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++){const p=s[n],u=p.viewState.position.lineNumber,g=Math.round((_.getLineMaxColumn(u)+_.getLineMinColumn(u))/2);c[n]=this._moveToViewPosition(_,p,m,u,g)}return c}static _moveToViewMaxColumn(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++){const p=s[n],u=p.viewState.position.lineNumber,g=_.getLineMaxColumn(u);c[n]=this._moveToViewPosition(_,p,m,u,g)}return c}static _moveToViewLastNonWhitespaceColumn(_,s,m){const c=[];for(let n=0,a=s.length;n<a;n++){const p=s[n],u=p.viewState.position.lineNumber,g=_.getLineLastNonWhitespaceColumn(u);c[n]=this._moveToViewPosition(_,p,m,u,g)}return c}}(L=E||(E={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(m){if(!d.Kn(m))return!1;const c=m;return!(!d.HD(c.to)||!d.o8(c.select)&&!d.jn(c.select)||!d.o8(c.by)&&!d.HD(c.by)||!d.o8(c.value)&&!d.hj(c.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},L.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},L.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},L.parse=function s(m){if(!m.to)return null;let c;switch(m.to){case L.RawDirection.Left:c=0;break;case L.RawDirection.Right:c=1;break;case L.RawDirection.Up:c=2;break;case L.RawDirection.Down:c=3;break;case L.RawDirection.PrevBlankLine:c=4;break;case L.RawDirection.NextBlankLine:c=5;break;case L.RawDirection.WrappedLineStart:c=6;break;case L.RawDirection.WrappedLineFirstNonWhitespaceCharacter:c=7;break;case L.RawDirection.WrappedLineColumnCenter:c=8;break;case L.RawDirection.WrappedLineEnd:c=9;break;case L.RawDirection.WrappedLineLastNonWhitespaceCharacter:c=10;break;case L.RawDirection.ViewPortTop:c=11;break;case L.RawDirection.ViewPortBottom:c=13;break;case L.RawDirection.ViewPortCenter:c=12;break;case L.RawDirection.ViewPortIfOutside:c=14;break;default:return null}let n=0;switch(m.by){case L.RawUnit.Line:n=1;break;case L.RawUnit.WrappedLine:n=2;break;case L.RawUnit.Character:n=3;break;case L.RawUnit.HalfLine:n=4}return{direction:c,unit:n,select:!!m.select,value:m.value||1}}},48589:(Et,X,e)=>{"use strict";e.d(X,{o:()=>E});var d=e(76336),t=e(5409),l=e(18723),S=e(98570),v=e(73879),T=e(19123);class C{constructor(_,s,m){this._cursorPositionBrand=void 0,this.lineNumber=_,this.column=s,this.leftoverVisibleColumns=m}}class E{static leftPosition(_,s){if(s.column>_.getLineMinColumn(s.lineNumber))return s.delta(void 0,-v.HO(_.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const m=s.lineNumber-1;return new l.L(m,_.getLineMaxColumn(m))}return s}static leftPositionAtomicSoftTabs(_,s,m){if(s.column<=_.getLineIndentColumn(s.lineNumber)){const c=_.getLineMinColumn(s.lineNumber),n=_.getLineContent(s.lineNumber),a=T.l.atomicPosition(n,s.column-1,m,0);if(-1!==a&&a+1>=c)return new l.L(s.lineNumber,a+1)}return this.leftPosition(_,s)}static left(_,s,m){const c=_.stickyTabStops?E.leftPositionAtomicSoftTabs(s,m,_.tabSize):E.leftPosition(s,m);return new C(c.lineNumber,c.column,0)}static moveLeft(_,s,m,c,n){let a,p;if(m.hasSelection()&&!c)a=m.selection.startLineNumber,p=m.selection.startColumn;else{const u=m.position.delta(void 0,-(n-1)),g=s.normalizePosition(E.clipPositionColumn(u,s),0),b=E.left(_,s,g);a=b.lineNumber,p=b.column}return m.move(c,a,p,0)}static clipPositionColumn(_,s){return new l.L(_.lineNumber,E.clipRange(_.column,s.getLineMinColumn(_.lineNumber),s.getLineMaxColumn(_.lineNumber)))}static clipRange(_,s,m){return _<s?s:_>m?m:_}static rightPosition(_,s,m){return m<_.getLineMaxColumn(s)?m+=v.vH(_.getLineContent(s),m-1):s<_.getLineCount()&&(m=_.getLineMinColumn(s+=1)),new l.L(s,m)}static rightPositionAtomicSoftTabs(_,s,m,c,n){if(m<_.getLineIndentColumn(s)){const a=_.getLineContent(s),p=T.l.atomicPosition(a,m-1,c,1);if(-1!==p)return new l.L(s,p+1)}return this.rightPosition(_,s,m)}static right(_,s,m){const c=_.stickyTabStops?E.rightPositionAtomicSoftTabs(s,m.lineNumber,m.column,_.tabSize,_.indentSize):E.rightPosition(s,m.lineNumber,m.column);return new C(c.lineNumber,c.column,0)}static moveRight(_,s,m,c,n){let a,p;if(m.hasSelection()&&!c)a=m.selection.endLineNumber,p=m.selection.endColumn;else{const u=m.position.delta(void 0,n-1),g=s.normalizePosition(E.clipPositionColumn(u,s),1),b=E.right(_,s,g);a=b.lineNumber,p=b.column}return m.move(c,a,p,0)}static vertical(_,s,m,c,n,a,p,u){const g=t.i.visibleColumnFromColumn(s.getLineContent(m),c,_.tabSize)+n,b=s.getLineCount(),y=1===m&&1===c,D=m===b&&c===s.getLineMaxColumn(m),w=a<m?y:D;if((m=a)<1?(m=1,c=p?s.getLineMinColumn(m):Math.min(s.getLineMaxColumn(m),c)):m>b?(m=b,c=p?s.getLineMaxColumn(m):Math.min(s.getLineMaxColumn(m),c)):c=_.columnFromVisibleColumn(s,m,g),n=w?0:g-t.i.visibleColumnFromColumn(s.getLineContent(m),c,_.tabSize),void 0!==u){const I=new l.L(m,c),P=s.normalizePosition(I,u);n+=c-P.column,m=P.lineNumber,c=P.column}return new C(m,c,n)}static down(_,s,m,c,n,a,p){return this.vertical(_,s,m,c,n,m+a,p,4)}static moveDown(_,s,m,c,n){let a,p;m.hasSelection()&&!c?(a=m.selection.endLineNumber,p=m.selection.endColumn):(a=m.position.lineNumber,p=m.position.column);const u=E.down(_,s,a,p,m.leftoverVisibleColumns,n,!0);return m.move(c,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateDown(_,s,m){const c=m.selection,n=E.down(_,s,c.selectionStartLineNumber,c.selectionStartColumn,m.selectionStartLeftoverVisibleColumns,1,!1),a=E.down(_,s,c.positionLineNumber,c.positionColumn,m.leftoverVisibleColumns,1,!1);return new d.rS(new S.e(n.lineNumber,n.column,n.lineNumber,n.column),n.leftoverVisibleColumns,new l.L(a.lineNumber,a.column),a.leftoverVisibleColumns)}static up(_,s,m,c,n,a,p){return this.vertical(_,s,m,c,n,m-a,p,3)}static moveUp(_,s,m,c,n){let a,p;m.hasSelection()&&!c?(a=m.selection.startLineNumber,p=m.selection.startColumn):(a=m.position.lineNumber,p=m.position.column);const u=E.up(_,s,a,p,m.leftoverVisibleColumns,n,!0);return m.move(c,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(_,s,m){const c=m.selection,n=E.up(_,s,c.selectionStartLineNumber,c.selectionStartColumn,m.selectionStartLeftoverVisibleColumns,1,!1),a=E.up(_,s,c.positionLineNumber,c.positionColumn,m.leftoverVisibleColumns,1,!1);return new d.rS(new S.e(n.lineNumber,n.column,n.lineNumber,n.column),n.leftoverVisibleColumns,new l.L(a.lineNumber,a.column),a.leftoverVisibleColumns)}static _isBlankLine(_,s){return 0===_.getLineFirstNonWhitespaceColumn(s)}static moveToPrevBlankLine(_,s,m,c){let n=m.position.lineNumber;for(;n>1&&this._isBlankLine(s,n);)n--;for(;n>1&&!this._isBlankLine(s,n);)n--;return m.move(c,n,s.getLineMinColumn(n),0)}static moveToNextBlankLine(_,s,m,c){const n=s.getLineCount();let a=m.position.lineNumber;for(;a<n&&this._isBlankLine(s,a);)a++;for(;a<n&&!this._isBlankLine(s,a);)a++;return m.move(c,a,s.getLineMinColumn(a),0)}static moveToBeginningOfLine(_,s,m,c){const n=m.position.lineNumber,a=s.getLineMinColumn(n),p=s.getLineFirstNonWhitespaceColumn(n)||a;let u;return u=m.position.column===p?a:p,m.move(c,n,u,0)}static moveToEndOfLine(_,s,m,c,n){const a=m.position.lineNumber,p=s.getLineMaxColumn(a);return m.move(c,a,p,n?1073741824-p:0)}static moveToBeginningOfBuffer(_,s,m,c){return m.move(c,1,1,0)}static moveToEndOfBuffer(_,s,m,c){const n=s.getLineCount(),a=s.getLineMaxColumn(n);return m.move(c,n,a,0)}}},97979:(Et,X,e)=>{"use strict";e.d(X,{Nu:()=>b,u6:()=>u,g_:()=>g});var d=e(4125),t=e(73879),l=e(22599),S=e(91117),v=e(98570),T=e(7233);class C{constructor(O,H,U){this._range=O,this._charBeforeSelection=H,this._charAfterSelection=U}getEditOperations(O,H){H.addTrackedEditOperation(new v.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),H.addTrackedEditOperation(new v.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(O,H){const U=H.getInverseEditOperations(),K=U[0].range,F=U[1].range;return new T.Y(K.endLineNumber,K.endColumn,F.endLineNumber,F.endColumn-this._charAfterSelection.length)}}class E{constructor(O,H,U){this._position=O,this._text=H,this._charAfter=U}getEditOperations(O,H){H.addTrackedEditOperation(new v.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(O,H){const K=H.getInverseEditOperations()[0].range;return new T.Y(K.endLineNumber,K.startColumn,K.endLineNumber,K.endColumn-this._charAfter.length)}}var L=e(76336),_=e(91609),s=e(18723),m=e(63331),c=e(94911),n=e(32309),a=e(3981),p=e(12969);class u{static indent(O,H,U){if(null===H||null===U)return[];const K=[];for(let F=0,B=U.length;F<B;F++)K[F]=new S.U(U[F],{isUnshift:!1,tabSize:O.tabSize,indentSize:O.indentSize,insertSpaces:O.insertSpaces,useTabStops:O.useTabStops,autoIndent:O.autoIndent},O.languageConfigurationService);return K}static outdent(O,H,U){const K=[];for(let F=0,B=U.length;F<B;F++)K[F]=new S.U(U[F],{isUnshift:!0,tabSize:O.tabSize,indentSize:O.indentSize,insertSpaces:O.insertSpaces,useTabStops:O.useTabStops,autoIndent:O.autoIndent},O.languageConfigurationService);return K}static shiftIndent(O,H,U){return S.U.shiftIndent(H,H.length+(U=U||1),O.tabSize,O.indentSize,O.insertSpaces)}static unshiftIndent(O,H,U){return S.U.unshiftIndent(H,H.length+(U=U||1),O.tabSize,O.indentSize,O.insertSpaces)}static _distributedPaste(O,H,U,K){const F=[];for(let B=0,z=U.length;B<z;B++)F[B]=new l.T4(U[B],K[B]);return new L.Tp(0,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(O,H,U,K,F){const B=[];for(let z=0,$=U.length;z<$;z++){const j=U[z],ne=j.getPosition();if(F&&!j.isEmpty()&&(F=!1),F&&K.indexOf("\n")!==K.length-1&&(F=!1),F){const N=new v.e(ne.lineNumber,1,ne.lineNumber,1);B[z]=new l.hP(N,K,j,!0)}else B[z]=new l.T4(j,K)}return new L.Tp(0,B,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(O,H,U,K,F){if(K||1===H.length)return null;if(F&&F.length===H.length)return F;if("spread"===O.multiCursorPaste){10===U.charCodeAt(U.length-1)&&(U=U.substr(0,U.length-1)),13===U.charCodeAt(U.length-1)&&(U=U.substr(0,U.length-1));const B=t.uq(U);if(B.length===H.length)return B}return null}static paste(O,H,U,K,F,B){const z=this._distributePasteToCursors(O,U,K,F,B);return z?(U=U.sort(v.e.compareRangesUsingStarts),this._distributedPaste(O,H,U,z)):this._simplePaste(O,H,U,K,F)}static _goodIndentForLine(O,H,U){let K=null,F="";const B=(0,a.r7)(O.autoIndent,H,U,!1,O.languageConfigurationService);if(B)K=B.action,F=B.indentation;else if(U>1){let z;for(z=U-1;z>=1;z--){const ne=H.getLineContent(z);if(t.ow(ne)>=0)break}if(z<1)return null;const $=H.getLineMaxColumn(z),j=(0,p.A)(O.autoIndent,H,new v.e(z,$,z,$),O.languageConfigurationService);j&&(F=j.indentation+j.appendText)}return K&&(K===m.wU.Indent&&(F=u.shiftIndent(O,F)),K===m.wU.Outdent&&(F=u.unshiftIndent(O,F)),F=O.normalizeIndentation(F)),F||null}static _replaceJumpToNextIndent(O,H,U,K){let F="";const B=U.getStartPosition();if(O.insertSpaces){const z=O.visibleColumnFromColumn(H,B),$=O.indentSize,j=$-z%$;for(let ne=0;ne<j;ne++)F+=" "}else F="\t";return new l.T4(U,F,K)}static tab(O,H,U){const K=[];for(let F=0,B=U.length;F<B;F++){const z=U[F];if(z.isEmpty()){const $=H.getLineContent(z.startLineNumber);if(/^\s*$/.test($)&&H.tokenization.isCheapToTokenize(z.startLineNumber)){let j=this._goodIndentForLine(O,H,z.startLineNumber);j=j||"\t";const ne=O.normalizeIndentation(j);if(!$.startsWith(ne)){K[F]=new l.T4(new v.e(z.startLineNumber,1,z.startLineNumber,$.length+1),ne,!0);continue}}K[F]=this._replaceJumpToNextIndent(O,H,z,!0)}else{if(z.startLineNumber===z.endLineNumber){const $=H.getLineMaxColumn(z.startLineNumber);if(1!==z.startColumn||z.endColumn!==$){K[F]=this._replaceJumpToNextIndent(O,H,z,!1);continue}}K[F]=new S.U(z,{isUnshift:!1,tabSize:O.tabSize,indentSize:O.indentSize,insertSpaces:O.insertSpaces,useTabStops:O.useTabStops,autoIndent:O.autoIndent},O.languageConfigurationService)}}return K}static compositionType(O,H,U,K,F,B,z,$){const j=K.map(ne=>this._compositionType(U,ne,F,B,z,$));return new L.Tp(4,j,{shouldPushStackElementBefore:D(O,4),shouldPushStackElementAfter:!1})}static _compositionType(O,H,U,K,F,B){if(!H.isEmpty())return null;const z=H.getPosition(),$=Math.max(1,z.column-K),j=Math.min(O.getLineMaxColumn(z.lineNumber),z.column+F),ne=new v.e(z.lineNumber,$,z.lineNumber,j);return O.getValueInRange(ne)===U&&0===B?null:new l.Uo(ne,U,0,B)}static _typeCommand(O,H,U){return U?new l.Sj(O,H,!0):new l.T4(O,H,!0)}static _enter(O,H,U,K){if(0===O.autoIndent)return u._typeCommand(K,"\n",U);if(!H.tokenization.isCheapToTokenize(K.getStartPosition().lineNumber)||1===O.autoIndent){const $=H.getLineContent(K.startLineNumber),j=t.V8($).substring(0,K.startColumn-1);return u._typeCommand(K,"\n"+O.normalizeIndentation(j),U)}const F=(0,p.A)(O.autoIndent,H,K,O.languageConfigurationService);if(F){if(F.indentAction===m.wU.None)return u._typeCommand(K,"\n"+O.normalizeIndentation(F.indentation+F.appendText),U);if(F.indentAction===m.wU.Indent)return u._typeCommand(K,"\n"+O.normalizeIndentation(F.indentation+F.appendText),U);if(F.indentAction===m.wU.IndentOutdent){const $=O.normalizeIndentation(F.indentation),j=O.normalizeIndentation(F.indentation+F.appendText),ne="\n"+j+"\n"+$;return U?new l.Sj(K,ne,!0):new l.Uo(K,ne,-1,j.length-$.length,!0)}if(F.indentAction===m.wU.Outdent){const $=u.unshiftIndent(O,F.indentation);return u._typeCommand(K,"\n"+O.normalizeIndentation($+F.appendText),U)}}const B=H.getLineContent(K.startLineNumber),z=t.V8(B).substring(0,K.startColumn-1);if(O.autoIndent>=4){const $=(0,a.UF)(O.autoIndent,H,K,{unshiftIndent:j=>u.unshiftIndent(O,j),shiftIndent:j=>u.shiftIndent(O,j),normalizeIndentation:j=>O.normalizeIndentation(j)},O.languageConfigurationService);if($){let j=O.visibleColumnFromColumn(H,K.getEndPosition());const ne=K.endColumn,N=H.getLineContent(K.endLineNumber),V=t.LC(N);if(K=K.setEndPosition(K.endLineNumber,V>=0?Math.max(K.endColumn,V+1):H.getLineMaxColumn(K.endLineNumber)),U)return new l.Sj(K,"\n"+O.normalizeIndentation($.afterEnter),!0);{let Z=0;return ne<=V+1&&(O.insertSpaces||(j=Math.ceil(j/O.indentSize)),Z=Math.min(j+1-O.normalizeIndentation($.afterEnter).length-1,0)),new l.Uo(K,"\n"+O.normalizeIndentation($.afterEnter),0,Z,!0)}}}return u._typeCommand(K,"\n"+O.normalizeIndentation(z),U)}static _isAutoIndentType(O,H,U){if(O.autoIndent<4)return!1;for(let K=0,F=U.length;K<F;K++)if(!H.tokenization.isCheapToTokenize(U[K].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(O,H,U,K){const F=(0,c.u0)(H,U.startLineNumber,U.startColumn),B=(0,a.$9)(O.autoIndent,H,U,K,{shiftIndent:z=>u.shiftIndent(O,z),unshiftIndent:z=>u.unshiftIndent(O,z)},O.languageConfigurationService);if(null===B)return null;if(B!==O.normalizeIndentation(F)){const z=H.getLineFirstNonWhitespaceColumn(U.startLineNumber);return u._typeCommand(new v.e(U.startLineNumber,1,U.endLineNumber,U.endColumn),0===z?O.normalizeIndentation(B)+K:O.normalizeIndentation(B)+H.getLineContent(U.startLineNumber).substring(z-1,U.startColumn-1)+K,!1)}return null}static _isAutoClosingOvertype(O,H,U,K,F){if("never"===O.autoClosingOvertype||!O.autoClosingPairs.autoClosingPairsCloseSingleChar.has(F))return!1;for(let B=0,z=U.length;B<z;B++){const $=U[B];if(!$.isEmpty())return!1;const j=$.getPosition(),ne=H.getLineContent(j.lineNumber);if(ne.charAt(j.column-1)!==F)return!1;const V=(0,L.LN)(F);if(92===(j.column>2?ne.charCodeAt(j.column-2):0)&&V)return!1;if("auto"===O.autoClosingOvertype){let fe=!1;for(let M=0,Se=K.length;M<Se;M++){const Ee=K[M];if(j.lineNumber===Ee.startLineNumber&&j.column===Ee.startColumn){fe=!0;break}}if(!fe)return!1}}return!0}static _runAutoClosingOvertype(O,H,U,K,F){const B=[];for(let z=0,$=K.length;z<$;z++){const ne=K[z].getPosition(),N=new v.e(ne.lineNumber,ne.column,ne.lineNumber,ne.column+1);B[z]=new l.T4(N,F)}return new L.Tp(4,B,{shouldPushStackElementBefore:D(O,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(O,H){const U=H.charAt(0),K=O.autoClosingPairs.autoClosingPairsOpenByStart.get(U)||[],F=O.autoClosingPairs.autoClosingPairsCloseByStart.get(U)||[],B=K.some($=>H.startsWith($.open)),z=F.some($=>H.startsWith($.close));return!B&&z}static _findAutoClosingPairOpen(O,H,U,K){const F=O.autoClosingPairs.autoClosingPairsOpenByEnd.get(K);if(!F)return null;let B=null;for(const z of F)if(null===B||z.open.length>B.open.length){let $=!0;for(const j of U)if(H.getValueInRange(new v.e(j.lineNumber,j.column-z.open.length+1,j.lineNumber,j.column))+K!==z.open){$=!1;break}$&&(B=z)}return B}static _findContainedAutoClosingPair(O,H){if(H.open.length<=1)return null;const U=H.close.charAt(H.close.length-1),K=O.autoClosingPairs.autoClosingPairsCloseByEnd.get(U)||[];let F=null;for(const B of K)B.open!==H.open&&H.open.includes(B.open)&&H.close.endsWith(B.close)&&(!F||B.open.length>F.open.length)&&(F=B);return F}static _getAutoClosingPairClose(O,H,U,K,F){const B=(0,L.LN)(K),z=B?O.autoClosingQuotes:O.autoClosingBrackets,$=B?O.shouldAutoCloseBefore.quote:O.shouldAutoCloseBefore.bracket;if("never"===z)return null;for(const fe of U)if(!fe.isEmpty())return null;const j=U.map(fe=>{const M=fe.getPosition();return F?{lineNumber:M.lineNumber,beforeColumn:M.column-K.length,afterColumn:M.column}:{lineNumber:M.lineNumber,beforeColumn:M.column,afterColumn:M.column}}),ne=this._findAutoClosingPairOpen(O,H,j.map(fe=>new s.L(fe.lineNumber,fe.beforeColumn)),K);if(!ne)return null;const N=this._findContainedAutoClosingPair(O,ne),V=N?N.close:"";let Z=!0;for(const fe of j){const{lineNumber:M,beforeColumn:Se,afterColumn:Ee}=fe,Le=H.getLineContent(M),Ne=Le.substring(0,Se-1),oe=Le.substring(Ee-1);if(oe.startsWith(V)||(Z=!1),oe.length>0){const Te=oe.charAt(0);if(!u._isBeforeClosingBrace(O,oe)&&!$(Te))return null}if(1===ne.open.length&&("'"===K||'"'===K)&&"always"!==z){const Te=(0,_.u)(O.wordSeparators);if(Ne.length>0){const de=Ne.charCodeAt(Ne.length-1);if(0===Te.get(de))return null}}if(!H.tokenization.isCheapToTokenize(M))return null;H.tokenization.forceTokenization(M);const we=H.tokenization.getLineTokens(M),xe=(0,n.wH)(we,Se-1);if(!ne.shouldAutoClose(xe,Se-xe.firstCharOffset))return null;const pe=ne.findNeutralCharacter();if(pe){const Te=H.tokenization.getTokenTypeIfInsertingCharacter(M,Se,pe);if(!ne.isOK(Te))return null}}return Z?ne.close.substring(0,ne.close.length-V.length):ne.close}static _runAutoClosingOpenCharType(O,H,U,K,F,B,z){const $=[];for(let j=0,ne=K.length;j<ne;j++)$[j]=new g(K[j],F,!B,z);return new L.Tp(4,$,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(O,H){return(0,L.LN)(H)?"quotes"===O.autoSurround||"languageDefined"===O.autoSurround:"brackets"===O.autoSurround||"languageDefined"===O.autoSurround}static _isSurroundSelectionType(O,H,U,K){if(!u._shouldSurroundChar(O,K)||!O.surroundingPairs.hasOwnProperty(K))return!1;const F=(0,L.LN)(K);for(const B of U){if(B.isEmpty())return!1;let z=!0;for(let $=B.startLineNumber;$<=B.endLineNumber;$++){const j=H.getLineContent($),V=j.substring($===B.startLineNumber?B.startColumn-1:0,$===B.endLineNumber?B.endColumn-1:j.length);if(/[^ \t]/.test(V)){z=!1;break}}if(z)return!1;if(F&&B.startLineNumber===B.endLineNumber&&B.startColumn+1===B.endColumn){const $=H.getValueInRange(B);if((0,L.LN)($))return!1}}return!0}static _runSurroundSelectionType(O,H,U,K,F){const B=[];for(let z=0,$=K.length;z<$;z++)B[z]=new C(K[z],F,H.surroundingPairs[F]);return new L.Tp(0,B,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(O,H,U){return!(1!==U.length||!H.tokenization.isCheapToTokenize(U[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(O,H,U,K,F){if(!H.electricChars.hasOwnProperty(F)||!K.isEmpty())return null;const B=K.getPosition();U.tokenization.forceTokenization(B.lineNumber);const z=U.tokenization.getLineTokens(B.lineNumber);let $;try{$=H.onElectricCharacter(F,z,B.column)}catch(j){return(0,d.dL)(j),null}if(!$)return null;if($.matchOpenBracket){const j=(z.getLineContent()+F).lastIndexOf($.matchOpenBracket)+1,ne=U.bracketPairs.findMatchingBracketUp($.matchOpenBracket,{lineNumber:B.lineNumber,column:j},500);if(ne){if(ne.startLineNumber===B.lineNumber)return null;const N=U.getLineContent(ne.startLineNumber),V=t.V8(N),Z=H.normalizeIndentation(V),fe=U.getLineContent(B.lineNumber),M=U.getLineFirstNonWhitespaceColumn(B.lineNumber)||B.column,Ee=Z+fe.substring(M-1,B.column-1)+F,Le=new v.e(B.lineNumber,1,B.lineNumber,B.column),Ne=new l.T4(Le,Ee);return new L.Tp(y(Ee,O),[Ne],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(O,H,U,K,F,B){if(!K)return null;let z=null;for(const N of K)if(null===z)z=N.insertedText;else if(z!==N.insertedText)return null;if(!z||1!==z.length)return null;const $=z;let j=!1;for(const N of K)if(0!==N.deletedText.length){j=!0;break}if(j){if(!u._shouldSurroundChar(H,$)||!H.surroundingPairs.hasOwnProperty($))return null;const N=(0,L.LN)($);for(const fe of K)if(0!==fe.deletedSelectionStart||fe.deletedSelectionEnd!==fe.deletedText.length||/^[ \t]+$/.test(fe.deletedText)||N&&(0,L.LN)(fe.deletedText))return null;const V=[];for(const fe of F){if(!fe.isEmpty())return null;V.push(fe.getPosition())}if(V.length!==K.length)return null;const Z=[];for(let fe=0,M=V.length;fe<M;fe++)Z.push(new E(V[fe],K[fe].deletedText,$));return new L.Tp(4,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(H,U,F,B,$)){const N=F.map(V=>new l.T4(new v.e(V.positionLineNumber,V.positionColumn,V.positionLineNumber,V.positionColumn+1),"",!1));return new L.Tp(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const ne=this._getAutoClosingPairClose(H,U,F,$,!0);return null!==ne?this._runAutoClosingOpenCharType(O,H,U,F,$,!0,ne):null}static typeWithInterceptors(O,H,U,K,F,B,z){if(!O&&"\n"===z){const ne=[];for(let N=0,V=F.length;N<V;N++)ne[N]=u._enter(U,K,!1,F[N]);return new L.Tp(4,ne,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!O&&this._isAutoIndentType(U,K,F)){const ne=[];let N=!1;for(let V=0,Z=F.length;V<Z;V++)if(ne[V]=this._runAutoIndentType(U,K,F[V],z),!ne[V]){N=!0;break}if(!N)return new L.Tp(4,ne,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(U,K,F,B,z))return this._runAutoClosingOvertype(H,U,K,F,z);if(!O){const ne=this._getAutoClosingPairClose(U,K,F,z,!1);if(ne)return this._runAutoClosingOpenCharType(H,U,K,F,z,!1,ne)}if(!O&&this._isSurroundSelectionType(U,K,F,z))return this._runSurroundSelectionType(H,U,K,F,z);if(!O&&this._isTypeInterceptorElectricChar(U,K,F)){const ne=this._typeInterceptorElectricChar(H,U,K,F[0],z);if(ne)return ne}const $=[];for(let ne=0,N=F.length;ne<N;ne++)$[ne]=new l.T4(F[ne],z);const j=y(z,H);return new L.Tp(j,$,{shouldPushStackElementBefore:D(H,j),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(O,H,U,K,F){const B=[];for(let $=0,j=K.length;$<j;$++)B[$]=new l.T4(K[$],F);const z=y(F,O);return new L.Tp(z,B,{shouldPushStackElementBefore:D(O,z),shouldPushStackElementAfter:!1})}static lineInsertBefore(O,H,U){if(null===H||null===U)return[];const K=[];for(let F=0,B=U.length;F<B;F++){let z=U[F].positionLineNumber;if(1===z)K[F]=new l.Sj(new v.e(1,1,1,1),"\n");else{z--;const $=H.getLineMaxColumn(z);K[F]=this._enter(O,H,!1,new v.e(z,$,z,$))}}return K}static lineInsertAfter(O,H,U){if(null===H||null===U)return[];const K=[];for(let F=0,B=U.length;F<B;F++){const z=U[F].positionLineNumber,$=H.getLineMaxColumn(z);K[F]=this._enter(O,H,!1,new v.e(z,$,z,$))}return K}static lineBreakInsert(O,H,U){const K=[];for(let F=0,B=U.length;F<B;F++)K[F]=this._enter(O,H,!0,U[F]);return K}}class g extends l.Uo{constructor(O,H,U,K){super(O,(U?H:"")+K,0,-K.length),this._openCharacter=H,this._closeCharacter=K,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(O,H){const K=H.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v.e(K.startLineNumber,K.endColumn-this._closeCharacter.length,K.endLineNumber,K.endColumn),this.enclosingRange=new v.e(K.startLineNumber,K.endColumn-this._openCharacter.length-this._closeCharacter.length,K.endLineNumber,K.endColumn),super.computeCursorState(O,H)}}class b{constructor(O,H,U,K,F,B){this.deletedText=O,this.deletedSelectionStart=H,this.deletedSelectionEnd=U,this.insertedText=K,this.insertedSelectionStart=F,this.insertedSelectionEnd=B}}function y(P,O){return" "===P?5===O||6===O?6:5:4}function D(P,O){return!(!I(P)||I(O))||5!==P&&w(P)!==w(O)}function w(P){return 6===P||5===P?"space":P}function I(P){return 4===P||5===P||6===P}},7878:(Et,X,e)=>{"use strict";e.d(X,{L:()=>E,w:()=>C});var d=e(73879),t=e(76336),l=e(8445),S=e(91609),v=e(18723),T=e(98570);class C{static _createWord(s,m,c,n,a){return{start:n,end:a,wordType:m,nextCharClass:c}}static _findPreviousWordOnLine(s,m,c){const n=m.getLineContent(c.lineNumber);return this._doFindPreviousWordOnLine(n,s,c)}static _doFindPreviousWordOnLine(s,m,c){let n=0;for(let a=c.column-2;a>=0;a--){const p=s.charCodeAt(a),u=m.get(p);if(0===u){if(2===n)return this._createWord(s,n,u,a+1,this._findEndOfWord(s,m,n,a+1));n=1}else if(2===u){if(1===n)return this._createWord(s,n,u,a+1,this._findEndOfWord(s,m,n,a+1));n=2}else if(1===u&&0!==n)return this._createWord(s,n,u,a+1,this._findEndOfWord(s,m,n,a+1))}return 0!==n?this._createWord(s,n,1,0,this._findEndOfWord(s,m,n,0)):null}static _findEndOfWord(s,m,c,n){const a=s.length;for(let p=n;p<a;p++){const u=s.charCodeAt(p),g=m.get(u);if(1===g||1===c&&2===g||2===c&&0===g)return p}return a}static _findNextWordOnLine(s,m,c){const n=m.getLineContent(c.lineNumber);return this._doFindNextWordOnLine(n,s,c)}static _doFindNextWordOnLine(s,m,c){let n=0;const a=s.length;for(let p=c.column-1;p<a;p++){const u=s.charCodeAt(p),g=m.get(u);if(0===g){if(2===n)return this._createWord(s,n,g,this._findStartOfWord(s,m,n,p-1),p);n=1}else if(2===g){if(1===n)return this._createWord(s,n,g,this._findStartOfWord(s,m,n,p-1),p);n=2}else if(1===g&&0!==n)return this._createWord(s,n,g,this._findStartOfWord(s,m,n,p-1),p)}return 0!==n?this._createWord(s,n,1,this._findStartOfWord(s,m,n,a-1),a):null}static _findStartOfWord(s,m,c,n){for(let a=n;a>=0;a--){const p=s.charCodeAt(a),u=m.get(p);if(1===u||1===c&&2===u||2===c&&0===u)return a+1}return 0}static moveWordLeft(s,m,c,n){let a=c.lineNumber,p=c.column;1===p&&a>1&&(a-=1,p=m.getLineMaxColumn(a));let u=C._findPreviousWordOnLine(s,m,new v.L(a,p));if(0===n)return new v.L(a,u?u.start+1:1);if(1===n)return u&&2===u.wordType&&u.end-u.start==1&&0===u.nextCharClass&&(u=C._findPreviousWordOnLine(s,m,new v.L(a,u.start+1))),new v.L(a,u?u.start+1:1);if(3===n){for(;u&&2===u.wordType;)u=C._findPreviousWordOnLine(s,m,new v.L(a,u.start+1));return new v.L(a,u?u.start+1:1)}return u&&p<=u.end+1&&(u=C._findPreviousWordOnLine(s,m,new v.L(a,u.start+1))),new v.L(a,u?u.end+1:1)}static _moveWordPartLeft(s,m){const c=m.lineNumber,n=s.getLineMaxColumn(c);if(1===m.column)return c>1?new v.L(c-1,s.getLineMaxColumn(c-1)):m;const a=s.getLineContent(c);for(let p=m.column-1;p>1;p--){const u=a.charCodeAt(p-2),g=a.charCodeAt(p-1);if(95===u&&95!==g)return new v.L(c,p);if((d.mK(u)||d.T5(u))&&d.df(g))return new v.L(c,p);if(d.df(u)&&d.df(g)&&p+1<n){const b=a.charCodeAt(p);if(d.mK(b)||d.T5(b))return new v.L(c,p)}}return new v.L(c,1)}static moveWordRight(s,m,c,n){let a=c.lineNumber,p=c.column,u=!1;p===m.getLineMaxColumn(a)&&a<m.getLineCount()&&(u=!0,a+=1,p=1);let g=C._findNextWordOnLine(s,m,new v.L(a,p));if(2===n)g&&2===g.wordType&&g.end-g.start==1&&0===g.nextCharClass&&(g=C._findNextWordOnLine(s,m,new v.L(a,g.end+1))),p=g?g.end+1:m.getLineMaxColumn(a);else if(3===n){for(u&&(p=0);g&&(2===g.wordType||g.start+1<=p);)g=C._findNextWordOnLine(s,m,new v.L(a,g.end+1));p=g?g.start+1:m.getLineMaxColumn(a)}else g&&!u&&p>=g.start+1&&(g=C._findNextWordOnLine(s,m,new v.L(a,g.end+1))),p=g?g.start+1:m.getLineMaxColumn(a);return new v.L(a,p)}static _moveWordPartRight(s,m){const c=m.lineNumber,n=s.getLineMaxColumn(c);if(m.column===n)return c<s.getLineCount()?new v.L(c+1,1):m;const a=s.getLineContent(c);for(let p=m.column+1;p<n;p++){const u=a.charCodeAt(p-2),g=a.charCodeAt(p-1);if(95!==u&&95===g)return new v.L(c,p);if((d.mK(u)||d.T5(u))&&d.df(g))return new v.L(c,p);if(d.df(u)&&d.df(g)&&p+1<n){const b=a.charCodeAt(p);if(d.mK(b)||d.T5(b))return new v.L(c,p)}}return new v.L(c,n)}static _deleteWordLeftWhitespace(s,m){const c=s.getLineContent(m.lineNumber),n=m.column-2,a=d.ow(c,n);return a+1<n?new T.e(m.lineNumber,a+2,m.lineNumber,m.column):null}static deleteWordLeft(s,m){const c=s.wordSeparators,n=s.model,a=s.selection,p=s.whitespaceHeuristics;if(!a.isEmpty())return a;if(l.A.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,s.model,[s.selection],s.autoClosedCharacters)){const D=s.selection.getPosition();return new T.e(D.lineNumber,D.column-1,D.lineNumber,D.column+1)}const u=new v.L(a.positionLineNumber,a.positionColumn);let g=u.lineNumber,b=u.column;if(1===g&&1===b)return null;if(p){const D=this._deleteWordLeftWhitespace(n,u);if(D)return D}let y=C._findPreviousWordOnLine(c,n,u);return 0===m?y?b=y.start+1:b>1?b=1:(g--,b=n.getLineMaxColumn(g)):(y&&b<=y.end+1&&(y=C._findPreviousWordOnLine(c,n,new v.L(g,y.start+1))),y?b=y.end+1:b>1?b=1:(g--,b=n.getLineMaxColumn(g))),new T.e(g,b,u.lineNumber,u.column)}static deleteInsideWord(s,m,c){if(!c.isEmpty())return c;const n=new v.L(c.positionLineNumber,c.positionColumn);return this._deleteInsideWordWhitespace(m,n)||this._deleteInsideWordDetermineDeleteRange(s,m,n)}static _charAtIsWhitespace(s,m){const c=s.charCodeAt(m);return 32===c||9===c}static _deleteInsideWordWhitespace(s,m){const c=s.getLineContent(m.lineNumber),n=c.length;if(0===n)return null;let a=Math.max(m.column-2,0);if(!this._charAtIsWhitespace(c,a))return null;let p=Math.min(m.column-1,n-1);if(!this._charAtIsWhitespace(c,p))return null;for(;a>0&&this._charAtIsWhitespace(c,a-1);)a--;for(;p+1<n&&this._charAtIsWhitespace(c,p+1);)p++;return new T.e(m.lineNumber,a+1,m.lineNumber,p+2)}static _deleteInsideWordDetermineDeleteRange(s,m,c){const n=m.getLineContent(c.lineNumber),a=n.length;if(0===a)return c.lineNumber>1?new T.e(c.lineNumber-1,m.getLineMaxColumn(c.lineNumber-1),c.lineNumber,1):c.lineNumber<m.getLineCount()?new T.e(c.lineNumber,1,c.lineNumber+1,1):new T.e(c.lineNumber,1,c.lineNumber,1);const p=D=>D.start+1<=c.column&&c.column<=D.end+1,u=(D,w)=>(D=Math.min(D,c.column),w=Math.max(w,c.column),new T.e(c.lineNumber,D,c.lineNumber,w)),g=D=>{let w=D.start+1,I=D.end+1,P=!1;for(;I-1<a&&this._charAtIsWhitespace(n,I-1);)P=!0,I++;if(!P)for(;w>1&&this._charAtIsWhitespace(n,w-2);)w--;return u(w,I)},b=C._findPreviousWordOnLine(s,m,c);if(b&&p(b))return g(b);const y=C._findNextWordOnLine(s,m,c);return y&&p(y)?g(y):b&&y?u(b.end+1,y.start+1):b?u(b.start+1,b.end+1):y?u(y.start+1,y.end+1):u(1,a+1)}static _deleteWordPartLeft(s,m){if(!m.isEmpty())return m;const c=m.getPosition(),n=C._moveWordPartLeft(s,c);return new T.e(c.lineNumber,c.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(s,m){const c=s.length;for(let n=m;n<c;n++){const a=s.charAt(n);if(" "!==a&&"\t"!==a)return n}return c}static _deleteWordRightWhitespace(s,m){const c=s.getLineContent(m.lineNumber),n=m.column-1,a=this._findFirstNonWhitespaceChar(c,n);return n+1<a?new T.e(m.lineNumber,m.column,m.lineNumber,a+1):null}static deleteWordRight(s,m){const c=s.wordSeparators,n=s.model,a=s.selection,p=s.whitespaceHeuristics;if(!a.isEmpty())return a;const u=new v.L(a.positionLineNumber,a.positionColumn);let g=u.lineNumber,b=u.column;const y=n.getLineCount(),D=n.getLineMaxColumn(g);if(g===y&&b===D)return null;if(p){const I=this._deleteWordRightWhitespace(n,u);if(I)return I}let w=C._findNextWordOnLine(c,n,u);return 2===m?w?b=w.end+1:b<D||g===y?b=D:(g++,w=C._findNextWordOnLine(c,n,new v.L(g,1)),b=w?w.start+1:n.getLineMaxColumn(g)):(w&&b>=w.start+1&&(w=C._findNextWordOnLine(c,n,new v.L(g,w.end+1))),w?b=w.start+1:b<D||g===y?b=D:(g++,w=C._findNextWordOnLine(c,n,new v.L(g,1)),b=w?w.start+1:n.getLineMaxColumn(g))),new T.e(g,b,u.lineNumber,u.column)}static _deleteWordPartRight(s,m){if(!m.isEmpty())return m;const c=m.getPosition(),n=C._moveWordPartRight(s,c);return new T.e(c.lineNumber,c.column,n.lineNumber,n.column)}static _createWordAtPosition(s,m,c){const n=new T.e(m,c.start+1,m,c.end+1);return{word:s.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(s,m,c){const n=(0,S.u)(m),a=C._findPreviousWordOnLine(n,s,c);if(a&&1===a.wordType&&a.start<=c.column-1&&c.column-1<=a.end)return C._createWordAtPosition(s,c.lineNumber,a);const p=C._findNextWordOnLine(n,s,c);return p&&1===p.wordType&&p.start<=c.column-1&&c.column-1<=p.end?C._createWordAtPosition(s,c.lineNumber,p):null}static word(s,m,c,n,a){const p=(0,S.u)(s.wordSeparators),u=C._findPreviousWordOnLine(p,m,a),g=C._findNextWordOnLine(p,m,a);if(!n){let I,P;return u&&1===u.wordType&&u.start<=a.column-1&&a.column-1<=u.end?(I=u.start+1,P=u.end+1):g&&1===g.wordType&&g.start<=a.column-1&&a.column-1<=g.end?(I=g.start+1,P=g.end+1):(I=u?u.end+1:1,P=g?g.start+1:m.getLineMaxColumn(a.lineNumber)),new t.rS(new T.e(a.lineNumber,I,a.lineNumber,P),0,new v.L(a.lineNumber,P),0)}let b,y;u&&1===u.wordType&&u.start<a.column-1&&a.column-1<u.end?(b=u.start+1,y=u.end+1):g&&1===g.wordType&&g.start<a.column-1&&a.column-1<g.end?(b=g.start+1,y=g.end+1):(b=a.column,y=a.column);const D=a.lineNumber;let w;if(c.selectionStart.containsPosition(a))w=c.selectionStart.endColumn;else if(a.isBeforeOrEqual(c.selectionStart.getStartPosition())){w=b;const I=new v.L(D,w);c.selectionStart.containsPosition(I)&&(w=c.selectionStart.endColumn)}else{w=y;const I=new v.L(D,w);c.selectionStart.containsPosition(I)&&(w=c.selectionStart.startColumn)}return c.move(!0,D,w,0)}}class E extends C{static deleteWordPartLeft(s){const m=L([C.deleteWordLeft(s,0),C.deleteWordLeft(s,2),C._deleteWordPartLeft(s.model,s.selection)]);return m.sort(T.e.compareRangesUsingEnds),m[2]}static deleteWordPartRight(s){const m=L([C.deleteWordRight(s,0),C.deleteWordRight(s,2),C._deleteWordPartRight(s.model,s.selection)]);return m.sort(T.e.compareRangesUsingStarts),m[0]}static moveWordPartLeft(s,m,c){const n=L([C.moveWordLeft(s,m,c,0),C.moveWordLeft(s,m,c,2),C._moveWordPartLeft(m,c)]);return n.sort(v.L.compare),n[2]}static moveWordPartRight(s,m,c){const n=L([C.moveWordRight(s,m,c,0),C.moveWordRight(s,m,c,2),C._moveWordPartRight(m,c)]);return n.sort(v.L.compare),n[0]}}function L(_){return _.filter(s=>Boolean(s))}},76336:(Et,X,e)=>{"use strict";e.d(X,{LM:()=>_,LN:()=>p,Tp:()=>a,Vi:()=>s,rS:()=>n});var d=e(18723),t=e(98570),l=e(7233),S=e(32309),v=e(5409),T=e(87652);const C=()=>!0,E=()=>!1,L=u=>" "===u||"\t"===u;class _{constructor(g,b,y,D){this.languageConfigurationService=D,this._cursorMoveConfigurationBrand=void 0,this._languageId=g;const w=y.options,I=w.get(133);this.readOnly=w.get(83),this.tabSize=b.tabSize,this.indentSize=b.indentSize,this.insertSpaces=b.insertSpaces,this.stickyTabStops=w.get(106),this.lineHeight=w.get(61),this.pageSize=Math.max(1,Math.floor(I.height/this.lineHeight)-2),this.useTabStops=w.get(118),this.wordSeparators=w.get(119),this.emptySelectionClipboard=w.get(33),this.copyWithSyntaxHighlighting=w.get(21),this.multiCursorMergeOverlapping=w.get(71),this.multiCursorPaste=w.get(73),this.autoClosingBrackets=w.get(5),this.autoClosingQuotes=w.get(8),this.autoClosingDelete=w.get(6),this.autoClosingOvertype=w.get(7),this.autoSurround=w.get(11),this.autoIndent=w.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(g,this.autoClosingQuotes),bracket:this._getShouldAutoClose(g,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(g).getAutoClosingPairs();const P=this.languageConfigurationService.getLanguageConfiguration(g).getSurroundingPairs();if(P)for(const O of P)this.surroundingPairs[O.open]=O.close}static shouldRecreate(g){return g.hasChanged(133)||g.hasChanged(119)||g.hasChanged(33)||g.hasChanged(71)||g.hasChanged(73)||g.hasChanged(5)||g.hasChanged(8)||g.hasChanged(6)||g.hasChanged(7)||g.hasChanged(11)||g.hasChanged(118)||g.hasChanged(61)||g.hasChanged(83)}get electricChars(){var g;if(!this._electricChars){this._electricChars={};const b=null===(g=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===g?void 0:g.getElectricCharacters();if(b)for(const y of b)this._electricChars[y]=!0}return this._electricChars}onElectricCharacter(g,b,y){const D=(0,S.wH)(b,y-1),w=this.languageConfigurationService.getLanguageConfiguration(D.languageId).electricCharacter;return w?w.onElectricCharacter(g,D,y-D.firstCharOffset):null}normalizeIndentation(g){return(0,T.x)(g,this.indentSize,this.insertSpaces)}_getShouldAutoClose(g,b){switch(b){case"beforeWhitespace":return L;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(g);case"always":return C;case"never":return E}}_getLanguageDefinedShouldAutoClose(g){const b=this.languageConfigurationService.getLanguageConfiguration(g).getAutoCloseBeforeSet();return y=>-1!==b.indexOf(y)}visibleColumnFromColumn(g,b){return v.i.visibleColumnFromColumn(g.getLineContent(b.lineNumber),b.column,this.tabSize)}columnFromVisibleColumn(g,b,y){const D=v.i.columnFromVisibleColumn(g.getLineContent(b),y,this.tabSize),w=g.getLineMinColumn(b);if(D<w)return w;const I=g.getLineMaxColumn(b);return D>I?I:D}}class s{constructor(g,b){this._cursorStateBrand=void 0,this.modelState=g,this.viewState=b}static fromModelState(g){return new m(g)}static fromViewState(g){return new c(g)}static fromModelSelection(g){const b=l.Y.liftSelection(g),y=new n(t.e.fromPositions(b.getSelectionStart()),0,b.getPosition(),0);return s.fromModelState(y)}static fromModelSelections(g){const b=[];for(let y=0,D=g.length;y<D;y++)b[y]=this.fromModelSelection(g[y]);return b}equals(g){return this.viewState.equals(g.viewState)&&this.modelState.equals(g.modelState)}}class m{constructor(g){this.modelState=g,this.viewState=null}}class c{constructor(g){this.modelState=null,this.viewState=g}}class n{constructor(g,b,y,D){this._singleCursorStateBrand=void 0,this.selectionStart=g,this.selectionStartLeftoverVisibleColumns=b,this.position=y,this.leftoverVisibleColumns=D,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(g){return this.selectionStartLeftoverVisibleColumns===g.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===g.leftoverVisibleColumns&&this.position.equals(g.position)&&this.selectionStart.equalsRange(g.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(g,b,y,D){return g?new n(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new d.L(b,y),D):new n(new t.e(b,y,b,y),D,new d.L(b,y),D)}static _computeSelection(g,b){return g.isEmpty()||!b.isBeforeOrEqual(g.getStartPosition())?l.Y.fromPositions(g.getStartPosition(),b):l.Y.fromPositions(g.getEndPosition(),b)}}class a{constructor(g,b,y){this._editOperationResultBrand=void 0,this.type=g,this.commands=b,this.shouldPushStackElementBefore=y.shouldPushStackElementBefore,this.shouldPushStackElementAfter=y.shouldPushStackElementAfter}}function p(u){return"'"===u||'"'===u||"`"===u}},58397:(Et,X,e)=>{"use strict";e.d(X,{p:()=>d});class d{constructor(l,S,v,T,C,E){this.id=l,this.label=S,this.alias=v,this._precondition=T,this._run=C,this._contextKeyService=E}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},22859:(Et,X,e)=>{"use strict";e.d(X,{g:()=>d});const d={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},82290:(Et,X,e)=>{"use strict";e.d(X,{u:()=>l});var l,S,d=e(55197),t=e(16468);(S=l||(l={})).editorSimpleInput=new t.uy("editorSimpleInput",!1,!0),S.editorTextFocus=new t.uy("editorTextFocus",!1,d.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),S.focus=new t.uy("editorFocus",!1,d.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),S.textInputFocus=new t.uy("textInputFocus",!1,d.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),S.readOnly=new t.uy("editorReadonly",!1,d.NC("editorReadonly","Whether the editor is read only")),S.inDiffEditor=new t.uy("inDiffEditor",!1,d.NC("inDiffEditor","Whether the context is a diff editor")),S.columnSelection=new t.uy("editorColumnSelection",!1,d.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),S.writable=S.readOnly.toNegated(),S.hasNonEmptySelection=new t.uy("editorHasSelection",!1,d.NC("editorHasSelection","Whether the editor has text selected")),S.hasOnlyEmptySelection=S.hasNonEmptySelection.toNegated(),S.hasMultipleSelections=new t.uy("editorHasMultipleSelections",!1,d.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),S.hasSingleSelection=S.hasMultipleSelections.toNegated(),S.tabMovesFocus=new t.uy("editorTabMovesFocus",!1,d.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),S.tabDoesNotMoveFocus=S.tabMovesFocus.toNegated(),S.isInWalkThroughSnippet=new t.uy("isInEmbeddedEditor",!1,!0),S.canUndo=new t.uy("canUndo",!1,!0),S.canRedo=new t.uy("canRedo",!1,!0),S.hoverVisible=new t.uy("editorHoverVisible",!1,d.NC("editorHoverVisible","Whether the editor hover is visible")),S.inCompositeEditor=new t.uy("inCompositeEditor",void 0,d.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),S.notInCompositeEditor=S.inCompositeEditor.toNegated(),S.languageId=new t.uy("editorLangId","",d.NC("editorLangId","The language identifier of the editor")),S.hasCompletionItemProvider=new t.uy("editorHasCompletionItemProvider",!1,d.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),S.hasCodeActionsProvider=new t.uy("editorHasCodeActionsProvider",!1,d.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),S.hasCodeLensProvider=new t.uy("editorHasCodeLensProvider",!1,d.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),S.hasDefinitionProvider=new t.uy("editorHasDefinitionProvider",!1,d.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),S.hasDeclarationProvider=new t.uy("editorHasDeclarationProvider",!1,d.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),S.hasImplementationProvider=new t.uy("editorHasImplementationProvider",!1,d.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),S.hasTypeDefinitionProvider=new t.uy("editorHasTypeDefinitionProvider",!1,d.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),S.hasHoverProvider=new t.uy("editorHasHoverProvider",!1,d.NC("editorHasHoverProvider","Whether the editor has a hover provider")),S.hasDocumentHighlightProvider=new t.uy("editorHasDocumentHighlightProvider",!1,d.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),S.hasDocumentSymbolProvider=new t.uy("editorHasDocumentSymbolProvider",!1,d.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),S.hasReferenceProvider=new t.uy("editorHasReferenceProvider",!1,d.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),S.hasRenameProvider=new t.uy("editorHasRenameProvider",!1,d.NC("editorHasRenameProvider","Whether the editor has a rename provider")),S.hasSignatureHelpProvider=new t.uy("editorHasSignatureHelpProvider",!1,d.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),S.hasInlayHintsProvider=new t.uy("editorHasInlayHintsProvider",!1,d.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),S.hasDocumentFormattingProvider=new t.uy("editorHasDocumentFormattingProvider",!1,d.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),S.hasDocumentSelectionFormattingProvider=new t.uy("editorHasDocumentSelectionFormattingProvider",!1,d.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),S.hasMultipleDocumentFormattingProvider=new t.uy("editorHasMultipleDocumentFormattingProvider",!1,d.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),S.hasMultipleDocumentSelectionFormattingProvider=new t.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,d.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},1465:(Et,X,e)=>{"use strict";e.d(X,{N:()=>d});class d{static getLanguageId(l){return(255&l)>>>0}static getTokenType(l){return(768&l)>>>8}static containsBalancedBrackets(l){return 0!=(1024&l)}static getFontStyle(l){return(30720&l)>>>11}static getForeground(l){return(16744448&l)>>>15}static getBackground(l){return(4278190080&l)>>>24}static getClassNameFromMetadata(l){let v="mtk"+this.getForeground(l);const T=this.getFontStyle(l);return 1&T&&(v+=" mtki"),2&T&&(v+=" mtkb"),4&T&&(v+=" mtku"),8&T&&(v+=" mtks"),v}static getInlineStyleFromMetadata(l,S){const v=this.getForeground(l),T=this.getFontStyle(l);let C=`color: ${S[v]};`;1&T&&(C+="font-style: italic;"),2&T&&(C+="font-weight: bold;");let E="";return 4&T&&(E+=" underline"),8&T&&(E+=" line-through"),E&&(C+=`text-decoration:${E};`),C}static getPresentationFromMetadata(l){const S=this.getForeground(l),v=this.getFontStyle(l);return{foreground:S,italic:Boolean(1&v),bold:Boolean(2&v),underline:Boolean(4&v),strikethrough:Boolean(8&v)}}}},46090:(Et,X,e)=>{"use strict";e.d(X,{c:()=>C});var d=e(3778),t=e(80142),l=e(47629),S=e(38224);function v(E){return"string"!=typeof E&&(Array.isArray(E)?E.every(v):!!E.exclusive)}class T{constructor(L,_,s,m){this.uri=L,this.languageId=_,this.notebookUri=s,this.notebookType=m}equals(L){var _,s;return this.notebookType===L.notebookType&&this.languageId===L.languageId&&this.uri.toString()===L.uri.toString()&&(null===(_=this.notebookUri)||void 0===_?void 0:_.toString())===(null===(s=L.notebookUri)||void 0===s?void 0:s.toString())}}class C{constructor(L){this._notebookInfoResolver=L,this._clock=0,this._entries=[],this._onDidChange=new d.Q5,this.onDidChange=this._onDidChange.event}register(L,_){let s={selector:L,provider:_,_score:-1,_time:this._clock++};return this._entries.push(s),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,t.OF)(()=>{if(s){const m=this._entries.indexOf(s);m>=0&&(this._entries.splice(m,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),s=void 0)}})}has(L){return this.all(L).length>0}all(L){if(!L)return[];this._updateScores(L);const _=[];for(const s of this._entries)s._score>0&&_.push(s.provider);return _}ordered(L){const _=[];return this._orderedForEach(L,s=>_.push(s.provider)),_}orderedGroups(L){const _=[];let s,m;return this._orderedForEach(L,c=>{s&&m===c._score?s.push(c.provider):(m=c._score,s=[c.provider],_.push(s))}),_}_orderedForEach(L,_){this._updateScores(L);for(const s of this._entries)s._score>0&&_(s)}_updateScores(L){var _,s;const m=null===(_=this._notebookInfoResolver)||void 0===_?void 0:_.call(this,L.uri),c=m?new T(L.uri,L.getLanguageId(),m.uri,m.type):new T(L.uri,L.getLanguageId(),void 0,void 0);if(null===(s=this._lastCandidate)||void 0===s||!s.equals(c)){this._lastCandidate=c;for(const n of this._entries)if(n._score=(0,S.G)(n.selector,c.uri,c.languageId,(0,l.pt)(L),c.notebookUri,c.notebookType),v(n.selector)&&n._score>0){for(const a of this._entries)a._score=0;n._score=1e3;break}this._entries.sort(C._compareByScoreAndTime)}}static _compareByScoreAndTime(L,_){return L._score<_._score?1:L._score>_._score?-1:L._time<_._time?1:L._time>_._time?-1:0}}},38224:(Et,X,e)=>{"use strict";e.d(X,{G:()=>l});var d=e(85425),t=e(61283);function l(S,v,T,C,E,L){if(Array.isArray(S)){let _=0;for(const s of S){const m=l(s,v,T,C,E,L);if(10===m)return m;m>_&&(_=m)}return _}if("string"==typeof S)return C?"*"===S?5:S===T?10:0:0;if(S){const{language:_,pattern:s,scheme:m,hasAccessToAllModels:c,notebookType:n}=S;if(!C&&!c)return 0;n&&E&&(v=E);let a=0;if(m)if(m===v.scheme)a=10;else{if("*"!==m)return 0;a=5}if(_)if(_===T)a=10;else{if("*"!==_)return 0;a=Math.max(a,5)}if(n)if(n===L)a=10;else{if("*"!==n||void 0===L)return 0;a=Math.max(a,5)}if(s){let p;if(p="string"==typeof s?s:Object.assign(Object.assign({},s),{base:(0,t.Fv)(s.base)}),p!==v.fsPath&&!(0,d.EQ)(p,v.fsPath))return 0;a=10}return a}return 0}},45337:(Et,X,e)=>{"use strict";e.d(X,{mY:()=>b,gX:()=>m,MY:()=>a,DI:()=>s,AD:()=>g,gl:()=>y,bw:()=>c,WW:()=>n,uZ:()=>u,WU:()=>L,RW:()=>D,hG:()=>_,vx:()=>p});var m,d=e(58783),t=e(59547),l=e(98570),S=e(3778),v=e(80142),T=function(w,I,P,O){return new(P||(P=Promise))(function(U,K){function F($){try{z(O.next($))}catch(j){K(j)}}function B($){try{z(O.throw($))}catch(j){K(j)}}function z($){$.done?U($.value):function H(U){return U instanceof P?U:new P(function(K){K(U)})}($.value).then(F,B)}z((O=O.apply(w,I||[])).next())})};class E extends v.JT{constructor(I,P,O){super(),this._registry=I,this._languageId=P,this._factory=O,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return T(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return T(this,void 0,void 0,function*(){const I=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,I&&!this._isDisposed&&this._register(this._registry.register(this._languageId,I))})}}class L{constructor(I,P,O){this._tokenBrand=void 0,this.offset=I,this.type=P,this.language=O}toString(){return"("+this.offset+", "+this.type+")"}}class _{constructor(I,P){this._tokenizationResultBrand=void 0,this.tokens=I,this.endState=P}}class s{constructor(I,P){this._encodedTokenizationResultBrand=void 0,this.tokens=I,this.endState=P}}!function(w){const I=new Map;I.set(0,d.lA.symbolMethod),I.set(1,d.lA.symbolFunction),I.set(2,d.lA.symbolConstructor),I.set(3,d.lA.symbolField),I.set(4,d.lA.symbolVariable),I.set(5,d.lA.symbolClass),I.set(6,d.lA.symbolStruct),I.set(7,d.lA.symbolInterface),I.set(8,d.lA.symbolModule),I.set(9,d.lA.symbolProperty),I.set(10,d.lA.symbolEvent),I.set(11,d.lA.symbolOperator),I.set(12,d.lA.symbolUnit),I.set(13,d.lA.symbolValue),I.set(15,d.lA.symbolEnum),I.set(14,d.lA.symbolConstant),I.set(15,d.lA.symbolEnum),I.set(16,d.lA.symbolEnumMember),I.set(17,d.lA.symbolKeyword),I.set(27,d.lA.symbolSnippet),I.set(18,d.lA.symbolText),I.set(19,d.lA.symbolColor),I.set(20,d.lA.symbolFile),I.set(21,d.lA.symbolReference),I.set(22,d.lA.symbolCustomColor),I.set(23,d.lA.symbolFolder),I.set(24,d.lA.symbolTypeParameter),I.set(25,d.lA.account),I.set(26,d.lA.issues),w.toIcon=function P(U){let K=I.get(U);return K||(console.info("No codicon found for CompletionItemKind "+U),K=d.lA.symbolProperty),K};const O=new Map;O.set("method",0),O.set("function",1),O.set("constructor",2),O.set("field",3),O.set("variable",4),O.set("class",5),O.set("struct",6),O.set("interface",7),O.set("module",8),O.set("property",9),O.set("event",10),O.set("operator",11),O.set("unit",12),O.set("value",13),O.set("constant",14),O.set("enum",15),O.set("enum-member",16),O.set("enumMember",16),O.set("keyword",17),O.set("snippet",27),O.set("text",18),O.set("color",19),O.set("file",20),O.set("reference",21),O.set("customcolor",22),O.set("folder",23),O.set("type-parameter",24),O.set("typeParameter",24),O.set("account",25),O.set("issue",26),w.fromString=function H(U,K){let F=O.get(U);return typeof F>"u"&&!K&&(F=9),F}}(m||(m={}));var u,b,c=(()=>{return(w=c||(c={}))[w.Automatic=0]="Automatic",w[w.Explicit=1]="Explicit",c;var w})(),n=(()=>{return(w=n||(n={}))[w.Invoke=1]="Invoke",w[w.TriggerCharacter=2]="TriggerCharacter",w[w.ContentChange=3]="ContentChange",n;var w})(),a=(()=>{return(w=a||(a={}))[w.Text=0]="Text",w[w.Read=1]="Read",w[w.Write=2]="Write",a;var w})();function p(w){return w&&t.o.isUri(w.uri)&&l.e.isIRange(w.range)&&(l.e.isIRange(w.originSelectionRange)||l.e.isIRange(w.targetSelectionRange))}!function(w){const I=new Map;I.set(0,d.lA.symbolFile),I.set(1,d.lA.symbolModule),I.set(2,d.lA.symbolNamespace),I.set(3,d.lA.symbolPackage),I.set(4,d.lA.symbolClass),I.set(5,d.lA.symbolMethod),I.set(6,d.lA.symbolProperty),I.set(7,d.lA.symbolField),I.set(8,d.lA.symbolConstructor),I.set(9,d.lA.symbolEnum),I.set(10,d.lA.symbolInterface),I.set(11,d.lA.symbolFunction),I.set(12,d.lA.symbolVariable),I.set(13,d.lA.symbolConstant),I.set(14,d.lA.symbolString),I.set(15,d.lA.symbolNumber),I.set(16,d.lA.symbolBoolean),I.set(17,d.lA.symbolArray),I.set(18,d.lA.symbolObject),I.set(19,d.lA.symbolKey),I.set(20,d.lA.symbolNull),I.set(21,d.lA.symbolEnumMember),I.set(22,d.lA.symbolStruct),I.set(23,d.lA.symbolEvent),I.set(24,d.lA.symbolOperator),I.set(25,d.lA.symbolTypeParameter),w.toIcon=function P(O){let H=I.get(O);return H||(console.info("No codicon found for SymbolKind "+O),H=d.lA.symbolProperty),H}}(u||(u={}));class g{constructor(I){this.value=I}}g.Comment=new g("comment"),g.Imports=new g("imports"),g.Region=new g("region"),(b||(b={})).is=function I(P){return!(!P||"object"!=typeof P)&&"string"==typeof P.id&&"string"==typeof P.title};var y=(()=>{return(w=y||(y={}))[w.Type=1]="Type",w[w.Parameter=2]="Parameter",y;var w})();const D=new class C{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(I){this._onDidChange.fire({changedLanguages:I,changedColorMap:!1})}register(I,P){return this._map.set(I,P),this.fire([I]),(0,v.OF)(()=>{this._map.get(I)===P&&(this._map.delete(I),this.fire([I]))})}registerFactory(I,P){var O;null===(O=this._factories.get(I))||void 0===O||O.dispose();const H=new E(this,I,P);return this._factories.set(I,H),(0,v.OF)(()=>{const U=this._factories.get(I);!U||U!==H||(this._factories.delete(I),U.dispose())})}getOrCreate(I){return T(this,void 0,void 0,function*(){const P=this.get(I);if(P)return P;const O=this._factories.get(I);return!O||O.isResolved?null:(yield O.resolve(),this.get(I))})}get(I){return this._map.get(I)||null}isResolved(I){if(this.get(I))return!0;const O=this._factories.get(I);return!(O&&!O.isResolved)}setColorMap(I){this._colorMap=I,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},3981:(Et,X,e)=>{"use strict";e.d(X,{$9:()=>L,UF:()=>E,n8:()=>C,r7:()=>T,tI:()=>_});var d=e(73879),t=e(63331),l=e(32309),S=e(94911);function T(s,m,c,n=!0,a){if(s<4)return null;const p=a.getLanguageConfiguration(m.tokenization.getLanguageId()).indentRulesSupport;if(!p)return null;if(c<=1)return{indentation:"",action:null};const u=function v(s,m,c){const n=s.tokenization.getLanguageIdAtPosition(m,0);if(m>1){let a,p=-1;for(a=m-1;a>=1;a--){if(s.tokenization.getLanguageIdAtPosition(a,0)!==n)return p;const u=s.getLineContent(a);if(!c.shouldIgnore(u)&&!/^\s+$/.test(u)&&""!==u)return a;p=a}}return-1}(m,c,p);if(u<0)return null;if(u<1)return{indentation:"",action:null};const g=m.getLineContent(u);if(p.shouldIncrease(g)||p.shouldIndentNextLine(g))return{indentation:d.V8(g),action:t.wU.Indent,line:u};if(p.shouldDecrease(g))return{indentation:d.V8(g),action:null,line:u};{if(1===u)return{indentation:d.V8(m.getLineContent(u)),action:null,line:u};const b=u-1,y=p.getIndentMetadata(m.getLineContent(b));if(!(3&y)&&4&y){let D=0;for(let w=b-1;w>0;w--)if(!p.shouldIndentNextLine(m.getLineContent(w))){D=w;break}return{indentation:d.V8(m.getLineContent(D+1)),action:null,line:D+1}}if(n)return{indentation:d.V8(m.getLineContent(u)),action:null,line:u};for(let D=u;D>0;D--){const w=m.getLineContent(D);if(p.shouldIncrease(w))return{indentation:d.V8(w),action:t.wU.Indent,line:D};if(p.shouldIndentNextLine(w)){let I=0;for(let P=D-1;P>0;P--)if(!p.shouldIndentNextLine(m.getLineContent(D))){I=P;break}return{indentation:d.V8(m.getLineContent(I+1)),action:null,line:I+1}}if(p.shouldDecrease(w))return{indentation:d.V8(w),action:null,line:D}}return{indentation:d.V8(m.getLineContent(1)),action:null,line:1}}}function C(s,m,c,n,a,p){if(s<4)return null;const u=p.getLanguageConfiguration(c);if(!u)return null;const g=p.getLanguageConfiguration(c).indentRulesSupport;if(!g)return null;const b=T(s,m,n,void 0,p),y=m.getLineContent(n);if(b){const D=b.line;if(void 0!==D){const w=u.onEnter(s,"",m.getLineContent(D),"");if(w){let I=d.V8(m.getLineContent(D));return w.removeText&&(I=I.substring(0,I.length-w.removeText)),w.indentAction===t.wU.Indent||w.indentAction===t.wU.IndentOutdent?I=a.shiftIndent(I):w.indentAction===t.wU.Outdent&&(I=a.unshiftIndent(I)),g.shouldDecrease(y)&&(I=a.unshiftIndent(I)),w.appendText&&(I+=w.appendText),d.V8(I)}}return g.shouldDecrease(y)?b.action===t.wU.Indent?b.indentation:a.unshiftIndent(b.indentation):b.action===t.wU.Indent?a.shiftIndent(b.indentation):b.indentation}return null}function E(s,m,c,n,a){if(s<4)return null;m.tokenization.forceTokenization(c.startLineNumber);const p=m.tokenization.getLineTokens(c.startLineNumber),u=(0,l.wH)(p,c.startColumn-1),g=u.getLineContent();let y,D,b=!1;u.firstCharOffset>0&&p.getLanguageId(0)!==u.languageId?(b=!0,y=g.substr(0,c.startColumn-1-u.firstCharOffset)):y=p.getLineContent().substring(0,c.startColumn-1),D=c.isEmpty()?g.substr(c.startColumn-1-u.firstCharOffset):(0,S.n2)(m,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-u.firstCharOffset);const w=a.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!w)return null;const I=y,P=d.V8(y),O={tokenization:{getLineTokens:F=>m.tokenization.getLineTokens(F),getLanguageId:()=>m.getLanguageId(),getLanguageIdAtPosition:(F,B)=>m.getLanguageIdAtPosition(F,B)},getLineContent:F=>F===c.startLineNumber?I:m.getLineContent(F)},H=d.V8(p.getLineContent()),U=T(s,O,c.startLineNumber+1,void 0,a);if(!U){const F=b?H:P;return{beforeEnter:F,afterEnter:F}}let K=b?H:U.indentation;return U.action===t.wU.Indent&&(K=n.shiftIndent(K)),w.shouldDecrease(D)&&(K=n.unshiftIndent(K)),{beforeEnter:b?H:P,afterEnter:K}}function L(s,m,c,n,a,p){if(s<4)return null;const u=(0,S.n2)(m,c.startLineNumber,c.startColumn);if(u.firstCharOffset)return null;const g=p.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!g)return null;const b=u.getLineContent(),y=b.substr(0,c.startColumn-1-u.firstCharOffset);let D;if(D=c.isEmpty()?b.substr(c.startColumn-1-u.firstCharOffset):(0,S.n2)(m,c.endLineNumber,c.endColumn).getLineContent().substr(c.endColumn-1-u.firstCharOffset),!g.shouldDecrease(y+D)&&g.shouldDecrease(y+n+D)){const w=T(s,m,c.startLineNumber,!1,p);if(!w)return null;let I=w.indentation;return w.action!==t.wU.Indent&&(I=a.unshiftIndent(I)),I}return null}function _(s,m,c){const n=c.getLanguageConfiguration(s.getLanguageId()).indentRulesSupport;return!n||m<1||m>s.getLineCount()?null:n.getIndentMetadata(s.getLineContent(m))}},12969:(Et,X,e)=>{"use strict";e.d(X,{A:()=>l});var d=e(63331),t=e(94911);function l(S,v,T,C){const E=(0,t.n2)(v,T.startLineNumber,T.startColumn),L=C.getLanguageConfiguration(E.languageId);if(!L)return null;const _=E.getLineContent(),s=_.substr(0,T.startColumn-1-E.firstCharOffset);let m;m=T.isEmpty()?_.substr(T.startColumn-1-E.firstCharOffset):(0,t.n2)(v,T.endLineNumber,T.endColumn).getLineContent().substr(T.endColumn-1-E.firstCharOffset);let c="";if(T.startLineNumber>1&&0===E.firstCharOffset){const b=(0,t.n2)(v,T.startLineNumber-1);b.languageId===E.languageId&&(c=b.getLineContent())}const n=L.onEnter(S,c,s,m);if(!n)return null;const a=n.indentAction;let p=n.appendText;const u=n.removeText||0;p?a===d.wU.Indent&&(p="\t"+p):p=a===d.wU.Indent||a===d.wU.IndentOutdent?"\t":"";let g=(0,t.u0)(v,T.startLineNumber,T.startColumn);return u&&(g=g.substring(0,g.length-u)),{indentAction:a,appendText:p,removeText:u,indentation:g}}},45358:(Et,X,e)=>{"use strict";e.d(X,{O:()=>t});const t=(0,e(9265).yh)("languageService")},63331:(Et,X,e)=>{"use strict";e.d(X,{V6:()=>t,c$:()=>l,wU:()=>d});var d=(()=>{return(v=d||(d={}))[v.None=0]="None",v[v.Indent=1]="Indent",v[v.IndentOutdent=2]="IndentOutdent",v[v.Outdent=3]="Outdent",d;var v})();class t{constructor(T){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=T.open,this.close=T.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(T.notIn))for(let C=0,E=T.notIn.length;C<E;C++)switch(T.notIn[C]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(T){switch(T){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(T,C){if(0===T.getTokenCount())return!0;const E=T.findTokenIndexAtOffset(C-2),L=T.getStandardTokenType(E);return this.isOK(L)}_findNeutralCharacterInRange(T,C){for(let E=T;E<=C;E++){const L=String.fromCharCode(E);if(!this.open.includes(L)&&!this.close.includes(L))return L}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class l{constructor(T){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of T)S(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),S(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),S(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),S(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),1===C.close.length&&1===C.open.length&&S(this.autoClosingPairsCloseSingleChar,C.close,C)}}function S(v,T,C){v.has(T)?v.get(T).push(C):v.set(T,[C])}},94911:(Et,X,e)=>{"use strict";e.d(X,{c_:()=>F,u0:()=>N,n2:()=>V});var d=e(3778),t=e(80142),l=e(73879),S=e(50894),v=e(63331),T=e(32309);let C=(()=>{class Ne{constructor(we){if(this._autoClosingPairs=we.autoClosingPairs?we.autoClosingPairs.map(xe=>new v.V6(xe)):we.brackets?we.brackets.map(xe=>new v.V6({open:xe[0],close:xe[1]})):[],we.__electricCharacterSupport&&we.__electricCharacterSupport.docComment){const xe=we.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new v.V6({open:xe.open,close:xe.close||""}))}this._autoCloseBefore="string"==typeof we.autoCloseBefore?we.autoCloseBefore:Ne.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=we.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}return Ne.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",Ne})();var E=e(64023),L=e(64557);class _{constructor(oe){this._richEditBrackets=oe}getElectricCharacters(){const oe=[];if(this._richEditBrackets)for(const we of this._richEditBrackets.brackets)for(const xe of we.close){const pe=xe.charAt(xe.length-1);oe.push(pe)}return(0,E.EB)(oe)}onElectricCharacter(oe,we,xe){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const pe=we.findTokenIndexAtOffset(xe-1);if((0,T.Bu)(we.getStandardTokenType(pe)))return null;const Te=this._richEditBrackets.reversedRegex,de=we.getLineContent().substring(0,xe-1)+oe,ke=L.Vr.findPrevBracketInRange(Te,1,de,0,de.length);if(!ke)return null;const ze=de.substring(ke.startColumn-1,ke.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[ze])return null;const ce=we.getActualLineContentBefore(ke.startColumn-1);return/^\s*$/.test(ce)?{matchOpenBracket:ze}:null}}function s(Ne){return Ne.global&&(Ne.lastIndex=0),!0}class m{constructor(oe){this._indentationRules=oe}shouldIncrease(oe){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&s(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(oe))}shouldDecrease(oe){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&s(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(oe))}shouldIndentNextLine(oe){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&s(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(oe))}shouldIgnore(oe){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&s(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(oe))}getIndentMetadata(oe){let we=0;return this.shouldIncrease(oe)&&(we+=1),this.shouldDecrease(oe)&&(we+=2),this.shouldIndentNextLine(oe)&&(we+=4),this.shouldIgnore(oe)&&(we+=8),we}}var c=e(4125);class n{constructor(oe){(oe=oe||{}).brackets=oe.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],oe.brackets.forEach(we=>{const xe=n._createOpenBracketRegExp(we[0]),pe=n._createCloseBracketRegExp(we[1]);xe&&pe&&this._brackets.push({open:we[0],openRegExp:xe,close:we[1],closeRegExp:pe})}),this._regExpRules=oe.onEnterRules||[]}onEnter(oe,we,xe,pe){if(oe>=3)for(let Te=0,de=this._regExpRules.length;Te<de;Te++){const ke=this._regExpRules[Te];if([{reg:ke.beforeText,text:xe},{reg:ke.afterText,text:pe},{reg:ke.previousLineText,text:we}].every($e=>!$e.reg||($e.reg.lastIndex=0,$e.reg.test($e.text))))return ke.action}if(oe>=2&&xe.length>0&&pe.length>0)for(let Te=0,de=this._brackets.length;Te<de;Te++){const ke=this._brackets[Te];if(ke.openRegExp.test(xe)&&ke.closeRegExp.test(pe))return{indentAction:v.wU.IndentOutdent}}if(oe>=2&&xe.length>0)for(let Te=0,de=this._brackets.length;Te<de;Te++)if(this._brackets[Te].openRegExp.test(xe))return{indentAction:v.wU.Indent};return null}static _createOpenBracketRegExp(oe){let we=l.ec(oe);return/\B/.test(we.charAt(0))||(we="\\b"+we),we+="\\s*$",n._safeRegExp(we)}static _createCloseBracketRegExp(oe){let we=l.ec(oe);return/\B/.test(we.charAt(we.length-1))||(we+="\\b"),we="^\\s*"+we,n._safeRegExp(we)}static _safeRegExp(oe){try{return new RegExp(oe)}catch(we){return(0,c.dL)(we),null}}}var a=e(9265),p=e(94667),u=e(45358),g=e(47494),b=e(72188),y=e(71664);class D{constructor(oe,we){let xe;this.languageId=oe,xe=we.colorizedBracketPairs?w(we.colorizedBracketPairs.map(de=>[de[0],de[1]])):we.brackets?w(we.brackets.map(de=>[de[0],de[1]]).filter(de=>!("<"===de[0]&&">"===de[1]))):[];const pe=new y.b(de=>{const ke=new Set;return{info:new P(this,de,ke),closing:ke}}),Te=new y.b(de=>{const ke=new Set;return{info:new O(this,de,ke),opening:ke}});for(const[de,ke]of xe){const ze=pe.get(de),$e=Te.get(ke);ze.closing.add($e.info),$e.opening.add(ze.info)}this._openingBrackets=new Map([...pe.cachedValues].map(([de,ke])=>[de,ke.info])),this._closingBrackets=new Map([...Te.cachedValues].map(([de,ke])=>[de,ke.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(oe){return this._openingBrackets.get(oe)}getClosingBracketInfo(oe){return this._closingBrackets.get(oe)}getBracketInfo(oe){return this.getOpeningBracketInfo(oe)||this.getClosingBracketInfo(oe)}}function w(Ne){return Ne.filter(([oe,we])=>""!==oe&&""!==we)}class I{constructor(oe,we){this.config=oe,this.bracketText=we}get languageId(){return this.config.languageId}}class P extends I{constructor(oe,we,xe){super(oe,we),this.openedBrackets=xe,this.isOpeningBracket=!0}}class O extends I{constructor(oe,we,xe){super(oe,we),this.closedBrackets=xe,this.isOpeningBracket=!1}closes(oe){if(oe.languageId===this.languageId&&oe.config!==this.config)throw new c.he("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(oe)}getClosedBrackets(){return[...this.closedBrackets]}}var U=function(Ne,oe){return function(we,xe){oe(we,xe,Ne)}};class K{constructor(oe){this.languageId=oe}affects(oe){return!this.languageId||this.languageId===oe}}const F=(0,a.yh)("languageConfigurationService");let B=class extends t.JT{constructor(oe,we){super(),this.configurationService=oe,this.languageService=we,this._registry=this._register(new Ee),this.onDidChangeEmitter=this._register(new d.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const xe=new Set(Object.values($));this._register(this.configurationService.onDidChangeConfiguration(pe=>{const Te=pe.change.keys.some(ke=>xe.has(ke)),de=pe.change.overrides.filter(([ke,ze])=>ze.some($e=>xe.has($e))).map(([ke])=>ke);if(Te)this.configurations.clear(),this.onDidChangeEmitter.fire(new K(void 0));else for(const ke of de)this.languageService.isRegisteredLanguageId(ke)&&(this.configurations.delete(ke),this.onDidChangeEmitter.fire(new K(ke)))})),this._register(this._registry.onDidChange(pe=>{this.configurations.delete(pe.languageId),this.onDidChangeEmitter.fire(new K(pe.languageId))}))}register(oe,we,xe){return this._registry.register(oe,we,xe)}getLanguageConfiguration(oe){let we=this.configurations.get(oe);return we||(we=function z(Ne,oe,we,xe){let pe=oe.getLanguageConfiguration(Ne);if(!pe){if(!xe.isRegisteredLanguageId(Ne))throw new Error(`Language id "${Ne}" is not configured nor known`);pe=new Le(Ne,{})}const Te=function j(Ne,oe){const we=oe.getValue($.brackets,{overrideIdentifier:Ne}),xe=oe.getValue($.colorizedBracketPairs,{overrideIdentifier:Ne});return{brackets:ne(we),colorizedBracketPairs:ne(xe)}}(pe.languageId,we),de=fe([pe.underlyingConfig,Te]);return new Le(pe.languageId,de)}(oe,this._registry,this.configurationService,this.languageService),this.configurations.set(oe,we)),we}};B=function(Ne,oe,we,xe){var de,pe=arguments.length,Te=pe<3?oe:null===xe?xe=Object.getOwnPropertyDescriptor(oe,we):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Te=Reflect.decorate(Ne,oe,we,xe);else for(var ke=Ne.length-1;ke>=0;ke--)(de=Ne[ke])&&(Te=(pe<3?de(Te):pe>3?de(oe,we,Te):de(oe,we))||Te);return pe>3&&Te&&Object.defineProperty(oe,we,Te),Te}([U(0,p.Ui),U(1,u.O)],B);const $={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function ne(Ne){if(Array.isArray(Ne))return Ne.map(oe=>{if(Array.isArray(oe)&&2===oe.length)return[oe[0],oe[1]]}).filter(oe=>!!oe)}function N(Ne,oe,we){const xe=Ne.getLineContent(oe);let pe=l.V8(xe);return pe.length>we-1&&(pe=pe.substring(0,we-1)),pe}function V(Ne,oe,we){Ne.tokenization.forceTokenization(oe);const xe=Ne.tokenization.getLineTokens(oe),pe=typeof we>"u"?Ne.getLineMaxColumn(oe)-1:we-1;return(0,T.wH)(xe,pe)}class Z{constructor(oe){this.languageId=oe,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(oe,we){const xe=new M(oe,we,++this._order);return this._entries.push(xe),this._resolved=null,(0,t.OF)(()=>{for(let pe=0;pe<this._entries.length;pe++)if(this._entries[pe]===xe){this._entries.splice(pe,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const oe=this._resolve();oe&&(this._resolved=new Le(this.languageId,oe))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(M.cmp),fe(this._entries.map(oe=>oe.configuration)))}}function fe(Ne){let oe={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const we of Ne)oe={comments:we.comments||oe.comments,brackets:we.brackets||oe.brackets,wordPattern:we.wordPattern||oe.wordPattern,indentationRules:we.indentationRules||oe.indentationRules,onEnterRules:we.onEnterRules||oe.onEnterRules,autoClosingPairs:we.autoClosingPairs||oe.autoClosingPairs,surroundingPairs:we.surroundingPairs||oe.surroundingPairs,autoCloseBefore:we.autoCloseBefore||oe.autoCloseBefore,folding:we.folding||oe.folding,colorizedBracketPairs:we.colorizedBracketPairs||oe.colorizedBracketPairs,__electricCharacterSupport:we.__electricCharacterSupport||oe.__electricCharacterSupport};return oe}class M{constructor(oe,we,xe){this.configuration=oe,this.priority=we,this.order=xe}static cmp(oe,we){return oe.priority===we.priority?oe.order-we.order:oe.priority-we.priority}}class Se{constructor(oe){this.languageId=oe}}class Ee extends t.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(b.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(oe,we,xe=0){let pe=this._entries.get(oe);pe||(pe=new Z(oe),this._entries.set(oe,pe));const Te=pe.register(we,xe);return this._onDidChange.fire(new Se(oe)),(0,t.OF)(()=>{Te.dispose(),this._onDidChange.fire(new Se(oe))})}getLanguageConfiguration(oe){return this._entries.get(oe)?.getResolvedConfiguration()||null}}class Le{constructor(oe,we){this.languageId=oe,this.underlyingConfig=we,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n(this.underlyingConfig):null,this.comments=Le._handleComments(this.underlyingConfig),this.characterPair=new C(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||S.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new m(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new D(oe,this.underlyingConfig)}getWordDefinition(){return(0,S.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new L.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new _(this.brackets)),this._electricCharacter}onEnter(oe,we,xe,pe){return this._onEnterSupport?this._onEnterSupport.onEnter(oe,we,xe,pe):null}getAutoClosingPairs(){return new v.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(oe){const we=oe.comments;if(!we)return null;const xe={};if(we.lineComment&&(xe.lineCommentToken=we.lineComment),we.blockComment){const[pe,Te]=we.blockComment;xe.blockCommentStartToken=pe,xe.blockCommentEndToken=Te}return xe}}(0,g.z)(F,B)},72188:(Et,X,e)=>{"use strict";e.d(X,{bd:()=>L,dQ:()=>E});var d=e(55197),t=e(3778),l=e(4259),S=e(34189),v=e(29093);const E=new class C{constructor(){this._onDidChangeLanguages=new t.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(m){return this._languages.push(m),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let c=0,n=this._languages.length;c<n;c++)if(this._languages[c]===m)return void this._languages.splice(c,1)}}}getLanguages(){return this._languages}};l.B.add("editor.modesRegistry",E);const L="plaintext";E.registerLanguage({id:L,extensions:[".txt"],aliases:[d.NC("plainText.alias","Plain Text"),"text"],mimetypes:[S.v.text]}),l.B.as(v.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},88086:(Et,X,e)=>{"use strict";e.d(X,{Dy:()=>S,Ri:()=>l,TJ:()=>t});var d=e(45337);const t=new class{clone(){return this}equals(v){return this===v}};function l(v,T){return new d.hG([new d.WU(0,"",v)],T)}function S(v,T){const C=new Uint32Array(2);return C[0]=0,C[1]=(32768|v<<0|2<<24)>>>0,new d.DI(C,null===T?t:T)}},32309:(Et,X,e)=>{"use strict";function d(S,v){const T=S.getCount(),C=S.findTokenIndexAtOffset(v),E=S.getLanguageId(C);let L=C;for(;L+1<T&&S.getLanguageId(L+1)===E;)L++;let _=C;for(;_>0&&S.getLanguageId(_-1)===E;)_--;return new t(S,E,_,L+1,S.getStartOffset(_),S.getEndOffset(L))}e.d(X,{Bu:()=>l,wH:()=>d});class t{constructor(v,T,C,E,L,_){this._scopedLineTokensBrand=void 0,this._actual=v,this.languageId=T,this._firstTokenIndex=C,this._lastTokenIndex=E,this.firstCharOffset=L,this._lastCharOffset=_}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(v){return this._actual.getLineContent().substring(0,this.firstCharOffset+v)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(v){return this._actual.findTokenIndexAtOffset(v+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(v){return this._actual.getStandardTokenType(v+this._firstTokenIndex)}}function l(S){return 0!=(3&S)}},64557:(Et,X,e)=>{"use strict";e.d(X,{EA:()=>T,Vr:()=>u});var d=e(73879),t=e(8680),l=e(98570);class S{constructor(b,y,D,w,I,P){this._richEditBracketBrand=void 0,this.languageId=b,this.index=y,this.open=D,this.close=w,this.forwardRegex=I,this.reversedRegex=P,this._openSet=S._toSet(this.open),this._closeSet=S._toSet(this.close)}isOpen(b){return this._openSet.has(b)}isClose(b){return this._closeSet.has(b)}static _toSet(b){const y=new Set;for(const D of b)y.add(D);return y}}class T{constructor(b,y){this._richEditBracketsBrand=void 0;const D=function v(g){const b=g.length;g=g.map(P=>[P[0].toLowerCase(),P[1].toLowerCase()]);const y=[];for(let P=0;P<b;P++)y[P]=P;const D=(P,O)=>{const[H,U]=P,[K,F]=O;return H===K||H===F||U===K||U===F},w=(P,O)=>{const H=Math.min(P,O),U=Math.max(P,O);for(let K=0;K<b;K++)y[K]===U&&(y[K]=H)};for(let P=0;P<b;P++){const O=g[P];for(let H=P+1;H<b;H++)D(O,g[H])&&w(y[P],y[H])}const I=[];for(let P=0;P<b;P++){const O=[],H=[];for(let U=0;U<b;U++)if(y[U]===P){const[K,F]=g[U];O.push(K),H.push(F)}O.length>0&&I.push({open:O,close:H})}return I}(y);this.brackets=D.map((w,I)=>new S(b,I,w.open,w.close,function _(g,b,y,D){let w=[];w=w.concat(g),w=w.concat(b);for(let I=0,P=w.length;I<P;I++)C(w[I],y,D,w);return w=L(w),w.sort(E),w.reverse(),a(w)}(w.open,w.close,D,I),function s(g,b,y,D){let w=[];w=w.concat(g),w=w.concat(b);for(let I=0,P=w.length;I<P;I++)C(w[I],y,D,w);return w=L(w),w.sort(E),w.reverse(),a(w.map(p))}(w.open,w.close,D,I))),this.forwardRegex=function m(g){let b=[];for(const y of g){for(const D of y.open)b.push(D);for(const D of y.close)b.push(D)}return b=L(b),a(b)}(this.brackets),this.reversedRegex=function c(g){let b=[];for(const y of g){for(const D of y.open)b.push(D);for(const D of y.close)b.push(D)}return b=L(b),a(b.map(p))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const w of this.brackets){for(const I of w.open)this.textIsBracket[I]=w,this.textIsOpenBracket[I]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,I.length);for(const I of w.close)this.textIsBracket[I]=w,this.textIsOpenBracket[I]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,I.length)}}}function C(g,b,y,D){for(let w=0,I=b.length;w<I;w++){if(w===y)continue;const P=b[w];for(const O of P.open)O.indexOf(g)>=0&&D.push(O);for(const O of P.close)O.indexOf(g)>=0&&D.push(O)}}function E(g,b){return g.length-b.length}function L(g){if(g.length<=1)return g;const b=[],y=new Set;for(const D of g)y.has(D)||(b.push(D),y.add(D));return b}function n(g){const b=/^[\w ]+$/.test(g);return g=d.ec(g),b?`\\b${g}\\b`:g}function a(g){const b=`(${g.map(n).join(")|(")})`;return d.GF(b,!0)}const p=function(){let b=null,y=null;return function(w){return b!==w&&(b=w,y=function g(D){if(t.lZ){const w=new Uint16Array(D.length);let I=0;for(let P=D.length-1;P>=0;P--)w[I++]=D.charCodeAt(P);return t.oe().decode(w)}{const w=[];let I=0;for(let P=D.length-1;P>=0;P--)w[I++]=D.charAt(P);return w.join("")}}(b)),y}}();class u{static _findPrevBracketInText(b,y,D,w){const I=D.match(b);if(!I)return null;const H=w+(D.length-(I.index||0));return new l.e(y,H-I[0].length+1,y,H+1)}static findPrevBracketInRange(b,y,D,w,I){const O=p(D).substring(D.length-I,D.length-w);return this._findPrevBracketInText(b,y,O,w)}static findNextBracketInText(b,y,D,w){const I=D.match(b);if(!I)return null;const O=I[0].length;if(0===O)return null;const H=w+(I.index||0);return new l.e(y,H+1,y,H+1+O)}static findNextBracketInRange(b,y,D,w,I){const P=D.substring(w,I);return this.findNextBracketInText(b,y,P,w)}}},90076:(Et,X,e)=>{"use strict";e.d(X,{C2:()=>C,Fq:()=>E});var d=e(73879),t=e(71513),l=e(45337),S=e(88086);const T={getInitialState:()=>S.TJ,tokenizeEncoded:(_,s,m)=>(0,S.Dy)(0,m)};function C(_,s,m){return function(_,s,m,c){return new(m||(m=Promise))(function(a,p){function u(y){try{b(c.next(y))}catch(D){p(D)}}function g(y){try{b(c.throw(y))}catch(D){p(D)}}function b(y){y.done?a(y.value):function n(a){return a instanceof m?a:new m(function(p){p(a)})}(y.value).then(u,g)}b((c=c.apply(_,s||[])).next())})}(this,void 0,void 0,function*(){if(!m)return L(s,_.languageIdCodec,T);const c=yield l.RW.getOrCreate(m);return L(s,_.languageIdCodec,c||T)})}function E(_,s,m,c,n,a,p){let u="<div>",g=c,b=0,y=!0;for(let D=0,w=s.getCount();D<w;D++){const I=s.getEndOffset(D);if(I<=c)continue;let P="";for(;g<I&&g<n;g++){const O=_.charCodeAt(g);switch(O){case 9:{let H=a-(g+b)%a;for(b+=H-1;H>0;)p&&y?(P+="&#160;",y=!1):(P+=" ",y=!0),H--;break}case 60:P+="&lt;",y=!1;break;case 62:P+="&gt;",y=!1;break;case 38:P+="&amp;",y=!1;break;case 0:P+="&#00;",y=!1;break;case 65279:case 8232:case 8233:case 133:P+="\ufffd",y=!1;break;case 13:P+="&#8203",y=!1;break;case 32:p&&y?(P+="&#160;",y=!1):(P+=" ",y=!0);break;default:P+=String.fromCharCode(O),y=!1}}if(u+=`<span style="${s.getInlineStyle(D,m)}">${P}</span>`,I>n||g>=n)break}return u+="</div>",u}function L(_,s,m){let c='<div class="monaco-tokenized-source">';const n=d.uq(_);let a=m.getInitialState();for(let p=0,u=n.length;p<u;p++){const g=n[p];p>0&&(c+="<br/>");const b=m.tokenizeEncoded(g,!0,a);t.A.convertToEndOffset(b.tokens,g.length);const D=new t.A(b.tokens,g,s).inflate();let w=0;for(let I=0,P=D.getCount();I<P;I++){const O=D.getClassName(I),H=D.getEndOffset(I);c+=`<span class="${O}">${d.YU(g.substring(w,H))}</span>`,w=H}a=b.endState}return c+="</div>",c}},47629:(Et,X,e)=>{"use strict";e.d(X,{F5:()=>l,Hf:()=>C,Qi:()=>E,RM:()=>S,Tx:()=>L,dJ:()=>v,je:()=>_,pt:()=>s,sh:()=>t,tk:()=>T});var d=e(6276),t=(()=>{return(m=t||(t={}))[m.Left=1]="Left",m[m.Center=2]="Center",m[m.Right=4]="Right",m[m.Full=7]="Full",t;var m})(),l=(()=>{return(m=l||(l={}))[m.Inline=1]="Inline",m[m.Gutter=2]="Gutter",l;var m})(),S=(()=>{return(m=S||(S={}))[m.Both=0]="Both",m[m.Right=1]="Right",m[m.Left=2]="Left",m[m.None=3]="None",S;var m})();class v{constructor(c){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|c.tabSize),this.indentSize=0|c.tabSize,this.insertSpaces=Boolean(c.insertSpaces),this.defaultEOL=0|c.defaultEOL,this.trimAutoWhitespace=Boolean(c.trimAutoWhitespace),this.bracketPairColorizationOptions=c.bracketPairColorizationOptions}equals(c){return this.tabSize===c.tabSize&&this.indentSize===c.indentSize&&this.insertSpaces===c.insertSpaces&&this.defaultEOL===c.defaultEOL&&this.trimAutoWhitespace===c.trimAutoWhitespace&&(0,d.fS)(this.bracketPairColorizationOptions,c.bracketPairColorizationOptions)}createChangeEvent(c){return{tabSize:this.tabSize!==c.tabSize,indentSize:this.indentSize!==c.indentSize,insertSpaces:this.insertSpaces!==c.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==c.trimAutoWhitespace}}}class T{constructor(c,n){this._findMatchBrand=void 0,this.range=c,this.matches=n}}function C(m){return m&&"function"==typeof m.read}class E{constructor(c,n,a,p,u,g){this.identifier=c,this.range=n,this.text=a,this.forceMoveMarkers=p,this.isAutoWhitespaceEdit=u,this._isTracked=g}}class L{constructor(c,n,a){this.regex=c,this.wordSeparators=n,this.simpleSearch=a}}class _{constructor(c,n,a){this.reverseEdits=c,this.changes=n,this.trimAutoWhitespaceLineNumbers=a}}function s(m){return!m.isTooLargeForSyncing()&&!m.isForSimpleWidget}},66558:(Et,X,e)=>{"use strict";e.d(X,{BH:()=>c,Dm:()=>a,Kd:()=>v,Y0:()=>T,n2:()=>n});var d=e(5409),t=e(87283),l=e(80125);class S{constructor(u){this._length=u}get length(){return this._length}}class v extends S{constructor(u,g,b,y,D){super(u),this.openingBracket=g,this.child=b,this.closingBracket=y,this.missingOpeningBracketIds=D}static create(u,g,b){let y=u.length;return g&&(y=(0,t.Ii)(y,g.length)),b&&(y=(0,t.Ii)(y,b.length)),new v(y,u,g,b,g?g.missingOpeningBracketIds:l.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(u){switch(u){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const u=new Array;return u.push(this.openingBracket),this.child&&u.push(this.child),this.closingBracket&&u.push(this.closingBracket),u}canBeReused(u){return!(null===this.closingBracket||u.intersects(this.missingOpeningBracketIds))}deepClone(){return new v(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(u,g){return this.child?this.child.computeMinIndentation((0,t.Ii)(u,this.openingBracket.length),g):Number.MAX_SAFE_INTEGER}}class T extends S{constructor(u,g,b){super(u),this.listHeight=g,this._missingOpeningBracketIds=b,this.cachedMinIndentation=-1}static create23(u,g,b,y=!1){let D=u.length,w=u.missingOpeningBracketIds;if(u.listHeight!==g.listHeight)throw new Error("Invalid list heights");if(D=(0,t.Ii)(D,g.length),w=w.merge(g.missingOpeningBracketIds),b){if(u.listHeight!==b.listHeight)throw new Error("Invalid list heights");D=(0,t.Ii)(D,b.length),w=w.merge(b.missingOpeningBracketIds)}return y?new E(D,u.listHeight+1,u,g,b,w):new C(D,u.listHeight+1,u,g,b,w)}static getEmpty(){return new _(t.xl,0,[],l.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const u=this.childrenLength;if(0===u)return;const g=this.getChild(u-1),b=4===g.kind?g.toMutable():g;return g!==b&&this.setChild(u-1,b),b}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const g=this.getChild(0),b=4===g.kind?g.toMutable():g;return g!==b&&this.setChild(0,b),b}canBeReused(u){if(u.intersects(this.missingOpeningBracketIds))return!1;let b,g=this;for(;4===g.kind&&(b=g.childrenLength)>0;)g=g.getChild(b-1);return g.canBeReused(u)}handleChildrenChanged(){this.throwIfImmutable();const u=this.childrenLength;let g=this.getChild(0).length,b=this.getChild(0).missingOpeningBracketIds;for(let y=1;y<u;y++){const D=this.getChild(y);g=(0,t.Ii)(g,D.length),b=b.merge(D.missingOpeningBracketIds)}this._length=g,this._missingOpeningBracketIds=b,this.cachedMinIndentation=-1}computeMinIndentation(u,g){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let b=Number.MAX_SAFE_INTEGER,y=u;for(let D=0;D<this.childrenLength;D++){const w=this.getChild(D);w&&(b=Math.min(b,w.computeMinIndentation(y,g)),y=(0,t.Ii)(y,w.length))}return this.cachedMinIndentation=b,b}}class C extends T{constructor(u,g,b,y,D,w){super(u,g,w),this._item1=b,this._item2=y,this._item3=D}get childrenLength(){return null!==this._item3?3:2}getChild(u){switch(u){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(u,g){switch(u){case 0:return void(this._item1=g);case 1:return void(this._item2=g);case 2:return void(this._item3=g)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new C(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=u,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item3;return this._item3=null,this.handleChildrenChanged(),u}prependChildOfSameHeight(u){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=u,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const u=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),u}toMutable(){return this}}class E extends C{toMutable(){return new C(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class L extends T{constructor(u,g,b,y){super(u,g,y),this._children=b}get childrenLength(){return this._children.length}getChild(u){return this._children[u]}setChild(u,g){this._children[u]=g}get children(){return this._children}deepClone(){const u=new Array(this._children.length);for(let g=0;g<this._children.length;g++)u[g]=this._children[g].deepClone();return new L(this.length,this.listHeight,u,this.missingOpeningBracketIds)}appendChildOfSameHeight(u){this.throwIfImmutable(),this._children.push(u),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const u=this._children.pop();return this.handleChildrenChanged(),u}prependChildOfSameHeight(u){this.throwIfImmutable(),this._children.unshift(u),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const u=this._children.shift();return this.handleChildrenChanged(),u}toMutable(){return this}}class _ extends L{toMutable(){return new L(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const s=[];class m extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(u){return null}get children(){return s}deepClone(){return this}}class c extends m{get kind(){return 0}get missingOpeningBracketIds(){return l.tS.getEmpty()}canBeReused(u){return!0}computeMinIndentation(u,g){const b=(0,t.Hw)(u),y=(0===b.columnCount?b.lineCount:b.lineCount+1)+1,D=(0,t.W9)((0,t.Ii)(u,this.length))+1;let w=Number.MAX_SAFE_INTEGER;for(let I=y;I<=D;I++){const P=g.getLineFirstNonWhitespaceColumn(I),O=g.getLineContent(I);if(0===P)continue;const H=d.i.visibleColumnFromColumn(O,P,g.getOptions().tabSize);w=Math.min(w,H)}return w}}class n extends m{constructor(u,g,b){super(u),this.bracketInfo=g,this.bracketIds=b}static create(u,g,b){return new n(u,g,b)}get kind(){return 1}get missingOpeningBracketIds(){return l.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(u){return!1}computeMinIndentation(u,g){return Number.MAX_SAFE_INTEGER}}class a extends m{constructor(u,g){super(g),this.missingOpeningBracketIds=u}get kind(){return 3}canBeReused(u){return!u.intersects(this.missingOpeningBracketIds)}computeMinIndentation(u,g){return Number.MAX_SAFE_INTEGER}}},62467:(Et,X,e)=>{"use strict";e.d(X,{Q:()=>t,Y:()=>l});var d=e(87283);class t{constructor(T,C,E){this.startOffset=T,this.endOffset=C,this.newLength=E}}class l{constructor(T,C){this.documentLength=C,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=T.map(E=>S.from(E))}getOffsetBeforeChange(T){return this.adjustNextEdit(T),this.translateCurToOld(T)}getDistanceToNextChange(T){this.adjustNextEdit(T);const C=this.edits[this.nextEditIdx],E=C?this.translateOldToCur(C.offsetObj):this.documentLength;return(0,d.BE)(T,E)}translateOldToCur(T){return(0,d.Hg)(T.lineCount+this.deltaOldToNewLineCount,T.lineCount===this.deltaLineIdxInOld?T.columnCount+this.deltaOldToNewColumnCount:T.columnCount)}translateCurToOld(T){const C=(0,d.Hw)(T);return(0,d.Hg)(C.lineCount-this.deltaOldToNewLineCount,C.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?C.columnCount-this.deltaOldToNewColumnCount:C.columnCount)}adjustNextEdit(T){for(;this.nextEditIdx<this.edits.length;){const C=this.edits[this.nextEditIdx],E=this.translateOldToCur(C.endOffsetAfterObj);if(!(0,d.By)(E,T))break;{this.nextEditIdx++;const L=(0,d.Hw)(E),_=(0,d.Hw)(this.translateOldToCur(C.endOffsetBeforeObj));this.deltaOldToNewLineCount+=L.lineCount-_.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===C.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(L.columnCount-_.columnCount),this.deltaLineIdxInOld=C.endOffsetBeforeObj.lineCount}}}}class S{constructor(T,C,E){this.endOffsetBeforeObj=(0,d.Hw)(C),this.endOffsetAfterObj=(0,d.Hw)((0,d.Ii)(T,E)),this.offsetObj=(0,d.Hw)(T)}static from(T){return new S(T.startOffset,T.endOffset,T.newLength)}}},33506:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>E});var d=e(73879),t=e(66558),l=e(87283),S=e(80125),v=e(15186);class T{constructor(_){this.map=_,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(_,s){function m(n){return s.getKey(`${n.languageId}:::${n.bracketText}`)}const c=new Map;for(const n of _.bracketsNew.openingBrackets){const a=(0,l.Hg)(0,n.bracketText.length),p=m(n),u=S.tS.getEmpty().add(p,S.Qw);c.set(n.bracketText,new v.WU(a,1,p,u,t.n2.create(a,n,u)))}for(const n of _.bracketsNew.closingBrackets){const a=(0,l.Hg)(0,n.bracketText.length);let p=S.tS.getEmpty();const u=n.getClosedBrackets();for(const g of u)p=p.add(m(g),S.Qw);c.set(n.bracketText,new v.WU(a,2,m(u[0]),p,t.n2.create(a,n,p)))}return new T(c)}getRegExpStr(){if(this.isEmpty)return null;{const _=[...this.map.keys()];return _.sort(),_.reverse(),_.map(s=>function C(L){let _=(0,d.ec)(L);return/^[\w ]+/.test(L)&&(_=`\\b${_}`),/[\w ]+$/.test(L)&&(_=`${_}\\b`),_}(s)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const _=this.getRegExpStr();this._regExpGlobal=_?new RegExp(_,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(_){return this.map.get(_.toLowerCase())}findClosingTokenText(_){for(const[s,m]of this.map)if(2===m.kind&&m.bracketIds.intersects(_))return s}get isEmpty(){return 0===this.map.size}}class E{constructor(_,s){this.denseKeyProvider=_,this.getLanguageConfiguration=s,this.languageIdToBracketTokens=new Map}didLanguageChange(_){return this.languageIdToBracketTokens.has(_)}getSingleLanguageBracketTokens(_){let s=this.languageIdToBracketTokens.get(_);return s||(s=T.createFromLanguage(this.getLanguageConfiguration(_),this.denseKeyProvider),this.languageIdToBracketTokens.set(_,s)),s}}},87283:(Et,X,e)=>{"use strict";e.d(X,{BE:()=>c,By:()=>a,F_:()=>s,Hg:()=>E,Hw:()=>L,Ii:()=>m,PZ:()=>u,Qw:()=>g,VR:()=>n,W9:()=>_,Zq:()=>p,av:()=>S,oR:()=>b,xd:()=>T,xl:()=>v});var d=e(73879),t=e(98570);class l{constructor(D,w){this.lineCount=D,this.columnCount=w}toString(){return`${this.lineCount},${this.columnCount}`}}function S(y,D,w,I){return y!==w?E(w-y,I):E(0,I-D)}l.zero=new l(0,0);const v=0;function T(y){return 0===y}const C=Math.pow(2,26);function E(y,D){return y*C+D}function L(y){const D=y,w=Math.floor(D/C);return new l(w,D-w*C)}function _(y){return Math.floor(y/C)}function s(y){return y}function m(y,D){return D<C?y+D:y-y%C+D}function c(y,D){const w=y,I=D;if(I-w<=0)return v;const O=Math.floor(w/C),H=Math.floor(I/C),U=I-H*C;return O===H?E(0,U-(w-O*C)):E(H-O,U)}function n(y,D){return y<D}function a(y,D){return y<=D}function p(y,D){return y>=D}function u(y){return E(y.lineNumber-1,y.column-1)}function g(y,D){const w=y,I=Math.floor(w/C),P=w-I*C,O=D,H=Math.floor(O/C);return new t.e(I+1,P+1,H+1,O-H*C+1)}function b(y){const D=(0,d.uq)(y);return E(D.length-1,D[D.length-1].length)}},61334:(Et,X,e)=>{"use strict";e.d(X,{w:()=>n});var d=e(66558),t=e(62467),l=e(80125),S=e(87283);function T(p,u=!1){if(0===p.length)return null;if(1===p.length)return p[0];let g=p.length;for(;g>3;){const b=g>>1;for(let y=0;y<b;y++){const D=y<<1;p[y]=d.Y0.create23(p[D],p[D+1],D+3===g?p[D+2]:null,u)}g=b}return d.Y0.create23(p[0],p[1],g>=3?p[2]:null,u)}function C(p,u){return Math.abs(p.listHeight-u.listHeight)}function E(p,u){return p.listHeight===u.listHeight?d.Y0.create23(p,u,null,!1):p.listHeight>u.listHeight?function L(p,u){let g=p=p.toMutable();const b=new Array;let y;for(;;){if(u.listHeight===g.listHeight){y=u;break}if(4!==g.kind)throw new Error("unexpected");b.push(g),g=g.makeLastElementMutable()}for(let D=b.length-1;D>=0;D--){const w=b[D];y?w.childrenLength>=3?y=d.Y0.create23(w.unappendChild(),y,null,!1):(w.appendChildOfSameHeight(y),y=void 0):w.handleChildrenChanged()}return y?d.Y0.create23(p,y,null,!1):p}(p,u):function _(p,u){let g=p=p.toMutable();const b=new Array;for(;u.listHeight!==g.listHeight;){if(4!==g.kind)throw new Error("unexpected");b.push(g),g=g.makeFirstElementMutable()}let y=u;for(let D=b.length-1;D>=0;D--){const w=b[D];y?w.childrenLength>=3?y=d.Y0.create23(y,w.unprependChild(),null,!1):(w.prependChildOfSameHeight(y),y=void 0):w.handleChildrenChanged()}return y?d.Y0.create23(y,p,null,!1):p}(u,p)}class s{constructor(u){this.lastOffset=S.xl,this.nextNodes=[u],this.offsets=[S.xl],this.idxs=[]}readLongestNodeAt(u,g){if((0,S.VR)(u,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=u;;){const b=c(this.nextNodes);if(!b)return;const y=c(this.offsets);if((0,S.VR)(u,y))return;if((0,S.VR)(y,u))if((0,S.Ii)(y,b.length)<=u)this.nextNodeAfterCurrent();else{const D=m(b);-1!==D?(this.nextNodes.push(b.getChild(D)),this.offsets.push(y),this.idxs.push(D)):this.nextNodeAfterCurrent()}else{if(g(b))return this.nextNodeAfterCurrent(),b;{const D=m(b);if(-1===D)return void this.nextNodeAfterCurrent();this.nextNodes.push(b.getChild(D)),this.offsets.push(y),this.idxs.push(D)}}}}nextNodeAfterCurrent(){for(;;){const u=c(this.offsets),g=c(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const b=c(this.nextNodes),y=m(b,this.idxs[this.idxs.length-1]);if(-1!==y){this.nextNodes.push(b.getChild(y)),this.offsets.push((0,S.Ii)(u,g.length)),this.idxs[this.idxs.length-1]=y;break}this.idxs.pop()}}}function m(p,u=-1){for(;;){if(++u>=p.childrenLength)return-1;if(p.getChild(u))return u}}function c(p){return p.length>0?p[p.length-1]:void 0}function n(p,u,g,b){return new a(p,u,g,b).parseDocument()}class a{constructor(u,g,b,y){if(this.tokenizer=u,this.createImmutableLists=y,this._itemsConstructed=0,this._itemsFromCache=0,b&&y)throw new Error("Not supported");this.oldNodeReader=b?new s(b):void 0,this.positionMapper=new t.Y(g,u.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let u=this.parseList(l.tS.getEmpty());return u||(u=d.Y0.getEmpty()),u}parseList(u){const g=new Array;for(;;){const y=this.tokenizer.peek();if(!y||2===y.kind&&y.bracketIds.intersects(u))break;const D=this.parseChild(u);4===D.kind&&0===D.childrenLength||g.push(D)}return this.oldNodeReader?function v(p){if(0===p.length)return null;if(1===p.length)return p[0];let u=0;function g(){if(u>=p.length)return null;const w=u,I=p[w].listHeight;for(u++;u<p.length&&p[u].listHeight===I;)u++;return u-w>=2?T(0===w&&u===p.length?p:p.slice(w,u),!1):p[w]}let b=g(),y=g();if(!y)return b;for(let w=g();w;w=g())C(b,y)<=C(y,w)?(b=E(b,y),y=w):y=E(y,w);return E(b,y)}(g):T(g,this.createImmutableLists)}parseChild(u){if(this.oldNodeReader){const b=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,S.xd)(b)){const y=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),D=>!!(0,S.VR)(D.length,b)&&D.canBeReused(u));if(y)return this._itemsFromCache++,this.tokenizer.skip(y.length),y}}this._itemsConstructed++;const g=this.tokenizer.read();switch(g.kind){case 2:return new d.Dm(g.bracketIds,g.length);case 0:return g.astNode;case 1:{const b=u.merge(g.bracketIds),y=this.parseList(b),D=this.tokenizer.peek();return D&&2===D.kind&&(D.bracketId===g.bracketId||D.bracketIds.intersects(g.bracketIds))?(this.tokenizer.read(),d.Kd.create(g.astNode,y,D.astNode)):d.Kd.create(g.astNode,y,null)}default:throw new Error("unexpected")}}}},80125:(Et,X,e)=>{"use strict";e.d(X,{FE:()=>S,Qw:()=>l,tS:()=>t});const d=new Array;class t{constructor(T,C){this.items=T,this.additionalItems=C}static create(T,C){if(T<=128&&0===C.length){let E=t.cache[T];return E||(E=new t(T,C),t.cache[T]=E),E}return new t(T,C)}static getEmpty(){return this.empty}add(T,C){const E=C.getKey(T);let L=E>>5;if(0===L){const s=1<<E|this.items;return s===this.items?this:t.create(s,this.additionalItems)}L--;const _=this.additionalItems.slice(0);for(;_.length<L;)_.push(0);return _[L]|=1<<(31&E),t.create(this.items,_)}merge(T){const C=this.items|T.items;if(this.additionalItems===d&&T.additionalItems===d)return C===this.items?this:C===T.items?T:t.create(C,d);const E=new Array;for(let L=0;L<Math.max(this.additionalItems.length,T.additionalItems.length);L++)E.push((this.additionalItems[L]||0)|(T.additionalItems[L]||0));return t.create(C,E)}intersects(T){if(0!=(this.items&T.items))return!0;for(let C=0;C<Math.min(this.additionalItems.length,T.additionalItems.length);C++)if(0!=(this.additionalItems[C]&T.additionalItems[C]))return!0;return!1}}t.cache=new Array(129),t.empty=t.create(0,d);const l={getKey:v=>v};class S{constructor(){this.items=new Map}getKey(T){let C=this.items.get(T);return void 0===C&&(C=this.items.size,this.items.set(T,C)),C}}},15186:(Et,X,e)=>{"use strict";e.d(X,{WU:()=>T,g:()=>L,xH:()=>C});var d=e(4125),t=e(1465),l=e(66558),S=e(87283),v=e(80125);class T{constructor(s,m,c,n,a){this.length=s,this.kind=m,this.bracketId=c,this.bracketIds=n,this.astNode=a}}class C{constructor(s,m){this.textModel=s,this.bracketTokens=m,this.reader=new E(this.textModel,this.bracketTokens),this._offset=S.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,S.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(s){this.didPeek=!1,this._offset=(0,S.Ii)(this._offset,s);const m=(0,S.Hw)(this._offset);this.reader.setPosition(m.lineCount,m.columnCount)}read(){let s;return this.peeked?(this.didPeek=!1,s=this.peeked):s=this.reader.read(),s&&(this._offset=(0,S.Ii)(this._offset,s.length)),s}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class E{constructor(s,m){this.textModel=s,this.bracketTokens=m,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}setPosition(s,m){s===this.lineIdx?(this.lineCharOffset=m,this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=s,this.lineCharOffset=m,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const a=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,S.F_)(a.length),a}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const s=this.lineIdx,m=this.lineCharOffset;let c=0;for(;;){const a=this.lineTokens,p=a.getCount();let u=null;if(this.lineTokenOffset<p){const g=a.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<p&&g===a.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const b=0===t.N.getTokenType(g),y=t.N.containsBalancedBrackets(g),D=a.getEndOffset(this.lineTokenOffset);if(y&&b&&this.lineCharOffset<D){const w=a.getLanguageId(this.lineTokenOffset),I=this.line.substring(this.lineCharOffset,D),P=this.bracketTokens.getSingleLanguageBracketTokens(w),O=P.regExpGlobal;if(O){O.lastIndex=0;const H=O.exec(I);H&&(u=P.getToken(H[0]),u&&(this.lineCharOffset+=H.index))}}if(c+=D-this.lineCharOffset,u){if(s!==this.lineIdx||m!==this.lineCharOffset){this.peekedToken=u;break}return this.lineCharOffset+=(0,S.F_)(u.length),u}this.lineTokenOffset++,this.lineCharOffset=D}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,c+=33,c>1e3))break;if(c>1500)break}const n=(0,S.av)(s,m,this.lineIdx,this.lineCharOffset);return new T(n,0,-1,v.tS.getEmpty(),new l.BH(n))}}class L{constructor(s,m){this.text=s,this._offset=S.xl,this.idx=0;const c=m.getRegExpStr(),n=c?new RegExp(c+"|\n","gi"):null,a=[];let p,u=0,g=0,b=0,y=0;const D=new Array;for(let P=0;P<60;P++)D.push(new T((0,S.Hg)(0,P),0,-1,v.tS.getEmpty(),new l.BH((0,S.Hg)(0,P))));const w=new Array;for(let P=0;P<60;P++)w.push(new T((0,S.Hg)(1,P),0,-1,v.tS.getEmpty(),new l.BH((0,S.Hg)(1,P))));if(n)for(n.lastIndex=0;null!==(p=n.exec(s));){const P=p.index,O=p[0];if("\n"===O)u++,g=P+1;else{if(b!==P){let H;if(y===u){const U=P-b;if(U<D.length)H=D[U];else{const K=(0,S.Hg)(0,U);H=new T(K,0,-1,v.tS.getEmpty(),new l.BH(K))}}else{const U=u-y,K=P-g;if(1===U&&K<w.length)H=w[K];else{const F=(0,S.Hg)(U,K);H=new T(F,0,-1,v.tS.getEmpty(),new l.BH(F))}}a.push(H)}a.push(m.getToken(O)),b=P+O.length,y=u}}const I=s.length;if(b!==I){const P=y===u?(0,S.Hg)(0,I-b):(0,S.Hg)(u-y,I-g);a.push(new T(P,0,-1,v.tS.getEmpty(),new l.BH(P)))}this.length=(0,S.Hg)(u,I-g),this.tokens=a}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(s){throw new d.B8}}},83183:(Et,X,e)=>{"use strict";e.d(X,{NL:()=>n,e9:()=>c});var d=e(55197),t=e(4125),l=e(7233),S=e(59547),v=e(66390),T=e(32068),C=e(40734);function E(a){return a.toString()}class L{constructor(p,u,g,b,y,D,w){this.beforeVersionId=p,this.afterVersionId=u,this.beforeEOL=g,this.afterEOL=b,this.beforeCursorState=y,this.afterCursorState=D,this.changes=w}static create(p,u){const g=p.getAlternativeVersionId(),b=m(p);return new L(g,g,b,b,u,u,[])}append(p,u,g,b,y){u.length>0&&(this.changes=(0,v.b)(this.changes,u)),this.afterEOL=g,this.afterVersionId=b,this.afterCursorState=y}static _writeSelectionsSize(p){return 4+16*(p?p.length:0)}static _writeSelections(p,u,g){if(T.T4(p,u?u.length:0,g),g+=4,u)for(const b of u)T.T4(p,b.selectionStartLineNumber,g),T.T4(p,b.selectionStartColumn,g+=4),T.T4(p,b.positionLineNumber,g+=4),T.T4(p,b.positionColumn,g+=4),g+=4;return g}static _readSelections(p,u,g){const b=T.Ag(p,u);u+=4;for(let y=0;y<b;y++){const D=T.Ag(p,u),w=T.Ag(p,u+=4),I=T.Ag(p,u+=4),P=T.Ag(p,u+=4);u+=4,g.push(new l.Y(D,w,I,P))}return u}serialize(){let p=10+L._writeSelectionsSize(this.beforeCursorState)+L._writeSelectionsSize(this.afterCursorState)+4;for(const b of this.changes)p+=b.writeSize();const u=new Uint8Array(p);let g=0;T.T4(u,this.beforeVersionId,g),g+=4,T.T4(u,this.afterVersionId,g),g+=4,T.Cg(u,this.beforeEOL,g),g+=1,T.Cg(u,this.afterEOL,g),g+=1,g=L._writeSelections(u,this.beforeCursorState,g),g=L._writeSelections(u,this.afterCursorState,g),T.T4(u,this.changes.length,g),g+=4;for(const b of this.changes)g=b.write(u,g);return u.buffer}static deserialize(p){const u=new Uint8Array(p);let g=0;const b=T.Ag(u,g);g+=4;const y=T.Ag(u,g);g+=4;const D=T.Q$(u,g);g+=1;const w=T.Q$(u,g);g+=1;const I=[];g=L._readSelections(u,g,I);const P=[];g=L._readSelections(u,g,P);const O=T.Ag(u,g);g+=4;const H=[];for(let U=0;U<O;U++)g=v.q.read(u,g,H);return new L(b,y,D,w,I,P,H)}}class _{constructor(p,u,g,b){this.label=p,this.code=u,this.model=g,this._data=L.create(g,b)}get type(){return 0}get resource(){return S.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof L?this._data:L.deserialize(this._data)).changes.map(u=>u.toString()).join(", ")}matchesResource(p){return(S.o.isUri(this.model)?this.model:this.model.uri).toString()===p.toString()}setModel(p){this.model=p}canAppend(p){return this.model===p&&this._data instanceof L}append(p,u,g,b,y){this._data instanceof L&&this._data.append(p,u,g,b,y)}close(){this._data instanceof L&&(this._data=this._data.serialize())}open(){this._data instanceof L||(this._data=L.deserialize(this._data))}undo(){if(S.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof L&&(this._data=this._data.serialize());const p=L.deserialize(this._data);this.model._applyUndo(p.changes,p.beforeEOL,p.beforeVersionId,p.beforeCursorState)}redo(){if(S.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof L&&(this._data=this._data.serialize());const p=L.deserialize(this._data);this.model._applyRedo(p.changes,p.afterEOL,p.afterVersionId,p.afterCursorState)}heapSize(){return this._data instanceof L&&(this._data=this._data.serialize()),this._data.byteLength+168}}class s{constructor(p,u,g){this.label=p,this.code=u,this.type=1,this._isOpen=!0,this._editStackElementsArr=g.slice(0),this._editStackElementsMap=new Map;for(const b of this._editStackElementsArr){const y=E(b.resource);this._editStackElementsMap.set(y,b)}this._delegate=null}get resources(){return this._editStackElementsArr.map(p=>p.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(p){const u=E(p);return this._editStackElementsMap.has(u)}setModel(p){const u=E(S.o.isUri(p)?p:p.uri);this._editStackElementsMap.has(u)&&this._editStackElementsMap.get(u).setModel(p)}canAppend(p){if(!this._isOpen)return!1;const u=E(p.uri);return!!this._editStackElementsMap.has(u)&&this._editStackElementsMap.get(u).canAppend(p)}append(p,u,g,b,y){const D=E(p.uri);this._editStackElementsMap.get(D).append(p,u,g,b,y)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const p of this._editStackElementsArr)p.undo()}redo(){for(const p of this._editStackElementsArr)p.redo()}heapSize(p){const u=E(p);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).heapSize():0}split(){return this._editStackElementsArr}toString(){const p=[];for(const u of this._editStackElementsArr)p.push(`${(0,C.EZ)(u.resource)}: ${u}`);return`{${p.join(", ")}}`}}function m(a){return"\n"===a.getEOL()?0:1}function c(a){return!!a&&(a instanceof _||a instanceof s)}class n{constructor(p,u){this._model=p,this._undoRedoService=u}pushStackElement(){const p=this._undoRedoService.getLastElement(this._model.uri);c(p)&&p.close()}popStackElement(){const p=this._undoRedoService.getLastElement(this._model.uri);c(p)&&p.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(p){const u=this._undoRedoService.getLastElement(this._model.uri);if(c(u)&&u.canAppend(this._model))return u;const g=new _(d.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,p);return this._undoRedoService.pushElement(g),g}pushEOL(p){const u=this._getOrCreateEditStackElement(null);this._model.setEOL(p),u.append(this._model,[],m(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(p,u,g){const b=this._getOrCreateEditStackElement(p),y=this._model.applyEdits(u,!0),D=n._computeCursorState(g,y),w=y.map((I,P)=>({index:P,textChange:I.textChange}));return w.sort((I,P)=>I.textChange.oldPosition===P.textChange.oldPosition?I.index-P.index:I.textChange.oldPosition-P.textChange.oldPosition),b.append(this._model,w.map(I=>I.textChange),m(this._model),this._model.getAlternativeVersionId(),D),D}static _computeCursorState(p,u){try{return p?p(u):null}catch(g){return(0,t.dL)(g),null}}}},29595:(Et,X,e)=>{"use strict";e.d(X,{W:()=>L,l:()=>E});var d=e(64023),t=e(73879),l=e(5409),S=e(98570),v=e(32368),T=e(24927),C=e(87570);class E extends v.U{constructor(s,m){super(),this.textModel=s,this.languageConfigurationService=m}getLanguageConfiguration(s){return this.languageConfigurationService.getLanguageConfiguration(s)}_computeIndentLevel(s){return(0,T.q)(this.textModel.getLineContent(s+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(s,m,c){this.assertNotDisposed();const n=this.textModel.getLineCount();if(s<1||s>n)throw new Error("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,p=Boolean(a&&a.offSide);let u=-2,g=-1,b=-2,y=-1;const D=j=>{if(-1!==u&&(-2===u||u>j-1)){u=-1,g=-1;for(let ne=j-2;ne>=0;ne--){const N=this._computeIndentLevel(ne);if(N>=0){u=ne,g=N;break}}}if(-2===b){b=-1,y=-1;for(let ne=j;ne<n;ne++){const N=this._computeIndentLevel(ne);if(N>=0){b=ne,y=N;break}}}};let w=-2,I=-1,P=-2,O=-1;const H=j=>{if(-2===w){w=-1,I=-1;for(let ne=j-2;ne>=0;ne--){const N=this._computeIndentLevel(ne);if(N>=0){w=ne,I=N;break}}}if(-1!==P&&(-2===P||P<j-1)){P=-1,O=-1;for(let ne=j;ne<n;ne++){const N=this._computeIndentLevel(ne);if(N>=0){P=ne,O=N;break}}}};let U=0,K=!0,F=0,B=!0,z=0,$=0;for(let j=0;K||B;j++){const ne=s-j,N=s+j;j>1&&(ne<1||ne<m)&&(K=!1),j>1&&(N>n||N>c)&&(B=!1),j>5e4&&(K=!1,B=!1);let V=-1;if(K&&ne>=1){const fe=this._computeIndentLevel(ne-1);fe>=0?(b=ne-1,y=fe,V=Math.ceil(fe/this.textModel.getOptions().indentSize)):(D(ne),V=this._getIndentLevelForWhitespaceLine(p,g,y))}let Z=-1;if(B&&N<=n){const fe=this._computeIndentLevel(N-1);fe>=0?(w=N-1,I=fe,Z=Math.ceil(fe/this.textModel.getOptions().indentSize)):(H(N),Z=this._getIndentLevelForWhitespaceLine(p,I,O))}if(0!==j){if(1===j){if(N<=n&&Z>=0&&$+1===Z){K=!1,U=N,F=N,z=Z;continue}if(ne>=1&&V>=0&&V-1===$){B=!1,U=ne,F=ne,z=V;continue}if(U=s,F=s,z=$,0===z)return{startLineNumber:U,endLineNumber:F,indent:z}}K&&(V>=z?U=ne:K=!1),B&&(Z>=z?F=N:B=!1)}else $=V}return{startLineNumber:U,endLineNumber:F,indent:z}}getLinesBracketGuides(s,m,c,n){var a;const p=[];for(let w=s;w<=m;w++)p.push([]);const g=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new S.e(s,1,m,this.textModel.getLineMaxColumn(m)));let b;if(c&&g.length>0){const w=(s<=c.lineNumber&&c.lineNumber<=m?g:this.textModel.bracketPairs.getBracketPairsInRange(S.e.fromPositions(c))).filter(I=>S.e.strictContainsPosition(I.range,c));b=null===(a=(0,d.dF)(w,I=>!0))||void 0===a?void 0:a.range}const y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,D=new L;for(const w of g){if(!w.closingBracketRange)continue;const I=b&&w.range.equalsRange(b);if(!I&&!n.includeInactive)continue;const P=D.getInlineClassName(w.nestingLevel,w.nestingLevelOfEqualBracketType,y)+(n.highlightActive&&I?" "+D.activeClassName:""),O=w.openingBracketRange.getStartPosition(),H=w.closingBracketRange.getStartPosition(),U=n.horizontalGuides===C.s6.Enabled||n.horizontalGuides===C.s6.EnabledForActive&&I;if(w.range.startLineNumber===w.range.endLineNumber){U&&p[w.range.startLineNumber-s].push(new C.UO(-1,w.openingBracketRange.getEndPosition().column,P,new C.vW(!1,H.column),-1,-1));continue}const K=this.getVisibleColumnFromPosition(H),F=this.getVisibleColumnFromPosition(w.openingBracketRange.getStartPosition()),B=Math.min(F,K,w.minVisibleColumnIndentation+1);let z=!1;t.LC(this.textModel.getLineContent(w.closingBracketRange.startLineNumber))<w.closingBracketRange.startColumn-1&&(z=!0);const ne=Math.max(O.lineNumber,s),N=Math.min(H.lineNumber,m),V=z?1:0;for(let Z=ne;Z<N+V;Z++)p[Z-s].push(new C.UO(B,-1,P,null,Z===O.lineNumber?O.column:-1,Z===H.lineNumber?H.column:-1));U&&(O.lineNumber>=s&&F>B&&p[O.lineNumber-s].push(new C.UO(B,-1,P,new C.vW(!1,O.column),-1,-1)),H.lineNumber<=m&&K>B&&p[H.lineNumber-s].push(new C.UO(B,-1,P,new C.vW(!z,H.column),-1,-1)))}for(const w of p)w.sort((I,P)=>I.visibleColumn-P.visibleColumn);return p}getVisibleColumnFromPosition(s){return l.i.visibleColumnFromColumn(this.textModel.getLineContent(s.lineNumber),s.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(s,m){this.assertNotDisposed();const c=this.textModel.getLineCount();if(s<1||s>c)throw new Error("Illegal value for startLineNumber");if(m<1||m>c)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,p=Boolean(a&&a.offSide),u=new Array(m-s+1);let g=-2,b=-1,y=-2,D=-1;for(let w=s;w<=m;w++){const I=w-s,P=this._computeIndentLevel(w-1);if(P>=0)g=w-1,b=P,u[I]=Math.ceil(P/n.indentSize);else{if(-2===g){g=-1,b=-1;for(let O=w-2;O>=0;O--){const H=this._computeIndentLevel(O);if(H>=0){g=O,b=H;break}}}if(-1!==y&&(-2===y||y<w-1)){y=-1,D=-1;for(let O=w;O<c;O++){const H=this._computeIndentLevel(O);if(H>=0){y=O,D=H;break}}}u[I]=this._getIndentLevelForWhitespaceLine(p,b,D)}}return u}_getIndentLevelForWhitespaceLine(s,m,c){const n=this.textModel.getOptions();return-1===m||-1===c?0:m<c?1+Math.floor(m/n.indentSize):m===c||s?Math.ceil(c/n.indentSize):1+Math.floor(c/n.indentSize)}}class L{constructor(){this.activeClassName="indent-active"}getInlineClassName(s,m,c){return this.getInlineClassNameOfLevel(c?m:s)}getInlineClassNameOfLevel(s){return"bracket-indent-guide lvl-"+s%30}}},98950:(Et,X,e)=>{"use strict";e.d(X,{v:()=>S});var d=e(73879),t=e(18723),l=e(88598);class S{constructor(T,C,E,L){this._uri=T,this._lines=C,this._eol=E,this._versionId=L,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(T){T.eol&&T.eol!==this._eol&&(this._eol=T.eol,this._lineStarts=null);const C=T.changes;for(const E of C)this._acceptDeleteRange(E.range),this._acceptInsertText(new t.L(E.range.startLineNumber,E.range.startColumn),E.text);this._versionId=T.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const T=this._eol.length,C=this._lines.length,E=new Uint32Array(C);for(let L=0;L<C;L++)E[L]=this._lines[L].length+T;this._lineStarts=new l.oQ(E)}}_setLineText(T,C){this._lines[T]=C,this._lineStarts&&this._lineStarts.setValue(T,this._lines[T].length+this._eol.length)}_acceptDeleteRange(T){if(T.startLineNumber!==T.endLineNumber)this._setLineText(T.startLineNumber-1,this._lines[T.startLineNumber-1].substring(0,T.startColumn-1)+this._lines[T.endLineNumber-1].substring(T.endColumn-1)),this._lines.splice(T.startLineNumber,T.endLineNumber-T.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(T.startLineNumber,T.endLineNumber-T.startLineNumber);else{if(T.startColumn===T.endColumn)return;this._setLineText(T.startLineNumber-1,this._lines[T.startLineNumber-1].substring(0,T.startColumn-1)+this._lines[T.startLineNumber-1].substring(T.endColumn-1))}}_acceptInsertText(T,C){if(0===C.length)return;const E=(0,d.uq)(C);if(1===E.length)return void this._setLineText(T.lineNumber-1,this._lines[T.lineNumber-1].substring(0,T.column-1)+E[0]+this._lines[T.lineNumber-1].substring(T.column-1));E[E.length-1]+=this._lines[T.lineNumber-1].substring(T.column-1),this._setLineText(T.lineNumber-1,this._lines[T.lineNumber-1].substring(0,T.column-1)+E[0]);const L=new Uint32Array(E.length-1);for(let _=1;_<E.length;_++)this._lines.splice(T.lineNumber+_-1,0,E[_]),L[_-1]=E[_].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(T.lineNumber,L)}}},88598:(Et,X,e)=>{"use strict";e.d(X,{Ck:()=>S,oQ:()=>l});var d=e(64023),t=e(48071);class l{constructor(C){this.values=C,this.prefixSum=new Uint32Array(C.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(C,E){C=(0,t.A)(C);const L=this.values,_=this.prefixSum,s=E.length;return 0!==s&&(this.values=new Uint32Array(L.length+s),this.values.set(L.subarray(0,C),0),this.values.set(L.subarray(C),C+s),this.values.set(E,C),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(_.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(C,E){return C=(0,t.A)(C),E=(0,t.A)(E),this.values[C]!==E&&(this.values[C]=E,C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),!0)}removeValues(C,E){C=(0,t.A)(C),E=(0,t.A)(E);const L=this.values,_=this.prefixSum;if(C>=L.length)return!1;const s=L.length-C;return E>=s&&(E=s),0!==E&&(this.values=new Uint32Array(L.length-E),this.values.set(L.subarray(0,C),0),this.values.set(L.subarray(C+E),C),this.prefixSum=new Uint32Array(this.values.length),C-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=C-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(_.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(C){return C<0?0:(C=(0,t.A)(C),this._getPrefixSum(C))}_getPrefixSum(C){if(C<=this.prefixSumValidIndex[0])return this.prefixSum[C];let E=this.prefixSumValidIndex[0]+1;0===E&&(this.prefixSum[0]=this.values[0],E++),C>=this.values.length&&(C=this.values.length-1);for(let L=E;L<=C;L++)this.prefixSum[L]=this.prefixSum[L-1]+this.values[L];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],C),this.prefixSum[C]}getIndexOf(C){C=Math.floor(C),this.getTotalSum();let E=0,L=this.values.length-1,_=0,s=0,m=0;for(;E<=L;)if(_=E+(L-E)/2|0,s=this.prefixSum[_],m=s-this.values[_],C<m)L=_-1;else{if(!(C>=s))break;E=_+1}return new v(_,C-m)}}class S{constructor(C){this._values=C,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(C){return this._ensureValid(),0===C?0:this._prefixSum[C-1]}getIndexOf(C){this._ensureValid();const E=this._indexBySum[C];return new v(E,C-(E>0?this._prefixSum[E-1]:0))}removeValues(C,E){this._values.splice(C,E),this._invalidate(C)}insertValues(C,E){this._values=(0,d.Zv)(this._values,C,E),this._invalidate(C)}_invalidate(C){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,C-1)}_ensureValid(){if(!this._isValid){for(let C=this._validEndIndex+1,E=this._values.length;C<E;C++){const L=this._values[C],_=C>0?this._prefixSum[C-1]:0;this._prefixSum[C]=_+L;for(let s=0;s<L;s++)this._indexBySum[_+s]=C}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(C,E){this._values[C]!==E&&(this._values[C]=E,this._invalidate(C))}}class v{constructor(C,E){this.index=C,this.remainder=E,this._prefixSumIndexOfResultBrand=void 0,this.index=C,this.remainder=E}}},59758:(Et,X,e)=>{"use strict";e.d(X,{HS:()=>ct,qx:()=>_n,yO:()=>xn});var d=e(64023),t=e(69355),l=e(4125),S=e(3778),v=e(80142),T=e(73879),C=e(59547),E=e(93169),L=e(87652),_=e(18723),s=e(98570),m=e(7233),c=e(39945),n=e(45358),a=e(94911),p=e(47629);class u{constructor(R,q,me,Ke){this.range=R,this.nestingLevel=q,this.nestingLevelOfEqualBracketType=me,this.isInvalid=Ke}}class g{constructor(R,q,me,Ke,Xe,at){this.range=R,this.openingBracketRange=q,this.closingBracketRange=me,this.nestingLevel=Ke,this.nestingLevelOfEqualBracketType=Xe,this.bracketPairNode=at}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class b extends g{constructor(R,q,me,Ke,Xe,at,tn){super(R,q,me,Ke,Xe,at),this.minVisibleColumnIndentation=tn}}var y=e(62467),D=e(33506),w=e(87283),I=e(61334),P=e(80125),O=e(15186);class H extends v.JT{constructor(R,q){if(super(),this.textModel=R,this.getLanguageConfiguration=q,this.didChangeEmitter=new S.Q5,this.denseKeyProvider=new P.FE,this.brackets=new D.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,0===R.tokenization.backgroundTokenizationState){const me=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Ke=new O.g(this.textModel.getValue(),me);this.initialAstWithoutTokens=(0,I.w)(Ke,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else 2===R.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):1===R.tokenization.backgroundTokenizationState&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(R){return this.brackets.didLanguageChange(R)}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const R=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,R||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:R}){const q=R.map(me=>new y.Q((0,w.Hg)(me.fromLineNumber-1,0),(0,w.Hg)(me.toLineNumber,0),(0,w.Hg)(me.toLineNumber-me.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(q,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(R){const q=R.changes.map(me=>{const Ke=s.e.lift(me.range);return new y.Q((0,w.PZ)(Ke.getStartPosition()),(0,w.PZ)(Ke.getEndPosition()),(0,w.oR)(me.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(q,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(q,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(R,q,me){const Xe=q,at=new O.xH(this.textModel,this.brackets);return(0,I.w)(at,R,Xe,me)}getBracketsInRange(R){const q=(0,w.Hg)(R.startLineNumber-1,R.startColumn-1),me=(0,w.Hg)(R.endLineNumber-1,R.endColumn-1),Ke=new Array,Xe=this.initialAstWithoutTokens||this.astWithTokens;return F(Xe,w.xl,Xe.length,q,me,Ke,0,new Map),Ke}getBracketPairsInRange(R,q){const me=new Array,Ke=(0,w.PZ)(R.getStartPosition()),Xe=(0,w.PZ)(R.getEndPosition()),at=this.initialAstWithoutTokens||this.astWithTokens,tn=new B(me,q,this.textModel);return z(at,w.xl,at.length,Ke,Xe,tn,0,new Map),me}getFirstBracketAfter(R){const q=this.initialAstWithoutTokens||this.astWithTokens;return K(q,w.xl,q.length,(0,w.PZ)(R))}getFirstBracketBefore(R){const q=this.initialAstWithoutTokens||this.astWithTokens;return U(q,w.xl,q.length,(0,w.PZ)(R))}}function U(Ft,R,q,me){if(4===Ft.kind||2===Ft.kind){const Ke=[];for(const Xe of Ft.children)q=(0,w.Ii)(R,Xe.length),Ke.push({nodeOffsetStart:R,nodeOffsetEnd:q}),R=q;for(let Xe=Ke.length-1;Xe>=0;Xe--){const{nodeOffsetStart:at,nodeOffsetEnd:tn}=Ke[Xe];if((0,w.VR)(at,me)){const Jt=U(Ft.children[Xe],at,tn,me);if(Jt)return Jt}}return null}if(3===Ft.kind)return null;if(1===Ft.kind){const Ke=(0,w.Qw)(R,q);return{bracketInfo:Ft.bracketInfo,range:Ke}}return null}function K(Ft,R,q,me){if(4===Ft.kind||2===Ft.kind){for(const Ke of Ft.children){if(q=(0,w.Ii)(R,Ke.length),(0,w.VR)(me,q)){const Xe=K(Ke,R,q,me);if(Xe)return Xe}R=q}return null}if(3===Ft.kind)return null;if(1===Ft.kind){const Ke=(0,w.Qw)(R,q);return{bracketInfo:Ft.bracketInfo,range:Ke}}return null}function F(Ft,R,q,me,Ke,Xe,at,tn){if(!(at>200))if(4===Ft.kind)for(const Jt of Ft.children)q=(0,w.Ii)(R,Jt.length),(0,w.By)(R,Ke)&&(0,w.Zq)(q,me)&&F(Jt,R,q,me,Ke,Xe,at,tn),R=q;else if(2===Ft.kind){let Jt=0;if(tn){let Sn=tn.get(Ft.openingBracket.text);void 0===Sn&&(Sn=0),Jt=Sn,Sn++,tn.set(Ft.openingBracket.text,Sn)}if(q=(0,w.Ii)(R,Ft.openingBracket.length),(0,w.By)(R,Ke)&&(0,w.Zq)(q,me)){const Tn=(0,w.Qw)(R,q);Xe.push(new u(Tn,at,Jt,!Ft.closingBracket))}if(R=q,Ft.child){const Sn=Ft.child;q=(0,w.Ii)(R,Sn.length),(0,w.By)(R,Ke)&&(0,w.Zq)(q,me)&&F(Sn,R,q,me,Ke,Xe,at+1,tn),R=q}if(Ft.closingBracket){if(q=(0,w.Ii)(R,Ft.closingBracket.length),(0,w.By)(R,Ke)&&(0,w.Zq)(q,me)){const Tn=(0,w.Qw)(R,q);Xe.push(new u(Tn,at,Jt,!1))}R=q}tn?.set(Ft.openingBracket.text,Jt)}else if(3===Ft.kind){const Jt=(0,w.Qw)(R,q);Xe.push(new u(Jt,at-1,0,!0))}else if(1===Ft.kind){const Jt=(0,w.Qw)(R,q);Xe.push(new u(Jt,at-1,0,!1))}}class B{constructor(R,q,me){this.result=R,this.includeMinIndentation=q,this.textModel=me}}function z(Ft,R,q,me,Ke,Xe,at,tn){var Jt;if(!(at>200))if(2===Ft.kind){let Sn=0;if(tn){let Kn=tn.get(Ft.openingBracket.text);void 0===Kn&&(Kn=0),Sn=Kn,Kn++,tn.set(Ft.openingBracket.text,Kn)}const Tn=(0,w.Ii)(R,Ft.openingBracket.length);let Bn=-1;if(Xe.includeMinIndentation&&(Bn=Ft.computeMinIndentation(R,Xe.textModel)),Xe.result.push(new b((0,w.Qw)(R,q),(0,w.Qw)(R,Tn),Ft.closingBracket?(0,w.Qw)((0,w.Ii)(Tn,(null===(Jt=Ft.child)||void 0===Jt?void 0:Jt.length)||w.xl),q):void 0,at,Sn,Ft,Bn)),R=Tn,Ft.child){const Kn=Ft.child;q=(0,w.Ii)(R,Kn.length),(0,w.By)(R,Ke)&&(0,w.Zq)(q,me)&&z(Kn,R,q,me,Ke,Xe,at+1,tn)}tn?.set(Ft.openingBracket.text,Sn)}else{let Sn=R;for(const Tn of Ft.children){const Bn=Sn;Sn=(0,w.Ii)(Sn,Tn.length),(0,w.By)(Bn,Ke)&&(0,w.By)(me,Sn)&&z(Tn,Bn,Sn,me,Ke,Xe,at,tn)}}}var $=e(32309),j=e(64557);class ne extends v.JT{constructor(R,q){super(),this.textModel=R,this.languageConfigurationService=q,this.bracketPairsTree=this._register(new v.XK),this.onDidChangeEmitter=new S.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(me=>{var Ke;(!me.languageId||(null===(Ke=this.bracketPairsTree.value)||void 0===Ke?void 0:Ke.object.didLanguageChange(me.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(R){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(R){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(R){var q;null===(q=this.bracketPairsTree.value)||void 0===q||q.object.handleContentChanged(R)}handleDidChangeBackgroundTokenizationState(){var R;null===(R=this.bracketPairsTree.value)||void 0===R||R.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(R){var q;null===(q=this.bracketPairsTree.value)||void 0===q||q.object.handleDidChangeTokens(R)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const R=new v.SL;this.bracketPairsTree.value=function N(Ft,R){return{object:Ft,dispose:()=>R?.dispose()}}(R.add(new H(this.textModel,q=>this.languageConfigurationService.getLanguageConfiguration(q))),R),R.add(this.bracketPairsTree.value.object.onDidChange(q=>this.onDidChangeEmitter.fire(q))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(R){var q;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getBracketPairsInRange(R,!1))||[]}getBracketPairsInRangeWithMinIndentation(R){var q;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getBracketPairsInRange(R,!0))||[]}getBracketsInRange(R){var q;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getBracketsInRange(R))||[]}findMatchingBracketUp(R,q,me){const Ke=this.textModel.validatePosition(q),Xe=this.textModel.getLanguageIdAtPosition(Ke.lineNumber,Ke.column);if(this.canBuildAST){const at=this.languageConfigurationService.getLanguageConfiguration(Xe).bracketsNew.getClosingBracketInfo(R);if(!at)return null;const tn=(0,d.dF)(this.getBracketPairsInRange(s.e.fromPositions(q,q))||[],Jt=>at.closes(Jt.openingBracketInfo));return tn?tn.openingBracketRange:null}{const at=R.toLowerCase(),tn=this.languageConfigurationService.getLanguageConfiguration(Xe).brackets;if(!tn)return null;const Jt=tn.textIsBracket[at];return Jt?fe(this._findMatchingBracketUp(Jt,Ke,V(me))):null}}matchBracket(R,q){if(this.canBuildAST){const me=(0,d.jV)(this.getBracketPairsInRange(s.e.fromPositions(R,R)).filter(Ke=>void 0!==Ke.closingBracketRange&&(Ke.openingBracketRange.containsPosition(R)||Ke.closingBracketRange.containsPosition(R))),(0,d.tT)(Ke=>Ke.openingBracketRange.containsPosition(R)?Ke.openingBracketRange:Ke.closingBracketRange,s.e.compareRangesUsingStarts));return me?[me.openingBracketRange,me.closingBracketRange]:null}{const me=V(q);return this._matchBracket(this.textModel.validatePosition(R),me)}}_establishBracketSearchOffsets(R,q,me,Ke){const Xe=q.getCount(),at=q.getLanguageId(Ke);let tn=Math.max(0,R.column-1-me.maxBracketLength);for(let Sn=Ke-1;Sn>=0;Sn--){const Tn=q.getEndOffset(Sn);if(Tn<=tn)break;if((0,$.Bu)(q.getStandardTokenType(Sn))||q.getLanguageId(Sn)!==at){tn=Tn;break}}let Jt=Math.min(q.getLineContent().length,R.column-1+me.maxBracketLength);for(let Sn=Ke+1;Sn<Xe;Sn++){const Tn=q.getStartOffset(Sn);if(Tn>=Jt)break;if((0,$.Bu)(q.getStandardTokenType(Sn))||q.getLanguageId(Sn)!==at){Jt=Tn;break}}return{searchStartOffset:tn,searchEndOffset:Jt}}_matchBracket(R,q){const me=R.lineNumber,Ke=this.textModel.tokenization.getLineTokens(me),Xe=this.textModel.getLineContent(me),at=Ke.findTokenIndexAtOffset(R.column-1);if(at<0)return null;const tn=this.languageConfigurationService.getLanguageConfiguration(Ke.getLanguageId(at)).brackets;if(tn&&!(0,$.Bu)(Ke.getStandardTokenType(at))){let{searchStartOffset:Jt,searchEndOffset:Sn}=this._establishBracketSearchOffsets(R,Ke,tn,at),Tn=null;for(;;){const Bn=j.Vr.findNextBracketInRange(tn.forwardRegex,me,Xe,Jt,Sn);if(!Bn)break;if(Bn.startColumn<=R.column&&R.column<=Bn.endColumn){const Kn=Xe.substring(Bn.startColumn-1,Bn.endColumn-1).toLowerCase(),ti=this._matchFoundBracket(Bn,tn.textIsBracket[Kn],tn.textIsOpenBracket[Kn],q);if(ti){if(ti instanceof Z)return null;Tn=ti}}Jt=Bn.endColumn-1}if(Tn)return Tn}if(at>0&&Ke.getStartOffset(at)===R.column-1){const Jt=at-1,Sn=this.languageConfigurationService.getLanguageConfiguration(Ke.getLanguageId(Jt)).brackets;if(Sn&&!(0,$.Bu)(Ke.getStandardTokenType(Jt))){const{searchStartOffset:Tn,searchEndOffset:Bn}=this._establishBracketSearchOffsets(R,Ke,Sn,Jt),Kn=j.Vr.findPrevBracketInRange(Sn.reversedRegex,me,Xe,Tn,Bn);if(Kn&&Kn.startColumn<=R.column&&R.column<=Kn.endColumn){const ti=Xe.substring(Kn.startColumn-1,Kn.endColumn-1).toLowerCase(),fi=this._matchFoundBracket(Kn,Sn.textIsBracket[ti],Sn.textIsOpenBracket[ti],q);if(fi)return fi instanceof Z?null:fi}}}return null}_matchFoundBracket(R,q,me,Ke){if(!q)return null;const Xe=me?this._findMatchingBracketDown(q,R.getEndPosition(),Ke):this._findMatchingBracketUp(q,R.getStartPosition(),Ke);return Xe?Xe instanceof Z?Xe:[R,Xe]:null}_findMatchingBracketUp(R,q,me){const Ke=R.languageId,Xe=R.reversedRegex;let at=-1,tn=0;const Jt=(Sn,Tn,Bn,Kn)=>{for(;;){if(me&&++tn%100==0&&!me())return Z.INSTANCE;const ti=j.Vr.findPrevBracketInRange(Xe,Sn,Tn,Bn,Kn);if(!ti)break;const fi=Tn.substring(ti.startColumn-1,ti.endColumn-1).toLowerCase();if(R.isOpen(fi)?at++:R.isClose(fi)&&at--,0===at)return ti;Kn=ti.startColumn-1}return null};for(let Sn=q.lineNumber;Sn>=1;Sn--){const Tn=this.textModel.tokenization.getLineTokens(Sn),Bn=Tn.getCount(),Kn=this.textModel.getLineContent(Sn);let ti=Bn-1,fi=Kn.length,hi=Kn.length;Sn===q.lineNumber&&(ti=Tn.findTokenIndexAtOffset(q.column-1),fi=q.column-1,hi=q.column-1);let Ot=!0;for(;ti>=0;ti--){const te=Tn.getLanguageId(ti)===Ke&&!(0,$.Bu)(Tn.getStandardTokenType(ti));if(te)Ot?fi=Tn.getStartOffset(ti):(fi=Tn.getStartOffset(ti),hi=Tn.getEndOffset(ti));else if(Ot&&fi!==hi){const ge=Jt(Sn,Kn,fi,hi);if(ge)return ge}Ot=te}if(Ot&&fi!==hi){const te=Jt(Sn,Kn,fi,hi);if(te)return te}}return null}_findMatchingBracketDown(R,q,me){const Ke=R.languageId,Xe=R.forwardRegex;let at=1,tn=0;const Jt=(Tn,Bn,Kn,ti)=>{for(;;){if(me&&++tn%100==0&&!me())return Z.INSTANCE;const fi=j.Vr.findNextBracketInRange(Xe,Tn,Bn,Kn,ti);if(!fi)break;const hi=Bn.substring(fi.startColumn-1,fi.endColumn-1).toLowerCase();if(R.isOpen(hi)?at++:R.isClose(hi)&&at--,0===at)return fi;Kn=fi.endColumn-1}return null},Sn=this.textModel.getLineCount();for(let Tn=q.lineNumber;Tn<=Sn;Tn++){const Bn=this.textModel.tokenization.getLineTokens(Tn),Kn=Bn.getCount(),ti=this.textModel.getLineContent(Tn);let fi=0,hi=0,Ot=0;Tn===q.lineNumber&&(fi=Bn.findTokenIndexAtOffset(q.column-1),hi=q.column-1,Ot=q.column-1);let te=!0;for(;fi<Kn;fi++){const ge=Bn.getLanguageId(fi)===Ke&&!(0,$.Bu)(Bn.getStandardTokenType(fi));if(ge)te||(hi=Bn.getStartOffset(fi)),Ot=Bn.getEndOffset(fi);else if(te&&hi!==Ot){const it=Jt(Tn,ti,hi,Ot);if(it)return it}te=ge}if(te&&hi!==Ot){const ge=Jt(Tn,ti,hi,Ot);if(ge)return ge}}return null}findPrevBracket(R){var q;const me=this.textModel.validatePosition(R);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getFirstBracketBefore(me))||null;let Ke=null,Xe=null,at=null;for(let tn=me.lineNumber;tn>=1;tn--){const Jt=this.textModel.tokenization.getLineTokens(tn),Sn=Jt.getCount(),Tn=this.textModel.getLineContent(tn);let Bn=Sn-1,Kn=Tn.length,ti=Tn.length;if(tn===me.lineNumber){Bn=Jt.findTokenIndexAtOffset(me.column-1),Kn=me.column-1,ti=me.column-1;const hi=Jt.getLanguageId(Bn);Ke!==hi&&(Ke=hi,Xe=this.languageConfigurationService.getLanguageConfiguration(Ke).brackets,at=this.languageConfigurationService.getLanguageConfiguration(Ke).bracketsNew)}let fi=!0;for(;Bn>=0;Bn--){const hi=Jt.getLanguageId(Bn);if(Ke!==hi){if(Xe&&at&&fi&&Kn!==ti){const te=j.Vr.findPrevBracketInRange(Xe.reversedRegex,tn,Tn,Kn,ti);if(te)return this._toFoundBracket(at,te);fi=!1}Ke=hi,Xe=this.languageConfigurationService.getLanguageConfiguration(Ke).brackets,at=this.languageConfigurationService.getLanguageConfiguration(Ke).bracketsNew}const Ot=!!Xe&&!(0,$.Bu)(Jt.getStandardTokenType(Bn));if(Ot)fi?Kn=Jt.getStartOffset(Bn):(Kn=Jt.getStartOffset(Bn),ti=Jt.getEndOffset(Bn));else if(at&&Xe&&fi&&Kn!==ti){const te=j.Vr.findPrevBracketInRange(Xe.reversedRegex,tn,Tn,Kn,ti);if(te)return this._toFoundBracket(at,te)}fi=Ot}if(at&&Xe&&fi&&Kn!==ti){const hi=j.Vr.findPrevBracketInRange(Xe.reversedRegex,tn,Tn,Kn,ti);if(hi)return this._toFoundBracket(at,hi)}}return null}findNextBracket(R){var q;const me=this.textModel.validatePosition(R);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getFirstBracketAfter(me))||null;const Ke=this.textModel.getLineCount();let Xe=null,at=null,tn=null;for(let Jt=me.lineNumber;Jt<=Ke;Jt++){const Sn=this.textModel.tokenization.getLineTokens(Jt),Tn=Sn.getCount(),Bn=this.textModel.getLineContent(Jt);let Kn=0,ti=0,fi=0;if(Jt===me.lineNumber){Kn=Sn.findTokenIndexAtOffset(me.column-1),ti=me.column-1,fi=me.column-1;const Ot=Sn.getLanguageId(Kn);Xe!==Ot&&(Xe=Ot,at=this.languageConfigurationService.getLanguageConfiguration(Xe).brackets,tn=this.languageConfigurationService.getLanguageConfiguration(Xe).bracketsNew)}let hi=!0;for(;Kn<Tn;Kn++){const Ot=Sn.getLanguageId(Kn);if(Xe!==Ot){if(tn&&at&&hi&&ti!==fi){const ge=j.Vr.findNextBracketInRange(at.forwardRegex,Jt,Bn,ti,fi);if(ge)return this._toFoundBracket(tn,ge);hi=!1}Xe=Ot,at=this.languageConfigurationService.getLanguageConfiguration(Xe).brackets,tn=this.languageConfigurationService.getLanguageConfiguration(Xe).bracketsNew}const te=!!at&&!(0,$.Bu)(Sn.getStandardTokenType(Kn));if(te)hi||(ti=Sn.getStartOffset(Kn)),fi=Sn.getEndOffset(Kn);else if(tn&&at&&hi&&ti!==fi){const ge=j.Vr.findNextBracketInRange(at.forwardRegex,Jt,Bn,ti,fi);if(ge)return this._toFoundBracket(tn,ge)}hi=te}if(tn&&at&&hi&&ti!==fi){const Ot=j.Vr.findNextBracketInRange(at.forwardRegex,Jt,Bn,ti,fi);if(Ot)return this._toFoundBracket(tn,Ot)}}return null}findEnclosingBrackets(R,q){const me=this.textModel.validatePosition(R);if(this.canBuildAST){const ti=s.e.fromPositions(me),fi=(0,d.dF)(this.getBracketPairsInRange(s.e.fromPositions(me,me)),hi=>void 0!==hi.closingBracketRange&&hi.range.strictContainsRange(ti));return fi?[fi.openingBracketRange,fi.closingBracketRange]:null}const Ke=V(q),Xe=this.textModel.getLineCount(),at=new Map;let tn=[];const Jt=(ti,fi)=>{if(!at.has(ti)){const hi=[];for(let Ot=0,te=fi?fi.brackets.length:0;Ot<te;Ot++)hi[Ot]=0;at.set(ti,hi)}tn=at.get(ti)};let Sn=0;const Tn=(ti,fi,hi,Ot,te)=>{for(;;){if(Ke&&++Sn%100==0&&!Ke())return Z.INSTANCE;const ge=j.Vr.findNextBracketInRange(ti.forwardRegex,fi,hi,Ot,te);if(!ge)break;const it=hi.substring(ge.startColumn-1,ge.endColumn-1).toLowerCase(),Tt=ti.textIsBracket[it];if(Tt&&(Tt.isOpen(it)?tn[Tt.index]++:Tt.isClose(it)&&tn[Tt.index]--,-1===tn[Tt.index]))return this._matchFoundBracket(ge,Tt,!1,Ke);Ot=ge.endColumn-1}return null};let Bn=null,Kn=null;for(let ti=me.lineNumber;ti<=Xe;ti++){const fi=this.textModel.tokenization.getLineTokens(ti),hi=fi.getCount(),Ot=this.textModel.getLineContent(ti);let te=0,ge=0,it=0;if(ti===me.lineNumber){te=fi.findTokenIndexAtOffset(me.column-1),ge=me.column-1,it=me.column-1;const qt=fi.getLanguageId(te);Bn!==qt&&(Bn=qt,Kn=this.languageConfigurationService.getLanguageConfiguration(Bn).brackets,Jt(Bn,Kn))}let Tt=!0;for(;te<hi;te++){const qt=fi.getLanguageId(te);if(Bn!==qt){if(Kn&&Tt&&ge!==it){const ee=Tn(Kn,ti,Ot,ge,it);if(ee)return fe(ee);Tt=!1}Bn=qt,Kn=this.languageConfigurationService.getLanguageConfiguration(Bn).brackets,Jt(Bn,Kn)}const Mt=!!Kn&&!(0,$.Bu)(fi.getStandardTokenType(te));if(Mt)Tt||(ge=fi.getStartOffset(te)),it=fi.getEndOffset(te);else if(Kn&&Tt&&ge!==it){const ee=Tn(Kn,ti,Ot,ge,it);if(ee)return fe(ee)}Tt=Mt}if(Kn&&Tt&&ge!==it){const qt=Tn(Kn,ti,Ot,ge,it);if(qt)return fe(qt)}}return null}_toFoundBracket(R,q){if(!q)return null;let me=this.textModel.getValueInRange(q);me=me.toLowerCase();const Ke=R.getBracketInfo(me);return Ke?{range:q,bracketInfo:Ke}:null}}function V(Ft){if(typeof Ft>"u")return()=>!0;{const R=Date.now();return()=>Date.now()-R<=Ft}}class Z{constructor(){this._searchCanceledBrand=void 0}}function fe(Ft){return Ft instanceof Z?null:Ft}Z.INSTANCE=new Z;var M=e(43944),Se=e(40902);class Ee extends v.JT{constructor(R){super(),this.textModel=R,this.colorProvider=new Le,this.onDidChangeEmitter=new S.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=R.getOptions().bracketPairColorizationOptions,this._register(R.bracketPairs.onDidChange(q=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(R){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(R,q,me){if(void 0===q)return[];if(!this.colorizationOptions.enabled)return[];const Ke=new Array,Xe=this.textModel.bracketPairs.getBracketsInRange(R);for(const at of Xe)Ke.push({id:`bracket${at.range.toString()}-${at.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(at,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:at.range});return Ke}getAllDecorations(R,q){return void 0===R?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new s.e(1,1,this.textModel.getLineCount(),1),R,q):[]}}class Le{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(R,q){return R.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(q?R.nestingLevelOfEqualBracketType:R.nestingLevel)}getInlineClassNameOfLevel(R){return"bracket-highlighting-"+R%30}}(0,Se.Ic)((Ft,R)=>{const q=[M.zJ,M.Vs,M.CE,M.UP,M.r0,M.m1],me=new Le;R.addRule(`.monaco-editor .${me.unexpectedClosingBracketClassName} { color: ${Ft.getColor(M.ts)}; }`);const Ke=q.map(Xe=>Ft.getColor(Xe)).filter(Xe=>!!Xe).filter(Xe=>!Xe.isTransparent());for(let Xe=0;Xe<30;Xe++){const at=Ke[Xe%Ke.length];R.addRule(`.monaco-editor .${me.getInlineClassNameOfLevel(Xe)} { color: ${at}; }`)}});var Ne=e(83183),oe=e(29595);class we{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function xe(Ft,R,q,me,Ke){let Xe;for(Ke.spacesDiff=0,Ke.looksLikeAlignment=!1,Xe=0;Xe<R&&Xe<me&&Ft.charCodeAt(Xe)===q.charCodeAt(Xe);Xe++);let at=0,tn=0;for(let Kn=Xe;Kn<R;Kn++)32===Ft.charCodeAt(Kn)?at++:tn++;let Jt=0,Sn=0;for(let Kn=Xe;Kn<me;Kn++)32===q.charCodeAt(Kn)?Jt++:Sn++;if(at>0&&tn>0||Jt>0&&Sn>0)return;const Tn=Math.abs(tn-Sn),Bn=Math.abs(at-Jt);if(0===Tn)return Ke.spacesDiff=Bn,void(Bn>0&&0<=Jt-1&&Jt-1<Ft.length&&Jt<q.length&&32!==q.charCodeAt(Jt)&&32===Ft.charCodeAt(Jt-1)&&44===Ft.charCodeAt(Ft.length-1)&&(Ke.looksLikeAlignment=!0));Bn%Tn!=0||(Ke.spacesDiff=Bn/Tn)}function pe(Ft,R,q){const me=Math.min(Ft.getLineCount(),1e4);let Ke=0,Xe=0,at="",tn=0;const Jt=[2,4,6,8,3,5,7],Tn=[0,0,0,0,0,0,0,0,0],Bn=new we;for(let fi=1;fi<=me;fi++){const hi=Ft.getLineLength(fi),Ot=Ft.getLineContent(fi),te=hi<=65536;let ge=!1,it=0,Tt=0,qt=0;for(let ee=0,Ie=hi;ee<Ie;ee++){const rt=te?Ot.charCodeAt(ee):Ft.getLineCharCode(fi,ee);if(9===rt)qt++;else{if(32!==rt){ge=!0,it=ee;break}Tt++}}if(!ge||(qt>0?Ke++:Tt>1&&Xe++,xe(at,tn,Ot,it,Bn),Bn.looksLikeAlignment&&(!q||R!==Bn.spacesDiff)))continue;const Mt=Bn.spacesDiff;Mt<=8&&Tn[Mt]++,at=Ot,tn=it}let Kn=q;Ke!==Xe&&(Kn=Ke<Xe);let ti=R;if(Kn){let fi=Kn?0:.1*me;Jt.forEach(hi=>{const Ot=Tn[hi];Ot>fi&&(fi=Ot,ti=hi)}),4===ti&&Tn[4]>0&&Tn[2]>0&&Tn[2]>=Tn[4]/2&&(ti=2)}return{insertSpaces:Kn,tabSize:ti}}function Te(Ft){return(1&Ft.metadata)>>>0}function de(Ft,R){Ft.metadata=254&Ft.metadata|R<<0}function ke(Ft){return(2&Ft.metadata)>>>1==1}function ze(Ft,R){Ft.metadata=253&Ft.metadata|(R?1:0)<<1}function $e(Ft){return(4&Ft.metadata)>>>2==1}function ce(Ft,R){Ft.metadata=251&Ft.metadata|(R?1:0)<<2}function nt(Ft,R){Ft.metadata=231&Ft.metadata|R<<3}function Lt(Ft,R){Ft.metadata=223&Ft.metadata|(R?1:0)<<5}class Ze{constructor(R,q,me){this.metadata=0,this.parent=this,this.left=this,this.right=this,de(this,1),this.start=q,this.end=me,this.delta=0,this.maxEnd=me,this.id=R,this.ownerId=0,this.options=null,ce(this,!1),nt(this,1),Lt(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=q,this.cachedAbsoluteEnd=me,this.range=null,ze(this,!1)}reset(R,q,me,Ke){this.start=q,this.end=me,this.maxEnd=me,this.cachedVersionId=R,this.cachedAbsoluteStart=q,this.cachedAbsoluteEnd=me,this.range=Ke}setOptions(R){this.options=R;const q=this.options.className;ce(this,"squiggly-error"===q||"squiggly-warning"===q||"squiggly-info"===q),nt(this,this.options.stickiness),Lt(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(R,q,me){this.cachedVersionId!==me&&(this.range=null),this.cachedVersionId=me,this.cachedAbsoluteStart=R,this.cachedAbsoluteEnd=q}detach(){this.parent=null,this.left=null,this.right=null}}const ae=new Ze(null,0,0);ae.parent=ae,ae.left=ae,ae.right=ae,de(ae,0);class _e{constructor(){this.root=ae,this.requestNormalizeDelta=!1}intervalSearch(R,q,me,Ke,Xe){return this.root===ae?[]:function Qe(Ft,R,q,me,Ke,Xe){let at=Ft.root,tn=0,Jt=0,Sn=0,Tn=0;const Bn=[];let Kn=0;for(;at!==ae;)if(ke(at))ze(at.left,!1),ze(at.right,!1),at===at.parent.right&&(tn-=at.parent.delta),at=at.parent;else{if(!ke(at.left)){if(Jt=tn+at.maxEnd,Jt<R){ze(at,!0);continue}if(at.left!==ae){at=at.left;continue}}if(Sn=tn+at.start,Sn>q)ze(at,!0);else{if(Tn=tn+at.end,Tn>=R){at.setCachedOffsets(Sn,Tn,Xe);let ti=!0;me&&at.ownerId&&at.ownerId!==me&&(ti=!1),Ke&&$e(at)&&(ti=!1),ti&&(Bn[Kn++]=at)}ze(at,!0),at.right===ae||ke(at.right)||(tn+=at.delta,at=at.right)}}return ze(Ft.root,!1),Bn}(this,R,q,me,Ke,Xe)}search(R,q,me){return this.root===ae?[]:function et(Ft,R,q,me){let Ke=Ft.root,Xe=0,at=0,tn=0;const Jt=[];let Sn=0;for(;Ke!==ae;){if(ke(Ke)){ze(Ke.left,!1),ze(Ke.right,!1),Ke===Ke.parent.right&&(Xe-=Ke.parent.delta),Ke=Ke.parent;continue}if(Ke.left!==ae&&!ke(Ke.left)){Ke=Ke.left;continue}at=Xe+Ke.start,tn=Xe+Ke.end,Ke.setCachedOffsets(at,tn,me);let Tn=!0;R&&Ke.ownerId&&Ke.ownerId!==R&&(Tn=!1),q&&$e(Ke)&&(Tn=!1),Tn&&(Jt[Sn++]=Ke),ze(Ke,!0),Ke.right===ae||ke(Ke.right)||(Xe+=Ke.delta,Ke=Ke.right)}return ze(Ft.root,!1),Jt}(this,R,q,me)}collectNodesFromOwner(R){return function dt(Ft,R){let q=Ft.root;const me=[];let Ke=0;for(;q!==ae;)ke(q)?(ze(q.left,!1),ze(q.right,!1),q=q.parent):q.left===ae||ke(q.left)?(q.ownerId===R&&(me[Ke++]=q),ze(q,!0),q.right===ae||ke(q.right)||(q=q.right)):q=q.left;return ze(Ft.root,!1),me}(this,R)}collectNodesPostOrder(){return function st(Ft){let R=Ft.root;const q=[];let me=0;for(;R!==ae;)ke(R)?(ze(R.left,!1),ze(R.right,!1),R=R.parent):R.left===ae||ke(R.left)?R.right===ae||ke(R.right)?(q[me++]=R,ze(R,!0)):R=R.right:R=R.left;return ze(Ft.root,!1),q}(this)}insert(R){tt(this,R),this._normalizeDeltaIfNecessary()}delete(R){mt(this,R),this._normalizeDeltaIfNecessary()}resolveNode(R,q){const me=R;let Ke=0;for(;R!==this.root;)R===R.parent.right&&(Ke+=R.parent.delta),R=R.parent;me.setCachedOffsets(me.start+Ke,me.end+Ke,q)}acceptReplace(R,q,me,Ke){const Xe=function ve(Ft,R,q){let me=Ft.root,Ke=0,Xe=0,at=0,tn=0;const Jt=[];let Sn=0;for(;me!==ae;)if(ke(me))ze(me.left,!1),ze(me.right,!1),me===me.parent.right&&(Ke-=me.parent.delta),me=me.parent;else{if(!ke(me.left)){if(Xe=Ke+me.maxEnd,Xe<R){ze(me,!0);continue}if(me.left!==ae){me=me.left;continue}}at=Ke+me.start,at>q?ze(me,!0):(tn=Ke+me.end,tn>=R&&(me.setCachedOffsets(at,tn,0),Jt[Sn++]=me),ze(me,!0),me.right===ae||ke(me.right)||(Ke+=me.delta,me=me.right))}return ze(Ft.root,!1),Jt}(this,R,R+q);for(let at=0,tn=Xe.length;at<tn;at++)mt(this,Xe[at]);this._normalizeDeltaIfNecessary(),function Ae(Ft,R,q,me){let Ke=Ft.root,Xe=0,at=0,tn=0;const Jt=me-(q-R);for(;Ke!==ae;)if(ke(Ke))ze(Ke.left,!1),ze(Ke.right,!1),Ke===Ke.parent.right&&(Xe-=Ke.parent.delta),Ut(Ke),Ke=Ke.parent;else{if(!ke(Ke.left)){if(at=Xe+Ke.maxEnd,at<R){ze(Ke,!0);continue}if(Ke.left!==ae){Ke=Ke.left;continue}}tn=Xe+Ke.start,tn>q?(Ke.start+=Jt,Ke.end+=Jt,Ke.delta+=Jt,(Ke.delta<-1073741824||Ke.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),ze(Ke,!0)):(ze(Ke,!0),Ke.right===ae||ke(Ke.right)||(Xe+=Ke.delta,Ke=Ke.right))}ze(Ft.root,!1)}(this,R,R+q,me),this._normalizeDeltaIfNecessary();for(let at=0,tn=Xe.length;at<tn;at++){const Jt=Xe[at];Jt.start=Jt.cachedAbsoluteStart,Jt.end=Jt.cachedAbsoluteEnd,Q(Jt,R,R+q,me,Ke),Jt.maxEnd=Jt.end,tt(this,Jt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,function he(Ft){let R=Ft.root,q=0;for(;R!==ae;)R.left===ae||ke(R.left)?R.right===ae||ke(R.right)?(R.start=q+R.start,R.end=q+R.end,R.delta=0,Ut(R),ze(R,!0),ze(R.left,!1),ze(R.right,!1),R===R.parent.right&&(q-=R.parent.delta),R=R.parent):(q+=R.delta,R=R.right):R=R.left;ze(Ft.root,!1)}(this))}}function le(Ft,R,q,me){return Ft<q||!(Ft>q||1===me)&&(2===me||R)}function Q(Ft,R,q,me,Ke){const Xe=function Ue(Ft){return(24&Ft.metadata)>>>3}(Ft),at=0===Xe||2===Xe,tn=1===Xe||2===Xe,Jt=q-R,Sn=me,Tn=Math.min(Jt,Sn),Bn=Ft.start;let Kn=!1;const ti=Ft.end;let fi=!1;R<=Bn&&ti<=q&&function Dt(Ft){return(32&Ft.metadata)>>>5==1}(Ft)&&(Ft.start=R,Kn=!0,Ft.end=R,fi=!0);{const Ot=Ke?1:Jt>0?2:0;!Kn&&le(Bn,at,R,Ot)&&(Kn=!0),!fi&&le(ti,tn,R,Ot)&&(fi=!0)}if(Tn>0&&!Ke){const Ot=Jt>Sn?2:0;!Kn&&le(Bn,at,R+Tn,Ot)&&(Kn=!0),!fi&&le(ti,tn,R+Tn,Ot)&&(fi=!0)}{const Ot=Ke?1:0;!Kn&&le(Bn,at,q,Ot)&&(Ft.start=R+Sn,Kn=!0),!fi&&le(ti,tn,q,Ot)&&(Ft.end=R+Sn,fi=!0)}const hi=Sn-Jt;Kn||(Ft.start=Math.max(0,Bn+hi)),fi||(Ft.end=Math.max(0,ti+hi)),Ft.start>Ft.end&&(Ft.end=Ft.start)}function tt(Ft,R){if(Ft.root===ae)return R.parent=ae,R.left=ae,R.right=ae,de(R,0),Ft.root=R,Ft.root;(function vt(Ft,R){let q=0,me=Ft.root;const Ke=R.start,Xe=R.end;for(;;)if(Dn(Ke,Xe,me.start+q,me.end+q)<0){if(me.left===ae){R.start-=q,R.end-=q,R.maxEnd-=q,me.left=R;break}me=me.left}else{if(me.right===ae){R.start-=q+me.delta,R.end-=q+me.delta,R.maxEnd-=q+me.delta,me.right=R;break}q+=me.delta,me=me.right}R.parent=me,R.left=ae,R.right=ae,de(R,1)})(Ft,R),hn(R.parent);let q=R;for(;q!==Ft.root&&1===Te(q.parent);)if(q.parent===q.parent.parent.left){const me=q.parent.parent.right;1===Te(me)?(de(q.parent,0),de(me,0),de(q.parent.parent,1),q=q.parent.parent):(q===q.parent.right&&(q=q.parent,Bt(Ft,q)),de(q.parent,0),de(q.parent.parent,1),Ge(Ft,q.parent.parent))}else{const me=q.parent.parent.left;1===Te(me)?(de(q.parent,0),de(me,0),de(q.parent.parent,1),q=q.parent.parent):(q===q.parent.left&&(q=q.parent,Ge(Ft,q)),de(q.parent,0),de(q.parent.parent,1),Bt(Ft,q.parent.parent))}return de(Ft.root,0),R}function mt(Ft,R){let q,me;if(R.left===ae?(q=R.right,me=R,q.delta+=R.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),q.start+=R.delta,q.end+=R.delta):R.right===ae?(q=R.left,me=R):(me=function _t(Ft){for(;Ft.left!==ae;)Ft=Ft.left;return Ft}(R.right),q=me.right,q.start+=me.delta,q.end+=me.delta,q.delta+=me.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),me.start+=R.delta,me.end+=R.delta,me.delta=R.delta,(me.delta<-1073741824||me.delta>1073741824)&&(Ft.requestNormalizeDelta=!0)),me===Ft.root)return Ft.root=q,de(q,0),R.detach(),Kt(),Ut(q),void(Ft.root.parent=ae);const Ke=1===Te(me);if(me===me.parent.left?me.parent.left=q:me.parent.right=q,me===R?q.parent=me.parent:(q.parent=me.parent===R?me:me.parent,me.left=R.left,me.right=R.right,me.parent=R.parent,de(me,Te(R)),R===Ft.root?Ft.root=me:R===R.parent.left?R.parent.left=me:R.parent.right=me,me.left!==ae&&(me.left.parent=me),me.right!==ae&&(me.right.parent=me)),R.detach(),Ke)return hn(q.parent),me!==R&&(hn(me),hn(me.parent)),void Kt();let Xe;for(hn(q),hn(q.parent),me!==R&&(hn(me),hn(me.parent));q!==Ft.root&&0===Te(q);)q===q.parent.left?(Xe=q.parent.right,1===Te(Xe)&&(de(Xe,0),de(q.parent,1),Bt(Ft,q.parent),Xe=q.parent.right),0===Te(Xe.left)&&0===Te(Xe.right)?(de(Xe,1),q=q.parent):(0===Te(Xe.right)&&(de(Xe.left,0),de(Xe,1),Ge(Ft,Xe),Xe=q.parent.right),de(Xe,Te(q.parent)),de(q.parent,0),de(Xe.right,0),Bt(Ft,q.parent),q=Ft.root)):(Xe=q.parent.left,1===Te(Xe)&&(de(Xe,0),de(q.parent,1),Ge(Ft,q.parent),Xe=q.parent.left),0===Te(Xe.left)&&0===Te(Xe.right)?(de(Xe,1),q=q.parent):(0===Te(Xe.left)&&(de(Xe.right,0),de(Xe,1),Bt(Ft,Xe),Xe=q.parent.left),de(Xe,Te(q.parent)),de(q.parent,0),de(Xe.left,0),Ge(Ft,q.parent),q=Ft.root));de(q,0),Kt()}function Kt(){ae.parent=ae,ae.delta=0,ae.start=0,ae.end=0}function Bt(Ft,R){const q=R.right;q.delta+=R.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),q.start+=R.delta,q.end+=R.delta,R.right=q.left,q.left!==ae&&(q.left.parent=R),q.parent=R.parent,R.parent===ae?Ft.root=q:R===R.parent.left?R.parent.left=q:R.parent.right=q,q.left=R,R.parent=q,Ut(R),Ut(q)}function Ge(Ft,R){const q=R.left;R.delta-=q.delta,(R.delta<-1073741824||R.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),R.start-=q.delta,R.end-=q.delta,R.left=q.right,q.right!==ae&&(q.right.parent=R),q.parent=R.parent,R.parent===ae?Ft.root=q:R===R.parent.right?R.parent.right=q:R.parent.left=q,q.right=R,R.parent=q,Ut(R),Ut(q)}function ut(Ft){let R=Ft.end;if(Ft.left!==ae){const q=Ft.left.maxEnd;q>R&&(R=q)}if(Ft.right!==ae){const q=Ft.right.maxEnd+Ft.delta;q>R&&(R=q)}return R}function Ut(Ft){Ft.maxEnd=ut(Ft)}function hn(Ft){for(;Ft!==ae;){const R=ut(Ft);if(Ft.maxEnd===R)return;Ft.maxEnd=R,Ft=Ft.parent}}function Dn(Ft,R,q,me){return Ft===q?R-me:Ft-q}class wt{constructor(R,q){this.piece=R,this.color=q,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==je)return ye(this.right);let R=this;for(;R.parent!==je&&R.parent.left!==R;)R=R.parent;return R.parent===je?je:R.parent}prev(){if(this.left!==je)return Me(this.left);let R=this;for(;R.parent!==je&&R.parent.right!==R;)R=R.parent;return R.parent===je?je:R.parent}detach(){this.parent=null,this.left=null,this.right=null}}const je=new wt(null,0);function ye(Ft){for(;Ft.left!==je;)Ft=Ft.left;return Ft}function Me(Ft){for(;Ft.right!==je;)Ft=Ft.right;return Ft}function ue(Ft){return Ft===je?0:Ft.size_left+Ft.piece.length+ue(Ft.right)}function be(Ft){return Ft===je?0:Ft.lf_left+Ft.piece.lineFeedCnt+be(Ft.right)}function qe(){je.parent=je}function Fe(Ft,R){const q=R.right;q.size_left+=R.size_left+(R.piece?R.piece.length:0),q.lf_left+=R.lf_left+(R.piece?R.piece.lineFeedCnt:0),R.right=q.left,q.left!==je&&(q.left.parent=R),q.parent=R.parent,R.parent===je?Ft.root=q:R.parent.left===R?R.parent.left=q:R.parent.right=q,q.left=R,R.parent=q}function ot(Ft,R){const q=R.left;R.left=q.right,q.right!==je&&(q.right.parent=R),q.parent=R.parent,R.size_left-=q.size_left+(q.piece?q.piece.length:0),R.lf_left-=q.lf_left+(q.piece?q.piece.lineFeedCnt:0),R.parent===je?Ft.root=q:R===R.parent.right?R.parent.right=q:R.parent.left=q,q.right=R,R.parent=q}function bt(Ft,R){let q,me;if(R.left===je?(me=R,q=me.right):R.right===je?(me=R,q=me.left):(me=ye(R.right),q=me.right),me===Ft.root)return Ft.root=q,q.color=0,R.detach(),qe(),void(Ft.root.parent=je);const Ke=1===me.color;if(me===me.parent.left?me.parent.left=q:me.parent.right=q,me===R?(q.parent=me.parent,Mn(Ft,q)):(q.parent=me.parent===R?me:me.parent,Mn(Ft,q),me.left=R.left,me.right=R.right,me.parent=R.parent,me.color=R.color,R===Ft.root?Ft.root=me:R===R.parent.left?R.parent.left=me:R.parent.right=me,me.left!==je&&(me.left.parent=me),me.right!==je&&(me.right.parent=me),me.size_left=R.size_left,me.lf_left=R.lf_left,Mn(Ft,me)),R.detach(),q.parent.left===q){const at=ue(q),tn=be(q);if(at!==q.parent.size_left||tn!==q.parent.lf_left){const Jt=at-q.parent.size_left,Sn=tn-q.parent.lf_left;q.parent.size_left=at,q.parent.lf_left=tn,vn(Ft,q.parent,Jt,Sn)}}if(Mn(Ft,q.parent),Ke)return void qe();let Xe;for(;q!==Ft.root&&0===q.color;)q===q.parent.left?(Xe=q.parent.right,1===Xe.color&&(Xe.color=0,q.parent.color=1,Fe(Ft,q.parent),Xe=q.parent.right),0===Xe.left.color&&0===Xe.right.color?(Xe.color=1,q=q.parent):(0===Xe.right.color&&(Xe.left.color=0,Xe.color=1,ot(Ft,Xe),Xe=q.parent.right),Xe.color=q.parent.color,q.parent.color=0,Xe.right.color=0,Fe(Ft,q.parent),q=Ft.root)):(Xe=q.parent.left,1===Xe.color&&(Xe.color=0,q.parent.color=1,ot(Ft,q.parent),Xe=q.parent.left),0===Xe.left.color&&0===Xe.right.color?(Xe.color=1,q=q.parent):(0===Xe.left.color&&(Xe.right.color=0,Xe.color=1,Fe(Ft,Xe),Xe=q.parent.left),Xe.color=q.parent.color,q.parent.color=0,Xe.left.color=0,ot(Ft,q.parent),q=Ft.root));q.color=0,qe()}function Ht(Ft,R){for(Mn(Ft,R);R!==Ft.root&&1===R.parent.color;)if(R.parent===R.parent.parent.left){const q=R.parent.parent.right;1===q.color?(R.parent.color=0,q.color=0,R.parent.parent.color=1,R=R.parent.parent):(R===R.parent.right&&Fe(Ft,R=R.parent),R.parent.color=0,R.parent.parent.color=1,ot(Ft,R.parent.parent))}else{const q=R.parent.parent.left;1===q.color?(R.parent.color=0,q.color=0,R.parent.parent.color=1,R=R.parent.parent):(R===R.parent.left&&ot(Ft,R=R.parent),R.parent.color=0,R.parent.parent.color=1,Fe(Ft,R.parent.parent))}Ft.root.color=0}function vn(Ft,R,q,me){for(;R!==Ft.root&&R!==je;)R.parent.left===R&&(R.parent.size_left+=q,R.parent.lf_left+=me),R=R.parent}function Mn(Ft,R){let q=0,me=0;if(R!==Ft.root){for(;R!==Ft.root&&R===R.parent.right;)R=R.parent;if(R!==Ft.root)for(q=ue((R=R.parent).left)-R.size_left,me=be(R.left)-R.lf_left,R.size_left+=q,R.lf_left+=me;R!==Ft.root&&(0!==q||0!==me);)R.parent.left===R&&(R.parent.size_left+=q,R.parent.lf_left+=me),R=R.parent}}je.parent=je,je.left=je,je.right=je,je.color=0;var Ct=e(56952);const fn=65535;function Vn(Ft){let R;return R=Ft[Ft.length-1]<65536?new Uint16Array(Ft.length):new Uint32Array(Ft.length),R.set(Ft,0),R}class yn{constructor(R,q,me,Ke,Xe){this.lineStarts=R,this.cr=q,this.lf=me,this.crlf=Ke,this.isBasicASCII=Xe}}function zn(Ft,R=!0){const q=[0];let me=1;for(let Ke=0,Xe=Ft.length;Ke<Xe;Ke++){const at=Ft.charCodeAt(Ke);13===at?Ke+1<Xe&&10===Ft.charCodeAt(Ke+1)?(q[me++]=Ke+2,Ke++):q[me++]=Ke+1:10===at&&(q[me++]=Ke+1)}return R?Vn(q):q}class oi{constructor(R,q,me,Ke,Xe){this.bufferIndex=R,this.start=q,this.end=me,this.lineFeedCnt=Ke,this.length=Xe}}class Li{constructor(R,q){this.buffer=R,this.lineStarts=q}}class so{constructor(R,q){this._pieces=[],this._tree=R,this._BOM=q,this._index=0,R.root!==je&&R.iterate(R.root,me=>(me!==je&&this._pieces.push(me.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class oo{constructor(R){this._limit=R,this._cache=[]}get(R){for(let q=this._cache.length-1;q>=0;q--){const me=this._cache[q];if(me.nodeStartOffset<=R&&me.nodeStartOffset+me.node.piece.length>=R)return me}return null}get2(R){for(let q=this._cache.length-1;q>=0;q--){const me=this._cache[q];if(me.nodeStartLineNumber&&me.nodeStartLineNumber<R&&me.nodeStartLineNumber+me.node.piece.lineFeedCnt>=R)return me}return null}set(R){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(R)}validate(R){let q=!1;const me=this._cache;for(let Ke=0;Ke<me.length;Ke++){const Xe=me[Ke];(null===Xe.node.parent||Xe.nodeStartOffset>=R)&&(me[Ke]=null,q=!0)}if(q){const Ke=[];for(const Xe of me)null!==Xe&&Ke.push(Xe);this._cache=Ke}}}class xo{constructor(R,q,me){this.create(R,q,me)}create(R,q,me){this._buffers=[new Li("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=je,this._lineCnt=1,this._length=0,this._EOL=q,this._EOLLength=q.length,this._EOLNormalized=me;let Ke=null;for(let Xe=0,at=R.length;Xe<at;Xe++)if(R[Xe].buffer.length>0){R[Xe].lineStarts||(R[Xe].lineStarts=zn(R[Xe].buffer));const tn=new oi(Xe+1,{line:0,column:0},{line:R[Xe].lineStarts.length-1,column:R[Xe].buffer.length-R[Xe].lineStarts[R[Xe].lineStarts.length-1]},R[Xe].lineStarts.length-1,R[Xe].buffer.length);this._buffers.push(R[Xe]),Ke=this.rbInsertRight(Ke,tn)}this._searchCache=new oo(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(R){const me=65535-Math.floor(21845),Ke=2*me;let Xe="",at=0;const tn=[];if(this.iterate(this.root,Jt=>{const Sn=this.getNodeContent(Jt),Tn=Sn.length;if(at<=me||at+Tn<Ke)return Xe+=Sn,at+=Tn,!0;const Bn=Xe.replace(/\r\n|\r|\n/g,R);return tn.push(new Li(Bn,zn(Bn))),Xe=Sn,at=Tn,!0}),at>0){const Jt=Xe.replace(/\r\n|\r|\n/g,R);tn.push(new Li(Jt,zn(Jt)))}this.create(tn,R,!0)}getEOL(){return this._EOL}setEOL(R){this._EOL=R,this._EOLLength=this._EOL.length,this.normalizeEOL(R)}createSnapshot(R){return new so(this,R)}getOffsetAt(R,q){let me=0,Ke=this.root;for(;Ke!==je;)if(Ke.left!==je&&Ke.lf_left+1>=R)Ke=Ke.left;else{if(Ke.lf_left+Ke.piece.lineFeedCnt+1>=R)return me+=Ke.size_left,me+(this.getAccumulatedValue(Ke,R-Ke.lf_left-2)+q-1);R-=Ke.lf_left+Ke.piece.lineFeedCnt,me+=Ke.size_left+Ke.piece.length,Ke=Ke.right}return me}getPositionAt(R){R=Math.floor(R),R=Math.max(0,R);let q=this.root,me=0;const Ke=R;for(;q!==je;)if(0!==q.size_left&&q.size_left>=R)q=q.left;else{if(q.size_left+q.piece.length>=R){const Xe=this.getIndexOf(q,R-q.size_left);if(me+=q.lf_left+Xe.index,0===Xe.index){const at=this.getOffsetAt(me+1,1);return new _.L(me+1,Ke-at+1)}return new _.L(me+1,Xe.remainder+1)}if(R-=q.size_left+q.piece.length,me+=q.lf_left+q.piece.lineFeedCnt,q.right===je){const Xe=this.getOffsetAt(me+1,1);return new _.L(me+1,Ke-R-Xe+1)}q=q.right}return new _.L(1,1)}getValueInRange(R,q){if(R.startLineNumber===R.endLineNumber&&R.startColumn===R.endColumn)return"";const me=this.nodeAt2(R.startLineNumber,R.startColumn),Ke=this.nodeAt2(R.endLineNumber,R.endColumn),Xe=this.getValueInRange2(me,Ke);return q?q===this._EOL&&this._EOLNormalized&&q===this.getEOL()&&this._EOLNormalized?Xe:Xe.replace(/\r\n|\r|\n/g,q):Xe}getValueInRange2(R,q){if(R.node===q.node){const tn=R.node,Jt=this._buffers[tn.piece.bufferIndex].buffer,Sn=this.offsetInBuffer(tn.piece.bufferIndex,tn.piece.start);return Jt.substring(Sn+R.remainder,Sn+q.remainder)}let me=R.node;const Ke=this._buffers[me.piece.bufferIndex].buffer,Xe=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);let at=Ke.substring(Xe+R.remainder,Xe+me.piece.length);for(me=me.next();me!==je;){const tn=this._buffers[me.piece.bufferIndex].buffer,Jt=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);if(me===q.node){at+=tn.substring(Jt,Jt+q.remainder);break}at+=tn.substr(Jt,me.piece.length),me=me.next()}return at}getLinesContent(){const R=[];let q=0,me="",Ke=!1;return this.iterate(this.root,Xe=>{if(Xe===je)return!0;const at=Xe.piece;let tn=at.length;if(0===tn)return!0;const Jt=this._buffers[at.bufferIndex].buffer,Sn=this._buffers[at.bufferIndex].lineStarts,Tn=at.start.line,Bn=at.end.line;let Kn=Sn[Tn]+at.start.column;if(Ke&&(10===Jt.charCodeAt(Kn)&&(Kn++,tn--),R[q++]=me,me="",Ke=!1,0===tn))return!0;if(Tn===Bn)return this._EOLNormalized||13!==Jt.charCodeAt(Kn+tn-1)?me+=Jt.substr(Kn,tn):(Ke=!0,me+=Jt.substr(Kn,tn-1)),!0;me+=this._EOLNormalized?Jt.substring(Kn,Math.max(Kn,Sn[Tn+1]-this._EOLLength)):Jt.substring(Kn,Sn[Tn+1]).replace(/(\r\n|\r|\n)$/,""),R[q++]=me;for(let ti=Tn+1;ti<Bn;ti++)me=this._EOLNormalized?Jt.substring(Sn[ti],Sn[ti+1]-this._EOLLength):Jt.substring(Sn[ti],Sn[ti+1]).replace(/(\r\n|\r|\n)$/,""),R[q++]=me;return this._EOLNormalized||13!==Jt.charCodeAt(Sn[Bn]+at.end.column-1)?me=Jt.substr(Sn[Bn],at.end.column):(Ke=!0,0===at.end.column?q--:me=Jt.substr(Sn[Bn],at.end.column-1)),!0}),Ke&&(R[q++]=me,me=""),R[q++]=me,R}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(R){return this._lastVisitedLine.lineNumber===R||(this._lastVisitedLine.lineNumber=R,this._lastVisitedLine.value=R===this._lineCnt?this.getLineRawContent(R):this._EOLNormalized?this.getLineRawContent(R,this._EOLLength):this.getLineRawContent(R).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(R){if(R.remainder===R.node.piece.length){const q=R.node.next();if(!q)return 0;const me=this._buffers[q.piece.bufferIndex],Ke=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);return me.buffer.charCodeAt(Ke)}{const q=this._buffers[R.node.piece.bufferIndex],Ke=this.offsetInBuffer(R.node.piece.bufferIndex,R.node.piece.start)+R.remainder;return q.buffer.charCodeAt(Ke)}}getLineCharCode(R,q){const me=this.nodeAt2(R,q+1);return this._getCharCode(me)}getLineLength(R){if(R===this.getLineCount()){const q=this.getOffsetAt(R,1);return this.getLength()-q}return this.getOffsetAt(R+1,1)-this.getOffsetAt(R,1)-this._EOLLength}findMatchesInNode(R,q,me,Ke,Xe,at,tn,Jt,Sn,Tn,Bn){const Kn=this._buffers[R.piece.bufferIndex],ti=this.offsetInBuffer(R.piece.bufferIndex,R.piece.start),fi=this.offsetInBuffer(R.piece.bufferIndex,Xe),hi=this.offsetInBuffer(R.piece.bufferIndex,at);let Ot;const te={line:0,column:0};let ge,it;q._wordSeparators?(ge=Kn.buffer.substring(fi,hi),it=Tt=>Tt+fi,q.reset(0)):(ge=Kn.buffer,it=Tt=>Tt,q.reset(fi));do{if(Ot=q.next(ge),Ot){if(it(Ot.index)>=hi)return Tn;this.positionInBuffer(R,it(Ot.index)-ti,te);const Tt=this.getLineFeedCnt(R.piece.bufferIndex,Xe,te),qt=te.line===Xe.line?te.column-Xe.column+Ke:te.column+1;if(Bn[Tn++]=(0,Ct.iE)(new s.e(me+Tt,qt,me+Tt,qt+Ot[0].length),Ot,Jt),it(Ot.index)+Ot[0].length>=hi||Tn>=Sn)return Tn}}while(Ot);return Tn}findMatchesLineByLine(R,q,me,Ke){const Xe=[];let at=0;const tn=new Ct.sz(q.wordSeparators,q.regex);let Jt=this.nodeAt2(R.startLineNumber,R.startColumn);if(null===Jt)return[];const Sn=this.nodeAt2(R.endLineNumber,R.endColumn);if(null===Sn)return[];let Tn=this.positionInBuffer(Jt.node,Jt.remainder);const Bn=this.positionInBuffer(Sn.node,Sn.remainder);if(Jt.node===Sn.node)return this.findMatchesInNode(Jt.node,tn,R.startLineNumber,R.startColumn,Tn,Bn,q,me,Ke,at,Xe),Xe;let Kn=R.startLineNumber,ti=Jt.node;for(;ti!==Sn.node;){const hi=this.getLineFeedCnt(ti.piece.bufferIndex,Tn,ti.piece.end);if(hi>=1){const te=this._buffers[ti.piece.bufferIndex].lineStarts,ge=this.offsetInBuffer(ti.piece.bufferIndex,ti.piece.start);if(at=this.findMatchesInNode(ti,tn,Kn,Kn===R.startLineNumber?R.startColumn:1,Tn,this.positionInBuffer(ti,te[Tn.line+hi]-ge),q,me,Ke,at,Xe),at>=Ke)return Xe;Kn+=hi}const Ot=Kn===R.startLineNumber?R.startColumn-1:0;if(Kn===R.endLineNumber){const te=this.getLineContent(Kn).substring(Ot,R.endColumn-1);return at=this._findMatchesInLine(q,tn,te,R.endLineNumber,Ot,at,Xe,me,Ke),Xe}if(at=this._findMatchesInLine(q,tn,this.getLineContent(Kn).substr(Ot),Kn,Ot,at,Xe,me,Ke),at>=Ke)return Xe;Kn++,Jt=this.nodeAt2(Kn,1),ti=Jt.node,Tn=this.positionInBuffer(Jt.node,Jt.remainder)}if(Kn===R.endLineNumber){const hi=Kn===R.startLineNumber?R.startColumn-1:0,Ot=this.getLineContent(Kn).substring(hi,R.endColumn-1);return at=this._findMatchesInLine(q,tn,Ot,R.endLineNumber,hi,at,Xe,me,Ke),Xe}return at=this.findMatchesInNode(Sn.node,tn,Kn,Kn===R.startLineNumber?R.startColumn:1,Tn,Bn,q,me,Ke,at,Xe),Xe}_findMatchesInLine(R,q,me,Ke,Xe,at,tn,Jt,Sn){const Tn=R.wordSeparators;if(!Jt&&R.simpleSearch){const Kn=R.simpleSearch,ti=Kn.length,fi=me.length;let hi=-ti;for(;-1!==(hi=me.indexOf(Kn,hi+ti));)if((!Tn||(0,Ct.cM)(Tn,me,fi,hi,ti))&&(tn[at++]=new p.tk(new s.e(Ke,hi+1+Xe,Ke,hi+1+ti+Xe),null),at>=Sn))return at;return at}let Bn;q.reset(0);do{if(Bn=q.next(me),Bn&&(tn[at++]=(0,Ct.iE)(new s.e(Ke,Bn.index+1+Xe,Ke,Bn.index+1+Bn[0].length+Xe),Bn,Jt),at>=Sn))return at}while(Bn);return at}insert(R,q,me=!1){if(this._EOLNormalized=this._EOLNormalized&&me,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==je){const{node:Ke,remainder:Xe,nodeStartOffset:at}=this.nodeAt(R),tn=Ke.piece,Jt=tn.bufferIndex,Sn=this.positionInBuffer(Ke,Xe);if(0===Ke.piece.bufferIndex&&tn.end.line===this._lastChangeBufferPos.line&&tn.end.column===this._lastChangeBufferPos.column&&at+tn.length===R&&q.length<fn)return this.appendToNode(Ke,q),void this.computeBufferMetadata();if(at===R)this.insertContentToNodeLeft(q,Ke),this._searchCache.validate(R);else if(at+Ke.piece.length>R){const Tn=[];let Bn=new oi(tn.bufferIndex,Sn,tn.end,this.getLineFeedCnt(tn.bufferIndex,Sn,tn.end),this.offsetInBuffer(Jt,tn.end)-this.offsetInBuffer(Jt,Sn));if(this.shouldCheckCRLF()&&this.endWithCR(q)&&10===this.nodeCharCodeAt(Ke,Xe)){const hi={line:Bn.start.line+1,column:0};Bn=new oi(Bn.bufferIndex,hi,Bn.end,this.getLineFeedCnt(Bn.bufferIndex,hi,Bn.end),Bn.length-1),q+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(q))if(13===this.nodeCharCodeAt(Ke,Xe-1)){const hi=this.positionInBuffer(Ke,Xe-1);this.deleteNodeTail(Ke,hi),q="\r"+q,0===Ke.piece.length&&Tn.push(Ke)}else this.deleteNodeTail(Ke,Sn);else this.deleteNodeTail(Ke,Sn);const Kn=this.createNewPieces(q);Bn.length>0&&this.rbInsertRight(Ke,Bn);let ti=Ke;for(let fi=0;fi<Kn.length;fi++)ti=this.rbInsertRight(ti,Kn[fi]);this.deleteNodes(Tn)}else this.insertContentToNodeRight(q,Ke)}else{const Ke=this.createNewPieces(q);let Xe=this.rbInsertLeft(null,Ke[0]);for(let at=1;at<Ke.length;at++)Xe=this.rbInsertRight(Xe,Ke[at])}this.computeBufferMetadata()}delete(R,q){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",q<=0||this.root===je)return;const me=this.nodeAt(R),Ke=this.nodeAt(R+q),Xe=me.node,at=Ke.node;if(Xe===at){const Kn=this.positionInBuffer(Xe,me.remainder),ti=this.positionInBuffer(Xe,Ke.remainder);if(me.nodeStartOffset===R){if(q===Xe.piece.length){const fi=Xe.next();return bt(this,Xe),this.validateCRLFWithPrevNode(fi),void this.computeBufferMetadata()}return this.deleteNodeHead(Xe,ti),this._searchCache.validate(R),this.validateCRLFWithPrevNode(Xe),void this.computeBufferMetadata()}return me.nodeStartOffset+Xe.piece.length===R+q?(this.deleteNodeTail(Xe,Kn),this.validateCRLFWithNextNode(Xe),void this.computeBufferMetadata()):(this.shrinkNode(Xe,Kn,ti),void this.computeBufferMetadata())}const tn=[],Jt=this.positionInBuffer(Xe,me.remainder);this.deleteNodeTail(Xe,Jt),this._searchCache.validate(R),0===Xe.piece.length&&tn.push(Xe);const Sn=this.positionInBuffer(at,Ke.remainder);this.deleteNodeHead(at,Sn),0===at.piece.length&&tn.push(at);for(let Kn=Xe.next();Kn!==je&&Kn!==at;Kn=Kn.next())tn.push(Kn);const Bn=0===Xe.piece.length?Xe.prev():Xe;this.deleteNodes(tn),this.validateCRLFWithNextNode(Bn),this.computeBufferMetadata()}insertContentToNodeLeft(R,q){const me=[];if(this.shouldCheckCRLF()&&this.endWithCR(R)&&this.startWithLF(q)){const at=q.piece,tn={line:at.start.line+1,column:0},Jt=new oi(at.bufferIndex,tn,at.end,this.getLineFeedCnt(at.bufferIndex,tn,at.end),at.length-1);q.piece=Jt,R+="\n",vn(this,q,-1,-1),0===q.piece.length&&me.push(q)}const Ke=this.createNewPieces(R);let Xe=this.rbInsertLeft(q,Ke[Ke.length-1]);for(let at=Ke.length-2;at>=0;at--)Xe=this.rbInsertLeft(Xe,Ke[at]);this.validateCRLFWithPrevNode(Xe),this.deleteNodes(me)}insertContentToNodeRight(R,q){this.adjustCarriageReturnFromNext(R,q)&&(R+="\n");const me=this.createNewPieces(R),Ke=this.rbInsertRight(q,me[0]);let Xe=Ke;for(let at=1;at<me.length;at++)Xe=this.rbInsertRight(Xe,me[at]);this.validateCRLFWithPrevNode(Ke)}positionInBuffer(R,q,me){const Ke=R.piece,at=this._buffers[R.piece.bufferIndex].lineStarts,Jt=at[Ke.start.line]+Ke.start.column+q;let Sn=Ke.start.line,Tn=Ke.end.line,Bn=0,Kn=0,ti=0;for(;Sn<=Tn&&(Bn=Sn+(Tn-Sn)/2|0,ti=at[Bn],Bn!==Tn);)if(Kn=at[Bn+1],Jt<ti)Tn=Bn-1;else{if(!(Jt>=Kn))break;Sn=Bn+1}return me?(me.line=Bn,me.column=Jt-ti,null):{line:Bn,column:Jt-ti}}getLineFeedCnt(R,q,me){if(0===me.column)return me.line-q.line;const Ke=this._buffers[R].lineStarts;if(me.line===Ke.length-1)return me.line-q.line;const at=Ke[me.line]+me.column;return Ke[me.line+1]>at+1?me.line-q.line:13===this._buffers[R].buffer.charCodeAt(at-1)?me.line-q.line+1:me.line-q.line}offsetInBuffer(R,q){return this._buffers[R].lineStarts[q.line]+q.column}deleteNodes(R){for(let q=0;q<R.length;q++)bt(this,R[q])}createNewPieces(R){if(R.length>fn){const Tn=[];for(;R.length>fn;){const Kn=R.charCodeAt(fn-1);let ti;13===Kn||Kn>=55296&&Kn<=56319?(ti=R.substring(0,fn-1),R=R.substring(fn-1)):(ti=R.substring(0,fn),R=R.substring(fn));const fi=zn(ti);Tn.push(new oi(this._buffers.length,{line:0,column:0},{line:fi.length-1,column:ti.length-fi[fi.length-1]},fi.length-1,ti.length)),this._buffers.push(new Li(ti,fi))}const Bn=zn(R);return Tn.push(new oi(this._buffers.length,{line:0,column:0},{line:Bn.length-1,column:R.length-Bn[Bn.length-1]},Bn.length-1,R.length)),this._buffers.push(new Li(R,Bn)),Tn}let q=this._buffers[0].buffer.length;const me=zn(R,!1);let Ke=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===q&&0!==q&&this.startWithLF(R)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Ke=this._lastChangeBufferPos;for(let Tn=0;Tn<me.length;Tn++)me[Tn]+=q+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(me.slice(1)),this._buffers[0].buffer+="_"+R,q+=1}else{if(0!==q)for(let Tn=0;Tn<me.length;Tn++)me[Tn]+=q;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(me.slice(1)),this._buffers[0].buffer+=R}const Xe=this._buffers[0].buffer.length,at=this._buffers[0].lineStarts.length-1,Jt={line:at,column:Xe-this._buffers[0].lineStarts[at]},Sn=new oi(0,Ke,Jt,this.getLineFeedCnt(0,Ke,Jt),Xe-q);return this._lastChangeBufferPos=Jt,[Sn]}getLineRawContent(R,q=0){let me=this.root,Ke="";const Xe=this._searchCache.get2(R);if(Xe){me=Xe.node;const at=this.getAccumulatedValue(me,R-Xe.nodeStartLineNumber-1),tn=this._buffers[me.piece.bufferIndex].buffer,Jt=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);if(Xe.nodeStartLineNumber+me.piece.lineFeedCnt!==R){const Sn=this.getAccumulatedValue(me,R-Xe.nodeStartLineNumber);return tn.substring(Jt+at,Jt+Sn-q)}Ke=tn.substring(Jt+at,Jt+me.piece.length)}else{let at=0;const tn=R;for(;me!==je;)if(me.left!==je&&me.lf_left>=R-1)me=me.left;else{if(me.lf_left+me.piece.lineFeedCnt>R-1){const Jt=this.getAccumulatedValue(me,R-me.lf_left-2),Sn=this.getAccumulatedValue(me,R-me.lf_left-1),Tn=this._buffers[me.piece.bufferIndex].buffer,Bn=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);return at+=me.size_left,this._searchCache.set({node:me,nodeStartOffset:at,nodeStartLineNumber:tn-(R-1-me.lf_left)}),Tn.substring(Bn+Jt,Bn+Sn-q)}if(me.lf_left+me.piece.lineFeedCnt===R-1){const Jt=this.getAccumulatedValue(me,R-me.lf_left-2),Sn=this._buffers[me.piece.bufferIndex].buffer,Tn=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);Ke=Sn.substring(Tn+Jt,Tn+me.piece.length);break}R-=me.lf_left+me.piece.lineFeedCnt,at+=me.size_left+me.piece.length,me=me.right}}for(me=me.next();me!==je;){const at=this._buffers[me.piece.bufferIndex].buffer;if(me.piece.lineFeedCnt>0){const tn=this.getAccumulatedValue(me,0),Jt=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);return Ke+=at.substring(Jt,Jt+tn-q),Ke}{const tn=this.offsetInBuffer(me.piece.bufferIndex,me.piece.start);Ke+=at.substr(tn,me.piece.length)}me=me.next()}return Ke}computeBufferMetadata(){let R=this.root,q=1,me=0;for(;R!==je;)q+=R.lf_left+R.piece.lineFeedCnt,me+=R.size_left+R.piece.length,R=R.right;this._lineCnt=q,this._length=me,this._searchCache.validate(this._length)}getIndexOf(R,q){const me=R.piece,Ke=this.positionInBuffer(R,q),Xe=Ke.line-me.start.line;if(this.offsetInBuffer(me.bufferIndex,me.end)-this.offsetInBuffer(me.bufferIndex,me.start)===q){const at=this.getLineFeedCnt(R.piece.bufferIndex,me.start,Ke);if(at!==Xe)return{index:at,remainder:0}}return{index:Xe,remainder:Ke.column}}getAccumulatedValue(R,q){if(q<0)return 0;const me=R.piece,Ke=this._buffers[me.bufferIndex].lineStarts,Xe=me.start.line+q+1;return Xe>me.end.line?Ke[me.end.line]+me.end.column-Ke[me.start.line]-me.start.column:Ke[Xe]-Ke[me.start.line]-me.start.column}deleteNodeTail(R,q){const me=R.piece,Ke=me.lineFeedCnt,Xe=this.offsetInBuffer(me.bufferIndex,me.end),at=q,tn=this.offsetInBuffer(me.bufferIndex,at),Jt=this.getLineFeedCnt(me.bufferIndex,me.start,at),Sn=Jt-Ke,Tn=tn-Xe;R.piece=new oi(me.bufferIndex,me.start,at,Jt,me.length+Tn),vn(this,R,Tn,Sn)}deleteNodeHead(R,q){const me=R.piece,Ke=me.lineFeedCnt,Xe=this.offsetInBuffer(me.bufferIndex,me.start),at=q,tn=this.getLineFeedCnt(me.bufferIndex,at,me.end),Sn=tn-Ke,Tn=Xe-this.offsetInBuffer(me.bufferIndex,at);R.piece=new oi(me.bufferIndex,at,me.end,tn,me.length+Tn),vn(this,R,Tn,Sn)}shrinkNode(R,q,me){const Ke=R.piece,Xe=Ke.start,at=Ke.end,tn=Ke.length,Jt=Ke.lineFeedCnt,Sn=q,Tn=this.getLineFeedCnt(Ke.bufferIndex,Ke.start,Sn),Bn=this.offsetInBuffer(Ke.bufferIndex,q)-this.offsetInBuffer(Ke.bufferIndex,Xe);R.piece=new oi(Ke.bufferIndex,Ke.start,Sn,Tn,Bn),vn(this,R,Bn-tn,Tn-Jt);const Kn=new oi(Ke.bufferIndex,me,at,this.getLineFeedCnt(Ke.bufferIndex,me,at),this.offsetInBuffer(Ke.bufferIndex,at)-this.offsetInBuffer(Ke.bufferIndex,me)),ti=this.rbInsertRight(R,Kn);this.validateCRLFWithPrevNode(ti)}appendToNode(R,q){this.adjustCarriageReturnFromNext(q,R)&&(q+="\n");const me=this.shouldCheckCRLF()&&this.startWithLF(q)&&this.endWithCR(R),Ke=this._buffers[0].buffer.length;this._buffers[0].buffer+=q;const Xe=zn(q,!1);for(let ti=0;ti<Xe.length;ti++)Xe[ti]+=Ke;if(me){const ti=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Ke-ti}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(Xe.slice(1));const at=this._buffers[0].lineStarts.length-1,Jt={line:at,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[at]},Sn=R.piece.length+q.length,Tn=R.piece.lineFeedCnt,Bn=this.getLineFeedCnt(0,R.piece.start,Jt),Kn=Bn-Tn;R.piece=new oi(R.piece.bufferIndex,R.piece.start,Jt,Bn,Sn),this._lastChangeBufferPos=Jt,vn(this,R,q.length,Kn)}nodeAt(R){let q=this.root;const me=this._searchCache.get(R);if(me)return{node:me.node,nodeStartOffset:me.nodeStartOffset,remainder:R-me.nodeStartOffset};let Ke=0;for(;q!==je;)if(q.size_left>R)q=q.left;else{if(q.size_left+q.piece.length>=R){Ke+=q.size_left;const Xe={node:q,remainder:R-q.size_left,nodeStartOffset:Ke};return this._searchCache.set(Xe),Xe}R-=q.size_left+q.piece.length,Ke+=q.size_left+q.piece.length,q=q.right}return null}nodeAt2(R,q){let me=this.root,Ke=0;for(;me!==je;)if(me.left!==je&&me.lf_left>=R-1)me=me.left;else{if(me.lf_left+me.piece.lineFeedCnt>R-1){const Xe=this.getAccumulatedValue(me,R-me.lf_left-2),at=this.getAccumulatedValue(me,R-me.lf_left-1);return Ke+=me.size_left,{node:me,remainder:Math.min(Xe+q-1,at),nodeStartOffset:Ke}}if(me.lf_left+me.piece.lineFeedCnt===R-1){const Xe=this.getAccumulatedValue(me,R-me.lf_left-2);if(Xe+q-1<=me.piece.length)return{node:me,remainder:Xe+q-1,nodeStartOffset:Ke};q-=me.piece.length-Xe;break}R-=me.lf_left+me.piece.lineFeedCnt,Ke+=me.size_left+me.piece.length,me=me.right}for(me=me.next();me!==je;){if(me.piece.lineFeedCnt>0){const Xe=this.getAccumulatedValue(me,0),at=this.offsetOfNode(me);return{node:me,remainder:Math.min(q-1,Xe),nodeStartOffset:at}}if(me.piece.length>=q-1)return{node:me,remainder:q-1,nodeStartOffset:this.offsetOfNode(me)};q-=me.piece.length,me=me.next()}return null}nodeCharCodeAt(R,q){if(R.piece.lineFeedCnt<1)return-1;const me=this._buffers[R.piece.bufferIndex],Ke=this.offsetInBuffer(R.piece.bufferIndex,R.piece.start)+q;return me.buffer.charCodeAt(Ke)}offsetOfNode(R){if(!R)return 0;let q=R.size_left;for(;R!==this.root;)R.parent.right===R&&(q+=R.parent.size_left+R.parent.piece.length),R=R.parent;return q}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(R){if("string"==typeof R)return 10===R.charCodeAt(0);if(R===je||0===R.piece.lineFeedCnt)return!1;const q=R.piece,me=this._buffers[q.bufferIndex].lineStarts,Ke=q.start.line,Xe=me[Ke]+q.start.column;return!(Ke===me.length-1||me[Ke+1]>Xe+1)&&10===this._buffers[q.bufferIndex].buffer.charCodeAt(Xe)}endWithCR(R){return"string"==typeof R?13===R.charCodeAt(R.length-1):R!==je&&0!==R.piece.lineFeedCnt&&13===this.nodeCharCodeAt(R,R.piece.length-1)}validateCRLFWithPrevNode(R){if(this.shouldCheckCRLF()&&this.startWithLF(R)){const q=R.prev();this.endWithCR(q)&&this.fixCRLF(q,R)}}validateCRLFWithNextNode(R){if(this.shouldCheckCRLF()&&this.endWithCR(R)){const q=R.next();this.startWithLF(q)&&this.fixCRLF(R,q)}}fixCRLF(R,q){const me=[],Ke=this._buffers[R.piece.bufferIndex].lineStarts;let Xe;Xe=0===R.piece.end.column?{line:R.piece.end.line-1,column:Ke[R.piece.end.line]-Ke[R.piece.end.line-1]-1}:{line:R.piece.end.line,column:R.piece.end.column-1},R.piece=new oi(R.piece.bufferIndex,R.piece.start,Xe,R.piece.lineFeedCnt-1,R.piece.length-1),vn(this,R,-1,-1),0===R.piece.length&&me.push(R);const Jt={line:q.piece.start.line+1,column:0},Sn=q.piece.length-1,Tn=this.getLineFeedCnt(q.piece.bufferIndex,Jt,q.piece.end);q.piece=new oi(q.piece.bufferIndex,Jt,q.piece.end,Tn,Sn),vn(this,q,-1,-1),0===q.piece.length&&me.push(q);const Bn=this.createNewPieces("\r\n");this.rbInsertRight(R,Bn[0]);for(let Kn=0;Kn<me.length;Kn++)bt(this,me[Kn])}adjustCarriageReturnFromNext(R,q){if(this.shouldCheckCRLF()&&this.endWithCR(R)){const me=q.next();if(this.startWithLF(me)){if(R+="\n",1===me.piece.length)bt(this,me);else{const Ke=me.piece,Xe={line:Ke.start.line+1,column:0},at=Ke.length-1,tn=this.getLineFeedCnt(Ke.bufferIndex,Xe,Ke.end);me.piece=new oi(Ke.bufferIndex,Xe,Ke.end,tn,at),vn(this,me,-1,-1)}return!0}}return!1}iterate(R,q){return R===je?q(je):this.iterate(R.left,q)&&q(R)&&this.iterate(R.right,q)}getNodeContent(R){if(R===je)return"";const q=this._buffers[R.piece.bufferIndex],me=R.piece,Ke=this.offsetInBuffer(me.bufferIndex,me.start),Xe=this.offsetInBuffer(me.bufferIndex,me.end);return q.buffer.substring(Ke,Xe)}getPieceContent(R){const q=this._buffers[R.bufferIndex],me=this.offsetInBuffer(R.bufferIndex,R.start),Ke=this.offsetInBuffer(R.bufferIndex,R.end);return q.buffer.substring(me,Ke)}rbInsertRight(R,q){const me=new wt(q,1);if(me.left=je,me.right=je,me.parent=je,me.size_left=0,me.lf_left=0,this.root===je)this.root=me,me.color=0;else if(R.right===je)R.right=me,me.parent=R;else{const Xe=ye(R.right);Xe.left=me,me.parent=Xe}return Ht(this,me),me}rbInsertLeft(R,q){const me=new wt(q,1);if(me.left=je,me.right=je,me.parent=je,me.size_left=0,me.lf_left=0,this.root===je)this.root=me,me.color=0;else if(R.left===je)R.left=me,me.parent=R;else{const Ke=Me(R.left);Ke.right=me,me.parent=Ke}return Ht(this,me),me}}var ro=e(66390);class _o extends v.JT{constructor(R,q,me,Ke,Xe,at,tn){super(),this._onDidChangeContent=this._register(new S.Q5),this._BOM=q,this._mightContainNonBasicASCII=!at,this._mightContainRTL=Ke,this._mightContainUnusualLineTerminators=Xe,this._pieceTree=new xo(R,me,tn)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(R){return this._pieceTree.createSnapshot(R?this._BOM:"")}getOffsetAt(R,q){return this._pieceTree.getOffsetAt(R,q)}getPositionAt(R){return this._pieceTree.getPositionAt(R)}getRangeAt(R,q){const me=R+q,Ke=this.getPositionAt(R),Xe=this.getPositionAt(me);return new s.e(Ke.lineNumber,Ke.column,Xe.lineNumber,Xe.column)}getValueInRange(R,q=0){if(R.isEmpty())return"";const me=this._getEndOfLine(q);return this._pieceTree.getValueInRange(R,me)}getValueLengthInRange(R,q=0){if(R.isEmpty())return 0;if(R.startLineNumber===R.endLineNumber)return R.endColumn-R.startColumn;const me=this.getOffsetAt(R.startLineNumber,R.startColumn);return this.getOffsetAt(R.endLineNumber,R.endColumn)-me}getCharacterCountInRange(R,q=0){if(this._mightContainNonBasicASCII){let me=0;const Ke=R.startLineNumber,Xe=R.endLineNumber;for(let at=Ke;at<=Xe;at++){const tn=this.getLineContent(at),Sn=at===Xe?R.endColumn-1:tn.length;for(let Tn=at===Ke?R.startColumn-1:0;Tn<Sn;Tn++)T.ZG(tn.charCodeAt(Tn))?(me+=1,Tn+=1):me+=1}return me+=this._getEndOfLine(q).length*(Xe-Ke),me}return this.getValueLengthInRange(R,q)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(R){return this._pieceTree.getLineContent(R)}getLineCharCode(R,q){return this._pieceTree.getLineCharCode(R,q)}getLineLength(R){return this._pieceTree.getLineLength(R)}getLineFirstNonWhitespaceColumn(R){const q=T.LC(this.getLineContent(R));return-1===q?0:q+1}getLineLastNonWhitespaceColumn(R){const q=T.ow(this.getLineContent(R));return-1===q?0:q+2}_getEndOfLine(R){switch(R){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(R){this._pieceTree.setEOL(R)}applyEdits(R,q,me){let Ke=this._mightContainRTL,Xe=this._mightContainUnusualLineTerminators,at=this._mightContainNonBasicASCII,tn=!0,Jt=[];for(let hi=0;hi<R.length;hi++){const Ot=R[hi];tn&&Ot._isTracked&&(tn=!1);const te=Ot.range;if(Ot.text){let Mt=!0;at||(Mt=!T.$i(Ot.text),at=Mt),!Ke&&Mt&&(Ke=T.Ut(Ot.text)),!Xe&&Mt&&(Xe=T.ab(Ot.text))}let ge="",it=0,Tt=0,qt=0;if(Ot.text){let Mt;[it,Tt,qt,Mt]=(0,E.Q)(Ot.text);const ee=this.getEOL();ge=0===Mt||Mt===("\r\n"===ee?2:1)?Ot.text:Ot.text.replace(/\r\n|\r|\n/g,ee)}Jt[hi]={sortIndex:hi,identifier:Ot.identifier||null,range:te,rangeOffset:this.getOffsetAt(te.startLineNumber,te.startColumn),rangeLength:this.getValueLengthInRange(te),text:ge,eolCount:it,firstLineLength:Tt,lastLineLength:qt,forceMoveMarkers:Boolean(Ot.forceMoveMarkers),isAutoWhitespaceEdit:Ot.isAutoWhitespaceEdit||!1}}Jt.sort(_o._sortOpsAscending);let Sn=!1;for(let hi=0,Ot=Jt.length-1;hi<Ot;hi++){const te=Jt[hi].range.getEndPosition(),ge=Jt[hi+1].range.getStartPosition();if(ge.isBeforeOrEqual(te)){if(ge.isBefore(te))throw new Error("Overlapping ranges are not allowed!");Sn=!0}}tn&&(Jt=this._reduceOperations(Jt));const Tn=me||q?_o._getInverseEditRanges(Jt):[],Bn=[];if(q)for(let hi=0;hi<Jt.length;hi++){const Ot=Jt[hi],te=Tn[hi];if(Ot.isAutoWhitespaceEdit&&Ot.range.isEmpty())for(let ge=te.startLineNumber;ge<=te.endLineNumber;ge++){let it="";ge===te.startLineNumber&&(it=this.getLineContent(Ot.range.startLineNumber),-1!==T.LC(it))||Bn.push({lineNumber:ge,oldContent:it})}}let Kn=null;if(me){let hi=0;Kn=[];for(let Ot=0;Ot<Jt.length;Ot++){const te=Jt[Ot],ge=Tn[Ot],it=this.getValueInRange(te.range),Tt=te.rangeOffset+hi;hi+=te.text.length-it.length,Kn[Ot]={sortIndex:te.sortIndex,identifier:te.identifier,range:ge,text:it,textChange:new ro.q(te.rangeOffset,it,Tt,te.text)}}Sn||Kn.sort((Ot,te)=>Ot.sortIndex-te.sortIndex)}this._mightContainRTL=Ke,this._mightContainUnusualLineTerminators=Xe,this._mightContainNonBasicASCII=at;const ti=this._doApplyEdits(Jt);let fi=null;if(q&&Bn.length>0){Bn.sort((hi,Ot)=>Ot.lineNumber-hi.lineNumber),fi=[];for(let hi=0,Ot=Bn.length;hi<Ot;hi++){const te=Bn[hi].lineNumber;if(hi>0&&Bn[hi-1].lineNumber===te)continue;const ge=Bn[hi].oldContent,it=this.getLineContent(te);0===it.length||it===ge||-1!==T.LC(it)||fi.push(te)}}return this._onDidChangeContent.fire(),new p.je(Kn,ti,fi)}_reduceOperations(R){return R.length<1e3?R:[this._toSingleEditOperation(R)]}_toSingleEditOperation(R){let q=!1;const me=R[0].range,Ke=R[R.length-1].range,Xe=new s.e(me.startLineNumber,me.startColumn,Ke.endLineNumber,Ke.endColumn);let at=me.startLineNumber,tn=me.startColumn;const Jt=[];for(let ti=0,fi=R.length;ti<fi;ti++){const hi=R[ti],Ot=hi.range;q=q||hi.forceMoveMarkers,Jt.push(this.getValueInRange(new s.e(at,tn,Ot.startLineNumber,Ot.startColumn))),hi.text.length>0&&Jt.push(hi.text),at=Ot.endLineNumber,tn=Ot.endColumn}const Sn=Jt.join(""),[Tn,Bn,Kn]=(0,E.Q)(Sn);return{sortIndex:0,identifier:R[0].identifier,range:Xe,rangeOffset:this.getOffsetAt(Xe.startLineNumber,Xe.startColumn),rangeLength:this.getValueLengthInRange(Xe,0),text:Sn,eolCount:Tn,firstLineLength:Bn,lastLineLength:Kn,forceMoveMarkers:q,isAutoWhitespaceEdit:!1}}_doApplyEdits(R){R.sort(_o._sortOpsDescending);const q=[];for(let me=0;me<R.length;me++){const Ke=R[me],Xe=Ke.range.startLineNumber,at=Ke.range.startColumn,tn=Ke.range.endLineNumber,Jt=Ke.range.endColumn;if(Xe===tn&&at===Jt&&0===Ke.text.length)continue;Ke.text?(this._pieceTree.delete(Ke.rangeOffset,Ke.rangeLength),this._pieceTree.insert(Ke.rangeOffset,Ke.text,!0)):this._pieceTree.delete(Ke.rangeOffset,Ke.rangeLength);const Sn=new s.e(Xe,at,tn,Jt);q.push({range:Sn,rangeLength:Ke.rangeLength,text:Ke.text,rangeOffset:Ke.rangeOffset,forceMoveMarkers:Ke.forceMoveMarkers})}return q}findMatchesLineByLine(R,q,me,Ke){return this._pieceTree.findMatchesLineByLine(R,q,me,Ke)}static _getInverseEditRanges(R){const q=[];let me=0,Ke=0,Xe=null;for(let at=0,tn=R.length;at<tn;at++){const Jt=R[at];let Sn,Tn,Bn;if(Xe?Xe.range.endLineNumber===Jt.range.startLineNumber?(Sn=me,Tn=Ke+(Jt.range.startColumn-Xe.range.endColumn)):(Sn=me+(Jt.range.startLineNumber-Xe.range.endLineNumber),Tn=Jt.range.startColumn):(Sn=Jt.range.startLineNumber,Tn=Jt.range.startColumn),Jt.text.length>0){const Kn=Jt.eolCount+1;Bn=1===Kn?new s.e(Sn,Tn,Sn,Tn+Jt.firstLineLength):new s.e(Sn,Tn,Sn+Kn-1,Jt.lastLineLength+1)}else Bn=new s.e(Sn,Tn,Sn,Tn);me=Bn.endLineNumber,Ke=Bn.endColumn,q.push(Bn),Xe=Jt}return q}static _sortOpsAscending(R,q){const me=s.e.compareRangesUsingEnds(R.range,q.range);return 0===me?R.sortIndex-q.sortIndex:me}static _sortOpsDescending(R,q){const me=s.e.compareRangesUsingEnds(R.range,q.range);return 0===me?q.sortIndex-R.sortIndex:-me}}class mo{constructor(R,q,me,Ke,Xe,at,tn,Jt,Sn){this._chunks=R,this._bom=q,this._cr=me,this._lf=Ke,this._crlf=Xe,this._containsRTL=at,this._containsUnusualLineTerminators=tn,this._isBasicASCII=Jt,this._normalizeEOL=Sn}_getEOL(R){const q=this._cr+this._lf+this._crlf;return 0===q?1===R?"\n":"\r\n":this._cr+this._crlf>q/2?"\r\n":"\n"}create(R){const q=this._getEOL(R),me=this._chunks;if(this._normalizeEOL&&("\r\n"===q&&(this._cr>0||this._lf>0)||"\n"===q&&(this._cr>0||this._crlf>0)))for(let Xe=0,at=me.length;Xe<at;Xe++){const tn=me[Xe].buffer.replace(/\r\n|\r|\n/g,q),Jt=zn(tn);me[Xe]=new Li(tn,Jt)}const Ke=new _o(me,this._bom,q,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Ke,disposable:Ke}}}class si{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(R){if(0===R.length)return;0===this.chunks.length&&T.uS(R)&&(this.BOM=T.c1,R=R.substr(1));const q=R.charCodeAt(R.length-1);13===q||q>=55296&&q<=56319?(this._acceptChunk1(R.substr(0,R.length-1),!1),this._hasPreviousChar=!0,this._previousChar=q):(this._acceptChunk1(R,!1),this._hasPreviousChar=!1,this._previousChar=q)}_acceptChunk1(R,q){!q&&0===R.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+R:R)}_acceptChunk2(R){const q=function li(Ft,R){Ft.length=0,Ft[0]=0;let q=1,me=0,Ke=0,Xe=0,at=!0;for(let Jt=0,Sn=R.length;Jt<Sn;Jt++){const Tn=R.charCodeAt(Jt);13===Tn?Jt+1<Sn&&10===R.charCodeAt(Jt+1)?(Xe++,Ft[q++]=Jt+2,Jt++):(me++,Ft[q++]=Jt+1):10===Tn?(Ke++,Ft[q++]=Jt+1):at&&9!==Tn&&(Tn<32||Tn>126)&&(at=!1)}const tn=new yn(Vn(Ft),me,Ke,Xe,at);return Ft.length=0,tn}(this._tmpLineStarts,R);this.chunks.push(new Li(R,q.lineStarts)),this.cr+=q.cr,this.lf+=q.lf,this.crlf+=q.crlf,this.isBasicASCII&&(this.isBasicASCII=q.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=T.Ut(R)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=T.ab(R))}finish(R=!0){return this._finish(),new mo(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,R)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const R=this.chunks[this.chunks.length-1];R.buffer+=String.fromCharCode(this._previousChar);const q=zn(R.buffer);R.lineStarts=q,13===this._previousChar&&this.cr++}}}var Qt=e(50894),pt=e(32368),ft=e(71513),jt=e(45337),en=e(88086),rn=e(631);class gn{constructor(R,q){this._startLineNumber=R,this._tokens=q}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(R){return this._tokens[R-this._startLineNumber]}appendLineTokens(R){this._tokens.push(R)}}class An{constructor(){this._tokens=[]}add(R,q){if(this._tokens.length>0){const me=this._tokens[this._tokens.length-1];if(me.endLineNumber+1===R)return void me.appendLineTokens(q)}this._tokens.push(new gn(R,[q]))}finalize(){return this._tokens}}var jn=e(48648),Qn=e(8841);class wi{constructor(R){this._default=R,this._store=[]}get(R){return R<this._store.length?this._store[R]:this._default}set(R,q){for(;R>=this._store.length;)this._store[this._store.length]=this._default;this._store[R]=q}delete(R,q){0===q||R>=this._store.length||this._store.splice(R,q)}insert(R,q){if(0===q||R>=this._store.length)return;const me=[];for(let Ke=0;Ke<q;Ke++)me[Ke]=this._default;this._store=d.Zv(this._store,R,me)}}class xi{constructor(R,q){this.tokenizationSupport=R,this.initialState=q,this._lineBeginState=new wi(null),this._lineNeedsTokenization=new wi(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(R){this._lineNeedsTokenization.set(R,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,R)}getBeginState(R){return this._lineBeginState.get(R)}setEndState(R,q,me){if(this._lineNeedsTokenization.set(q,!1),this._firstLineNeedsTokenization=q+1,q===R-1)return;const Ke=this._lineBeginState.get(q+1);if(null===Ke||!me.equals(Ke))return this._lineBeginState.set(q+1,me),void this.markMustBeTokenized(q+1);let Xe=q+1;for(;Xe<R&&!this._lineNeedsTokenization.get(Xe);)Xe++;this._firstLineNeedsTokenization=Xe}applyEdits(R,q){this.markMustBeTokenized(R.startLineNumber-1),this._lineBeginState.delete(R.startLineNumber,R.endLineNumber-R.startLineNumber),this._lineNeedsTokenization.delete(R.startLineNumber,R.endLineNumber-R.startLineNumber),this._lineBeginState.insert(R.startLineNumber,q),this._lineNeedsTokenization.insert(R.startLineNumber,q)}}class no extends v.JT{constructor(R,q,me){super(),this._textModel=R,this._tokenizationPart=q,this._languageIdCodec=me,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(jt.RW.onDidChange(Ke=>{const Xe=this._textModel.getLanguageId();-1!==Ke.changedLanguages.indexOf(Xe)&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(R){if(R.isFlush)this._resetTokenizationState();else{if(this._tokenizationStateStore)for(let q=0,me=R.changes.length;q<me;q++){const Ke=R.changes[q],[Xe]=(0,E.Q)(Ke.text);this._tokenizationStateStore.applyEdits(Ke.range,Xe)}this._beginBackgroundTokenization()}}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(R){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[R,q]=function Oi(Ft,R){if(Ft.isTooLargeForTokenization())return[null,null];const q=jt.RW.get(R.getLanguageId());if(!q)return[null,null];let me;try{me=q.getInitialState()}catch(Ke){return(0,l.dL)(Ke),[null,null]}return[q,me]}(this._textModel,this._tokenizationPart);this._tokenizationStateStore=R&&q?new xi(R,q):null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,jn.To)(R=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(R)}))}_backgroundTokenizeWithDeadline(R){const q=Date.now()+R.timeRemaining(),me=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<q?(0,Qn.fn)(me):this._beginBackgroundTokenization())};me()}_backgroundTokenizeForAtLeast1ms(){const R=this._textModel.getLineCount(),q=new An,me=rn.G.create(!1);do{if(me.elapsed()>1||this._tokenizeOneInvalidLine(q)>=R)break}while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(q.finalize(),this._isTokenizationComplete())}tokenizeViewport(R,q){const me=new An;this._tokenizeViewport(me,R,q),this._tokenizationPart.setTokens(me.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(R){const q=new An;this._updateTokensUntilLine(q,R),this._tokenizationPart.setTokens(q.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(R,q){if(!this._tokenizationStateStore)return 0;this.forceTokenization(R.lineNumber);const me=this._tokenizationStateStore.getBeginState(R.lineNumber-1);if(!me)return 0;const Ke=this._textModel.getLanguageId(),Xe=this._textModel.getLineContent(R.lineNumber),at=Xe.substring(0,R.column-1)+q+Xe.substring(R.column-1),tn=Ki(this._languageIdCodec,Ke,this._tokenizationStateStore.tokenizationSupport,at,!0,me),Jt=new ft.A(tn.tokens,at,this._languageIdCodec);if(0===Jt.getCount())return 0;const Sn=Jt.findTokenIndexAtOffset(R.column-1);return Jt.getStandardTokenType(Sn)}tokenizeLineWithEdit(R,q,me){const Ke=R.lineNumber,Xe=R.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(Ke);const at=this._tokenizationStateStore.getBeginState(Ke-1);if(!at)return null;const tn=this._textModel.getLineContent(Ke),Jt=tn.substring(0,Xe-1)+me+tn.substring(Xe-1+q),Sn=this._textModel.getLanguageIdAtPosition(Ke,0),Tn=Ki(this._languageIdCodec,Sn,this._tokenizationStateStore.tokenizationSupport,Jt,!0,at);return new ft.A(Tn.tokens,Jt,this._languageIdCodec)}isCheapToTokenize(R){if(!this._tokenizationStateStore)return!0;const q=this._tokenizationStateStore.invalidLineStartIndex+1;return!(R>q)&&(R<q||this._textModel.getLineLength(R)<2048)}_hasLinesToTokenize(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_isTokenizationComplete(){return!!this._tokenizationStateStore&&this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount()}_tokenizeOneInvalidLine(R){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const q=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(R,q),q}_updateTokensUntilLine(R,q){if(!this._tokenizationStateStore)return;const me=this._textModel.getLanguageId(),Ke=this._textModel.getLineCount(),Xe=q-1;for(let at=this._tokenizationStateStore.invalidLineStartIndex;at<=Xe;at++){const tn=this._textModel.getLineContent(at+1),Jt=this._tokenizationStateStore.getBeginState(at),Sn=Ki(this._languageIdCodec,me,this._tokenizationStateStore.tokenizationSupport,tn,!0,Jt);R.add(at+1,Sn.tokens),this._tokenizationStateStore.setEndState(Ke,at,Sn.endState),at=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(R,q,me){if(!this._tokenizationStateStore||me<=this._tokenizationStateStore.invalidLineStartIndex)return;if(q<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(R,me);let Ke=this._textModel.getLineFirstNonWhitespaceColumn(q);const Xe=[];let at=null;for(let Sn=q-1;Ke>1&&Sn>=1;Sn--){const Tn=this._textModel.getLineFirstNonWhitespaceColumn(Sn);if(0!==Tn&&Tn<Ke&&(Xe.push(this._textModel.getLineContent(Sn)),Ke=Tn,at=this._tokenizationStateStore.getBeginState(Sn-1),at))break}at||(at=this._tokenizationStateStore.initialState);const tn=this._textModel.getLanguageId();let Jt=at;for(let Sn=Xe.length-1;Sn>=0;Sn--)Jt=Ki(this._languageIdCodec,tn,this._tokenizationStateStore.tokenizationSupport,Xe[Sn],!1,Jt).endState;for(let Sn=q;Sn<=me;Sn++){const Tn=this._textModel.getLineContent(Sn),Bn=Ki(this._languageIdCodec,tn,this._tokenizationStateStore.tokenizationSupport,Tn,!0,Jt);R.add(Sn,Bn.tokens),this._tokenizationStateStore.markMustBeTokenized(Sn-1),Jt=Bn.endState}}}function Ki(Ft,R,q,me,Ke,Xe){let at=null;if(q)try{at=q.tokenizeEncoded(me,Ke,Xe.clone())}catch(tn){(0,l.dL)(tn)}return at||(at=(0,en.Dy)(Ft.encodeLanguageId(R),Xe)),ft.A.convertToEndOffset(at.tokens,me.length),at}const ji=new Uint32Array(0).buffer;class co{static deleteBeginning(R,q){return null===R||R===ji?R:co.delete(R,0,q)}static deleteEnding(R,q){if(null===R||R===ji)return R;const me=yo(R);return co.delete(R,q,me[me.length-2])}static delete(R,q,me){if(null===R||R===ji||q===me)return R;const Ke=yo(R),Xe=Ke.length>>>1;if(0===q&&Ke[Ke.length-2]===me)return ji;const at=ft.A.findIndexInTokensArray(Ke,q),tn=at>0?Ke[at-1<<1]:0;if(me<Ke[at<<1]){const ti=me-q;for(let fi=at;fi<Xe;fi++)Ke[fi<<1]-=ti;return R}let Sn,Tn;tn!==q?(Ke[at<<1]=q,Sn=at+1<<1,Tn=q):(Sn=at<<1,Tn=tn);const Bn=me-q;for(let ti=at+1;ti<Xe;ti++){const fi=Ke[ti<<1]-Bn;fi>Tn&&(Ke[Sn++]=fi,Ke[Sn++]=Ke[1+(ti<<1)],Tn=fi)}if(Sn===Ke.length)return R;const Kn=new Uint32Array(Sn);return Kn.set(Ke.subarray(0,Sn),0),Kn.buffer}static append(R,q){if(q===ji)return R;if(R===ji)return q;if(null===R)return R;if(null===q)return null;const me=yo(R),Ke=yo(q),Xe=Ke.length>>>1,at=new Uint32Array(me.length+Ke.length);at.set(me,0);let tn=me.length;const Jt=me[me.length-2];for(let Sn=0;Sn<Xe;Sn++)at[tn++]=Ke[Sn<<1]+Jt,at[tn++]=Ke[1+(Sn<<1)];return at.buffer}static insert(R,q,me){if(null===R||R===ji)return R;const Ke=yo(R),Xe=Ke.length>>>1;let at=ft.A.findIndexInTokensArray(Ke,q);at>0&&Ke[at-1<<1]===q&&at--;for(let tn=at;tn<Xe;tn++)Ke[tn<<1]+=me;return R}}function yo(Ft){return Ft instanceof Uint32Array?Ft:new Uint32Array(Ft)}var Go=e(1465);class Po{constructor(R){this._lineTokens=[],this._len=0,this._languageIdCodec=R}flush(){this._lineTokens=[],this._len=0}getTokens(R,q,me){let Ke=null;if(q<this._len&&(Ke=this._lineTokens[q]),null!==Ke&&Ke!==ji)return new ft.A(yo(Ke),me,this._languageIdCodec);const Xe=new Uint32Array(2);return Xe[0]=me.length,Xe[1]=wo(this._languageIdCodec.encodeLanguageId(R)),new ft.A(Xe,me,this._languageIdCodec)}static _massageTokens(R,q,me){const Ke=me?yo(me):null;if(0===q){let Xe=!1;if(Ke&&Ke.length>1&&(Xe=Go.N.getLanguageId(Ke[1])!==R),!Xe)return ji}if(!Ke||0===Ke.length){const Xe=new Uint32Array(2);return Xe[0]=q,Xe[1]=wo(R),Xe.buffer}return Ke[Ke.length-2]=q,0===Ke.byteOffset&&Ke.byteLength===Ke.buffer.byteLength?Ke.buffer:Ke}_ensureLine(R){for(;R>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(R,q){0!==q&&(R+q>this._len&&(q=this._len-R),this._lineTokens.splice(R,q),this._len-=q)}_insertLines(R,q){if(0===q)return;const me=[];for(let Ke=0;Ke<q;Ke++)me[Ke]=null;this._lineTokens=d.Zv(this._lineTokens,R,me),this._len+=q}setTokens(R,q,me,Ke,Xe){const at=Po._massageTokens(this._languageIdCodec.encodeLanguageId(R),me,Ke);this._ensureLine(q);const tn=this._lineTokens[q];return this._lineTokens[q]=at,!!Xe&&!Po._equals(tn,at)}static _equals(R,q){if(!R||!q)return!R&&!q;const me=yo(R),Ke=yo(q);if(me.length!==Ke.length)return!1;for(let Xe=0,at=me.length;Xe<at;Xe++)if(me[Xe]!==Ke[Xe])return!1;return!0}acceptEdit(R,q,me){this._acceptDeleteRange(R),this._acceptInsertText(new _.L(R.startLineNumber,R.startColumn),q,me)}_acceptDeleteRange(R){const q=R.startLineNumber-1;if(q>=this._len)return;if(R.startLineNumber===R.endLineNumber){if(R.startColumn===R.endColumn)return;return void(this._lineTokens[q]=co.delete(this._lineTokens[q],R.startColumn-1,R.endColumn-1))}this._lineTokens[q]=co.deleteEnding(this._lineTokens[q],R.startColumn-1);const me=R.endLineNumber-1;let Ke=null;me<this._len&&(Ke=co.deleteBeginning(this._lineTokens[me],R.endColumn-1)),this._lineTokens[q]=co.append(this._lineTokens[q],Ke),this._deleteLines(R.startLineNumber,R.endLineNumber-R.startLineNumber)}_acceptInsertText(R,q,me){if(0===q&&0===me)return;const Ke=R.lineNumber-1;if(!(Ke>=this._len)){if(0===q)return void(this._lineTokens[Ke]=co.insert(this._lineTokens[Ke],R.column-1,me));this._lineTokens[Ke]=co.deleteEnding(this._lineTokens[Ke],R.column-1),this._lineTokens[Ke]=co.insert(this._lineTokens[Ke],R.column-1,me),this._insertLines(R.lineNumber,q)}}}function wo(Ft){return(32768|Ft<<0|2<<24|1024)>>>0}class Do{constructor(R){this._pieces=[],this._isComplete=!1,this._languageIdCodec=R}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(R,q){this._pieces=R||[],this._isComplete=q}setPartial(R,q){let me=R;if(q.length>0){const Xe=q[0].getRange(),at=q[q.length-1].getRange();if(!Xe||!at)return R;me=R.plusRange(Xe).plusRange(at)}let Ke=null;for(let Xe=0,at=this._pieces.length;Xe<at;Xe++){const tn=this._pieces[Xe];if(tn.endLineNumber<me.startLineNumber)continue;if(tn.startLineNumber>me.endLineNumber){Ke=Ke||{index:Xe};break}if(tn.removeTokens(me),tn.isEmpty()){this._pieces.splice(Xe,1),Xe--,at--;continue}if(tn.endLineNumber<me.startLineNumber)continue;if(tn.startLineNumber>me.endLineNumber){Ke=Ke||{index:Xe};continue}const[Jt,Sn]=tn.split(me);Jt.isEmpty()?Ke=Ke||{index:Xe}:Sn.isEmpty()||(this._pieces.splice(Xe,1,Jt,Sn),Xe++,at++,Ke=Ke||{index:Xe})}return Ke=Ke||{index:this._pieces.length},q.length>0&&(this._pieces=d.Zv(this._pieces,Ke.index,q)),me}isComplete(){return this._isComplete}addSparseTokens(R,q){if(0===q.getLineContent().length)return q;const me=this._pieces;if(0===me.length)return q;const Xe=me[Do._findFirstPieceWithLine(me,R)].getLineTokens(R);if(!Xe)return q;const at=q.getCount(),tn=Xe.getCount();let Jt=0;const Sn=[];let Tn=0,Bn=0;const Kn=(ti,fi)=>{ti!==Bn&&(Bn=ti,Sn[Tn++]=ti,Sn[Tn++]=fi)};for(let ti=0;ti<tn;ti++){const fi=Xe.getStartCharacter(ti),hi=Xe.getEndCharacter(ti),Ot=Xe.getMetadata(ti),te=((1&Ot?2048:0)|(2&Ot?4096:0)|(4&Ot?8192:0)|(8&Ot?16384:0)|(16&Ot?16744448:0)|(32&Ot?4278190080:0))>>>0,ge=~te>>>0;for(;Jt<at&&q.getEndOffset(Jt)<=fi;)Kn(q.getEndOffset(Jt),q.getMetadata(Jt)),Jt++;for(Jt<at&&q.getStartOffset(Jt)<fi&&Kn(fi,q.getMetadata(Jt));Jt<at&&q.getEndOffset(Jt)<hi;)Kn(q.getEndOffset(Jt),q.getMetadata(Jt)&ge|Ot&te),Jt++;if(Jt<at)Kn(hi,q.getMetadata(Jt)&ge|Ot&te),q.getEndOffset(Jt)===hi&&Jt++;else{const it=Math.min(Math.max(0,Jt-1),at-1);Kn(hi,q.getMetadata(it)&ge|Ot&te)}}for(;Jt<at;)Kn(q.getEndOffset(Jt),q.getMetadata(Jt)),Jt++;return new ft.A(new Uint32Array(Sn),q.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(R,q){let me=0,Ke=R.length-1;for(;me<Ke;){let Xe=me+Math.floor((Ke-me)/2);if(R[Xe].endLineNumber<q)me=Xe+1;else{if(!(R[Xe].startLineNumber>q)){for(;Xe>me&&R[Xe-1].startLineNumber<=q&&q<=R[Xe-1].endLineNumber;)Xe--;return Xe}Ke=Xe-1}}return me}acceptEdit(R,q,me,Ke,Xe){for(const at of this._pieces)at.acceptEdit(R,q,me,Ke,Xe)}}class to extends pt.U{constructor(R,q,me,Ke,Xe){super(),this._languageService=R,this._languageConfigurationService=q,this._textModel=me,this.bracketPairsTextModelPart=Ke,this._languageId=Xe,this._onDidChangeLanguage=this._register(new S.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new S.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new S.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new S.Q5),this._tokens=new Po(this._languageService.languageIdCodec),this._semanticTokens=new Do(this._languageService.languageIdCodec),this._tokenization=new no(me,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(at=>{at.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(R,q,me,Ke,Xe){this._tokens.acceptEdit(R,me,Ke),this._semanticTokens.acceptEdit(R,me,Ke,Xe,q.length>0?q.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(R){this._tokenization.handleDidChangeContent(R)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(R){if(2===this._backgroundTokenizationState)return;const q=R?2:1;this._backgroundTokenizationState!==q&&(this._backgroundTokenizationState=q,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(R,q=!1){if(0!==R.length){const me=[];for(let Ke=0,Xe=R.length;Ke<Xe;Ke++){const at=R[Ke];let tn=0,Jt=0,Sn=!1;for(let Tn=at.startLineNumber;Tn<=at.endLineNumber;Tn++)Sn?(this._tokens.setTokens(this._languageId,Tn-1,this._textModel.getLineLength(Tn),at.getLineTokens(Tn),!1),Jt=Tn):this._tokens.setTokens(this._languageId,Tn-1,this._textModel.getLineLength(Tn),at.getLineTokens(Tn),!0)&&(Sn=!0,tn=Tn,Jt=Tn);Sn&&me.push({fromLineNumber:tn,toLineNumber:Jt})}me.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:me})}this.handleTokenizationProgress(q)}setSemanticTokens(R,q){this._semanticTokens.set(R,q),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==R,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(R,q){if(this.hasCompleteSemanticTokens())return;const me=this._textModel.validateRange(this._semanticTokens.setPartial(R,q));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:me.startLineNumber,toLineNumber:me.endLineNumber}]})}tokenizeViewport(R,q){R=Math.max(1,R),q=Math.min(this._textModel.getLineCount(),q),this._tokenization.tokenizeViewport(R,q)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(R){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(R),this._onDidChangeTokens.fire(R))}resetTokenization(){this._tokenization.reset()}forceTokenization(R){if(R<1||R>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(R)}isCheapToTokenize(R){return this._tokenization.isCheapToTokenize(R)}tokenizeIfCheap(R){this.isCheapToTokenize(R)&&this.forceTokenization(R)}getLineTokens(R){if(R<1||R>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(R)}_getLineTokens(R){const q=this._textModel.getLineContent(R),me=this._tokens.getTokens(this._languageId,R-1,q);return this._semanticTokens.addSparseTokens(R,me)}getTokenTypeIfInsertingCharacter(R,q,me){const Ke=this._textModel.validatePosition(new _.L(R,q));return this._tokenization.getTokenTypeIfInsertingCharacter(Ke,me)}tokenizeLineWithEdit(R,q,me){const Ke=this._textModel.validatePosition(R);return this._tokenization.tokenizeLineWithEdit(Ke,q,me)}getLanguageConfiguration(R){return this._languageConfigurationService.getLanguageConfiguration(R)}getWordAtPosition(R){this.assertNotDisposed();const q=this._textModel.validatePosition(R),me=this._textModel.getLineContent(q.lineNumber),Ke=this._getLineTokens(q.lineNumber),Xe=Ke.findTokenIndexAtOffset(q.column-1),[at,tn]=to._findLanguageBoundaries(Ke,Xe),Jt=(0,Qt.t2)(q.column,this.getLanguageConfiguration(Ke.getLanguageId(Xe)).getWordDefinition(),me.substring(at,tn),at);if(Jt&&Jt.startColumn<=R.column&&R.column<=Jt.endColumn)return Jt;if(Xe>0&&at===q.column-1){const[Sn,Tn]=to._findLanguageBoundaries(Ke,Xe-1),Bn=(0,Qt.t2)(q.column,this.getLanguageConfiguration(Ke.getLanguageId(Xe-1)).getWordDefinition(),me.substring(Sn,Tn),Sn);if(Bn&&Bn.startColumn<=R.column&&R.column<=Bn.endColumn)return Bn}return null}static _findLanguageBoundaries(R,q){const me=R.getLanguageId(q);let Ke=0;for(let at=q;at>=0&&R.getLanguageId(at)===me;at--)Ke=R.getStartOffset(at);let Xe=R.getLineContent().length;for(let at=q,tn=R.getCount();at<tn&&R.getLanguageId(at)===me;at++)Xe=R.getEndOffset(at);return[Ke,Xe]}getWordUntilPosition(R){const q=this.getWordAtPosition(R);return q?{word:q.word.substr(0,R.column-q.startColumn),startColumn:q.startColumn,endColumn:R.column}:{word:"",startColumn:R.column,endColumn:R.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(R,q){const me=this._textModel.validatePosition(new _.L(R,q)),Ke=this.getLineTokens(me.lineNumber);return Ke.getLanguageId(Ke.findTokenIndexAtOffset(me.column-1))}setLanguageId(R){if(this._languageId===R)return;const q={oldLanguage:this._languageId,newLanguage:R};this._languageId=R,this.bracketPairsTextModelPart.handleDidChangeLanguage(q),this._tokenization.handleDidChangeLanguage(q),this._onDidChangeLanguage.fire(q),this._onDidChangeLanguageConfiguration.fire({})}}var vo=e(54547),Oo=e(93633),Yt=function(Ft,R){return function(q,me){R(q,me,Ft)}};function On(Ft,R){let q;return q="string"==typeof Ft?function kt(Ft){const R=new si;return R.acceptChunk(Ft),R.finish()}(Ft):p.Hf(Ft)?function ln(Ft){const R=new si;let q;for(;"string"==typeof(q=Ft.read());)R.acceptChunk(q);return R.finish()}(Ft):Ft,q.create(R)}let Fn=0;class sn{constructor(R){this._source=R,this._eos=!1}read(){if(this._eos)return null;const R=[];let q=0,me=0;for(;;){const Ke=this._source.read();if(null===Ke)return this._eos=!0,0===q?null:R.join("");if(Ke.length>0&&(R[q++]=Ke,me+=Ke.length),me>=65536)return R.join("")}}}const nn=()=>{throw new Error("Invalid change accessor")};let xn=class Ad extends v.JT{constructor(R,q,me,Ke=null,Xe,at,tn){super(),this._undoRedoService=Xe,this._languageService=at,this._languageConfigurationService=tn,this._onWillDispose=this._register(new S.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new yi(Kn=>this.handleBeforeFireDecorationsChangedEvent(Kn))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new S.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new S.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new S.Q5),this._eventEmitter=this._register(new di),this._deltaDecorationCallCnt=0,Fn++,this.id="$model"+Fn,this.isForSimpleWidget=me.isForSimpleWidget,this._associatedResource=typeof Ke>"u"||null===Ke?C.o.parse("inmemory://model/"+Fn):Ke,this._attachedEditorCount=0;const{textBuffer:Jt,disposable:Sn}=On(R,me.defaultEOL);this._buffer=Jt,this._bufferDisposable=Sn,this._options=Ad.resolveOptions(this._buffer,me),this._bracketPairs=this._register(new ne(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new oe.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Ee(this)),this._tokenizationTextModelPart=new to(this._languageService,this._languageConfigurationService,this,this._bracketPairs,q);const Tn=this._buffer.getLineCount(),Bn=this._buffer.getValueLengthInRange(new s.e(1,1,Tn,this._buffer.getLineLength(Tn)+1),0);this._isTooLargeForTokenization=!!me.largeFileOptimizations&&(Bn>Ad.LARGE_FILE_SIZE_THRESHOLD||Tn>Ad.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=Bn>Ad.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=T.PJ(Fn),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Rt,this._commandManager=new Ne.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(R,q){if(q.detectIndentation){const me=pe(R,q.tabSize,q.insertSpaces);return new p.dJ({tabSize:me.tabSize,indentSize:me.tabSize,insertSpaces:me.insertSpaces,trimAutoWhitespace:q.trimAutoWhitespace,defaultEOL:q.defaultEOL,bracketPairColorizationOptions:q.bracketPairColorizationOptions})}return new p.dJ({tabSize:q.tabSize,indentSize:q.indentSize,insertSpaces:q.insertSpaces,trimAutoWhitespace:q.trimAutoWhitespace,defaultEOL:q.defaultEOL,bracketPairColorizationOptions:q.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(R){return this._eventEmitter.slowEvent(q=>R(q.contentChangedEvent))}onDidChangeContentOrInjectedText(R){return(0,v.F8)(this._eventEmitter.fastEvent(q=>R(q)),this._onDidChangeInjectedText.event(q=>R(q)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const R=new _o([],"","\n",!1,!1,!0,!0);R.dispose(),this._buffer=R,this._bufferDisposable=v.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(R,q){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(q),this._bracketPairs.handleDidChangeContent(q),this._eventEmitter.fire(new vo.fV(R,q)))}setValue(R){if(this._assertNotDisposed(),null===R)return;const{textBuffer:q,disposable:me}=On(R,this._options.defaultEOL);this._setValueFromTextBuffer(q,me)}_createContentChanged2(R,q,me,Ke,Xe,at,tn){return{changes:[{range:R,rangeOffset:q,rangeLength:me,text:Ke}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:Xe,isRedoing:at,isFlush:tn}}_setValueFromTextBuffer(R,q){this._assertNotDisposed();const me=this.getFullModelRange(),Ke=this.getValueLengthInRange(me),Xe=this.getLineCount(),at=this.getLineMaxColumn(Xe);this._buffer=R,this._bufferDisposable.dispose(),this._bufferDisposable=q,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Rt,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new vo.dQ([new vo.Jx],this._versionId,!1,!1),this._createContentChanged2(new s.e(1,1,Xe,at),0,Ke,this.getValue(),!1,!1,!0))}setEOL(R){this._assertNotDisposed();const q=1===R?"\r\n":"\n";if(this._buffer.getEOL()===q)return;const me=this.getFullModelRange(),Ke=this.getValueLengthInRange(me),Xe=this.getLineCount(),at=this.getLineMaxColumn(Xe);this._onBeforeEOLChange(),this._buffer.setEOL(q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new vo.dQ([new vo.CZ],this._versionId,!1,!1),this._createContentChanged2(new s.e(1,1,Xe,at),0,Ke,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const R=this.getVersionId(),q=this._decorationsTree.collectNodesPostOrder();for(let me=0,Ke=q.length;me<Ke;me++){const Xe=q[me],at=Xe.range,tn=Xe.cachedAbsoluteStart-Xe.start,Jt=this._buffer.getOffsetAt(at.startLineNumber,at.startColumn),Sn=this._buffer.getOffsetAt(at.endLineNumber,at.endColumn);Xe.cachedAbsoluteStart=Jt,Xe.cachedAbsoluteEnd=Sn,Xe.cachedVersionId=R,Xe.start=Jt-tn,Xe.end=Sn-tn,Ut(Xe)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let R=0,q=0;const me=this._buffer.getLineCount();for(let Ke=1;Ke<=me;Ke++){const Xe=this._buffer.getLineLength(Ke);Xe>=1e4?q+=Xe:R+=Xe}return q>R}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(R){this._assertNotDisposed();const tn=new p.dJ({tabSize:typeof R.tabSize<"u"?R.tabSize:this._options.tabSize,indentSize:typeof R.indentSize<"u"?R.indentSize:this._options.indentSize,insertSpaces:typeof R.insertSpaces<"u"?R.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:typeof R.trimAutoWhitespace<"u"?R.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:typeof R.bracketColorizationOptions<"u"?R.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(tn))return;const Jt=this._options.createChangeEvent(tn);this._options=tn,this._bracketPairs.handleDidChangeOptions(Jt),this._decorationProvider.handleDidChangeOptions(Jt),this._onDidChangeOptions.fire(Jt)}detectIndentation(R,q){this._assertNotDisposed();const me=pe(this._buffer,q,R);this.updateOptions({insertSpaces:me.insertSpaces,tabSize:me.tabSize,indentSize:me.tabSize})}normalizeIndentation(R){return this._assertNotDisposed(),(0,L.x)(R,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(R=null){const q=this.findMatches(T.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(R,q.map(me=>({range:me.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(R){this._assertNotDisposed();const q=this._validatePosition(R.lineNumber,R.column,0);return this._buffer.getOffsetAt(q.lineNumber,q.column)}getPositionAt(R){this._assertNotDisposed();const q=Math.min(this._buffer.getLength(),Math.max(0,R));return this._buffer.getPositionAt(q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(R){this._versionId=R}_overwriteAlternativeVersionId(R){this._alternativeVersionId=R}_overwriteInitialUndoRedoSnapshot(R){this._initialUndoRedoSnapshot=R}getValue(R,q=!1){this._assertNotDisposed();const me=this.getFullModelRange(),Ke=this.getValueInRange(me,R);return q?this._buffer.getBOM()+Ke:Ke}createSnapshot(R=!1){return new sn(this._buffer.createSnapshot(R))}getValueLength(R,q=!1){this._assertNotDisposed();const me=this.getFullModelRange(),Ke=this.getValueLengthInRange(me,R);return q?this._buffer.getBOM().length+Ke:Ke}getValueInRange(R,q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(R),q)}getValueLengthInRange(R,q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(R),q)}getCharacterCountInRange(R,q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(R),q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(R)}getLineLength(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(R)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(R){return this._assertNotDisposed(),1}getLineMaxColumn(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(R)+1}getLineFirstNonWhitespaceColumn(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(R)}getLineLastNonWhitespaceColumn(R){if(this._assertNotDisposed(),R<1||R>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(R)}_validateRangeRelaxedNoAllocations(R){const q=this._buffer.getLineCount(),me=R.startLineNumber,Ke=R.startColumn;let Xe=Math.floor("number"!=typeof me||isNaN(me)?1:me),at=Math.floor("number"!=typeof Ke||isNaN(Ke)?1:Ke);if(Xe<1)Xe=1,at=1;else if(Xe>q)Xe=q,at=this.getLineMaxColumn(Xe);else if(at<=1)at=1;else{const Bn=this.getLineMaxColumn(Xe);at>=Bn&&(at=Bn)}const tn=R.endLineNumber,Jt=R.endColumn;let Sn=Math.floor("number"!=typeof tn||isNaN(tn)?1:tn),Tn=Math.floor("number"!=typeof Jt||isNaN(Jt)?1:Jt);if(Sn<1)Sn=1,Tn=1;else if(Sn>q)Sn=q,Tn=this.getLineMaxColumn(Sn);else if(Tn<=1)Tn=1;else{const Bn=this.getLineMaxColumn(Sn);Tn>=Bn&&(Tn=Bn)}return me===Xe&&Ke===at&&tn===Sn&&Jt===Tn&&R instanceof s.e&&!(R instanceof m.Y)?R:new s.e(Xe,at,Sn,Tn)}_isValidPosition(R,q,me){if("number"!=typeof R||"number"!=typeof q||isNaN(R)||isNaN(q)||R<1||q<1||(0|R)!==R||(0|q)!==q)return!1;if(R>this._buffer.getLineCount())return!1;if(1===q)return!0;if(q>this.getLineMaxColumn(R))return!1;if(1===me){const at=this._buffer.getLineCharCode(R,q-2);if(T.ZG(at))return!1}return!0}_validatePosition(R,q,me){const Ke=Math.floor("number"!=typeof R||isNaN(R)?1:R),Xe=Math.floor("number"!=typeof q||isNaN(q)?1:q),at=this._buffer.getLineCount();if(Ke<1)return new _.L(1,1);if(Ke>at)return new _.L(at,this.getLineMaxColumn(at));if(Xe<=1)return new _.L(Ke,1);const tn=this.getLineMaxColumn(Ke);if(Xe>=tn)return new _.L(Ke,tn);if(1===me){const Jt=this._buffer.getLineCharCode(Ke,Xe-2);if(T.ZG(Jt))return new _.L(Ke,Xe-1)}return new _.L(Ke,Xe)}validatePosition(R){return this._assertNotDisposed(),R instanceof _.L&&this._isValidPosition(R.lineNumber,R.column,1)?R:this._validatePosition(R.lineNumber,R.column,1)}_isValidRange(R,q){const me=R.startLineNumber,Ke=R.startColumn,Xe=R.endLineNumber,at=R.endColumn;if(!this._isValidPosition(me,Ke,0)||!this._isValidPosition(Xe,at,0))return!1;if(1===q){const tn=Ke>1?this._buffer.getLineCharCode(me,Ke-2):0,Jt=at>1&&at<=this._buffer.getLineLength(Xe)?this._buffer.getLineCharCode(Xe,at-2):0,Sn=T.ZG(tn),Tn=T.ZG(Jt);return!Sn&&!Tn}return!0}validateRange(R){if(this._assertNotDisposed(),R instanceof s.e&&!(R instanceof m.Y)&&this._isValidRange(R,1))return R;const me=this._validatePosition(R.startLineNumber,R.startColumn,0),Ke=this._validatePosition(R.endLineNumber,R.endColumn,0),Xe=me.lineNumber,at=me.column,tn=Ke.lineNumber,Jt=Ke.column;{const Sn=at>1?this._buffer.getLineCharCode(Xe,at-2):0,Tn=Jt>1&&Jt<=this._buffer.getLineLength(tn)?this._buffer.getLineCharCode(tn,Jt-2):0,Bn=T.ZG(Sn),Kn=T.ZG(Tn);return Bn||Kn?Xe===tn&&at===Jt?new s.e(Xe,at-1,tn,Jt-1):Bn&&Kn?new s.e(Xe,at-1,tn,Jt+1):Bn?new s.e(Xe,at-1,tn,Jt):new s.e(Xe,at,tn,Jt+1):new s.e(Xe,at,tn,Jt)}}modifyPosition(R,q){this._assertNotDisposed();const me=this.getOffsetAt(R)+q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,me)))}getFullModelRange(){this._assertNotDisposed();const R=this.getLineCount();return new s.e(1,1,R,this.getLineMaxColumn(R))}findMatchesLineByLine(R,q,me,Ke){return this._buffer.findMatchesLineByLine(R,q,me,Ke)}findMatches(R,q,me,Ke,Xe,at,tn=999){this._assertNotDisposed();let Jt=null;null!==q&&(Array.isArray(q)||(q=[q]),q.every(Bn=>s.e.isIRange(Bn))&&(Jt=q.map(Bn=>this.validateRange(Bn)))),null===Jt&&(Jt=[this.getFullModelRange()]),Jt=Jt.sort((Bn,Kn)=>Bn.startLineNumber-Kn.startLineNumber||Bn.startColumn-Kn.startColumn);const Sn=[];let Tn;if(Sn.push(Jt.reduce((Bn,Kn)=>s.e.areIntersecting(Bn,Kn)?Bn.plusRange(Kn):(Sn.push(Bn),Kn))),!me&&R.indexOf("\n")<0){const Kn=new Ct.bc(R,me,Ke,Xe).parseSearchRequest();if(!Kn)return[];Tn=ti=>this.findMatchesLineByLine(ti,Kn,at,tn)}else Tn=Bn=>Ct.pM.findMatches(this,new Ct.bc(R,me,Ke,Xe),Bn,at,tn);return Sn.map(Tn).reduce((Bn,Kn)=>Bn.concat(Kn),[])}findNextMatch(R,q,me,Ke,Xe,at){this._assertNotDisposed();const tn=this.validatePosition(q);if(!me&&R.indexOf("\n")<0){const Sn=new Ct.bc(R,me,Ke,Xe).parseSearchRequest();if(!Sn)return null;const Tn=this.getLineCount();let Bn=new s.e(tn.lineNumber,tn.column,Tn,this.getLineMaxColumn(Tn)),Kn=this.findMatchesLineByLine(Bn,Sn,at,1);return Ct.pM.findNextMatch(this,new Ct.bc(R,me,Ke,Xe),tn,at),Kn.length>0||(Bn=new s.e(1,1,tn.lineNumber,this.getLineMaxColumn(tn.lineNumber)),Kn=this.findMatchesLineByLine(Bn,Sn,at,1),Kn.length>0)?Kn[0]:null}return Ct.pM.findNextMatch(this,new Ct.bc(R,me,Ke,Xe),tn,at)}findPreviousMatch(R,q,me,Ke,Xe,at){this._assertNotDisposed();const tn=this.validatePosition(q);return Ct.pM.findPreviousMatch(this,new Ct.bc(R,me,Ke,Xe),tn,at)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(R){if(("\n"===this.getEOL()?0:1)!==R)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(R)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(R){return R instanceof p.Qi?R:new p.Qi(R.identifier||null,this.validateRange(R.range),R.text,R.forceMoveMarkers||!1,R.isAutoWhitespaceEdit||!1,R._isTracked||!1)}_validateEditOperations(R){const q=[];for(let me=0,Ke=R.length;me<Ke;me++)q[me]=this._validateEditOperation(R[me]);return q}pushEditOperations(R,q,me){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(R,this._validateEditOperations(q),me)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(R,q,me){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const Ke=q.map(at=>({range:this.validateRange(at.range),text:at.text}));let Xe=!0;if(R)for(let at=0,tn=R.length;at<tn;at++){const Jt=R[at];let Sn=!1;for(let Tn=0,Bn=Ke.length;Tn<Bn;Tn++){const Kn=Ke[Tn].range,fi=Jt.startLineNumber>Kn.endLineNumber;if(!(Kn.startLineNumber>Jt.endLineNumber||fi)){Sn=!0;break}}if(!Sn){Xe=!1;break}}if(Xe)for(let at=0,tn=this._trimAutoWhitespaceLines.length;at<tn;at++){const Jt=this._trimAutoWhitespaceLines[at],Sn=this.getLineMaxColumn(Jt);let Tn=!0;for(let Bn=0,Kn=Ke.length;Bn<Kn;Bn++){const ti=Ke[Bn].range,fi=Ke[Bn].text;if(!(Jt<ti.startLineNumber||Jt>ti.endLineNumber||Jt===ti.startLineNumber&&ti.startColumn===Sn&&ti.isEmpty()&&fi&&fi.length>0&&"\n"===fi.charAt(0)||Jt===ti.startLineNumber&&1===ti.startColumn&&ti.isEmpty()&&fi&&fi.length>0&&"\n"===fi.charAt(fi.length-1))){Tn=!1;break}}if(Tn){const Bn=new s.e(Jt,1,Jt,Sn);q.push(new p.Qi(null,Bn,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(R,q,me)}_applyUndo(R,q,me,Ke){const Xe=R.map(at=>{const tn=this.getPositionAt(at.newPosition),Jt=this.getPositionAt(at.newEnd);return{range:new s.e(tn.lineNumber,tn.column,Jt.lineNumber,Jt.column),text:at.oldText}});this._applyUndoRedoEdits(Xe,q,!0,!1,me,Ke)}_applyRedo(R,q,me,Ke){const Xe=R.map(at=>{const tn=this.getPositionAt(at.oldPosition),Jt=this.getPositionAt(at.oldEnd);return{range:new s.e(tn.lineNumber,tn.column,Jt.lineNumber,Jt.column),text:at.newText}});this._applyUndoRedoEdits(Xe,q,!1,!0,me,Ke)}_applyUndoRedoEdits(R,q,me,Ke,Xe,at){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=me,this._isRedoing=Ke,this.applyEdits(R,!1),this.setEOL(q),this._overwriteAlternativeVersionId(Xe)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(at),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(R,q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const me=this._validateEditOperations(R);return this._doApplyEdits(me,q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(R,q){const me=this._buffer.getLineCount(),Ke=this._buffer.applyEdits(R,this._options.trimAutoWhitespace,q),Xe=this._buffer.getLineCount(),at=Ke.changes;if(this._trimAutoWhitespaceLines=Ke.trimAutoWhitespaceLineNumbers,0!==at.length){for(let Sn=0,Tn=at.length;Sn<Tn;Sn++){const Bn=at[Sn],[Kn,ti,fi]=(0,E.Q)(Bn.text);this._tokenizationTextModelPart.acceptEdit(Bn.range,Bn.text,Kn,ti,fi),this._decorationsTree.acceptReplace(Bn.rangeOffset,Bn.rangeLength,Bn.text.length,Bn.forceMoveMarkers)}const tn=[];this._increaseVersionId();let Jt=me;for(let Sn=0,Tn=at.length;Sn<Tn;Sn++){const Bn=at[Sn],[Kn]=(0,E.Q)(Bn.text);this._onDidChangeDecorations.fire();const ti=Bn.range.startLineNumber,fi=Bn.range.endLineNumber,hi=fi-ti,Ot=Kn,te=Math.min(hi,Ot),ge=Ot-hi,it=Xe-Jt-ge+ti,qt=it+Ot,Mt=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new _.L(it,1)),this.getOffsetAt(new _.L(qt,this.getLineMaxColumn(qt))),0),ee=vo.gk.fromDecorations(Mt),Ie=new d.H9(ee);for(let rt=te;rt>=0;rt--){const $t=ti+rt,cn=it+rt;Ie.takeFromEndWhile(In=>In.lineNumber>cn);const Ln=Ie.takeFromEndWhile(In=>In.lineNumber===cn);tn.push(new vo.rU($t,this.getLineContent(cn),Ln))}if(te<hi&&tn.push(new vo.lN(ti+te+1,fi)),te<Ot){const rt=new d.H9(ee),$t=ti+te,cn=Ot-te,Ln=Xe-Jt-cn+$t+1,In=[],ni=[];for(let Jn=0;Jn<cn;Jn++){const gi=Ln+Jn;ni[Jn]=this.getLineContent(gi),rt.takeWhile(vi=>vi.lineNumber<gi),In[Jn]=rt.takeWhile(vi=>vi.lineNumber===gi)}tn.push(new vo.Tx($t+1,ti+Ot,ni,In))}Jt+=ge}this._emitContentChangedEvent(new vo.dQ(tn,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:at,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===Ke.reverseEdits?void 0:Ke.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(R){if(null===R||0===R.size)return;const me=Array.from(R).map(Ke=>new vo.rU(Ke,this.getLineContent(Ke),this._getInjectedTextInLine(Ke)));this._onDidChangeInjectedText.fire(new vo.D8(me))}changeDecorations(R,q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(q,R)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(R,q){const me={addDecoration:(Xe,at)=>this._deltaDecorationsImpl(R,[],[{range:Xe,options:at}])[0],changeDecoration:(Xe,at)=>{this._changeDecorationImpl(Xe,at)},changeDecorationOptions:(Xe,at)=>{this._changeDecorationOptionsImpl(Xe,Ai(at))},removeDecoration:Xe=>{this._deltaDecorationsImpl(R,[Xe],[])},deltaDecorations:(Xe,at)=>0===Xe.length&&0===at.length?[]:this._deltaDecorationsImpl(R,Xe,at)};let Ke=null;try{Ke=q(me)}catch(Xe){(0,l.dL)(Xe)}return me.addDecoration=nn,me.changeDecoration=nn,me.changeDecorationOptions=nn,me.removeDecoration=nn,me.deltaDecorations=nn,Ke}deltaDecorations(R,q,me=0){if(this._assertNotDisposed(),R||(R=[]),0===R.length&&0===q.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,l.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(me,R,q)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(R){return this.getDecorationRange(R)}_setTrackedRange(R,q,me){const Ke=R?this._decorations[R]:null;if(!Ke)return q?this._deltaDecorationsImpl(0,[],[{range:q,options:Hn[me]}])[0]:null;if(!q)return this._decorationsTree.delete(Ke),delete this._decorations[Ke.id],null;const Xe=this._validateRangeRelaxedNoAllocations(q),at=this._buffer.getOffsetAt(Xe.startLineNumber,Xe.startColumn),tn=this._buffer.getOffsetAt(Xe.endLineNumber,Xe.endColumn);return this._decorationsTree.delete(Ke),Ke.reset(this.getVersionId(),at,tn,Xe),Ke.setOptions(Hn[me]),this._decorationsTree.insert(Ke),Ke.id}removeAllDecorationsWithOwnerId(R){if(this._isDisposed)return;const q=this._decorationsTree.collectNodesFromOwner(R);for(let me=0,Ke=q.length;me<Ke;me++){const Xe=q[me];this._decorationsTree.delete(Xe),delete this._decorations[Xe.id]}}getDecorationOptions(R){const q=this._decorations[R];return q?q.options:null}getDecorationRange(R){const q=this._decorations[R];return q?this._decorationsTree.getNodeRange(this,q):null}getLineDecorations(R,q=0,me=!1){return R<1||R>this.getLineCount()?[]:this.getLinesDecorations(R,R,q,me)}getLinesDecorations(R,q,me=0,Ke=!1){const Xe=this.getLineCount(),at=Math.min(Xe,Math.max(1,R)),tn=Math.min(Xe,Math.max(1,q)),Jt=this.getLineMaxColumn(tn),Sn=new s.e(at,1,tn,Jt),Tn=this._getDecorationsInRange(Sn,me,Ke);return(0,d.vA)(Tn,this._decorationProvider.getDecorationsInRange(Sn,me,Ke)),Tn}getDecorationsInRange(R,q=0,me=!1){const Ke=this.validateRange(R),Xe=this._getDecorationsInRange(Ke,q,me);return(0,d.vA)(Xe,this._decorationProvider.getDecorationsInRange(Ke,q,me)),Xe}getOverviewRulerDecorations(R=0,q=!1){return this._decorationsTree.getAll(this,R,q,!0)}getInjectedTextDecorations(R=0){return this._decorationsTree.getAllInjectedText(this,R)}_getInjectedTextInLine(R){const q=this._buffer.getOffsetAt(R,1),me=q+this._buffer.getLineLength(R),Ke=this._decorationsTree.getInjectedTextInInterval(this,q,me,0);return vo.gk.fromDecorations(Ke).filter(Xe=>Xe.lineNumber===R)}getAllDecorations(R=0,q=!1){let me=this._decorationsTree.getAll(this,R,q,!1);return me=me.concat(this._decorationProvider.getAllDecorations(R,q)),me}_getDecorationsInRange(R,q,me){const Ke=this._buffer.getOffsetAt(R.startLineNumber,R.startColumn),Xe=this._buffer.getOffsetAt(R.endLineNumber,R.endColumn);return this._decorationsTree.getAllInInterval(this,Ke,Xe,q,me)}getRangeAt(R,q){return this._buffer.getRangeAt(R,q-R)}_changeDecorationImpl(R,q){const me=this._decorations[R];if(!me)return;if(me.options.after){const tn=this.getDecorationRange(R);this._onDidChangeDecorations.recordLineAffectedByInjectedText(tn.endLineNumber)}if(me.options.before){const tn=this.getDecorationRange(R);this._onDidChangeDecorations.recordLineAffectedByInjectedText(tn.startLineNumber)}const Ke=this._validateRangeRelaxedNoAllocations(q),Xe=this._buffer.getOffsetAt(Ke.startLineNumber,Ke.startColumn),at=this._buffer.getOffsetAt(Ke.endLineNumber,Ke.endColumn);this._decorationsTree.delete(me),me.reset(this.getVersionId(),Xe,at,Ke),this._decorationsTree.insert(me),this._onDidChangeDecorations.checkAffectedAndFire(me.options),me.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ke.endLineNumber),me.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ke.startLineNumber)}_changeDecorationOptionsImpl(R,q){const me=this._decorations[R];if(!me)return;const Ke=!(!me.options.overviewRuler||!me.options.overviewRuler.color),Xe=!(!q.overviewRuler||!q.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(me.options),this._onDidChangeDecorations.checkAffectedAndFire(q),me.options.after||q.after){const at=this._decorationsTree.getNodeRange(this,me);this._onDidChangeDecorations.recordLineAffectedByInjectedText(at.endLineNumber)}if(me.options.before||q.before){const at=this._decorationsTree.getNodeRange(this,me);this._onDidChangeDecorations.recordLineAffectedByInjectedText(at.startLineNumber)}Ke!==Xe?(this._decorationsTree.delete(me),me.setOptions(q),this._decorationsTree.insert(me)):me.setOptions(q)}_deltaDecorationsImpl(R,q,me){const Ke=this.getVersionId(),Xe=q.length;let at=0;const tn=me.length;let Jt=0;const Sn=new Array(tn);for(;at<Xe||Jt<tn;){let Tn=null;if(at<Xe){do{Tn=this._decorations[q[at++]]}while(!Tn&&at<Xe);if(Tn){if(Tn.options.after){const Bn=this._decorationsTree.getNodeRange(this,Tn);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Bn.endLineNumber)}if(Tn.options.before){const Bn=this._decorationsTree.getNodeRange(this,Tn);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Bn.startLineNumber)}this._decorationsTree.delete(Tn),this._onDidChangeDecorations.checkAffectedAndFire(Tn.options)}}if(Jt<tn){if(!Tn){const Ot=++this._lastDecorationId,te=`${this._instanceId};${Ot}`;Tn=new Ze(te,0,0),this._decorations[te]=Tn}const Bn=me[Jt],Kn=this._validateRangeRelaxedNoAllocations(Bn.range),ti=Ai(Bn.options),fi=this._buffer.getOffsetAt(Kn.startLineNumber,Kn.startColumn),hi=this._buffer.getOffsetAt(Kn.endLineNumber,Kn.endColumn);Tn.ownerId=R,Tn.reset(Ke,fi,hi,Kn),Tn.setOptions(ti),Tn.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Kn.endLineNumber),Tn.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Kn.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ti),this._decorationsTree.insert(Tn),Sn[Jt]=Tn.id,Jt++}else Tn&&delete this._decorations[Tn.id]}return Sn}getLanguageId(){return this.tokenization.getLanguageId()}setMode(R){this.tokenization.setLanguageId(R)}getLanguageIdAtPosition(R,q){return this.tokenization.getLanguageIdAtPosition(R,q)}getWordAtPosition(R){return this._tokenizationTextModelPart.getWordAtPosition(R)}getWordUntilPosition(R){return this._tokenizationTextModelPart.getWordUntilPosition(R)}normalizePosition(R,q){return R}getLineIndentColumn(R){return function Pn(Ft){let R=0;for(const q of Ft){if(" "!==q&&"\t"!==q)break;R++}return R}(this.getLineContent(R))+1}};function En(Ft){return!(!Ft.options.overviewRuler||!Ft.options.overviewRuler.color)}function ht(Ft){return!!Ft.options.after||!!Ft.options.before}xn.MODEL_SYNC_LIMIT=52428800,xn.LARGE_FILE_SIZE_THRESHOLD=20971520,xn.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,xn.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:c.D.tabSize,indentSize:c.D.indentSize,insertSpaces:c.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:c.D.trimAutoWhitespace,largeFileOptimizations:c.D.largeFileOptimizations,bracketPairColorizationOptions:c.D.bracketPairColorizationOptions},xn=function(Ft,R,q,me){var at,Ke=arguments.length,Xe=Ke<3?R:null===me?me=Object.getOwnPropertyDescriptor(R,q):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(Ft,R,q,me);else for(var tn=Ft.length-1;tn>=0;tn--)(at=Ft[tn])&&(Xe=(Ke<3?at(Xe):Ke>3?at(R,q,Xe):at(R,q))||Xe);return Ke>3&&Xe&&Object.defineProperty(R,q,Xe),Xe}([Yt(4,Oo.tJ),Yt(5,n.O),Yt(6,a.c_)],xn);class Rt{constructor(){this._decorationsTree0=new _e,this._decorationsTree1=new _e,this._injectedTextDecorationsTree=new _e}ensureAllNodesHaveRanges(R){this.getAll(R,0,!1,!1)}_ensureNodesHaveRanges(R,q){for(const me of q)null===me.range&&(me.range=R.getRangeAt(me.cachedAbsoluteStart,me.cachedAbsoluteEnd));return q}getAllInInterval(R,q,me,Ke,Xe){const at=R.getVersionId(),tn=this._intervalSearch(q,me,Ke,Xe,at);return this._ensureNodesHaveRanges(R,tn)}_intervalSearch(R,q,me,Ke,Xe){const at=this._decorationsTree0.intervalSearch(R,q,me,Ke,Xe),tn=this._decorationsTree1.intervalSearch(R,q,me,Ke,Xe),Jt=this._injectedTextDecorationsTree.intervalSearch(R,q,me,Ke,Xe);return at.concat(tn).concat(Jt)}getInjectedTextInInterval(R,q,me,Ke){const Xe=R.getVersionId(),at=this._injectedTextDecorationsTree.intervalSearch(q,me,Ke,!1,Xe);return this._ensureNodesHaveRanges(R,at).filter(tn=>tn.options.showIfCollapsed||!tn.range.isEmpty())}getAllInjectedText(R,q){const me=R.getVersionId(),Ke=this._injectedTextDecorationsTree.search(q,!1,me);return this._ensureNodesHaveRanges(R,Ke).filter(Xe=>Xe.options.showIfCollapsed||!Xe.range.isEmpty())}getAll(R,q,me,Ke){const Xe=R.getVersionId(),at=this._search(q,me,Ke,Xe);return this._ensureNodesHaveRanges(R,at)}_search(R,q,me,Ke){if(me)return this._decorationsTree1.search(R,q,Ke);{const Xe=this._decorationsTree0.search(R,q,Ke),at=this._decorationsTree1.search(R,q,Ke),tn=this._injectedTextDecorationsTree.search(R,q,Ke);return Xe.concat(at).concat(tn)}}collectNodesFromOwner(R){const q=this._decorationsTree0.collectNodesFromOwner(R),me=this._decorationsTree1.collectNodesFromOwner(R),Ke=this._injectedTextDecorationsTree.collectNodesFromOwner(R);return q.concat(me).concat(Ke)}collectNodesPostOrder(){const R=this._decorationsTree0.collectNodesPostOrder(),q=this._decorationsTree1.collectNodesPostOrder(),me=this._injectedTextDecorationsTree.collectNodesPostOrder();return R.concat(q).concat(me)}insert(R){ht(R)?this._injectedTextDecorationsTree.insert(R):En(R)?this._decorationsTree1.insert(R):this._decorationsTree0.insert(R)}delete(R){ht(R)?this._injectedTextDecorationsTree.delete(R):En(R)?this._decorationsTree1.delete(R):this._decorationsTree0.delete(R)}getNodeRange(R,q){const me=R.getVersionId();return q.cachedVersionId!==me&&this._resolveNode(q,me),null===q.range&&(q.range=R.getRangeAt(q.cachedAbsoluteStart,q.cachedAbsoluteEnd)),q.range}_resolveNode(R,q){ht(R)?this._injectedTextDecorationsTree.resolveNode(R,q):En(R)?this._decorationsTree1.resolveNode(R,q):this._decorationsTree0.resolveNode(R,q)}acceptReplace(R,q,me,Ke){this._decorationsTree0.acceptReplace(R,q,me,Ke),this._decorationsTree1.acceptReplace(R,q,me,Ke),this._injectedTextDecorationsTree.acceptReplace(R,q,me,Ke)}}function Vt(Ft){return Ft.replace(/[^a-z0-9\-_]/gi," ")}class Zt{constructor(R){this.color=R.color||"",this.darkColor=R.darkColor||""}}class Cn extends Zt{constructor(R){super(R),this._resolvedColor=null,this.position="number"==typeof R.position?R.position:p.sh.Center}getColor(R){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==R.type&&this.darkColor?this.darkColor:this.color,R)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(R,q){if("string"==typeof R)return R;const me=R?q.getColor(R.id):null;return me?me.toString():""}}class Re extends Zt{constructor(R){super(R),this.position=R.position}getColor(R){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==R.type&&this.darkColor?this.darkColor:this.color,R)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(R,q){return"string"==typeof R?t.Il.fromHex(R):q.getColor(R.id)}}class ct{constructor(R){this.content=R.content||"",this.inlineClassName=R.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=R.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=R.attachedData||null,this.cursorStops=R.cursorStops||null}static from(R){return R instanceof ct?R:new ct(R)}}class _n{constructor(R){var q,me;this.description=R.description,this.blockClassName=R.blockClassName?Vt(R.blockClassName):null,this.stickiness=R.stickiness||0,this.zIndex=R.zIndex||0,this.className=R.className?Vt(R.className):null,this.hoverMessage=R.hoverMessage||null,this.glyphMarginHoverMessage=R.glyphMarginHoverMessage||null,this.isWholeLine=R.isWholeLine||!1,this.showIfCollapsed=R.showIfCollapsed||!1,this.collapseOnReplaceEdit=R.collapseOnReplaceEdit||!1,this.overviewRuler=R.overviewRuler?new Cn(R.overviewRuler):null,this.minimap=R.minimap?new Re(R.minimap):null,this.glyphMarginClassName=R.glyphMarginClassName?Vt(R.glyphMarginClassName):null,this.linesDecorationsClassName=R.linesDecorationsClassName?Vt(R.linesDecorationsClassName):null,this.firstLineDecorationClassName=R.firstLineDecorationClassName?Vt(R.firstLineDecorationClassName):null,this.marginClassName=R.marginClassName?Vt(R.marginClassName):null,this.inlineClassName=R.inlineClassName?Vt(R.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=R.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=R.beforeContentClassName?Vt(R.beforeContentClassName):null,this.afterContentClassName=R.afterContentClassName?Vt(R.afterContentClassName):null,this.after=R.after?ct.from(R.after):null,this.before=R.before?ct.from(R.before):null,this.hideInCommentTokens=null!==(q=R.hideInCommentTokens)&&void 0!==q&&q,this.hideInStringTokens=null!==(me=R.hideInStringTokens)&&void 0!==me&&me}static register(R){return new _n(R)}static createDynamic(R){return new _n(R)}}_n.EMPTY=_n.register({description:"empty"});const Hn=[_n.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),_n.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),_n.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),_n.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Ai(Ft){return Ft instanceof _n?Ft:_n.createDynamic(Ft)}class yi extends v.JT{constructor(R){super(),this.handleBeforeFire=R,this._actual=this._register(new S.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var R;if(this._deferredCnt--,0===this._deferredCnt){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const q={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(q)}null===(R=this._affectedInjectedTextLines)||void 0===R||R.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(R){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(R)}checkAffectedAndFire(R){this._affectsMinimap||(this._affectsMinimap=!(!R.minimap||!R.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!R.overviewRuler||!R.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class di extends v.JT{constructor(){super(),this._fastEmitter=this._register(new S.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new S.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(R=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=R;const q=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(q),this._slowEmitter.fire(q)}}fire(R){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(R):R:(this._fastEmitter.fire(R),this._slowEmitter.fire(R))}}},32368:(Et,X,e)=>{"use strict";e.d(X,{U:()=>t});var d=e(80142);class t extends d.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},56952:(Et,X,e)=>{"use strict";e.d(X,{bc:()=>C,cM:()=>n,iE:()=>L,pM:()=>s,sz:()=>a});var d=e(73879),t=e(91609),l=e(18723),S=e(98570),v=e(47629);class C{constructor(u,g,b,y){this.searchString=u,this.isRegex=g,this.matchCase=b,this.wordSeparators=y}parseSearchRequest(){if(""===this.searchString)return null;let u;u=this.isRegex?function E(p){if(!p||0===p.length)return!1;for(let u=0,g=p.length;u<g;u++){const b=p.charCodeAt(u);if(10===b)return!0;if(92===b){if(u++,u>=g)break;const y=p.charCodeAt(u);if(110===y||114===y||87===y)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let g=null;try{g=d.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:u,global:!0,unicode:!0})}catch{return null}if(!g)return null;let b=!this.isRegex&&!u;return b&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(b=this.matchCase),new v.Tx(g,this.wordSeparators?(0,t.u)(this.wordSeparators):null,b?this.searchString:null)}}function L(p,u,g){if(!g)return new v.tk(p,null);const b=[];for(let y=0,D=u.length;y<D;y++)b[y]=u[y];return new v.tk(p,b)}class _{constructor(u){const g=[];let b=0;for(let y=0,D=u.length;y<D;y++)10===u.charCodeAt(y)&&(g[b++]=y);this._lineFeedsOffsets=g}findLineFeedCountBeforeOffset(u){const g=this._lineFeedsOffsets;let b=0,y=g.length-1;if(-1===y||u<=g[0])return 0;for(;b<y;){const D=b+((y-b)/2>>0);g[D]>=u?y=D-1:g[D+1]>=u?(b=D,y=D):b=D+1}return b+1}}class s{static findMatches(u,g,b,y,D){const w=g.parseSearchRequest();return w?w.regex.multiline?this._doFindMatchesMultiline(u,b,new a(w.wordSeparators,w.regex),y,D):this._doFindMatchesLineByLine(u,b,w,y,D):[]}static _getMultilineMatchRange(u,g,b,y,D,w){let I,O,P=0;if(y?(P=y.findLineFeedCountBeforeOffset(D),I=g+D+P):I=g+D,y){const F=y.findLineFeedCountBeforeOffset(D+w.length)-P;O=I+w.length+F}else O=I+w.length;const H=u.getPositionAt(I),U=u.getPositionAt(O);return new S.e(H.lineNumber,H.column,U.lineNumber,U.column)}static _doFindMatchesMultiline(u,g,b,y,D){const w=u.getOffsetAt(g.getStartPosition()),I=u.getValueInRange(g,1),P="\r\n"===u.getEOL()?new _(I):null,O=[];let U,H=0;for(b.reset(0);U=b.next(I);)if(O[H++]=L(this._getMultilineMatchRange(u,w,I,P,U.index,U[0]),U,y),H>=D)return O;return O}static _doFindMatchesLineByLine(u,g,b,y,D){const w=[];let I=0;if(g.startLineNumber===g.endLineNumber){const O=u.getLineContent(g.startLineNumber).substring(g.startColumn-1,g.endColumn-1);return I=this._findMatchesInLine(b,O,g.startLineNumber,g.startColumn-1,I,w,y,D),w}const P=u.getLineContent(g.startLineNumber).substring(g.startColumn-1);I=this._findMatchesInLine(b,P,g.startLineNumber,g.startColumn-1,I,w,y,D);for(let O=g.startLineNumber+1;O<g.endLineNumber&&I<D;O++)I=this._findMatchesInLine(b,u.getLineContent(O),O,0,I,w,y,D);if(I<D){const O=u.getLineContent(g.endLineNumber).substring(0,g.endColumn-1);I=this._findMatchesInLine(b,O,g.endLineNumber,0,I,w,y,D)}return w}static _findMatchesInLine(u,g,b,y,D,w,I,P){const O=u.wordSeparators;if(!I&&u.simpleSearch){const K=u.simpleSearch,F=K.length,B=g.length;let z=-F;for(;-1!==(z=g.indexOf(K,z+F));)if((!O||n(O,g,B,z,F))&&(w[D++]=new v.tk(new S.e(b,z+1+y,b,z+1+F+y),null),D>=P))return D;return D}const H=new a(u.wordSeparators,u.regex);let U;H.reset(0);do{if(U=H.next(g),U&&(w[D++]=L(new S.e(b,U.index+1+y,b,U.index+1+U[0].length+y),U,I),D>=P))return D}while(U);return D}static findNextMatch(u,g,b,y){const D=g.parseSearchRequest();if(!D)return null;const w=new a(D.wordSeparators,D.regex);return D.regex.multiline?this._doFindNextMatchMultiline(u,b,w,y):this._doFindNextMatchLineByLine(u,b,w,y)}static _doFindNextMatchMultiline(u,g,b,y){const D=new l.L(g.lineNumber,1),w=u.getOffsetAt(D),I=u.getLineCount(),P=u.getValueInRange(new S.e(D.lineNumber,D.column,I,u.getLineMaxColumn(I)),1),O="\r\n"===u.getEOL()?new _(P):null;b.reset(g.column-1);const H=b.next(P);return H?L(this._getMultilineMatchRange(u,w,P,O,H.index,H[0]),H,y):1!==g.lineNumber||1!==g.column?this._doFindNextMatchMultiline(u,new l.L(1,1),b,y):null}static _doFindNextMatchLineByLine(u,g,b,y){const D=u.getLineCount(),w=g.lineNumber,I=u.getLineContent(w),P=this._findFirstMatchInLine(b,I,w,g.column,y);if(P)return P;for(let O=1;O<=D;O++){const H=(w+O-1)%D,U=u.getLineContent(H+1),K=this._findFirstMatchInLine(b,U,H+1,1,y);if(K)return K}return null}static _findFirstMatchInLine(u,g,b,y,D){u.reset(y-1);const w=u.next(g);return w?L(new S.e(b,w.index+1,b,w.index+1+w[0].length),w,D):null}static findPreviousMatch(u,g,b,y){const D=g.parseSearchRequest();if(!D)return null;const w=new a(D.wordSeparators,D.regex);return D.regex.multiline?this._doFindPreviousMatchMultiline(u,b,w,y):this._doFindPreviousMatchLineByLine(u,b,w,y)}static _doFindPreviousMatchMultiline(u,g,b,y){const D=this._doFindMatchesMultiline(u,new S.e(1,1,g.lineNumber,g.column),b,y,9990);if(D.length>0)return D[D.length-1];const w=u.getLineCount();return g.lineNumber!==w||g.column!==u.getLineMaxColumn(w)?this._doFindPreviousMatchMultiline(u,new l.L(w,u.getLineMaxColumn(w)),b,y):null}static _doFindPreviousMatchLineByLine(u,g,b,y){const D=u.getLineCount(),w=g.lineNumber,I=u.getLineContent(w).substring(0,g.column-1),P=this._findLastMatchInLine(b,I,w,y);if(P)return P;for(let O=1;O<=D;O++){const H=(D+w-O-1)%D,U=u.getLineContent(H+1),K=this._findLastMatchInLine(b,U,H+1,y);if(K)return K}return null}static _findLastMatchInLine(u,g,b,y){let w,D=null;for(u.reset(0);w=u.next(g);)D=L(new S.e(b,w.index+1,b,w.index+1+w[0].length),w,y);return D}}function n(p,u,g,b,y){return function m(p,u,g,b,y){if(0===b)return!0;const D=u.charCodeAt(b-1);if(0!==p.get(D)||13===D||10===D)return!0;if(y>0){const w=u.charCodeAt(b);if(0!==p.get(w))return!0}return!1}(p,u,0,b,y)&&function c(p,u,g,b,y){if(b+y===g)return!0;const D=u.charCodeAt(b+y);if(0!==p.get(D)||13===D||10===D)return!0;if(y>0){const w=u.charCodeAt(b+y-1);if(0!==p.get(w))return!0}return!1}(p,u,g,b,y)}class a{constructor(u,g){this._wordSeparators=u,this._searchRegex=g,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(u){this._searchRegex.lastIndex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(u){const g=u.length;let b;do{if(this._prevMatchStartIndex+this._prevMatchLength===g||(b=this._searchRegex.exec(u),!b))return null;const y=b.index,D=b[0].length;if(y===this._prevMatchStartIndex&&D===this._prevMatchLength){if(0===D){d.ZH(u,g,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=y,this._prevMatchLength=D,!this._wordSeparators||n(this._wordSeparators,u,g,y,D))return b}while(b);return null}}},24927:(Et,X,e)=>{"use strict";function d(t,l){let S=0,v=0;const T=t.length;for(;v<T;){const C=t.charCodeAt(v);if(32===C)S++;else{if(9!==C)break;S=S-S%l+l}v++}return v===T?-1:S}e.d(X,{q:()=>d})},48885:(Et,X,e)=>{"use strict";e.d(X,{O:()=>s});var d=e(73888),t=e(3778),l=e(53993),S=e(59547),v=e(18723),T=e(98570),C=e(7233),E=e(45337),L=e(98104);let _=(()=>{class m{static chord(n,a){return(0,l.gx)(n,a)}}return m.CtrlCmd=2048,m.Shift=1024,m.Alt=512,m.WinCtrl=256,m})();function s(){return{editor:void 0,languages:void 0,CancellationTokenSource:d.A,Emitter:t.Q5,KeyCode:L.VD,KeyMod:_,Position:v.L,Range:T.e,Selection:C.Y,SelectionDirection:L.a$,MarkerSeverity:L.ZL,MarkerTag:L.eB,Uri:S.o,Token:E.WU}}},81534:(Et,X,e)=>{"use strict";e.d(X,{p:()=>l});const l=(0,e(9265).yh)("editorWorkerService")},70590:(Et,X,e)=>{"use strict";e.d(X,{Jc:()=>n,KO:()=>b,ML:()=>p,OG:()=>D,Vj:()=>m,Vl:()=>s});var d=e(73888),t=e(4125),l=e(59547),S=e(59602),v=e(66549),T=e(72715),C=e(45802),E=e(98570),L=e(90790),_=function(w,I,P,O){return new(P||(P=Promise))(function(U,K){function F($){try{z(O.next($))}catch(j){K(j)}}function B($){try{z(O.throw($))}catch(j){K(j)}}function z($){$.done?U($.value):function H(U){return U instanceof P?U:new P(function(K){K(U)})}($.value).then(F,B)}z((O=O.apply(w,I||[])).next())})};function s(w){return w&&!!w.data}function m(w){return w&&Array.isArray(w.edits)}class c{constructor(I,P,O){this.provider=I,this.tokens=P,this.error=O}}function n(w,I){return w.has(I)}function p(w,I,P,O,H){return _(this,void 0,void 0,function*(){const U=function a(w,I){const P=w.orderedGroups(I);return P.length>0?P[0]:[]}(w,I),K=yield Promise.all(U.map(F=>_(this,void 0,void 0,function*(){let B,z=null;try{B=yield F.provideDocumentSemanticTokens(I,F===P?O:null,H)}catch($){z=$,B=null}return(!B||!s(B)&&!m(B))&&(B=null),new c(F,B,z)})));for(const F of K){if(F.error)throw F.error;if(F.tokens)return F}return K.length>0?K[0]:null})}class g{constructor(I,P){this.provider=I,this.tokens=P}}function b(w,I){return w.has(I)}function y(w,I){const P=w.orderedGroups(I);return P.length>0?P[0]:[]}function D(w,I,P,O){return _(this,void 0,void 0,function*(){const H=y(w,I),U=yield Promise.all(H.map(K=>_(this,void 0,void 0,function*(){let F;try{F=yield K.provideDocumentRangeSemanticTokens(I,P,O)}catch(B){(0,t.Cp)(B),F=null}return(!F||!s(F))&&(F=null),new g(K,F)})));for(const K of U)if(K.tokens)return K;return U.length>0?U[0]:null})}v.P0.registerCommand("_provideDocumentSemanticTokensLegend",(w,...I)=>_(void 0,void 0,void 0,function*(){const[P]=I;(0,T.p_)(P instanceof l.o);const O=w.get(S.q).getModel(P);if(!O)return;const{documentSemanticTokensProvider:H}=w.get(L.p),U=function u(w,I){const P=w.orderedGroups(I);return P.length>0?P[0]:null}(H,O);return U?U[0].getLegend():w.get(v.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",P)})),v.P0.registerCommand("_provideDocumentSemanticTokens",(w,...I)=>_(void 0,void 0,void 0,function*(){const[P]=I;(0,T.p_)(P instanceof l.o);const O=w.get(S.q).getModel(P);if(!O)return;const{documentSemanticTokensProvider:H}=w.get(L.p);if(!n(H,O))return w.get(v.Hy).executeCommand("_provideDocumentRangeSemanticTokens",P,O.getFullModelRange());const U=yield p(H,O,null,null,d.T.None);if(!U)return;const{provider:K,tokens:F}=U;if(!F||!s(F))return;const B=(0,C.C)({id:0,type:"full",data:F.data});return F.resultId&&K.releaseDocumentSemanticTokens(F.resultId),B})),v.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(w,...I)=>_(void 0,void 0,void 0,function*(){const[P,O]=I;(0,T.p_)(P instanceof l.o);const H=w.get(S.q).getModel(P);if(!H)return;const{documentRangeSemanticTokensProvider:U}=w.get(L.p),K=y(U,H);if(0===K.length)return;if(1===K.length)return K[0].getLegend();if(!O||!E.e.isIRange(O))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),K[0].getLegend();const F=yield D(U,H,E.e.lift(O),d.T.None);return F?F.provider.getLegend():void 0})),v.P0.registerCommand("_provideDocumentRangeSemanticTokens",(w,...I)=>_(void 0,void 0,void 0,function*(){const[P,O]=I;(0,T.p_)(P instanceof l.o),(0,T.p_)(E.e.isIRange(O));const H=w.get(S.q).getModel(P);if(!H)return;const{documentRangeSemanticTokensProvider:U}=w.get(L.p),K=yield D(U,H,E.e.lift(O),d.T.None);return K&&K.tokens?(0,C.C)({id:0,type:"full",data:K.tokens.data}):void 0}))},79095:(Et,X,e)=>{"use strict";e.d(X,{A:()=>_});var d=e(7626),t=e(5067),l=e(73455),S=e(47494),v=e(9265),T=e(29693),C=e(44827);const _=(0,v.yh)("ILanguageFeatureDebounceService");var s;!function(n){const a=new WeakMap;let p=0;n.of=function u(g){let b=a.get(g);return void 0===b&&(b=++p,a.set(g,b)),b}}(s||(s={}));class m{constructor(a,p,u,g,b,y){this._logService=a,this._name=p,this._registry=u,this._default=g,this._min=b,this._max=y,this._cache=new t.z6(50,.7)}_key(a){return a.id+this._registry.all(a).reduce((p,u)=>(0,d.SP)(s.of(u),p),0)}get(a){const p=this._key(a),u=this._cache.get(p);return u?(0,l.uZ)(u.value,this._min,this._max):this.default()}update(a,p){const u=this._key(a);let g=this._cache.get(u);g||(g=new l.N(6),this._cache.set(u,g));const b=(0,l.uZ)(g.update(p),this._min,this._max);return(0,C.xn)(a.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${a.uri.toString()} is ${b}ms`),b}_overall(){const a=new l.nM;for(const[,p]of this._cache)a.update(p.value);return a.value}default(){const a=0|this._overall()||this._default;return(0,l.uZ)(a,this._min,this._max)}}let c=class{constructor(a){this._logService=a,this._data=new Map}for(a,p,u){var g,b,y;const D=null!==(g=u?.min)&&void 0!==g?g:50,w=null!==(b=u?.max)&&void 0!==b?b:Math.pow(D,2),I=null!==(y=u?.key)&&void 0!==y?y:void 0,P=`${s.of(a)},${D}${I?","+I:""}`;let O=this._data.get(P);return O||(O=new m(this._logService,p,a,0|this._overallAverage()||1.5*D,D,w),this._data.set(P,O)),O}_overallAverage(){const a=new l.nM;for(const p of this._data.values())a.update(p.default());return a.value}};var a;c=function(n,a,p,u){var y,g=arguments.length,b=g<3?a:null===u?u=Object.getOwnPropertyDescriptor(a,p):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(n,a,p,u);else for(var D=n.length-1;D>=0;D--)(y=n[D])&&(b=(g<3?y(b):g>3?y(a,p,b):y(a,p))||b);return g>3&&b&&Object.defineProperty(a,p,b),b}([(0,a=T.VZ,function(p,u){a(p,u,0)})],c),(0,S.z)(_,c,!0)},90790:(Et,X,e)=>{"use strict";e.d(X,{p:()=>t});const t=(0,e(9265).yh)("ILanguageFeaturesService")},64763:(Et,X,e)=>{"use strict";e.d(X,{T:()=>C});var d=e(3778),t=e(80142),l=e(98998),S=e(64023),v=e(45337),T=e(72188);let C=(()=>{class L extends t.JT{constructor(s=!1){super(),this._onDidEncounterLanguage=this._register(new d.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new d.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,L.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new l.t(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){L.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,m){const c=this._registry.guessLanguageIdByFilepathOrFirstLine(s,m);return(0,S.Xh)(c,null)}createById(s){return new E(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,m){return new E(this.onDidChange,()=>{const c=this.guessLanguageIdByFilepathOrFirstLine(s,m);return this._createAndGetLanguageIdentifier(c)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=T.bd),this._encounteredLanguages.has(s)||(this._encounteredLanguages.add(s),v.RW.getOrCreate(s),this._onDidEncounterLanguage.fire(s)),s}}return L.instanceCount=0,L})();class E{constructor(_,s){this._onDidChangeLanguages=_,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new d.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var _;const s=this._selector();s!==this.languageId&&(this.languageId=s,null===(_=this._emitter)||void 0===_||_.fire(this.languageId))}}},14072:(Et,X,e)=>{"use strict";e.d(X,{Jw:()=>s,ST:()=>a,UU:()=>n});var d=e(85425),t=e(34189),l=e(59310),S=e(61283),v=e(40734),T=e(73879),C=e(72188);let E=[],L=[],_=[];function s(b,y=!1){!function m(b,y,D){const w=function c(b,y){return{id:b.id,mime:b.mime,filename:b.filename,extension:b.extension,filepattern:b.filepattern,firstline:b.firstline,userConfigured:y,filenameLowercase:b.filename?b.filename.toLowerCase():void 0,extensionLowercase:b.extension?b.extension.toLowerCase():void 0,filepatternLowercase:b.filepattern?(0,d.Qc)(b.filepattern.toLowerCase()):void 0,filepatternOnPath:!!b.filepattern&&b.filepattern.indexOf(S.KR.sep)>=0}}(b,y);E.push(w),w.userConfigured?_.push(w):L.push(w),D&&!w.userConfigured&&E.forEach(I=>{I.mime===w.mime||I.userConfigured||(w.extension&&I.extension===w.extension&&console.warn(`Overwriting extension <<${w.extension}>> to now point to mime <<${w.mime}>>`),w.filename&&I.filename===w.filename&&console.warn(`Overwriting filename <<${w.filename}>> to now point to mime <<${w.mime}>>`),w.filepattern&&I.filepattern===w.filepattern&&console.warn(`Overwriting filepattern <<${w.filepattern}>> to now point to mime <<${w.mime}>>`),w.firstline&&I.firstline===w.firstline&&console.warn(`Overwriting firstline <<${w.firstline}>> to now point to mime <<${w.mime}>>`))})}(b,!1,y)}function n(){E=E.filter(b=>b.userConfigured),L=[]}function a(b,y){return function p(b,y){let D;if(b)switch(b.scheme){case l.lg.file:D=b.fsPath;break;case l.lg.data:D=v.Vb.parseMetaData(b).get(v.Vb.META_DATA_LABEL);break;case l.lg.vscodeNotebookCell:D=void 0;break;default:D=b.path}if(!D)return[{id:"unknown",mime:t.v.unknown}];D=D.toLowerCase();const w=(0,S.EZ)(D),I=u(D,w,_);if(I)return[I,{id:C.bd,mime:t.v.text}];const P=u(D,w,L);if(P)return[P,{id:C.bd,mime:t.v.text}];if(y){const O=function g(b){if((0,T.uS)(b)&&(b=b.substr(1)),b.length>0)for(let y=E.length-1;y>=0;y--){const D=E[y];if(!D.firstline)continue;const w=b.match(D.firstline);if(w&&w.length>0)return D}}(y);if(O)return[O,{id:C.bd,mime:t.v.text}]}return[{id:"unknown",mime:t.v.unknown}]}(b,y).map(D=>D.id)}function u(b,y,D){var w;let I,P,O;for(let H=D.length-1;H>=0;H--){const U=D[H];if(y===U.filenameLowercase){I=U;break}if(U.filepattern&&(!P||U.filepattern.length>P.filepattern.length)){const K=U.filepatternOnPath?b:y;null!==(w=U.filepatternLowercase)&&void 0!==w&&w.call(U,K)&&(P=U)}U.extension&&(!O||U.extension.length>O.extension.length)&&y.endsWith(U.extensionLowercase)&&(O=U)}return I||P||O||void 0}},98998:(Et,X,e)=>{"use strict";e.d(X,{t:()=>m});var d=e(4125),t=e(3778),l=e(80142),S=e(73879),v=e(14072),T=e(72188),C=e(29093),E=e(4259);const L=Object.prototype.hasOwnProperty,_="vs.editor.nullLanguage";class s{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(_,0),this._register(T.bd,1),this._nextLanguageId=2}_register(n,a){this._languageIdToLanguage[a]=n,this._languageToLanguageId.set(n,a)}register(n){if(this._languageToLanguageId.has(n))return;const a=this._nextLanguageId++;this._register(n,a)}encodeLanguageId(n){return this._languageToLanguageId.get(n)||0}decodeLanguageId(n){return this._languageIdToLanguage[n]||_}}let m=(()=>{class c extends l.JT{constructor(a=!0,p=!1){super(),this._onDidChange=this._register(new t.Q5),this.onDidChange=this._onDidChange.event,c.instanceCount++,this._warnOnOverwrite=p,this.languageIdCodec=new s,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},a&&(this._initializeFromRegistry(),this._register(T.dQ.onDidChangeLanguages(u=>{this._initializeFromRegistry()})))}dispose(){c.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,v.UU)();const a=[].concat(T.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(a)}_registerLanguages(a){for(const p of a)this._registerLanguage(p);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(p=>{const u=this._languages[p];u.name&&(this._nameMap[u.name]=u.identifier),u.aliases.forEach(g=>{this._lowercaseNameMap[g.toLowerCase()]=u.identifier}),u.mimetypes.forEach(g=>{this._mimeTypesMap[g]=u.identifier})}),E.B.as(C.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(a){const p=a.id;let u;L.call(this._languages,p)?u=this._languages[p]:(this.languageIdCodec.register(p),u={identifier:p,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[p]=u),this._mergeLanguage(u,a)}_mergeLanguage(a,p){const u=p.id;let g=null;if(Array.isArray(p.mimetypes)&&p.mimetypes.length>0&&(a.mimetypes.push(...p.mimetypes),g=p.mimetypes[0]),g||(g=`text/x-${u}`,a.mimetypes.push(g)),Array.isArray(p.extensions)){a.extensions=p.configuration?p.extensions.concat(a.extensions):a.extensions.concat(p.extensions);for(const D of p.extensions)(0,v.Jw)({id:u,mime:g,extension:D},this._warnOnOverwrite)}if(Array.isArray(p.filenames))for(const D of p.filenames)(0,v.Jw)({id:u,mime:g,filename:D},this._warnOnOverwrite),a.filenames.push(D);if(Array.isArray(p.filenamePatterns))for(const D of p.filenamePatterns)(0,v.Jw)({id:u,mime:g,filepattern:D},this._warnOnOverwrite);if("string"==typeof p.firstLine&&p.firstLine.length>0){let D=p.firstLine;"^"!==D.charAt(0)&&(D="^"+D);try{const w=new RegExp(D);(0,S.IO)(w)||(0,v.Jw)({id:u,mime:g,firstline:w},this._warnOnOverwrite)}catch(w){(0,d.dL)(w)}}a.aliases.push(u);let b=null;if(typeof p.aliases<"u"&&Array.isArray(p.aliases)&&(b=0===p.aliases.length?[null]:p.aliases),null!==b)for(const D of b)!D||0===D.length||a.aliases.push(D);const y=null!==b&&b.length>0;if(!y||null!==b[0]){const D=(y?b[0]:null)||u;(y||!a.name)&&(a.name=D)}p.configuration&&a.configurationFiles.push(p.configuration),p.icon&&a.icons.push(p.icon)}isRegisteredLanguageId(a){return!!a&&L.call(this._languages,a)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(a){const p=a.toLowerCase();return L.call(this._lowercaseNameMap,p)?this._lowercaseNameMap[p]:null}getLanguageIdByMimeType(a){return a&&L.call(this._mimeTypesMap,a)?this._mimeTypesMap[a]:null}guessLanguageIdByFilepathOrFirstLine(a,p){return a||p?(0,v.ST)(a,p):[]}}return c.instanceCount=0,c})()},55585:(Et,X,e)=>{"use strict";e.d(X,{i:()=>t});const t=(0,e(9265).yh)("markerDecorationsService")},59602:(Et,X,e)=>{"use strict";e.d(X,{q:()=>t});const t=(0,e(9265).yh)("modelService")},37073:(Et,X,e)=>{"use strict";e.d(X,{b$:()=>ne,e3:()=>N,tw:()=>V});var d=e(3778),t=e(80142),l=e(8841),S=e(4125),v=e(59758),T=e(39945),C=e(72188),E=e(45358),L=e(59602),_=e(19147),s=e(94667),m=e(48648),c=e(73888),n=e(40902),a=e(29693),p=e(93633),u=e(7626),g=e(83183),b=e(59310),y=e(21952),D=e(70590),w=e(6276),I=e(94911),P=e(79095),O=e(631),H=e(90790),U=function(Ee,Le,Ne,oe){var pe,we=arguments.length,xe=we<3?Le:null===oe?oe=Object.getOwnPropertyDescriptor(Le,Ne):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xe=Reflect.decorate(Ee,Le,Ne,oe);else for(var Te=Ee.length-1;Te>=0;Te--)(pe=Ee[Te])&&(xe=(we<3?pe(xe):we>3?pe(Le,Ne,xe):pe(Le,Ne))||xe);return we>3&&xe&&Object.defineProperty(Le,Ne,xe),xe},K=function(Ee,Le){return function(Ne,oe){Le(Ne,oe,Ee)}};function F(Ee){return Ee.toString()}function B(Ee){const Le=new u.yP,Ne=Ee.createSnapshot();let oe;for(;oe=Ne.read();)Le.update(oe);return Le.digest()}class z{constructor(Le,Ne,oe){this._modelEventListeners=new t.SL,this.model=Le,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(Le.onWillDispose(()=>Ne(Le))),this._modelEventListeners.add(Le.onDidChangeLanguage(we=>oe(Le,we)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(Le){this._disposeLanguageSelection(),this._languageSelection=Le,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(Le.languageId)),this.model.setMode(Le.languageId)}}const $=l.IJ||l.dz?1:2;class j{constructor(Le,Ne,oe,we,xe,pe,Te,de){this.uri=Le,this.initialUndoRedoSnapshot=Ne,this.time=oe,this.sharesUndoRedoStack=we,this.heapSize=xe,this.sha1=pe,this.versionId=Te,this.alternativeVersionId=de}}let ne=class Pd extends t.JT{constructor(Le,Ne,oe,we,xe,pe,Te,de,ke){super(),this._configurationService=Le,this._resourcePropertiesService=Ne,this._themeService=oe,this._logService=we,this._undoRedoService=xe,this._languageService=pe,this._languageConfigurationService=Te,this._languageFeatureDebounceService=de,this._onModelAdded=this._register(new d.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new d.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new d.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new fe(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new Z(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,ke))}static _readModelOptions(Le,Ne){var oe;let we=T.D.tabSize;if(Le.editor&&typeof Le.editor.tabSize<"u"){const Ue=parseInt(Le.editor.tabSize,10);isNaN(Ue)||(we=Ue),we<1&&(we=1)}let xe=we;if(Le.editor&&typeof Le.editor.indentSize<"u"&&"tabSize"!==Le.editor.indentSize){const Ue=parseInt(Le.editor.indentSize,10);isNaN(Ue)||(xe=Ue),xe<1&&(xe=1)}let pe=T.D.insertSpaces;Le.editor&&typeof Le.editor.insertSpaces<"u"&&(pe="false"!==Le.editor.insertSpaces&&Boolean(Le.editor.insertSpaces));let Te=$;const de=Le.eol;"\r\n"===de?Te=2:"\n"===de&&(Te=1);let ke=T.D.trimAutoWhitespace;Le.editor&&typeof Le.editor.trimAutoWhitespace<"u"&&(ke="false"!==Le.editor.trimAutoWhitespace&&Boolean(Le.editor.trimAutoWhitespace));let ze=T.D.detectIndentation;Le.editor&&typeof Le.editor.detectIndentation<"u"&&(ze="false"!==Le.editor.detectIndentation&&Boolean(Le.editor.detectIndentation));let $e=T.D.largeFileOptimizations;Le.editor&&typeof Le.editor.largeFileOptimizations<"u"&&($e="false"!==Le.editor.largeFileOptimizations&&Boolean(Le.editor.largeFileOptimizations));let ce=T.D.bracketPairColorizationOptions;return(null===(oe=Le.editor)||void 0===oe?void 0:oe.bracketPairColorization)&&"object"==typeof Le.editor.bracketPairColorization&&(ce={enabled:!!Le.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!Le.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:Ne,tabSize:we,indentSize:xe,insertSpaces:pe,detectIndentation:ze,defaultEOL:Te,trimAutoWhitespace:ke,largeFileOptimizations:$e,bracketPairColorizationOptions:ce}}_getEOL(Le,Ne){if(Le)return this._resourcePropertiesService.getEOL(Le,Ne);const oe=this._configurationService.getValue("files.eol",{overrideIdentifier:Ne});return oe&&"string"==typeof oe&&"auto"!==oe?oe:3===l.OS||2===l.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const Le=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof Le||Le}getCreationOptions(Le,Ne,oe){let we=this._modelCreationOptionsByLanguageAndResource[Le+Ne];if(!we){const xe=this._configurationService.getValue("editor",{overrideIdentifier:Le,resource:Ne}),pe=this._getEOL(Ne,Le);we=Pd._readModelOptions({editor:xe,eol:pe},oe),this._modelCreationOptionsByLanguageAndResource[Le+Ne]=we}return we}_updateModelOptions(){const Le=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const Ne=Object.keys(this._models);for(let oe=0,we=Ne.length;oe<we;oe++){const pe=this._models[Ne[oe]],Te=pe.model.getLanguageId(),de=pe.model.uri,ke=Le[Te+de],ze=this.getCreationOptions(Te,de,pe.model.isForSimpleWidget);Pd._setModelOptionsForModel(pe.model,ze,ke)}}static _setModelOptionsForModel(Le,Ne,oe){oe&&oe.defaultEOL!==Ne.defaultEOL&&1===Le.getLineCount()&&Le.setEOL(1===Ne.defaultEOL?0:1),(!oe||oe.detectIndentation!==Ne.detectIndentation||oe.insertSpaces!==Ne.insertSpaces||oe.tabSize!==Ne.tabSize||oe.indentSize!==Ne.indentSize||oe.trimAutoWhitespace!==Ne.trimAutoWhitespace||!(0,w.fS)(oe.bracketPairColorizationOptions,Ne.bracketPairColorizationOptions))&&(Ne.detectIndentation?(Le.detectIndentation(Ne.insertSpaces,Ne.tabSize),Le.updateOptions({trimAutoWhitespace:Ne.trimAutoWhitespace,bracketColorizationOptions:Ne.bracketPairColorizationOptions})):Le.updateOptions({insertSpaces:Ne.insertSpaces,tabSize:Ne.tabSize,indentSize:Ne.indentSize,trimAutoWhitespace:Ne.trimAutoWhitespace,bracketColorizationOptions:Ne.bracketPairColorizationOptions}))}_insertDisposedModel(Le){this._disposedModels.set(F(Le.uri),Le),this._disposedModelsHeapSize+=Le.heapSize}_removeDisposedModel(Le){const Ne=this._disposedModels.get(F(Le));return Ne&&(this._disposedModelsHeapSize-=Ne.heapSize),this._disposedModels.delete(F(Le)),Ne}_ensureDisposedModelsHeapSize(Le){if(this._disposedModelsHeapSize>Le){const Ne=[];for(this._disposedModels.forEach(oe=>{oe.sharesUndoRedoStack||Ne.push(oe)}),Ne.sort((oe,we)=>oe.time-we.time);Ne.length>0&&this._disposedModelsHeapSize>Le;){const oe=Ne.shift();this._removeDisposedModel(oe.uri),null!==oe.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(oe.initialUndoRedoSnapshot)}}}_createModelData(Le,Ne,oe,we){const xe=this.getCreationOptions(Ne,oe,we),pe=new v.yO(Le,Ne,xe,oe,this._undoRedoService,this._languageService,this._languageConfigurationService);if(oe&&this._disposedModels.has(F(oe))){const ke=this._removeDisposedModel(oe),ze=this._undoRedoService.getElements(oe),$e=B(pe)===ke.sha1;if($e||ke.sharesUndoRedoStack){for(const ce of ze.past)(0,g.e9)(ce)&&ce.matchesResource(oe)&&ce.setModel(pe);for(const ce of ze.future)(0,g.e9)(ce)&&ce.matchesResource(oe)&&ce.setModel(pe);this._undoRedoService.setElementsValidFlag(oe,!0,ce=>(0,g.e9)(ce)&&ce.matchesResource(oe)),$e&&(pe._overwriteVersionId(ke.versionId),pe._overwriteAlternativeVersionId(ke.alternativeVersionId),pe._overwriteInitialUndoRedoSnapshot(ke.initialUndoRedoSnapshot))}else null!==ke.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(ke.initialUndoRedoSnapshot)}const Te=F(pe.uri);if(this._models[Te])throw new Error("ModelService: Cannot add model because it already exists!");const de=new z(pe,ke=>this._onWillDispose(ke),(ke,ze)=>this._onDidChangeLanguage(ke,ze));return this._models[Te]=de,de}createModel(Le,Ne,oe,we=!1){let xe;return Ne?(xe=this._createModelData(Le,Ne.languageId,oe,we),this.setMode(xe.model,Ne)):xe=this._createModelData(Le,C.bd,oe,we),this._onModelAdded.fire(xe.model),xe.model}setMode(Le,Ne){if(!Ne)return;const oe=this._models[F(Le.uri)];!oe||oe.setLanguage(Ne)}getModels(){const Le=[],Ne=Object.keys(this._models);for(let oe=0,we=Ne.length;oe<we;oe++)Le.push(this._models[Ne[oe]].model);return Le}getModel(Le){const Ne=F(Le),oe=this._models[Ne];return oe?oe.model:null}getSemanticTokensProviderStyling(Le){return this._semanticStyling.get(Le)}_schemaShouldMaintainUndoRedoElements(Le){return Le.scheme===b.lg.file||Le.scheme===b.lg.vscodeRemote||Le.scheme===b.lg.vscodeUserData||Le.scheme===b.lg.vscodeNotebookCell||"fake-fs"===Le.scheme}_onWillDispose(Le){const Ne=F(Le.uri),oe=this._models[Ne],we=this._undoRedoService.getUriComparisonKey(Le.uri)!==Le.uri.toString();let xe=!1,pe=0;if(we||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(Le.uri)){const de=this._undoRedoService.getElements(Le.uri);if(de.past.length>0||de.future.length>0){for(const ke of de.past)(0,g.e9)(ke)&&ke.matchesResource(Le.uri)&&(xe=!0,pe+=ke.heapSize(Le.uri),ke.setModel(Le.uri));for(const ke of de.future)(0,g.e9)(ke)&&ke.matchesResource(Le.uri)&&(xe=!0,pe+=ke.heapSize(Le.uri),ke.setModel(Le.uri))}}const Te=Pd.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(xe)if(!we&&pe>Te){const de=oe.model.getInitialUndoRedoSnapshot();null!==de&&this._undoRedoService.restoreSnapshot(de)}else this._ensureDisposedModelsHeapSize(Te-pe),this._undoRedoService.setElementsValidFlag(Le.uri,!1,de=>(0,g.e9)(de)&&de.matchesResource(Le.uri)),this._insertDisposedModel(new j(Le.uri,oe.model.getInitialUndoRedoSnapshot(),Date.now(),we,pe,B(Le),Le.getVersionId(),Le.getAlternativeVersionId()));else if(!we){const de=oe.model.getInitialUndoRedoSnapshot();null!==de&&this._undoRedoService.restoreSnapshot(de)}delete this._models[Ne],oe.dispose(),delete this._modelCreationOptionsByLanguageAndResource[Le.getLanguageId()+Le.uri],this._onModelRemoved.fire(Le)}_onDidChangeLanguage(Le,Ne){const oe=Ne.oldLanguage,we=Le.getLanguageId(),xe=this.getCreationOptions(oe,Le.uri,Le.isForSimpleWidget),pe=this.getCreationOptions(we,Le.uri,Le.isForSimpleWidget);Pd._setModelOptionsForModel(Le,pe,xe),this._onModelModeChanged.fire({model:Le,oldLanguageId:oe})}};ne.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,ne=U([K(0,s.Ui),K(1,_.y),K(2,n.XE),K(3,a.VZ),K(4,p.tJ),K(5,E.O),K(6,I.c_),K(7,P.A),K(8,H.p)],ne);const N="editor.semanticHighlighting";function V(Ee,Le,Ne){var oe;const we=null===(oe=Ne.getValue(N,{overrideIdentifier:Ee.getLanguageId(),resource:Ee.uri}))||void 0===oe?void 0:oe.enabled;return"boolean"==typeof we?we:Le.getColorTheme().semanticHighlighting}let Z=class extends t.JT{constructor(Le,Ne,oe,we,xe,pe){super(),this._watchers=Object.create(null),this._semanticStyling=Le;const Te=ze=>{this._watchers[ze.uri.toString()]=new Se(ze,this._semanticStyling,oe,xe,pe)},de=(ze,$e)=>{$e.dispose(),delete this._watchers[ze.uri.toString()]},ke=()=>{for(const ze of Ne.getModels()){const $e=this._watchers[ze.uri.toString()];V(ze,oe,we)?$e||Te(ze):$e&&de(ze,$e)}};this._register(Ne.onModelAdded(ze=>{V(ze,oe,we)&&Te(ze)})),this._register(Ne.onModelRemoved(ze=>{const $e=this._watchers[ze.uri.toString()];$e&&de(ze,$e)})),this._register(we.onDidChangeConfiguration(ze=>{ze.affectsConfiguration(N)&&ke()})),this._register(oe.onDidColorThemeChange(ke))}dispose(){for(const Le of Object.values(this._watchers))Le.dispose();super.dispose()}};Z=U([K(1,L.q),K(2,n.XE),K(3,s.Ui),K(4,P.A),K(5,H.p)],Z);class fe extends t.JT{constructor(Le,Ne,oe){super(),this._themeService=Le,this._languageService=Ne,this._logService=oe,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(Le){return this._caches.has(Le)||this._caches.set(Le,new y.$(Le.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(Le)}}class M{constructor(Le,Ne,oe){this.provider=Le,this.resultId=Ne,this.data=oe}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let Se=class Pl extends t.JT{constructor(Le,Ne,oe,we,xe){super(),this._isDisposed=!1,this._model=Le,this._semanticStyling=Ne,this._provider=xe.documentSemanticTokensProvider,this._debounceInformation=we.for(this._provider,"DocumentSemanticTokens",{min:Pl.REQUEST_MIN_DELAY,max:Pl.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new m.pY(()=>this._fetchDocumentSemanticTokensNow(),Pl.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const pe=()=>{(0,t.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Te of this._provider.all(Le))"function"==typeof Te.onDidChange&&this._documentProvidersChangeListeners.push(Te.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};pe(),this._register(this._provider.onDidChange(()=>{pe(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(oe.onDidColorThemeChange(Te=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,D.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));const Le=new c.A,we=(0,D.ML)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,Le.token);this._currentDocumentRequestCancellationTokenSource=Le;const xe=[],pe=this._model.onDidChangeContent(de=>{xe.push(de)}),Te=new O.G(!1);we.then(de=>{if(this._debounceInformation.update(this._model,Te.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,pe.dispose(),de){const{provider:ke,tokens:ze}=de,$e=this._semanticStyling.get(ke);this._setDocumentSemanticTokens(ke,ze||null,$e,xe)}else this._setDocumentSemanticTokens(null,null,null,xe)},de=>{de&&(S.n2(de)||"string"==typeof de.message&&-1!==de.message.indexOf("busy"))||S.dL(de),this._currentDocumentRequestCancellationTokenSource=null,pe.dispose(),xe.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(Le,Ne,oe,we,xe){xe=Math.min(xe,oe.length-we,Le.length-Ne);for(let pe=0;pe<xe;pe++)oe[we+pe]=Le[Ne+pe]}_setDocumentSemanticTokens(Le,Ne,oe,we){const xe=this._currentDocumentResponse,pe=()=>{we.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)Le&&Ne&&Le.releaseDocumentSemanticTokens(Ne.resultId);else if(Le&&oe){if(!Ne)return this._model.tokenization.setSemanticTokens(null,!0),void pe();if((0,D.Vj)(Ne)){if(!xe)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===Ne.edits.length)Ne={resultId:Ne.resultId,data:xe.data};else{let Te=0;for(const ce of Ne.edits)Te+=(ce.data?ce.data.length:0)-ce.deleteCount;const de=xe.data,ke=new Uint32Array(de.length+Te);let ze=de.length,$e=ke.length;for(let ce=Ne.edits.length-1;ce>=0;ce--){const Ue=Ne.edits[ce];if(Ue.start>de.length)return oe.warnInvalidEditStart(xe.resultId,Ne.resultId,ce,Ue.start,de.length),void this._model.tokenization.setSemanticTokens(null,!0);const nt=ze-(Ue.start+Ue.deleteCount);nt>0&&(Pl._copy(de,ze-nt,ke,$e-nt,nt),$e-=nt),Ue.data&&(Pl._copy(Ue.data,0,ke,$e-Ue.data.length,Ue.data.length),$e-=Ue.data.length),ze=Ue.start}ze>0&&Pl._copy(de,0,ke,0,ze),Ne={resultId:Ne.resultId,data:ke}}}if((0,D.Vl)(Ne)){this._currentDocumentResponse=new M(Le,Ne.resultId,Ne.data);const Te=(0,y.h)(Ne,oe,this._model.getLanguageId());if(we.length>0)for(const de of we)for(const ke of Te)for(const ze of de.changes)ke.applyEdit(ze.range,ze.text);this._model.tokenization.setSemanticTokens(Te,!0)}else this._model.tokenization.setSemanticTokens(null,!0);pe()}else this._model.tokenization.setSemanticTokens(null,!1)}};Se.REQUEST_MIN_DELAY=300,Se.REQUEST_MAX_DELAY=2e3,Se=U([K(2,n.XE),K(3,P.A),K(4,H.p)],Se)},1149:(Et,X,e)=>{"use strict";e.d(X,{S:()=>t});const t=(0,e(9265).yh)("textModelService")},45802:(Et,X,e)=>{"use strict";e.d(X,{C:()=>v});var d=e(32068),t=e(8841);function v(C){const E=new Uint32Array(function T(C){let E=0;if(E+=2,"full"===C.type)E+=1+C.data.length;else{E+=1,E+=3*C.deltas.length;for(const L of C.deltas)L.data&&(E+=L.data.length)}return E}(C));let L=0;if(E[L++]=C.id,"full"===C.type)E[L++]=1,E[L++]=C.data.length,E.set(C.data,L),L+=C.data.length;else{E[L++]=2,E[L++]=C.deltas.length;for(const _ of C.deltas)E[L++]=_.start,E[L++]=_.deleteCount,_.data?(E[L++]=_.data.length,E.set(_.data,L),L+=_.data.length):E[L++]=0}return function S(C){const E=new Uint8Array(C.buffer,C.byteOffset,4*C.length);return t.r()||function l(C){for(let E=0,L=C.length;E<L;E+=4){const _=C[E+0],s=C[E+1],m=C[E+2];C[E+0]=C[E+3],C[E+1]=m,C[E+2]=s,C[E+3]=_}}(E),d.KN.wrap(E)}(E)}},21952:(Et,X,e)=>{"use strict";e.d(X,{$:()=>c,h:()=>n});var d=e(1465),t=e(40902),l=e(29693),S=e(18723),v=e(98570),T=e(93169);class C{constructor(g,b){this._startLineNumber=g,this._tokens=b,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(g,b){return new C(g,new E(b))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(g){return this._startLineNumber<=g&&g<=this._endLineNumber?this._tokens.getLineTokens(g-this._startLineNumber):null}getRange(){const g=this._tokens.getRange();return g&&new v.e(this._startLineNumber+g.startLineNumber,g.startColumn,this._startLineNumber+g.endLineNumber,g.endColumn)}removeTokens(g){this._startLineNumber+=this._tokens.removeTokens(g.startLineNumber-this._startLineNumber,g.startColumn-1,g.endLineNumber-this._startLineNumber,g.endColumn-1),this._updateEndLineNumber()}split(g){const b=g.startLineNumber-this._startLineNumber,y=g.endLineNumber-this._startLineNumber,[D,w,I]=this._tokens.split(b,g.startColumn-1,y,g.endColumn-1);return[new C(this._startLineNumber,D),new C(this._startLineNumber+I,w)]}applyEdit(g,b){const[y,D,w]=(0,T.Q)(b);this.acceptEdit(g,y,D,w,b.length>0?b.charCodeAt(0):0)}acceptEdit(g,b,y,D,w){this._acceptDeleteRange(g),this._acceptInsertText(new S.L(g.startLineNumber,g.startColumn),b,y,D,w),this._updateEndLineNumber()}_acceptDeleteRange(g){if(g.startLineNumber===g.endLineNumber&&g.startColumn===g.endColumn)return;const b=g.startLineNumber-this._startLineNumber,y=g.endLineNumber-this._startLineNumber;if(y<0)return void(this._startLineNumber-=y-b);const D=this._tokens.getMaxDeltaLine();if(!(b>=D+1)){if(b<0&&y>=D+1)return this._startLineNumber=0,void this._tokens.clear();b<0?(this._startLineNumber-=-b,this._tokens.acceptDeleteRange(g.startColumn-1,0,0,y,g.endColumn-1)):this._tokens.acceptDeleteRange(0,b,g.startColumn-1,y,g.endColumn-1)}}_acceptInsertText(g,b,y,D,w){if(0===b&&0===y)return;const I=g.lineNumber-this._startLineNumber;I<0?this._startLineNumber+=b:I>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(I,g.column-1,b,y,D,w)}}class E{constructor(g){this._tokens=g,this._tokenCount=g.length/4}toString(g){const b=[];for(let y=0;y<this._tokenCount;y++)b.push(`(${this._getDeltaLine(y)+g},${this._getStartCharacter(y)}-${this._getEndCharacter(y)})`);return`[${b.join(",")}]`}getMaxDeltaLine(){const g=this._getTokenCount();return 0===g?-1:this._getDeltaLine(g-1)}getRange(){const g=this._getTokenCount();if(0===g)return null;const b=this._getStartCharacter(0),y=this._getDeltaLine(g-1),D=this._getEndCharacter(g-1);return new v.e(0,b+1,y,D+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(g){return this._tokens[4*g]}_getStartCharacter(g){return this._tokens[4*g+1]}_getEndCharacter(g){return this._tokens[4*g+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(g){let b=0,y=this._getTokenCount()-1;for(;b<y;){const D=b+Math.floor((y-b)/2),w=this._getDeltaLine(D);if(w<g)b=D+1;else{if(!(w>g)){let I=D;for(;I>b&&this._getDeltaLine(I-1)===g;)I--;let P=D;for(;P<y&&this._getDeltaLine(P+1)===g;)P++;return new L(this._tokens.subarray(4*I,4*P+4))}y=D-1}}return this._getDeltaLine(b)===g?new L(this._tokens.subarray(4*b,4*b+4)):null}clear(){this._tokenCount=0}removeTokens(g,b,y,D){const w=this._tokens,I=this._tokenCount;let P=0,O=!1,H=0;for(let U=0;U<I;U++){const K=4*U,F=w[K],B=w[K+1],z=w[K+2],$=w[K+3];if((F>g||F===g&&z>=b)&&(F<y||F===y&&B<=D))O=!0;else{if(0===P&&(H=F),O){const j=4*P;w[j]=F-H,w[j+1]=B,w[j+2]=z,w[j+3]=$}P++}}return this._tokenCount=P,H}split(g,b,y,D){const w=this._tokens,I=this._tokenCount,P=[],O=[];let H=P,U=0,K=0;for(let F=0;F<I;F++){const B=4*F,z=w[B],$=w[B+1],j=w[B+2],ne=w[B+3];if(z>g||z===g&&j>=b){if(z<y||z===y&&$<=D)continue;H!==O&&(H=O,U=0,K=z)}H[U++]=z-K,H[U++]=$,H[U++]=j,H[U++]=ne}return[new E(new Uint32Array(P)),new E(new Uint32Array(O)),K]}acceptDeleteRange(g,b,y,D,w){const I=this._tokens,P=this._tokenCount,O=D-b;let H=0,U=!1;for(let K=0;K<P;K++){const F=4*K;let B=I[F],z=I[F+1],$=I[F+2];const j=I[F+3];if(B<b||B===b&&$<=y){H++;continue}if(B===b&&z<y)B===D&&$>w?$-=w-y:$=y;else if(B===b&&z===y){if(!(B===D&&$>w)){U=!0;continue}$-=w-y}else if(B<D||B===D&&z<w){if(!(B===D&&$>w)){U=!0;continue}B===b?(z=y,$=z+($-w)):(z=0,$=z+($-w))}else if(B>D){if(0===O&&!U){H=P;break}B-=O}else{if(!(B===D&&z>=w))throw new Error("Not possible!");g&&0===B&&(z+=g,$+=g),B-=O,z-=w-y,$-=w-y}const ne=4*H;I[ne]=B,I[ne+1]=z,I[ne+2]=$,I[ne+3]=j,H++}this._tokenCount=H}acceptInsertText(g,b,y,D,w,I){const P=0===y&&1===D&&(I>=48&&I<=57||I>=65&&I<=90||I>=97&&I<=122),O=this._tokens,H=this._tokenCount;for(let U=0;U<H;U++){const K=4*U;let F=O[K],B=O[K+1],z=O[K+2];if(!(F<g||F===g&&z<b)){if(F===g&&z===b){if(!P)continue;z+=1}else if(F===g&&B<b&&b<z)0===y?z+=D:z=b;else{if(F===g&&B===b&&P)continue;if(F===g)if(F+=y,0===y)B+=D,z+=D;else{const $=z-B;B=w+(B-b),z=B+$}else F+=y}O[K]=F,O[K+1]=B,O[K+2]=z}}}}class L{constructor(g){this._tokens=g}getCount(){return this._tokens.length/4}getStartCharacter(g){return this._tokens[4*g+1]}getEndCharacter(g){return this._tokens[4*g+2]}getMetadata(g){return this._tokens[4*g+3]}}var _=e(45358),m=function(u,g){return function(b,y){g(b,y,u)}};let c=class{constructor(g,b,y,D){this._legend=g,this._themeService=b,this._languageService=y,this._logService=D,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new p}getMetadata(g,b,y){const D=this._languageService.languageIdCodec.encodeLanguageId(y),w=this._hashTable.get(g,b,D);let I;if(w)I=w.metadata,this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${g} / ${b}: foreground ${d.N.getForeground(I)}, fontStyle ${d.N.getFontStyle(I).toString(2)}`);else{let P=this._legend.tokenTypes[g];const O=[];if(P){let H=b;for(let K=0;H>0&&K<this._legend.tokenModifiers.length;K++)1&H&&O.push(this._legend.tokenModifiers[K]),H>>=1;H>0&&this._logService.getLevel()===l.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${b.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),O.push("not-in-legend"));const U=this._themeService.getColorTheme().getTokenStyleMetadata(P,O,y);typeof U>"u"?I=2147483647:(I=0,typeof U.italic<"u"&&(I|=1|(U.italic?1:0)<<11),typeof U.bold<"u"&&(I|=2|(U.bold?2:0)<<11),typeof U.underline<"u"&&(I|=4|(U.underline?4:0)<<11),typeof U.strikethrough<"u"&&(I|=8|(U.strikethrough?8:0)<<11),U.foreground&&(I|=16|U.foreground<<15),0===I&&(I=2147483647))}else this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${g} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),I=2147483647,P="not-in-legend";this._hashTable.add(g,b,D,I),this._logService.getLevel()===l.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${g} (${P}) / ${b} (${O.join(" ")}): foreground ${d.N.getForeground(I)}, fontStyle ${d.N.getFontStyle(I).toString(2)}`)}return I}warnOverlappingSemanticTokens(g,b){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${g}, column ${b}`))}warnInvalidLengthSemanticTokens(g,b){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${g}, column ${b}`))}warnInvalidEditStart(g,b,y,D,w){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${g}, resultId: ${b}) at edit #${y}: The provided start offset ${D} is outside the previous data (length ${w}).`))}};function n(u,g,b){const y=u.data,D=u.data.length/5|0,w=Math.max(Math.ceil(D/1024),400),I=[];let P=0,O=1,H=0;for(;P<D;){const U=P;let K=Math.min(U+w,D);if(K<D){let N=K;for(;N-1>U&&0===y[5*N];)N--;if(N-1===U){let V=K;for(;V+1<D&&0===y[5*V];)V++;K=V}else K=N}let F=new Uint32Array(4*(K-U)),B=0,z=0,$=0,j=0;for(;P<K;){const N=5*P,V=y[N],Z=y[N+1],fe=O+V|0,M=0===V?H+Z|0:Z,Ee=M+y[N+2]|0,Le=y[N+3],Ne=y[N+4];if(Ee<=M)g.warnInvalidLengthSemanticTokens(fe,M+1);else if($===fe&&j>M)g.warnOverlappingSemanticTokens(fe,M+1);else{const oe=g.getMetadata(Le,Ne,b);2147483647!==oe&&(0===z&&(z=fe),F[B]=fe-z,F[B+1]=M,F[B+2]=Ee,F[B+3]=oe,B+=4,$=fe,j=Ee)}O=fe,H=M,P++}B!==F.length&&(F=F.subarray(0,B));const ne=C.create(z,F);I.push(ne)}return I}c=function(u,g,b,y){var I,D=arguments.length,w=D<3?g:null===y?y=Object.getOwnPropertyDescriptor(g,b):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(u,g,b,y);else for(var P=u.length-1;P>=0;P--)(I=u[P])&&(w=(D<3?I(w):D>3?I(g,b,w):I(g,b))||w);return D>3&&w&&Object.defineProperty(g,b,w),w}([m(1,t.XE),m(2,_.O),m(3,l.VZ)],c);class a{constructor(g,b,y,D){this.tokenTypeIndex=g,this.tokenModifierSet=b,this.languageId=y,this.metadata=D,this.next=null}}let p=(()=>{class u{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=u._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<u._SIZES.length?2/3*this._currentLength:0),this._elements=[],u._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(b,y){for(let D=0;D<y;D++)b[D]=null}_hash2(b,y){return(b<<5)-b+y|0}_hashFunc(b,y,D){return this._hash2(this._hash2(b,y),D)%this._currentLength}get(b,y,D){const w=this._hashFunc(b,y,D);let I=this._elements[w];for(;I;){if(I.tokenTypeIndex===b&&I.tokenModifierSet===y&&I.languageId===D)return I;I=I.next}return null}add(b,y,D,w){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const I=this._elements;this._currentLengthIndex++,this._currentLength=u._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<u._SIZES.length?2/3*this._currentLength:0),this._elements=[],u._nullOutEntries(this._elements,this._currentLength);for(const P of I){let O=P;for(;O;){const H=O.next;O.next=null,this._add(O),O=H}}}this._add(new a(b,y,D,w))}_add(b){const y=this._hashFunc(b.tokenTypeIndex,b.tokenModifierSet,b.languageId);b.next=this._elements[y],this._elements[y]=b}}return u._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],u})()},19147:(Et,X,e)=>{"use strict";e.d(X,{V:()=>t,y:()=>l});var d=e(9265);const t=(0,d.yh)("textResourceConfigurationService"),l=(0,d.yh)("textResourcePropertiesService")},27245:(Et,X,e)=>{"use strict";e.d(X,{a:()=>T});var d=e(98570),t=e(56952),l=e(73879),S=e(72715),v=e(50894);class T{static computeUnicodeHighlights(s,m,c){const n=c?c.startLineNumber:1,a=c?c.endLineNumber:s.getLineCount(),p=new E(m),u=p.getCandidateCodePoints();let g;g="allNonBasicAscii"===u?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function C(_,s){return`[${l.ec(_.map(c=>String.fromCodePoint(c)).join(""))}]`}(Array.from(u))}`,"g");const b=new t.sz(null,g),y=[];let w,D=!1,I=0,P=0,O=0;e:for(let H=n,U=a;H<=U;H++){const K=s.getLineContent(H),F=K.length;b.reset(0);do{if(w=b.next(K),w){let B=w.index,z=w.index+w[0].length;if(B>0){const N=K.charCodeAt(B-1);l.ZG(N)&&B--}if(z+1<F){const N=K.charCodeAt(z-1);l.ZG(N)&&z++}const $=K.substring(B,z),j=(0,v.t2)(B+1,v.Af,K,0),ne=p.shouldHighlightNonBasicASCII($,j?j.word:null);if(0!==ne){if(3===ne?I++:2===ne?P++:1===ne?O++:(0,S.vE)(ne),y.length>=1e3){D=!0;break e}y.push(new d.e(H,B+1,H,z+1))}}}while(w)}return{ranges:y,hasMore:D,ambiguousCharacterCount:I,invisibleCharacterCount:P,nonBasicAsciiCharacterCount:O}}static computeUnicodeHighlightReason(s,m){const c=new E(m);switch(c.shouldHighlightNonBasicASCII(s,null)){case 0:return null;case 2:return{kind:1};case 3:{const a=s.codePointAt(0),p=c.ambiguousCharacters.getPrimaryConfusable(a),u=l.ZK.getLocales().filter(g=>!l.ZK.getInstance(new Set([...m.allowedLocales,g])).isAmbiguous(a));return{kind:0,confusableWith:String.fromCodePoint(p),notAmbiguousInLocales:u}}case 1:return{kind:2}}}}class E{constructor(s){this.options=s,this.allowedCodePoints=new Set(s.allowedCodePoints),this.ambiguousCharacters=l.ZK.getInstance(new Set(s.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const s=new Set;if(this.options.invisibleCharacters)for(const m of l.vU.codePoints)L(String.fromCodePoint(m))||s.add(m);if(this.options.ambiguousCharacters)for(const m of this.ambiguousCharacters.getConfusableCodePoints())s.add(m);for(const m of this.allowedCodePoints)s.delete(m);return s}shouldHighlightNonBasicASCII(s,m){const c=s.codePointAt(0);if(this.allowedCodePoints.has(c))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,a=!1;if(m)for(const p of m){const u=p.codePointAt(0),g=l.$i(p);n=n||g,!g&&!this.ambiguousCharacters.isAmbiguous(u)&&!l.vU.isInvisibleCharacter(u)&&(a=!0)}return!n&&a?0:this.options.invisibleCharacters&&!L(s)&&l.vU.isInvisibleCharacter(c)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(c)?3:0}}function L(_){return" "===_||"\n"===_||"\t"===_}},98104:(Et,X,e)=>{"use strict";e.d(X,{E$:()=>P,F5:()=>w,Ij:()=>T,In:()=>N,Lu:()=>U,MG:()=>I,MY:()=>_,OI:()=>Z,RM:()=>p,VD:()=>b,Vi:()=>E,WW:()=>$,ZL:()=>y,_x:()=>L,a$:()=>z,a7:()=>l,ao:()=>d,bw:()=>g,cR:()=>j,cm:()=>S,d2:()=>V,eB:()=>D,g4:()=>F,g_:()=>B,gl:()=>u,gm:()=>c,jl:()=>n,np:()=>t,py:()=>H,r3:()=>C,r4:()=>ne,rf:()=>s,sh:()=>O,up:()=>fe,vQ:()=>K,wT:()=>m,wU:()=>a,we:()=>v});var d=(()=>{return(M=d||(d={}))[M.Unknown=0]="Unknown",M[M.Disabled=1]="Disabled",M[M.Enabled=2]="Enabled",d;var M})(),t=(()=>{return(M=t||(t={}))[M.Invoke=1]="Invoke",M[M.Auto=2]="Auto",t;var M})(),l=(()=>{return(M=l||(l={}))[M.KeepWhitespace=1]="KeepWhitespace",M[M.InsertAsSnippet=4]="InsertAsSnippet",l;var M})(),S=(()=>{return(M=S||(S={}))[M.Method=0]="Method",M[M.Function=1]="Function",M[M.Constructor=2]="Constructor",M[M.Field=3]="Field",M[M.Variable=4]="Variable",M[M.Class=5]="Class",M[M.Struct=6]="Struct",M[M.Interface=7]="Interface",M[M.Module=8]="Module",M[M.Property=9]="Property",M[M.Event=10]="Event",M[M.Operator=11]="Operator",M[M.Unit=12]="Unit",M[M.Value=13]="Value",M[M.Constant=14]="Constant",M[M.Enum=15]="Enum",M[M.EnumMember=16]="EnumMember",M[M.Keyword=17]="Keyword",M[M.Text=18]="Text",M[M.Color=19]="Color",M[M.File=20]="File",M[M.Reference=21]="Reference",M[M.Customcolor=22]="Customcolor",M[M.Folder=23]="Folder",M[M.TypeParameter=24]="TypeParameter",M[M.User=25]="User",M[M.Issue=26]="Issue",M[M.Snippet=27]="Snippet",S;var M})(),v=(()=>{return(M=v||(v={}))[M.Deprecated=1]="Deprecated",v;var M})(),T=(()=>{return(M=T||(T={}))[M.Invoke=0]="Invoke",M[M.TriggerCharacter=1]="TriggerCharacter",M[M.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",T;var M})(),C=(()=>{return(M=C||(C={}))[M.EXACT=0]="EXACT",M[M.ABOVE=1]="ABOVE",M[M.BELOW=2]="BELOW",C;var M})(),E=(()=>{return(M=E||(E={}))[M.NotSet=0]="NotSet",M[M.ContentFlush=1]="ContentFlush",M[M.RecoverFromMarkers=2]="RecoverFromMarkers",M[M.Explicit=3]="Explicit",M[M.Paste=4]="Paste",M[M.Undo=5]="Undo",M[M.Redo=6]="Redo",E;var M})(),L=(()=>{return(M=L||(L={}))[M.LF=1]="LF",M[M.CRLF=2]="CRLF",L;var M})(),_=(()=>{return(M=_||(_={}))[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write",_;var M})(),s=(()=>{return(M=s||(s={}))[M.None=0]="None",M[M.Keep=1]="Keep",M[M.Brackets=2]="Brackets",M[M.Advanced=3]="Advanced",M[M.Full=4]="Full",s;var M})(),m=(()=>{return(M=m||(m={}))[M.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",M[M.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",M[M.accessibilitySupport=2]="accessibilitySupport",M[M.accessibilityPageSize=3]="accessibilityPageSize",M[M.ariaLabel=4]="ariaLabel",M[M.autoClosingBrackets=5]="autoClosingBrackets",M[M.autoClosingDelete=6]="autoClosingDelete",M[M.autoClosingOvertype=7]="autoClosingOvertype",M[M.autoClosingQuotes=8]="autoClosingQuotes",M[M.autoIndent=9]="autoIndent",M[M.automaticLayout=10]="automaticLayout",M[M.autoSurround=11]="autoSurround",M[M.bracketPairColorization=12]="bracketPairColorization",M[M.guides=13]="guides",M[M.codeLens=14]="codeLens",M[M.codeLensFontFamily=15]="codeLensFontFamily",M[M.codeLensFontSize=16]="codeLensFontSize",M[M.colorDecorators=17]="colorDecorators",M[M.columnSelection=18]="columnSelection",M[M.comments=19]="comments",M[M.contextmenu=20]="contextmenu",M[M.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",M[M.cursorBlinking=22]="cursorBlinking",M[M.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",M[M.cursorStyle=24]="cursorStyle",M[M.cursorSurroundingLines=25]="cursorSurroundingLines",M[M.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",M[M.cursorWidth=27]="cursorWidth",M[M.disableLayerHinting=28]="disableLayerHinting",M[M.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",M[M.domReadOnly=30]="domReadOnly",M[M.dragAndDrop=31]="dragAndDrop",M[M.dropIntoEditor=32]="dropIntoEditor",M[M.emptySelectionClipboard=33]="emptySelectionClipboard",M[M.experimental=34]="experimental",M[M.extraEditorClassName=35]="extraEditorClassName",M[M.fastScrollSensitivity=36]="fastScrollSensitivity",M[M.find=37]="find",M[M.fixedOverflowWidgets=38]="fixedOverflowWidgets",M[M.folding=39]="folding",M[M.foldingStrategy=40]="foldingStrategy",M[M.foldingHighlight=41]="foldingHighlight",M[M.foldingImportsByDefault=42]="foldingImportsByDefault",M[M.foldingMaximumRegions=43]="foldingMaximumRegions",M[M.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",M[M.fontFamily=45]="fontFamily",M[M.fontInfo=46]="fontInfo",M[M.fontLigatures=47]="fontLigatures",M[M.fontSize=48]="fontSize",M[M.fontWeight=49]="fontWeight",M[M.formatOnPaste=50]="formatOnPaste",M[M.formatOnType=51]="formatOnType",M[M.glyphMargin=52]="glyphMargin",M[M.gotoLocation=53]="gotoLocation",M[M.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",M[M.hover=55]="hover",M[M.inDiffEditor=56]="inDiffEditor",M[M.inlineSuggest=57]="inlineSuggest",M[M.letterSpacing=58]="letterSpacing",M[M.lightbulb=59]="lightbulb",M[M.lineDecorationsWidth=60]="lineDecorationsWidth",M[M.lineHeight=61]="lineHeight",M[M.lineNumbers=62]="lineNumbers",M[M.lineNumbersMinChars=63]="lineNumbersMinChars",M[M.linkedEditing=64]="linkedEditing",M[M.links=65]="links",M[M.matchBrackets=66]="matchBrackets",M[M.minimap=67]="minimap",M[M.mouseStyle=68]="mouseStyle",M[M.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",M[M.mouseWheelZoom=70]="mouseWheelZoom",M[M.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",M[M.multiCursorModifier=72]="multiCursorModifier",M[M.multiCursorPaste=73]="multiCursorPaste",M[M.occurrencesHighlight=74]="occurrencesHighlight",M[M.overviewRulerBorder=75]="overviewRulerBorder",M[M.overviewRulerLanes=76]="overviewRulerLanes",M[M.padding=77]="padding",M[M.parameterHints=78]="parameterHints",M[M.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",M[M.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",M[M.quickSuggestions=81]="quickSuggestions",M[M.quickSuggestionsDelay=82]="quickSuggestionsDelay",M[M.readOnly=83]="readOnly",M[M.renameOnType=84]="renameOnType",M[M.renderControlCharacters=85]="renderControlCharacters",M[M.renderFinalNewline=86]="renderFinalNewline",M[M.renderLineHighlight=87]="renderLineHighlight",M[M.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",M[M.renderValidationDecorations=89]="renderValidationDecorations",M[M.renderWhitespace=90]="renderWhitespace",M[M.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",M[M.roundedSelection=92]="roundedSelection",M[M.rulers=93]="rulers",M[M.scrollbar=94]="scrollbar",M[M.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",M[M.scrollBeyondLastLine=96]="scrollBeyondLastLine",M[M.scrollPredominantAxis=97]="scrollPredominantAxis",M[M.selectionClipboard=98]="selectionClipboard",M[M.selectionHighlight=99]="selectionHighlight",M[M.selectOnLineNumbers=100]="selectOnLineNumbers",M[M.showFoldingControls=101]="showFoldingControls",M[M.showUnused=102]="showUnused",M[M.snippetSuggestions=103]="snippetSuggestions",M[M.smartSelect=104]="smartSelect",M[M.smoothScrolling=105]="smoothScrolling",M[M.stickyTabStops=106]="stickyTabStops",M[M.stopRenderingLineAfter=107]="stopRenderingLineAfter",M[M.suggest=108]="suggest",M[M.suggestFontSize=109]="suggestFontSize",M[M.suggestLineHeight=110]="suggestLineHeight",M[M.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",M[M.suggestSelection=112]="suggestSelection",M[M.tabCompletion=113]="tabCompletion",M[M.tabIndex=114]="tabIndex",M[M.unicodeHighlighting=115]="unicodeHighlighting",M[M.unusualLineTerminators=116]="unusualLineTerminators",M[M.useShadowDOM=117]="useShadowDOM",M[M.useTabStops=118]="useTabStops",M[M.wordSeparators=119]="wordSeparators",M[M.wordWrap=120]="wordWrap",M[M.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",M[M.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",M[M.wordWrapColumn=123]="wordWrapColumn",M[M.wordWrapOverride1=124]="wordWrapOverride1",M[M.wordWrapOverride2=125]="wordWrapOverride2",M[M.wrappingIndent=126]="wrappingIndent",M[M.wrappingStrategy=127]="wrappingStrategy",M[M.showDeprecated=128]="showDeprecated",M[M.inlayHints=129]="inlayHints",M[M.editorClassName=130]="editorClassName",M[M.pixelRatio=131]="pixelRatio",M[M.tabFocusMode=132]="tabFocusMode",M[M.layoutInfo=133]="layoutInfo",M[M.wrappingInfo=134]="wrappingInfo",m;var M})(),c=(()=>{return(M=c||(c={}))[M.TextDefined=0]="TextDefined",M[M.LF=1]="LF",M[M.CRLF=2]="CRLF",c;var M})(),n=(()=>{return(M=n||(n={}))[M.LF=0]="LF",M[M.CRLF=1]="CRLF",n;var M})(),a=(()=>{return(M=a||(a={}))[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent",a;var M})(),p=(()=>{return(M=p||(p={}))[M.Both=0]="Both",M[M.Right=1]="Right",M[M.Left=2]="Left",M[M.None=3]="None",p;var M})(),u=(()=>{return(M=u||(u={}))[M.Type=1]="Type",M[M.Parameter=2]="Parameter",u;var M})(),g=(()=>{return(M=g||(g={}))[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit",g;var M})(),b=(()=>{return(M=b||(b={}))[M.DependsOnKbLayout=-1]="DependsOnKbLayout",M[M.Unknown=0]="Unknown",M[M.Backspace=1]="Backspace",M[M.Tab=2]="Tab",M[M.Enter=3]="Enter",M[M.Shift=4]="Shift",M[M.Ctrl=5]="Ctrl",M[M.Alt=6]="Alt",M[M.PauseBreak=7]="PauseBreak",M[M.CapsLock=8]="CapsLock",M[M.Escape=9]="Escape",M[M.Space=10]="Space",M[M.PageUp=11]="PageUp",M[M.PageDown=12]="PageDown",M[M.End=13]="End",M[M.Home=14]="Home",M[M.LeftArrow=15]="LeftArrow",M[M.UpArrow=16]="UpArrow",M[M.RightArrow=17]="RightArrow",M[M.DownArrow=18]="DownArrow",M[M.Insert=19]="Insert",M[M.Delete=20]="Delete",M[M.Digit0=21]="Digit0",M[M.Digit1=22]="Digit1",M[M.Digit2=23]="Digit2",M[M.Digit3=24]="Digit3",M[M.Digit4=25]="Digit4",M[M.Digit5=26]="Digit5",M[M.Digit6=27]="Digit6",M[M.Digit7=28]="Digit7",M[M.Digit8=29]="Digit8",M[M.Digit9=30]="Digit9",M[M.KeyA=31]="KeyA",M[M.KeyB=32]="KeyB",M[M.KeyC=33]="KeyC",M[M.KeyD=34]="KeyD",M[M.KeyE=35]="KeyE",M[M.KeyF=36]="KeyF",M[M.KeyG=37]="KeyG",M[M.KeyH=38]="KeyH",M[M.KeyI=39]="KeyI",M[M.KeyJ=40]="KeyJ",M[M.KeyK=41]="KeyK",M[M.KeyL=42]="KeyL",M[M.KeyM=43]="KeyM",M[M.KeyN=44]="KeyN",M[M.KeyO=45]="KeyO",M[M.KeyP=46]="KeyP",M[M.KeyQ=47]="KeyQ",M[M.KeyR=48]="KeyR",M[M.KeyS=49]="KeyS",M[M.KeyT=50]="KeyT",M[M.KeyU=51]="KeyU",M[M.KeyV=52]="KeyV",M[M.KeyW=53]="KeyW",M[M.KeyX=54]="KeyX",M[M.KeyY=55]="KeyY",M[M.KeyZ=56]="KeyZ",M[M.Meta=57]="Meta",M[M.ContextMenu=58]="ContextMenu",M[M.F1=59]="F1",M[M.F2=60]="F2",M[M.F3=61]="F3",M[M.F4=62]="F4",M[M.F5=63]="F5",M[M.F6=64]="F6",M[M.F7=65]="F7",M[M.F8=66]="F8",M[M.F9=67]="F9",M[M.F10=68]="F10",M[M.F11=69]="F11",M[M.F12=70]="F12",M[M.F13=71]="F13",M[M.F14=72]="F14",M[M.F15=73]="F15",M[M.F16=74]="F16",M[M.F17=75]="F17",M[M.F18=76]="F18",M[M.F19=77]="F19",M[M.NumLock=78]="NumLock",M[M.ScrollLock=79]="ScrollLock",M[M.Semicolon=80]="Semicolon",M[M.Equal=81]="Equal",M[M.Comma=82]="Comma",M[M.Minus=83]="Minus",M[M.Period=84]="Period",M[M.Slash=85]="Slash",M[M.Backquote=86]="Backquote",M[M.BracketLeft=87]="BracketLeft",M[M.Backslash=88]="Backslash",M[M.BracketRight=89]="BracketRight",M[M.Quote=90]="Quote",M[M.OEM_8=91]="OEM_8",M[M.IntlBackslash=92]="IntlBackslash",M[M.Numpad0=93]="Numpad0",M[M.Numpad1=94]="Numpad1",M[M.Numpad2=95]="Numpad2",M[M.Numpad3=96]="Numpad3",M[M.Numpad4=97]="Numpad4",M[M.Numpad5=98]="Numpad5",M[M.Numpad6=99]="Numpad6",M[M.Numpad7=100]="Numpad7",M[M.Numpad8=101]="Numpad8",M[M.Numpad9=102]="Numpad9",M[M.NumpadMultiply=103]="NumpadMultiply",M[M.NumpadAdd=104]="NumpadAdd",M[M.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",M[M.NumpadSubtract=106]="NumpadSubtract",M[M.NumpadDecimal=107]="NumpadDecimal",M[M.NumpadDivide=108]="NumpadDivide",M[M.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",M[M.ABNT_C1=110]="ABNT_C1",M[M.ABNT_C2=111]="ABNT_C2",M[M.AudioVolumeMute=112]="AudioVolumeMute",M[M.AudioVolumeUp=113]="AudioVolumeUp",M[M.AudioVolumeDown=114]="AudioVolumeDown",M[M.BrowserSearch=115]="BrowserSearch",M[M.BrowserHome=116]="BrowserHome",M[M.BrowserBack=117]="BrowserBack",M[M.BrowserForward=118]="BrowserForward",M[M.MediaTrackNext=119]="MediaTrackNext",M[M.MediaTrackPrevious=120]="MediaTrackPrevious",M[M.MediaStop=121]="MediaStop",M[M.MediaPlayPause=122]="MediaPlayPause",M[M.LaunchMediaPlayer=123]="LaunchMediaPlayer",M[M.LaunchMail=124]="LaunchMail",M[M.LaunchApp2=125]="LaunchApp2",M[M.Clear=126]="Clear",M[M.MAX_VALUE=127]="MAX_VALUE",b;var M})(),y=(()=>{return(M=y||(y={}))[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error",y;var M})(),D=(()=>{return(M=D||(D={}))[M.Unnecessary=1]="Unnecessary",M[M.Deprecated=2]="Deprecated",D;var M})(),w=(()=>{return(M=w||(w={}))[M.Inline=1]="Inline",M[M.Gutter=2]="Gutter",w;var M})(),I=(()=>{return(M=I||(I={}))[M.UNKNOWN=0]="UNKNOWN",M[M.TEXTAREA=1]="TEXTAREA",M[M.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",M[M.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",M[M.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",M[M.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",M[M.CONTENT_TEXT=6]="CONTENT_TEXT",M[M.CONTENT_EMPTY=7]="CONTENT_EMPTY",M[M.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",M[M.CONTENT_WIDGET=9]="CONTENT_WIDGET",M[M.OVERVIEW_RULER=10]="OVERVIEW_RULER",M[M.SCROLLBAR=11]="SCROLLBAR",M[M.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",M[M.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",I;var M})(),P=(()=>{return(M=P||(P={}))[M.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",M[M.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",M[M.TOP_CENTER=2]="TOP_CENTER",P;var M})(),O=(()=>{return(M=O||(O={}))[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=4]="Right",M[M.Full=7]="Full",O;var M})(),H=(()=>{return(M=H||(H={}))[M.Left=0]="Left",M[M.Right=1]="Right",M[M.None=2]="None",M[M.LeftOfInjectedText=3]="LeftOfInjectedText",M[M.RightOfInjectedText=4]="RightOfInjectedText",H;var M})(),U=(()=>{return(M=U||(U={}))[M.Off=0]="Off",M[M.On=1]="On",M[M.Relative=2]="Relative",M[M.Interval=3]="Interval",M[M.Custom=4]="Custom",U;var M})(),K=(()=>{return(M=K||(K={}))[M.None=0]="None",M[M.Text=1]="Text",M[M.Blocks=2]="Blocks",K;var M})(),F=(()=>{return(M=F||(F={}))[M.Smooth=0]="Smooth",M[M.Immediate=1]="Immediate",F;var M})(),B=(()=>{return(M=B||(B={}))[M.Auto=1]="Auto",M[M.Hidden=2]="Hidden",M[M.Visible=3]="Visible",B;var M})(),z=(()=>{return(M=z||(z={}))[M.LTR=0]="LTR",M[M.RTL=1]="RTL",z;var M})(),$=(()=>{return(M=$||($={}))[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange",$;var M})(),j=(()=>{return(M=j||(j={}))[M.File=0]="File",M[M.Module=1]="Module",M[M.Namespace=2]="Namespace",M[M.Package=3]="Package",M[M.Class=4]="Class",M[M.Method=5]="Method",M[M.Property=6]="Property",M[M.Field=7]="Field",M[M.Constructor=8]="Constructor",M[M.Enum=9]="Enum",M[M.Interface=10]="Interface",M[M.Function=11]="Function",M[M.Variable=12]="Variable",M[M.Constant=13]="Constant",M[M.String=14]="String",M[M.Number=15]="Number",M[M.Boolean=16]="Boolean",M[M.Array=17]="Array",M[M.Object=18]="Object",M[M.Key=19]="Key",M[M.Null=20]="Null",M[M.EnumMember=21]="EnumMember",M[M.Struct=22]="Struct",M[M.Event=23]="Event",M[M.Operator=24]="Operator",M[M.TypeParameter=25]="TypeParameter",j;var M})(),ne=(()=>{return(M=ne||(ne={}))[M.Deprecated=1]="Deprecated",ne;var M})(),N=(()=>{return(M=N||(N={}))[M.Hidden=0]="Hidden",M[M.Blink=1]="Blink",M[M.Smooth=2]="Smooth",M[M.Phase=3]="Phase",M[M.Expand=4]="Expand",M[M.Solid=5]="Solid",N;var M})(),V=(()=>{return(M=V||(V={}))[M.Line=1]="Line",M[M.Block=2]="Block",M[M.Underline=3]="Underline",M[M.LineThin=4]="LineThin",M[M.BlockOutline=5]="BlockOutline",M[M.UnderlineThin=6]="UnderlineThin",V;var M})(),Z=(()=>{return(M=Z||(Z={}))[M.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",M[M.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",M[M.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",M[M.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",Z;var M})(),fe=(()=>{return(M=fe||(fe={}))[M.None=0]="None",M[M.Same=1]="Same",M[M.Indent=2]="Indent",M[M.DeepIndent=3]="DeepIndent",fe;var M})()},74982:(Et,X,e)=>{"use strict";e.d(X,{B8:()=>E,Oe:()=>t,UX:()=>T,aq:()=>C,iN:()=>_,ld:()=>v,qq:()=>S,ug:()=>l,xi:()=>L});var t,s,l,S,v,T,C,E,L,_,d=e(55197);(s=t||(t={})).noSelection=d.NC("noSelection","No selection"),s.singleSelectionRange=d.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),s.singleSelection=d.NC("singleSelection","Line {0}, Column {1}"),s.multiSelectionRange=d.NC("multiSelectionRange","{0} selections ({1} characters selected)"),s.multiSelection=d.NC("multiSelection","{0} selections"),s.emergencyConfOn=d.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),s.openingDocs=d.NC("openingDocs","Now opening the Editor Accessibility documentation page."),s.readonlyDiffEditor=d.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),s.editableDiffEditor=d.NC("editableDiffEditor"," in a pane of a diff editor."),s.readonlyEditor=d.NC("readonlyEditor"," in a read-only code editor"),s.editableEditor=d.NC("editableEditor"," in a code editor"),s.changeConfigToOnMac=d.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),s.changeConfigToOnWinLinux=d.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),s.auto_on=d.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),s.auto_off=d.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),s.tabFocusModeOnMsg=d.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),s.tabFocusModeOnMsgNoKb=d.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),s.tabFocusModeOffMsg=d.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),s.tabFocusModeOffMsgNoKb=d.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),s.openDocMac=d.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),s.openDocWinLinux=d.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),s.outroMsg=d.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),s.showAccessibilityHelpAction=d.NC("showAccessibilityHelpAction","Show Accessibility Help"),function(s){s.inspectTokensAction=d.NC("inspectTokens","Developer: Inspect Tokens")}(l||(l={})),function(s){s.gotoLineActionLabel=d.NC("gotoLineActionLabel","Go to Line/Column...")}(S||(S={})),function(s){s.helpQuickAccessActionLabel=d.NC("helpQuickAccess","Show all Quick Access Providers")}(v||(v={})),function(s){s.quickCommandActionLabel=d.NC("quickCommandActionLabel","Command Palette"),s.quickCommandHelp=d.NC("quickCommandActionHelp","Show And Run Commands")}(T||(T={})),function(s){s.quickOutlineActionLabel=d.NC("quickOutlineActionLabel","Go to Symbol..."),s.quickOutlineByCategoryActionLabel=d.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(C||(C={})),function(s){s.editorViewAccessibleLabel=d.NC("editorViewAccessibleLabel","Editor content"),s.accessibilityHelpMessage=d.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(E||(E={})),function(s){s.toggleHighContrast=d.NC("toggleHighContrast","Toggle High Contrast Theme")}(L||(L={})),function(s){s.bulkEditServiceSummary=d.NC("bulkEditServiceSummary","Made {0} edits in {1} files")}(_||(_={}))},54547:(Et,X,e)=>{"use strict";e.d(X,{CZ:()=>T,D8:()=>E,Jx:()=>d,Tx:()=>v,dQ:()=>C,fV:()=>L,gk:()=>t,lN:()=>S,rU:()=>l});class d{constructor(){this.changeType=1}}class t{constructor(s,m,c,n,a){this.ownerId=s,this.lineNumber=m,this.column=c,this.options=n,this.order=a}static applyInjectedText(s,m){if(!m||0===m.length)return s;let c="",n=0;for(const a of m)c+=s.substring(n,a.column-1),n=a.column-1,c+=a.options.content;return c+=s.substring(n),c}static fromDecorations(s){const m=[];for(const c of s)c.options.before&&c.options.before.content.length>0&&m.push(new t(c.ownerId,c.range.startLineNumber,c.range.startColumn,c.options.before,0)),c.options.after&&c.options.after.content.length>0&&m.push(new t(c.ownerId,c.range.endLineNumber,c.range.endColumn,c.options.after,1));return m.sort((c,n)=>c.lineNumber===n.lineNumber?c.column===n.column?c.order-n.order:c.column-n.column:c.lineNumber-n.lineNumber),m}}class l{constructor(s,m,c){this.changeType=2,this.lineNumber=s,this.detail=m,this.injectedText=c}}class S{constructor(s,m){this.changeType=3,this.fromLineNumber=s,this.toLineNumber=m}}class v{constructor(s,m,c,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=s,this.toLineNumber=m,this.detail=c}}class T{constructor(){this.changeType=5}}class C{constructor(s,m,c,n){this.changes=s,this.versionId=m,this.isUndoing=c,this.isRedoing=n,this.resultingSelection=null}containsEvent(s){for(let m=0,c=this.changes.length;m<c;m++)if(this.changes[m].changeType===s)return!0;return!1}static merge(s,m){const c=[].concat(s.changes).concat(m.changes);return new C(c,m.versionId,s.isUndoing||m.isUndoing,s.isRedoing||m.isRedoing)}}class E{constructor(s){this.changes=s}}class L{constructor(s,m){this.rawContentChangedEvent=s,this.contentChangedEvent=m}merge(s){const m=C.merge(this.rawContentChangedEvent,s.rawContentChangedEvent),c=L._mergeChangeEvents(this.contentChangedEvent,s.contentChangedEvent);return new L(m,c)}static _mergeChangeEvents(s,m){return{changes:[].concat(s.changes).concat(m.changes),eol:m.eol,versionId:m.versionId,isUndoing:s.isUndoing||m.isUndoing,isRedoing:s.isRedoing||m.isRedoing,isFlush:s.isFlush||m.isFlush}}}},87570:(Et,X,e)=>{"use strict";e.d(X,{UO:()=>t,s6:()=>d,vW:()=>l});var d=(()=>{return(S=d||(d={}))[S.Disabled=0]="Disabled",S[S.EnabledForActive=1]="EnabledForActive",S[S.Enabled=2]="Enabled",d;var S})();class t{constructor(v,T,C,E,L,_){if(this.visibleColumn=v,this.column=T,this.className=C,this.horizontalLine=E,this.forWrappedLinesAfterColumn=L,this.forWrappedLinesBeforeOrAtColumn=_,-1!==v==(-1!==T))throw new Error}}class l{constructor(v,T){this.top=v,this.endColumn=T}}},71513:(Et,X,e)=>{"use strict";e.d(X,{A:()=>t});var d=e(1465);let t=(()=>{class S{constructor(T,C,E){this._lineTokensBrand=void 0,this._tokens=T,this._tokensCount=this._tokens.length>>>1,this._text=C,this._languageIdCodec=E}static createEmpty(T,C){const E=S.defaultTokenMetadata,L=new Uint32Array(2);return L[0]=T.length,L[1]=E,new S(L,T,C)}equals(T){return T instanceof S&&this.slicedEquals(T,0,this._tokensCount)}slicedEquals(T,C,E){if(this._text!==T._text||this._tokensCount!==T._tokensCount)return!1;const L=C<<1,_=L+(E<<1);for(let s=L;s<_;s++)if(this._tokens[s]!==T._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(T){return T>0?this._tokens[T-1<<1]:0}getMetadata(T){return this._tokens[1+(T<<1)]}getLanguageId(T){const E=d.N.getLanguageId(this._tokens[1+(T<<1)]);return this._languageIdCodec.decodeLanguageId(E)}getStandardTokenType(T){return d.N.getTokenType(this._tokens[1+(T<<1)])}getForeground(T){return d.N.getForeground(this._tokens[1+(T<<1)])}getClassName(T){return d.N.getClassNameFromMetadata(this._tokens[1+(T<<1)])}getInlineStyle(T,C){return d.N.getInlineStyleFromMetadata(this._tokens[1+(T<<1)],C)}getPresentation(T){return d.N.getPresentationFromMetadata(this._tokens[1+(T<<1)])}getEndOffset(T){return this._tokens[T<<1]}findTokenIndexAtOffset(T){return S.findIndexInTokensArray(this._tokens,T)}inflate(){return this}sliceAndInflate(T,C,E){return new l(this,T,C,E)}static convertToEndOffset(T,C){const L=(T.length>>>1)-1;for(let _=0;_<L;_++)T[_<<1]=T[_+1<<1];T[L<<1]=C}static findIndexInTokensArray(T,C){if(T.length<=2)return 0;let E=0,L=(T.length>>>1)-1;for(;E<L;){const _=E+Math.floor((L-E)/2),s=T[_<<1];if(s===C)return _+1;s<C?E=_+1:s>C&&(L=_)}return E}withInserted(T){if(0===T.length)return this;let C=0,E=0,L="";const _=new Array;let s=0;for(;;){const m=C<this._tokensCount?this._tokens[C<<1]:-1,c=E<T.length?T[E]:null;if(-1!==m&&(null===c||m<=c.offset))L+=this._text.substring(s,m),_.push(L.length,this._tokens[1+(C<<1)]),C++,s=m;else{if(!c)break;c.offset>s&&(L+=this._text.substring(s,c.offset),_.push(L.length,this._tokens[1+(C<<1)]),s=c.offset),L+=c.text,_.push(L.length,c.tokenMetadata),E++}}return new S(new Uint32Array(_),L,this._languageIdCodec)}}return S.defaultTokenMetadata=33587200,S})();class l{constructor(v,T,C,E){this._source=v,this._startOffset=T,this._endOffset=C,this._deltaOffset=E,this._firstTokenIndex=v.findTokenIndexAtOffset(T),this._tokensCount=0;for(let L=this._firstTokenIndex,_=v.getCount();L<_&&!(v.getStartOffset(L)>=C);L++)this._tokensCount++}getMetadata(v){return this._source.getMetadata(this._firstTokenIndex+v)}getLanguageId(v){return this._source.getLanguageId(this._firstTokenIndex+v)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(v){return v instanceof l&&this._startOffset===v._startOffset&&this._endOffset===v._endOffset&&this._deltaOffset===v._deltaOffset&&this._source.slicedEquals(v._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(v){return this._source.getForeground(this._firstTokenIndex+v)}getEndOffset(v){const T=this._source.getEndOffset(this._firstTokenIndex+v);return Math.min(this._endOffset,T)-this._startOffset+this._deltaOffset}getClassName(v){return this._source.getClassName(this._firstTokenIndex+v)}getInlineStyle(v,T){return this._source.getInlineStyle(this._firstTokenIndex+v,T)}getPresentation(v){return this._source.getPresentation(this._firstTokenIndex+v)}findTokenIndexAtOffset(v){return this._source.findTokenIndexAtOffset(v+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},56110:(Et,X,e)=>{"use strict";e.d(X,{Kp:()=>t,k:()=>v});var d=e(73879);class t{constructor(C,E,L,_){this.startColumn=C,this.endColumn=E,this.className=L,this.type=_,this._lineDecorationBrand=void 0}static _equals(C,E){return C.startColumn===E.startColumn&&C.endColumn===E.endColumn&&C.className===E.className&&C.type===E.type}static equalsArr(C,E){const L=C.length;if(L!==E.length)return!1;for(let s=0;s<L;s++)if(!t._equals(C[s],E[s]))return!1;return!0}static extractWrapped(C,E,L){if(0===C.length)return C;const _=E+1,s=L+1,m=L-E,c=[];let n=0;for(const a of C)a.endColumn<=_||a.startColumn>=s||(c[n++]=new t(Math.max(1,a.startColumn-_+1),Math.min(m+1,a.endColumn-_+1),a.className,a.type));return c}static filter(C,E,L,_){if(0===C.length)return[];const s=[];let m=0;for(let c=0,n=C.length;c<n;c++){const a=C[c],p=a.range;p.endLineNumber<E||p.startLineNumber>E||p.isEmpty()&&(0===a.type||3===a.type)||(s[m++]=new t(p.startLineNumber===E?p.startColumn:L,p.endLineNumber===E?p.endColumn:_,a.inlineClassName,a.type))}return s}static _typeCompare(C,E){const L=[2,0,1,3];return L[C]-L[E]}static compare(C,E){if(C.startColumn!==E.startColumn)return C.startColumn-E.startColumn;if(C.endColumn!==E.endColumn)return C.endColumn-E.endColumn;const L=t._typeCompare(C.type,E.type);return 0!==L?L:C.className!==E.className?C.className<E.className?-1:1:0}}class l{constructor(C,E,L,_){this.startOffset=C,this.endOffset=E,this.className=L,this.metadata=_}}class S{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(C){let E=0;for(let L=0,_=C.length;L<_;L++)E|=C[L];return E}consumeLowerThan(C,E,L){for(;this.count>0&&this.stopOffsets[0]<C;){let _=0;for(;_+1<this.count&&this.stopOffsets[_]===this.stopOffsets[_+1];)_++;L.push(new l(E,this.stopOffsets[_],this.classNames.join(" "),S._metadata(this.metadata))),E=this.stopOffsets[_]+1,this.stopOffsets.splice(0,_+1),this.classNames.splice(0,_+1),this.metadata.splice(0,_+1),this.count-=_+1}return this.count>0&&E<C&&(L.push(new l(E,C-1,this.classNames.join(" "),S._metadata(this.metadata))),E=C),E}insert(C,E,L){if(0===this.count||this.stopOffsets[this.count-1]<=C)this.stopOffsets.push(C),this.classNames.push(E),this.metadata.push(L);else for(let _=0;_<this.count;_++)if(this.stopOffsets[_]>=C){this.stopOffsets.splice(_,0,C),this.classNames.splice(_,0,E),this.metadata.splice(_,0,L);break}this.count++}}class v{static normalize(C,E){if(0===E.length)return[];const L=[],_=new S;let s=0;for(let m=0,c=E.length;m<c;m++){const n=E[m];let a=n.startColumn,p=n.endColumn;const u=n.className,g=1===n.type?2:2===n.type?4:0;if(a>1){const D=C.charCodeAt(a-2);d.ZG(D)&&a--}if(p>1){const D=C.charCodeAt(p-2);d.ZG(D)&&p--}const b=a-1,y=p-2;s=_.consumeLowerThan(b,s,L),0===_.count&&(s=b),_.insert(y,u,g)}return _.consumeLowerThan(1073741824,s,L),L}}},27131:(Et,X,e)=>{"use strict";e.d(X,{Nd:()=>C,zG:()=>v,IJ:()=>T,d1:()=>_,tF:()=>m});var d=e(73879),t=e(8680),l=e(56110);class S{constructor(P,O,H,U){this.endIndex=P,this.type=O,this.metadata=H,this.containsRTL=U,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class v{constructor(P,O){this.startOffset=P,this.endOffset=O}equals(P){return this.startOffset===P.startOffset&&this.endOffset===P.endOffset}}class T{constructor(P,O,H,U,K,F,B,z,$,j,ne,N,V,Z,fe,M,Se,Ee,Le){this.useMonospaceOptimizations=P,this.canUseHalfwidthRightwardsArrow=O,this.lineContent=H,this.continuesWithWrappedLine=U,this.isBasicASCII=K,this.containsRTL=F,this.fauxIndentLength=B,this.lineTokens=z,this.lineDecorations=$.sort(l.Kp.compare),this.tabSize=j,this.startVisibleColumn=ne,this.spaceWidth=N,this.stopRenderingLineAfter=fe,this.renderWhitespace="all"===M?4:"boundary"===M?1:"selection"===M?2:"trailing"===M?3:0,this.renderControlCharacters=Se,this.fontLigatures=Ee,this.selectionsOnLine=Le&&Le.sort((we,xe)=>we.startOffset<xe.startOffset?-1:1),Math.abs(Z-N)<Math.abs(V-N)?(this.renderSpaceWidth=Z,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=V,this.renderSpaceCharCode=183)}sameSelection(P){if(null===this.selectionsOnLine)return null===P;if(null===P||P.length!==this.selectionsOnLine.length)return!1;for(let O=0;O<this.selectionsOnLine.length;O++)if(!this.selectionsOnLine[O].equals(P[O]))return!1;return!0}equals(P){return this.useMonospaceOptimizations===P.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===P.canUseHalfwidthRightwardsArrow&&this.lineContent===P.lineContent&&this.continuesWithWrappedLine===P.continuesWithWrappedLine&&this.isBasicASCII===P.isBasicASCII&&this.containsRTL===P.containsRTL&&this.fauxIndentLength===P.fauxIndentLength&&this.tabSize===P.tabSize&&this.startVisibleColumn===P.startVisibleColumn&&this.spaceWidth===P.spaceWidth&&this.renderSpaceWidth===P.renderSpaceWidth&&this.renderSpaceCharCode===P.renderSpaceCharCode&&this.stopRenderingLineAfter===P.stopRenderingLineAfter&&this.renderWhitespace===P.renderWhitespace&&this.renderControlCharacters===P.renderControlCharacters&&this.fontLigatures===P.fontLigatures&&l.Kp.equalsArr(this.lineDecorations,P.lineDecorations)&&this.lineTokens.equals(P.lineTokens)&&this.sameSelection(P.selectionsOnLine)}}class C{constructor(P,O){this.partIndex=P,this.charIndex=O}}class E{constructor(P,O){this.length=P,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(P){return(4294901760&P)>>>16}static getCharIndex(P){return(65535&P)>>>0}setColumnInfo(P,O,H,U){this._data[P-1]=(O<<16|H<<0)>>>0,this._horizontalOffset[P-1]=U}getHorizontalOffset(P){return 0===this._horizontalOffset.length?0:this._horizontalOffset[P-1]}charOffsetToPartData(P){return 0===this.length?0:P<0?this._data[0]:P>=this.length?this._data[this.length-1]:this._data[P]}getDomPosition(P){const O=this.charOffsetToPartData(P-1),H=E.getPartIndex(O),U=E.getCharIndex(O);return new C(H,U)}getColumn(P,O){return this.partDataToCharOffset(P.partIndex,O,P.charIndex)+1}partDataToCharOffset(P,O,H){if(0===this.length)return 0;const U=(P<<16|H<<0)>>>0;let K=0,F=this.length-1;for(;K+1<F;){const fe=K+F>>>1,M=this._data[fe];if(M===U)return fe;M>U?F=fe:K=fe}if(K===F)return K;const B=this._data[K],z=this._data[F];if(B===U)return K;if(z===U)return F;const $=E.getPartIndex(B),j=E.getCharIndex(B);let N;return N=$!==E.getPartIndex(z)?O:E.getCharIndex(z),H-j<=N-H?K:F}}class L{constructor(P,O,H){this._renderLineOutputBrand=void 0,this.characterMapping=P,this.containsRTL=O,this.containsForeignElements=H}}function _(I,P){if(0===I.lineContent.length){if(I.lineDecorations.length>0){P.appendASCIIString("<span>");let O=0,H=0,U=0;for(const F of I.lineDecorations)(1===F.type||2===F.type)&&(P.appendASCIIString('<span class="'),P.appendASCIIString(F.className),P.appendASCIIString('"></span>'),1===F.type&&(U|=1,O++),2===F.type&&(U|=2,H++));P.appendASCIIString("</span>");const K=new E(1,O+H);return K.setColumnInfo(1,O,0,0),new L(K,!1,U)}return P.appendASCIIString("<span><span></span></span>"),new L(new E(0,0),!1,0)}return function D(I,P){const O=I.fontIsMonospace,H=I.canUseHalfwidthRightwardsArrow,U=I.containsForeignElements,K=I.lineContent,F=I.len,B=I.isOverflowing,z=I.parts,$=I.fauxIndentLength,j=I.tabSize,ne=I.startVisibleColumn,N=I.containsRTL,V=I.spaceWidth,Z=I.renderSpaceCharCode,fe=I.renderWhitespace,M=I.renderControlCharacters,Se=new E(F+1,z.length);let Ee=!1,Le=0,Ne=ne,oe=0,we=0,xe=0;P.appendASCIIString(N?'<span dir="ltr">':"<span>");for(let pe=0,Te=z.length;pe<Te;pe++){const de=z[pe],ke=de.endIndex,ze=de.type,$e=de.containsRTL,ce=0!==fe&&de.isWhitespace(),Ue=ce&&!O&&("mtkw"===ze||!U),nt=Le===ke&&de.isPseudoAfter();if(oe=0,P.appendASCIIString("<span "),$e&&P.appendASCIIString('style="unicode-bidi:isolate" '),P.appendASCIIString('class="'),P.appendASCIIString(Ue?"mtkz":ze),P.appendASCII(34),ce){let Dt=0;{let Lt=Le,Ze=Ne;for(;Lt<ke;Lt++){const _e=0|(9===K.charCodeAt(Lt)?j-Ze%j:1);Dt+=_e,Lt>=$&&(Ze+=_e)}}for(Ue&&(P.appendASCIIString(' style="width:'),P.appendASCIIString(String(V*Dt)),P.appendASCIIString('px"')),P.appendASCII(62);Le<ke;Le++){let Ze,ae;if(Se.setColumnInfo(Le+1,pe-xe,oe,we),xe=0,9===K.charCodeAt(Le)){Ze=j-Ne%j|0,ae=Ze,P.write1(!H||ae>1?8594:65515);for(let _e=2;_e<=ae;_e++)P.write1(160)}else Ze=2,ae=1,P.write1(Z),P.write1(8204);oe+=Ze,we+=ae,Le>=$&&(Ne+=ae)}}else for(P.appendASCII(62);Le<ke;Le++){Se.setColumnInfo(Le+1,pe-xe,oe,we),xe=0;const Dt=K.charCodeAt(Le);let Lt=1,Ze=1;switch(Dt){case 9:Lt=j-Ne%j,Ze=Lt;for(let ae=1;ae<=Lt;ae++)P.write1(160);break;case 32:P.write1(160);break;case 60:P.appendASCIIString("&lt;");break;case 62:P.appendASCIIString("&gt;");break;case 38:P.appendASCIIString("&amp;");break;case 0:M?P.write1(9216):P.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:P.write1(65533);break;default:d.K7(Dt)&&Ze++,M&&Dt<32?P.write1(9216+Dt):M&&127===Dt?P.write1(9249):M&&u(Dt)?(P.appendASCIIString("[U+"),P.appendASCIIString(w(Dt)),P.appendASCIIString("]"),Lt=8,Ze=Lt):P.write1(Dt)}oe+=Lt,we+=Ze,Le>=$&&(Ne+=Ze)}nt?xe++:xe=0,Le>=F&&!Ee&&de.isPseudoAfter()&&(Ee=!0,Se.setColumnInfo(Le+1,pe,oe,we)),P.appendASCIIString("</span>")}return Ee||Se.setColumnInfo(F+1,z.length-1,oe,we),B&&P.appendASCIIString("<span>&hellip;</span>"),P.appendASCIIString("</span>"),new L(Se,N,U)}(function n(I){const P=I.lineContent;let O,H;-1!==I.stopRenderingLineAfter&&I.stopRenderingLineAfter<P.length?(O=!0,H=I.stopRenderingLineAfter):(O=!1,H=P.length);let U=function a(I,P,O,H,U){const K=[];let F=0;H>0&&(K[F++]=new S(H,"",0,!1));let B=H;for(let z=0,$=O.getCount();z<$;z++){const j=O.getEndOffset(z);if(j<=H)continue;const ne=O.getClassName(z);if(j>=U){const V=!!P&&d.Ut(I.substring(B,U));K[F++]=new S(U,ne,0,V);break}const N=!!P&&d.Ut(I.substring(B,j));K[F++]=new S(j,ne,0,N),B=j}return K}(P,I.containsRTL,I.lineTokens,I.fauxIndentLength,H);I.renderControlCharacters&&!I.isBasicASCII&&(U=function g(I,P){const O=[];let H=new S(0,"",0,!1),U=0;for(const K of P){const F=K.endIndex;for(;U<F;U++)u(I.charCodeAt(U))&&(U>H.endIndex&&(H=new S(U,K.type,K.metadata,K.containsRTL),O.push(H)),H=new S(U+1,"mtkcontrol",K.metadata,!1),O.push(H));U>H.endIndex&&(H=new S(F,K.type,K.metadata,K.containsRTL),O.push(H))}return O}(P,U)),(4===I.renderWhitespace||1===I.renderWhitespace||2===I.renderWhitespace&&I.selectionsOnLine||3===I.renderWhitespace)&&(U=function b(I,P,O,H){const U=I.continuesWithWrappedLine,K=I.fauxIndentLength,F=I.tabSize,B=I.startVisibleColumn,z=I.useMonospaceOptimizations,$=I.selectionsOnLine,j=1===I.renderWhitespace,ne=3===I.renderWhitespace,N=I.renderSpaceWidth!==I.spaceWidth,V=[];let Z=0,fe=0,M=H[fe].type,Se=H[fe].containsRTL,Ee=H[fe].endIndex;const Le=H.length;let we,Ne=!1,oe=d.LC(P);-1===oe?(Ne=!0,oe=O,we=O):we=d.ow(P);let xe=!1,pe=0,Te=$&&$[pe],de=B%F;for(let ze=K;ze<O;ze++){const $e=P.charCodeAt(ze);let ce;if(Te&&ze>=Te.endOffset&&(pe++,Te=$&&$[pe]),ze<oe||ze>we)ce=!0;else if(9===$e)ce=!0;else if(32===$e)if(j)if(xe)ce=!0;else{const Ue=ze+1<O?P.charCodeAt(ze+1):0;ce=32===Ue||9===Ue}else ce=!0;else ce=!1;if(ce&&$&&(ce=!!Te&&Te.startOffset<=ze&&Te.endOffset>ze),ce&&ne&&(ce=Ne||ze>we),ce&&Se&&ze>=oe&&ze<=we&&(ce=!1),xe){if(!ce||!z&&de>=F){if(N)for(let nt=(Z>0?V[Z-1].endIndex:K)+1;nt<=ze;nt++)V[Z++]=new S(nt,"mtkw",1,!1);else V[Z++]=new S(ze,"mtkw",1,!1);de%=F}}else(ze===Ee||ce&&ze>K)&&(V[Z++]=new S(ze,M,0,Se),de%=F);for(9===$e?de=F:d.K7($e)?de+=2:de++,xe=ce;ze===Ee&&(fe++,fe<Le);)M=H[fe].type,Se=H[fe].containsRTL,Ee=H[fe].endIndex}let ke=!1;if(xe)if(U&&j){const ze=O>0?P.charCodeAt(O-1):0,$e=O>1?P.charCodeAt(O-2):0;32===ze&&32!==$e&&9!==$e||(ke=!0)}else ke=!0;if(ke)if(N)for(let $e=(Z>0?V[Z-1].endIndex:K)+1;$e<=O;$e++)V[Z++]=new S($e,"mtkw",1,!1);else V[Z++]=new S(O,"mtkw",1,!1);else V[Z++]=new S(O,M,0,Se);return V}(I,P,H,U));let K=0;if(I.lineDecorations.length>0){for(let F=0,B=I.lineDecorations.length;F<B;F++){const z=I.lineDecorations[F];3===z.type||1===z.type?K|=1:2===z.type&&(K|=2)}U=function y(I,P,O,H){H.sort(l.Kp.compare);const U=l.k.normalize(I,H),K=U.length;let F=0;const B=[];let z=0,$=0;for(let ne=0,N=O.length;ne<N;ne++){const V=O[ne],Z=V.endIndex,fe=V.type,M=V.metadata,Se=V.containsRTL;for(;F<K&&U[F].startOffset<Z;){const Ee=U[F];if(Ee.startOffset>$&&($=Ee.startOffset,B[z++]=new S($,fe,M,Se)),!(Ee.endOffset+1<=Z)){$=Z,B[z++]=new S($,fe+" "+Ee.className,M|Ee.metadata,Se);break}$=Ee.endOffset+1,B[z++]=new S($,fe+" "+Ee.className,M|Ee.metadata,Se),F++}Z>$&&($=Z,B[z++]=new S($,fe,M,Se))}const j=O[O.length-1].endIndex;if(F<K&&U[F].startOffset===j)for(;F<K&&U[F].startOffset===j;){const ne=U[F];B[z++]=new S($,ne.className,ne.metadata,!1),F++}return B}(P,0,U,I.lineDecorations)}return I.containsRTL||(U=function p(I,P,O){let H=0;const U=[];let K=0;if(O)for(let F=0,B=P.length;F<B;F++){const z=P[F],$=z.endIndex;if(H+50<$){const j=z.type,ne=z.metadata,N=z.containsRTL;let V=-1,Z=H;for(let fe=H;fe<$;fe++)32===I.charCodeAt(fe)&&(V=fe),-1!==V&&fe-Z>=50&&(U[K++]=new S(V+1,j,ne,N),Z=V+1,V=-1);Z!==$&&(U[K++]=new S($,j,ne,N))}else U[K++]=z;H=$}else for(let F=0,B=P.length;F<B;F++){const z=P[F],$=z.endIndex,j=$-H;if(j>50){const ne=z.type,N=z.metadata,V=z.containsRTL,Z=Math.ceil(j/50);for(let fe=1;fe<Z;fe++)U[K++]=new S(H+50*fe,ne,N,V);U[K++]=new S($,ne,N,V)}else U[K++]=z;H=$}return U}(P,U,!I.isBasicASCII||I.fontLigatures)),new c(I.useMonospaceOptimizations,I.canUseHalfwidthRightwardsArrow,P,H,O,U,K,I.fauxIndentLength,I.tabSize,I.startVisibleColumn,I.containsRTL,I.spaceWidth,I.renderSpaceCharCode,I.renderWhitespace,I.renderControlCharacters)}(I),P)}class s{constructor(P,O,H,U){this.characterMapping=P,this.html=O,this.containsRTL=H,this.containsForeignElements=U}}function m(I){const P=(0,t.l$)(1e4),O=_(I,P);return new s(O.characterMapping,P.build(),O.containsRTL,O.containsForeignElements)}class c{constructor(P,O,H,U,K,F,B,z,$,j,ne,N,V,Z,fe){this.fontIsMonospace=P,this.canUseHalfwidthRightwardsArrow=O,this.lineContent=H,this.len=U,this.isOverflowing=K,this.parts=F,this.containsForeignElements=B,this.fauxIndentLength=z,this.tabSize=$,this.startVisibleColumn=j,this.containsRTL=ne,this.spaceWidth=N,this.renderSpaceCharCode=V,this.renderWhitespace=Z,this.renderControlCharacters=fe}}function u(I){return I<32?9!==I:127===I||I>=8234&&I<=8238||I>=8294&&I<=8297||I>=8206&&I<=8207||1564===I}function w(I){return I.toString(16).toUpperCase().padStart(4,"0")}},38232:(Et,X,e)=>{"use strict";e.d(X,{$l:()=>L,$t:()=>C,IP:()=>v,SQ:()=>_,Wx:()=>E,l_:()=>l,ud:()=>S,wA:()=>T});var d=e(73879),t=e(98570);class l{constructor(m,c,n,a){this._viewportBrand=void 0,this.top=0|m,this.left=0|c,this.width=0|n,this.height=0|a}}class S{constructor(m,c){this.tabSize=m,this.data=c}}class v{constructor(m,c,n,a,p,u,g){this._viewLineDataBrand=void 0,this.content=m,this.continuesWithWrappedLine=c,this.minColumn=n,this.maxColumn=a,this.startVisibleColumn=p,this.tokens=u,this.inlineDecorations=g}}class T{constructor(m,c,n,a,p,u,g,b,y,D){this.minColumn=m,this.maxColumn=c,this.content=n,this.continuesWithWrappedLine=a,this.isBasicASCII=T.isBasicASCII(n,u),this.containsRTL=T.containsRTL(n,this.isBasicASCII,p),this.tokens=g,this.inlineDecorations=b,this.tabSize=y,this.startVisibleColumn=D}static isBasicASCII(m,c){return!c||d.$i(m)}static containsRTL(m,c,n){return!(c||!n)&&d.Ut(m)}}class C{constructor(m,c,n){this.range=m,this.inlineClassName=c,this.type=n}}class E{constructor(m,c,n,a){this.startOffset=m,this.endOffset=c,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=a}toInlineDecoration(m){return new C(new t.e(m,this.startOffset+1,m,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class L{constructor(m,c){this._viewModelDecorationBrand=void 0,this.range=m,this.options=c}}class _{constructor(m,c,n){this.color=m,this.zIndex=c,this.data=n}static cmp(m,c){return m.zIndex===c.zIndex?m.color<c.color?-1:m.color>c.color?1:0:m.zIndex-c.zIndex}}},18632:(Et,X,e)=>{"use strict";e.d(X,{EY:()=>t,Tj:()=>l});class d{constructor(v,T,C){this._colorZoneBrand=void 0,this.from=0|v,this.to=0|T,this.colorId=0|C}static compare(v,T){return v.colorId===T.colorId?v.from===T.from?v.to-T.to:v.from-T.from:v.colorId-T.colorId}}class t{constructor(v,T,C,E){this._overviewRulerZoneBrand=void 0,this.startLineNumber=v,this.endLineNumber=T,this.heightInLines=C,this.color=E,this._colorZone=null}static compare(v,T){return v.color===T.color?v.startLineNumber===T.startLineNumber?v.heightInLines===T.heightInLines?v.endLineNumber-T.endLineNumber:v.heightInLines-T.heightInLines:v.startLineNumber-T.startLineNumber:v.color<T.color?-1:1}setColorZone(v){this._colorZone=v}getColorZones(){return this._colorZone}}class l{constructor(v){this._getVerticalOffsetForLine=v,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(v){this._zones=v,this._zones.sort(t.compare)}setLineHeight(v){return this._lineHeight!==v&&(this._lineHeight=v,this._colorZonesInvalid=!0,!0)}setPixelRatio(v){this._pixelRatio=v,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(v){return this._domWidth!==v&&(this._domWidth=v,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(v){return this._domHeight!==v&&(this._domHeight=v,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(v){return this._outerHeight!==v&&(this._outerHeight=v,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const v=this._colorZonesInvalid,T=Math.floor(this._lineHeight),C=Math.floor(this.getCanvasHeight()),L=C/Math.floor(this._outerHeight),_=Math.floor(4*this._pixelRatio/2),s=[];for(let m=0,c=this._zones.length;m<c;m++){const n=this._zones[m];if(!v){const P=n.getColorZones();if(P){s.push(P);continue}}const a=this._getVerticalOffsetForLine(n.startLineNumber),p=0===n.heightInLines?this._getVerticalOffsetForLine(n.endLineNumber)+T:a+n.heightInLines*T,u=Math.floor(L*a),g=Math.floor(L*p);let b=Math.floor((u+g)/2),y=g-b;y<_&&(y=_),b-y<0&&(b=y),b+y>C&&(b=C-y);const D=n.color;let w=this._color2Id[D];w||(w=++this._lastAssignedId,this._color2Id[D]=w,this._id2Color[w]=D);const I=new d(b-y,b+y,w);n.setColorZone(I),s.push(I)}return this._colorZonesInvalid=!1,s.sort(d.compare),s}}},53931:(Et,X,e)=>{"use strict";e.d(X,{$t:()=>C,CU:()=>v,Fd:()=>T,zg:()=>E});var d=e(18723),t=e(98570),l=e(38232),S=e(54862);class v{constructor(s,m,c,n,a){this.editorId=s,this.model=m,this.configuration=c,this._linesCollection=n,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(s){const m=s.id;let c=this._decorationsCache[m];if(!c){const n=s.range,a=s.options;let p;if(a.isWholeLine){const u=this._coordinatesConverter.convertModelPositionToViewPosition(new d.L(n.startLineNumber,1),0),g=this._coordinatesConverter.convertModelPositionToViewPosition(new d.L(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);p=new t.e(u.lineNumber,u.column,g.lineNumber,g.column)}else p=this._coordinatesConverter.convertModelRangeToViewRange(n,1);c=new l.$l(p,a),this._decorationsCache[m]=c}return c}getDecorationsViewportData(s){let m=null!==this._cachedModelDecorationsResolver;return m=m&&s.equalsRange(this._cachedModelDecorationsResolverViewRange),m||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(s),this._cachedModelDecorationsResolverViewRange=s),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(s){const m=new t.e(s,this._linesCollection.getViewLineMinColumn(s),s,this._linesCollection.getViewLineMaxColumn(s));return this._getDecorationsInRange(m).inlineDecorations[0]}_getDecorationsInRange(s){const m=this._linesCollection.getDecorationsInRange(s,this.editorId,(0,S.$J)(this.configuration.options)),c=s.startLineNumber,n=s.endLineNumber,a=[];let p=0;const u=[];for(let g=c;g<=n;g++)u[g-c]=[];for(let g=0,b=m.length;g<b;g++){const y=m[g],D=y.options;if(!T(this.model,y))continue;const w=this._getOrCreateViewModelDecoration(y),I=w.range;if(a[p++]=w,D.inlineClassName){const P=new l.$t(I,D.inlineClassName,D.inlineClassNameAffectsLetterSpacing?3:0),O=Math.max(c,I.startLineNumber),H=Math.min(n,I.endLineNumber);for(let U=O;U<=H;U++)u[U-c].push(P)}if(D.beforeContentClassName&&c<=I.startLineNumber&&I.startLineNumber<=n){const P=new l.$t(new t.e(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn),D.beforeContentClassName,1);u[I.startLineNumber-c].push(P)}if(D.afterContentClassName&&c<=I.endLineNumber&&I.endLineNumber<=n){const P=new l.$t(new t.e(I.endLineNumber,I.endColumn,I.endLineNumber,I.endColumn),D.afterContentClassName,2);u[I.endLineNumber-c].push(P)}}return{decorations:a,inlineDecorations:u}}}function T(_,s){return!(s.options.hideInCommentTokens&&C(_,s)||s.options.hideInStringTokens&&E(_,s))}function C(_,s){return L(_,s.range,m=>1===m)}function E(_,s){return L(_,s.range,m=>2===m)}function L(_,s,m){for(let c=s.startLineNumber;c<=s.endLineNumber;c++){const n=_.tokenization.getLineTokens(c),p=c===s.endLineNumber;let u=c===s.startLineNumber?n.findTokenIndexAtOffset(s.startColumn-1):0;for(;u<n.getCount()&&!(p&&n.getStartOffset(u)>s.endColumn-1);){if(!m(n.getStandardTokenType(u)))return!1;u++}}return!0}},76924:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{SelectionAnchorSet:()=>K});var d=e(59797),t=e(48701),l=e(53993),S=e(57856),v=e.n(S),T=e(38470),C=e.n(T),E=e(43370),L=e.n(E),_=e(28458),s=e.n(_),m=e(71278),c=e.n(m),n=e(29488),a=e.n(n),p=e(22499),u={};u.styleTagTransform=a(),u.setAttributes=s(),u.insert=L().bind(null,"head"),u.domAPI=C(),u.insertStyleElement=c(),v()(p.Z,u);var y=e(26845),D=e(7233),w=e(82290),I=e(55197),P=e(16468),U=function(ne,N,V,Z){return new(V||(V=Promise))(function(M,Se){function Ee(oe){try{Ne(Z.next(oe))}catch(we){Se(we)}}function Le(oe){try{Ne(Z.throw(oe))}catch(we){Se(we)}}function Ne(oe){oe.done?M(oe.value):function fe(M){return M instanceof V?M:new V(function(Se){Se(M)})}(oe.value).then(Ee,Le)}Ne((Z=Z.apply(ne,N||[])).next())})};const K=new P.uy("selectionAnchorSet",!1);let F=class jc{constructor(N,V){this.editor=N,this.selectionAnchorSetContextKey=K.bindTo(V),this.modelChangeListener=N.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(N){return N.getContribution(jc.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const N=this.editor.getPosition();this.editor.changeDecorations(V=>{this.decorationId&&V.removeDecoration(this.decorationId),this.decorationId=V.addDecoration(D.Y.fromPositions(N,N),{description:"selection-anchor",stickiness:1,hoverMessage:(new t.W5).appendText((0,I.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,d.Z9)((0,I.NC)("anchorSet","Anchor set at {0}:{1}",N.lineNumber,N.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const N=this.editor.getModel().getDecorationRange(this.decorationId);N&&this.editor.setPosition(N.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const N=this.editor.getModel().getDecorationRange(this.decorationId);if(N){const V=this.editor.getPosition();this.editor.setSelection(D.Y.fromPositions(N.getStartPosition(),V)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const N=this.decorationId;this.editor.changeDecorations(V=>{V.removeDecoration(N),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var N;F.ID="editor.contrib.selectionAnchorController",F=function(ne,N,V,Z){var Se,fe=arguments.length,M=fe<3?N:null===Z?Z=Object.getOwnPropertyDescriptor(N,V):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(ne,N,V,Z);else for(var Ee=ne.length-1;Ee>=0;Ee--)(Se=ne[Ee])&&(M=(fe<3?Se(M):fe>3?Se(N,V,M):Se(N,V))||M);return fe>3&&M&&Object.defineProperty(N,V,M),M}([(1,N=P.i6,function(V,Z){N(V,Z,1)})],F),(0,y._K)(F.ID,F),(0,y.Qr)(class B extends y.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,I.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:w.u.editorTextFocus,primary:(0,l.gx)(2089,2080),weight:100}})}run(N,V){var Z;return U(this,void 0,void 0,function*(){null===(Z=F.get(V))||void 0===Z||Z.setSelectionAnchor()})}}),(0,y.Qr)(class z extends y.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,I.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:K})}run(N,V){var Z;return U(this,void 0,void 0,function*(){null===(Z=F.get(V))||void 0===Z||Z.goToSelectionAnchor()})}}),(0,y.Qr)(class $ extends y.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,I.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:K,kbOpts:{kbExpr:w.u.editorTextFocus,primary:(0,l.gx)(2089,2089),weight:100}})}run(N,V){var Z;return U(this,void 0,void 0,function*(){null===(Z=F.get(V))||void 0===Z||Z.selectFromAnchorToCursor()})}}),(0,y.Qr)(class j extends y.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,I.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:K,kbOpts:{kbExpr:w.u.editorTextFocus,primary:9,weight:100}})}run(N,V){var Z;return U(this,void 0,void 0,function*(){null===(Z=F.get(V))||void 0===Z||Z.cancelSelectionAnchor()})}})},8902:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{BracketMatchingController:()=>N});var d=e(48648),t=e(80142),l=e(57856),S=e.n(l),v=e(38470),T=e.n(v),C=e(43370),E=e.n(C),L=e(28458),_=e.n(L),s=e(71278),m=e.n(s),c=e(29488),n=e.n(c),a=e(38653),p={};p.styleTagTransform=n(),p.setAttributes=_(),p.insert=E().bind(null,"head"),p.domAPI=T(),p.insertStyleElement=m(),S()(a.Z,p);var b=e(26845),y=e(18723),D=e(98570),w=e(7233),I=e(82290),P=e(47629),O=e(59758),H=e(43944),U=e(55197),K=e(74918),F=e(4062),B=e(40902);const z=(0,F.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},U.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class ne{constructor(Z,fe,M){this.position=Z,this.brackets=fe,this.options=M}}class N extends t.JT{constructor(Z){super(),this._editor=Z,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new d.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(Z.onDidChangeCursorPosition(fe=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(Z.onDidChangeModelContent(fe=>{this._updateBracketsSoon.schedule()})),this._register(Z.onDidChangeModel(fe=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(Z.onDidChangeModelLanguageConfiguration(fe=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(Z.onDidChangeConfiguration(fe=>{fe.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(Z.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(Z.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(Z){return Z.getContribution(N.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const Z=this._editor.getModel(),fe=this._editor.getSelections().map(M=>{const Se=M.getStartPosition(),Ee=Z.bracketPairs.matchBracket(Se);let Le=null;if(Ee)Ee[0].containsPosition(Se)&&!Ee[1].containsPosition(Se)?Le=Ee[1].getStartPosition():Ee[1].containsPosition(Se)&&(Le=Ee[0].getStartPosition());else{const Ne=Z.bracketPairs.findEnclosingBrackets(Se);if(Ne)Le=Ne[1].getStartPosition();else{const oe=Z.bracketPairs.findNextBracket(Se);oe&&oe.range&&(Le=oe.range.getStartPosition())}}return Le?new w.Y(Le.lineNumber,Le.column,Le.lineNumber,Le.column):new w.Y(Se.lineNumber,Se.column,Se.lineNumber,Se.column)});this._editor.setSelections(fe),this._editor.revealRange(fe[0])}selectToBracket(Z){if(!this._editor.hasModel())return;const fe=this._editor.getModel(),M=[];this._editor.getSelections().forEach(Se=>{const Ee=Se.getStartPosition();let Le=fe.bracketPairs.matchBracket(Ee);if(!Le&&(Le=fe.bracketPairs.findEnclosingBrackets(Ee),!Le)){const we=fe.bracketPairs.findNextBracket(Ee);we&&we.range&&(Le=fe.bracketPairs.matchBracket(we.range.getStartPosition()))}let Ne=null,oe=null;if(Le){Le.sort(D.e.compareRangesUsingStarts);const[we,xe]=Le;if(Ne=Z?we.getStartPosition():we.getEndPosition(),oe=Z?xe.getEndPosition():xe.getStartPosition(),xe.containsPosition(Ee)){const pe=Ne;Ne=oe,oe=pe}}Ne&&oe&&M.push(new w.Y(Ne.lineNumber,Ne.column,oe.lineNumber,oe.column))}),M.length>0&&(this._editor.setSelections(M),this._editor.revealRange(M[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();const Z=[];let fe=0;for(const M of this._lastBracketsData){const Se=M.brackets;Se&&(Z[fe++]={range:Se[0],options:M.options},Z[fe++]={range:Se[1],options:M.options})}this._decorations.set(Z)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const Z=this._editor.getSelections();if(Z.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const fe=this._editor.getModel(),M=fe.getVersionId();let Se=[];this._lastVersionId===M&&(Se=this._lastBracketsData);const Ee=[];let Le=0;for(let pe=0,Te=Z.length;pe<Te;pe++){const de=Z[pe];de.isEmpty()&&(Ee[Le++]=de.getStartPosition())}Ee.length>1&&Ee.sort(y.L.compare);const Ne=[];let oe=0,we=0;const xe=Se.length;for(let pe=0,Te=Ee.length;pe<Te;pe++){const de=Ee[pe];for(;we<xe&&Se[we].position.isBefore(de);)we++;if(we<xe&&Se[we].position.equals(de))Ne[oe++]=Se[we];else{let ke=fe.bracketPairs.matchBracket(de,20),ze=N._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!ke&&"always"===this._matchBrackets&&(ke=fe.bracketPairs.findEnclosingBrackets(de,20),ze=N._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),Ne[oe++]=new ne(de,ke,ze)}}this._lastBracketsData=Ne,this._lastVersionId=M}}N.ID="editor.contrib.bracketMatchingController",N._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=O.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,B.EN)(z),position:P.sh.Center}}),N._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=O.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,b._K)(N.ID,N),(0,b.Qr)(class j extends b.R6{constructor(){super({id:"editor.action.selectToBracket",label:U.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(Z,fe,M){var Se;let Ee=!0;M&&!1===M.selectBrackets&&(Ee=!1),null===(Se=N.get(fe))||void 0===Se||Se.selectToBracket(Ee)}}),(0,b.Qr)(class $ extends b.R6{constructor(){super({id:"editor.action.jumpToBracket",label:U.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:I.u.editorTextFocus,primary:3160,weight:100}})}run(Z,fe){var M;null===(M=N.get(fe))||void 0===M||M.jumpToBracket()}}),(0,B.Ic)((V,Z)=>{const fe=V.getColor(H.TC);fe&&Z.addRule(`.monaco-editor .bracket-match { background-color: ${fe}; }`);const M=V.getColor(H.Dl);M&&Z.addRule(`.monaco-editor .bracket-match { border: 1px solid ${M}; }`)}),K.BH.appendMenuItem(K.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:U.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},84564:(Et,X,e)=>{"use strict";e.r(X);var d=e(26845),t=e(82290),l=e(98570),S=e(7233);class v{constructor(s,m){this._selection=s,this._isMovingLeft=m}getEditOperations(s,m){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const c=this._selection.startLineNumber,n=this._selection.startColumn,a=this._selection.endColumn;if((!this._isMovingLeft||1!==n)&&(this._isMovingLeft||a!==s.getLineMaxColumn(c)))if(this._isMovingLeft){const p=new l.e(c,n-1,c,n),u=s.getValueInRange(p);m.addEditOperation(p,null),m.addEditOperation(new l.e(c,a,c,a),u)}else{const p=new l.e(c,a,c,a+1),u=s.getValueInRange(p);m.addEditOperation(p,null),m.addEditOperation(new l.e(c,n,c,n),u)}}computeCursorState(s,m){return this._isMovingLeft?new S.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new S.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var T=e(55197);class C extends d.R6{constructor(s,m){super(m),this.left=s}run(s,m){if(!m.hasModel())return;const c=[],n=m.getSelections();for(const a of n)c.push(new v(a,this.left));m.pushUndoStop(),m.executeCommands(this.id,c),m.pushUndoStop()}}(0,d.Qr)(class E extends C{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:T.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:t.u.writable})}}),(0,d.Qr)(class L extends C{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:T.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:t.u.writable})}})},61888:(Et,X,e)=>{"use strict";e.r(X);var d=e(26845),t=e(22599),l=e(48589),S=e(98570),v=e(82290),T=e(55197);(0,d.Qr)(class C extends d.R6{constructor(){super({id:"editor.action.transposeLetters",label:T.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:v.u.writable,kbOpts:{kbExpr:v.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(L,_){if(!_.hasModel())return;const s=_.getModel(),m=[],c=_.getSelections();for(const n of c){if(!n.isEmpty())continue;const a=n.startLineNumber,p=n.startColumn,u=s.getLineMaxColumn(a);if(1===a&&(1===p||2===p&&2===u))continue;const g=p===u?n.getPosition():l.o.rightPosition(s,n.getPosition().lineNumber,n.getPosition().column),b=l.o.leftPosition(s,g),y=l.o.leftPosition(s,b),D=s.getValueInRange(S.e.fromPositions(y,b)),w=s.getValueInRange(S.e.fromPositions(b,g)),I=S.e.fromPositions(y,g);m.push(new t.T4(I,w+D))}m.length>0&&(_.pushUndoStop(),_.executeCommands(this.id,m),_.pushUndoStop())}})},84783:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CopyAction:()=>u,CutAction:()=>p,PasteAction:()=>g});var d=e(37428),t=e(8841),l=e(85375),S=e(26845),v=e(33745),T=e(82290),C=e(55197),E=e(74918),L=e(25787);const s="9_cutcopypaste",m=t.tY||document.queryCommandSupported("cut"),c=t.tY||document.queryCommandSupported("copy"),n=!(typeof navigator.clipboard>"u"||d.isFirefox)||document.queryCommandSupported("paste");function a(D){return D.register(),D}const p=m?a(new S.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:t.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:C.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:E.eH.EditorContext,group:s,title:C.NC("actions.clipboard.cutLabel","Cut"),when:T.u.writable,order:1},{menuId:E.eH.CommandPalette,group:"",title:C.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:E.eH.SimpleEditorContext,group:s,title:C.NC("actions.clipboard.cutLabel","Cut"),when:T.u.writable,order:1}]})):void 0,u=c?a(new S.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:t.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:C.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:E.eH.EditorContext,group:s,title:C.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:E.eH.CommandPalette,group:"",title:C.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:E.eH.SimpleEditorContext,group:s,title:C.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;E.BH.appendMenuItem(E.eH.MenubarEditMenu,{submenu:E.eH.MenubarCopy,title:{value:C.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),E.BH.appendMenuItem(E.eH.EditorContext,{submenu:E.eH.EditorContextCopy,title:{value:C.NC("copy as","Copy As"),original:"Copy As"},group:s,order:3}),E.BH.appendMenuItem(E.eH.EditorContext,{submenu:E.eH.EditorContextShare,title:{value:C.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const g=n?a(new S.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:t.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:C.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:E.eH.EditorContext,group:s,title:C.NC("actions.clipboard.pasteLabel","Paste"),when:T.u.writable,order:4},{menuId:E.eH.CommandPalette,group:"",title:C.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:E.eH.SimpleEditorContext,group:s,title:C.NC("actions.clipboard.pasteLabel","Paste"),when:T.u.writable,order:4}]})):void 0;function y(D,w){!D||(D.addImplementation(1e4,"code-editor",(I,P)=>{const O=I.get(v.$).getFocusedCodeEditor();if(O&&O.hasTextFocus()){const H=O.getOption(33),U=O.getSelection();return U&&U.isEmpty()&&!H||document.execCommand(w),!0}return!1}),D.addImplementation(0,"generic-dom",(I,P)=>(document.execCommand(w),!0)))}y(p,"cut"),y(u,"copy"),g&&(g.addImplementation(1e4,"code-editor",(D,w)=>{const I=D.get(v.$),P=D.get(L.p),O=I.getFocusedCodeEditor();return!(!O||!O.hasTextFocus())&&(!(!document.execCommand("paste")&&t.$L)||function(D,w,I,P){return new(I||(I=Promise))(function(H,U){function K(z){try{B(P.next(z))}catch($){U($)}}function F(z){try{B(P.throw(z))}catch($){U($)}}function B(z){z.done?H(z.value):function O(H){return H instanceof I?H:new I(function(U){U(H)})}(z.value).then(K,F)}B((P=P.apply(D,w||[])).next())})}(void 0,void 0,void 0,function*(){const U=yield P.readText();if(""!==U){const K=l.Nl.INSTANCE.get(U);let F=!1,B=null,z=null;K&&(F=O.getOption(33)&&!!K.isFromEmptySelection,B=typeof K.multicursorText<"u"?K.multicursorText:null,z=K.mode),O.trigger("keyboard","paste",{text:U,pasteOnNewLine:F,multicursorText:B,mode:z})}}))}),g.addImplementation(0,"generic-dom",(D,w)=>(document.execCommand("paste"),!0))),c&&(0,S.Qr)(class b extends S.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:T.u.textInputFocus,primary:0,weight:100}})}run(w,I){!I.hasModel()||!I.getOption(33)&&I.getSelection().isEmpty()||(l.RA.forceCopyWithSyntaxHighlighting=!0,I.focus(),document.execCommand("copy"),l.RA.forceCopyWithSyntaxHighlighting=!1)}})},80151:(Et,X,e)=>{"use strict";e.d(X,{Bb:()=>p,MN:()=>g,RB:()=>a,TM:()=>y,aI:()=>P,bA:()=>D,sh:()=>u,uH:()=>b});var d=e(64023),t=e(73888),l=e(4125),S=e(80142),v=e(59547),T=e(18623),C=e(98570),E=e(7233),L=e(59602),_=e(66549),s=e(55538),m=e(77084),c=e(90790),n=function(U,K,F,B){return new(F||(F=Promise))(function($,j){function ne(Z){try{V(B.next(Z))}catch(fe){j(fe)}}function N(Z){try{V(B.throw(Z))}catch(fe){j(fe)}}function V(Z){Z.done?$(Z.value):function z($){return $ instanceof F?$:new F(function(j){j($)})}(Z.value).then(ne,N)}V((B=B.apply(U,K||[])).next())})};const a="editor.action.codeAction",p="editor.action.refactor",u="editor.action.refactor.preview",g="editor.action.sourceAction",b="editor.action.organizeImports",y="editor.action.fixAll";class D{constructor(K,F){this.action=K,this.provider=F}resolve(K){var F;return n(this,void 0,void 0,function*(){if((null===(F=this.provider)||void 0===F?void 0:F.resolveCodeAction)&&!this.action.edit){let B;try{B=yield this.provider.resolveCodeAction(this.action,K)}catch(z){(0,l.Cp)(z)}B&&(this.action.edit=B.edit)}return this})}}class w extends S.JT{constructor(K,F,B){super(),this.documentation=F,this._register(B),this.allActions=[...K].sort(w.codeActionsComparator),this.validActions=this.allActions.filter(({action:z})=>!z.disabled)}static codeActionsComparator({action:K},{action:F}){return K.isPreferred&&!F.isPreferred?-1:!K.isPreferred&&F.isPreferred?1:(0,d.Of)(K.diagnostics)?(0,d.Of)(F.diagnostics)?K.diagnostics[0].message.localeCompare(F.diagnostics[0].message):-1:(0,d.Of)(F.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:K})=>!!K.kind&&m.yN.QuickFix.contains(new m.yN(K.kind))&&!!K.isPreferred)}}const I={actions:[],documentation:void 0};function P(U,K,F,B,z,$){var j;const ne=B.filter||{},N={only:null===(j=ne.include)||void 0===j?void 0:j.value,trigger:B.type},V=new T.YQ(K,$),Z=function O(U,K,F){return U.all(K).filter(B=>!B.providedCodeActionKinds||B.providedCodeActionKinds.some(z=>(0,m.EU)(F,new m.yN(z))))}(U,K,ne),fe=new S.SL,M=Z.map(Ee=>n(this,void 0,void 0,function*(){try{z.report(Ee);const Le=yield Ee.provideCodeActions(K,F,N,V.token);if(Le&&fe.add(Le),V.token.isCancellationRequested)return I;const Ne=(Le?.actions||[]).filter(we=>we&&(0,m.Yl)(ne,we)),oe=function H(U,K,F){if(!U.documentation)return;const B=U.documentation.map(z=>({kind:new m.yN(z.kind),command:z.command}));if(F){let z;for(const $ of B)$.kind.contains(F)&&(z?z.kind.contains($.kind)&&(z=$):z=$);if(z)return z?.command}for(const z of K)if(z.kind)for(const $ of B)if($.kind.contains(new m.yN(z.kind)))return $.command}(Ee,Ne,ne.include);return{actions:Ne.map(we=>new D(we,Ee)),documentation:oe}}catch(Le){if((0,l.n2)(Le))throw Le;return(0,l.Cp)(Le),I}})),Se=U.onDidChange(()=>{const Ee=U.all(K);(0,d.fS)(Ee,Z)||V.cancel()});return Promise.all(M).then(Ee=>{const Le=Ee.map(oe=>oe.actions).flat(),Ne=(0,d.kX)(Ee.map(oe=>oe.documentation));return new w(Le,Ne,fe)}).finally(()=>{Se.dispose(),V.dispose()})}_.P0.registerCommand("_executeCodeActionProvider",function(U,K,F,B,z){return n(this,void 0,void 0,function*(){if(!(K instanceof v.o))throw(0,l.b1)();const{codeActionProvider:$}=U.get(c.p),j=U.get(L.q).getModel(K);if(!j)throw(0,l.b1)();const ne=E.Y.isISelection(F)?E.Y.liftSelection(F):C.e.isIRange(F)?j.validateRange(F):void 0;if(!ne)throw(0,l.b1)();const N="string"==typeof B?new m.yN(B):void 0,V=yield P($,j,ne,{type:1,triggerAction:m.aQ.Default,filter:{includeSourceActions:!0,include:N}},s.Ex.None,t.T.None),Z=[],fe=Math.min(V.validActions.length,"number"==typeof z?z:0);for(let M=0;M<fe;M++)Z.push(V.validActions[M].resolve(t.T.None));try{return yield Promise.all(Z),V.validActions.map(M=>M.action)}finally{setTimeout(()=>V.dispose(),100)}})})},29354:(Et,X,e)=>{"use strict";e.d(X,{S5:()=>ro,dW:()=>li,Hv:()=>xo,o$:()=>oo,E7:()=>zn,pY:()=>Mn,Eb:()=>oi,UG:()=>Li,VQ:()=>so});var d=e(73888),t=e(27386),l=e(80142),S=e(73879),v=e(26845),T=e(61560),C=e(82290),E=e(90790),L=e(80151),_=e(4125),s=e(54007),m=e(9265),c=e(98463),n=e(25478),a=e(827),p=e(57856),u=e.n(p),g=e(38470),b=e.n(g),y=e(43370),D=e.n(y),w=e(28458),I=e.n(w),P=e(71278),O=e.n(P),H=e(29488),U=e.n(H),K=e(47538),F={};F.styleTagTransform=U(),F.setAttributes=I(),F.insert=D().bind(null,"head"),F.domAPI=b(),F.insertStyleElement=O(),u()(K.Z,F);var $=e(18723),j=e(77084),ne=e(55197),N=e(94667),V=e(16468),Z=e(50703),fe=e(14759),M=e(24131),Se=e(40902),Ee=function(si,Qt,pt,ft){var rn,jt=arguments.length,en=jt<3?Qt:null===ft?ft=Object.getOwnPropertyDescriptor(Qt,pt):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)en=Reflect.decorate(si,Qt,pt,ft);else for(var gn=si.length-1;gn>=0;gn--)(rn=si[gn])&&(en=(jt<3?rn(en):jt>3?rn(Qt,pt,en):rn(Qt,pt))||en);return jt>3&&en&&Object.defineProperty(Qt,pt,en),en},Le=function(si,Qt){return function(pt,ft){Qt(pt,ft,si)}};const oe={Visible:new V.uy("CodeActionMenuVisible",!1,(0,ne.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))};class we extends a.aU{constructor(Qt,pt){super(Qt.command?Qt.command.id:Qt.title,function xe(si){return si.replace(/\r\n|\r|\n/g," ")}(Qt.title),void 0,!Qt.disabled,pt),this.action=Qt}}let de=class{constructor(Qt,pt){this.acceptKeybindings=Qt,this.keybindingService=pt}get templateId(){return"codeActionWidget"}renderTemplate(Qt){const pt=Object.create(null);return pt.disposables=[],pt.root=Qt,pt.text=document.createElement("span"),Qt.append(pt.text),pt}renderElement(Qt,pt,ft){const jt=ft,rn=Qt.isEnabled,gn=Qt.isSeparator,An=Qt.isDocumentation;jt.text.textContent=Qt.title,rn?jt.root.classList.remove("option-disabled"):(jt.root.classList.add("option-disabled"),jt.root.style.backgroundColor="transparent !important"),gn&&(jt.root.classList.add("separator"),jt.root.style.height="10px"),An||(()=>{var Qn,wi;const[xi,no]=this.acceptKeybindings;jt.root.title=(0,ne.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",null===(Qn=this.keybindingService.lookupKeybinding(xi))||void 0===Qn?void 0:Qn.getLabel(),null===(wi=this.keybindingService.lookupKeybinding(no))||void 0===wi?void 0:wi.getLabel())})()}disposeTemplate(Qt){Qt.disposables=(0,l.B9)(Qt.disposables)}};de=Ee([Le(1,fe.d)],de);let ke=class Sc extends l.JT{constructor(Qt,pt,ft,jt,en,rn,gn,An,jn,Qn){super(),this._editor=Qt,this._delegate=pt,this._contextMenuService=ft,this._languageFeaturesService=en,this._telemetryService=rn,this._configurationService=An,this._contextViewService=jn,this._contextKeyService=Qn,this._showingActions=this._register(new l.XK),this.codeActionList=this._register(new l.XK),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new ze({getKeybindings:()=>jt.getKeybindings()}),this._ctxMenuWidgetVisible=oe.Visible.bindTo(this._contextKeyService),this.listRenderer=new de(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],jt)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(Qt){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:Qt.uri})}_onListSelection(Qt){Qt.elements.length&&Qt.elements.forEach(pt=>{pt.isEnabled&&(pt.action.run(),this.hideCodeActionWidget())})}_onListHover(Qt){var pt,ft,jt,en;Qt.element?null!==(ft=Qt.element)&&void 0!==ft&&ft.isEnabled?(null===(jt=this.codeActionList.value)||void 0===jt||jt.setFocus([Qt.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(Qt.element),this.currSelectedItem=Qt.element.index):(this.currSelectedItem=void 0,null===(en=this.codeActionList.value)||void 0===en||en.setFocus([Qt.element.index])):(this.currSelectedItem=void 0,null===(pt=this.codeActionList.value)||void 0===pt||pt.setFocus([]))}renderCodeActionMenuList(Qt,pt){var ft;const jt=new l.SL,en=document.createElement("div"),rn=document.createElement("div");this.block=Qt.appendChild(rn),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",jt.add(c.nm(this.block,c.tw.MOUSE_DOWN,xi=>xi.stopPropagation())),en.id="codeActionMenuWidget",en.classList.add("codeActionMenuWidget"),Qt.appendChild(en),this.codeActionList.value=new n.aV("codeActionWidget",en,{getHeight:xi=>xi.isSeparator?10:26,getTemplateId:xi=>"codeActionWidget"},[this.listRenderer],{keyboardSupport:!1}),jt.add(this.codeActionList.value.onMouseOver(xi=>this._onListHover(xi))),jt.add(this.codeActionList.value.onDidChangeFocus(xi=>{var no;return null===(no=this.codeActionList.value)||void 0===no?void 0:no.domFocus()})),jt.add(this.codeActionList.value.onDidChangeSelection(xi=>this._onListSelection(xi))),jt.add(this._editor.onDidLayoutChange(xi=>this.hideCodeActionWidget())),pt.forEach((xi,no)=>{const Oi="separator"===xi.class;let Ki=!1;xi instanceof we&&(Ki=xi.action.kind===Sc.documentationID),Oi&&(this.hasSeperator=!0);const ji={title:xi.label,detail:xi.tooltip,action:pt[no],isEnabled:xi.enabled,isSeparator:Oi,index:no,isDocumentation:Ki};xi.enabled&&this.viewItems.push(ji),this.options.push(ji)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const gn=this.hasSeperator?26*(pt.length-1)+10:26*pt.length;en.style.height=String(gn)+"px",this.codeActionList.value.layout(gn);const An=[];this.options.forEach((xi,no)=>{var Oi,Ki;if(!this.codeActionList.value)return;const ji=null===(Ki=document.getElementById(null===(Oi=this.codeActionList.value)||void 0===Oi?void 0:Oi.getElementID(no)))||void 0===Ki?void 0:Ki.getElementsByTagName("span")[0].offsetWidth;An.push(Number(ji))});const jn=Math.max(...An);en.style.width=jn+52+"px",null===(ft=this.codeActionList.value)||void 0===ft||ft.layout(gn,jn),this.viewItems.length<1||this.viewItems.every(xi=>xi.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const Qn=c.go(Qt),wi=Qn.onDidBlur(()=>{this.hideCodeActionWidget()});return jt.add(wi),jt.add(Qn),this._ctxMenuWidgetVisible.set(!0),jt}focusPrevious(){var Qt;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const pt=this.focusedEnabledItem;let ft;do{this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),ft=this.viewItems[this.focusedEnabledItem],null===(Qt=this.codeActionList.value)||void 0===Qt||Qt.setFocus([ft.index]),this.currSelectedItem=ft.index}while(this.focusedEnabledItem!==pt&&(!ft.isEnabled||ft.action.id===a.Z0.ID));return!0}focusNext(){var Qt;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const pt=this.focusedEnabledItem;let ft;do{this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,ft=this.viewItems[this.focusedEnabledItem],null===(Qt=this.codeActionList.value)||void 0===Qt||Qt.setFocus([ft.index]),this.currSelectedItem=ft.index}while(this.focusedEnabledItem!==pt&&(!ft.isEnabled||ft.action.id===a.Z0.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var Qt;"number"==typeof this.currSelectedItem&&(null===(Qt=this.codeActionList.value)||void 0===Qt||Qt.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(Qt,pt,ft){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:Qt,validCodeActions:ft.validActions.length,cancelled:pt})}show(Qt,pt,ft,jt){return function(si,Qt,pt,ft){return new(pt||(pt=Promise))(function(en,rn){function gn(Qn){try{jn(ft.next(Qn))}catch(wi){rn(wi)}}function An(Qn){try{jn(ft.throw(Qn))}catch(wi){rn(wi)}}function jn(Qn){Qn.done?en(Qn.value):function jt(en){return en instanceof pt?en:new pt(function(rn){rn(en)})}(Qn.value).then(gn,An)}jn((ft=ft.apply(si,Qt||[])).next())})}(this,void 0,void 0,function*(){const en=this._editor.getModel();if(!en)return;const rn=jt.includeDisabledActions?pt.allActions:pt.validActions;if(!rn.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,_.F0)();this._visible=!0,this._showingActions.value=pt;const gn=this.getMenuActions(Qt,rn,pt.documentation),An=$.L.isIPosition(ft)?this._toCoords(ft):ft||{x:0,y:0},jn=this._keybindingResolver.getResolver(),Qn=this._editor.getOption(117);this.isCodeActionWidgetEnabled(en)?this._contextViewService.showContextView({getAnchor:()=>An,render:wi=>this.renderCodeActionMenuList(wi,gn),onHide:wi=>{this.codeActionTelemetry(jt.fromLightbulb?j.aQ.Lightbulb:Qt.triggerAction,wi,pt),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:Qn?this._editor.getDomNode():void 0,getAnchor:()=>An,getActions:()=>gn,onHide:wi=>{this.codeActionTelemetry(jt.fromLightbulb?j.aQ.Lightbulb:Qt.triggerAction,wi,pt),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:wi=>wi instanceof we?jn(wi.action):void 0})})}getMenuActions(Qt,pt,ft){var jt,en;const rn=Qn=>new we(Qn.action,()=>this._delegate.onSelectCodeAction(Qn,Qt)),gn=pt.map(rn),An=[...ft],jn=this._editor.getModel();if(jn&&gn.length)for(const Qn of this._languageFeaturesService.codeActionProvider.all(jn))Qn._getAdditionalMenuItems&&An.push(...Qn._getAdditionalMenuItems({trigger:Qt.type,only:null===(en=null===(jt=Qt.filter)||void 0===jt?void 0:jt.include)||void 0===en?void 0:en.value},pt.map(wi=>wi.action)));return An.length&&gn.push(new a.Z0,...An.map(Qn=>rn(new L.bA({title:Qn.title,command:Qn,kind:Sc.documentationID},void 0)))),gn}_toCoords(Qt){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Qt,1),this._editor.render();const pt=this._editor.getScrolledVisiblePosition(Qt),ft=c.i(this._editor.getDomNode());return{x:ft.left+pt.left,y:ft.top+pt.top+pt.height}}};ke.documentationID="_documentation",ke=Ee([Le(2,Z.i),Le(3,fe.d),Le(4,E.p),Le(5,M.b),Le(6,Se.XE),Le(7,N.Ui),Le(8,Z.u),Le(9,V.i6)],ke);let ze=(()=>{class si{constructor(pt){this._keybindingProvider=pt}getResolver(){const pt=new t.o(()=>this._keybindingProvider.getKeybindings().filter(ft=>si.codeActionCommands.indexOf(ft.command)>=0).filter(ft=>ft.resolvedKeybinding).map(ft=>{let jt=ft.commandArgs;return ft.command===L.uH?jt={kind:j.yN.SourceOrganizeImports.value}:ft.command===L.TM&&(jt={kind:j.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:ft.resolvedKeybinding},j.wZ.fromUser(jt,{kind:j.yN.None,apply:"never"}))}));return ft=>{if(ft.kind)return this.bestKeybindingForCodeAction(ft,pt.getValue())?.resolvedKeybinding}}bestKeybindingForCodeAction(pt,ft){if(!pt.kind)return;const jt=new j.yN(pt.kind);return ft.filter(en=>en.kind.contains(jt)).filter(en=>!en.preferred||pt.isPreferred).reduceRight((en,rn)=>en?en.kind.contains(rn.kind)?rn:en:rn,void 0)}}return si.codeActionCommands=[L.Bb,L.RB,L.MN,L.uH,L.TM],si})();var $e=e(62922),ce=e(58783),Ue=e(3778),nt=e(38393),Dt={};Dt.styleTagTransform=U(),Dt.setAttributes=I(),Dt.insert=D().bind(null,"head"),Dt.domAPI=b(),Dt.insertStyleElement=O(),u()(nt.Z,Dt);var Q,ae=e(24927),_e=e(4062);!function(si){si.Hidden={type:0},si.Showing=class Qt{constructor(ft,jt,en,rn){this.actions=ft,this.trigger=jt,this.editorPosition=en,this.widgetPosition=rn,this.type=1}}}(Q||(Q={}));let ve=class zc extends l.JT{constructor(Qt,pt,ft,jt){super(),this._editor=Qt,this._quickFixActionId=pt,this._preferredFixActionId=ft,this._keybindingService=jt,this._onClick=this._register(new Ue.Q5),this.onClick=this._onClick.event,this._state=Q.Hidden,this._domNode=document.createElement("div"),this._domNode.className=ce.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(en=>{const rn=this._editor.getModel();(1!==this.state.type||!rn||this.state.editorPosition.lineNumber>=rn.getLineCount())&&this.hide()})),$e.o.ignoreTarget(this._domNode),this._register(c.GQ(this._domNode,en=>{if(1!==this.state.type)return;this._editor.focus(),en.preventDefault();const{top:rn,height:gn}=c.i(this._domNode),An=this._editor.getOption(61);let jn=Math.floor(An/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(jn+=An),this._onClick.fire({x:en.posx,y:rn+gn+jn,actions:this.state.actions,trigger:this.state.trigger})})),this._register(c.nm(this._domNode,"mouseenter",en=>{1==(1&en.buttons)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(en=>{en.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(Qt,pt,ft){if(Qt.validActions.length<=0)return this.hide();const jt=this._editor.getOptions();if(!jt.get(59).enabled)return this.hide();const en=this._editor.getModel();if(!en)return this.hide();const{lineNumber:rn,column:gn}=en.validatePosition(ft),An=en.getOptions().tabSize,jn=jt.get(46),Qn=en.getLineContent(rn),wi=(0,ae.q)(Qn,An),no=Ki=>Ki>2&&this._editor.getTopForLineNumber(Ki)===this._editor.getTopForLineNumber(Ki-1);let Oi=rn;if(!(jn.spaceWidth*wi>22))if(rn>1&&!no(rn-1))Oi-=1;else if(no(rn+1)){if(gn*jn.spaceWidth<22)return this.hide()}else Oi+=1;this.state=new Q.Showing(Qt,pt,ft,{position:{lineNumber:Oi,column:1},preference:zc._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Q.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(Qt){this._state=Qt,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...ce.lA.lightBulb.classNamesArray),this._domNode.classList.add(...ce.lA.lightbulbAutofix.classNamesArray);const pt=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(pt)return void(this.title=ne.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",pt.getLabel()))}this._domNode.classList.remove(...ce.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...ce.lA.lightBulb.classNamesArray);const Qt=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=Qt?ne.NC("codeActionWithKb","Show Code Actions ({0})",Qt.getLabel()):ne.NC("codeAction","Show Code Actions")}set title(Qt){this._domNode.title=Qt}};var Qt;ve._posPref=[0],ve=function(si,Qt,pt,ft){var rn,jt=arguments.length,en=jt<3?Qt:null===ft?ft=Object.getOwnPropertyDescriptor(Qt,pt):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)en=Reflect.decorate(si,Qt,pt,ft);else for(var gn=si.length-1;gn>=0;gn--)(rn=si[gn])&&(en=(jt<3?rn(en):jt>3?rn(Qt,pt,en):rn(Qt,pt))||en);return jt>3&&en&&Object.defineProperty(Qt,pt,en),en}([(3,Qt=fe.d,function(pt,ft){Qt(pt,ft,3)})],ve),(0,Se.Ic)((si,Qt)=>{var pt;const ft=null===(pt=si.getColor(_e.cvW))||void 0===pt?void 0:pt.transparent(.7),jt=si.getColor(_e.Fu1);jt&&Qt.addRule(`\n\t\t.monaco-editor .contentWidgets ${ce.lA.lightBulb.cssSelector} {\n\t\t\tcolor: ${jt};\n\t\t\tbackground-color: ${ft};\n\t\t}`);const en=si.getColor(_e.sKV);en&&Qt.addRule(`\n\t\t.monaco-editor .contentWidgets ${ce.lA.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${en};\n\t\t\tbackground-color: ${ft};\n\t\t}`)});var tt,st=function(si,Qt,pt,ft){return new(pt||(pt=Promise))(function(en,rn){function gn(Qn){try{jn(ft.next(Qn))}catch(wi){rn(wi)}}function An(Qn){try{jn(ft.throw(Qn))}catch(wi){rn(wi)}}function jn(Qn){Qn.done?en(Qn.value):function jt(en){return en instanceof pt?en:new pt(function(rn){rn(en)})}(Qn.value).then(gn,An)}jn((ft=ft.apply(si,Qt||[])).next())})};let vt=class extends l.JT{constructor(Qt,pt,ft,jt,en){super(),this._editor=Qt,this.delegate=jt,this._activeCodeActions=this._register(new l.XK),this.previewOn=!1,tt.set(this,!1),this._codeActionWidget=new t.o(()=>this._register(en.createInstance(ke,this._editor,{onSelectCodeAction:(rn,gn)=>st(this,void 0,void 0,function*(){this.delegate.applyCodeAction(rn,!0,this.previewOn?Boolean(this.previewOn):Boolean(gn.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new t.o(()=>{const rn=this._register(en.createInstance(ve,this._editor,pt,ft));return this._register(rn.onClick(gn=>this.showCodeActionList(gn.trigger,gn.actions,gn,{includeDisabledActions:!1,fromLightbulb:!0}))),rn})}dispose(){(function(si,Qt,pt,ft,jt){if("function"==typeof Qt||!Qt.has(si))throw new TypeError("Cannot write private member to an object whose class did not declare it");Qt.set(si,true)})(this,tt),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(Qt){this._codeActionWidget.hasValue()&&(Qt?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(Qt){var pt,ft,jt,en,rn;return st(this,void 0,void 0,function*(){if(1!==Qt.type)return void(null===(pt=this._lightBulbWidget.rawValue)||void 0===pt||pt.hide());let gn;try{gn=yield Qt.actions}catch(An){return void(0,_.dL)(An)}if(!function(si,Qt,pt,ft){if("function"==typeof Qt||!Qt.has(si))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Qt.get(si)}(this,tt))if(this._lightBulbWidget.getValue().update(gn,Qt.trigger,Qt.position),1===Qt.trigger.type){if(null!==(ft=Qt.trigger.filter)&&void 0!==ft&&ft.include){const jn=this.tryGetValidActionToApply(Qt.trigger,gn);if(jn){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(jn,!1,!1)}finally{gn.dispose()}return}if(Qt.trigger.context){const Qn=this.getInvalidActionThatWouldHaveBeenApplied(Qt.trigger,gn);if(Qn&&Qn.action.disabled)return null===(jt=s.O.get(this._editor))||void 0===jt||jt.showMessage(Qn.action.disabled,Qt.trigger.context.position),void gn.dispose()}}const An=!(null===(en=Qt.trigger.filter)||void 0===en||!en.include);if(Qt.trigger.context&&(!gn.allActions.length||!An&&!gn.validActions.length))return null===(rn=s.O.get(this._editor))||void 0===rn||rn.showMessage(Qt.trigger.context.notAvailableMessage,Qt.trigger.context.position),this._activeCodeActions.value=gn,void gn.dispose();this._activeCodeActions.value=gn,this._codeActionWidget.getValue().show(Qt.trigger,gn,Qt.position,{includeDisabledActions:An,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?gn.dispose():this._activeCodeActions.value=gn})}getInvalidActionThatWouldHaveBeenApplied(Qt,pt){if(pt.allActions.length&&("first"===Qt.autoApply&&0===pt.validActions.length||"ifSingle"===Qt.autoApply&&1===pt.allActions.length))return pt.allActions.find(({action:ft})=>ft.disabled)}tryGetValidActionToApply(Qt,pt){if(pt.validActions.length&&("first"===Qt.autoApply&&pt.validActions.length>0||"ifSingle"===Qt.autoApply&&1===pt.validActions.length))return pt.validActions[0]}showCodeActionList(Qt,pt,ft,jt){return st(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(Qt,pt,ft,jt)})}};tt=new WeakMap,vt=function(si,Qt,pt,ft){var rn,jt=arguments.length,en=jt<3?Qt:null===ft?ft=Object.getOwnPropertyDescriptor(Qt,pt):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)en=Reflect.decorate(si,Qt,pt,ft);else for(var gn=si.length-1;gn>=0;gn--)(rn=si[gn])&&(en=(jt<3?rn(en):jt>3?rn(Qt,pt,en):rn(Qt,pt))||en);return jt>3&&en&&Object.defineProperty(Qt,pt,en),en}([function(si,Qt){return function(pt,ft){Qt(pt,ft,4)}}(0,m.TG)],vt);var wt,mt=e(66549),_t=e(58177),Kt=e(55538),Bt=e(54436),Ge=e(48648),ut=e(40734),Ut=e(98570),hn=function(si,Qt,pt,ft){if("a"===pt&&!ft)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Qt?si!==Qt||!ft:!Qt.has(si))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===pt?ft:"a"===pt?ft.call(si):ft?ft.value:Qt.get(si)};const je=new V.uy("supportedCodeAction","");class ye extends l.JT{constructor(Qt,pt,ft,jt=250){super(),this._editor=Qt,this._markerService=pt,this._signalChange=ft,this._delay=jt,this._autoTriggerTimer=this._register(new Ge._F),this._register(this._markerService.onMarkerChanged(en=>this._onMarkerChanges(en))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(Qt){const pt=this._getRangeOfSelectionUnlessWhitespaceEnclosed(Qt);return this._createEventAndSignalChange(Qt,pt)}_onMarkerChanges(Qt){const pt=this._editor.getModel();!pt||Qt.some(ft=>(0,ut.Xy)(ft,pt.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:j.aQ.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:j.aQ.Default})},this._delay)}_getRangeOfMarker(Qt){const pt=this._editor.getModel();if(pt)for(const ft of this._markerService.read({resource:pt.uri})){const jt=pt.validateRange(ft);if(Ut.e.intersectRanges(jt,Qt))return Ut.e.lift(jt)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(Qt){if(!this._editor.hasModel())return;const pt=this._editor.getModel(),ft=this._editor.getSelection();if(ft.isEmpty()&&2===Qt.type){const{lineNumber:jt,column:en}=ft.getPosition(),rn=pt.getLineContent(jt);if(0===rn.length)return;if(1===en){if(/\s/.test(rn[0]))return}else if(en===pt.getLineMaxColumn(jt)){if(/\s/.test(rn[rn.length-1]))return}else if(/\s/.test(rn[en-2])&&/\s/.test(rn[en-1]))return}return ft}_createEventAndSignalChange(Qt,pt){const ft=this._editor.getModel();if(!pt||!ft)return void this._signalChange(void 0);const jt=this._getRangeOfMarker(pt),en=jt?jt.getStartPosition():pt.getStartPosition(),rn={trigger:Qt,selection:pt,position:en};return this._signalChange(rn),rn}}var Me;!function(si){si.Empty={type:0},si.Triggered=class Qt{constructor(ft,jt,en,rn){this.trigger=ft,this.rangeOrSelection=jt,this.position=en,this._cancellablePromise=rn,this.type=1,this.actions=rn.catch(gn=>{if((0,_.n2)(gn))return ue;throw gn})}cancel(){this._cancellablePromise.cancel()}}}(Me||(Me={}));const ue={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class be extends l.JT{constructor(Qt,pt,ft,jt,en){super(),this._editor=Qt,this._registry=pt,this._markerService=ft,this._progressService=en,this._codeActionOracle=this._register(new l.XK),this._state=Me.Empty,this._onDidChangeState=this._register(new Ue.Q5),this.onDidChangeState=this._onDidChangeState.event,wt.set(this,!1),this._supportedCodeActions=je.bindTo(jt),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){hn(this,wt,"f")||(function(si,Qt,pt,ft,jt){if("function"==typeof Qt||!Qt.has(si))throw new TypeError("Cannot write private member to an object whose class did not declare it");Qt.set(si,true)}(this,wt),super.dispose(),this.setState(Me.Empty,!0))}_update(){if(hn(this,wt,"f"))return;this._codeActionOracle.value=void 0,this.setState(Me.Empty);const Qt=this._editor.getModel();if(Qt&&this._registry.has(Qt)&&!this._editor.getOption(83)){const pt=[];for(const ft of this._registry.all(Qt))Array.isArray(ft.providedCodeActionKinds)&&pt.push(...ft.providedCodeActionKinds);this._supportedCodeActions.set(pt.join(" ")),this._codeActionOracle.value=new ye(this._editor,this._markerService,ft=>{var jt;if(!ft)return void this.setState(Me.Empty);const en=(0,Ge.PG)(rn=>(0,L.aI)(this._registry,Qt,ft.selection,ft.trigger,Kt.Ex.None,rn));1===ft.trigger.type&&(null===(jt=this._progressService)||void 0===jt||jt.showWhile(en,250)),this.setState(new Me.Triggered(ft.trigger,ft.selection,ft.position,en))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:j.aQ.Default})}else this._supportedCodeActions.reset()}trigger(Qt){var pt;null===(pt=this._codeActionOracle.value)||void 0===pt||pt.trigger(Qt)}setState(Qt,pt){Qt!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=Qt,!pt&&!hn(this,wt,"f")&&this._onDidChangeState.fire(Qt))}}wt=new WeakMap;var Fe=function(si,Qt){return function(pt,ft){Qt(pt,ft,si)}},ot=function(si,Qt,pt,ft){return new(pt||(pt=Promise))(function(en,rn){function gn(Qn){try{jn(ft.next(Qn))}catch(wi){rn(wi)}}function An(Qn){try{jn(ft.throw(Qn))}catch(wi){rn(wi)}}function jn(Qn){Qn.done?en(Qn.value):function jt(en){return en instanceof pt?en:new pt(function(rn){rn(en)})}(Qn.value).then(gn,An)}jn((ft=ft.apply(si,Qt||[])).next())})};function bt(si){return V.Ao.regex(je.keys()[0],new RegExp("(\\s|^)"+(0,S.ec)(si.value)+"\\b"))}function Ht(si,Qt,pt,ft){const jt=j.wZ.fromUser(Qt,{kind:j.yN.Refactor,apply:"never"});return yn(si,"string"==typeof Qt?.kind?jt.preferred?ne.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",Qt.kind):ne.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",Qt.kind):jt.preferred?ne.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):ne.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:j.yN.Refactor.contains(jt.kind)?jt.kind:j.yN.None,onlyIncludePreferredActions:jt.preferred},jt.apply,pt,ft)}const vn={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:ne.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:ne.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[ne.NC("args.schema.apply.first","Always apply the first returned code action."),ne.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),ne.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:ne.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let Mn=class Kc extends l.JT{constructor(Qt,pt,ft,jt,en,rn){super(),this._instantiationService=en,this._editor=Qt,this._model=this._register(new be(this._editor,rn.codeActionProvider,pt,ft,jt)),this._register(this._model.onDidChangeState(gn=>this.update(gn))),this._ui=new t.o(()=>this._register(new vt(Qt,zn.Id,ro.Id,{applyCodeAction:(gn,An,jn)=>ot(this,void 0,void 0,function*(){try{yield this._applyCodeAction(gn,jn)}finally{An&&this._trigger({type:2,triggerAction:j.aQ.QuickFix,filter:{}})}})},this._instantiationService)))}static get(Qt){return Qt.getContribution(Kc.ID)}update(Qt){this._ui.getValue().update(Qt)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(Qt){this._ui.hasValue()&&this._ui.getValue().navigateList(Qt)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(Qt,pt,ft){return this._ui.getValue().showCodeActionList(Qt,pt,ft,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Qt,pt,ft,jt,en){var rn;if(!this._editor.hasModel())return;null===(rn=s.O.get(this._editor))||void 0===rn||rn.closeMessage();const gn=this._editor.getPosition();this._trigger({type:1,triggerAction:pt,filter:ft,autoApply:jt,context:{notAvailableMessage:Qt,position:gn},preview:en})}_trigger(Qt){return this._model.trigger(Qt)}_applyCodeAction(Qt,pt){return this._instantiationService.invokeFunction(fn,Qt,Ct.FromCodeActions,{preview:pt,editor:this._editor})}};Mn.ID="editor.contrib.quickFixController",Mn=function(si,Qt,pt,ft){var rn,jt=arguments.length,en=jt<3?Qt:null===ft?ft=Object.getOwnPropertyDescriptor(Qt,pt):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)en=Reflect.decorate(si,Qt,pt,ft);else for(var gn=si.length-1;gn>=0;gn--)(rn=si[gn])&&(en=(jt<3?rn(en):jt>3?rn(Qt,pt,en):rn(Qt,pt))||en);return jt>3&&en&&Object.defineProperty(Qt,pt,en),en}([Fe(1,_t.lT),Fe(2,V.i6),Fe(3,Kt.ek),Fe(4,m.TG),Fe(5,E.p)],Mn);var Ct=(()=>(function(si){si.OnSave="onSave",si.FromProblemsView="fromProblemsView",si.FromCodeActions="fromCodeActions"}(Ct||(Ct={})),Ct))();function fn(si,Qt,pt,ft){return ot(this,void 0,void 0,function*(){const jt=si.get(T.vu),en=si.get(mt.Hy),rn=si.get(M.b),gn=si.get(Bt.lT);if(rn.publicLog2("codeAction.applyCodeAction",{codeActionTitle:Qt.action.title,codeActionKind:Qt.action.kind,codeActionIsPreferred:!!Qt.action.isPreferred,reason:pt}),yield Qt.resolve(d.T.None),Qt.action.edit&&(yield jt.apply(T.fo.convert(Qt.action.edit),{editor:ft?.editor,label:Qt.action.title,quotableLabel:Qt.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:ft?.preview})),Qt.action.command)try{yield en.executeCommand(Qt.action.command.id,...Qt.action.command.arguments||[])}catch(An){const jn=function Vn(si){return"string"==typeof si?si:si instanceof Error&&"string"==typeof si.message?si.message:void 0}(An);gn.error("string"==typeof jn?jn:ne.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function yn(si,Qt,pt,ft,jt=!1,en=j.aQ.Default){si.hasModel()&&Mn.get(si)?.manualTriggerAtCurrentPosition(Qt,en,pt,ft,jt)}let zn=(()=>{class si extends v.R6{constructor(){super({id:si.Id,label:ne.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:V.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),kbOpts:{kbExpr:C.u.editorTextFocus,primary:2132,weight:100}})}run(pt,ft){return yn(ft,ne.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,j.aQ.QuickFix)}}return si.Id="editor.action.quickFix",si})();class li extends v._l{constructor(){super({id:L.RB,precondition:V.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:vn}]}})}runEditorCommand(Qt,pt,ft){const jt=j.wZ.fromUser(ft,{kind:j.yN.Empty,apply:"ifSingle"});return yn(pt,"string"==typeof ft?.kind?jt.preferred?ne.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",ft.kind):ne.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",ft.kind):jt.preferred?ne.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):ne.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:jt.kind,includeSourceActions:!0,onlyIncludePreferredActions:jt.preferred},jt.apply)}}class oi extends v.R6{constructor(){super({id:L.Bb,label:ne.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:V.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),kbOpts:{kbExpr:C.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:V.Ao.and(C.u.writable,bt(j.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:vn}]}})}run(Qt,pt,ft){return Ht(pt,ft,!1,j.aQ.Refactor)}}class Li extends v.R6{constructor(){super({id:L.sh,label:ne.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:V.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:vn}]}})}run(Qt,pt,ft){return Ht(pt,ft,!0,j.aQ.RefactorPreview)}}class so extends v.R6{constructor(){super({id:L.MN,label:ne.NC("source.label","Source Action..."),alias:"Source Action...",precondition:V.Ao.and(C.u.writable,C.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:V.Ao.and(C.u.writable,bt(j.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:vn}]}})}run(Qt,pt,ft){const jt=j.wZ.fromUser(ft,{kind:j.yN.Source,apply:"never"});return yn(pt,"string"==typeof ft?.kind?jt.preferred?ne.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",ft.kind):ne.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",ft.kind):jt.preferred?ne.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):ne.NC("editor.action.source.noneMessage","No source actions available"),{include:j.yN.Source.contains(jt.kind)?jt.kind:j.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:jt.preferred},jt.apply,void 0,j.aQ.SourceAction)}}class oo extends v.R6{constructor(){super({id:L.uH,label:ne.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:V.Ao.and(C.u.writable,bt(j.yN.SourceOrganizeImports)),kbOpts:{kbExpr:C.u.editorTextFocus,primary:1581,weight:100}})}run(Qt,pt){return yn(pt,ne.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:j.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,j.aQ.OrganizeImports)}}class xo extends v.R6{constructor(){super({id:L.TM,label:ne.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:V.Ao.and(C.u.writable,bt(j.yN.SourceFixAll))})}run(Qt,pt){return yn(pt,ne.NC("fixAll.noneMessage","No fix all action available"),{include:j.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,j.aQ.FixAll)}}let ro=(()=>{class si extends v.R6{constructor(){super({id:si.Id,label:ne.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:V.Ao.and(C.u.writable,bt(j.yN.QuickFix)),kbOpts:{kbExpr:C.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(pt,ft){return yn(ft,ne.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:j.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,j.aQ.AutoFix)}}return si.Id="editor.action.autoFix",si})();const _o=v._l.bindToContribution(Mn.get);(0,v.fK)(new _o({id:"hideCodeActionMenuWidget",precondition:oe.Visible,handler(si){si.hideCodeActionMenu()},kbOpts:{weight:190,primary:9,secondary:[1033]}})),(0,v.fK)(new _o({id:"focusPreviousCodeAction",precondition:oe.Visible,handler(si){si.navigateCodeActionList(!0)},kbOpts:{weight:100190,primary:16,secondary:[2064]}})),(0,v.fK)(new _o({id:"focusNextCodeAction",precondition:oe.Visible,handler(si){si.navigateCodeActionList(!1)},kbOpts:{weight:100190,primary:18,secondary:[2066]}})),(0,v.fK)(new _o({id:"onEnterSelectCodeAction",precondition:oe.Visible,handler(si){si.selectedOption()},kbOpts:{weight:100190,primary:3,secondary:[1026]}})),(0,v.fK)(new _o({id:"onEnterSelectCodeActionWithPreview",precondition:oe.Visible,handler(si){si.selectedOptionWithPreview()},kbOpts:{weight:100190,primary:2051}}))},25583:(Et,X,e)=>{"use strict";e.r(X);var d=e(26845),t=e(29354),l=e(61904),S=e(55197),v=e(29093);e(4259).B.as(v.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},l.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:S.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,d._K)(t.pY.ID,t.pY),(0,d.Qr)(t.E7),(0,d.Qr)(t.Eb),(0,d.Qr)(t.UG),(0,d.Qr)(t.VQ),(0,d.Qr)(t.o$),(0,d.Qr)(t.S5),(0,d.Qr)(t.Hv),(0,d.fK)(new t.dW)},77084:(Et,X,e)=>{"use strict";e.d(X,{EU:()=>l,Yl:()=>S,aQ:()=>t,wZ:()=>T,yN:()=>d});class d{constructor(E){this.value=E}equals(E){return this.value===E.value}contains(E){return this.equals(E)||""===this.value||E.value.startsWith(this.value+d.sep)}intersects(E){return this.contains(E)||E.contains(this)}append(E){return new d(this.value+d.sep+E)}}d.sep=".",d.None=new d("@@none@@"),d.Empty=new d(""),d.QuickFix=new d("quickfix"),d.Refactor=new d("refactor"),d.Source=new d("source"),d.SourceOrganizeImports=d.Source.append("organizeImports"),d.SourceFixAll=d.Source.append("fixAll");var t=(()=>{return(C=t||(t={})).Refactor="refactor",C.RefactorPreview="refactor preview",C.Lightbulb="lightbulb",C.Default="other (default)",C.SourceAction="source action",C.QuickFix="quick fix action",C.FixAll="fix all",C.OrganizeImports="organize imports",C.AutoFix="auto fix",C.QuickFixHover="quick fix hover window",C.OnSave="save participants",C.ProblemsView="problems view",t;var C})();function l(C,E){return!(C.include&&!C.include.intersects(E)||C.excludes&&C.excludes.some(L=>v(E,L,C.include))||!C.includeSourceActions&&d.Source.contains(E))}function S(C,E){const L=E.kind?new d(E.kind):void 0;return!(C.include&&(!L||!C.include.contains(L))||C.excludes&&L&&C.excludes.some(_=>v(L,_,C.include))||!C.includeSourceActions&&L&&d.Source.contains(L)||C.onlyIncludePreferredActions&&!E.isPreferred)}function v(C,E,L){return!(!E.contains(C)||L&&E.contains(L))}class T{constructor(E,L,_){this.kind=E,this.apply=L,this.preferred=_}static fromUser(E,L){return E&&"object"==typeof E?new T(T.getKindFromUser(E,L.kind),T.getApplyFromUser(E,L.apply),T.getPreferredUser(E)):new T(L.kind,L.apply,!1)}static getApplyFromUser(E,L){switch("string"==typeof E.apply?E.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return L}}static getKindFromUser(E,L){return"string"==typeof E.kind?new d(E.kind):L}static getPreferredUser(E){return"boolean"==typeof E.preferred&&E.preferred}}},43351:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CodeLensContribution:()=>ae});var d=e(98463),t=e(48648),l=e(4125),S=e(7626),v=e(80142),T=e(46780),C=e(26845),E=e(54862),L=e(82290),_=e(73888),s=e(72715),m=e(59547),c=e(59602),n=e(66549),a=e(90790),p=function(_e,he,le,Q){return new(le||(le=Promise))(function(Ae,dt){function st(tt){try{Qe(Q.next(tt))}catch(vt){dt(vt)}}function et(tt){try{Qe(Q.throw(tt))}catch(vt){dt(vt)}}function Qe(tt){tt.done?Ae(tt.value):function ve(Ae){return Ae instanceof le?Ae:new le(function(dt){dt(Ae)})}(tt.value).then(st,et)}Qe((Q=Q.apply(_e,he||[])).next())})};class u{constructor(){this.lenses=[],this._disposables=new v.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(he,le){this._disposables.add(he);for(const Q of he.lenses)this.lenses.push({symbol:Q,provider:le})}}function g(_e,he,le){return p(this,void 0,void 0,function*(){const Q=_e.ordered(he),ve=new Map,Ae=new u,dt=Q.map((st,et)=>p(this,void 0,void 0,function*(){ve.set(st,et);try{const Qe=yield Promise.resolve(st.provideCodeLenses(he,le));Qe&&Ae.add(Qe,st)}catch(Qe){(0,l.Cp)(Qe)}}));return yield Promise.all(dt),Ae.lenses=Ae.lenses.sort((st,et)=>st.symbol.range.startLineNumber<et.symbol.range.startLineNumber?-1:st.symbol.range.startLineNumber>et.symbol.range.startLineNumber?1:ve.get(st.provider)<ve.get(et.provider)?-1:ve.get(st.provider)>ve.get(et.provider)?1:st.symbol.range.startColumn<et.symbol.range.startColumn?-1:st.symbol.range.startColumn>et.symbol.range.startColumn?1:0),Ae})}n.P0.registerCommand("_executeCodeLensProvider",function(_e,...he){let[le,Q]=he;(0,s.p_)(m.o.isUri(le)),(0,s.p_)("number"==typeof Q||!Q);const{codeLensProvider:ve}=_e.get(a.p),Ae=_e.get(c.q).getModel(le);if(!Ae)throw(0,l.b1)();const dt=[],st=new v.SL;return g(ve,Ae,_.T.None).then(et=>{st.add(et);const Qe=[];for(const tt of et.lenses)null==Q||Boolean(tt.symbol.command)?dt.push(tt.symbol):Q-- >0&&tt.provider.resolveCodeLens&&Qe.push(Promise.resolve(tt.provider.resolveCodeLens(Ae,tt.symbol,_.T.None)).then(vt=>dt.push(vt||tt.symbol)));return Promise.all(Qe)}).then(()=>dt).finally(()=>{setTimeout(()=>st.dispose(),100)})});var b=e(92192),y=e(5067),D=e(98570),w=e(47494),I=e(9265),P=e(48190);const U=(0,I.yh)("ICodeLensCache");class K{constructor(he,le){this.lineCount=he,this.data=le}}let F=class{constructor(he){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.z6(20,.75),(0,t.To)(()=>he.remove("codelens/cache",1));const Q="codelens/cache2",ve=he.get(Q,1,"{}");this._deserialize(ve),(0,b.I)(he.onWillSaveState)(Ae=>{Ae.reason===P.fk.SHUTDOWN&&he.store(Q,this._serialize(),1,1)})}put(he,le){const Q=le.lenses.map(dt=>{var st;return{range:dt.symbol.range,command:dt.symbol.command&&{id:"",title:null===(st=dt.symbol.command)||void 0===st?void 0:st.title}}}),ve=new u;ve.add({lenses:Q,dispose:()=>{}},this._fakeProvider);const Ae=new K(he.getLineCount(),ve);this._cache.set(he.uri.toString(),Ae)}get(he){const le=this._cache.get(he.uri.toString());return le&&le.lineCount===he.getLineCount()?le.data:void 0}delete(he){this._cache.delete(he.uri.toString())}_serialize(){const he=Object.create(null);for(const[le,Q]of this._cache){const ve=new Set;for(const Ae of Q.data.lenses)ve.add(Ae.symbol.range.startLineNumber);he[le]={lineCount:Q.lineCount,lines:[...ve.values()]}}return JSON.stringify(he)}_deserialize(he){try{const le=JSON.parse(he);for(const Q in le){const ve=le[Q],Ae=[];for(const st of ve.lines)Ae.push({range:new D.e(st,1,st,11)});const dt=new u;dt.add({lenses:Ae,dispose(){}},this._fakeProvider),this._cache.set(Q,new K(ve.lineCount,dt))}}catch{}}};var he;F=function(_e,he,le,Q){var dt,ve=arguments.length,Ae=ve<3?he:null===Q?Q=Object.getOwnPropertyDescriptor(he,le):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(_e,he,le,Q);else for(var st=_e.length-1;st>=0;st--)(dt=_e[st])&&(Ae=(ve<3?dt(Ae):ve>3?dt(he,le,Ae):dt(he,le))||Ae);return ve>3&&Ae&&Object.defineProperty(he,le,Ae),Ae}([(0,he=P.Uy,function(le,Q){he(le,Q,0)})],F),(0,w.z)(U,F);var B=e(97139),z=e(57856),$=e.n(z),j=e(38470),ne=e.n(j),N=e(43370),V=e.n(N),Z=e(28458),fe=e.n(Z),M=e(71278),Se=e.n(M),Ee=e(29488),Le=e.n(Ee),Ne=e(75462),oe={};oe.styleTagTransform=Le(),oe.setAttributes=fe(),oe.insert=V().bind(null,"head"),oe.domAPI=ne(),oe.insertStyleElement=Se(),$()(Ne.Z,oe);var pe=e(59758);class Te{constructor(he,le,Q){this.afterColumn=1073741824,this.afterLineNumber=he,this.heightInPx=le,this._onHeight=Q,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(he){void 0===this._lastHeight?this._lastHeight=he:this._lastHeight!==he&&(this._lastHeight=he,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let de=(()=>{class _e{constructor(le,Q,ve){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=le,this._id="codelens.widget-"+_e._idPool++,this.updatePosition(ve),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${Q}`}withCommands(le,Q){this._commands.clear();const ve=[];let Ae=!1;for(let dt=0;dt<le.length;dt++){const st=le[dt];if(st&&(Ae=!0,st.command)){const et=(0,B.T)(st.command.title.trim());st.command.id?(ve.push(d.$("a",{id:String(dt),title:st.command.tooltip,role:"button"},...et)),this._commands.set(String(dt),st.command)):ve.push(d.$("span",{title:st.command.tooltip},...et)),dt+1<le.length&&ve.push(d.$("span",void 0,"\xa0|\xa0"))}}Ae?(d.mc(this._domNode,...ve),this._isEmpty&&Q&&this._domNode.classList.add("fadein"),this._isEmpty=!1):d.mc(this._domNode,d.$("span",void 0,"no commands"))}getCommand(le){return le.parentElement===this._domNode?this._commands.get(le.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(le){const Q=this._editor.getModel().getLineFirstNonWhitespaceColumn(le);this._widgetPosition={position:{lineNumber:le,column:Q},preference:[1]}}getPosition(){return this._widgetPosition||null}}return _e._idPool=0,_e})();class ke{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(he,le){this._addDecorations.push(he),this._addDecorationsCallbacks.push(le)}removeDecoration(he){this._removeDecorations.push(he)}commit(he){const le=he.deltaDecorations(this._removeDecorations,this._addDecorations);for(let Q=0,ve=le.length;Q<ve;Q++)this._addDecorationsCallbacks[Q](le[Q])}}class ze{constructor(he,le,Q,ve,Ae,dt,st){let et;this._isDisposed=!1,this._editor=le,this._className=Q,this._data=he,this._decorationIds=[];const Qe=[];this._data.forEach((tt,vt)=>{tt.symbol.command&&Qe.push(tt.symbol),ve.addDecoration({range:tt.symbol.range,options:pe.qx.EMPTY},mt=>this._decorationIds[vt]=mt),et=et?D.e.plusRange(et,tt.symbol.range):D.e.lift(tt.symbol.range)}),this._viewZone=new Te(et.startLineNumber-1,dt,st),this._viewZoneId=Ae.addZone(this._viewZone),Qe.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(Qe,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new de(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(he,le){this._decorationIds.forEach(he.removeDecoration,he),this._decorationIds=[],le?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((he,le)=>{const Q=this._editor.getModel().getDecorationRange(he);return!(!Q||D.e.isEmpty(this._data[le].symbol.range)!==Q.isEmpty())})}updateCodeLensSymbols(he,le){this._decorationIds.forEach(le.removeDecoration,le),this._decorationIds=[],this._data=he,this._data.forEach((Q,ve)=>{le.addDecoration({range:Q.symbol.range,options:pe.qx.EMPTY},Ae=>this._decorationIds[ve]=Ae)})}updateHeight(he,le){this._viewZone.heightInPx=he,le.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(he){if(!this._viewZone.isVisible())return null;for(let le=0;le<this._decorationIds.length;le++){const Q=he.getDecorationRange(this._decorationIds[le]);Q&&(this._data[le].symbol.range=Q)}return this._data}updateCommands(he){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(he,!0);for(let le=0;le<this._data.length;le++){const Q=he[le];if(Q){const{symbol:ve}=this._data[le];ve.command=Q.command||ve.command}}}getCommand(he){var le;return null===(le=this._contentWidget)||void 0===le?void 0:le.getCommand(he)}getLineNumber(){const he=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return he?he.startLineNumber:-1}update(he){if(this.isValid()){const le=this._editor.getModel().getDecorationRange(this._decorationIds[0]);le&&(this._viewZone.afterLineNumber=le.startLineNumber-1,he.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(le.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var $e=e(55197),ce=e(54436),Ue=e(73622),nt=e(79095),Lt=function(_e,he){return function(le,Q){he(le,Q,_e)}};let ae=class{constructor(he,le,Q,ve,Ae,dt){this._editor=he,this._languageFeaturesService=le,this._commandService=ve,this._notificationService=Ae,this._codeLensCache=dt,this._disposables=new v.SL,this._localToDispose=new v.SL,this._lenses=[],this._oldCodeLensModels=new v.SL,this._provideCodeLensDebounce=Q.for(le.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=Q.for(le.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new t.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(st=>{(st.hasChanged(46)||st.hasChanged(16)||st.hasChanged(15))&&this._updateLensStyle(),st.hasChanged(14)&&this._onModelChange()})),this._disposables.add(le.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,S.vp)(this._editor.getId()).toString(16),this._styleElement=d.dS(d.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var he;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(he=this._currentCodeLensModel)||void 0===he||he.dispose(),this._styleElement.remove()}_getLayoutInfo(){const he=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let le=this._editor.getOption(16);return(!le||le<5)&&(le=.9*this._editor.getOption(48)|0),{fontSize:le,codeLensHeight:le*he|0}}_updateLensStyle(){const{codeLensHeight:he,fontSize:le}=this._getLayoutInfo(),Q=this._editor.getOption(15),ve=this._editor.getOption(46),Ae=`--codelens-font-family${this._styleClassName}`,dt=`--codelens-font-features${this._styleClassName}`;let st=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${he}px; font-size: ${le}px; padding-right: ${Math.round(.5*le)}px; font-feature-settings: var(${dt}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${he}px; font-size: ${le}px; }\n\t\t`;Q&&(st+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${Ae}), ${E.hL.fontFamily}}`),this._styleElement.textContent=st,this._editor.getContainerDomNode().style.setProperty(Ae,Q??"inherit"),this._editor.getContainerDomNode().style.setProperty(dt,ve.fontFeatureSettings),this._editor.changeViewZones(et=>{for(const Qe of this._lenses)Qe.updateHeight(he,et)})}_localDispose(){var he,le,Q;null===(he=this._getCodeLensModelPromise)||void 0===he||he.cancel(),this._getCodeLensModelPromise=void 0,null===(le=this._resolveCodeLensesPromise)||void 0===le||le.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(Q=this._currentCodeLensModel)||void 0===Q||Q.dispose()}_onModelChange(){this._localDispose();const he=this._editor.getModel();if(!he||!this._editor.getOption(14))return;const le=this._codeLensCache.get(he);if(le&&this._renderCodeLensSymbols(le),!this._languageFeaturesService.codeLensProvider.has(he))return void(le&&this._localToDispose.add((0,t.Vg)(()=>{const ve=this._codeLensCache.get(he);le===ve&&(this._codeLensCache.delete(he),this._onModelChange())},3e4)));for(const ve of this._languageFeaturesService.codeLensProvider.all(he))if("function"==typeof ve.onDidChange){const Ae=ve.onDidChange(()=>Q.schedule());this._localToDispose.add(Ae)}const Q=new t.pY(()=>{var ve;const Ae=Date.now();null===(ve=this._getCodeLensModelPromise)||void 0===ve||ve.cancel(),this._getCodeLensModelPromise=(0,t.PG)(dt=>g(this._languageFeaturesService.codeLensProvider,he,dt)),this._getCodeLensModelPromise.then(dt=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=dt,this._codeLensCache.put(he,dt);const st=this._provideCodeLensDebounce.update(he,Date.now()-Ae);Q.delay=st,this._renderCodeLensSymbols(dt),this._resolveCodeLensesInViewportSoon()},l.dL)},this._provideCodeLensDebounce.get(he));this._localToDispose.add(Q),this._localToDispose.add((0,v.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(ve=>{this._editor.changeViewZones(Ae=>{const dt=[];let st=-1;this._lenses.forEach(Qe=>{Qe.isValid()&&st!==Qe.getLineNumber()?(Qe.update(Ae),st=Qe.getLineNumber()):dt.push(Qe)});const et=new ke;dt.forEach(Qe=>{Qe.dispose(et,Ae),this._lenses.splice(this._lenses.indexOf(Qe),1)}),et.commit(ve)})}),Q.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{Q.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(ve=>{ve.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,v.OF)(()=>{if(this._editor.getModel()){const ve=T.Z.capture(this._editor);this._editor.changeDecorations(Ae=>{this._editor.changeViewZones(dt=>{this._disposeAllLenses(Ae,dt)})}),ve.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(ve=>{if(9!==ve.target.type)return;let Ae=ve.target.element;if("SPAN"===Ae?.tagName&&(Ae=Ae.parentElement),"A"===Ae?.tagName)for(const dt of this._lenses){const st=dt.getCommand(Ae);if(st){this._commandService.executeCommand(st.id,...st.arguments||[]).catch(et=>this._notificationService.error(et));break}}})),Q.schedule()}_disposeAllLenses(he,le){const Q=new ke;for(const ve of this._lenses)ve.dispose(Q,le);he&&Q.commit(he),this._lenses.length=0}_renderCodeLensSymbols(he){if(!this._editor.hasModel())return;const le=this._editor.getModel().getLineCount(),Q=[];let ve;for(const st of he.lenses){const et=st.symbol.range.startLineNumber;et<1||et>le||(ve&&ve[ve.length-1].symbol.range.startLineNumber===et?ve.push(st):(ve=[st],Q.push(ve)))}const Ae=T.Z.capture(this._editor),dt=this._getLayoutInfo();this._editor.changeDecorations(st=>{this._editor.changeViewZones(et=>{const Qe=new ke;let tt=0,vt=0;for(;vt<Q.length&&tt<this._lenses.length;){const mt=Q[vt][0].symbol.range.startLineNumber,_t=this._lenses[tt].getLineNumber();_t<mt?(this._lenses[tt].dispose(Qe,et),this._lenses.splice(tt,1)):_t===mt?(this._lenses[tt].updateCodeLensSymbols(Q[vt],Qe),vt++,tt++):(this._lenses.splice(tt,0,new ze(Q[vt],this._editor,this._styleClassName,Qe,et,dt.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),tt++,vt++)}for(;tt<this._lenses.length;)this._lenses[tt].dispose(Qe,et),this._lenses.splice(tt,1);for(;vt<Q.length;)this._lenses.push(new ze(Q[vt],this._editor,this._styleClassName,Qe,et,dt.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),vt++;Qe.commit(st)})}),Ae.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var he;null===(he=this._resolveCodeLensesPromise)||void 0===he||he.cancel(),this._resolveCodeLensesPromise=void 0;const le=this._editor.getModel();if(!le)return;const Q=[],ve=[];if(this._lenses.forEach(st=>{const et=st.computeIfNecessary(le);et&&(Q.push(et),ve.push(st))}),0===Q.length)return;const Ae=Date.now(),dt=(0,t.PG)(st=>{const et=Q.map((Qe,tt)=>{const vt=new Array(Qe.length),mt=Qe.map((_t,Kt)=>_t.symbol.command||"function"!=typeof _t.provider.resolveCodeLens?(vt[Kt]=_t.symbol,Promise.resolve(void 0)):Promise.resolve(_t.provider.resolveCodeLens(le,_t.symbol,st)).then(Bt=>{vt[Kt]=Bt},l.Cp));return Promise.all(mt).then(()=>{!st.isCancellationRequested&&!ve[tt].isDisposed()&&ve[tt].updateCommands(vt)})});return Promise.all(et)});this._resolveCodeLensesPromise=dt,this._resolveCodeLensesPromise.then(()=>{const st=this._resolveCodeLensesDebounce.update(le,Date.now()-Ae);this._resolveCodeLensesScheduler.delay=st,this._currentCodeLensModel&&this._codeLensCache.put(le,this._currentCodeLensModel),this._oldCodeLensModels.clear(),dt===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},st=>{(0,l.dL)(st),dt===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};ae.ID="css.editor.codeLens",ae=function(_e,he,le,Q){var dt,ve=arguments.length,Ae=ve<3?he:null===Q?Q=Object.getOwnPropertyDescriptor(he,le):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(_e,he,le,Q);else for(var st=_e.length-1;st>=0;st--)(dt=_e[st])&&(Ae=(ve<3?dt(Ae):ve>3?dt(he,le,Ae):dt(he,le))||Ae);return ve>3&&Ae&&Object.defineProperty(he,le,Ae),Ae}([Lt(1,a.p),Lt(2,nt.A),Lt(3,n.Hy),Lt(4,ce.lT),Lt(5,U)],ae),(0,C._K)(ae.ID,ae),(0,C.Qr)(class extends C.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:L.u.hasCodeLensProvider,label:(0,$e.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(he,le){return function(_e,he,le,Q){return new(le||(le=Promise))(function(Ae,dt){function st(tt){try{Qe(Q.next(tt))}catch(vt){dt(vt)}}function et(tt){try{Qe(Q.throw(tt))}catch(vt){dt(vt)}}function Qe(tt){tt.done?Ae(tt.value):function ve(Ae){return Ae instanceof le?Ae:new le(function(dt){dt(Ae)})}(tt.value).then(st,et)}Qe((Q=Q.apply(_e,he||[])).next())})}(this,void 0,void 0,function*(){if(!le.hasModel())return;const Q=he.get(Ue.eJ),ve=he.get(n.Hy),Ae=he.get(ce.lT),dt=le.getSelection().positionLineNumber,st=le.getContribution(ae.ID);if(!st)return;const et=st.getModel();if(!et)return;const Qe=[];for(const vt of et.lenses)vt.symbol.command&&vt.symbol.range.startLineNumber===dt&&Qe.push({label:vt.symbol.command.title,command:vt.symbol.command});if(0===Qe.length)return;const tt=yield Q.pick(Qe,{canPickMany:!1});if(tt){if(et.isDisposed)return yield ve.executeCommand(this.id);try{yield ve.executeCommand(tt.command.id,...tt.command.arguments||[])}catch(vt){Ae.error(vt)}}})}})},63175:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{ColorContribution:()=>dt});var d=e(80142),t=e(26845),l=e(98570),S=e(48648),v=e(69355),T=e(4125),C=e(631),E=e(73879),L=e(69545),_=e(59758),s=e(79095),m=e(90790),c=e(73888),n=e(59547),a=e(59602),p=e(66549);function g(st,et,Qe,tt){return Promise.resolve(Qe.provideColorPresentations(st,et,tt))}p.P0.registerCommand("_executeDocumentColorProvider",function(st,...et){const[Qe]=et;if(!(Qe instanceof n.o))throw(0,T.b1)();const{colorProvider:tt}=st.get(m.p),vt=st.get(a.q).getModel(Qe);if(!vt)throw(0,T.b1)();const mt=[],Kt=tt.ordered(vt).reverse().map(Bt=>Promise.resolve(Bt.provideDocumentColors(vt,c.T.None)).then(Ge=>{if(Array.isArray(Ge))for(const ut of Ge)mt.push({range:ut.range,color:[ut.color.red,ut.color.green,ut.color.blue,ut.color.alpha]})}));return Promise.all(Kt).then(()=>mt)}),p.P0.registerCommand("_executeColorPresentationProvider",function(st,...et){const[Qe,tt]=et,{uri:vt,range:mt}=tt;if(!(vt instanceof n.o&&Array.isArray(Qe)&&4===Qe.length&&l.e.isIRange(mt)))throw(0,T.b1)();const[_t,Kt,Bt,Ge]=Qe,{colorProvider:ut}=st.get(m.p),Ut=st.get(a.q).getModel(vt);if(!Ut)throw(0,T.b1)();const hn={range:mt,color:{red:_t,green:Kt,blue:Bt,alpha:Ge}},Dn=[],je=ut.ordered(Ut).reverse().map(ye=>Promise.resolve(ye.provideColorPresentations(Ut,hn,c.T.None)).then(Me=>{Array.isArray(Me)&&Dn.push(...Me)}));return Promise.all(je).then(()=>Dn)});var b=e(94667),D=function(st,et){return function(Qe,tt){et(Qe,tt,st)}};const I=Object.create({});let O=class $c extends d.JT{constructor(et,Qe,tt,vt){super(),this._editor=et,this._configurationService=Qe,this._languageFeaturesService=tt,this._localToDispose=this._register(new d.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new L.t7(this._editor),this._colorDecorationClassRefs=this._register(new d.SL),this._debounceInformation=vt.for(tt.colorProvider,"Document Colors",{min:$c.RECOMPUTE_TIME}),this._register(et.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(et.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(tt.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(et.onDidChangeConfiguration(()=>{const mt=this._isEnabled;this._isEnabled=this.isEnabled(),mt!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const et=this._editor.getModel();if(!et)return!1;const Qe=et.getLanguageId(),tt=this._configurationService.getValue(Qe);if(tt&&"object"==typeof tt){const vt=tt.colorDecorators;if(vt&&void 0!==vt.enable&&!vt.enable)return vt.enable}return this._editor.getOption(17)}static get(et){return et.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const et=this._editor.getModel();!et||!this._languageFeaturesService.colorProvider.has(et)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new S._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(et)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,S.PG)(et=>function(st,et,Qe,tt){return new(Qe||(Qe=Promise))(function(mt,_t){function Kt(ut){try{Ge(tt.next(ut))}catch(Ut){_t(Ut)}}function Bt(ut){try{Ge(tt.throw(ut))}catch(Ut){_t(Ut)}}function Ge(ut){ut.done?mt(ut.value):function vt(mt){return mt instanceof Qe?mt:new Qe(function(_t){_t(mt)})}(ut.value).then(Kt,Bt)}Ge((tt=tt.apply(st,et||[])).next())})}(this,void 0,void 0,function*(){const Qe=this._editor.getModel();if(!Qe)return Promise.resolve([]);const tt=new C.G(!1),vt=yield function u(st,et,Qe){const tt=[],mt=st.ordered(et).reverse().map(_t=>Promise.resolve(_t.provideDocumentColors(et,Qe)).then(Kt=>{if(Array.isArray(Kt))for(const Bt of Kt)tt.push({colorInfo:Bt,provider:_t})}));return Promise.all(mt).then(()=>tt)}(this._languageFeaturesService.colorProvider,Qe,et);return this._debounceInformation.update(Qe,tt.elapsed()),vt})),this._computePromise.then(et=>{this.updateDecorations(et),this.updateColorDecorators(et),this._computePromise=null},T.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(et){const Qe=et.map(tt=>({range:{startLineNumber:tt.colorInfo.range.startLineNumber,startColumn:tt.colorInfo.range.startColumn,endLineNumber:tt.colorInfo.range.endLineNumber,endColumn:tt.colorInfo.range.endColumn},options:_.qx.EMPTY}));this._editor.changeDecorations(tt=>{this._decorationsIds=tt.deltaDecorations(this._decorationsIds,Qe),this._colorDatas=new Map,this._decorationsIds.forEach((vt,mt)=>this._colorDatas.set(vt,et[mt]))})}updateColorDecorators(et){this._colorDecorationClassRefs.clear();const Qe=[];for(let tt=0;tt<et.length&&Qe.length<500;tt++){const{red:vt,green:mt,blue:_t,alpha:Kt}=et[tt].colorInfo.color,Bt=new v.VS(Math.round(255*vt),Math.round(255*mt),Math.round(255*_t),Kt),ut=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${Bt.r}, ${Bt.g}, ${Bt.b}, ${Bt.a})`}));Qe.push({range:{startLineNumber:et[tt].colorInfo.range.startLineNumber,startColumn:et[tt].colorInfo.range.startColumn,endLineNumber:et[tt].colorInfo.range.endLineNumber,endColumn:et[tt].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:E.B4,inlineClassName:`${ut.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:I}}})}this._colorDecoratorIds.set(Qe)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(et){const Qe=this._editor.getModel();if(!Qe)return null;const tt=Qe.getDecorationsInRange(l.e.fromPositions(et,et)).filter(vt=>this._colorDatas.has(vt.id));return 0===tt.length?null:this._colorDatas.get(tt[0].id)}isColorDecoration(et){return this._colorDecoratorIds.has(et)}};O.ID="editor.contrib.colorDetector",O.RECOMPUTE_TIME=1e3,O=function(st,et,Qe,tt){var _t,vt=arguments.length,mt=vt<3?et:null===tt?tt=Object.getOwnPropertyDescriptor(et,Qe):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(st,et,Qe,tt);else for(var Kt=st.length-1;Kt>=0;Kt--)(_t=st[Kt])&&(mt=(vt<3?_t(mt):vt>3?_t(et,Qe,mt):_t(et,Qe))||mt);return vt>3&&mt&&Object.defineProperty(et,Qe,mt),mt}([D(1,b.Ui),D(2,m.p),D(3,s.A)],O),(0,t._K)(O.ID,O);var H=e(3778);class U{constructor(et,Qe,tt){this.presentationIndex=tt,this._onColorFlushed=new H.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new H.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new H.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=et,this._color=et,this._colorPresentations=Qe}get color(){return this._color}set color(et){this._color.equals(et)||(this._color=et,this._onDidChangeColor.fire(et))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(et){this._colorPresentations=et,this.presentationIndex>et.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(et,Qe){for(let tt=0;tt<this.colorPresentations.length;tt++)if(Qe.toLowerCase()===this.colorPresentations[tt].label){this.presentationIndex=tt,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var K=e(37428),F=e(98463),B=e(11210),z=e(5183),$=e(57856),j=e.n($),ne=e(38470),N=e.n(ne),V=e(43370),Z=e.n(V),fe=e(28458),M=e.n(fe),Se=e(71278),Ee=e.n(Se),Le=e(29488),Ne=e.n(Le),oe=e(28837),we={};we.styleTagTransform=Ne(),we.setAttributes=M(),we.insert=Z().bind(null,"head"),we.domAPI=N(),we.insertStyleElement=Ee(),j()(oe.Z,we);var Te=e(55197),de=e(4062),ke=e(40902);const ze=F.$;class $e extends d.JT{constructor(et,Qe,tt){super(),this.model=Qe,this.domNode=ze(".colorpicker-header"),F.R3(et,this.domNode),this.pickedColorNode=F.R3(this.domNode,ze(".picked-color"));const vt=(0,Te.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",vt);const mt=F.R3(this.domNode,ze(".original-color"));mt.style.backgroundColor=v.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=tt.getColorTheme().getColor(de.yJx)||v.Il.white,this._register((0,ke.Ic)((_t,Kt)=>{this.backgroundColor=_t.getColor(de.yJx)||v.Il.white})),this._register(F.nm(this.pickedColorNode,F.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(F.nm(mt,F.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(Qe.onDidChangeColor(this.onDidChangeColor,this)),this._register(Qe.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=v.Il.Format.CSS.format(Qe.color)||"",this.pickedColorNode.classList.toggle("light",Qe.color.rgba.a<.5?this.backgroundColor.isLighter():Qe.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(et){this.pickedColorNode.style.backgroundColor=v.Il.Format.CSS.format(et)||"",this.pickedColorNode.classList.toggle("light",et.rgba.a<.5?this.backgroundColor.isLighter():et.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(ze(".codicon.codicon-color-mode"))}}class ce extends d.JT{constructor(et,Qe,tt){super(),this.model=Qe,this.pixelRatio=tt,this.domNode=ze(".colorpicker-body"),F.R3(et,this.domNode),this.saturationBox=new Ue(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new Dt(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Lt(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:et,v:Qe}){const tt=this.model.color.hsva;this.model.color=new v.Il(new v.tx(tt.h,et,Qe,tt.a))}onDidOpacityChange(et){const Qe=this.model.color.hsva;this.model.color=new v.Il(new v.tx(Qe.h,Qe.s,Qe.v,et))}onDidHueChange(et){const Qe=this.model.color.hsva,tt=360*(1-et);this.model.color=new v.Il(new v.tx(360===tt?0:tt,Qe.s,Qe.v,Qe.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Ue extends d.JT{constructor(et,Qe,tt){super(),this.model=Qe,this.pixelRatio=tt,this._onDidChange=new H.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new H.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=ze(".saturation-wrap"),F.R3(et,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",F.R3(this.domNode,this.canvas),this.selection=ze(".saturation-selection"),F.R3(this.domNode,this.selection),this.layout(),this._register(F.nm(this.domNode,F.tw.POINTER_DOWN,vt=>this.onPointerDown(vt))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(et){if(!(et.target&&et.target instanceof Element))return;this.monitor=this._register(new B.C);const Qe=F.i(this.domNode);et.target!==this.selection&&this.onDidChangePosition(et.offsetX,et.offsetY),this.monitor.startMonitoring(et.target,et.pointerId,et.buttons,vt=>this.onDidChangePosition(vt.pageX-Qe.left,vt.pageY-Qe.top),()=>null);const tt=F.nm(document,F.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),tt.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(et,Qe){const tt=Math.max(0,Math.min(1,et/this.width)),vt=Math.max(0,Math.min(1,1-Qe/this.height));this.paintSelection(tt,vt),this._onDidChange.fire({s:tt,v:vt})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const et=this.model.color.hsva;this.paintSelection(et.s,et.v)}paint(){const Qe=new v.Il(new v.tx(this.model.color.hsva.h,1,1,1)),tt=this.canvas.getContext("2d"),vt=tt.createLinearGradient(0,0,this.canvas.width,0);vt.addColorStop(0,"rgba(255, 255, 255, 1)"),vt.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),vt.addColorStop(1,"rgba(255, 255, 255, 0)");const mt=tt.createLinearGradient(0,0,0,this.canvas.height);mt.addColorStop(0,"rgba(0, 0, 0, 0)"),mt.addColorStop(1,"rgba(0, 0, 0, 1)"),tt.rect(0,0,this.canvas.width,this.canvas.height),tt.fillStyle=v.Il.Format.CSS.format(Qe),tt.fill(),tt.fillStyle=vt,tt.fill(),tt.fillStyle=mt,tt.fill()}paintSelection(et,Qe){this.selection.style.left=et*this.width+"px",this.selection.style.top=this.height-Qe*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class nt extends d.JT{constructor(et,Qe){super(),this.model=Qe,this._onDidChange=new H.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new H.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=F.R3(et,ze(".strip")),this.overlay=F.R3(this.domNode,ze(".overlay")),this.slider=F.R3(this.domNode,ze(".slider")),this.slider.style.top="0px",this._register(F.nm(this.domNode,F.tw.POINTER_DOWN,tt=>this.onPointerDown(tt))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const et=this.getValue(this.model.color);this.updateSliderPosition(et)}onPointerDown(et){if(!(et.target&&et.target instanceof Element))return;const Qe=this._register(new B.C),tt=F.i(this.domNode);this.domNode.classList.add("grabbing"),et.target!==this.slider&&this.onDidChangeTop(et.offsetY),Qe.startMonitoring(et.target,et.pointerId,et.buttons,mt=>this.onDidChangeTop(mt.pageY-tt.top),()=>null);const vt=F.nm(document,F.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),vt.dispose(),Qe.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(et){const Qe=Math.max(0,Math.min(1,1-et/this.height));this.updateSliderPosition(Qe),this._onDidChange.fire(Qe)}updateSliderPosition(et){this.slider.style.top=(1-et)*this.height+"px"}}class Dt extends nt{constructor(et,Qe){super(et,Qe),this.domNode.classList.add("opacity-strip"),this._register(Qe.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(et){const{r:Qe,g:tt,b:vt}=et.rgba,mt=new v.Il(new v.VS(Qe,tt,vt,1)),_t=new v.Il(new v.VS(Qe,tt,vt,0));this.overlay.style.background=`linear-gradient(to bottom, ${mt} 0%, ${_t} 100%)`}getValue(et){return et.hsva.a}}class Lt extends nt{constructor(et,Qe){super(et,Qe),this.domNode.classList.add("hue-strip")}getValue(et){return 1-et.hsva.h/360}}class Ze extends z.${constructor(et,Qe,tt,vt){super(),this.model=Qe,this.pixelRatio=tt,this._register(K.PixelRatio.onDidChange(()=>this.layout()));const mt=ze(".colorpicker-widget");et.appendChild(mt);const _t=new $e(mt,this.model,vt);this.body=new ce(mt,this.model,this.pixelRatio),this._register(_t),this._register(this.body)}layout(){this.body.layout()}}var he=function(st,et,Qe,tt){return new(Qe||(Qe=Promise))(function(mt,_t){function Kt(ut){try{Ge(tt.next(ut))}catch(Ut){_t(Ut)}}function Bt(ut){try{Ge(tt.throw(ut))}catch(Ut){_t(Ut)}}function Ge(ut){ut.done?mt(ut.value):function vt(mt){return mt instanceof Qe?mt:new Qe(function(_t){_t(mt)})}(ut.value).then(Kt,Bt)}Ge((tt=tt.apply(st,et||[])).next())})};class le{constructor(et,Qe,tt,vt){this.owner=et,this.range=Qe,this.model=tt,this.provider=vt,this.forceShowAtRange=!0}isValidForHoverAnchor(et){return 1===et.type&&this.range.startColumn<=et.range.startColumn&&this.range.endColumn>=et.range.endColumn}}let Q=class{constructor(et,Qe){this._editor=et,this._themeService=Qe,this.hoverOrdinal=1}computeSync(et,Qe){return[]}computeAsync(et,Qe,tt){return S.Aq.fromPromise(this._computeAsync(et,Qe,tt))}_computeAsync(et,Qe,tt){return he(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const vt=O.get(this._editor);if(!vt)return[];for(const mt of Qe){if(!vt.isColorDecoration(mt))continue;const _t=vt.getColorData(mt.range.getStartPosition());if(_t)return[yield this._createColorHover(this._editor.getModel(),_t.colorInfo,_t.provider)]}return[]})}_createColorHover(et,Qe,tt){return he(this,void 0,void 0,function*(){const vt=et.getValueInRange(Qe.range),{red:mt,green:_t,blue:Kt,alpha:Bt}=Qe.color,Ge=new v.VS(Math.round(255*mt),Math.round(255*_t),Math.round(255*Kt),Bt),ut=new v.Il(Ge),Ut=yield g(et,Qe,tt,c.T.None),hn=new U(ut,[],0);return hn.colorPresentations=Ut||[],hn.guessColorPresentation(ut,vt),new le(this,l.e.lift(Qe.range),hn,tt)})}renderHoverParts(et,Qe){if(0===Qe.length||!this._editor.hasModel())return d.JT.None;const tt=new d.SL,vt=Qe[0],mt=this._editor.getModel(),_t=vt.model,Kt=tt.add(new Ze(et.fragment,_t,this._editor.getOption(131),this._themeService));et.setColorPicker(Kt);let Bt=new l.e(vt.range.startLineNumber,vt.range.startColumn,vt.range.endLineNumber,vt.range.endColumn);const Ge=()=>{let Ut,hn;if(_t.presentation.textEdit){Ut=[_t.presentation.textEdit],hn=new l.e(_t.presentation.textEdit.range.startLineNumber,_t.presentation.textEdit.range.startColumn,_t.presentation.textEdit.range.endLineNumber,_t.presentation.textEdit.range.endColumn);const Dn=this._editor.getModel()._setTrackedRange(null,hn,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Ut),hn=this._editor.getModel()._getTrackedRange(Dn)||hn}else Ut=[{range:Bt,text:_t.presentation.label,forceMoveMarkers:!1}],hn=Bt.setEndPosition(Bt.endLineNumber,Bt.startColumn+_t.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",Ut);_t.presentation.additionalTextEdits&&(Ut=[..._t.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",Ut),et.hide()),this._editor.pushUndoStop(),Bt=hn},ut=Ut=>g(mt,{range:Bt,color:{red:Ut.rgba.r/255,green:Ut.rgba.g/255,blue:Ut.rgba.b/255,alpha:Ut.rgba.a}},vt.provider,c.T.None).then(hn=>{_t.colorPresentations=hn||[]});return tt.add(_t.onColorFlushed(Ut=>{ut(Ut).then(Ge)})),tt.add(_t.onDidChangeColor(ut)),tt}};var et;Q=function(st,et,Qe,tt){var _t,vt=arguments.length,mt=vt<3?et:null===tt?tt=Object.getOwnPropertyDescriptor(et,Qe):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(st,et,Qe,tt);else for(var Kt=st.length-1;Kt>=0;Kt--)(_t=st[Kt])&&(mt=(vt<3?_t(mt):vt>3?_t(et,Qe,mt):_t(et,Qe))||mt);return vt>3&&mt&&Object.defineProperty(et,Qe,mt),mt}([(1,et=ke.XE,function(Qe,tt){et(Qe,tt,1)})],Q);var ve=e(39610),Ae=e(91717);let dt=(()=>{class st extends d.JT{constructor(Qe){super(),this._editor=Qe,this._register(Qe.onMouseDown(tt=>this.onMouseDown(tt)))}dispose(){super.dispose()}onMouseDown(Qe){const tt=Qe.target;if(6!==tt.type||!tt.detail.injectedText||tt.detail.injectedText.options.attachedData!==I||!tt.range)return;const vt=this._editor.getContribution(ve.ModesHoverController.ID);if(vt&&!vt.isColorPickerVisible()){const mt=new l.e(tt.range.startLineNumber,tt.range.startColumn+1,tt.range.endLineNumber,tt.range.endColumn+1);vt.showContentHover(mt,1,!1)}}}return st.ID="editor.contrib.colorContribution",st})();(0,t._K)(dt.ID,dt),Ae.Ae.register(Q)},53178:(Et,X,e)=>{"use strict";e.r(X);var d=e(53993),t=e(26845),l=e(98570),S=e(82290),v=e(94911),T=e(65484),C=e(18723),E=e(7233);class L{constructor(y,D,w){this.languageConfigurationService=w,this._selection=y,this._insertSpace=D,this._usedEndToken=null}static _haystackHasNeedleAtOffset(y,D,w){if(w<0)return!1;const I=D.length;if(w+I>y.length)return!1;for(let O=0;O<I;O++){const H=y.charCodeAt(w+O),U=D.charCodeAt(O);if(!(H===U||H>=65&&H<=90&&H+32===U||U>=65&&U<=90&&U+32===H))return!1}return!0}_createOperationsForBlockComment(y,D,w,I,P,O){const H=y.startLineNumber,U=y.startColumn,K=y.endLineNumber,F=y.endColumn,B=P.getLineContent(H),z=P.getLineContent(K);let ne,$=B.lastIndexOf(D,U-1+D.length),j=z.indexOf(w,F-1-w.length);if(-1!==$&&-1!==j)if(H===K)B.substring($+D.length,j).indexOf(w)>=0&&($=-1,j=-1);else{const N=B.substring($+D.length),V=z.substring(0,j);(N.indexOf(w)>=0||V.indexOf(w)>=0)&&($=-1,j=-1)}-1!==$&&-1!==j?(I&&$+D.length<B.length&&32===B.charCodeAt($+D.length)&&(D+=" "),I&&j>0&&32===z.charCodeAt(j-1)&&(w=" "+w,j-=1),ne=L._createRemoveBlockCommentOperations(new l.e(H,$+D.length+1,K,j+1),D,w)):(ne=L._createAddBlockCommentOperations(y,D,w,this._insertSpace),this._usedEndToken=1===ne.length?w:null);for(const N of ne)O.addTrackedEditOperation(N.range,N.text)}static _createRemoveBlockCommentOperations(y,D,w){const I=[];return l.e.isEmpty(y)?I.push(T.h.delete(new l.e(y.startLineNumber,y.startColumn-D.length,y.endLineNumber,y.endColumn+w.length))):(I.push(T.h.delete(new l.e(y.startLineNumber,y.startColumn-D.length,y.startLineNumber,y.startColumn))),I.push(T.h.delete(new l.e(y.endLineNumber,y.endColumn,y.endLineNumber,y.endColumn+w.length)))),I}static _createAddBlockCommentOperations(y,D,w,I){const P=[];return l.e.isEmpty(y)?P.push(T.h.replace(new l.e(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn),D+"  "+w)):(P.push(T.h.insert(new C.L(y.startLineNumber,y.startColumn),D+(I?" ":""))),P.push(T.h.insert(new C.L(y.endLineNumber,y.endColumn),(I?" ":"")+w))),P}getEditOperations(y,D){const w=this._selection.startLineNumber,I=this._selection.startColumn;y.tokenization.tokenizeIfCheap(w);const P=y.getLanguageIdAtPosition(w,I),O=this.languageConfigurationService.getLanguageConfiguration(P).comments;!O||!O.blockCommentStartToken||!O.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,O.blockCommentStartToken,O.blockCommentEndToken,this._insertSpace,y,D)}computeCursorState(y,D){const w=D.getInverseEditOperations();if(2===w.length){const I=w[0],P=w[1];return new E.Y(I.range.endLineNumber,I.range.endColumn,P.range.startLineNumber,P.range.startColumn)}{const I=w[0].range,P=this._usedEndToken?-this._usedEndToken.length-1:0;return new E.Y(I.endLineNumber,I.endColumn+P,I.endLineNumber,I.endColumn+P)}}}var _=e(73879);class s{constructor(y,D,w,I,P,O,H){this.languageConfigurationService=y,this._selection=D,this._tabSize=w,this._type=I,this._insertSpace=P,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=O,this._ignoreFirstLine=H||!1}static _gatherPreflightCommentStrings(y,D,w,I){y.tokenization.tokenizeIfCheap(D);const P=y.getLanguageIdAtPosition(D,1),O=I.getLanguageConfiguration(P).comments,H=O?O.lineCommentToken:null;if(!H)return null;const U=[];for(let K=0,F=w-D+1;K<F;K++)U[K]={ignore:!1,commentStr:H,commentStrOffset:0,commentStrLength:H.length};return U}static _analyzeLines(y,D,w,I,P,O,H,U){let F,K=!0;F=0===y||1!==y;for(let B=0,z=I.length;B<z;B++){const $=I[B],j=P+B;if(j===P&&H){$.ignore=!0;continue}const ne=w.getLineContent(j),N=_.LC(ne);if(-1!==N){if(K=!1,$.ignore=!1,$.commentStrOffset=N,F&&!L._haystackHasNeedleAtOffset(ne,$.commentStr,N)&&(0===y?F=!1:1===y||($.ignore=!0)),F&&D){const V=N+$.commentStrLength;V<ne.length&&32===ne.charCodeAt(V)&&($.commentStrLength+=1)}}else $.ignore=O,$.commentStrOffset=ne.length}if(0===y&&K){F=!1;for(let B=0,z=I.length;B<z;B++)I[B].ignore=!1}return{supported:!0,shouldRemoveComments:F,lines:I}}static _gatherPreflightData(y,D,w,I,P,O,H,U){const K=s._gatherPreflightCommentStrings(w,I,P,U);return null===K?{supported:!1}:s._analyzeLines(y,D,w,K,I,O,H,U)}_executeLineComments(y,D,w,I){let P;w.shouldRemoveComments?P=s._createRemoveLineCommentsOperations(w.lines,I.startLineNumber):(s._normalizeInsertionPoint(y,w.lines,I.startLineNumber,this._tabSize),P=this._createAddLineCommentsOperations(w.lines,I.startLineNumber));const O=new C.L(I.positionLineNumber,I.positionColumn);for(let H=0,U=P.length;H<U;H++)D.addEditOperation(P[H].range,P[H].text),l.e.isEmpty(P[H].range)&&l.e.getStartPosition(P[H].range).equals(O)&&y.getLineContent(O.lineNumber).length+1===O.column&&(this._deltaColumn=(P[H].text||"").length);this._selectionId=D.trackSelection(I)}_attemptRemoveBlockComment(y,D,w,I){let P=D.startLineNumber,O=D.endLineNumber;const H=I.length+Math.max(y.getLineFirstNonWhitespaceColumn(D.startLineNumber),D.startColumn);let U=y.getLineContent(P).lastIndexOf(w,H-1),K=y.getLineContent(O).indexOf(I,D.endColumn-1-w.length);return-1!==U&&-1===K&&(K=y.getLineContent(P).indexOf(I,U+w.length),O=P),-1===U&&-1!==K&&(U=y.getLineContent(O).lastIndexOf(w,K),P=O),D.isEmpty()&&(-1===U||-1===K)&&(U=y.getLineContent(P).indexOf(w),-1!==U&&(K=y.getLineContent(P).indexOf(I,U+w.length))),-1!==U&&32===y.getLineContent(P).charCodeAt(U+w.length)&&(w+=" "),-1!==K&&32===y.getLineContent(O).charCodeAt(K-1)&&(I=" "+I,K-=1),-1!==U&&-1!==K?L._createRemoveBlockCommentOperations(new l.e(P,U+w.length+1,O,K+1),w,I):null}_executeBlockComment(y,D,w){y.tokenization.tokenizeIfCheap(w.startLineNumber);const I=y.getLanguageIdAtPosition(w.startLineNumber,1),P=this.languageConfigurationService.getLanguageConfiguration(I).comments;if(!P||!P.blockCommentStartToken||!P.blockCommentEndToken)return;const O=P.blockCommentStartToken,H=P.blockCommentEndToken;let U=this._attemptRemoveBlockComment(y,w,O,H);if(!U){if(w.isEmpty()){const K=y.getLineContent(w.startLineNumber);let F=_.LC(K);-1===F&&(F=K.length),U=L._createAddBlockCommentOperations(new l.e(w.startLineNumber,F+1,w.startLineNumber,K.length+1),O,H,this._insertSpace)}else U=L._createAddBlockCommentOperations(new l.e(w.startLineNumber,y.getLineFirstNonWhitespaceColumn(w.startLineNumber),w.endLineNumber,y.getLineMaxColumn(w.endLineNumber)),O,H,this._insertSpace);1===U.length&&(this._deltaColumn=O.length+1)}this._selectionId=D.trackSelection(w);for(const K of U)D.addEditOperation(K.range,K.text)}getEditOperations(y,D){let w=this._selection;if(this._moveEndPositionDown=!1,w.startLineNumber===w.endLineNumber&&this._ignoreFirstLine)return D.addEditOperation(new l.e(w.startLineNumber,y.getLineMaxColumn(w.startLineNumber),w.startLineNumber+1,1),w.startLineNumber===y.getLineCount()?"":"\n"),void(this._selectionId=D.trackSelection(w));w.startLineNumber<w.endLineNumber&&1===w.endColumn&&(this._moveEndPositionDown=!0,w=w.setEndPosition(w.endLineNumber-1,y.getLineMaxColumn(w.endLineNumber-1)));const I=s._gatherPreflightData(this._type,this._insertSpace,y,w.startLineNumber,w.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return I.supported?this._executeLineComments(y,D,I,w):this._executeBlockComment(y,D,w)}computeCursorState(y,D){let w=D.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(w=w.setEndPosition(w.endLineNumber+1,1)),new E.Y(w.selectionStartLineNumber,w.selectionStartColumn+this._deltaColumn,w.positionLineNumber,w.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(y,D){const w=[];for(let I=0,P=y.length;I<P;I++){const O=y[I];O.ignore||w.push(T.h.delete(new l.e(D+I,O.commentStrOffset+1,D+I,O.commentStrOffset+O.commentStrLength+1)))}return w}_createAddLineCommentsOperations(y,D){const w=[],I=this._insertSpace?" ":"";for(let P=0,O=y.length;P<O;P++){const H=y[P];H.ignore||w.push(T.h.insert(new C.L(D+P,H.commentStrOffset+1),H.commentStr+I))}return w}static nextVisibleColumn(y,D,w,I){return w?y+(D-y%D):y+I}static _normalizeInsertionPoint(y,D,w,I){let O,H,P=1073741824;for(let U=0,K=D.length;U<K;U++){if(D[U].ignore)continue;const F=y.getLineContent(w+U);let B=0;for(let z=0,$=D[U].commentStrOffset;B<P&&z<$;z++)B=s.nextVisibleColumn(B,I,9===F.charCodeAt(z),1);B<P&&(P=B)}P=Math.floor(P/I)*I;for(let U=0,K=D.length;U<K;U++){if(D[U].ignore)continue;const F=y.getLineContent(w+U);let B=0;for(O=0,H=D[U].commentStrOffset;B<P&&O<H;O++)B=s.nextVisibleColumn(B,I,9===F.charCodeAt(O),1);D[U].commentStrOffset=B>P?O-1:O}}}var m=e(55197),c=e(74918);class n extends t.R6{constructor(y,D){super(D),this._type=y}run(y,D){const w=y.get(v.c_);if(!D.hasModel())return;const P=[],O=D.getModel().getOptions(),H=D.getOption(19),U=D.getSelections().map((F,B)=>({selection:F,index:B,ignoreFirstLine:!1}));U.sort((F,B)=>l.e.compareRangesUsingStarts(F.selection,B.selection));let K=U[0];for(let F=1;F<U.length;F++){const B=U[F];K.selection.endLineNumber===B.selection.startLineNumber&&(K.index<B.index?B.ignoreFirstLine=!0:(K.ignoreFirstLine=!0,K=B))}for(const F of U)P.push(new s(w,F.selection,O.tabSize,this._type,H.insertSpace,H.ignoreEmptyLines,F.ignoreFirstLine));D.pushUndoStop(),D.executeCommands(this.id,P),D.pushUndoStop()}}(0,t.Qr)(class a extends n{constructor(){super(0,{id:"editor.action.commentLine",label:m.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:S.u.writable,kbOpts:{kbExpr:S.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:c.eH.MenubarEditMenu,group:"5_insert",title:m.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,t.Qr)(class p extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:m.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:S.u.writable,kbOpts:{kbExpr:S.u.editorTextFocus,primary:(0,d.gx)(2089,2081),weight:100}})}}),(0,t.Qr)(class u extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:m.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:S.u.writable,kbOpts:{kbExpr:S.u.editorTextFocus,primary:(0,d.gx)(2089,2099),weight:100}})}}),(0,t.Qr)(class g extends t.R6{constructor(){super({id:"editor.action.blockComment",label:m.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:S.u.writable,kbOpts:{kbExpr:S.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:c.eH.MenubarEditMenu,group:"5_insert",title:m.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(y,D){const w=y.get(v.c_);if(!D.hasModel())return;const I=D.getOption(19),P=[],O=D.getSelections();for(const H of O)P.push(new L(H,I.insertSpace,w));D.pushUndoStop(),D.executeCommands(this.id,P),D.pushUndoStop()}})},89427:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{ContextMenuController:()=>p});var d=e(98463),t=e(34872),l=e(827),S=e(80142),v=e(8841),T=e(26845),C=e(82290),E=e(55197),L=e(74918),_=e(16468),s=e(50703),m=e(14759),c=e(94667),a=function(g,b){return function(y,D){b(y,D,g)}};let p=class Gc{constructor(b,y,D,w,I,P,O){this._contextMenuService=y,this._contextViewService=D,this._contextKeyService=w,this._keybindingService=I,this._menuService=P,this._configurationService=O,this._toDispose=new S.SL,this._contextMenuIsBeingShownCount=0,this._editor=b,this._toDispose.add(this._editor.onContextMenu(H=>this._onContextMenu(H))),this._toDispose.add(this._editor.onMouseWheel(H=>{if(this._contextMenuIsBeingShownCount>0){const U=this._contextViewService.getContextViewElement(),K=H.srcElement;K.shadowRoot&&d.Ay(U)===K.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(H=>{!this._editor.getOption(20)||58===H.keyCode&&(H.preventDefault(),H.stopPropagation(),this.showContextMenu())}))}static get(b){return b.getContribution(Gc.ID)}_onContextMenu(b){if(!this._editor.hasModel())return;if(!this._editor.getOption(20))return this._editor.focus(),void(b.target.position&&!this._editor.getSelection().containsPosition(b.target.position)&&this._editor.setPosition(b.target.position));if(12===b.target.type||6===b.target.type&&b.target.detail.injectedText)return;if(b.event.preventDefault(),b.event.stopPropagation(),11===b.target.type)return this._showScrollbarContextMenu({x:b.event.posx-1,width:2,y:b.event.posy-1,height:2});if(6!==b.target.type&&7!==b.target.type&&1!==b.target.type)return;if(this._editor.focus(),b.target.position){let D=!1;for(const w of this._editor.getSelections())if(w.containsPosition(b.target.position)){D=!0;break}D||this._editor.setPosition(b.target.position)}let y=null;1!==b.target.type&&(y={x:b.event.posx-1,width:2,y:b.event.posy-1,height:2}),this.showContextMenu(y)}showContextMenu(b){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const y=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?L.eH.SimpleEditorContext:L.eH.EditorContext);y.length>0&&this._doShowContextMenu(y,b)}_getMenuActions(b,y){const D=[],w=this._menuService.createMenu(y,this._contextKeyService),I=w.getActions({arg:b.uri});w.dispose();for(const P of I){const[,O]=P;let H=0;for(const U of O)if(U instanceof L.NZ){const K=this._getMenuActions(b,U.item.submenu);K.length>0&&(D.push(new l.wY(U.id,U.label,K)),H++)}else D.push(U),H++;H&&D.push(new l.Z0)}return D.length&&D.pop(),D}_doShowContextMenu(b,y=null){if(!this._editor.hasModel())return;const D=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!y){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const I=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),P=d.i(this._editor.getDomNode());y={x:P.left+I.left,y:P.top+I.top+I.height}}const w=this._editor.getOption(117)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:w?this._editor.getDomNode():void 0,getAnchor:()=>y,getActions:()=>b,getActionViewItem:I=>{const P=this._keybindingFor(I);return P?new t.g(I,I,{label:!0,keybinding:P.getLabel(),isMenu:!0}):"function"==typeof I.getActionViewItem?I.getActionViewItem():new t.g(I,I,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:I=>this._keybindingFor(I),onHide:I=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:D})}})}_showScrollbarContextMenu(b){if(!this._editor.hasModel())return;const y=this._editor.getOption(67);let D=0;const w=U=>({id:"menu-action-"+ ++D,label:U.label,tooltip:"",class:void 0,enabled:typeof U.enabled>"u"||U.enabled,checked:U.checked,run:U.run,dispose:()=>null}),P=(U,K,F,B,z)=>{if(!K)return w({label:U,enabled:K,run:()=>{}});const $=ne=>()=>{this._configurationService.updateValue(F,ne)},j=[];for(const ne of z)j.push(w({label:ne.label,checked:B===ne.value,run:$(ne.value)}));return((U,K)=>new l.wY("menu-action-"+ ++D,U,K,void 0))(U,j)},O=[];O.push(w({label:E.NC("context.minimap.minimap","Minimap"),checked:y.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!y.enabled)}})),O.push(new l.Z0),O.push(w({label:E.NC("context.minimap.renderCharacters","Render Characters"),enabled:y.enabled,checked:y.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!y.renderCharacters)}})),O.push(P(E.NC("context.minimap.size","Vertical size"),y.enabled,"editor.minimap.size",y.size,[{label:E.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:E.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:E.NC("context.minimap.size.fit","Fit"),value:"fit"}])),O.push(P(E.NC("context.minimap.slider","Slider"),y.enabled,"editor.minimap.showSlider",y.showSlider,[{label:E.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:E.NC("context.minimap.slider.always","Always"),value:"always"}]));const H=this._editor.getOption(117)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:H?this._editor.getDomNode():void 0,getAnchor:()=>b,getActions:()=>O,onHide:U=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(b){return this._keybindingService.lookupKeybinding(b.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};p.ID="editor.contrib.contextmenu",p=function(g,b,y,D){var P,w=arguments.length,I=w<3?b:null===D?D=Object.getOwnPropertyDescriptor(b,y):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(g,b,y,D);else for(var O=g.length-1;O>=0;O--)(P=g[O])&&(I=(w<3?P(I):w>3?P(b,y,I):P(b,y))||I);return w>3&&I&&Object.defineProperty(b,y,I),I}([a(1,s.i),a(2,s.u),a(3,_.i6),a(4,m.d),a(5,L.co),a(6,c.Ui)],p),(0,T._K)(p.ID,p),(0,T.Qr)(class u extends T.R6{constructor(){super({id:"editor.action.showContextMenu",label:E.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:C.u.textInputFocus,primary:1092,weight:100}})}run(b,y){var D;null===(D=p.get(y))||void 0===D||D.showContextMenu()}})},98590:(Et,X,e)=>{"use strict";e.r(X);var d=e(26845),t=e(61904),l=e(67719),S=e(98463),v=e(48648),T=e(1187),C=e(80142),E=e(34189),L=e(15067),_=e(78812),s=e(61560),m=e(98570),c=e(90790),n=e(18623),a=e(31583),p=e(61254),u=e(25787),g=e(94667),y=function(U,K){return function(F,B){K(F,B,U)}},D=function(U,K,F,B){return new(F||(F=Promise))(function($,j){function ne(Z){try{V(B.next(Z))}catch(fe){j(fe)}}function N(Z){try{V(B.throw(Z))}catch(fe){j(fe)}}function V(Z){Z.done?$(Z.value):function z($){return $ instanceof F?$:new F(function(j){j($)})}(Z.value).then(ne,N)}V((B=B.apply(U,K||[])).next())})};const w="application/vnd.code.copyMetadata";let I=class extends C.JT{constructor(K,F,B,z,$){super(),this._bulkEditService=F,this._clipboardService=B,this._configurationService=z,this._languageFeaturesService=$,this._editor=K;const j=K.getContainerDomNode();this._register((0,S.nm)(j,"copy",ne=>this.handleCopy(ne))),this._register((0,S.nm)(j,"cut",ne=>this.handleCopy(ne))),this._register((0,S.nm)(j,"paste",ne=>this.handlePaste(ne),!0))}arePasteActionsEnabled(K){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:K.uri})}handleCopy(K){var F;if(!K.clipboardData||!this._editor.hasTextFocus())return;const B=this._editor.getModel(),z=this._editor.getSelections();if(!B||!z?.length||!this.arePasteActionsEnabled(B))return;const $=[...z],j=z[0],ne=j.isEmpty();if(ne){if(!this._editor.getOption(33))return;$[0]=new m.e(j.startLineNumber,0,j.startLineNumber,B.getLineLength(j.startLineNumber))}const N=this._languageFeaturesService.documentPasteEditProvider.ordered(B).filter(M=>!!M.prepareDocumentPaste);if(!N.length)return void this.setCopyMetadata(K.clipboardData,{wasFromEmptySelection:ne});const V=(0,_.Bo)(K.clipboardData),Z=(0,L.R)();this.setCopyMetadata(K.clipboardData,{id:Z,wasFromEmptySelection:ne});const fe=(0,v.PG)(M=>D(this,void 0,void 0,function*(){const Se=yield Promise.all(N.map(Ee=>Ee.prepareDocumentPaste(B,$,V,M)));for(const Ee of Se)Ee?.forEach((Le,Ne)=>{V.replace(Ne,Le)});return V}));null===(F=this._currentClipboardItem)||void 0===F||F.dataTransferPromise.cancel(),this._currentClipboardItem={handle:Z,dataTransferPromise:fe}}setCopyMetadata(K,F){K.setData(w,JSON.stringify(F))}handlePaste(K){var F,B,z;return D(this,void 0,void 0,function*(){if(!K.clipboardData||!this._editor.hasTextFocus())return;const $=this._editor.getSelections();if(!$?.length||!this._editor.hasModel())return;const j=this._editor.getModel();if(!this.arePasteActionsEnabled(j))return;let ne;const N=null===(F=K.clipboardData)||void 0===F?void 0:F.getData(w);N&&"string"==typeof N&&(ne=JSON.parse(N));const V=this._languageFeaturesService.documentPasteEditProvider.ordered(j);if(!V.length)return;K.preventDefault(),K.stopImmediatePropagation();const Z=j.getVersionId(),fe=new n.Dl(this._editor,3);try{const M=(0,_.Bo)(K.clipboardData);if(ne?.id&&(null===(B=this._currentClipboardItem)||void 0===B?void 0:B.handle)===ne.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((Ne,oe)=>{M.replace(oe,Ne)}),!M.has(E.v.uriList)){const Le=yield this._clipboardService.readResources();Le.length&&M.append(E.v.uriList,(0,T.ZO)(_.Z0.create(Le)))}M.delete(w);for(const Le of V){if(!Le.pasteMimeTypes.some(oe=>oe.toLowerCase()===l.g.FILES.toLowerCase()?[...M.values()].some(we=>we.asFile()):M.has(oe)))continue;const Ne=yield Le.provideDocumentPasteEdits(j,$,M,fe.token);if(Z!==j.getVersionId())return;if(Ne)return(0,a.performSnippetEdit)(this._editor,"string"==typeof Ne.insertText?p.Yj.escape(Ne.insertText):Ne.insertText.snippet,$),void(Ne.additionalEdit&&(yield this._bulkEditService.apply(s.fo.convert(Ne.additionalEdit),{editor:this._editor})))}const Se=null!==(z=M.get(E.v.text))&&void 0!==z?z:M.get("text");if(!Se)return;const Ee=yield Se.asString();if(Z!==j.getVersionId())return;this._editor.trigger("keyboard","paste",{text:Ee,pasteOnNewLine:ne?.wasFromEmptySelection,multicursorText:null})}finally{fe.dispose()}})}};I.ID="editor.contrib.copyPasteActionController",I=function(U,K,F,B){var j,z=arguments.length,$=z<3?K:null===B?B=Object.getOwnPropertyDescriptor(K,F):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(U,K,F,B);else for(var ne=U.length-1;ne>=0;ne--)(j=U[ne])&&($=(z<3?j($):z>3?j(K,F,$):j(K,F))||$);return z>3&&$&&Object.defineProperty(K,F,$),$}([y(1,s.vu),y(2,u.p),y(3,g.Ui),y(4,c.p)],I);var P=e(55197),O=e(29093),H=e(4259);(0,d._K)(I.ID,I),H.B.as(O.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},t.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:P.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},44266:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CursorRedo:()=>L,CursorUndo:()=>E,CursorUndoRedoController:()=>C});var d=e(80142),t=e(26845),l=e(82290),S=e(55197);class v{constructor(s){this.selections=s}equals(s){const m=this.selections.length;if(m!==s.selections.length)return!1;for(let n=0;n<m;n++)if(!this.selections[n].equalsSelection(s.selections[n]))return!1;return!0}}class T{constructor(s,m,c){this.cursorState=s,this.scrollTop=m,this.scrollLeft=c}}let C=(()=>{class _ extends d.JT{constructor(m){super(),this._editor=m,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(m.onDidChangeModel(c=>{this._undoStack=[],this._redoStack=[]})),this._register(m.onDidChangeModelContent(c=>{this._undoStack=[],this._redoStack=[]})),this._register(m.onDidChangeCursorSelection(c=>{if(this._isCursorUndoRedo||!c.oldSelections||c.oldModelVersionId!==c.modelVersionId)return;const n=new v(c.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new T(n,m.getScrollTop(),m.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(m){return m.getContribution(_.ID)}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new T(new v(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new T(new v(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(m){this._isCursorUndoRedo=!0,this._editor.setSelections(m.cursorState.selections),this._editor.setScrollPosition({scrollTop:m.scrollTop,scrollLeft:m.scrollLeft}),this._isCursorUndoRedo=!1}}return _.ID="editor.contrib.cursorUndoRedoController",_})();class E extends t.R6{constructor(){super({id:"cursorUndo",label:S.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:l.u.textInputFocus,primary:2099,weight:100}})}run(s,m,c){var n;null===(n=C.get(m))||void 0===n||n.cursorUndo()}}class L extends t.R6{constructor(){super({id:"cursorRedo",label:S.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(s,m,c){var n;null===(n=C.get(m))||void 0===n||n.cursorRedo()}}(0,t._K)(C.ID,C),(0,t.Qr)(E),(0,t.Qr)(L)},77993:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{DragAndDropController:()=>H});var d=e(80142),t=e(8841),l=e(57856),S=e.n(l),v=e(38470),T=e.n(v),C=e(43370),E=e.n(C),L=e(28458),_=e.n(L),s=e(71278),m=e.n(s),c=e(29488),n=e.n(c),a=e(1158),p={};p.styleTagTransform=n(),p.setAttributes=_(),p.insert=E().bind(null,"head"),p.domAPI=T(),p.insertStyleElement=m(),S()(a.Z,p);var b=e(26845),y=e(18723),D=e(98570),w=e(7233),I=e(59758);class P{constructor(K,F,B){this.selection=K,this.targetPosition=F,this.copy=B,this.targetSelection=null}getEditOperations(K,F){const B=K.getValueInRange(this.selection);this.copy||F.addEditOperation(this.selection,null),F.addEditOperation(new D.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),B),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new w.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new w.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new w.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new w.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new w.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(K,F){return this.targetSelection}}function O(U){return t.dz?U.altKey:U.ctrlKey}class H extends d.JT{constructor(K){super(),this._editor=K,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(F=>this._onEditorMouseDown(F))),this._register(this._editor.onMouseUp(F=>this._onEditorMouseUp(F))),this._register(this._editor.onMouseDrag(F=>this._onEditorMouseDrag(F))),this._register(this._editor.onMouseDrop(F=>this._onEditorMouseDrop(F))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(F=>this.onEditorKeyDown(F))),this._register(this._editor.onKeyUp(F=>this.onEditorKeyUp(F))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(K){!this._editor.getOption(31)||this._editor.getOption(18)||(O(K)&&(this._modifierPressed=!0),this._mouseDown&&O(K)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(K){!this._editor.getOption(31)||this._editor.getOption(18)||(O(K)&&(this._modifierPressed=!1),this._mouseDown&&K.keyCode===H.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(K){this._mouseDown=!0}_onEditorMouseUp(K){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(K){const F=K.target;if(null===this._dragSelection){const z=(this._editor.getSelections()||[]).filter($=>F.position&&$.containsPosition(F.position));if(1!==z.length)return;this._dragSelection=z[0]}O(K.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),F.position&&(this._dragSelection.containsPosition(F.position)?this._removeDecoration():this.showAt(F.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(K){if(K.target&&(this._hitContent(K.target)||this._hitMargin(K.target))&&K.target.position){const F=new y.L(K.target.position.lineNumber,K.target.position.column);if(null===this._dragSelection){let B=null;if(K.event.shiftKey){const z=this._editor.getSelection();if(z){const{selectionStartLineNumber:$,selectionStartColumn:j}=z;B=[new w.Y($,j,F.lineNumber,F.column)]}}else B=(this._editor.getSelections()||[]).map(z=>z.containsPosition(F)?new w.Y(F.lineNumber,F.column,F.lineNumber,F.column):z);this._editor.setSelections(B||[],"mouse",3)}else(!this._dragSelection.containsPosition(F)||(O(K.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(F)||this._dragSelection.getStartPosition().equals(F)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(H.ID,new P(this._dragSelection,F,O(K.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(K){this._dndDecorationIds.set([{range:new D.e(K.lineNumber,K.column,K.lineNumber,K.column),options:H._DECORATION_OPTIONS}]),this._editor.revealPosition(K,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(K){return 6===K.type||7===K.type}_hitMargin(K){return 2===K.type||3===K.type||4===K.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}H.ID="editor.contrib.dragAndDrop",H.TRIGGER_KEY_VALUE=t.dz?6:5,H._DECORATION_OPTIONS=I.qx.register({description:"dnd-target",className:"dnd-target"}),(0,b._K)(H.ID,H)},70466:(Et,X,e)=>{"use strict";e.r(X);var d=e(73888),t=e(72715),l=e(59547),S=e(1149),v=e(55276),T=e(66549);T.P0.registerCommand("_executeDocumentSymbolProvider",function(E,...L){return function(E,L,_,s){return new(_||(_=Promise))(function(c,n){function a(g){try{u(s.next(g))}catch(b){n(b)}}function p(g){try{u(s.throw(g))}catch(b){n(b)}}function u(g){g.done?c(g.value):function m(c){return c instanceof _?c:new _(function(n){n(c)})}(g.value).then(a,p)}u((s=s.apply(E,L||[])).next())})}(this,void 0,void 0,function*(){const[_]=L;(0,t.p_)(l.o.isUri(_));const s=E.get(v.Je),c=yield E.get(S.S).createModelReference(_);try{return(yield s.getOrCreate(c.object.textEditorModel,d.T.None)).getTopLevelSymbols()}finally{c.dispose()}})})},55276:(Et,X,e)=>{"use strict";e.d(X,{C3:()=>y,Je:()=>D,sT:()=>g});var d=e(64023),t=e(73888),l=e(4125),S=e(1999),v=e(5067),T=e(18723),C=e(98570),E=e(79095),L=e(9265),_=e(47494),s=e(59602),m=e(80142),c=e(90790),a=function(I,P){return function(O,H){P(O,H,I)}};class u{remove(){var P;null===(P=this.parent)||void 0===P||P.children.delete(this.id)}static findId(P,O){let H;"string"==typeof P?H=`${O.id}/${P}`:(H=`${O.id}/${P.name}`,void 0!==O.children.get(H)&&(H=`${O.id}/${P.name}_${P.range.startLineNumber}_${P.range.startColumn}`));let U=H;for(let K=0;void 0!==O.children.get(U);K++)U=`${H}_${K}`;return U}static empty(P){return 0===P.children.size}}class g extends u{constructor(P,O,H){super(),this.id=P,this.parent=O,this.symbol=H,this.children=new Map}}class b extends u{constructor(P,O,H,U){super(),this.id=P,this.parent=O,this.label=H,this.order=U,this.children=new Map}}class y extends u{constructor(P){super(),this.uri=P,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(P,O,H){const U=new t.A(H),K=new y(O.uri),F=P.ordered(O),B=F.map(($,j)=>{var ne;const N=u.findId(`provider_${j}`,K),V=new b(N,K,null!==(ne=$.displayName)&&void 0!==ne?ne:"Unknown Outline Provider",j);return Promise.resolve($.provideDocumentSymbols(O,U.token)).then(Z=>{for(const fe of Z||[])y._makeOutlineElement(fe,V);return V},Z=>((0,l.Cp)(Z),V)).then(Z=>{u.empty(Z)?Z.remove():K._groups.set(N,Z)})}),z=P.onDidChange(()=>{const $=P.ordered(O);(0,d.fS)($,F)||U.cancel()});return Promise.all(B).then(()=>U.token.isCancellationRequested&&!H.isCancellationRequested?y.create(P,O,H):K._compact()).finally(()=>{z.dispose()})}static _makeOutlineElement(P,O){const H=u.findId(P,O),U=new g(H,O,P);if(P.children)for(const K of P.children)y._makeOutlineElement(K,U);O.children.set(U.id,U)}_compact(){let P=0;for(const[O,H]of this._groups)0===H.children.size?this._groups.delete(O):P+=1;if(1!==P)this.children=this._groups;else{const O=S.$.first(this._groups.values());for(const[,H]of O.children)H.parent=this,this.children.set(H.id,H)}return this}getTopLevelSymbols(){const P=[];for(const O of this.children.values())O instanceof g?P.push(O.symbol):P.push(...S.$.map(O.children.values(),H=>H.symbol));return P.sort((O,H)=>C.e.compareRangesUsingStarts(O.range,H.range))}asListOfDocumentSymbols(){const P=this.getTopLevelSymbols(),O=[];return y._flattenDocumentSymbols(O,P,""),O.sort((H,U)=>T.L.compare(C.e.getStartPosition(H.range),C.e.getStartPosition(U.range))||T.L.compare(C.e.getEndPosition(U.range),C.e.getEndPosition(H.range)))}static _flattenDocumentSymbols(P,O,H){for(const U of O)P.push({kind:U.kind,tags:U.tags,name:U.name,detail:U.detail,containerName:U.containerName||H,range:U.range,selectionRange:U.selectionRange,children:void 0}),U.children&&y._flattenDocumentSymbols(P,U.children,U.name)}}const D=(0,L.yh)("IOutlineModelService");let w=class{constructor(P,O,H){this._languageFeaturesService=P,this._disposables=new m.SL,this._cache=new v.z6(10,.7),this._debounceInformation=O.for(P.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(H.onModelRemoved(U=>{this._cache.delete(U.id)}))}dispose(){this._disposables.dispose()}getOrCreate(P,O){return function(I,P,O,H){return new(O||(O=Promise))(function(K,F){function B(j){try{$(H.next(j))}catch(ne){F(ne)}}function z(j){try{$(H.throw(j))}catch(ne){F(ne)}}function $(j){j.done?K(j.value):function U(K){return K instanceof O?K:new O(function(F){F(K)})}(j.value).then(B,z)}$((H=H.apply(I,P||[])).next())})}(this,void 0,void 0,function*(){const H=this._languageFeaturesService.documentSymbolProvider,U=H.ordered(P);let K=this._cache.get(P.id);if(!K||K.versionId!==P.getVersionId()||!(0,d.fS)(K.provider,U)){const B=new t.A;K={versionId:P.getVersionId(),provider:U,promiseCnt:0,source:B,promise:y.create(H,P,B.token),model:void 0},this._cache.set(P.id,K);const z=Date.now();K.promise.then($=>{K.model=$,this._debounceInformation.update(P,Date.now()-z)}).catch($=>{this._cache.delete(P.id)})}if(K.model)return K.model;K.promiseCnt+=1;const F=O.onCancellationRequested(()=>{0==--K.promiseCnt&&(K.source.cancel(),this._cache.delete(P.id))});try{return yield K.promise}finally{F.dispose()}})}};w=function(I,P,O,H){var F,U=arguments.length,K=U<3?P:null===H?H=Object.getOwnPropertyDescriptor(P,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(I,P,O,H);else for(var B=I.length-1;B>=0;B--)(F=I[B])&&(K=(U<3?F(K):U>3?F(P,O,K):F(P,O))||K);return U>3&&K&&Object.defineProperty(P,O,K),K}([a(0,c.p),a(1,E.A),a(2,s.q)],w),(0,_.z)(D,w,!0)},32402:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{DropIntoEditorController:()=>w});var d=e(48648),t=e(1187),l=e(80142),S=e(34189),v=e(40734),T=e(59547),C=e(78812),E=e(26845),L=e(61560),_=e(98570),s=e(7233),m=e(90790),c=e(18623),n=e(31583),a=e(61254),p=e(55197),u=e(55538),g=e(24596),b=function(P,O,H,U){var B,K=arguments.length,F=K<3?O:null===U?U=Object.getOwnPropertyDescriptor(O,H):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)F=Reflect.decorate(P,O,H,U);else for(var z=P.length-1;z>=0;z--)(B=P[z])&&(F=(K<3?B(F):K>3?B(O,H,F):B(O,H))||F);return K>3&&F&&Object.defineProperty(O,H,F),F},y=function(P,O){return function(H,U){O(H,U,P)}},D=function(P,O,H,U){return new(H||(H=Promise))(function(F,B){function z(ne){try{j(U.next(ne))}catch(N){B(N)}}function $(ne){try{j(U.throw(ne))}catch(N){B(N)}}function j(ne){ne.done?F(ne.value):function K(F){return F instanceof H?F:new H(function(B){B(F)})}(ne.value).then(z,$)}j((U=U.apply(P,O||[])).next())})};let w=class extends l.JT{constructor(O,H,U,K,F){super(),this._bulkEditService=H,this._languageFeaturesService=U,this._progressService=K,this._register(O.onDropIntoEditor(B=>this.onDropIntoEditor(O,B.position,B.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new I(F))}onDropIntoEditor(O,H,U){return D(this,void 0,void 0,function*(){if(!U.dataTransfer||!O.hasModel())return;const K=O.getModel(),F=K.getVersionId(),B=yield this.extractDataTransferData(U);if(0===B.size||O.getModel().getVersionId()!==F)return;const z=new c.Dl(O,1);try{const $=this._languageFeaturesService.documentOnDropEditProvider.ordered(K),j=yield this._progressService.withProgress({location:15,delay:750,title:(0,p.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,d.eP)((()=>D(this,void 0,void 0,function*(){for(const ne of $){const N=yield ne.provideDocumentOnDropEdits(K,H,B,z.token);if(z.token.isCancellationRequested)return;if(N)return N}}))(),z.token),()=>{z.cancel()});if(z.token.isCancellationRequested||O.getModel().getVersionId()!==F)return;if(j){const ne=new _.e(H.lineNumber,H.column,H.lineNumber,H.column);return(0,n.performSnippetEdit)(O,"string"==typeof j.insertText?a.Yj.escape(j.insertText):j.insertText.snippet,[s.Y.fromRange(ne,0)]),void(j.additionalEdit&&(yield this._bulkEditService.apply(L.fo.convert(j.additionalEdit),{editor:O})))}}finally{z.dispose()}})}extractDataTransferData(O){return D(this,void 0,void 0,function*(){if(!O.dataTransfer)return new t.Hl;const H=(0,C.Bo)(O.dataTransfer);return(0,C.dR)(H,O),H})}};w.ID="editor.contrib.dropIntoEditorController",w=b([y(1,L.vu),y(2,m.p),y(3,u.R9),y(4,g.ec)],w);let I=class{constructor(O){this._workspaceContextService=O}provideDocumentOnDropEdits(O,H,U,K){var F;return D(this,void 0,void 0,function*(){const B=U.get(S.v.uriList);if(B){const $=yield B.asString(),j=this.getUriListInsertText($);if(j)return{insertText:j}}const z=null!==(F=U.get("text"))&&void 0!==F?F:U.get(S.v.text);if(z)return{insertText:yield z.asString()}})}getUriListInsertText(O){const H=[];for(const U of C.Z0.parse(O))try{H.push(T.o.parse(U))}catch{}if(H.length)return H.map(U=>{const K=this._workspaceContextService.getWorkspaceFolder(U);if(K){const F=(0,v.lX)(K.uri,U);if(F)return F}return U.fsPath}).join(" ")}};I=b([y(0,g.ec)],I),(0,E._K)(w.ID,w)},18623:(Et,X,e)=>{"use strict";e.d(X,{yy:()=>n,Dl:()=>a,YQ:()=>p});var d=e(73879),t=e(98570),l=e(73888),S=e(80142),v=e(26845),T=e(16468),C=e(85739),E=e(9265),L=e(47494),_=e(55197);const s=(0,E.yh)("IEditorCancelService"),m=new T.uy("cancellableOperation",!1,(0,_.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,L.z)(s,class{constructor(){this._tokens=new WeakMap}add(u,g){let y,b=this._tokens.get(u);return b||(b=u.invokeWithinContext(D=>({key:m.bindTo(D.get(T.i6)),tokens:new C.S})),this._tokens.set(u,b)),b.key.set(!0),y=b.tokens.push(g),()=>{y&&(y(),b.key.set(!b.tokens.isEmpty()),y=void 0)}}cancel(u){const g=this._tokens.get(u);if(!g)return;const b=g.tokens.pop();b&&(b.cancel(),g.key.set(!g.tokens.isEmpty()))}},!0);class c extends l.A{constructor(g,b){super(b),this.editor=g,this._unregister=g.invokeWithinContext(y=>y.get(s).add(g,this))}dispose(){this._unregister(),super.dispose()}}(0,v.fK)(new class extends v._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:m})}runEditorCommand(u,g){u.get(s).cancel(g)}});class n{constructor(g,b){if(this.flags=b,0!=(1&this.flags)){const y=g.getModel();this.modelVersionId=y?d.WU("{0}#{1}",y.uri.toString(),y.getVersionId()):null}else this.modelVersionId=null;this.position=0!=(4&this.flags)?g.getPosition():null,this.selection=0!=(2&this.flags)?g.getSelection():null,0!=(8&this.flags)?(this.scrollLeft=g.getScrollLeft(),this.scrollTop=g.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(g){if(!(g instanceof n))return!1;const b=g;return!(this.modelVersionId!==b.modelVersionId||this.scrollLeft!==b.scrollLeft||this.scrollTop!==b.scrollTop||!this.position&&b.position||this.position&&!b.position||this.position&&b.position&&!this.position.equals(b.position)||!this.selection&&b.selection||this.selection&&!b.selection||this.selection&&b.selection&&!this.selection.equalsRange(b.selection))}validate(g){return this._equals(new n(g,this.flags))}}class a extends c{constructor(g,b,y,D){super(g,D),this._listener=new S.SL,4&b&&this._listener.add(g.onDidChangeCursorPosition(w=>{(!y||!t.e.containsPosition(y,w.position))&&this.cancel()})),2&b&&this._listener.add(g.onDidChangeCursorSelection(w=>{(!y||!t.e.containsRange(y,w.selection))&&this.cancel()})),8&b&&this._listener.add(g.onDidScrollChange(w=>this.cancel())),1&b&&(this._listener.add(g.onDidChangeModel(w=>this.cancel())),this._listener.add(g.onDidChangeModelContent(w=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class p extends l.A{constructor(g,b){super(b),this._listener=g.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},88014:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CommonFindController:()=>xi,FindController:()=>no,MatchFindAction:()=>yo,NextMatchFindAction:()=>Go,NextSelectionMatchFindAction:()=>Do,PreviousMatchFindAction:()=>Po,PreviousSelectionMatchFindAction:()=>to,SelectionMatchFindAction:()=>wo,StartFindAction:()=>Oi,StartFindReplaceAction:()=>vo,StartFindWithArgsAction:()=>ji,StartFindWithSelectionAction:()=>co,getSelectionSearchString:()=>wi});var d=e(48648),t=e(80142),l=e(73879),S=e(26845),v=e(82290),T=e(64023),C=e(22599),E=e(18723),L=e(98570),_=e(7233),s=e(56952),m=e(47629),c=e(59758),n=e(4062),a=e(40902);class p{constructor(Yt){this._editor=Yt,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const Yt=this._findScopeDecorationIds.map(kt=>this._editor.getModel().getDecorationRange(kt)).filter(kt=>!!kt);if(Yt.length)return Yt}return null}getStartPosition(){return this._startPosition}setStartPosition(Yt){this._startPosition=Yt,this.setCurrentFindMatch(null)}_getDecorationIndex(Yt){const kt=this._decorations.indexOf(Yt);return kt>=0?kt+1:1}getCurrentMatchesPosition(Yt){const kt=this._editor.getModel().getDecorationsInRange(Yt);for(const ln of kt){const On=ln.options;if(On===p._FIND_MATCH_DECORATION||On===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(ln.id)}return 0}setCurrentFindMatch(Yt){let kt=null,ln=0;if(Yt)for(let On=0,Fn=this._decorations.length;On<Fn;On++){const dn=this._editor.getModel().getDecorationRange(this._decorations[On]);if(Yt.equalsRange(dn)){kt=this._decorations[On],ln=On+1;break}}return(null!==this._highlightedDecorationId||null!==kt)&&this._editor.changeDecorations(On=>{if(null!==this._highlightedDecorationId&&(On.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==kt&&(this._highlightedDecorationId=kt,On.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(On.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==kt){let Fn=this._editor.getModel().getDecorationRange(kt);if(Fn.startLineNumber!==Fn.endLineNumber&&1===Fn.endColumn){const dn=Fn.endLineNumber-1,gt=this._editor.getModel().getLineMaxColumn(dn);Fn=new L.e(Fn.startLineNumber,Fn.startColumn,dn,gt)}this._rangeHighlightDecorationId=On.addDecoration(Fn,p._RANGE_HIGHLIGHT_DECORATION)}}),ln}set(Yt,kt){this._editor.changeDecorations(ln=>{let On=p._FIND_MATCH_DECORATION;const Fn=[];if(Yt.length>1e3){On=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const gt=this._editor.getModel().getLineCount(),nn=this._editor.getLayoutInfo().height/gt,xn=Math.max(2,Math.ceil(3/nn));let Pn=Yt[0].range.startLineNumber,En=Yt[0].range.endLineNumber;for(let ht=1,Rt=Yt.length;ht<Rt;ht++){const Vt=Yt[ht].range;En+xn>=Vt.startLineNumber?Vt.endLineNumber>En&&(En=Vt.endLineNumber):(Fn.push({range:new L.e(Pn,1,En,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),Pn=Vt.startLineNumber,En=Vt.endLineNumber)}Fn.push({range:new L.e(Pn,1,En,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const dn=new Array(Yt.length);for(let gt=0,sn=Yt.length;gt<sn;gt++)dn[gt]={range:Yt[gt].range,options:On};this._decorations=ln.deltaDecorations(this._decorations,dn),this._overviewRulerApproximateDecorations=ln.deltaDecorations(this._overviewRulerApproximateDecorations,Fn),this._rangeHighlightDecorationId&&(ln.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(gt=>ln.removeDecoration(gt)),this._findScopeDecorationIds=[]),kt?.length&&(this._findScopeDecorationIds=kt.map(gt=>ln.addDecoration(gt,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(Yt){if(0===this._decorations.length)return null;for(let kt=this._decorations.length-1;kt>=0;kt--){const ln=this._decorations[kt],On=this._editor.getModel().getDecorationRange(ln);if(On&&!(On.endLineNumber>Yt.lineNumber)){if(On.endLineNumber<Yt.lineNumber)return On;if(!(On.endColumn>Yt.column))return On}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(Yt){if(0===this._decorations.length)return null;for(let kt=0,ln=this._decorations.length;kt<ln;kt++){const On=this._decorations[kt],Fn=this._editor.getModel().getDecorationRange(On);if(Fn&&!(Fn.startLineNumber<Yt.lineNumber)){if(Fn.startLineNumber>Yt.lineNumber)return Fn;if(!(Fn.startColumn<Yt.column))return Fn}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let Yt=[];return Yt=Yt.concat(this._decorations),Yt=Yt.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&Yt.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&Yt.push(this._rangeHighlightDecorationId),Yt}}p._CURRENT_FIND_MATCH_DECORATION=c.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,a.EN)(n.Fm_),position:m.sh.Center},minimap:{color:(0,a.EN)(n.SUY),position:m.F5.Inline}}),p._FIND_MATCH_DECORATION=c.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,a.EN)(n.Fm_),position:m.sh.Center},minimap:{color:(0,a.EN)(n.SUY),position:m.F5.Inline}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=c.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=c.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,a.EN)(n.Fm_),position:m.sh.Center}}),p._RANGE_HIGHLIGHT_DECORATION=c.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=c.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class u{constructor(Yt,kt,ln){this._editorSelection=Yt,this._ranges=kt,this._replaceStrings=ln,this._trackedEditorSelectionId=null}getEditOperations(Yt,kt){if(this._ranges.length>0){const ln=[];for(let dn=0;dn<this._ranges.length;dn++)ln.push({range:this._ranges[dn],text:this._replaceStrings[dn]});ln.sort((dn,gt)=>L.e.compareRangesUsingStarts(dn.range,gt.range));const On=[];let Fn=ln[0];for(let dn=1;dn<ln.length;dn++)Fn.range.endLineNumber===ln[dn].range.startLineNumber&&Fn.range.endColumn===ln[dn].range.startColumn?(Fn.range=Fn.range.plusRange(ln[dn].range),Fn.text=Fn.text+ln[dn].text):(On.push(Fn),Fn=ln[dn]);On.push(Fn);for(const dn of On)kt.addEditOperation(dn.range,dn.text)}this._trackedEditorSelectionId=kt.trackSelection(this._editorSelection)}computeCursorState(Yt,kt){return kt.getTrackedSelection(this._trackedEditorSelectionId)}}function g(ai,Yt){if(ai&&""!==ai[0]){const kt=b(ai,Yt,"-"),ln=b(ai,Yt,"_");return kt&&!ln?y(ai,Yt,"-"):!kt&&ln?y(ai,Yt,"_"):ai[0].toUpperCase()===ai[0]?Yt.toUpperCase():ai[0].toLowerCase()===ai[0]?Yt.toLowerCase():l.Kw(ai[0][0])&&Yt.length>0?Yt[0].toUpperCase()+Yt.substr(1):ai[0][0].toUpperCase()!==ai[0][0]&&Yt.length>0?Yt[0].toLowerCase()+Yt.substr(1):Yt}return Yt}function b(ai,Yt,kt){return-1!==ai[0].indexOf(kt)&&-1!==Yt.indexOf(kt)&&ai[0].split(kt).length===Yt.split(kt).length}function y(ai,Yt,kt){const ln=Yt.split(kt),On=ai[0].split(kt);let Fn="";return ln.forEach((dn,gt)=>{Fn+=g([On[gt]],dn)+kt}),Fn.slice(0,-1)}class D{constructor(Yt){this.staticValue=Yt,this.kind=0}}class w{constructor(Yt){this.pieces=Yt,this.kind=1}}class I{constructor(Yt){this._state=Yt&&0!==Yt.length?1===Yt.length&&null!==Yt[0].staticValue?new D(Yt[0].staticValue):new w(Yt):new D("")}static fromStaticValue(Yt){return new I([P.staticValue(Yt)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(Yt,kt){if(0===this._state.kind)return kt?g(Yt,this._state.staticValue):this._state.staticValue;let ln="";for(let On=0,Fn=this._state.pieces.length;On<Fn;On++){const dn=this._state.pieces[On];if(null!==dn.staticValue){ln+=dn.staticValue;continue}let gt=I._substitute(dn.matchIndex,Yt);if(null!==dn.caseOps&&dn.caseOps.length>0){const sn=[],nn=dn.caseOps.length;let xn=0;for(let Pn=0,En=gt.length;Pn<En;Pn++){if(xn>=nn){sn.push(gt.slice(Pn));break}switch(dn.caseOps[xn]){case"U":sn.push(gt[Pn].toUpperCase());break;case"u":sn.push(gt[Pn].toUpperCase()),xn++;break;case"L":sn.push(gt[Pn].toLowerCase());break;case"l":sn.push(gt[Pn].toLowerCase()),xn++;break;default:sn.push(gt[Pn])}}gt=sn.join("")}ln+=gt}return ln}static _substitute(Yt,kt){if(null===kt)return"";if(0===Yt)return kt[0];let ln="";for(;Yt>0;){if(Yt<kt.length)return(kt[Yt]||"")+ln;ln=String(Yt%10)+ln,Yt=Math.floor(Yt/10)}return"$"+ln}}class P{constructor(Yt,kt,ln){this.staticValue=Yt,this.matchIndex=kt,this.caseOps=ln&&0!==ln.length?ln.slice(0):null}static staticValue(Yt){return new P(Yt,-1,null)}static caseOps(Yt,kt){return new P(null,Yt,kt)}}class O{constructor(Yt){this._source=Yt,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(Yt){this._emitStatic(this._source.substring(this._lastCharIndex,Yt)),this._lastCharIndex=Yt}emitStatic(Yt,kt){this._emitStatic(Yt),this._lastCharIndex=kt}_emitStatic(Yt){0!==Yt.length&&(this._currentStaticPiece+=Yt)}emitMatchIndex(Yt,kt,ln){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=P.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=P.caseOps(Yt,ln),this._lastCharIndex=kt}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=P.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}var U=e(16468);const K=new U.uy("findWidgetVisible",!1),B=(K.toNegated(),new U.uy("findInputFocussed",!1)),z=new U.uy("replaceInputFocussed",!1),$={primary:545,mac:{primary:2593}},j={primary:565,mac:{primary:2613}},ne={primary:560,mac:{primary:2608}},N={primary:554,mac:{primary:2602}},V={primary:558,mac:{primary:2606}},fe=19999;class Se{constructor(Yt,kt){this._toDispose=new t.SL,this._editor=Yt,this._state=kt,this._isDisposed=!1,this._startSearchingTimer=new d._F,this._decorations=new p(Yt),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new d.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(ln=>{(3===ln.reason||5===ln.reason||6===ln.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(ln=>{this._ignoreModelContentChanged||(ln.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(ln=>this._onStateChanged(ln))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,t.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(Yt){this._isDisposed||!this._editor.hasModel()||(Yt.searchString||Yt.isReplaceRevealed||Yt.isRegex||Yt.wholeWord||Yt.matchCase||Yt.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{Yt.searchScope?this.research(Yt.moveCursor,this._state.searchScope):this.research(Yt.moveCursor)},240)):Yt.searchScope?this.research(Yt.moveCursor,this._state.searchScope):this.research(Yt.moveCursor))}static _getSearchRange(Yt,kt){return kt||Yt.getFullModelRange()}research(Yt,kt){let ln=null;typeof kt<"u"?null!==kt&&(ln=Array.isArray(kt)?kt:[kt]):ln=this._decorations.getFindScopes(),null!==ln&&(ln=ln.map(gt=>{if(gt.startLineNumber!==gt.endLineNumber){let sn=gt.endLineNumber;return 1===gt.endColumn&&(sn-=1),new L.e(gt.startLineNumber,1,sn,this._editor.getModel().getLineMaxColumn(sn))}return gt}));const On=this._findMatches(ln,!1,fe);this._decorations.set(On,ln);const Fn=this._editor.getSelection();let dn=this._decorations.getCurrentMatchesPosition(Fn);if(0===dn&&On.length>0){const gt=(0,T.lG)(On.map(sn=>sn.range),sn=>L.e.compareRangesUsingStarts(sn,Fn)>=0);dn=gt>0?gt-1+1:dn}this._state.changeMatchInfo(dn,this._decorations.getCount(),void 0),Yt&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const Yt=this._decorations.getFindScope();return Yt&&this._editor.revealRangeInCenterIfOutsideViewport(Yt,0),!0}return!1}_setCurrentFindMatch(Yt){const kt=this._decorations.setCurrentFindMatch(Yt);this._state.changeMatchInfo(kt,this._decorations.getCount(),Yt),this._editor.setSelection(Yt),this._editor.revealRangeInCenterIfOutsideViewport(Yt,0)}_prevSearchPosition(Yt){const kt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:ln,column:On}=Yt;const Fn=this._editor.getModel();return kt||1===On?(1===ln?ln=Fn.getLineCount():ln--,On=Fn.getLineMaxColumn(ln)):On--,new E.L(ln,On)}_moveToPrevMatch(Yt,kt=!1){if(!this._state.canNavigateBack()){const xn=this._decorations.matchAfterPosition(Yt);return void(xn&&this._setCurrentFindMatch(xn))}if(this._decorations.getCount()<fe){let xn=this._decorations.matchBeforePosition(Yt);return xn&&xn.isEmpty()&&xn.getStartPosition().equals(Yt)&&(Yt=this._prevSearchPosition(Yt),xn=this._decorations.matchBeforePosition(Yt)),void(xn&&this._setCurrentFindMatch(xn))}if(this._cannotFind())return;const ln=this._decorations.getFindScope(),On=Se._getSearchRange(this._editor.getModel(),ln);On.getEndPosition().isBefore(Yt)&&(Yt=On.getEndPosition()),Yt.isBefore(On.getStartPosition())&&(Yt=On.getEndPosition());const{lineNumber:Fn,column:dn}=Yt,gt=this._editor.getModel();let sn=new E.L(Fn,dn),nn=gt.findPreviousMatch(this._state.searchString,sn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(nn&&nn.range.isEmpty()&&nn.range.getStartPosition().equals(sn)&&(sn=this._prevSearchPosition(sn),nn=gt.findPreviousMatch(this._state.searchString,sn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),nn){if(!kt&&!On.containsRange(nn.range))return this._moveToPrevMatch(nn.range.getStartPosition(),!0);this._setCurrentFindMatch(nn.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(Yt){const kt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:ln,column:On}=Yt;const Fn=this._editor.getModel();return kt||On===Fn.getLineMaxColumn(ln)?(ln===Fn.getLineCount()?ln=1:ln++,On=1):On++,new E.L(ln,On)}_moveToNextMatch(Yt){if(!this._state.canNavigateForward()){const ln=this._decorations.matchBeforePosition(Yt);return void(ln&&this._setCurrentFindMatch(ln))}if(this._decorations.getCount()<fe){let ln=this._decorations.matchAfterPosition(Yt);return ln&&ln.isEmpty()&&ln.getStartPosition().equals(Yt)&&(Yt=this._nextSearchPosition(Yt),ln=this._decorations.matchAfterPosition(Yt)),void(ln&&this._setCurrentFindMatch(ln))}const kt=this._getNextMatch(Yt,!1,!0);kt&&this._setCurrentFindMatch(kt.range)}_getNextMatch(Yt,kt,ln,On=!1){if(this._cannotFind())return null;const Fn=this._decorations.getFindScope(),dn=Se._getSearchRange(this._editor.getModel(),Fn);dn.getEndPosition().isBefore(Yt)&&(Yt=dn.getStartPosition()),Yt.isBefore(dn.getStartPosition())&&(Yt=dn.getStartPosition());const{lineNumber:gt,column:sn}=Yt,nn=this._editor.getModel();let xn=new E.L(gt,sn),Pn=nn.findNextMatch(this._state.searchString,xn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,kt);return ln&&Pn&&Pn.range.isEmpty()&&Pn.range.getStartPosition().equals(xn)&&(xn=this._nextSearchPosition(xn),Pn=nn.findNextMatch(this._state.searchString,xn,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,kt)),Pn?On||dn.containsRange(Pn.range)?Pn:this._getNextMatch(Pn.range.getEndPosition(),kt,ln,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function H(ai){if(!ai||0===ai.length)return new I(null);const Yt=[],kt=new O(ai);for(let ln=0,On=ai.length;ln<On;ln++){const Fn=ai.charCodeAt(ln);if(92!==Fn){if(36===Fn){if(ln++,ln>=On)break;const dn=ai.charCodeAt(ln);if(36===dn){kt.emitUnchanged(ln-1),kt.emitStatic("$",ln+1);continue}if(48===dn||38===dn){kt.emitUnchanged(ln-1),kt.emitMatchIndex(0,ln+1,Yt),Yt.length=0;continue}if(49<=dn&&dn<=57){let gt=dn-48;if(ln+1<On){const sn=ai.charCodeAt(ln+1);if(48<=sn&&sn<=57){ln++,gt=10*gt+(sn-48),kt.emitUnchanged(ln-2),kt.emitMatchIndex(gt,ln+1,Yt),Yt.length=0;continue}}kt.emitUnchanged(ln-1),kt.emitMatchIndex(gt,ln+1,Yt),Yt.length=0;continue}}}else{if(ln++,ln>=On)break;const dn=ai.charCodeAt(ln);switch(dn){case 92:kt.emitUnchanged(ln-1),kt.emitStatic("\\",ln+1);break;case 110:kt.emitUnchanged(ln-1),kt.emitStatic("\n",ln+1);break;case 116:kt.emitUnchanged(ln-1),kt.emitStatic("\t",ln+1);break;case 117:case 85:case 108:case 76:kt.emitUnchanged(ln-1),kt.emitStatic("",ln+1),Yt.push(String.fromCharCode(dn))}}}return kt.finalize()}(this._state.replaceString):I.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const Yt=this._getReplacePattern(),kt=this._editor.getSelection(),ln=this._getNextMatch(kt.getStartPosition(),!0,!1);if(ln)if(kt.equalsRange(ln.range)){const On=Yt.buildReplaceString(ln.matches,this._state.preserveCase),Fn=new C.T4(kt,On);this._executeEditorCommand("replace",Fn),this._decorations.setStartPosition(new E.L(kt.startLineNumber,kt.startColumn+On.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(ln.range)}_findMatches(Yt,kt,ln){const On=(Yt||[null]).map(Fn=>Se._getSearchRange(this._editor.getModel(),Fn));return this._editor.getModel().findMatches(this._state.searchString,On,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,kt,ln)}replaceAll(){if(!this._hasMatches())return;const Yt=this._decorations.getFindScopes();null===Yt&&this._state.matchesCount>=fe?this._largeReplaceAll():this._regularReplaceAll(Yt),this.research(!1)}_largeReplaceAll(){const kt=new s.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!kt)return;let ln=kt.regex;if(!ln.multiline){let Pn="mu";ln.ignoreCase&&(Pn+="i"),ln.global&&(Pn+="g"),ln=new RegExp(ln.source,Pn)}const On=this._editor.getModel(),Fn=On.getValue(1),dn=On.getFullModelRange(),gt=this._getReplacePattern();let sn;const nn=this._state.preserveCase;sn=Fn.replace(ln,gt.hasReplacementPatterns||nn?function(){return gt.buildReplaceString(arguments,nn)}:gt.buildReplaceString(null,nn));const xn=new C.hP(dn,sn,this._editor.getSelection());this._executeEditorCommand("replaceAll",xn)}_regularReplaceAll(Yt){const kt=this._getReplacePattern(),ln=this._findMatches(Yt,kt.hasReplacementPatterns||this._state.preserveCase,1073741824),On=[];for(let dn=0,gt=ln.length;dn<gt;dn++)On[dn]=kt.buildReplaceString(ln[dn].matches,this._state.preserveCase);const Fn=new u(this._editor.getSelection(),ln.map(dn=>dn.range),On);this._executeEditorCommand("replaceAll",Fn)}selectAllMatches(){if(!this._hasMatches())return;const Yt=this._decorations.getFindScopes();let ln=this._findMatches(Yt,!1,1073741824).map(Fn=>new _.Y(Fn.range.startLineNumber,Fn.range.startColumn,Fn.range.endLineNumber,Fn.range.endColumn));const On=this._editor.getSelection();for(let Fn=0,dn=ln.length;Fn<dn;Fn++)if(ln[Fn].equalsRange(On)){ln=[On].concat(ln.slice(0,Fn)).concat(ln.slice(Fn+1));break}this._editor.setSelections(ln)}_executeEditorCommand(Yt,kt){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(Yt,kt),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var Ee=e(98463),Le=e(75789),Ne=e(5183);let oe=(()=>{class ai extends Ne.${constructor(kt,ln,On,Fn){super(),this._hideSoon=this._register(new d.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=kt,this._state=ln,this._keybindingService=On,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const dn=Fn.getColorTheme().getColor(n.PRb),gt=Fn.getColorTheme().getColor(n.Pvw),sn=Fn.getColorTheme().getColor(n.XEs);this.caseSensitive=this._register(new Le.rk({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase,inputActiveOptionBorder:dn,inputActiveOptionForeground:gt,inputActiveOptionBackground:sn})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new Le.Qx({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord,inputActiveOptionBorder:dn,inputActiveOptionForeground:gt,inputActiveOptionBackground:sn})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Le.eH({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex,inputActiveOptionBorder:dn,inputActiveOptionForeground:gt,inputActiveOptionBackground:sn})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(nn=>{let xn=!1;nn.isRegex&&(this.regex.checked=this._state.isRegex,xn=!0),nn.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,xn=!0),nn.matchCase&&(this.caseSensitive.checked=this._state.matchCase,xn=!0),!this._state.isRevealed&&xn&&this._revealTemporarily()})),this._register(Ee.nm(this._domNode,Ee.tw.MOUSE_LEAVE,nn=>this._onMouseLeave())),this._register(Ee.nm(this._domNode,"mouseover",nn=>this._onMouseOver())),this._applyTheme(Fn.getColorTheme()),this._register(Fn.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(kt){const ln=this._keybindingService.lookupKeybinding(kt);return ln?` (${ln.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ai.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(kt){const ln={inputActiveOptionBorder:kt.getColor(n.PRb),inputActiveOptionForeground:kt.getColor(n.Pvw),inputActiveOptionBackground:kt.getColor(n.XEs)};this.caseSensitive.style(ln),this.wholeWords.style(ln),this.regex.style(ln)}}return ai.ID="editor.contrib.findOptionsWidget",ai})();(0,a.Ic)((ai,Yt)=>{const kt=ai.getColor(n.D0T);kt&&Yt.addRule(`.monaco-editor .findOptionsWidget { background-color: ${kt}; }`);const ln=ai.getColor(n.Hfx);ln&&Yt.addRule(`.monaco-editor .findOptionsWidget { color: ${ln}; }`);const On=ai.getColor(n.rh);On&&Yt.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${On}; }`);const Fn=ai.getColor(n.lRK);Fn&&Yt.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${Fn}; }`)});var we=e(3778);function xe(ai,Yt){return 1===ai||2!==ai&&Yt}class pe extends t.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new we.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return xe(this._isRegexOverride,this._isRegex)}get wholeWord(){return xe(this._wholeWordOverride,this._wholeWord)}get matchCase(){return xe(this._matchCaseOverride,this._matchCase)}get preserveCase(){return xe(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(Yt,kt,ln){const On={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Fn=!1;0===kt&&(Yt=0),Yt>kt&&(Yt=kt),this._matchesPosition!==Yt&&(this._matchesPosition=Yt,On.matchesPosition=!0,Fn=!0),this._matchesCount!==kt&&(this._matchesCount=kt,On.matchesCount=!0,Fn=!0),typeof ln<"u"&&(L.e.equalsRange(this._currentMatch,ln)||(this._currentMatch=ln,On.currentMatch=!0,Fn=!0)),Fn&&this._onFindReplaceStateChange.fire(On)}change(Yt,kt,ln=!0){var On;const Fn={moveCursor:kt,updateHistory:ln,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let dn=!1;const gt=this.isRegex,sn=this.wholeWord,nn=this.matchCase,xn=this.preserveCase;typeof Yt.searchString<"u"&&this._searchString!==Yt.searchString&&(this._searchString=Yt.searchString,Fn.searchString=!0,dn=!0),typeof Yt.replaceString<"u"&&this._replaceString!==Yt.replaceString&&(this._replaceString=Yt.replaceString,Fn.replaceString=!0,dn=!0),typeof Yt.isRevealed<"u"&&this._isRevealed!==Yt.isRevealed&&(this._isRevealed=Yt.isRevealed,Fn.isRevealed=!0,dn=!0),typeof Yt.isReplaceRevealed<"u"&&this._isReplaceRevealed!==Yt.isReplaceRevealed&&(this._isReplaceRevealed=Yt.isReplaceRevealed,Fn.isReplaceRevealed=!0,dn=!0),typeof Yt.isRegex<"u"&&(this._isRegex=Yt.isRegex),typeof Yt.wholeWord<"u"&&(this._wholeWord=Yt.wholeWord),typeof Yt.matchCase<"u"&&(this._matchCase=Yt.matchCase),typeof Yt.preserveCase<"u"&&(this._preserveCase=Yt.preserveCase),typeof Yt.searchScope<"u"&&(!(null===(On=Yt.searchScope)||void 0===On)&&On.every(Pn=>{var En;return null===(En=this._searchScope)||void 0===En?void 0:En.some(ht=>!L.e.equalsRange(ht,Pn))})||(this._searchScope=Yt.searchScope,Fn.searchScope=!0,dn=!0)),typeof Yt.loop<"u"&&this._loop!==Yt.loop&&(this._loop=Yt.loop,Fn.loop=!0,dn=!0),typeof Yt.isSearching<"u"&&this._isSearching!==Yt.isSearching&&(this._isSearching=Yt.isSearching,Fn.isSearching=!0,dn=!0),typeof Yt.filters<"u"&&(this._filters?this._filters.update(Yt.filters):this._filters=Yt.filters,Fn.filters=!0,dn=!0),this._isRegexOverride=typeof Yt.isRegexOverride<"u"?Yt.isRegexOverride:0,this._wholeWordOverride=typeof Yt.wholeWordOverride<"u"?Yt.wholeWordOverride:0,this._matchCaseOverride=typeof Yt.matchCaseOverride<"u"?Yt.matchCaseOverride:0,this._preserveCaseOverride=typeof Yt.preserveCaseOverride<"u"?Yt.preserveCaseOverride:0,gt!==this.isRegex&&(dn=!0,Fn.isRegex=!0),sn!==this.wholeWord&&(dn=!0,Fn.wholeWord=!0),nn!==this.matchCase&&(dn=!0,Fn.matchCase=!0),xn!==this.preserveCase&&(dn=!0,Fn.preserveCase=!0),dn&&this._onFindReplaceStateChange.fire(Fn)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=fe}}var Te=e(59797),de=e(99952),ke=e(84075),ze=e(58783),$e=e(4125),ce=e(8841),Ue=e(57856),nt=e.n(Ue),Dt=e(38470),Lt=e.n(Dt),Ze=e(43370),ae=e.n(Ze),_e=e(28458),he=e.n(_e),le=e(71278),Q=e.n(le),ve=e(29488),Ae=e.n(ve),dt=e(74777),st={};st.styleTagTransform=Ae(),st.setAttributes=he(),st.insert=ae().bind(null,"head"),st.domAPI=Lt(),st.insertStyleElement=Q(),nt()(dt.Z,st);var tt=e(55197),vt=e(76613);function mt(ai){var Yt,kt;return"Up"===(null===(Yt=ai.lookupKeybinding("history.showPrevious"))||void 0===Yt?void 0:Yt.getElectronAccelerator())&&"Down"===(null===(kt=ai.lookupKeybinding("history.showNext"))||void 0===kt?void 0:kt.getElectronAccelerator())}var _t=e(66287),Kt=e(18034);const Ge=(0,_t.q5)("find-selection",ze.lA.selection,tt.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),ut=(0,_t.q5)("find-collapsed",ze.lA.chevronRight,tt.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Ut=(0,_t.q5)("find-expanded",ze.lA.chevronDown,tt.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),hn=(0,_t.q5)("find-replace",ze.lA.replace,tt.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Dn=(0,_t.q5)("find-replace-all",ze.lA.replaceAll,tt.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),wt=(0,_t.q5)("find-previous-match",ze.lA.arrowUp,tt.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),je=(0,_t.q5)("find-next-match",ze.lA.arrowDown,tt.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),ye=tt.NC("label.find","Find"),Me=tt.NC("placeholder.find","Find"),ue=tt.NC("label.previousMatchButton","Previous Match"),be=tt.NC("label.nextMatchButton","Next Match"),qe=tt.NC("label.toggleSelectionFind","Find in Selection"),Fe=tt.NC("label.closeButton","Close"),ot=tt.NC("label.replace","Replace"),bt=tt.NC("placeholder.replace","Replace"),Ht=tt.NC("label.replaceButton","Replace"),vn=tt.NC("label.replaceAllButton","Replace All"),Mn=tt.NC("label.toggleReplaceButton","Toggle Replace"),Ct=tt.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",fe),fn=tt.NC("label.matchesLocation","{0} of {1}"),Vn=tt.NC("label.noResults","No results");let oi=69;const so="ctrlEnterReplaceAll.windows.donotask",oo=ce.dz?256:2048;class xo{constructor(Yt){this.afterLineNumber=Yt,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function ro(ai,Yt,kt){const ln=!!Yt.match(/\n/);kt&&ln&&kt.selectionStart>0&&ai.stopPropagation()}function _o(ai,Yt,kt){const ln=!!Yt.match(/\n/);kt&&ln&&kt.selectionEnd<kt.value.length&&ai.stopPropagation()}let mo=(()=>{class ai extends Ne.${constructor(kt,ln,On,Fn,dn,gt,sn,nn,xn){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=kt,this._controller=ln,this._state=On,this._contextViewProvider=Fn,this._keybindingService=dn,this._contextKeyService=gt,this._storageService=nn,this._notificationService=xn,this._ctrlEnterReplaceAllWarningPrompted=!!nn.getBoolean(so,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new d.vp(500),this._register((0,t.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Pn=>this._onStateChanged(Pn))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Pn=>{if(Pn.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Pn.hasChanged(133)&&this._tryUpdateWidgetWidth(),Pn.hasChanged(2)&&this.updateAccessibilitySupport(),Pn.hasChanged(37)){const En=this._codeEditor.getOption(37).addExtraSpaceOnTop;En&&!this._viewZone&&(this._viewZone=new xo(0),this._showViewZone()),!En&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(ai,Yt,kt,ln){return new(kt||(kt=Promise))(function(Fn,dn){function gt(xn){try{nn(ln.next(xn))}catch(Pn){dn(Pn)}}function sn(xn){try{nn(ln.throw(xn))}catch(Pn){dn(Pn)}}function nn(xn){xn.done?Fn(xn.value):function On(Fn){return Fn instanceof kt?Fn:new kt(function(dn){dn(Fn)})}(xn.value).then(gt,sn)}nn((ln=ln.apply(ai,Yt||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){const Pn=yield this._controller.getGlobalBufferTerm();Pn&&Pn!==this._state.searchString&&(this._state.change({searchString:Pn},!1),this._findInput.select())}}))),this._findInputFocused=B.bindTo(gt),this._findFocusTracker=this._register(Ee.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=z.bindTo(gt),this._replaceFocusTracker=this._register(Ee.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new xo(0)),this._applyTheme(sn.getColorTheme()),this._register(sn.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Pn=>{Pn.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return ai.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(kt){if(kt.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}kt.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),kt.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),kt.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Ee.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(kt.isRevealed||kt.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),kt.isRegex&&this._findInput.setRegex(this._state.isRegex),kt.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),kt.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),kt.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),kt.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(kt.searchString||kt.matchesCount||kt.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(kt.searchString||kt.currentMatch)&&this._layoutViewZone(),kt.updateHistory&&this._delayedUpdateHistory(),kt.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,$e.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let kt;if(this._matchesCount.style.minWidth=oi+"px",this._matchesCount.title=this._state.matchesCount>=fe?Ct:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let ln=String(this._state.matchesCount);this._state.matchesCount>=fe&&(ln+="+");let On=String(this._state.matchesPosition);"0"===On&&(On="?"),kt=l.WU(fn,On,ln)}else kt=Vn;this._matchesCount.appendChild(document.createTextNode(kt)),(0,Te.Z9)(this._getAriaLabel(kt,this._state.currentMatch,this._state.searchString)),oi=Math.max(oi,this._matchesCount.clientWidth)}_getAriaLabel(kt,ln,On){if(kt===Vn)return""===On?tt.NC("ariaSearchNoResultEmpty","{0} found",kt):tt.NC("ariaSearchNoResult","{0} found for '{1}'",kt,On);if(ln){const Fn=tt.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",kt,On,ln.startLineNumber+":"+ln.startColumn),dn=this._codeEditor.getModel();return dn&&ln.startLineNumber<=dn.getLineCount()&&ln.startLineNumber>=1?`${dn.getLineContent(ln.startLineNumber)}, ${Fn}`:Fn}return tt.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",kt,On)}_updateToggleSelectionFindButton(){const kt=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||kt&&(kt.startLineNumber!==kt.endLineNumber||kt.startColumn!==kt.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const kt=this._state.searchString.length>0,ln=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&kt&&ln&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&kt&&ln&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&kt),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&kt),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const On=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&On)}_reveal(){if(this._revealTimeouts.forEach(kt=>{clearTimeout(kt)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const kt=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!kt&&kt.startLineNumber!==kt.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ln=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&kt){const On=this._codeEditor.getDomNode();if(On){const Fn=Ee.i(On),dn=this._codeEditor.getScrolledVisiblePosition(kt.getStartPosition()),gt=Fn.left+(dn?dn.left:0),sn=dn?dn.top:0;if(this._viewZone&&sn<this._viewZone.heightInPx){kt.endLineNumber>kt.startLineNumber&&(ln=!1);const nn=Ee.xQ(this._domNode).left;gt>nn&&(ln=!1);const xn=this._codeEditor.getScrolledVisiblePosition(kt.getEndPosition());Fn.left+(xn?xn.left:0)>nn&&(ln=!1)}}}this._showViewZone(ln)}}_hide(kt){this._revealTimeouts.forEach(ln=>{clearTimeout(ln)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),kt&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(kt){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const On=this._viewZone;void 0!==this._viewZoneId||!On||this._codeEditor.changeViewZones(Fn=>{On.heightInPx=this._getHeight(),this._viewZoneId=Fn.addZone(On),this._codeEditor.setScrollTop(kt||this._codeEditor.getScrollTop()+On.heightInPx)})}_showViewZone(kt=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new xo(0));const On=this._viewZone;this._codeEditor.changeViewZones(Fn=>{if(void 0!==this._viewZoneId){const dn=this._getHeight();if(dn===On.heightInPx)return;const gt=dn-On.heightInPx;return On.heightInPx=dn,Fn.layoutZone(this._viewZoneId),void(kt&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+gt))}{let dn=this._getHeight();if(dn-=this._codeEditor.getOption(77).top,dn<=0)return;On.heightInPx=dn,this._viewZoneId=Fn.addZone(On),kt&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+dn)}})}_removeViewZone(){this._codeEditor.changeViewZones(kt=>{void 0!==this._viewZoneId&&(kt.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(kt){const ln={inputActiveOptionBorder:kt.getColor(n.PRb),inputActiveOptionBackground:kt.getColor(n.XEs),inputActiveOptionForeground:kt.getColor(n.Pvw),inputBackground:kt.getColor(n.sEe),inputForeground:kt.getColor(n.zJb),inputBorder:kt.getColor(n.dt_),inputValidationInfoBackground:kt.getColor(n._lC),inputValidationInfoForeground:kt.getColor(n.YI3),inputValidationInfoBorder:kt.getColor(n.EPQ),inputValidationWarningBackground:kt.getColor(n.RV_),inputValidationWarningForeground:kt.getColor(n.SUG),inputValidationWarningBorder:kt.getColor(n.C3g),inputValidationErrorBackground:kt.getColor(n.paE),inputValidationErrorForeground:kt.getColor(n._t9),inputValidationErrorBorder:kt.getColor(n.OZR)};this._findInput.style(ln),this._replaceInput.style(ln),this._toggleSelectionFind.style(ln)}_tryUpdateWidgetWidth(){if(!this._isVisible||!Ee.Uw(this._domNode))return;const kt=this._codeEditor.getLayoutInfo();if(kt.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const On=kt.width,Fn=kt.minimap.minimapWidth;let dn=!1,gt=!1,sn=!1;if(this._resized&&Ee.w(this._domNode)>419)return this._domNode.style.maxWidth=On-28-Fn-15+"px",void(this._replaceInput.width=Ee.w(this._findInput.domNode));if(447+Fn>=On&&(gt=!0),447+Fn-oi>=On&&(sn=!0),447+Fn-oi>=On+50&&(dn=!0),this._domNode.classList.toggle("collapsed-find-widget",dn),this._domNode.classList.toggle("narrow-find-widget",sn),this._domNode.classList.toggle("reduced-find-widget",gt),!sn&&!dn&&(this._domNode.style.maxWidth=On-28-Fn-15+"px"),this._resized){this._findInput.inputBox.layout();const nn=this._findInput.inputBox.element.clientWidth;nn>0&&(this._replaceInput.width=nn)}else this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode))}_getHeight(){let kt=0;return kt+=4,kt+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(kt+=4,kt+=this._replaceInput.inputBox.height+2),kt+=4,kt}_tryUpdateHeight(){const kt=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==kt)&&(this._cachedHeight=kt,this._domNode.style.height=`${kt}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const kt=this._codeEditor.getSelections();kt.map(ln=>(1===ln.endColumn&&ln.endLineNumber>ln.startLineNumber&&(ln=ln.setEndPosition(ln.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ln.endLineNumber-1))),ln.startLineNumber===ln.endLineNumber||L.e.equalsRange(ln,this._state.currentMatch)?null:ln)).filter(ln=>!!ln),kt.length&&this._state.change({searchScope:kt},!0)}}_onFindInputMouseDown(kt){kt.middleButton&&kt.stopPropagation()}_onFindInputKeyDown(kt){return kt.equals(3|oo)?(this._keybindingService.dispatchEvent(kt,kt.target)||this._findInput.inputBox.insertAtCursor("\n"),void kt.preventDefault()):kt.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void kt.preventDefault()):kt.equals(2066)?(this._codeEditor.focus(),void kt.preventDefault()):kt.equals(16)?ro(kt,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):kt.equals(18)?_o(kt,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(kt){return kt.equals(3|oo)?(this._keybindingService.dispatchEvent(kt,kt.target)||(ce.ED&&ce.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(tt.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(so,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void kt.preventDefault()):kt.equals(2)?(this._findInput.focusOnCaseSensitive(),void kt.preventDefault()):kt.equals(1026)?(this._findInput.focus(),void kt.preventDefault()):kt.equals(2066)?(this._codeEditor.focus(),void kt.preventDefault()):kt.equals(16)?ro(kt,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):kt.equals(18)?_o(kt,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(kt){return 0}_keybindingLabelFor(kt){const ln=this._keybindingService.lookupKeybinding(kt);return ln?` (${ln.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new vt.Yb(null,this._contextViewProvider,{width:221,label:ye,placeholder:Me,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:nn=>{if(0===nn.length||!this._findInput.getRegex())return null;try{return new RegExp(nn,"gu"),null}catch(xn){return{content:xn.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>mt(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(nn=>this._onFindInputKeyDown(nn))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(nn=>{nn.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),nn.preventDefault())})),this._register(this._findInput.onRegexKeyDown(nn=>{nn.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),nn.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(nn=>{this._tryUpdateHeight()&&this._showViewZone()})),ce.IJ&&this._register(this._findInput.onMouseDown(nn=>this._onFindInputMouseDown(nn))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new si({label:ue+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:wt,onTrigger:()=>{this._codeEditor.getAction("editor.action.previousMatchFindAction").run().then(void 0,$e.dL)}})),this._nextBtn=this._register(new si({label:be+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:je,onTrigger:()=>{this._codeEditor.getAction("editor.action.nextMatchFindAction").run().then(void 0,$e.dL)}}));const On=document.createElement("div");On.className="find-part",On.appendChild(this._findInput.domNode);const Fn=document.createElement("div");Fn.className="find-actions",On.appendChild(Fn),Fn.appendChild(this._matchesCount),Fn.appendChild(this._prevBtn.domNode),Fn.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new de.Z({icon:Ge,title:qe+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const nn=this._codeEditor.getSelections();nn.map(xn=>(1===xn.endColumn&&xn.endLineNumber>xn.startLineNumber&&(xn=xn.setEndPosition(xn.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(xn.endLineNumber-1))),xn.isEmpty()?null:xn)).filter(xn=>!!xn),nn.length&&this._state.change({searchScope:nn},!0)}}else this._state.change({searchScope:null},!0)})),Fn.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new si({label:Fe+this._keybindingLabelFor("closeFindWidget"),icon:_t.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:nn=>{nn.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),nn.preventDefault())}})),Fn.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new vt.Nq(null,void 0,{label:ot,placeholder:bt,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>mt(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(nn=>this._onReplaceInputKeyDown(nn))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(nn=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(nn=>{nn.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),nn.preventDefault())})),this._replaceBtn=this._register(new si({label:Ht+this._keybindingLabelFor("editor.action.replaceOne"),icon:hn,onTrigger:()=>{this._controller.replace()},onKeyDown:nn=>{nn.equals(1026)&&(this._closeBtn.focus(),nn.preventDefault())}})),this._replaceAllBtn=this._register(new si({label:vn+this._keybindingLabelFor("editor.action.replaceAll"),icon:Dn,onTrigger:()=>{this._controller.replaceAll()}}));const dn=document.createElement("div");dn.className="replace-part",dn.appendChild(this._replaceInput.domNode);const gt=document.createElement("div");gt.className="replace-actions",dn.appendChild(gt),gt.appendChild(this._replaceBtn.domNode),gt.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new si({label:Mn,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(On),this._domNode.appendChild(dn),this._resizeSash=new ke.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let sn=419;this._register(this._resizeSash.onDidStart(()=>{sn=Ee.w(this._domNode)})),this._register(this._resizeSash.onDidChange(nn=>{this._resized=!0;const xn=sn+nn.startX-nn.currentX;xn<419||xn>(parseFloat(Ee.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${xn}px`,this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const nn=Ee.w(this._domNode);if(nn<419)return;let xn=419;if(!this._resized||419===nn){const Pn=this._codeEditor.getLayoutInfo();xn=Pn.width-28-Pn.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${xn}px`,this._isReplaceVisible&&(this._replaceInput.width=Ee.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const kt=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==kt)}}return ai.ID="editor.contrib.findWidget",ai})();class si extends Ne.${constructor(Yt){super(),this._opts=Yt;let kt="button";this._opts.className&&(kt=kt+" "+this._opts.className),this._opts.icon&&(kt=kt+" "+a.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=kt,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ln=>{this._opts.onTrigger(),ln.preventDefault()}),this.onkeydown(this._domNode,ln=>{var On,Fn;if(ln.equals(10)||ln.equals(3))return this._opts.onTrigger(),void ln.preventDefault();null===(Fn=(On=this._opts).onKeyDown)||void 0===Fn||Fn.call(On,ln)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(Yt){this._domNode.classList.toggle("disabled",!Yt),this._domNode.setAttribute("aria-disabled",String(!Yt)),this._domNode.tabIndex=Yt?0:-1}setExpanded(Yt){this._domNode.setAttribute("aria-expanded",String(!!Yt)),Yt?(this._domNode.classList.remove(...a.kS.asClassNameArray(ut)),this._domNode.classList.add(...a.kS.asClassNameArray(Ut))):(this._domNode.classList.remove(...a.kS.asClassNameArray(Ut)),this._domNode.classList.add(...a.kS.asClassNameArray(ut)))}}(0,a.Ic)((ai,Yt)=>{const kt=(Rt,Vt)=>{Vt&&Yt.addRule(`.monaco-editor ${Rt} { background-color: ${Vt}; }`)};kt(".findMatch",ai.getColor(n.MUv)),kt(".currentFindMatch",ai.getColor(n.nyM)),kt(".findScope",ai.getColor(n.jUe)),kt(".find-widget",ai.getColor(n.D0T));const On=ai.getColor(n.rh);On&&Yt.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${On}; }`);const Fn=ai.getColor(n.EiJ);Fn&&Yt.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Kt.c3)(ai.type)?"dotted":"solid"} ${Fn}; box-sizing: border-box; }`);const dn=ai.getColor(n.pnM);dn&&Yt.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${dn}; padding: 1px; box-sizing: border-box; }`);const gt=ai.getColor(n.gkn);gt&&Yt.addRule(`.monaco-editor .findScope { border: 1px ${(0,Kt.c3)(ai.type)?"dashed":"solid"} ${gt}; }`);const sn=ai.getColor(n.lRK);sn&&Yt.addRule(`.monaco-editor .find-widget { border: 1px solid ${sn}; }`);const nn=ai.getColor(n.Hfx);nn&&Yt.addRule(`.monaco-editor .find-widget { color: ${nn}; }`);const xn=ai.getColor(n.Ido);xn&&Yt.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${xn}; }`);const Pn=ai.getColor(n.Ng6);if(Pn)Yt.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Pn}; }`);else{const Rt=ai.getColor(n.D1_);Rt&&Yt.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Rt}; }`)}const En=ai.getColor(n.lUq);En&&Yt.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${En} !important;\n\t\t}\n\t`);const ht=ai.getColor(n.R80);ht&&Yt.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${ht}; }`)});var Qt=e(74918),pt=e(25787),ft=e(50703),jt=e(14759),en=e(54436),rn=e(48190),gn=function(ai,Yt,kt,ln){var dn,On=arguments.length,Fn=On<3?Yt:null===ln?ln=Object.getOwnPropertyDescriptor(Yt,kt):ln;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fn=Reflect.decorate(ai,Yt,kt,ln);else for(var gt=ai.length-1;gt>=0;gt--)(dn=ai[gt])&&(Fn=(On<3?dn(Fn):On>3?dn(Yt,kt,Fn):dn(Yt,kt))||Fn);return On>3&&Fn&&Object.defineProperty(Yt,kt,Fn),Fn},An=function(ai,Yt){return function(kt,ln){Yt(kt,ln,ai)}},jn=function(ai,Yt,kt,ln){return new(kt||(kt=Promise))(function(Fn,dn){function gt(xn){try{nn(ln.next(xn))}catch(Pn){dn(Pn)}}function sn(xn){try{nn(ln.throw(xn))}catch(Pn){dn(Pn)}}function nn(xn){xn.done?Fn(xn.value):function On(Fn){return Fn instanceof kt?Fn:new kt(function(dn){dn(Fn)})}(xn.value).then(gt,sn)}nn((ln=ln.apply(ai,Yt||[])).next())})};function wi(ai,Yt="single",kt=!1){if(!ai.hasModel())return null;const ln=ai.getSelection();if("single"===Yt&&ln.startLineNumber===ln.endLineNumber||"multiple"===Yt)if(ln.isEmpty()){const On=ai.getConfiguredWordAtPosition(ln.getStartPosition());if(On&&!1===kt)return On.word}else if(ai.getModel().getValueLengthInRange(ln)<524288)return ai.getModel().getValueInRange(ln);return null}let xi=class Zc extends t.JT{constructor(Yt,kt,ln,On){super(),this._editor=Yt,this._findWidgetVisible=K.bindTo(kt),this._contextKeyService=kt,this._storageService=ln,this._clipboardService=On,this._updateHistoryDelayer=new d.vp(500),this._state=this._register(new pe),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Fn=>this._onStateChanged(Fn))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Fn=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Fn&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(Yt){return Yt.getContribution(Zc.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(Yt){this.saveQueryState(Yt),Yt.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),Yt.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(Yt){Yt.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),Yt.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),Yt.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),Yt.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!B.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const Yt=this._editor.getSelections();Yt.map(kt=>(1===kt.endColumn&&kt.endLineNumber>kt.startLineNumber&&(kt=kt.setEndPosition(kt.endLineNumber-1,this._editor.getModel().getLineMaxColumn(kt.endLineNumber-1))),kt.isEmpty()?null:kt)).filter(kt=>!!kt),Yt.length&&this._state.change({searchScope:Yt},!0)}}setSearchString(Yt){this._state.isRegex&&(Yt=l.ec(Yt)),this._state.change({searchString:Yt},!1)}highlightFindOptions(Yt=!1){}_start(Yt,kt){return jn(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const ln=Object.assign(Object.assign({},kt),{isRevealed:!0});if("single"===Yt.seedSearchStringFromSelection){const On=wi(this._editor,Yt.seedSearchStringFromSelection,Yt.seedSearchStringFromNonEmptySelection);On&&(ln.searchString=this._state.isRegex?l.ec(On):On)}else if("multiple"===Yt.seedSearchStringFromSelection&&!Yt.updateSearchScope){const On=wi(this._editor,Yt.seedSearchStringFromSelection);On&&(ln.searchString=On)}if(!ln.searchString&&Yt.seedSearchStringFromGlobalClipboard){const On=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;On&&(ln.searchString=On)}if(Yt.forceRevealReplace||ln.isReplaceRevealed?ln.isReplaceRevealed=!0:this._findWidgetVisible.get()||(ln.isReplaceRevealed=!1),Yt.updateSearchScope){const On=this._editor.getSelections();On.some(Fn=>!Fn.isEmpty())&&(ln.searchScope=On)}ln.loop=Yt.loop,this._state.change(ln,!1),this._model||(this._model=new Se(this._editor,this._state))})}start(Yt,kt){return this._start(Yt,kt)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return jn(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(Yt){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(Yt)}};xi.ID="editor.contrib.findController",xi=gn([An(1,U.i6),An(2,rn.Uy),An(3,pt.p)],xi);let no=class extends xi{constructor(Yt,kt,ln,On,Fn,dn,gt,sn){super(Yt,ln,gt,sn),this._contextViewService=kt,this._keybindingService=On,this._themeService=Fn,this._notificationService=dn,this._widget=null,this._findOptionsWidget=null}_start(Yt,kt){const ln=Object.create(null,{_start:{get:()=>super._start}});return jn(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const On=this._editor.getSelection();let Fn=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":Fn=!0;break;case"never":Fn=!1;break;case"multiline":Fn=!!On&&On.startLineNumber!==On.endLineNumber}Yt.updateSearchScope=Yt.updateSearchScope||Fn,yield ln._start.call(this,Yt,kt),this._widget&&(2===Yt.shouldFocus?this._widget.focusReplaceInput():1===Yt.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(Yt=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!Yt?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new mo(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new oe(this._editor,this._state,this._keybindingService,this._themeService))}};no=gn([An(1,ft.u),An(2,U.i6),An(3,jt.d),An(4,a.XE),An(5,en.lT),An(6,rn.Uy),An(7,pt.p)],no);const Oi=(0,S.rn)(new S.jY({id:"actions.find",label:tt.NC("startFindAction","Find"),alias:"Find",precondition:U.Ao.or(v.u.focus,U.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Qt.eH.MenubarEditMenu,group:"3_find",title:tt.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Oi.addImplementation(0,(ai,Yt,kt)=>{const ln=xi.get(Yt);return!!ln&&ln.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==Yt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Yt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:Yt.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:Yt.getOption(37).loop})});const Ki={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:tt.NC("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:tt.NC("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:tt.NC("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:tt.NC("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class ji extends S.R6{constructor(){super({id:"editor.actions.findWithArgs",label:tt.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Ki})}run(Yt,kt,ln){return jn(this,void 0,void 0,function*(){const On=xi.get(kt);if(On){const Fn=ln?{searchString:ln.searchString,replaceString:ln.replaceString,isReplaceRevealed:void 0!==ln.replaceString,isRegex:ln.isRegex,wholeWord:ln.matchWholeWord,matchCase:ln.isCaseSensitive,preserveCase:ln.preserveCase}:{};yield On.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===On.getState().searchString.length&&"never"!==kt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===kt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:ln?.findInSelection||!1,loop:kt.getOption(37).loop},Fn),On.setGlobalBufferTerm(On.getState().searchString)}})}}class co extends S.R6{constructor(){super({id:"actions.findWithSelection",label:tt.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(Yt,kt){return jn(this,void 0,void 0,function*(){const ln=xi.get(kt);ln&&(yield ln.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:kt.getOption(37).loop}),ln.setGlobalBufferTerm(ln.getState().searchString))})}}class yo extends S.R6{run(Yt,kt){return jn(this,void 0,void 0,function*(){const ln=xi.get(kt);ln&&!this._run(ln)&&(yield ln.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===ln.getState().searchString.length&&"never"!==kt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===kt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:kt.getOption(37).loop}),this._run(ln))})}}class Go extends yo{constructor(){super({id:"editor.action.nextMatchFindAction",label:tt.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:v.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:U.Ao.and(v.u.focus,B),primary:3,weight:100}]})}_run(Yt){return!!Yt.moveToNextMatch()&&(Yt.editor.pushUndoStop(),!0)}}class Po extends yo{constructor(){super({id:"editor.action.previousMatchFindAction",label:tt.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:v.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:U.Ao.and(v.u.focus,B),primary:1027,weight:100}]})}_run(Yt){return Yt.moveToPrevMatch()}}class wo extends S.R6{run(Yt,kt){return jn(this,void 0,void 0,function*(){const ln=xi.get(kt);if(!ln)return;const On="selection"===kt.getOption(37).seedSearchStringFromSelection;let Fn=null;"never"!==kt.getOption(37).seedSearchStringFromSelection&&(Fn=wi(kt,"single",On)),Fn&&ln.setSearchString(Fn),this._run(ln)||(yield ln.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==kt.getOption(37).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:On,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:kt.getOption(37).loop}),this._run(ln))})}}class Do extends wo{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:tt.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:v.u.focus,primary:2109,weight:100}})}_run(Yt){return Yt.moveToNextMatch()}}class to extends wo{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:tt.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:v.u.focus,primary:3133,weight:100}})}_run(Yt){return Yt.moveToPrevMatch()}}const vo=(0,S.rn)(new S.jY({id:"editor.action.startFindReplaceAction",label:tt.NC("startReplace","Replace"),alias:"Replace",precondition:U.Ao.or(v.u.focus,U.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Qt.eH.MenubarEditMenu,group:"3_find",title:tt.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));vo.addImplementation(0,(ai,Yt,kt)=>{if(!Yt.hasModel()||Yt.getOption(83))return!1;const ln=xi.get(Yt);if(!ln)return!1;const On=Yt.getSelection(),Fn=ln.isFindInputFocused(),dn=!On.isEmpty()&&On.startLineNumber===On.endLineNumber&&"never"!==Yt.getOption(37).seedSearchStringFromSelection&&!Fn,gt=Fn||dn?2:1;return ln.start({forceRevealReplace:!0,seedSearchStringFromSelection:dn?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Yt.getOption(37).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==Yt.getOption(37).seedSearchStringFromSelection,shouldFocus:gt,shouldAnimate:!0,updateSearchScope:!1,loop:Yt.getOption(37).loop})}),(0,S._K)(xi.ID,no),(0,S.Qr)(ji),(0,S.Qr)(co),(0,S.Qr)(Go),(0,S.Qr)(Po),(0,S.Qr)(Do),(0,S.Qr)(to);const Oo=S._l.bindToContribution(xi.get);(0,S.fK)(new Oo({id:"closeFindWidget",precondition:K,handler:ai=>ai.closeFindWidget(),kbOpts:{weight:105,kbExpr:U.Ao.and(v.u.focus,U.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,S.fK)(new Oo({id:"toggleFindCaseSensitive",precondition:void 0,handler:ai=>ai.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:$.primary,mac:$.mac,win:$.win,linux:$.linux}})),(0,S.fK)(new Oo({id:"toggleFindWholeWord",precondition:void 0,handler:ai=>ai.toggleWholeWords(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,S.fK)(new Oo({id:"toggleFindRegex",precondition:void 0,handler:ai=>ai.toggleRegex(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:ne.primary,mac:ne.mac,win:ne.win,linux:ne.linux}})),(0,S.fK)(new Oo({id:"toggleFindInSelection",precondition:void 0,handler:ai=>ai.toggleSearchScope(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:N.primary,mac:N.mac,win:N.win,linux:N.linux}})),(0,S.fK)(new Oo({id:"togglePreserveCase",precondition:void 0,handler:ai=>ai.togglePreserveCase(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:V.primary,mac:V.mac,win:V.win,linux:V.linux}})),(0,S.fK)(new Oo({id:"editor.action.replaceOne",precondition:K,handler:ai=>ai.replace(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:3094}})),(0,S.fK)(new Oo({id:"editor.action.replaceOne",precondition:K,handler:ai=>ai.replace(),kbOpts:{weight:105,kbExpr:U.Ao.and(v.u.focus,z),primary:3}})),(0,S.fK)(new Oo({id:"editor.action.replaceAll",precondition:K,handler:ai=>ai.replaceAll(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:2563}})),(0,S.fK)(new Oo({id:"editor.action.replaceAll",precondition:K,handler:ai=>ai.replaceAll(),kbOpts:{weight:105,kbExpr:U.Ao.and(v.u.focus,z),primary:void 0,mac:{primary:2051}}})),(0,S.fK)(new Oo({id:"editor.action.selectAllMatches",precondition:K,handler:ai=>ai.selectAllMatches(),kbOpts:{weight:105,kbExpr:v.u.focus,primary:515}}))},87145:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{FoldingController:()=>be,editorFoldForeground:()=>si,foldBackgroundBackground:()=>mo});var d=e(48648),t=e(4125),l=e(53993),S=e(80142),v=e(73879),T=e(72715),C=e(57856),E=e.n(C),L=e(38470),_=e.n(L),s=e(43370),m=e.n(s),c=e(28458),n=e.n(c),a=e(71278),p=e.n(a),u=e(29488),g=e.n(u),b=e(75697),y={};y.styleTagTransform=g(),y.setAttributes=n(),y.insert=m().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=p(),E()(b.Z,y);var I=e(46780),P=e(26845),O=e(82290),H=e(45337),U=e(94911),K=e(3778);const B=16777215,z=4278190080;class ${constructor(pt){const ft=Math.ceil(pt/32);this._states=new Uint32Array(ft)}get(pt){return 0!=(this._states[pt/32|0]&1<<pt%32)}set(pt,ft){const jt=pt/32|0,en=pt%32,rn=this._states[jt];this._states[jt]=ft?rn|1<<en:rn&~(1<<en)}}class j{constructor(pt,ft,jt){if(this.sourceAbbr={0:" ",1:"u",2:"r"},pt.length!==ft.length||pt.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=pt,this._endIndexes=ft,this._collapseStates=new $(pt.length),this._userDefinedStates=new $(pt.length),this._recoveredStates=new $(pt.length),this._types=jt,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const pt=[],ft=(jt,en)=>{const rn=pt[pt.length-1];return this.getStartLineNumber(rn)<=jt&&this.getEndLineNumber(rn)>=en};for(let jt=0,en=this._startIndexes.length;jt<en;jt++){const rn=this._startIndexes[jt],gn=this._endIndexes[jt];if(rn>B||gn>B)throw new Error("startLineNumber or endLineNumber must not exceed "+B);for(;pt.length>0&&!ft(rn,gn);)pt.pop();const An=pt.length>0?pt[pt.length-1]:-1;pt.push(jt),this._startIndexes[jt]=rn+((255&An)<<24),this._endIndexes[jt]=gn+((65280&An)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(pt){return this._startIndexes[pt]&B}getEndLineNumber(pt){return this._endIndexes[pt]&B}getType(pt){return this._types?this._types[pt]:void 0}hasTypes(){return!!this._types}isCollapsed(pt){return this._collapseStates.get(pt)}setCollapsed(pt,ft){this._collapseStates.set(pt,ft)}isUserDefined(pt){return this._userDefinedStates.get(pt)}setUserDefined(pt,ft){return this._userDefinedStates.set(pt,ft)}isRecovered(pt){return this._recoveredStates.get(pt)}setRecovered(pt,ft){return this._recoveredStates.set(pt,ft)}getSource(pt){return this.isUserDefined(pt)?1:this.isRecovered(pt)?2:0}setSource(pt,ft){1===ft?(this.setUserDefined(pt,!0),this.setRecovered(pt,!1)):2===ft?(this.setUserDefined(pt,!1),this.setRecovered(pt,!0)):(this.setUserDefined(pt,!1),this.setRecovered(pt,!1))}setCollapsedAllOfType(pt,ft){let jt=!1;if(this._types)for(let en=0;en<this._types.length;en++)this._types[en]===pt&&(this.setCollapsed(en,ft),jt=!0);return jt}toRegion(pt){return new ne(this,pt)}getParentIndex(pt){this.ensureParentIndices();const ft=((this._startIndexes[pt]&z)>>>24)+((this._endIndexes[pt]&z)>>>16);return 65535===ft?-1:ft}contains(pt,ft){return this.getStartLineNumber(pt)<=ft&&this.getEndLineNumber(pt)>=ft}findIndex(pt){let ft=0,jt=this._startIndexes.length;if(0===jt)return-1;for(;ft<jt;){const en=Math.floor((ft+jt)/2);pt<this.getStartLineNumber(en)?jt=en:ft=en+1}return ft-1}findRange(pt){let ft=this.findIndex(pt);if(ft>=0){if(this.getEndLineNumber(ft)>=pt)return ft;for(ft=this.getParentIndex(ft);-1!==ft;){if(this.contains(ft,pt))return ft;ft=this.getParentIndex(ft)}}return-1}toString(){const pt=[];for(let ft=0;ft<this.length;ft++)pt[ft]=`[${this.sourceAbbr[this.getSource(ft)]}${this.isCollapsed(ft)?"+":"-"}] ${this.getStartLineNumber(ft)}/${this.getEndLineNumber(ft)}`;return pt.join(", ")}toFoldRange(pt){return{startLineNumber:this._startIndexes[pt]&B,endLineNumber:this._endIndexes[pt]&B,type:this._types?this._types[pt]:void 0,isCollapsed:this.isCollapsed(pt),source:this.getSource(pt)}}static fromFoldRanges(pt){const ft=pt.length,jt=new Uint32Array(ft),en=new Uint32Array(ft);let rn=[],gn=!1;for(let jn=0;jn<ft;jn++){const Qn=pt[jn];jt[jn]=Qn.startLineNumber,en[jn]=Qn.endLineNumber,rn.push(Qn.type),Qn.type&&(gn=!0)}gn||(rn=void 0);const An=new j(jt,en,rn);for(let jn=0;jn<ft;jn++)pt[jn].isCollapsed&&An.setCollapsed(jn,!0),An.setSource(jn,pt[jn].source);return An}static sanitizeAndMerge(pt,ft,jt){jt=jt??Number.MAX_VALUE;const en=(ji,co)=>Array.isArray(ji)?yo=>yo<co?ji[yo]:void 0:yo=>yo<co?ji.toFoldRange(yo):void 0,rn=en(pt,pt.length),gn=en(ft,ft.length);let An=0,jn=0,Qn=rn(0),wi=gn(0);const xi=[];let no,Oi=0;const Ki=[];for(;Qn||wi;){let ji;if(wi&&(!Qn||Qn.startLineNumber>=wi.startLineNumber))Qn&&Qn.startLineNumber===wi.startLineNumber?(1===wi.source?ji=wi:(ji=Qn,ji.isCollapsed=wi.isCollapsed&&Qn.endLineNumber===wi.endLineNumber,ji.source=0),Qn=rn(++An)):(ji=wi,wi.isCollapsed&&0===wi.source&&(ji.source=2)),wi=gn(++jn);else{let co=jn,yo=wi;for(;;){if(!yo||yo.startLineNumber>Qn.endLineNumber){ji=Qn;break}if(1===yo.source&&yo.endLineNumber>Qn.endLineNumber)break;yo=gn(++co)}Qn=rn(++An)}if(ji){for(;no&&no.endLineNumber<ji.startLineNumber;)no=xi.pop();ji.endLineNumber>ji.startLineNumber&&ji.startLineNumber>Oi&&ji.endLineNumber<=jt&&(!no||no.endLineNumber>=ji.endLineNumber)&&(Ki.push(ji),Oi=ji.startLineNumber,no&&xi.push(no),no=ji)}}return Ki}}class ne{constructor(pt,ft){this.ranges=pt,this.index=ft}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(pt){return pt.startLineNumber<=this.startLineNumber&&pt.endLineNumber>=this.endLineNumber}containsLine(pt){return this.startLineNumber<=pt&&pt<=this.endLineNumber}}var N=e(7626);class V{constructor(pt,ft){this._updateEventEmitter=new K.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=pt,this._decorationProvider=ft,this._regions=new j(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(pt){if(!pt.length)return;pt=pt.sort((jt,en)=>jt.regionIndex-en.regionIndex);const ft={};this._decorationProvider.changeDecorations(jt=>{let en=0,rn=-1,gn=-1;const An=jn=>{for(;en<jn;){const Qn=this._regions.getEndLineNumber(en),wi=this._regions.isCollapsed(en);if(Qn<=rn){const xi=0!==this.regions.getSource(en);jt.changeDecorationOptions(this._editorDecorationIds[en],this._decorationProvider.getDecorationOption(wi,Qn<=gn,xi))}wi&&Qn>gn&&(gn=Qn),en++}};for(const jn of pt){const Qn=jn.regionIndex,wi=this._editorDecorationIds[Qn];if(wi&&!ft[wi]){ft[wi]=!0,An(Qn);const xi=!this._regions.isCollapsed(Qn);this._regions.setCollapsed(Qn,xi),rn=Math.max(rn,this._regions.getEndLineNumber(Qn))}}An(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:pt})}removeManualRanges(pt){const ft=new Array,jt=en=>{for(const rn of pt)if(!(rn.startLineNumber>en.endLineNumber||en.startLineNumber>rn.endLineNumber))return!0;return!1};for(let en=0;en<this._regions.length;en++){const rn=this._regions.toFoldRange(en);(0===rn.source||!jt(rn))&&ft.push(rn)}this.updatePost(j.fromFoldRanges(ft))}update(pt,ft=[]){const jt=this._currentFoldedOrManualRanges(ft),en=j.sanitizeAndMerge(pt,jt,this._textModel.getLineCount());this.updatePost(j.fromFoldRanges(en))}updatePost(pt){const ft=[];let jt=-1;for(let en=0,rn=pt.length;en<rn;en++){const gn=pt.getStartLineNumber(en),An=pt.getEndLineNumber(en),jn=pt.isCollapsed(en),Qn=0!==pt.getSource(en),wi={startLineNumber:gn,startColumn:this._textModel.getLineMaxColumn(gn),endLineNumber:An,endColumn:this._textModel.getLineMaxColumn(An)+1};ft.push({range:wi,options:this._decorationProvider.getDecorationOption(jn,An<=jt,Qn)}),jn&&An>jt&&(jt=An)}this._decorationProvider.changeDecorations(en=>this._editorDecorationIds=en.deltaDecorations(this._editorDecorationIds,ft)),this._regions=pt,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(pt=[]){const ft=(en,rn)=>{for(const gn of pt)if(en<gn&&gn<=rn)return!0;return!1},jt=[];for(let en=0,rn=this._regions.length;en<rn;en++){let gn=this.regions.isCollapsed(en);const An=this.regions.getSource(en);if(gn||0!==An){const jn=this._regions.toFoldRange(en),Qn=this._textModel.getDecorationRange(this._editorDecorationIds[en]);Qn&&(gn&&(ft(Qn.startLineNumber,Qn.endLineNumber)||Qn.endLineNumber-Qn.startLineNumber!=jn.endLineNumber-jn.startLineNumber)&&(gn=!1),jt.push({startLineNumber:Qn.startLineNumber,endLineNumber:Qn.endLineNumber,type:jn.type,isCollapsed:gn,source:An}))}}return jt}getMemento(){const pt=this._currentFoldedOrManualRanges(),ft=[];for(let jt=0,en=pt.length;jt<en;jt++){const rn=pt[jt],gn=this._getLinesChecksum(rn.startLineNumber+1,rn.endLineNumber);ft.push({startLineNumber:rn.startLineNumber,endLineNumber:rn.endLineNumber,isCollapsed:rn.isCollapsed,source:rn.source,checksum:gn})}return ft.length>0?ft:void 0}applyMemento(pt){var ft,jt;if(!Array.isArray(pt))return;const en=[],rn=this._textModel.getLineCount();for(const An of pt){if(An.startLineNumber>=An.endLineNumber||An.startLineNumber<1||An.endLineNumber>rn)continue;const jn=this._getLinesChecksum(An.startLineNumber+1,An.endLineNumber);(!An.checksum||jn===An.checksum)&&en.push({startLineNumber:An.startLineNumber,endLineNumber:An.endLineNumber,type:void 0,isCollapsed:null===(ft=An.isCollapsed)||void 0===ft||ft,source:null!==(jt=An.source)&&void 0!==jt?jt:0})}const gn=j.sanitizeAndMerge(this._regions,en,rn);this.updatePost(j.fromFoldRanges(gn))}_getLinesChecksum(pt,ft){return(0,N.vp)(this._textModel.getLineContent(pt)+this._textModel.getLineContent(ft))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(pt,ft){const jt=[];if(this._regions){let en=this._regions.findRange(pt),rn=1;for(;en>=0;){const gn=this._regions.toRegion(en);(!ft||ft(gn,rn))&&jt.push(gn),rn++,en=gn.parentIndex}}return jt}getRegionAtLine(pt){if(this._regions){const ft=this._regions.findRange(pt);if(ft>=0)return this._regions.toRegion(ft)}return null}getRegionsInside(pt,ft){const jt=[],en=pt?pt.regionIndex+1:0,rn=pt?pt.endLineNumber:Number.MAX_VALUE;if(ft&&2===ft.length){const gn=[];for(let An=en,jn=this._regions.length;An<jn;An++){const Qn=this._regions.toRegion(An);if(!(this._regions.getStartLineNumber(An)<rn))break;for(;gn.length>0&&!Qn.containedBy(gn[gn.length-1]);)gn.pop();gn.push(Qn),ft(Qn,gn.length)&&jt.push(Qn)}}else for(let gn=en,An=this._regions.length;gn<An;gn++){const jn=this._regions.toRegion(gn);if(!(this._regions.getStartLineNumber(gn)<rn))break;(!ft||ft(jn))&&jt.push(jn)}return jt}}function fe(Qt,pt,ft=Number.MAX_VALUE,jt){const en=[];if(jt&&jt.length>0)for(const rn of jt){const gn=Qt.getRegionAtLine(rn);if(gn&&(gn.isCollapsed!==pt&&en.push(gn),ft>1)){const An=Qt.getRegionsInside(gn,(jn,Qn)=>jn.isCollapsed!==pt&&Qn<ft);en.push(...An)}}else{const rn=Qt.getRegionsInside(null,(gn,An)=>gn.isCollapsed!==pt&&An<ft);en.push(...rn)}Qt.toggleCollapseState(en)}function M(Qt,pt,ft,jt){const en=[];for(const rn of jt){const gn=Qt.getAllRegionsAtLine(rn,(An,jn)=>An.isCollapsed!==pt&&jn<=ft);en.push(...gn)}Qt.toggleCollapseState(en)}function Le(Qt,pt,ft){const jt=[];for(const gn of ft){const An=Qt.getAllRegionsAtLine(gn,void 0);An.length>0&&jt.push(An[0])}const rn=Qt.getRegionsInside(null,gn=>jt.every(An=>!An.containedBy(gn)&&!gn.containedBy(An))&&gn.isCollapsed!==pt);Qt.toggleCollapseState(rn)}function Ne(Qt,pt,ft){const jt=Qt.textModel,en=Qt.regions,rn=[];for(let gn=en.length-1;gn>=0;gn--)if(ft!==en.isCollapsed(gn)){const An=en.getStartLineNumber(gn);pt.test(jt.getLineContent(An))&&rn.push(en.toRegion(gn))}Qt.toggleCollapseState(rn)}function oe(Qt,pt,ft){const jt=Qt.regions,en=[];for(let rn=jt.length-1;rn>=0;rn--)ft!==jt.isCollapsed(rn)&&pt===jt.getType(rn)&&en.push(jt.toRegion(rn));Qt.toggleCollapseState(en)}var Te=e(64023),de=e(98570),ke=e(93169);class ze{constructor(pt){this._updateEventEmitter=new K.Q5,this._hasLineChanges=!1,this._foldingModel=pt,this._foldingModelListener=pt.onDidChange(ft=>this.updateHiddenRanges()),this._hiddenRanges=[],pt.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(pt){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=pt.changes.some(ft=>ft.range.endLineNumber!==ft.range.startLineNumber||0!==(0,ke.Q)(ft.text)[0]))}updateHiddenRanges(){let pt=!1;const ft=[];let jt=0,en=0,rn=Number.MAX_VALUE,gn=-1;const An=this._foldingModel.regions;for(;jt<An.length;jt++){if(!An.isCollapsed(jt))continue;const jn=An.getStartLineNumber(jt)+1,Qn=An.getEndLineNumber(jt);rn<=jn&&Qn<=gn||(!pt&&en<this._hiddenRanges.length&&this._hiddenRanges[en].startLineNumber===jn&&this._hiddenRanges[en].endLineNumber===Qn?(ft.push(this._hiddenRanges[en]),en++):(pt=!0,ft.push(new de.e(jn,1,Qn,1))),rn=jn,gn=Qn)}(this._hasLineChanges||pt||en<this._hiddenRanges.length)&&this.applyHiddenRanges(ft)}applyHiddenRanges(pt){this._hiddenRanges=pt,this._hasLineChanges=!1,this._updateEventEmitter.fire(pt)}hasRanges(){return this._hiddenRanges.length>0}isHidden(pt){return null!==ce(this._hiddenRanges,pt)}adjustSelections(pt){let ft=!1;const jt=this._foldingModel.textModel;let en=null;const rn=gn=>((!en||!function $e(Qt,pt){return Qt>=pt.startLineNumber&&Qt<=pt.endLineNumber}(gn,en))&&(en=ce(this._hiddenRanges,gn)),en?en.startLineNumber-1:null);for(let gn=0,An=pt.length;gn<An;gn++){let jn=pt[gn];const Qn=rn(jn.startLineNumber);Qn&&(jn=jn.setStartPosition(Qn,jt.getLineMaxColumn(Qn)),ft=!0);const wi=rn(jn.endLineNumber);wi&&(jn=jn.setEndPosition(wi,jt.getLineMaxColumn(wi)),ft=!0),pt[gn]=jn}return ft}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function ce(Qt,pt){const ft=(0,Te.lG)(Qt,jt=>pt<jt.startLineNumber)-1;return ft>=0&&Qt[ft].endLineNumber>=pt?Qt[ft]:null}var Ue=e(24927);class Lt{constructor(pt,ft,jt){this.editorModel=pt,this.languageConfigurationService=ft,this.maxFoldingRegions=jt,this.id="indent"}dispose(){}compute(pt,ft){const jt=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function ae(Qt,pt,ft,jt,en){const rn=Qt.getOptions().tabSize,gn=new Ze(jt=jt??5e3,en);let An;ft&&(An=new RegExp(`(${ft.start.source})|(?:${ft.end.source})`));const jn=[],Qn=Qt.getLineCount()+1;jn.push({indent:-1,endAbove:Qn,line:Qn});for(let wi=Qt.getLineCount();wi>0;wi--){const xi=Qt.getLineContent(wi),no=(0,Ue.q)(xi,rn);let Ki,Oi=jn[jn.length-1];if(-1!==no){if(An&&(Ki=xi.match(An))){if(!Ki[1]){jn.push({indent:-2,endAbove:wi,line:wi});continue}{let ji=jn.length-1;for(;ji>0&&-2!==jn[ji].indent;)ji--;if(ji>0){jn.length=ji+1,Oi=jn[ji],gn.insertFirst(wi,Oi.line,no),Oi.line=wi,Oi.indent=no,Oi.endAbove=wi;continue}}}if(Oi.indent>no){do{jn.pop(),Oi=jn[jn.length-1]}while(Oi.indent>no);const ji=Oi.endAbove-1;ji-wi>=1&&gn.insertFirst(wi,ji,no)}Oi.indent===no?Oi.endAbove=wi:jn.push({indent:no,endAbove:wi,line:wi})}else pt&&(Oi.endAbove=wi)}return gn.toIndentRanges(Qt)}(this.editorModel,jt&&!!jt.offSide,jt&&jt.markers,this.maxFoldingRegions,ft))}}class Ze{constructor(pt,ft){this._notifyTooManyRegions=ft,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=pt}insertFirst(pt,ft,jt){if(pt>B||ft>B)return;const en=this._length;this._startIndexes[en]=pt,this._endIndexes[en]=ft,this._length++,jt<1e3&&(this._indentOccurrences[jt]=(this._indentOccurrences[jt]||0)+1)}toIndentRanges(pt){var ft;if(this._length<=this._foldingRangesLimit){const jt=new Uint32Array(this._length),en=new Uint32Array(this._length);for(let rn=this._length-1,gn=0;rn>=0;rn--,gn++)jt[gn]=this._startIndexes[rn],en[gn]=this._endIndexes[rn];return new j(jt,en)}{null===(ft=this._notifyTooManyRegions)||void 0===ft||ft.call(this,this._foldingRangesLimit);let jt=0,en=this._indentOccurrences.length;for(let jn=0;jn<this._indentOccurrences.length;jn++){const Qn=this._indentOccurrences[jn];if(Qn){if(Qn+jt>this._foldingRangesLimit){en=jn;break}jt+=Qn}}const rn=pt.getOptions().tabSize,gn=new Uint32Array(this._foldingRangesLimit),An=new Uint32Array(this._foldingRangesLimit);for(let jn=this._length-1,Qn=0;jn>=0;jn--){const wi=this._startIndexes[jn],xi=pt.getLineContent(wi),no=(0,Ue.q)(xi,rn);(no<en||no===en&&jt++<this._foldingRangesLimit)&&(gn[Qn]=wi,An[Qn]=this._endIndexes[jn],Qn++)}return new j(gn,An)}}}var _e=e(55197),he=e(16468),le=e(4062),Q=e(40902),ve=e(58783),Ae=e(59758),dt=e(66287);const st=(0,dt.q5)("folding-expanded",ve.lA.chevronDown,(0,_e.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),et=(0,dt.q5)("folding-collapsed",ve.lA.chevronRight,(0,_e.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),Qe=(0,dt.q5)("folding-manual-collapsed",et,(0,_e.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),tt=(0,dt.q5)("folding-manual-expanded",st,(0,_e.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class vt{constructor(pt){this.editor=pt,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(pt,ft,jt){return ft||"never"===this.showFoldingControls?vt.HIDDEN_RANGE_DECORATION:pt?jt?this.showFoldingHighlights?vt.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:vt.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?vt.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:vt.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?jt?vt.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:vt.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:jt?vt.MANUALLY_EXPANDED_VISUAL_DECORATION:vt.EXPANDED_VISUAL_DECORATION}changeDecorations(pt){return this.editor.changeDecorations(pt)}removeDecorations(pt){this.editor.removeDecorations(pt)}}vt.COLLAPSED_VISUAL_DECORATION=Ae.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(et)}),vt.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ae.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(et)}),vt.MANUALLY_COLLAPSED_VISUAL_DECORATION=Ae.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(st)}),vt.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ae.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(Qe)}),vt.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ae.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(st)}),vt.EXPANDED_VISUAL_DECORATION=Ae.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(st)}),vt.MANUALLY_EXPANDED_VISUAL_DECORATION=Ae.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+Q.kS.asClassName(tt)}),vt.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ae.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:Q.kS.asClassName(tt)}),vt.HIDDEN_RANGE_DECORATION=Ae.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const mt={};class Kt{constructor(pt,ft,jt,en){this.editorModel=pt,this.providers=ft,this.limit=en,this.id="syntax";for(const rn of ft)"function"==typeof rn.onDidChange&&(this.disposables||(this.disposables=new S.SL),this.disposables.add(rn.onDidChange(jt)))}compute(pt,ft){return function Bt(Qt,pt,ft){let jt=null;const en=Qt.map((rn,gn)=>Promise.resolve(rn.provideFoldingRanges(pt,mt,ft)).then(An=>{if(!ft.isCancellationRequested&&Array.isArray(An)){Array.isArray(jt)||(jt=[]);const jn=pt.getLineCount();for(const Qn of An)Qn.start>0&&Qn.end>Qn.start&&Qn.end<=jn&&jt.push({start:Qn.start,end:Qn.end,rank:gn,kind:Qn.kind})}},t.Cp));return Promise.all(en).then(rn=>jt)}(this.providers,this.editorModel,pt).then(jt=>jt?function ut(Qt,pt,ft){const jt=Qt.sort((An,jn)=>{let Qn=An.start-jn.start;return 0===Qn&&(Qn=An.rank-jn.rank),Qn}),en=new Ge(pt,ft);let rn;const gn=[];for(const An of jt)if(rn){if(An.start>rn.start)if(An.end<=rn.end)gn.push(rn),rn=An,en.add(An.start,An.end,An.kind&&An.kind.value,gn.length);else{if(An.start>rn.end){do{rn=gn.pop()}while(rn&&An.start>rn.end);rn&&gn.push(rn),rn=An}en.add(An.start,An.end,An.kind&&An.kind.value,gn.length)}}else rn=An,en.add(An.start,An.end,An.kind&&An.kind.value,gn.length);return en.toIndentRanges()}(jt,this.limit,ft):null)}dispose(){var pt;null===(pt=this.disposables)||void 0===pt||pt.dispose()}}class Ge{constructor(pt,ft){this._notifyTooManyRegions=ft,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=pt}add(pt,ft,jt,en){if(pt>B||ft>B)return;const rn=this._length;this._startIndexes[rn]=pt,this._endIndexes[rn]=ft,this._nestingLevels[rn]=en,this._types[rn]=jt,this._length++,en<30&&(this._nestingLevelCounts[en]=(this._nestingLevelCounts[en]||0)+1)}toIndentRanges(){var pt;if(this._length<=this._foldingRangesLimit){const ft=new Uint32Array(this._length),jt=new Uint32Array(this._length);for(let en=0;en<this._length;en++)ft[en]=this._startIndexes[en],jt[en]=this._endIndexes[en];return new j(ft,jt,this._types)}{null===(pt=this._notifyTooManyRegions)||void 0===pt||pt.call(this,this._foldingRangesLimit);let ft=0,jt=this._nestingLevelCounts.length;for(let An=0;An<this._nestingLevelCounts.length;An++){const jn=this._nestingLevelCounts[An];if(jn){if(jn+ft>this._foldingRangesLimit){jt=An;break}ft+=jn}}const en=new Uint32Array(this._foldingRangesLimit),rn=new Uint32Array(this._foldingRangesLimit),gn=[];for(let An=0,jn=0;An<this._length;An++){const Qn=this._nestingLevels[An];(Qn<jt||Qn===jt&&ft++<this._foldingRangesLimit)&&(en[jn]=this._startIndexes[An],rn[jn]=this._endIndexes[An],gn[jn]=this._types[An],jn++)}return new j(en,rn,gn)}}}var Ut=e(54436),hn=e(50819),Dn=e(79095),wt=e(631),je=e(90790),Me=function(Qt,pt){return function(ft,jt){pt(ft,jt,Qt)}};const ue=new he.uy("foldingEnabled",!1);let be=class Qc extends S.JT{constructor(pt,ft,jt,en,rn,gn){super(),this.contextKeyService=ft,this.languageConfigurationService=jt,this.languageFeaturesService=gn,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new S.SL),this.editor=pt;const An=this.editor.getOptions();this._isEnabled=An.get(39),this._useFoldingProviders="indentation"!==An.get(40),this._unfoldOnClickAfterEndOfLine=An.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=An.get(42),this._maxFoldingRegions=An.get(43),this.updateDebounceInfo=rn.for(gn.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new vt(pt),this.foldingDecorationProvider.showFoldingControls=An.get(101),this.foldingDecorationProvider.showFoldingHighlights=An.get(41),this.foldingEnabled=ue.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=jn=>{this._tooManyRegionsNotified||(en.notify({severity:hn.Z.Warning,sticky:!0,message:_e.NC("maximum fold ranges","The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?[\"editor.foldingMaximumRegions\"]) to enable more.",jn)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(jn=>{if(jn.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),jn.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),jn.hasChanged(101)||jn.hasChanged(41)){const Qn=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=Qn.get(101),this.foldingDecorationProvider.showFoldingHighlights=Qn.get(41),this.triggerFoldingModelChanged()}jn.hasChanged(40)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(40),this.onFoldingStrategyChanged()),jn.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),jn.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(pt){return pt.getContribution(Qc.ID)}saveViewState(){const pt=this.editor.getModel();if(!pt||!this._isEnabled||pt.isTooLargeForTokenization())return{};if(this.foldingModel){const ft=this.foldingModel.getMemento(),jt=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:ft,lineCount:pt.getLineCount(),provider:jt,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(pt){const ft=this.editor.getModel();if(ft&&this._isEnabled&&!ft.isTooLargeForTokenization()&&this.hiddenRangeModel&&pt&&pt.lineCount===ft.getLineCount()&&(this._currentModelHasFoldedImports=!!pt.foldedImports,pt.collapsedRegions&&pt.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(pt.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const pt=this.editor.getModel();!this._isEnabled||!pt||pt.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new V(pt,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new ze(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(ft=>this.onHiddenRangesChanges(ft))),this.updateScheduler=new d.vp(this.updateDebounceInfo.get(pt)),this.cursorChangedScheduler=new d.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(ft=>this.onDidChangeModelContent(ft))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(ft=>this.onEditorMouseDown(ft))),this.localToDispose.add(this.editor.onMouseUp(ft=>this.onEditorMouseUp(ft))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(pt){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new Lt(pt,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const ft=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);ft.length>0&&(this.rangeProvider=new Kt(pt,ft,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(pt){var ft;null===(ft=this.hiddenRangeModel)||void 0===ft||ft.notifyChangeModelContent(pt),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const pt=this.foldingModel;if(!pt)return null;const ft=new wt.G(!0),jt=this.getRangeProvider(pt.textModel),en=this.foldingRegionPromise=(0,d.PG)(rn=>jt.compute(rn,this._notifyTooManyRegions));return en.then(rn=>{if(rn&&en===this.foldingRegionPromise){let gn;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const wi=rn.setCollapsedAllOfType(H.AD.Imports.value,!0);wi&&(gn=I.Z.capture(this.editor),this._currentModelHasFoldedImports=wi)}const An=this.editor.getSelections(),jn=An?An.map(wi=>wi.startLineNumber):[];pt.update(rn,jn),gn?.restore(this.editor);const Qn=this.updateDebounceInfo.update(pt.textModel,ft.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Qn)}return pt})}).then(void 0,pt=>((0,t.dL)(pt),null)))}onHiddenRangesChanges(pt){if(this.hiddenRangeModel&&pt.length&&!this._restoringViewState){const ft=this.editor.getSelections();ft&&this.hiddenRangeModel.adjustSelections(ft)&&this.editor.setSelections(ft)}this.editor.setHiddenAreas(pt)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const pt=this.getFoldingModel();!pt||pt.then(ft=>{if(ft){const jt=this.editor.getSelections();if(jt&&jt.length>0){const en=[];for(const rn of jt){const gn=rn.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(gn)&&en.push(...ft.getAllRegionsAtLine(gn,An=>An.isCollapsed&&gn>An.startLineNumber))}en.length&&(ft.toggleCollapseState(en),this.reveal(jt[0].getPosition()))}}}).then(void 0,t.dL)}onEditorMouseDown(pt){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!pt.target||!pt.target.range||!pt.event.leftButton&&!pt.event.middleButton)return;const ft=pt.target.range;let jt=!1;switch(pt.target.type){case 4:if(pt.target.detail.offsetX-pt.target.element.offsetLeft<5)return;jt=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!pt.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){const en=this.editor.getModel();if(en&&ft.startColumn===en.getLineMaxColumn(ft.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:ft.startLineNumber,iconClicked:jt}}onEditorMouseUp(pt){const ft=this.foldingModel;if(!ft||!this.mouseDownInfo||!pt.target)return;const jt=this.mouseDownInfo.lineNumber,en=this.mouseDownInfo.iconClicked,rn=pt.target.range;if(!rn||rn.startLineNumber!==jt)return;if(en){if(4!==pt.target.type)return}else{const An=this.editor.getModel();if(!An||rn.startColumn!==An.getLineMaxColumn(jt))return}const gn=ft.getRegionAtLine(jt);if(gn&&gn.startLineNumber===jt){const An=gn.isCollapsed;if(en||An){let Qn=[];if(pt.event.altKey){const xi=ft.getRegionsInside(null,no=>!no.containedBy(gn)&&!gn.containedBy(no));for(const no of xi)no.isCollapsed&&Qn.push(no);0===Qn.length&&(Qn=xi)}else{const wi=pt.event.middleButton||pt.event.shiftKey;if(wi)for(const xi of ft.getRegionsInside(gn))xi.isCollapsed===An&&Qn.push(xi);(An||!wi||0===Qn.length)&&Qn.push(gn)}ft.toggleCollapseState(Qn),this.reveal({lineNumber:jt,column:1})}}}reveal(pt){this.editor.revealPositionInCenterIfOutsideViewport(pt,0)}};be.ID="editor.contrib.folding",be=function(Qt,pt,ft,jt){var gn,en=arguments.length,rn=en<3?pt:null===jt?jt=Object.getOwnPropertyDescriptor(pt,ft):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)rn=Reflect.decorate(Qt,pt,ft,jt);else for(var An=Qt.length-1;An>=0;An--)(gn=Qt[An])&&(rn=(en<3?gn(rn):en>3?gn(pt,ft,rn):gn(pt,ft))||rn);return en>3&&rn&&Object.defineProperty(pt,ft,rn),rn}([Me(1,he.i6),Me(2,U.c_),Me(3,Ut.lT),Me(4,Dn.A),Me(5,je.p)],be);class qe extends P.R6{runEditorCommand(pt,ft,jt){const en=pt.get(U.c_),rn=be.get(ft);if(!rn)return;const gn=rn.getFoldingModel();return gn?(this.reportTelemetry(pt,ft),gn.then(An=>{if(An){this.invoke(rn,An,ft,jt,en);const jn=ft.getSelection();jn&&rn.reveal(jn.getStartPosition())}})):void 0}getSelectedLines(pt){const ft=pt.getSelections();return ft?ft.map(jt=>jt.startLineNumber):[]}getLineNumbers(pt,ft){return pt&&pt.selectionLines?pt.selectionLines.map(jt=>jt+1):this.getSelectedLines(ft)}run(pt,ft){}}function Fe(Qt){if(!T.o8(Qt)){if(!T.Kn(Qt))return!1;const pt=Qt;if(!T.o8(pt.levels)&&!T.hj(pt.levels)||!T.o8(pt.direction)&&!T.HD(pt.direction)||!T.o8(pt.selectionLines)&&(!T.kJ(pt.selectionLines)||!pt.selectionLines.every(T.hj)))return!1}return!0}let Li=(()=>{class Qt extends qe{getFoldingLevel(){return parseInt(this.id.substr(Qt.ID_PREFIX.length))}invoke(ft,jt,en){!function Ee(Qt,pt,ft,jt){const rn=Qt.getRegionsInside(null,(gn,An)=>An===pt&&gn.isCollapsed!==ft&&!jt.some(jn=>gn.containsLine(jn)));Qt.toggleCollapseState(rn)}(jt,this.getFoldingLevel(),!0,this.getSelectedLines(en))}}return Qt.ID_PREFIX="editor.foldLevel",Qt.ID=pt=>Qt.ID_PREFIX+pt,Qt})();(0,P._K)(be.ID,be),(0,P.Qr)(class ot extends qe{constructor(){super({id:"editor.unfold",label:_e.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:Fe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(pt,ft,jt,en){const rn=en&&en.levels||1,gn=this.getLineNumbers(en,jt);en&&"up"===en.direction?M(ft,!1,rn,gn):fe(ft,!1,rn,gn)}}),(0,P.Qr)(class bt extends qe{constructor(){super({id:"editor.unfoldRecursively",label:_e.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2137),weight:100}})}invoke(pt,ft,jt,en){fe(ft,!1,Number.MAX_VALUE,this.getSelectedLines(jt))}}),(0,P.Qr)(class Ht extends qe{constructor(){super({id:"editor.fold",label:_e.NC("foldAction.label","Fold"),alias:"Fold",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:Fe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(pt,ft,jt,en){const rn=this.getLineNumbers(en,jt),gn=en&&en.levels,An=en&&en.direction;"number"!=typeof gn&&"string"!=typeof An?function Se(Qt,pt,ft){const jt=[];for(const en of ft){const rn=Qt.getAllRegionsAtLine(en,gn=>gn.isCollapsed!==pt);rn.length>0&&jt.push(rn[0])}Qt.toggleCollapseState(jt)}(ft,!0,rn):"up"===An?M(ft,!0,gn||1,rn):fe(ft,!0,gn||1,rn)}}),(0,P.Qr)(class Mn extends qe{constructor(){super({id:"editor.foldRecursively",label:_e.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2135),weight:100}})}invoke(pt,ft,jt){const en=this.getSelectedLines(jt);fe(ft,!0,Number.MAX_VALUE,en)}}),(0,P.Qr)(class li extends qe{constructor(){super({id:"editor.foldAll",label:_e.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2069),weight:100}})}invoke(pt,ft,jt){fe(ft,!0)}}),(0,P.Qr)(class oi extends qe{constructor(){super({id:"editor.unfoldAll",label:_e.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2088),weight:100}})}invoke(pt,ft,jt){fe(ft,!1)}}),(0,P.Qr)(class Ct extends qe{constructor(){super({id:"editor.foldAllBlockComments",label:_e.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2133),weight:100}})}invoke(pt,ft,jt,en,rn){if(ft.regions.hasTypes())oe(ft,H.AD.Comment.value,!0);else{const gn=jt.getModel();if(!gn)return;const An=rn.getLanguageConfiguration(gn.getLanguageId()).comments;An&&An.blockCommentStartToken&&Ne(ft,new RegExp("^\\s*"+(0,v.ec)(An.blockCommentStartToken)),!0)}}}),(0,P.Qr)(class fn extends qe{constructor(){super({id:"editor.foldAllMarkerRegions",label:_e.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2077),weight:100}})}invoke(pt,ft,jt,en,rn){if(ft.regions.hasTypes())oe(ft,H.AD.Region.value,!0);else{const gn=jt.getModel();if(!gn)return;const An=rn.getLanguageConfiguration(gn.getLanguageId()).foldingRules;An&&An.markers&&An.markers.start&&Ne(ft,new RegExp(An.markers.start),!0)}}}),(0,P.Qr)(class Vn extends qe{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:_e.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2078),weight:100}})}invoke(pt,ft,jt,en,rn){if(ft.regions.hasTypes())oe(ft,H.AD.Region.value,!1);else{const gn=jt.getModel();if(!gn)return;const An=rn.getLanguageConfiguration(gn.getLanguageId()).foldingRules;An&&An.markers&&An.markers.start&&Ne(ft,new RegExp(An.markers.start),!1)}}}),(0,P.Qr)(class yn extends qe{constructor(){super({id:"editor.foldAllExcept",label:_e.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2131),weight:100}})}invoke(pt,ft,jt){Le(ft,!0,this.getSelectedLines(jt))}}),(0,P.Qr)(class zn extends qe{constructor(){super({id:"editor.unfoldAllExcept",label:_e.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2129),weight:100}})}invoke(pt,ft,jt){Le(ft,!1,this.getSelectedLines(jt))}}),(0,P.Qr)(class vn extends qe{constructor(){super({id:"editor.toggleFold",label:_e.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2090),weight:100}})}invoke(pt,ft,jt){!function Z(Qt,pt,ft){const jt=[];for(const en of ft){const rn=Qt.getRegionAtLine(en);if(rn){const gn=!rn.isCollapsed;if(jt.push(rn),pt>1){const An=Qt.getRegionsInside(rn,(jn,Qn)=>jn.isCollapsed!==gn&&Qn<pt);jt.push(...An)}}}Qt.toggleCollapseState(jt)}(ft,1,this.getSelectedLines(jt))}}),(0,P.Qr)(class so extends qe{constructor(){super({id:"editor.gotoParentFold",label:_e.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(pt,ft,jt){const en=this.getSelectedLines(jt);if(en.length>0){const rn=function we(Qt,pt){let ft=null;const jt=pt.getRegionAtLine(Qt);if(null!==jt&&(ft=jt.startLineNumber,Qt===ft)){const en=jt.parentIndex;ft=-1!==en?pt.regions.getStartLineNumber(en):null}return ft}(en[0],ft);null!==rn&&jt.setSelection({startLineNumber:rn,startColumn:1,endLineNumber:rn,endColumn:1})}}}),(0,P.Qr)(class oo extends qe{constructor(){super({id:"editor.gotoPreviousFold",label:_e.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(pt,ft,jt){const en=this.getSelectedLines(jt);if(en.length>0){const rn=function xe(Qt,pt){let ft=pt.getRegionAtLine(Qt);if(null!==ft&&ft.startLineNumber===Qt){if(Qt!==ft.startLineNumber)return ft.startLineNumber;{const jt=ft.parentIndex;let en=0;for(-1!==jt&&(en=pt.regions.getStartLineNumber(ft.parentIndex));null!==ft;){if(!(ft.regionIndex>0))return null;if(ft=pt.regions.toRegion(ft.regionIndex-1),ft.startLineNumber<=en)return null;if(ft.parentIndex===jt)return ft.startLineNumber}}}else if(pt.regions.length>0)for(ft=pt.regions.toRegion(pt.regions.length-1);null!==ft;){if(ft.startLineNumber<Qt)return ft.startLineNumber;ft=ft.regionIndex>0?pt.regions.toRegion(ft.regionIndex-1):null}return null}(en[0],ft);null!==rn&&jt.setSelection({startLineNumber:rn,startColumn:1,endLineNumber:rn,endColumn:1})}}}),(0,P.Qr)(class xo extends qe{constructor(){super({id:"editor.gotoNextFold",label:_e.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(pt,ft,jt){const en=this.getSelectedLines(jt);if(en.length>0){const rn=function pe(Qt,pt){let ft=pt.getRegionAtLine(Qt);if(null!==ft&&ft.startLineNumber===Qt){const jt=ft.parentIndex;let en=0;if(-1!==jt)en=pt.regions.getEndLineNumber(ft.parentIndex);else{if(0===pt.regions.length)return null;en=pt.regions.getEndLineNumber(pt.regions.length-1)}for(;null!==ft;){if(!(ft.regionIndex<pt.regions.length))return null;if(ft=pt.regions.toRegion(ft.regionIndex+1),ft.startLineNumber>=en)return null;if(ft.parentIndex===jt)return ft.startLineNumber}}else if(pt.regions.length>0)for(ft=pt.regions.toRegion(0);null!==ft;){if(ft.startLineNumber>Qt)return ft.startLineNumber;ft=ft.regionIndex<pt.regions.length?pt.regions.toRegion(ft.regionIndex+1):null}return null}(en[0],ft);null!==rn&&jt.setSelection({startLineNumber:rn,startColumn:1,endLineNumber:rn,endColumn:1})}}}),(0,P.Qr)(class ro extends qe{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:_e.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2130),weight:100}})}invoke(pt,ft,jt){var en;const rn=[],gn=jt.getSelections();if(gn){for(const An of gn){let jn=An.endLineNumber;1===An.endColumn&&--jn,jn>An.startLineNumber&&(rn.push({startLineNumber:An.startLineNumber,endLineNumber:jn,type:void 0,isCollapsed:!0,source:1}),jt.setSelection({startLineNumber:An.startLineNumber,startColumn:1,endLineNumber:An.startLineNumber,endColumn:1}))}if(rn.length>0){rn.sort((jn,Qn)=>jn.startLineNumber-Qn.startLineNumber);const An=j.sanitizeAndMerge(ft.regions,rn,null===(en=jt.getModel())||void 0===en?void 0:en.getLineCount());ft.updatePost(j.fromFoldRanges(An))}}}}),(0,P.Qr)(class _o extends qe{constructor(){super({id:"editor.removeManualFoldingRanges",label:_e.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2132),weight:100}})}invoke(pt,ft,jt){const en=jt.getSelections();if(en){const rn=[];for(const gn of en){const{startLineNumber:An,endLineNumber:jn}=gn;rn.push(jn>=An?{startLineNumber:An,endLineNumber:jn}:{endLineNumber:jn,startLineNumber:An})}ft.removeManualRanges(rn),pt.triggerFoldingModelChanged()}}});for(let Qt=1;Qt<=7;Qt++)(0,P.QG)(new Li({id:Li.ID(Qt),label:_e.NC("foldLevelAction.label","Fold Level {0}",Qt),alias:`Fold Level ${Qt}`,precondition:ue,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,l.gx)(2089,2048|21+Qt),weight:100}}));const mo=(0,le.P6G)("editor.foldBackground",{light:(0,le.ZnX)(le.hEj,.3),dark:(0,le.ZnX)(le.hEj,.3),hcDark:null,hcLight:null},_e.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),si=(0,le.P6G)("editorGutter.foldingControlForeground",{dark:le.XZx,light:le.XZx,hcDark:le.XZx,hcLight:le.XZx},_e.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,Q.Ic)((Qt,pt)=>{const ft=Qt.getColor(mo);ft&&pt.addRule(`.monaco-editor .folded-background { background-color: ${ft}; }`);const jt=Qt.getColor(si);jt&&pt.addRule(`\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(st)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(et)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(tt)},\n\t\t.monaco-editor .cldr${Q.kS.asCSSSelector(Qe)} {\n\t\t\tcolor: ${jt} !important;\n\t\t}\n\t\t`)})},7150:(Et,X,e)=>{"use strict";e.r(X);var d=e(26845),t=e(66198),l=e(55197);(0,d.Qr)(class S extends d.R6{constructor(){super({id:"editor.action.fontZoomIn",label:l.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(E,L){t.C.setZoomLevel(t.C.getZoomLevel()+1)}}),(0,d.Qr)(class v extends d.R6{constructor(){super({id:"editor.action.fontZoomOut",label:l.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(E,L){t.C.setZoomLevel(t.C.getZoomLevel()-1)}}),(0,d.Qr)(class T extends d.R6{constructor(){super({id:"editor.action.fontZoomReset",label:l.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(E,L){t.C.setZoomLevel(0)}})},25541:(Et,X,e)=>{"use strict";e.d(X,{Qq:()=>K,Qs:()=>$,Zg:()=>I,x$:()=>H,xC:()=>O});var d=e(59797),t=e(64023),l=e(73888),S=e(4125),v=e(1999),T=e(85739),C=e(72715),E=e(59547),L=e(18623),_=e(91353),s=e(18723),m=e(98570),c=e(7233),n=e(81534),a=e(1149),p=e(24277),u=e(55197),g=e(66549),b=e(99775),y=e(9265),D=e(90790),w=function(j,ne,N,V){return new(N||(N=Promise))(function(fe,M){function Se(Ne){try{Le(V.next(Ne))}catch(oe){M(oe)}}function Ee(Ne){try{Le(V.throw(Ne))}catch(oe){M(oe)}}function Le(Ne){Ne.done?fe(Ne.value):function Z(fe){return fe instanceof N?fe:new N(function(M){M(fe)})}(Ne.value).then(Se,Ee)}Le((V=V.apply(j,ne||[])).next())})};function I(j){if(!(j=j.filter(Z=>Z.range)).length)return;let{range:ne}=j[0];for(let Z=1;Z<j.length;Z++)ne=m.e.plusRange(ne,j[Z].range);const{startLineNumber:N,endLineNumber:V}=ne;(0,d.Z9)(N===V?1===j.length?u.NC("hint11","Made 1 formatting edit on line {0}",N):u.NC("hintn1","Made {0} formatting edits on line {1}",j.length,N):1===j.length?u.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",N,V):u.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",j.length,N,V))}function P(j,ne,N){const V=[],Z=new Set,fe=j.ordered(N);for(const Se of fe)V.push(Se),Se.extensionId&&Z.add(b.k.toKey(Se.extensionId));const M=ne.ordered(N);for(const Se of M){if(Se.extensionId){if(Z.has(b.k.toKey(Se.extensionId)))continue;Z.add(b.k.toKey(Se.extensionId))}V.push({displayName:Se.displayName,extensionId:Se.extensionId,provideDocumentFormattingEdits:(Ee,Le,Ne)=>Se.provideDocumentRangeFormattingEdits(Ee,Ee.getFullModelRange(),Le,Ne)})}return V}class O{static setFormatterSelector(ne){return{dispose:O._selectors.unshift(ne)}}static select(ne,N,V){return w(this,void 0,void 0,function*(){if(0===ne.length)return;const Z=v.$.first(O._selectors);return Z?yield Z(ne,N,V):void 0})}}function H(j,ne,N,V,Z,fe){return w(this,void 0,void 0,function*(){const M=j.get(y.TG),{documentRangeFormattingEditProvider:Se}=j.get(D.p),Ee=(0,_.CL)(ne)?ne.getModel():ne,Le=Se.ordered(Ee),Ne=yield O.select(Le,Ee,V);Ne&&(Z.report(Ne),yield M.invokeFunction(U,Ne,ne,N,fe))})}function U(j,ne,N,V,Z){return w(this,void 0,void 0,function*(){const fe=j.get(n.p);let M,Se;(0,_.CL)(N)?(M=N.getModel(),Se=new L.Dl(N,5,void 0,Z)):(M=N,Se=new L.YQ(N,Z));const Ee=[];let Le=0;for(const pe of(0,t._2)(V).sort(m.e.compareRangesUsingStarts))Le>0&&m.e.areIntersectingOrTouching(Ee[Le-1],pe)?Ee[Le-1]=m.e.fromPositions(Ee[Le-1].getStartPosition(),pe.getEndPosition()):Le=Ee.push(pe);const Ne=pe=>w(this,void 0,void 0,function*(){return(yield ne.provideDocumentRangeFormattingEdits(M,pe,M.getFormattingOptions(),Se.token))||[]}),oe=(pe,Te)=>{if(!pe.length||!Te.length)return!1;const de=pe.reduce((ke,ze)=>m.e.plusRange(ke,ze.range),pe[0].range);if(!Te.some(ke=>m.e.intersectRanges(de,ke.range)))return!1;for(const ke of pe)for(const ze of Te)if(m.e.intersectRanges(ke.range,ze.range))return!0;return!1},we=[],xe=[];try{for(const pe of Ee){if(Se.token.isCancellationRequested)return!0;xe.push(yield Ne(pe))}for(let pe=0;pe<Ee.length;++pe)for(let Te=pe+1;Te<Ee.length;++Te){if(Se.token.isCancellationRequested)return!0;if(oe(xe[pe],xe[Te])){const de=m.e.plusRange(Ee[pe],Ee[Te]),ke=yield Ne(de);Ee.splice(Te,1),Ee.splice(pe,1),Ee.push(de),xe.splice(Te,1),xe.splice(pe,1),xe.push(ke),pe=0,Te=0}}for(const pe of xe){if(Se.token.isCancellationRequested)return!0;const Te=yield fe.computeMoreMinimalEdits(M.uri,pe);Te&&we.push(...Te)}}finally{Se.dispose()}if(0===we.length)return!1;if((0,_.CL)(N))p.V.execute(N,we,!0),I(we),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1);else{const[{range:pe}]=we,Te=new c.Y(pe.startLineNumber,pe.startColumn,pe.endLineNumber,pe.endColumn);M.pushEditOperations([Te],we.map(de=>({text:de.text,range:m.e.lift(de.range),forceMoveMarkers:!0})),de=>{for(const{range:ke}of de)if(m.e.areIntersectingOrTouching(ke,Te))return[new c.Y(ke.startLineNumber,ke.startColumn,ke.endLineNumber,ke.endColumn)];return null})}return!0})}function K(j,ne,N,V,Z){return w(this,void 0,void 0,function*(){const fe=j.get(y.TG),M=j.get(D.p),Se=(0,_.CL)(ne)?ne.getModel():ne,Ee=P(M.documentFormattingEditProvider,M.documentRangeFormattingEditProvider,Se),Le=yield O.select(Ee,Se,N);Le&&(V.report(Le),yield fe.invokeFunction(F,Le,ne,N,Z))})}function F(j,ne,N,V,Z){return w(this,void 0,void 0,function*(){const fe=j.get(n.p);let M,Se,Ee;(0,_.CL)(N)?(M=N.getModel(),Se=new L.Dl(N,5,void 0,Z)):(M=N,Se=new L.YQ(N,Z));try{const Le=yield ne.provideDocumentFormattingEdits(M,M.getFormattingOptions(),Se.token);if(Ee=yield fe.computeMoreMinimalEdits(M.uri,Le),Se.token.isCancellationRequested)return!0}finally{Se.dispose()}if(!Ee||0===Ee.length)return!1;if((0,_.CL)(N))p.V.execute(N,Ee,2!==V),2!==V&&(I(Ee),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1));else{const[{range:Le}]=Ee,Ne=new c.Y(Le.startLineNumber,Le.startColumn,Le.endLineNumber,Le.endColumn);M.pushEditOperations([Ne],Ee.map(oe=>({text:oe.text,range:m.e.lift(oe.range),forceMoveMarkers:!0})),oe=>{for(const{range:we}of oe)if(m.e.areIntersectingOrTouching(we,Ne))return[new c.Y(we.startLineNumber,we.startColumn,we.endLineNumber,we.endColumn)];return null})}return!0})}function $(j,ne,N,V,Z,fe,M){const Se=ne.onTypeFormattingEditProvider.ordered(N);return 0===Se.length||Se[0].autoFormatTriggerCharacters.indexOf(Z)<0?Promise.resolve(void 0):Promise.resolve(Se[0].provideOnTypeFormattingEdits(N,V,Z,fe,M)).catch(S.Cp).then(Ee=>j.computeMoreMinimalEdits(N.uri,Ee))}O._selectors=new T.S,g.P0.registerCommand("_executeFormatRangeProvider",function(j,...ne){return w(this,void 0,void 0,function*(){const[N,V,Z]=ne;(0,C.p_)(E.o.isUri(N)),(0,C.p_)(m.e.isIRange(V));const fe=j.get(a.S),M=j.get(n.p),Se=j.get(D.p),Ee=yield fe.createModelReference(N);try{return function B(j,ne,N,V,Z,fe){return w(this,void 0,void 0,function*(){const M=ne.documentRangeFormattingEditProvider.ordered(N);for(const Se of M){const Ee=yield Promise.resolve(Se.provideDocumentRangeFormattingEdits(N,V,Z,fe)).catch(S.Cp);if((0,t.Of)(Ee))return yield j.computeMoreMinimalEdits(N.uri,Ee)}})}(M,Se,Ee.object.textEditorModel,m.e.lift(V),Z,l.T.None)}finally{Ee.dispose()}})}),g.P0.registerCommand("_executeFormatDocumentProvider",function(j,...ne){return w(this,void 0,void 0,function*(){const[N,V]=ne;(0,C.p_)(E.o.isUri(N));const Z=j.get(a.S),fe=j.get(n.p),M=j.get(D.p),Se=yield Z.createModelReference(N);try{return function z(j,ne,N,V,Z){return w(this,void 0,void 0,function*(){const fe=P(ne.documentFormattingEditProvider,ne.documentRangeFormattingEditProvider,N);for(const M of fe){const Se=yield Promise.resolve(M.provideDocumentFormattingEdits(N,V,Z)).catch(S.Cp);if((0,t.Of)(Se))return yield j.computeMoreMinimalEdits(N.uri,Se)}})}(fe,M,Se.object.textEditorModel,V,l.T.None)}finally{Se.dispose()}})}),g.P0.registerCommand("_executeFormatOnTypeProvider",function(j,...ne){return w(this,void 0,void 0,function*(){const[N,V,Z,fe]=ne;(0,C.p_)(E.o.isUri(N)),(0,C.p_)(s.L.isIPosition(V)),(0,C.p_)("string"==typeof Z);const M=j.get(a.S),Se=j.get(n.p),Ee=j.get(D.p),Le=yield M.createModelReference(N);try{return $(Se,Ee,Le.object.textEditorModel,s.L.lift(V),Z,fe,l.T.None)}finally{Le.dispose()}})})},56628:(Et,X,e)=>{"use strict";e.r(X);var d=e(64023),t=e(73888),l=e(4125),S=e(53993),v=e(80142),T=e(26845),C=e(33745),E=e(81742),L=e(98570),_=e(82290),s=e(81534),m=e(90790),c=e(25541),n=e(24277),a=e(55197),p=e(66549),u=e(16468),g=e(9265),b=e(55538),y=function(U,K,F,B){var j,z=arguments.length,$=z<3?K:null===B?B=Object.getOwnPropertyDescriptor(K,F):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(U,K,F,B);else for(var ne=U.length-1;ne>=0;ne--)(j=U[ne])&&($=(z<3?j($):z>3?j(K,F,$):j(K,F))||$);return z>3&&$&&Object.defineProperty(K,F,$),$},D=function(U,K){return function(F,B){K(F,B,U)}},w=function(U,K,F,B){return new(F||(F=Promise))(function($,j){function ne(Z){try{V(B.next(Z))}catch(fe){j(fe)}}function N(Z){try{V(B.throw(Z))}catch(fe){j(fe)}}function V(Z){Z.done?$(Z.value):function z($){return $ instanceof F?$:new F(function(j){j($)})}(Z.value).then(ne,N)}V((B=B.apply(U,K||[])).next())})};let I=class{constructor(K,F,B){this._editor=K,this._languageFeaturesService=F,this._workerService=B,this._disposables=new v.SL,this._sessionDisposables=new v.SL,this._disposables.add(F.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(K.onDidChangeModel(()=>this._update())),this._disposables.add(K.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(K.onDidChangeConfiguration(z=>{z.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const K=this._editor.getModel(),[F]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(K);if(!F||!F.autoFormatTriggerCharacters)return;const B=new E.q;for(const z of F.autoFormatTriggerCharacters)B.add(z.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(z=>{const $=z.charCodeAt(z.length-1);B.has($)&&this._trigger(String.fromCharCode($))}))}_trigger(K){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const F=this._editor.getModel(),B=this._editor.getPosition(),z=new t.A,$=this._editor.onDidChangeModelContent(j=>{if(j.isFlush)return z.cancel(),void $.dispose();for(let ne=0,N=j.changes.length;ne<N;ne++)if(j.changes[ne].range.endLineNumber<=B.lineNumber)return z.cancel(),void $.dispose()});(0,c.Qs)(this._workerService,this._languageFeaturesService,F,B,K,F.getFormattingOptions(),z.token).then(j=>{z.token.isCancellationRequested||(0,d.Of)(j)&&(n.V.execute(this._editor,j,!0),(0,c.Zg)(j))}).finally(()=>{$.dispose()})}};I.ID="editor.contrib.autoFormat",I=y([D(1,m.p),D(2,s.p)],I);let P=class{constructor(K,F,B){this.editor=K,this._languageFeaturesService=F,this._instantiationService=B,this._callOnDispose=new v.SL,this._callOnModel=new v.SL,this._callOnDispose.add(K.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(K.onDidChangeModel(()=>this._update())),this._callOnDispose.add(K.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(F.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:K})=>this._trigger(K))))}_trigger(K){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(c.x$,this.editor,K,2,b.Ex.None,t.T.None).catch(l.dL)}};P.ID="editor.contrib.formatOnPaste",P=y([D(1,m.p),D(2,g.TG)],P),(0,T._K)(I.ID,I),(0,T._K)(P.ID,P),(0,T.Qr)(class O extends T.R6{constructor(){super({id:"editor.action.formatDocument",label:a.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:u.Ao.and(_.u.notInCompositeEditor,_.u.writable,_.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:_.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(K,F){return w(this,void 0,void 0,function*(){if(F.hasModel()){const B=K.get(g.TG);yield K.get(b.ek).showWhile(B.invokeFunction(c.Qq,F,1,b.Ex.None,t.T.None),250)}})}}),(0,T.Qr)(class H extends T.R6{constructor(){super({id:"editor.action.formatSelection",label:a.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:u.Ao.and(_.u.writable,_.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:_.u.editorTextFocus,primary:(0,S.gx)(2089,2084),weight:100},contextMenuOpts:{when:_.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(K,F){return w(this,void 0,void 0,function*(){if(!F.hasModel())return;const B=K.get(g.TG),z=F.getModel(),$=F.getSelections().map(ne=>ne.isEmpty()?new L.e(ne.startLineNumber,1,ne.startLineNumber,z.getLineMaxColumn(ne.startLineNumber)):ne);yield K.get(b.ek).showWhile(B.invokeFunction(c.x$,F,$,1,b.Ex.None,t.T.None),250)})}}),p.P0.registerCommand("editor.action.format",U=>w(void 0,void 0,void 0,function*(){const K=U.get(C.$).getFocusedCodeEditor();if(!K||!K.hasModel())return;const F=U.get(p.Hy);K.getSelection().isEmpty()?yield F.executeCommand("editor.action.formatDocument"):yield F.executeCommand("editor.action.formatSelection")}))},24277:(Et,X,e)=>{"use strict";e.d(X,{V:()=>l});var d=e(65484),t=e(98570);class l{static _handleEolEdits(v,T){let C;const E=[];for(const L of T)"number"==typeof L.eol&&(C=L.eol),L.range&&"string"==typeof L.text&&E.push(L);return"number"==typeof C&&v.hasModel()&&v.getModel().pushEOL(C),E}static _isFullModelReplaceEdit(v,T){if(!v.hasModel())return!1;const C=v.getModel(),E=C.validateRange(T.range);return C.getFullModelRange().equalsRange(E)}static execute(v,T,C){C&&v.pushUndoStop();const E=l._handleEolEdits(v,T);1===E.length&&l._isFullModelReplaceEdit(v,E[0])?v.executeEdits("formatEditsCommand",E.map(L=>d.h.replace(t.e.lift(L.range),L.text))):v.executeEdits("formatEditsCommand",E.map(L=>d.h.replaceMove(t.e.lift(L.range),L.text))),C&&v.pushUndoStop()}}},98674:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{MarkerController:()=>mt,NextMarkerAction:()=>Kt});var d=e(58783),t=e(80142),l=e(26845),S=e(33745),v=e(18723),T=e(98570),C=e(82290),E=e(64023),L=e(3778),_=e(85739),s=e(73879),m=e(59547),c=e(47494),n=e(9265),a=e(58177),p=e(94667),u=function(Dn,wt,je,ye){var be,Me=arguments.length,ue=Me<3?wt:null===ye?ye=Object.getOwnPropertyDescriptor(wt,je):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,wt,je,ye);else for(var qe=Dn.length-1;qe>=0;qe--)(be=Dn[qe])&&(ue=(Me<3?be(ue):Me>3?be(wt,je,ue):be(wt,je))||ue);return Me>3&&ue&&Object.defineProperty(wt,je,ue),ue},g=function(Dn,wt){return function(je,ye){wt(je,ye,Dn)}};class b{constructor(wt,je,ye){this.marker=wt,this.index=je,this.total=ye}}let y=class{constructor(wt,je,ye){this._markerService=je,this._configService=ye,this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new t.SL,this._markers=[],this._nextIdx=-1,m.o.isUri(wt)?this._resourceFilter=qe=>qe.toString()===wt.toString():wt&&(this._resourceFilter=wt);const Me=this._configService.getValue("problems.sortOrder"),ue=(qe,Fe)=>{let ot=(0,s.qu)(qe.resource.toString(),Fe.resource.toString());return 0===ot&&(ot="position"===Me?T.e.compareRangesUsingStarts(qe,Fe)||a.ZL.compare(qe.severity,Fe.severity):a.ZL.compare(qe.severity,Fe.severity)||T.e.compareRangesUsingStarts(qe,Fe)),ot},be=()=>{this._markers=this._markerService.read({resource:m.o.isUri(wt)?wt:void 0,severities:a.ZL.Error|a.ZL.Warning|a.ZL.Info}),"function"==typeof wt&&(this._markers=this._markers.filter(qe=>this._resourceFilter(qe.resource))),this._markers.sort(ue)};be(),this._dispoables.add(je.onMarkerChanged(qe=>{(!this._resourceFilter||qe.some(Fe=>this._resourceFilter(Fe)))&&(be(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(wt){return!this._resourceFilter&&!wt||!(!this._resourceFilter||!wt)&&this._resourceFilter(wt)}get selected(){const wt=this._markers[this._nextIdx];return wt&&new b(wt,this._nextIdx+1,this._markers.length)}_initIdx(wt,je,ye){let Me=!1,ue=this._markers.findIndex(be=>be.resource.toString()===wt.uri.toString());ue<0&&(ue=(0,E.ry)(this._markers,{resource:wt.uri},(be,qe)=>(0,s.qu)(be.resource.toString(),qe.resource.toString())),ue<0&&(ue=~ue));for(let be=ue;be<this._markers.length;be++){let qe=T.e.lift(this._markers[be]);if(qe.isEmpty()){const Fe=wt.getWordAtPosition(qe.getStartPosition());Fe&&(qe=new T.e(qe.startLineNumber,Fe.startColumn,qe.startLineNumber,Fe.endColumn))}if(je&&(qe.containsPosition(je)||je.isBeforeOrEqual(qe.getStartPosition()))){this._nextIdx=be,Me=!0;break}if(this._markers[be].resource.toString()!==wt.uri.toString())break}Me||(this._nextIdx=ye?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(wt,je,ye){if(0===this._markers.length)return!1;const Me=this._nextIdx;return-1===this._nextIdx?this._initIdx(je,ye,wt):wt?this._nextIdx=(this._nextIdx+1)%this._markers.length:wt||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),Me!==this._nextIdx}find(wt,je){let ye=this._markers.findIndex(Me=>Me.resource.toString()===wt.toString());if(!(ye<0))for(;ye<this._markers.length;ye++)if(T.e.containsPosition(this._markers[ye],je))return new b(this._markers[ye],ye+1,this._markers.length)}};y=u([g(1,a.lT),g(2,p.Ui)],y);const D=(0,n.yh)("IMarkerNavigationService");let w=class{constructor(wt,je){this._markerService=wt,this._configService=je,this._provider=new _.S}getMarkerList(wt){for(const je of this._provider){const ye=je.getMarkerList(wt);if(ye)return ye}return new y(wt,this._markerService,this._configService)}};w=u([g(0,a.lT),g(1,p.Ui)],w),(0,c.z)(D,w,!0);var I=e(55197),P=e(74918),O=e(16468),H=e(66287),U=e(98463),K=e(3067),F=e(69355),B=e(40734),z=e(57856),$=e.n(z),j=e(38470),ne=e.n(j),N=e(43370),V=e.n(N),Z=e(28458),fe=e.n(Z),M=e(71278),Se=e.n(M),Ee=e(29488),Le=e.n(Ee),Ne=e(37367),oe={};oe.styleTagTransform=Le(),oe.setAttributes=fe(),oe.insert=V().bind(null,"head"),oe.domAPI=ne(),oe.insertStyleElement=Se(),$()(Ne.Z,oe);var Ue,pe=e(81043),Te=e(38516),de=e(57585),ke=e(44827),ze=e(50819),$e=e(4062),ce=e(40902);(Ue||(Ue={})).className=function wt(je){switch(je){case ze.Z.Ignore:return"severity-ignore "+d.lA.info.classNames;case ze.Z.Info:return d.lA.info.classNames;case ze.Z.Warning:return d.lA.warning.classNames;case ze.Z.Error:return d.lA.error.classNames;default:return""}},(0,ce.Ic)((Dn,wt)=>{const je=Dn.getColor($e.JpG);if(je){const ue=d.lA.error.cssSelector;wt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${ue},\n\t\t\t.markers-panel .marker-icon${ue},\n\t\t\t.text-search-provider-messages .providerMessage ${ue},\n\t\t\t.extensions-viewlet > .extensions ${ue} {\n\t\t\t\tcolor: ${je};\n\t\t\t}\n\t\t`)}const ye=Dn.getColor($e.BOY);if(ye){const ue=d.lA.warning.cssSelector;wt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${ue},\n\t\t\t.markers-panel .marker-icon${ue},\n\t\t\t.extensions-viewlet > .extensions ${ue},\n\t\t\t.extension-editor ${ue},\n\t\t\t.text-search-provider-messages .providerMessage ${ue},\n\t\t\t.preferences-editor ${ue} {\n\t\t\t\tcolor: ${ye};\n\t\t\t}\n\t\t`)}const Me=Dn.getColor($e.OLZ);if(Me){const ue=d.lA.info.cssSelector;wt.addRule(`\n\t\t\t.monaco-editor .zone-widget ${ue},\n\t\t\t.markers-panel .marker-icon${ue},\n\t\t\t.extensions-viewlet > .extensions ${ue},\n\t\t\t.text-search-provider-messages .providerMessage ${ue},\n\t\t\t.extension-editor ${ue} {\n\t\t\t\tcolor: ${Me};\n\t\t\t}\n\t\t`)}});var Dt=function(Dn,wt){return function(je,ye){wt(je,ye,Dn)}};class Lt{constructor(wt,je,ye,Me,ue){this._openerService=Me,this._labelService=ue,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new t.SL,this._editor=je;const be=document.createElement("div");be.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),be.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),be.appendChild(this._relatedBlock),this._disposables.add(U.mu(this._relatedBlock,"click",qe=>{qe.preventDefault();const Fe=this._relatedDiagnostics.get(qe.target);Fe&&ye(Fe)})),this._scrollable=new K.NB(be,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),wt.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(qe=>{be.style.left=`-${qe.scrollLeft}px`,be.style.top=`-${qe.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,t.B9)(this._disposables)}update(wt){const{source:je,message:ye,relatedInformation:Me,code:ue}=wt;let be=(je?.length||0)+2;ue&&(be+="string"==typeof ue?ue.length:ue.value.length);const qe=(0,s.uq)(ye);this._lines=qe.length,this._longestLineLength=0;for(const vn of qe)this._longestLineLength=Math.max(vn.length+be,this._longestLineLength);U.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(wt)),this._editor.applyFontInfo(this._messageBlock);let Fe=this._messageBlock;for(const vn of qe)Fe=document.createElement("div"),Fe.innerText=vn,""===vn&&(Fe.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Fe);if(je||ue){const vn=document.createElement("span");if(vn.classList.add("details"),Fe.appendChild(vn),je){const Mn=document.createElement("span");Mn.innerText=je,Mn.classList.add("source"),vn.appendChild(Mn)}if(ue)if("string"==typeof ue){const Mn=document.createElement("span");Mn.innerText=`(${ue})`,Mn.classList.add("code"),vn.appendChild(Mn)}else this._codeLink=U.$("a.code-link"),this._codeLink.setAttribute("href",`${ue.target.toString()}`),this._codeLink.onclick=Ct=>{this._openerService.open(ue.target,{allowCommands:!0}),Ct.preventDefault(),Ct.stopPropagation()},U.R3(this._codeLink,U.$("span")).innerText=ue.value,vn.appendChild(this._codeLink)}if(U.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,E.Of)(Me)){const vn=this._relatedBlock.appendChild(document.createElement("div"));vn.style.paddingTop=`${Math.floor(.66*this._editor.getOption(61))}px`,this._lines+=1;for(const Mn of Me){const Ct=document.createElement("div"),fn=document.createElement("a");fn.classList.add("filename"),fn.innerText=`${this._labelService.getUriBasenameLabel(Mn.resource)}(${Mn.startLineNumber}, ${Mn.startColumn}): `,fn.title=this._labelService.getUriLabel(Mn.resource),this._relatedDiagnostics.set(fn,Mn);const Vn=document.createElement("span");Vn.innerText=Mn.message,Ct.appendChild(fn),Ct.appendChild(Vn),this._lines+=1,vn.appendChild(Ct)}}const ot=this._editor.getOption(46),bt=Math.ceil(ot.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:bt,scrollHeight:ot.lineHeight*this._lines})}layout(wt,je){this._scrollable.getDomNode().style.height=`${wt}px`,this._scrollable.getDomNode().style.width=`${je}px`,this._scrollable.setScrollDimensions({width:je,height:wt})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(wt){let je="";switch(wt.severity){case a.ZL.Error:je=I.NC("Error","Error");break;case a.ZL.Warning:je=I.NC("Warning","Warning");break;case a.ZL.Info:je=I.NC("Info","Info");break;case a.ZL.Hint:je=I.NC("Hint","Hint")}let ye=I.NC("marker aria","{0} at {1}. ",je,wt.startLineNumber+":"+wt.startColumn);const Me=this._editor.getModel();return Me&&wt.startLineNumber<=Me.getLineCount()&&wt.startLineNumber>=1&&(ye=`${Me.getLineContent(wt.startLineNumber)}, ${ye}`),ye}}let Ze=class Yc extends pe.vk{constructor(wt,je,ye,Me,ue,be,qe){super(wt,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},ue),this._themeService=je,this._openerService=ye,this._menuService=Me,this._contextKeyService=be,this._labelService=qe,this._callOnDispose=new t.SL,this._onDidSelectRelatedInformation=new L.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=a.ZL.Warning,this._backgroundColor=F.Il.white,this._applyTheme(je.getColorTheme()),this._callOnDispose.add(je.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(wt){this._backgroundColor=wt.getColor(et);let je=le,ye=Q;this._severity===a.ZL.Warning?(je=ve,ye=Ae):this._severity===a.ZL.Info&&(je=dt,ye=st);const Me=wt.getColor(je),ue=wt.getColor(ye);this.style({arrowColor:Me,frameColor:Me,headerBackgroundColor:ue,primaryHeadingColor:wt.getColor(pe.IH),secondaryHeadingColor:wt.getColor(pe.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(wt){super._fillHead(wt),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(Me=>this.editor.focus()));const je=[],ye=this._menuService.createMenu(Yc.TitleMenu,this._contextKeyService);(0,Te.vr)(ye,void 0,je),this._actionbarWidget.push(je,{label:!1,icon:!0,index:0}),ye.dispose()}_fillTitleIcon(wt){this._icon=U.R3(wt,U.$(""))}_fillBody(wt){this._parentContainer=wt,wt.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),wt.appendChild(this._container),this._message=new Lt(this._container,this.editor,je=>this._onDidSelectRelatedInformation.fire(je),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(wt,je,ye){this._container.classList.remove("stale"),this._message.update(wt),this._severity=wt.severity,this._applyTheme(this._themeService.getColorTheme());const Me=T.e.lift(wt),ue=this.editor.getPosition(),be=ue&&Me.containsPosition(ue)?ue:Me.getStartPosition();super.show(be,this.computeRequiredHeight());const qe=this.editor.getModel();if(qe){const Fe=ye>1?I.NC("problems","{0} of {1} problems",je,ye):I.NC("change","{0} of {1} problem",je,ye);this.setTitle((0,B.EZ)(qe.uri),Fe)}this._icon.className=`codicon ${Ue.className(a.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(be,0),this.editor.focus()}updateMarker(wt){this._container.classList.remove("stale"),this._message.update(wt)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(wt,je){super._doLayoutBody(wt,je),this._heightInPixel=wt,this._message.layout(wt,je),this._container.style.height=`${wt}px`}_onWidth(wt){this._message.layout(this._heightInPixel,wt)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Ze.TitleMenu=new P.eH("gotoErrorTitleMenu"),Ze=function(Dn,wt,je,ye){var be,Me=arguments.length,ue=Me<3?wt:null===ye?ye=Object.getOwnPropertyDescriptor(wt,je):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,wt,je,ye);else for(var qe=Dn.length-1;qe>=0;qe--)(be=Dn[qe])&&(ue=(Me<3?be(ue):Me>3?be(wt,je,ue):be(wt,je))||ue);return Me>3&&ue&&Object.defineProperty(wt,je,ue),ue}([Dt(1,ce.XE),Dt(2,ke.v4),Dt(3,P.co),Dt(4,n.TG),Dt(5,O.i6),Dt(6,de.e)],Ze);const ae=(0,$e.kwl)($e.lXJ,$e.b6y),_e=(0,$e.kwl)($e.uoC,$e.pW3),he=(0,$e.kwl)($e.c63,$e.T83),le=(0,$e.P6G)("editorMarkerNavigationError.background",{dark:ae,light:ae,hcDark:$e.lRK,hcLight:$e.lRK},I.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Q=(0,$e.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,$e.ZnX)(le,.1),light:(0,$e.ZnX)(le,.1),hcDark:null,hcLight:null},I.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),ve=(0,$e.P6G)("editorMarkerNavigationWarning.background",{dark:_e,light:_e,hcDark:$e.lRK,hcLight:$e.lRK},I.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Ae=(0,$e.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,$e.ZnX)(ve,.1),light:(0,$e.ZnX)(ve,.1),hcDark:"#0C141F",hcLight:(0,$e.ZnX)(ve,.2)},I.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),dt=(0,$e.P6G)("editorMarkerNavigationInfo.background",{dark:he,light:he,hcDark:$e.lRK,hcLight:$e.lRK},I.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),st=(0,$e.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,$e.ZnX)(dt,.1),light:(0,$e.ZnX)(dt,.1),hcDark:null,hcLight:null},I.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),et=(0,$e.P6G)("editorMarkerNavigation.background",{dark:$e.cvW,light:$e.cvW,hcDark:$e.cvW,hcLight:$e.cvW},I.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var tt=function(Dn,wt){return function(je,ye){wt(je,ye,Dn)}},vt=function(Dn,wt,je,ye){return new(je||(je=Promise))(function(ue,be){function qe(bt){try{ot(ye.next(bt))}catch(Ht){be(Ht)}}function Fe(bt){try{ot(ye.throw(bt))}catch(Ht){be(Ht)}}function ot(bt){bt.done?ue(bt.value):function Me(ue){return ue instanceof je?ue:new je(function(be){be(ue)})}(bt.value).then(qe,Fe)}ot((ye=ye.apply(Dn,wt||[])).next())})};let mt=class zd{constructor(wt,je,ye,Me,ue){this._markerNavigationService=je,this._contextKeyService=ye,this._editorService=Me,this._instantiationService=ue,this._sessionDispoables=new t.SL,this._editor=wt,this._widgetVisible=Ut.bindTo(this._contextKeyService)}static get(wt){return wt.getContribution(zd.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(wt){if(this._model&&this._model.matches(wt))return this._model;let je=!1;return this._model&&(je=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(wt),je&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Ze,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(ye=>{var Me,ue,be;(null===(Me=this._model)||void 0===Me||!Me.selected||!T.e.containsPosition(null===(ue=this._model)||void 0===ue?void 0:ue.selected.marker,ye.position))&&(null===(be=this._model)||void 0===be||be.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const ye=this._model.find(this._editor.getModel().uri,this._widget.position);ye?this._widget.updateMarker(ye.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(ye=>{this._editorService.openCodeEditor({resource:ye.resource,options:{pinned:!0,revealIfOpened:!0,selection:T.e.lift(ye).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(wt=!0){this._cleanUp(),wt&&this._editor.focus()}showAtMarker(wt){if(this._editor.hasModel()){const je=this._getOrCreateModel(this._editor.getModel().uri);je.resetIndex(),je.move(!0,this._editor.getModel(),new v.L(wt.startLineNumber,wt.startColumn)),je.selected&&this._widget.showAtMarker(je.selected.marker,je.selected.index,je.selected.total)}}nagivate(wt,je){var ye,Me;return vt(this,void 0,void 0,function*(){if(this._editor.hasModel()){const ue=this._getOrCreateModel(je?void 0:this._editor.getModel().uri);if(ue.move(wt,this._editor.getModel(),this._editor.getPosition()),!ue.selected)return;if(ue.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const be=yield this._editorService.openCodeEditor({resource:ue.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:ue.selected.marker}},this._editor);be&&(null===(ye=zd.get(be))||void 0===ye||ye.close(),null===(Me=zd.get(be))||void 0===Me||Me.nagivate(wt,je))}else this._widget.showAtMarker(ue.selected.marker,ue.selected.index,ue.selected.total)}})}};mt.ID="editor.contrib.markerController",mt=function(Dn,wt,je,ye){var be,Me=arguments.length,ue=Me<3?wt:null===ye?ye=Object.getOwnPropertyDescriptor(wt,je):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,wt,je,ye);else for(var qe=Dn.length-1;qe>=0;qe--)(be=Dn[qe])&&(ue=(Me<3?be(ue):Me>3?be(wt,je,ue):be(wt,je))||ue);return Me>3&&ue&&Object.defineProperty(wt,je,ue),ue}([tt(1,D),tt(2,O.i6),tt(3,S.$),tt(4,n.TG)],mt);class _t extends l.R6{constructor(wt,je,ye){super(ye),this._next=wt,this._multiFile=je}run(wt,je){var ye;return vt(this,void 0,void 0,function*(){je.hasModel()&&(null===(ye=mt.get(je))||void 0===ye||ye.nagivate(this._next,this._multiFile))})}}class Kt extends _t{constructor(){super(!0,!1,{id:Kt.ID,label:Kt.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:578,weight:100},menuOpts:{menuId:Ze.TitleMenu,title:Kt.LABEL,icon:(0,H.q5)("marker-navigation-next",d.lA.arrowDown,I.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Kt.ID="editor.action.marker.next",Kt.LABEL=I.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Bt extends _t{constructor(){super(!1,!1,{id:Bt.ID,label:Bt.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:1602,weight:100},menuOpts:{menuId:Ze.TitleMenu,title:Bt.LABEL,icon:(0,H.q5)("marker-navigation-previous",d.lA.arrowUp,I.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Bt.ID="editor.action.marker.prev",Bt.LABEL=I.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,l._K)(mt.ID,mt),(0,l.Qr)(Kt),(0,l.Qr)(Bt),(0,l.Qr)(class Ge extends _t{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:I.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:66,weight:100},menuOpts:{menuId:P.eH.MenubarGoMenu,title:I.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,l.Qr)(class ut extends _t{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:I.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:C.u.focus,primary:1090,weight:100},menuOpts:{menuId:P.eH.MenubarGoMenu,title:I.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const Ut=new O.uy("markersNavigationVisible",!1),hn=l._l.bindToContribution(mt.get);(0,l.fK)(new hn({id:"closeMarkersNavigation",precondition:Ut,handler:Dn=>Dn.close(),kbOpts:{weight:150,kbExpr:C.u.focus,primary:9,secondary:[1033]}}))},21021:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{DefinitionAction:()=>nt,SymbolNavigationAction:()=>Ue,SymbolNavigationAnchor:()=>ce});var d=e(37428),t=e(59797),l=e(48648),S=e(53993),v=e(8841),T=e(72715),C=e(59547),E=e(18623),L=e(91353),_=e(26845),s=e(33745),m=e(19186),c=e(18723),n=e(98570),a=e(82290),p=e(45337),u=e(99989),g=e(56354),b=e(3778),y=e(80142),D=e(40734),w=e(55197),I=e(16468),P=e(47494),O=e(9265),H=e(14759),U=e(98915),K=e(54436),F=function(le,Q,ve,Ae){var et,dt=arguments.length,st=dt<3?Q:null===Ae?Ae=Object.getOwnPropertyDescriptor(Q,ve):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)st=Reflect.decorate(le,Q,ve,Ae);else for(var Qe=le.length-1;Qe>=0;Qe--)(et=le[Qe])&&(st=(dt<3?et(st):dt>3?et(Q,ve,st):et(Q,ve))||st);return dt>3&&st&&Object.defineProperty(Q,ve,st),st},B=function(le,Q){return function(ve,Ae){Q(ve,Ae,le)}};const z=new I.uy("hasSymbols",!1,(0,w.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),$=(0,O.yh)("ISymbolNavigationService");let j=class{constructor(Q,ve,Ae,dt){this._editorService=ve,this._notificationService=Ae,this._keybindingService=dt,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=z.bindTo(Q)}reset(){var Q,ve;this._ctxHasSymbols.reset(),null===(Q=this._currentState)||void 0===Q||Q.dispose(),null===(ve=this._currentMessage)||void 0===ve||ve.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(Q){const ve=Q.parent.parent;if(ve.references.length<=1)return void this.reset();this._currentModel=ve,this._currentIdx=ve.references.indexOf(Q),this._ctxHasSymbols.set(!0),this._showMessage();const Ae=new ne(this._editorService),dt=Ae.onDidChange(st=>{if(this._ignoreEditorChange)return;const et=this._editorService.getActiveCodeEditor();if(!et)return;const Qe=et.getModel(),tt=et.getPosition();if(!Qe||!tt)return;let vt=!1,mt=!1;for(const _t of ve.references)if((0,D.Xy)(_t.uri,Qe.uri))vt=!0,mt=mt||n.e.containsPosition(_t.range,tt);else if(vt)break;(!vt||!mt)&&this.reset()});this._currentState=(0,y.F8)(Ae,dt)}revealNext(Q){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const ve=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:ve.uri,options:{selection:n.e.collapseToStart(ve.range),selectionRevealType:3}},Q).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var Q;null===(Q=this._currentMessage)||void 0===Q||Q.dispose();const ve=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),Ae=ve?(0,w.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,ve.getLabel()):(0,w.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(Ae)}};j=F([B(0,I.i6),B(1,s.$),B(2,K.lT),B(3,H.d)],j),(0,P.z)($,j,!0),(0,_.fK)(new class extends _._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:z,kbOpts:{weight:100,primary:70}})}runEditorCommand(le,Q){return le.get($).revealNext(Q)}}),U.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:z,primary:9,handler(le){le.get($).reset()}});let ne=class{constructor(Q){this._listener=new Map,this._disposables=new y.SL,this._onDidChange=new b.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(Q.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(Q.onCodeEditorAdd(this._onDidAddEditor,this)),Q.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,y.B9)(this._listener.values())}_onDidAddEditor(Q){this._listener.set(Q,(0,y.F8)(Q.onDidChangeCursorPosition(ve=>this._onDidChange.fire({editor:Q})),Q.onDidChangeModelContent(ve=>this._onDidChange.fire({editor:Q}))))}_onDidRemoveEditor(Q){var ve;null===(ve=this._listener.get(Q))||void 0===ve||ve.dispose(),this._listener.delete(Q)}};ne=F([B(0,s.$)],ne);var Ne,oe,we,xe,pe,Te,de,ke,N=e(54007),V=e(81043),Z=e(74918),fe=e(66549),M=e(55538),Se=e(5291),Ee=e(90790),Le=function(le,Q,ve,Ae){return new(ve||(ve=Promise))(function(st,et){function Qe(mt){try{vt(Ae.next(mt))}catch(_t){et(_t)}}function tt(mt){try{vt(Ae.throw(mt))}catch(_t){et(_t)}}function vt(mt){mt.done?st(mt.value):function dt(st){return st instanceof ve?st:new ve(function(et){et(st)})}(mt.value).then(Qe,tt)}vt((Ae=Ae.apply(le,Q||[])).next())})};Z.BH.appendMenuItem(Z.eH.EditorContext,{submenu:Z.eH.EditorContextPeek,title:w.NC("peek.submenu","Peek"),group:"navigation",order:100});const ze=new Set;function $e(le){const Q=new le;return(0,_.QG)(Q),ze.add(Q.id),Q}class ce{constructor(Q,ve){this.model=Q,this.position=ve}static is(Q){return!(!Q||"object"!=typeof Q||!(Q instanceof ce||c.L.isIPosition(Q.position)&&Q.model))}}class Ue extends _.R6{constructor(Q,ve){super(ve),this.configuration=Q}run(Q,ve,Ae){if(!ve.hasModel())return Promise.resolve(void 0);const dt=Q.get(K.lT),st=Q.get(s.$),et=Q.get(M.ek),Qe=Q.get($),tt=Q.get(Ee.p),vt=ve.getModel(),mt=ve.getPosition(),_t=ce.is(Ae)?Ae:new ce(vt,mt),Kt=new E.Dl(ve,5),Bt=(0,l.eP)(this._getLocationModel(tt,_t.model,_t.position,Kt.token),Kt.token).then(Ge=>Le(this,void 0,void 0,function*(){var ut;if(!Ge||Kt.token.isCancellationRequested)return;let Ut;if((0,t.Z9)(Ge.ariaMessage),Ge.referenceAt(vt.uri,mt)){const Dn=this._getAlternativeCommand(ve);!Ue._activeAlternativeCommands.has(Dn)&&ze.has(Dn)&&(Ut=ve.getAction(Dn))}const hn=Ge.references.length;if(0===hn){if(!this.configuration.muteMessage){const Dn=vt.getWordAtPosition(mt);null===(ut=N.O.get(ve))||void 0===ut||ut.showMessage(this._getNoResultFoundMessage(Dn),mt)}}else{if(1!==hn||!Ut)return this._onResult(st,Qe,ve,Ge);Ue._activeAlternativeCommands.add(this.id),Ut.run().finally(()=>{Ue._activeAlternativeCommands.delete(this.id)})}}),Ge=>{dt.error(Ge)}).finally(()=>{Kt.dispose()});return et.showWhile(Bt,250),Bt}_onResult(Q,ve,Ae,dt){return Le(this,void 0,void 0,function*(){const st=this._getGoToPreference(Ae);if(Ae instanceof m.H||!(this.configuration.openInPeek||"peek"===st&&dt.references.length>1)){const et=dt.firstReference(),Qe=dt.references.length>1&&"gotoAndPeek"===st,tt=yield this._openReference(Ae,Q,et,this.configuration.openToSide,!Qe);Qe&&tt?this._openInPeek(tt,dt):dt.dispose(),"goto"===st&&ve.put(et)}else this._openInPeek(Ae,dt)})}_openReference(Q,ve,Ae,dt,st){return Le(this,void 0,void 0,function*(){let et;if((0,p.vx)(Ae)&&(et=Ae.targetSelectionRange),et||(et=Ae.range),!et)return;const Qe=yield ve.openCodeEditor({resource:Ae.uri,options:{selection:n.e.collapseToStart(et),selectionRevealType:3,selectionSource:"code.jump"}},Q,dt);if(Qe){if(st){const tt=Qe.getModel(),vt=Qe.createDecorationsCollection([{range:et,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{Qe.getModel()===tt&&vt.clear()},350)}return Qe}})}_openInPeek(Q,ve){const Ae=u.J.get(Q);Ae&&Q.hasModel()?Ae.toggleWidget(Q.getSelection(),(0,l.PG)(dt=>Promise.resolve(ve)),this.configuration.openInPeek):ve.dispose()}}Ue._activeAlternativeCommands=new Set;class nt extends Ue{_getLocationModel(Q,ve,Ae,dt){return Le(this,void 0,void 0,function*(){return new g.oQ(yield(0,Se.nD)(Q.definitionProvider,ve,Ae,dt),w.NC("def.title","Definitions"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?w.NC("noResultWord","No definition found for '{0}'",Q.word):w.NC("generic.noResults","No definition found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeDefinitionCommand}_getGoToPreference(Q){return Q.getOption(53).multipleDefinitions}}const Dt=v.$L&&!(0,d.isStandalone)()?2118:70;$e(((Ne=class wc extends nt{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:wc.id,label:w.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:I.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:Dt,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),fe.P0.registerCommandAlias("editor.action.goToDeclaration",wc.id)}}).id="editor.action.revealDefinition",Ne)),$e(((oe=class Dc extends nt{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Dc.id,label:w.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:I.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:(0,S.gx)(2089,Dt),weight:100}}),fe.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",Dc.id)}}).id="editor.action.revealDefinitionAside",oe)),$e(((we=class Ec extends nt{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ec.id,label:w.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:I.Ao.and(a.u.hasDefinitionProvider,V.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:2}}),fe.P0.registerCommandAlias("editor.action.previewDeclaration",Ec.id)}}).id="editor.action.peekDefinition",we));class Lt extends Ue{_getLocationModel(Q,ve,Ae,dt){return Le(this,void 0,void 0,function*(){return new g.oQ(yield(0,Se.zq)(Q.declarationProvider,ve,Ae,dt),w.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?w.NC("decl.noResultWord","No declaration found for '{0}'",Q.word):w.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeDeclarationCommand}_getGoToPreference(Q){return Q.getOption(53).multipleDeclarations}}$e(((xe=class Xc extends Lt{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Xc.id,label:w.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:I.Ao.and(a.u.hasDeclarationProvider,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(Q){return Q&&Q.word?w.NC("decl.noResultWord","No declaration found for '{0}'",Q.word):w.NC("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",xe)),$e(class extends Lt{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:w.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:I.Ao.and(a.u.hasDeclarationProvider,V.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:3}})}});class Ze extends Ue{_getLocationModel(Q,ve,Ae,dt){return Le(this,void 0,void 0,function*(){return new g.oQ(yield(0,Se.L3)(Q.typeDefinitionProvider,ve,Ae,dt),w.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?w.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",Q.word):w.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(Q){return Q.getOption(53).multipleTypeDefinitions}}$e(((pe=class Jc extends Ze{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Jc.ID,label:w.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:I.Ao.and(a.u.hasTypeDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}}).ID="editor.action.goToTypeDefinition",pe)),$e(((Te=class qc extends Ze{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:qc.ID,label:w.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:I.Ao.and(a.u.hasTypeDefinitionProvider,V.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",Te));class ae extends Ue{_getLocationModel(Q,ve,Ae,dt){return Le(this,void 0,void 0,function*(){return new g.oQ(yield(0,Se.f4)(Q.implementationProvider,ve,Ae,dt),w.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(Q){return Q&&Q.word?w.NC("goToImplementation.noResultWord","No implementation found for '{0}'",Q.word):w.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeImplementationCommand}_getGoToPreference(Q){return Q.getOption(53).multipleImplementations}}$e(((de=class eu extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:eu.ID,label:w.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:I.Ao.and(a.u.hasImplementationProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",de)),$e(((ke=class tu extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:tu.ID,label:w.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:I.Ao.and(a.u.hasImplementationProvider,V.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",ke));class _e extends Ue{_getNoResultFoundMessage(Q){return Q?w.NC("references.no","No references found for '{0}'",Q.word):w.NC("references.noGeneric","No references found")}_getAlternativeCommand(Q){return Q.getOption(53).alternativeReferenceCommand}_getGoToPreference(Q){return Q.getOption(53).multipleReferences}}$e(class extends _e{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:w.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:I.Ao.and(a.u.hasReferenceProvider,V.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(Q,ve,Ae,dt){return Le(this,void 0,void 0,function*(){return new g.oQ(yield(0,Se.aA)(Q.referenceProvider,ve,Ae,!0,dt),w.NC("ref.title","References"))})}}),$e(class extends _e{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:w.NC("references.action.label","Peek References"),alias:"Peek References",precondition:I.Ao.and(a.u.hasReferenceProvider,V.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Z.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(Q,ve,Ae,dt){return Le(this,void 0,void 0,function*(){return new g.oQ(yield(0,Se.aA)(Q.referenceProvider,ve,Ae,!1,dt),w.NC("ref.title","References"))})}});class he extends Ue{constructor(Q,ve,Ae){super(Q,{id:"editor.action.goToLocation",label:w.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:I.Ao.and(V.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated())}),this._references=ve,this._gotoMultipleBehaviour=Ae}_getLocationModel(Q,ve,Ae,dt){return Le(this,void 0,void 0,function*(){return new g.oQ(this._references,w.NC("generic.title","Locations"))})}_getNoResultFoundMessage(Q){return Q&&w.NC("generic.noResult","No results for '{0}'",Q.word)||""}_getGoToPreference(Q){var ve;return null!==(ve=this._gotoMultipleBehaviour)&&void 0!==ve?ve:Q.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}fe.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.o},{name:"position",description:"The position at which to start",constraint:c.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(le,Q,ve,Ae,dt,st,et)=>Le(void 0,void 0,void 0,function*(){(0,T.p_)(C.o.isUri(Q)),(0,T.p_)(c.L.isIPosition(ve)),(0,T.p_)(Array.isArray(Ae)),(0,T.p_)(typeof dt>"u"||"string"==typeof dt),(0,T.p_)(typeof et>"u"||"boolean"==typeof et);const Qe=le.get(s.$),tt=yield Qe.openCodeEditor({resource:Q},Qe.getFocusedCodeEditor());if((0,L.CL)(tt))return tt.setPosition(ve),tt.revealPositionInCenterIfOutsideViewport(ve,0),tt.invokeWithinContext(vt=>{const mt=new class extends he{_getNoResultFoundMessage(_t){return st||super._getNoResultFoundMessage(_t)}}({muteMessage:!Boolean(st),openInPeek:Boolean(et),openToSide:!1},Ae,dt);vt.get(O.TG).invokeFunction(mt.run.bind(mt),tt)})})}),fe.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:C.o},{name:"position",description:"The position at which to start",constraint:c.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(le,Q,ve,Ae,dt)=>Le(void 0,void 0,void 0,function*(){le.get(fe.Hy).executeCommand("editor.action.goToLocations",Q,ve,Ae,dt,void 0,!0)})}),fe.P0.registerCommand({id:"editor.action.findReferences",handler:(le,Q,ve)=>{(0,T.p_)(C.o.isUri(Q)),(0,T.p_)(c.L.isIPosition(ve));const Ae=le.get(Ee.p),dt=le.get(s.$);return dt.openCodeEditor({resource:Q},dt.getFocusedCodeEditor()).then(st=>{if(!(0,L.CL)(st)||!st.hasModel())return;const et=u.J.get(st);if(!et)return;const Qe=(0,l.PG)(vt=>(0,Se.aA)(Ae.referenceProvider,st.getModel(),c.L.lift(ve),!1,vt).then(mt=>new g.oQ(mt,w.NC("ref.title","References")))),tt=new n.e(ve.lineNumber,ve.column,ve.lineNumber,ve.column);return Promise.resolve(et.toggleWidget(tt,Qe,!1))})}}),fe.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Z.BH.appendMenuItems([{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:w.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:w.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:w.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:w.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Z.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:w.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},5291:(Et,X,e)=>{"use strict";e.d(X,{L3:()=>s,aA:()=>m,f4:()=>_,nD:()=>E,zq:()=>L});var d=e(73888),t=e(4125),l=e(26845),S=e(56354),v=e(90790),T=function(n,a,p,u){return new(p||(p=Promise))(function(b,y){function D(P){try{I(u.next(P))}catch(O){y(O)}}function w(P){try{I(u.throw(P))}catch(O){y(O)}}function I(P){P.done?b(P.value):function g(b){return b instanceof p?b:new p(function(y){y(b)})}(P.value).then(D,w)}I((u=u.apply(n,a||[])).next())})};function C(n,a,p,u){const b=p.ordered(n).map(y=>Promise.resolve(u(y,n,a)).then(void 0,D=>{(0,t.Cp)(D)}));return Promise.all(b).then(y=>{const D=[];for(const w of y)Array.isArray(w)?D.push(...w):w&&D.push(w);return D})}function E(n,a,p,u){return C(a,p,n,(g,b,y)=>g.provideDefinition(b,y,u))}function L(n,a,p,u){return C(a,p,n,(g,b,y)=>g.provideDeclaration(b,y,u))}function _(n,a,p,u){return C(a,p,n,(g,b,y)=>g.provideImplementation(b,y,u))}function s(n,a,p,u){return C(a,p,n,(g,b,y)=>g.provideTypeDefinition(b,y,u))}function m(n,a,p,u,g){return C(a,p,n,(b,y,D)=>T(this,void 0,void 0,function*(){const w=yield b.provideReferences(y,D,{includeDeclaration:!0},g);if(!u||!w||2!==w.length)return w;const I=yield b.provideReferences(y,D,{includeDeclaration:!1},g);return I&&1===I.length?I:w}))}function c(n){return T(this,void 0,void 0,function*(){const a=yield n(),p=new S.oQ(a,""),u=p.references.map(g=>g.link);return p.dispose(),u})}(0,l.sb)("_executeDefinitionProvider",(n,a,p)=>{const g=E(n.get(v.p).definitionProvider,a,p,d.T.None);return c(()=>g)}),(0,l.sb)("_executeTypeDefinitionProvider",(n,a,p)=>{const g=s(n.get(v.p).typeDefinitionProvider,a,p,d.T.None);return c(()=>g)}),(0,l.sb)("_executeDeclarationProvider",(n,a,p)=>{const g=L(n.get(v.p).declarationProvider,a,p,d.T.None);return c(()=>g)}),(0,l.sb)("_executeReferenceProvider",(n,a,p)=>{const g=m(n.get(v.p).referenceProvider,a,p,!1,d.T.None);return c(()=>g)}),(0,l.sb)("_executeImplementationProvider",(n,a,p)=>{const g=_(n.get(v.p).implementationProvider,a,p,d.T.None);return c(()=>g)})},46170:(Et,X,e)=>{"use strict";e.d(X,{yN:()=>L});var d=e(3778),t=e(80142),l=e(8841);function S(_,s){return!!_[s]}class v{constructor(s,m){this.target=s.target,this.hasTriggerModifier=S(s.event,m.triggerModifier),this.hasSideBySideModifier=S(s.event,m.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=s.event.detail<=1}}class T{constructor(s,m){this.keyCodeIsTriggerKey=s.keyCode===m.triggerKey,this.keyCodeIsSideBySideKey=s.keyCode===m.triggerSideBySideKey,this.hasTriggerModifier=S(s,m.triggerModifier)}}class C{constructor(s,m,c,n){this.triggerKey=s,this.triggerModifier=m,this.triggerSideBySideKey=c,this.triggerSideBySideModifier=n}equals(s){return this.triggerKey===s.triggerKey&&this.triggerModifier===s.triggerModifier&&this.triggerSideBySideKey===s.triggerSideBySideKey&&this.triggerSideBySideModifier===s.triggerSideBySideModifier}}function E(_){return"altKey"===_?l.dz?new C(57,"metaKey",6,"altKey"):new C(5,"ctrlKey",6,"altKey"):l.dz?new C(6,"altKey",57,"metaKey"):new C(6,"altKey",5,"ctrlKey")}class L extends t.JT{constructor(s){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new d.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new d.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new d.Q5),this.onCancel=this._onCancel.event,this._editor=s,this._opts=E(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(m=>{if(m.hasChanged(72)){const c=E(this._editor.getOption(72));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(m=>this._onEditorMouseMove(new v(m,this._opts)))),this._register(this._editor.onMouseDown(m=>this._onEditorMouseDown(new v(m,this._opts)))),this._register(this._editor.onMouseUp(m=>this._onEditorMouseUp(new v(m,this._opts)))),this._register(this._editor.onKeyDown(m=>this._onEditorKeyDown(new T(m,this._opts)))),this._register(this._editor.onKeyUp(m=>this._onEditorKeyUp(new T(m,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(m=>this._onDidChangeCursorSelection(m))),this._register(this._editor.onDidChangeModel(m=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(m=>{(m.scrollTopChanged||m.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(s){s.selection&&s.selection.startColumn!==s.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(s){this._lastMouseMoveEvent=s,this._onMouseMoveOrRelevantKeyDown.fire([s,null])}_onEditorMouseDown(s){this._hasTriggerKeyOnMouseDown=s.hasTriggerModifier,this._lineNumberOnMouseDown=s.target.position?s.target.position.lineNumber:0}_onEditorMouseUp(s){this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===(s.target.position?s.target.position.lineNumber:0)&&this._onExecute.fire(s)}_onEditorKeyDown(s){this._lastMouseMoveEvent&&(s.keyCodeIsTriggerKey||s.keyCodeIsSideBySideKey&&s.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,s]):s.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(s){s.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},75446:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{GotoDefinitionAtPositionEditorContribution:()=>fe});var d=e(48648),t=e(4125),l=e(48701),S=e(80142),v=e(72715),T=e(57856),C=e.n(T),E=e(38470),L=e.n(E),_=e(43370),s=e.n(_),m=e(28458),c=e.n(m),n=e(71278),a=e.n(n),p=e(29488),u=e.n(p),g=e(60464),b={};b.styleTagTransform=u(),b.setAttributes=c(),b.insert=s().bind(null,"head"),b.domAPI=L(),b.insertStyleElement=a(),C()(g.Z,b);var w=e(18623),I=e(26845),P=e(98570),O=e(45358),H=e(1149),U=e(46170),K=e(81043),F=e(55197),B=e(16468),z=e(4062),$=e(40902),j=e(21021),ne=e(5291),N=e(90790),Z=function(M,Se){return function(Ee,Le){Se(Ee,Le,M)}};let fe=class Kd{constructor(Se,Ee,Le,Ne){this.textModelResolverService=Ee,this.languageService=Le,this.languageFeaturesService=Ne,this.toUnhook=new S.SL,this.toUnhookForKeyboard=new S.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=Se,this.linkDecorations=this.editor.createDecorationsCollection();const oe=new U.yN(Se);this.toUnhook.add(oe),this.toUnhook.add(oe.onMouseMoveOrRelevantKeyDown(([we,xe])=>{this.startFindDefinitionFromMouse(we,(0,v.f6)(xe))})),this.toUnhook.add(oe.onExecute(we=>{this.isEnabled(we)&&this.gotoDefinition(we.target.position,we.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},xe=>{this.removeLinkDecorations(),(0,t.dL)(xe)})})),this.toUnhook.add(oe.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(Se){return Se.getContribution(Kd.ID)}startFindDefinitionFromCursor(Se){return this.startFindDefinition(Se).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(Ee=>{Ee&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(Se,Ee){if(!(9===Se.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(Se,Ee)?void this.startFindDefinition(Se.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(Se){var Ee;this.toUnhookForKeyboard.clear();const Le=Se?null===(Ee=this.editor.getModel())||void 0===Ee?void 0:Ee.getWordAtPosition(Se):null;if(!Le)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===Le.startColumn&&this.currentWordAtPosition.endColumn===Le.endColumn&&this.currentWordAtPosition.word===Le.word)return Promise.resolve(0);this.currentWordAtPosition=Le;const Ne=new w.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,d.PG)(oe=>this.findDefinition(Se,oe)),this.previousPromise.then(oe=>{if(oe&&oe.length&&Ne.validate(this.editor))if(oe.length>1)this.addDecoration(new P.e(Se.lineNumber,Le.startColumn,Se.lineNumber,Le.endColumn),(new l.W5).appendText(F.NC("multipleResults","Click to show {0} definitions.",oe.length)));else{const we=oe[0];if(!we.uri)return;this.textModelResolverService.createModelReference(we.uri).then(xe=>{if(!xe.object||!xe.object.textEditorModel)return void xe.dispose();const{object:{textEditorModel:pe}}=xe,{startLineNumber:Te}=we.range;if(Te<1||Te>pe.getLineCount())return void xe.dispose();const de=this.getPreviewValue(pe,Te,we);let ke;ke=we.originSelectionRange?P.e.lift(we.originSelectionRange):new P.e(Se.lineNumber,Le.startColumn,Se.lineNumber,Le.endColumn);const ze=this.languageService.guessLanguageIdByFilepathOrFirstLine(pe.uri);this.addDecoration(ke,(new l.W5).appendCodeblock(ze||"",de)),xe.dispose()})}else this.removeLinkDecorations()}).then(void 0,t.dL)}getPreviewValue(Se,Ee,Le){let Ne=Le.range;return Ne.endLineNumber-Ne.startLineNumber>=Kd.MAX_SOURCE_PREVIEW_LINES&&(Ne=this.getPreviewRangeBasedOnIndentation(Se,Ee)),this.stripIndentationFromPreviewRange(Se,Ee,Ne)}stripIndentationFromPreviewRange(Se,Ee,Le){let oe=Se.getLineFirstNonWhitespaceColumn(Ee);for(let xe=Ee+1;xe<Le.endLineNumber;xe++){const pe=Se.getLineFirstNonWhitespaceColumn(xe);oe=Math.min(oe,pe)}return Se.getValueInRange(Le).replace(new RegExp(`^\\s{${oe-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(Se,Ee){const Le=Se.getLineFirstNonWhitespaceColumn(Ee),Ne=Math.min(Se.getLineCount(),Ee+Kd.MAX_SOURCE_PREVIEW_LINES);let oe=Ee+1;for(;oe<Ne&&Le!==Se.getLineFirstNonWhitespaceColumn(oe);oe++);return new P.e(Ee,1,oe+1,1)}addDecoration(Se,Ee){this.linkDecorations.set([{range:Se,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:Ee}}])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(Se,Ee){return this.editor.hasModel()&&Se.isNoneOrSingleMouseDown&&6===Se.target.type&&(Se.hasTriggerModifier||!!Ee&&Ee.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(Se,Ee){const Le=this.editor.getModel();return Le?(0,ne.nD)(this.languageFeaturesService.definitionProvider,Le,Se,Ee):Promise.resolve(null)}gotoDefinition(Se,Ee){return this.editor.setPosition(Se),this.editor.invokeWithinContext(Le=>{const Ne=!Ee&&this.editor.getOption(80)&&!this.isInPeekEditor(Le);return new j.DefinitionAction({openToSide:Ee,openInPeek:Ne,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(Le,this.editor)})}isInPeekEditor(Se){const Ee=Se.get(B.i6);return K.Jy.inPeekEditor.getValue(Ee)}dispose(){this.toUnhook.dispose()}};fe.ID="editor.contrib.gotodefinitionatposition",fe.MAX_SOURCE_PREVIEW_LINES=8,fe=function(M,Se,Ee,Le){var we,Ne=arguments.length,oe=Ne<3?Se:null===Le?Le=Object.getOwnPropertyDescriptor(Se,Ee):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(M,Se,Ee,Le);else for(var xe=M.length-1;xe>=0;xe--)(we=M[xe])&&(oe=(Ne<3?we(oe):Ne>3?we(Se,Ee,oe):we(Se,Ee))||oe);return Ne>3&&oe&&Object.defineProperty(Se,Ee,oe),oe}([Z(1,H.S),Z(2,O.O),Z(3,N.p)],fe),(0,I._K)(fe.ID,fe),(0,$.Ic)((M,Se)=>{const Ee=M.getColor(z._Yy);Ee&&Se.addRule(`.monaco-editor .goto-definition-link { color: ${Ee} !important; }`)})},99989:(Et,X,e)=>{"use strict";e.d(X,{J:()=>Ut});var d=e(48648),t=e(4125),l=e(53993),S=e(80142),v=e(33745),T=e(18723),C=e(98570),E=e(81043),L=e(55197),_=e(66549),s=e(94667),m=e(16468),c=e(9265),n=e(98915),a=e(27299),p=e(54436),u=e(48190),g=e(56354),b=e(98463),y=e(93656),D=e(69355),w=e(3778),I=e(59310),P=e(40734),O=e(57856),H=e.n(O),U=e(38470),K=e.n(U),F=e(43370),B=e.n(F),z=e(28458),$=e.n(z),j=e(71278),ne=e.n(j),N=e(29488),V=e.n(N),Z=e(78635),fe={};fe.styleTagTransform=V(),fe.setAttributes=$(),fe.insert=B().bind(null,"head"),fe.domAPI=K(),fe.insertStyleElement=ne(),H()(Z.Z,fe);var Ee=e(19186),Le=e(59758),Ne=e(94911),oe=e(72188),we=e(45358),xe=e(1149),pe=e(30535),Te=e(87969),de=e(80757),ke=e(25715),ze=e(14759),$e=e(57585),ce=e(52075),Ue=e(40902),nt=function(Dn,wt,je,ye){var be,Me=arguments.length,ue=Me<3?wt:null===ye?ye=Object.getOwnPropertyDescriptor(wt,je):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,wt,je,ye);else for(var qe=Dn.length-1;qe>=0;qe--)(be=Dn[qe])&&(ue=(Me<3?be(ue):Me>3?be(wt,je,ue):be(wt,je))||ue);return Me>3&&ue&&Object.defineProperty(wt,je,ue),ue},Dt=function(Dn,wt){return function(je,ye){wt(je,ye,Dn)}};let Lt=class{constructor(wt){this._resolverService=wt}hasChildren(wt){return wt instanceof g.oQ||wt instanceof g.F2}getChildren(wt){if(wt instanceof g.oQ)return wt.groups;if(wt instanceof g.F2)return wt.resolve(this._resolverService).then(je=>je.children);throw new Error("bad tree")}};Lt=nt([Dt(0,xe.S)],Lt);class Ze{getHeight(){return 23}getTemplateId(wt){return wt instanceof g.F2?le.id:ve.id}}let ae=class{constructor(wt){this._keybindingService=wt}getKeyboardNavigationLabel(wt){var je;if(wt instanceof g.WX){const ye=null===(je=wt.parent.getPreview(wt))||void 0===je?void 0:je.preview(wt.range);if(ye)return ye.value}return(0,P.EZ)(wt.uri)}};ae=nt([Dt(0,ze.d)],ae);class _e{getId(wt){return wt instanceof g.WX?wt.id:wt.uri}}let he=class extends S.JT{constructor(wt,je,ye){super(),this._labelService=je;const Me=document.createElement("div");Me.classList.add("reference-file"),this.file=this._register(new de.g(Me,{supportHighlights:!0})),this.badge=new pe.Z(b.R3(Me,b.$(".count"))),this._register((0,ce.WZ)(this.badge,ye)),wt.appendChild(Me)}set(wt,je){const ye=(0,P.XX)(wt.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(wt.uri),this._labelService.getUriLabel(ye,{relative:!0}),{title:this._labelService.getUriLabel(wt.uri),matches:je});const Me=wt.children.length;this.badge.setCount(Me),this.badge.setTitleFormat(Me>1?(0,L.NC)("referencesCount","{0} references",Me):(0,L.NC)("referenceCount","{0} reference",Me))}};he=nt([Dt(1,$e.e),Dt(2,Ue.XE)],he);let le=class nu{constructor(wt){this._instantiationService=wt,this.templateId=nu.id}renderTemplate(wt){return this._instantiationService.createInstance(he,wt)}renderElement(wt,je,ye){ye.set(wt.element,(0,ke.mB)(wt.filterData))}disposeTemplate(wt){wt.dispose()}};le.id="FileReferencesRenderer",le=nt([Dt(0,c.TG)],le);class Q{constructor(wt){this.label=new Te.q(wt)}set(wt,je){var ye;const Me=null===(ye=wt.parent.getPreview(wt))||void 0===ye?void 0:ye.preview(wt.range);if(Me&&Me.value){const{value:ue,highlight:be}=Me;je&&!ke.CL.isDefault(je)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(ue,(0,ke.mB)(je))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(ue,[be]))}else this.label.set(`${(0,P.EZ)(wt.uri)}:${wt.range.startLineNumber+1}:${wt.range.startColumn+1}`)}}let ve=(()=>{class Dn{constructor(){this.templateId=Dn.id}renderTemplate(je){return new Q(je)}renderElement(je,ye,Me){Me.set(je.element,je.filterData)}disposeTemplate(){}}return Dn.id="OneReferenceRenderer",Dn})();class Ae{getWidgetAriaLabel(){return(0,L.NC)("treeAriaLabel","References")}getAriaLabel(wt){return wt.ariaMessage}}var dt=e(93633),et=function(Dn,wt){return function(je,ye){wt(je,ye,Dn)}},Qe=function(Dn,wt,je,ye){return new(je||(je=Promise))(function(ue,be){function qe(bt){try{ot(ye.next(bt))}catch(Ht){be(Ht)}}function Fe(bt){try{ot(ye.throw(bt))}catch(Ht){be(Ht)}}function ot(bt){bt.done?ue(bt.value):function Me(ue){return ue instanceof je?ue:new je(function(be){be(ue)})}(bt.value).then(qe,Fe)}ot((ye=ye.apply(Dn,wt||[])).next())})};class tt{constructor(wt,je){this._editor=wt,this._model=je,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.SL,this._callOnModelChange=new S.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const wt=this._editor.getModel();if(wt)for(const je of this._model.references)if(je.uri.toString()===wt.uri.toString())return void this._addDecorations(je.parent)}_addDecorations(wt){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const je=[],ye=[];for(let Me=0,ue=wt.children.length;Me<ue;Me++){const be=wt.children[Me];this._decorationIgnoreSet.has(be.id)||be.uri.toString()===this._editor.getModel().uri.toString()&&(je.push({range:be.range,options:tt.DecorationOptions}),ye.push(Me))}this._editor.changeDecorations(Me=>{const ue=Me.deltaDecorations([],je);for(let be=0;be<ue.length;be++)this._decorations.set(ue[be],wt.children[ye[be]])})}_onDecorationChanged(){const wt=[],je=this._editor.getModel();if(je){for(const[ye,Me]of this._decorations){const ue=je.getDecorationRange(ye);if(!ue)continue;let be=!1;C.e.equalsRange(ue,Me.range)||((C.e.spansMultipleLines(ue)||Me.range.endColumn-Me.range.startColumn!=ue.endColumn-ue.startColumn)&&(be=!0),be?(this._decorationIgnoreSet.add(Me.id),wt.push(ye)):Me.range=ue)}for(let ye=0,Me=wt.length;ye<Me;ye++)this._decorations.delete(wt[ye]);this._editor.removeDecorations(wt)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}tt.DecorationOptions=Le.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class vt{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(wt){let je,ye;try{const Me=JSON.parse(wt);je=Me.ratio,ye=Me.heightInLines}catch{}return{ratio:je||.7,heightInLines:ye||18}}}class mt extends a.ls{}let _t=class extends E.vk{constructor(wt,je,ye,Me,ue,be,qe,Fe,ot,bt,Ht,vn){super(wt,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},be),this._defaultTreeKeyboardSupport=je,this.layoutData=ye,this._textModelResolverService=ue,this._instantiationService=be,this._peekViewService=qe,this._uriLabel=Fe,this._undoRedoService=ot,this._keybindingService=bt,this._languageService=Ht,this._languageConfigurationService=vn,this._disposeOnNewModel=new S.SL,this._callOnDispose=new S.SL,this._onDidSelectReference=new w.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new b.Ro(0,0),this._applyTheme(Me.getColorTheme()),this._callOnDispose.add(Me.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(wt,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.B9)(this._preview),(0,S.B9)(this._previewNotAvailableMessage),(0,S.B9)(this._tree),(0,S.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(wt){const je=wt.getColor(E.SC)||D.Il.transparent;this.style({arrowColor:je,frameColor:je,headerBackgroundColor:wt.getColor(E.KY)||D.Il.transparent,primaryHeadingColor:wt.getColor(E.IH),secondaryHeadingColor:wt.getColor(E.R7)})}show(wt){super.show(wt,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(wt){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:wt.ctrlKey||wt.metaKey||wt.altKey?"side":"open",source:"title"})}_fillBody(wt){this.setCssClass("reference-zone-widget"),this._messageContainer=b.R3(wt,b.$("div.messages")),b.Cp(this._messageContainer),this._splitView=new y.z(wt,{orientation:1}),this._previewContainer=b.R3(wt,b.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(Ee.H,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),b.Cp(this._previewContainer),this._previewNotAvailableMessage=new Le.yO(L.NC("missingPreviewMessage","no preview available"),oe.bd,Le.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=b.R3(wt,b.$("div.ref-tree.inline"));const ye={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Ae,keyboardNavigationLabelProvider:this._instantiationService.createInstance(ae),identityProvider:new _e,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:E.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(b.mu(this._treeContainer,"keydown",ue=>{ue.equals(9)&&(this._keybindingService.dispatchEvent(ue,ue.target),ue.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(mt,"ReferencesWidget",this._treeContainer,new Ze,[this._instantiationService.createInstance(le),this._instantiationService.createInstance(ve)],this._instantiationService.createInstance(Lt),ye),this._splitView.addView({onDidChange:w.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:ue=>{this._preview.layout({height:this._dim.height,width:ue})}},y.M.Distribute),this._splitView.addView({onDidChange:w.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:ue=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${ue}px`,this._tree.layout(this._dim.height,ue)}},y.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Me=(ue,be)=>{ue instanceof g.WX&&("show"===be&&this._revealReference(ue,!1),this._onDidSelectReference.fire({element:ue,kind:be,source:"tree"}))};this._tree.onDidOpen(ue=>{Me(ue.element,ue.sideBySide?"side":ue.editorOptions.pinned?"goto":"show")}),b.Cp(this._treeContainer)}_onWidth(wt){this._dim&&this._doLayoutBody(this._dim.height,wt)}_doLayoutBody(wt,je){super._doLayoutBody(wt,je),this._dim=new b.Ro(je,wt),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(je),this._splitView.resizeView(0,je*this.layoutData.ratio)}setSelection(wt){return this._revealReference(wt,!0).then(()=>{!this._model||(this._tree.setSelection([wt]),this._tree.setFocus([wt]))})}setModel(wt){return this._disposeOnNewModel.clear(),this._model=wt,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=L.NC("noResults","No results"),b.$Z(this._messageContainer),Promise.resolve(void 0)):(b.Cp(this._messageContainer),this._decorationsManager=new tt(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(wt=>this._tree.rerender(wt))),this._disposeOnNewModel.add(this._preview.onMouseDown(wt=>{const{event:je,target:ye}=wt;if(2!==je.detail)return;const Me=this._getFocusedReference();!Me||this._onDidSelectReference.fire({element:{uri:Me.uri,range:ye.range},kind:je.ctrlKey||je.metaKey||je.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),b.$Z(this._treeContainer),b.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[wt]=this._tree.getFocus();return wt instanceof g.WX?wt:wt instanceof g.F2&&wt.children.length>0?wt.children[0]:void 0}revealReference(wt){return Qe(this,void 0,void 0,function*(){yield this._revealReference(wt,!1),this._onDidSelectReference.fire({element:wt,kind:"goto",source:"tree"})})}_revealReference(wt,je){return Qe(this,void 0,void 0,function*(){if(this._revealedReference===wt)return;this._revealedReference=wt,wt.uri.scheme!==I.lg.inMemory?this.setTitle((0,P.Hx)(wt.uri),this._uriLabel.getUriLabel((0,P.XX)(wt.uri))):this.setTitle(L.NC("peekView.alternateTitle","References"));const ye=this._textModelResolverService.createModelReference(wt.uri);this._tree.getInput()===wt.parent||(je&&this._tree.reveal(wt.parent),yield this._tree.expand(wt.parent)),this._tree.reveal(wt);const Me=yield ye;if(!this._model)return void Me.dispose();(0,S.B9)(this._previewModelReference);const ue=Me.object;if(ue){const be=this._preview.getModel()===ue.textEditorModel?0:1,qe=C.e.lift(wt.range).collapseToStart();this._previewModelReference=Me,this._preview.setModel(ue.textEditorModel),this._preview.setSelection(qe),this._preview.revealRangeInCenter(qe,be)}else this._preview.setModel(this._previewNotAvailableMessage),Me.dispose()})}};_t=function(Dn,wt,je,ye){var be,Me=arguments.length,ue=Me<3?wt:null===ye?ye=Object.getOwnPropertyDescriptor(wt,je):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,wt,je,ye);else for(var qe=Dn.length-1;qe>=0;qe--)(be=Dn[qe])&&(ue=(Me<3?be(ue):Me>3?be(wt,je,ue):be(wt,je))||ue);return Me>3&&ue&&Object.defineProperty(wt,je,ue),ue}([et(3,Ue.XE),et(4,xe.S),et(5,c.TG),et(6,E.Fw),et(7,$e.e),et(8,dt.tJ),et(9,ze.d),et(10,we.O),et(11,Ne.c_)],_t);var Bt=function(Dn,wt){return function(je,ye){wt(je,ye,Dn)}},Ge=function(Dn,wt,je,ye){return new(je||(je=Promise))(function(ue,be){function qe(bt){try{ot(ye.next(bt))}catch(Ht){be(Ht)}}function Fe(bt){try{ot(ye.throw(bt))}catch(Ht){be(Ht)}}function ot(bt){bt.done?ue(bt.value):function Me(ue){return ue instanceof je?ue:new je(function(be){be(ue)})}(bt.value).then(qe,Fe)}ot((ye=ye.apply(Dn,wt||[])).next())})};const ut=new m.uy("referenceSearchVisible",!1,L.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Ut=class Lc{constructor(wt,je,ye,Me,ue,be,qe,Fe){this._defaultTreeKeyboardSupport=wt,this._editor=je,this._editorService=Me,this._notificationService=ue,this._instantiationService=be,this._storageService=qe,this._configurationService=Fe,this._disposables=new S.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=ut.bindTo(ye)}static get(wt){return wt.getContribution(Lc.ID)}dispose(){var wt,je;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(wt=this._widget)||void 0===wt||wt.dispose(),null===(je=this._model)||void 0===je||je.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(wt,je,ye){let Me;if(this._widget&&(Me=this._widget.position),this.closeWidget(),Me&&wt.containsPosition(Me))return;this._peekMode=ye,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const ue="peekViewLayout",be=vt.fromJSON(this._storageService.get(ue,0,"{}"));this._widget=this._instantiationService.createInstance(_t,this._editor,this._defaultTreeKeyboardSupport,be),this._widget.setTitle(L.NC("labelLoading","Loading...")),this._widget.show(wt),this._disposables.add(this._widget.onDidClose(()=>{je.cancel(),this._widget&&(this._storageService.store(ue,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Fe=>{const{element:ot,kind:bt}=Fe;if(ot)switch(bt){case"open":("editor"!==Fe.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(ot,!1,!1);break;case"side":this.openReference(ot,!0,!1);break;case"goto":ye?this._gotoReference(ot):this.openReference(ot,!1,!0)}}));const qe=++this._requestIdPool;je.then(Fe=>{var ot;if(qe===this._requestIdPool&&this._widget)return null===(ot=this._model)||void 0===ot||ot.dispose(),this._model=Fe,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":L.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const bt=this._editor.getModel().uri,Ht=new T.L(wt.startLineNumber,wt.startColumn),vn=this._model.nearestReference(bt,Ht);if(vn)return this._widget.setSelection(vn).then(()=>{this._widget&&"editor"===this._editor.getOption(79)&&this._widget.focusOnPreviewEditor()})}});Fe.dispose()},Fe=>{this._notificationService.error(Fe)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(wt){return Ge(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const je=this._widget.position;if(!je)return;const ye=this._model.nearestReference(this._editor.getModel().uri,je);if(!ye)return;const Me=this._model.nextOrPreviousReference(ye,wt),ue=this._editor.hasTextFocus(),be=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Me),yield this._gotoReference(Me),ue?this._editor.focus():this._widget&&be&&this._widget.focusOnPreviewEditor()})}revealReference(wt){return Ge(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(wt))})}closeWidget(wt=!0){var je,ye;null===(je=this._widget)||void 0===je||je.dispose(),null===(ye=this._model)||void 0===ye||ye.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,wt&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(wt){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const je=C.e.lift(wt.range).collapseToStart();return this._editorService.openCodeEditor({resource:wt.uri,options:{selection:je,selectionSource:"code.jump"}},this._editor).then(ye=>{var Me;if(this._ignoreModelChangeEvent=!1,ye&&this._widget)if(this._editor===ye)this._widget.show(je),this._widget.focusOnReferenceTree();else{const ue=Lc.get(ye),be=this._model.clone();this.closeWidget(),ye.focus(),ue?.toggleWidget(je,(0,d.PG)(qe=>Promise.resolve(be)),null!==(Me=this._peekMode)&&void 0!==Me&&Me)}else this.closeWidget()},ye=>{this._ignoreModelChangeEvent=!1,(0,t.dL)(ye)})}openReference(wt,je,ye){je||this.closeWidget();const{uri:Me,range:ue}=wt;this._editorService.openCodeEditor({resource:Me,options:{selection:ue,selectionSource:"code.jump",pinned:ye}},this._editor,je)}};function hn(Dn,wt){const je=(0,E.rc)(Dn);if(!je)return;const ye=Ut.get(je);ye&&wt(ye)}Ut.ID="editor.contrib.referencesController",Ut=function(Dn,wt,je,ye){var be,Me=arguments.length,ue=Me<3?wt:null===ye?ye=Object.getOwnPropertyDescriptor(wt,je):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(Dn,wt,je,ye);else for(var qe=Dn.length-1;qe>=0;qe--)(be=Dn[qe])&&(ue=(Me<3?be(ue):Me>3?be(wt,je,ue):be(wt,je))||ue);return Me>3&&ue&&Object.defineProperty(wt,je,ue),ue}([Bt(2,m.i6),Bt(3,v.$),Bt(4,p.lT),Bt(5,c.TG),Bt(6,u.Uy),Bt(7,s.Ui)],Ut),n.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,l.gx)(2089,60),when:m.Ao.or(ut,E.Jy.inPeekEditor),handler(Dn){hn(Dn,wt=>{wt.changeFocusBetweenPreviewAndReferences()})}}),n.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:m.Ao.or(ut,E.Jy.inPeekEditor),handler(Dn){hn(Dn,wt=>{wt.goToNextOrPreviousReference(!0)})}}),n.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:m.Ao.or(ut,E.Jy.inPeekEditor),handler(Dn){hn(Dn,wt=>{wt.goToNextOrPreviousReference(!1)})}}),_.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),_.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),_.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),_.P0.registerCommand("closeReferenceSearch",Dn=>hn(Dn,wt=>wt.closeWidget())),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:m.Ao.and(E.Jy.inPeekEditor,m.Ao.not("config.editor.stablePeek"))}),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:m.Ao.and(ut,m.Ao.not("config.editor.stablePeek"))}),n.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:m.Ao.and(ut,a.CQ,a.PS.negate(),a.uJ.negate()),handler(Dn){var wt;const ye=null===(wt=Dn.get(a.Lw).lastFocusedList)||void 0===wt?void 0:wt.getFocus();Array.isArray(ye)&&ye[0]instanceof g.WX&&hn(Dn,Me=>Me.revealReference(ye[0]))}}),n.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:m.Ao.and(ut,a.CQ,a.PS.negate(),a.uJ.negate()),handler(Dn){var wt;const ye=null===(wt=Dn.get(a.Lw).lastFocusedList)||void 0===wt?void 0:wt.getFocus();Array.isArray(ye)&&ye[0]instanceof g.WX&&hn(Dn,Me=>Me.openReference(ye[0],!0,!0))}}),_.P0.registerCommand("openReference",Dn=>{var wt;const ye=null===(wt=Dn.get(a.Lw).lastFocusedList)||void 0===wt?void 0:wt.getFocus();Array.isArray(ye)&&ye[0]instanceof g.WX&&hn(Dn,Me=>Me.openReference(ye[0],!1,!0))})},56354:(Et,X,e)=>{"use strict";e.d(X,{F2:()=>c,WX:()=>s,oQ:()=>n});var d=e(4125),t=e(3778),l=e(84575),S=e(80142),v=e(5067),T=e(40734),C=e(73879),E=e(98570),L=e(55197);class s{constructor(p,u,g,b){this.isProviderFirst=p,this.parent=u,this.link=g,this._rangeCallback=b,this.id=l.a.nextId()}get uri(){return this.link.uri}get range(){var p,u;return null!==(u=null!==(p=this._range)&&void 0!==p?p:this.link.targetSelectionRange)&&void 0!==u?u:this.link.range}set range(p){this._range=p,this._rangeCallback(this)}get ariaMessage(){var p;const u=null===(p=this.parent.getPreview(this))||void 0===p?void 0:p.preview(this.range);return u?(0,L.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,T.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,u.value):(0,L.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,T.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class m{constructor(p){this._modelReference=p}dispose(){this._modelReference.dispose()}preview(p,u=8){const g=this._modelReference.object.textEditorModel;if(!g)return;const{startLineNumber:b,startColumn:y,endLineNumber:D,endColumn:w}=p,I=g.getWordUntilPosition({lineNumber:b,column:y-u}),P=new E.e(b,I.startColumn,b,y),O=new E.e(D,w,D,1073741824),H=g.getValueInRange(P).replace(/^\s+/,""),U=g.getValueInRange(p);return{value:H+U+g.getValueInRange(O).replace(/\s+$/,""),highlight:{start:H.length,end:H.length+U.length}}}}class c{constructor(p,u){this.parent=p,this.uri=u,this.children=[],this._previews=new v.Y9}dispose(){(0,S.B9)(this._previews.values()),this._previews.clear()}getPreview(p){return this._previews.get(p.uri)}get ariaMessage(){const p=this.children.length;return 1===p?(0,L.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,T.EZ)(this.uri),this.uri.fsPath):(0,L.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",p,(0,T.EZ)(this.uri),this.uri.fsPath)}resolve(p){return function(a,p,u,g){return new(u||(u=Promise))(function(y,D){function w(O){try{P(g.next(O))}catch(H){D(H)}}function I(O){try{P(g.throw(O))}catch(H){D(H)}}function P(O){O.done?y(O.value):function b(y){return y instanceof u?y:new u(function(D){D(y)})}(O.value).then(w,I)}P((g=g.apply(a,p||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(const u of this.children)if(!this._previews.has(u.uri))try{const g=yield p.createModelReference(u.uri);this._previews.set(u.uri,new m(g))}catch(g){(0,d.dL)(g)}return this})}}class n{constructor(p,u){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new t.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=p,this._title=u;const[g]=p;let b;p.sort(n._compareReferences);for(const y of p)if((!b||!T.SF.isEqual(b.uri,y.uri,!0))&&(b=new c(this,y.uri),this.groups.push(b)),0===b.children.length||0!==n._compareReferences(y,b.children[b.children.length-1])){const D=new s(g===y,b,y,w=>this._onDidChangeReferenceRange.fire(w));this.references.push(D),b.children.push(D)}}dispose(){(0,S.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,L.NC)("aria.result.0","No results found"):1===this.references.length?(0,L.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,L.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,L.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(p,u){const{parent:g}=p;let b=g.children.indexOf(p);const y=g.children.length,D=g.parent.groups.length;return 1===D||u&&b+1<y||!u&&b>0?(b=u?(b+1)%y:(b+y-1)%y,g.children[b]):(b=g.parent.groups.indexOf(g),u?(b=(b+1)%D,g.parent.groups[b].children[0]):(b=(b+D-1)%D,g.parent.groups[b].children[g.parent.groups[b].children.length-1]))}nearestReference(p,u){const g=this.references.map((b,y)=>({idx:y,prefixLen:C.Mh(b.uri.toString(),p.toString()),offsetDist:100*Math.abs(b.range.startLineNumber-u.lineNumber)+Math.abs(b.range.startColumn-u.column)})).sort((b,y)=>b.prefixLen>y.prefixLen?-1:b.prefixLen<y.prefixLen?1:b.offsetDist<y.offsetDist?-1:b.offsetDist>y.offsetDist?1:0)[0];if(g)return this.references[g.idx]}referenceAt(p,u){for(const g of this.references)if(g.uri.toString()===p.toString()&&E.e.containsPosition(g.range,u))return g}firstReference(){for(const p of this.references)if(p.isProviderFirst)return p;return this.references[0]}static _compareReferences(p,u){return T.SF.compare(p.uri,u.uri)||E.e.compareRangesUsingStarts(p.range,u.range)}}},83823:(Et,X,e)=>{"use strict";e.d(X,{R8:()=>L});var d=e(48648),t=e(73888),l=e(4125),S=e(26845),v=e(90790);class C{constructor(c,n,a){this.provider=c,this.hover=n,this.ordinal=a}}function L(m,c,n,a){const u=m.ordered(c).map((g,b)=>function E(m,c,n,a,p){return function(m,c,n,a){return new(n||(n=Promise))(function(u,g){function b(w){try{D(a.next(w))}catch(I){g(I)}}function y(w){try{D(a.throw(w))}catch(I){g(I)}}function D(w){w.done?u(w.value):function p(u){return u instanceof n?u:new n(function(g){g(u)})}(w.value).then(b,y)}D((a=a.apply(m,c||[])).next())})}(this,void 0,void 0,function*(){try{const u=yield Promise.resolve(m.provideHover(n,a,p));if(u&&function s(m){return typeof m.range<"u"&&typeof m.contents<"u"&&m.contents&&m.contents.length>0}(u))return new C(m,u,c)}catch(u){(0,l.Cp)(u)}})}(g,b,c,n,a));return d.Aq.fromPromises(u).coalesce()}(0,S.sb)("_executeHoverProvider",(m,c,n)=>function _(m,c,n,a){return L(m,c,n,a).map(p=>p.hover).toPromise()}(m.get(v.p).hoverProvider,c,n,t.T.None))},39610:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{ModesHoverController:()=>wt});var d=e(53993),t=e(80142),l=e(26845),S=e(98570),v=e(82290),T=e(45358),C=e(75446),E=e(98463),L=e(41140),_=e(3067),s=e(57856),m=e.n(s),c=e(38470),n=e.n(c),a=e(43370),p=e.n(a),u=e(28458),g=e.n(u),b=e(71278),y=e.n(b),D=e(29488),w=e.n(D),I=e(70994),P={};P.styleTagTransform=w(),P.setAttributes=g(),P.insert=p().bind(null,"head"),P.domAPI=n(),P.insertStyleElement=y(),m()(I.Z,P);const U=E.$;class K extends t.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new _.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class F extends t.JT{constructor(ue,be,qe){super(),this.actionContainer=E.R3(ue,U("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=E.R3(this.actionContainer,U("a.action")),this.action.setAttribute("role","button"),be.iconClass&&E.R3(this.action,U(`span.icon.${be.iconClass}`)),E.R3(this.action,U("span")).textContent=qe?`${be.label} (${qe})`:be.label,this._register(E.nm(this.actionContainer,E.tw.CLICK,ot=>{ot.stopPropagation(),ot.preventDefault(),be.run(this.actionContainer)})),this._register(E.nm(this.actionContainer,E.tw.KEY_UP,ot=>{new L.y(ot).equals(3)&&(ot.stopPropagation(),ot.preventDefault(),be.run(this.actionContainer))})),this.setEnabled(!0)}static render(ue,be,qe){return new F(ue,be,qe)}setEnabled(ue){ue?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var B=e(64023),z=e(18723),$=e(59758),j=e(45337),ne=e(48648),N=e(4125),V=e(3778);class M{constructor(ue,be,qe){this.value=ue,this.isComplete=be,this.hasLoadingMessage=qe}}class Se extends t.JT{constructor(ue,be){super(),this._editor=ue,this._computer=be,this._onResult=this._register(new V.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new ne.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new ne.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new ne.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(ue,be=!0){this._state=ue,be&&this._fireResult()}_triggerAsyncComputation(){var Me,ue,be,qe;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,ne.zS)(ue=>this._computer.computeAsync(ue)),Me=this,ue=void 0,qe=function*(){var ue,be;try{try{for(var Fe,qe=function(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ue=Me[Symbol.asyncIterator];return ue?ue.call(Me):(Me="function"==typeof __values?__values(Me):Me[Symbol.iterator](),be={},qe("next"),qe("throw"),qe("return"),be[Symbol.asyncIterator]=function(){return this},be);function qe(ot){be[ot]=Me[ot]&&function(bt){return new Promise(function(Ht,vn){!function Fe(ot,bt,Ht,vn){Promise.resolve(vn).then(function(Mn){ot({value:Mn,done:Ht})},bt)}(Ht,vn,(bt=Me[ot](bt)).done,bt.value)})}}}(this._asyncIterable);!(Fe=yield qe.next()).done;){const ot=Fe.value;ot&&(this._result.push(ot),this._fireResult())}}catch(ot){ue={error:ot}}finally{try{Fe&&!Fe.done&&(be=qe.return)&&(yield be.call(qe))}finally{if(ue)throw ue.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(ot){(0,N.dL)(ot)}},new((be=void 0)||(be=Promise))(function(ot,bt){function Ht(Ct){try{Mn(qe.next(Ct))}catch(fn){bt(fn)}}function vn(Ct){try{Mn(qe.throw(Ct))}catch(fn){bt(fn)}}function Mn(Ct){Ct.done?ot(Ct.value):function Fe(ot){return ot instanceof be?ot:new be(function(bt){bt(ot)})}(Ct.value).then(Ht,vn)}Mn((qe=qe.apply(Me,ue||[])).next())})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const ue=0===this._state,be=4===this._state;this._onResult.fire(new M(this._result.slice(0),ue,be))}start(ue){if(0===ue)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var Ee=e(91717),Le=e(16468),Ne=e(9265),oe=e(14759),we=e(83956),xe=function(Me,ue,be,qe){var bt,Fe=arguments.length,ot=Fe<3?ue:null===qe?qe=Object.getOwnPropertyDescriptor(ue,be):qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(Me,ue,be,qe);else for(var Ht=Me.length-1;Ht>=0;Ht--)(bt=Me[Ht])&&(ot=(Fe<3?bt(ot):Fe>3?bt(ue,be,ot):bt(ue,be))||ot);return Fe>3&&ot&&Object.defineProperty(ue,be,ot),ot},pe=function(Me,ue){return function(be,qe){ue(be,qe,Me)}};const Te=E.$;let de=class xc extends t.JT{constructor(ue,be,qe){super(),this._editor=ue,this._instantiationService=be,this._keybindingService=qe,this._widget=this._register(this._instantiationService.createInstance(ze,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const Fe of Ee.Ae.getAll())this._participants.push(this._instantiationService.createInstance(Fe,this._editor));this._participants.sort((Fe,ot)=>Fe.hoverOrdinal-ot.hoverOrdinal),this._computer=new ce(this._editor,this._participants),this._hoverOperation=this._register(new Se(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Fe=>{this._withResult(Fe.value,Fe.isComplete,Fe.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(E.mu(this._widget.getDomNode(),"keydown",Fe=>{Fe.equals(9)&&this.hide()})),this._register(j.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(ue){const be=[];for(const Fe of this._participants)if(Fe.suggestHoverAnchor){const ot=Fe.suggestHoverAnchor(ue);ot&&be.push(ot)}const qe=ue.target;if(6===qe.type&&be.push(new Ee.Qj(0,qe.range)),7===qe.type){const Fe=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!qe.detail.isAfterLines&&"number"==typeof qe.detail.horizontalDistanceToText&&qe.detail.horizontalDistanceToText<Fe&&be.push(new Ee.Qj(0,qe.range))}return 0!==be.length&&(be.sort((Fe,ot)=>ot.priority-Fe.priority),this._startShowingAt(be[0],0,!1),!0)}startShowingAtRange(ue,be,qe){this._startShowingAt(new Ee.Qj(0,ue),be,qe)}_startShowingAt(ue,be,qe){if(!this._computer.anchor||!this._computer.anchor.equals(ue)){if(this._hoverOperation.cancel(),this._widget.position)if(this._computer.anchor&&ue.canAdoptVisibleHover(this._computer.anchor,this._widget.position)){const Fe=this._messages.filter(ot=>ot.isValidForHoverAnchor(ue));if(0===Fe.length)this.hide();else{if(Fe.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(ue,Fe)}}else this.hide();this._computer.anchor=ue,this._computer.shouldFocus=qe,this._hoverOperation.start(be)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(ue){return this._widget.getDomNode().contains(ue)}_addLoadingMessage(ue){if(this._computer.anchor)for(const be of this._participants)if(be.createLoadingMessage){const qe=be.createLoadingMessage(this._computer.anchor);if(qe)return ue.slice(0).concat([qe])}return ue}_withResult(ue,be,qe){this._messages=qe?this._addLoadingMessage(ue):ue,this._messagesAreComplete=be,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):be&&this.hide()}_renderMessages(ue,be){const{showAtPosition:qe,showAtRange:Fe,highlightRange:ot}=xc.computeHoverRanges(ue.range,be),bt=new t.SL,Ht=bt.add(new $e(this._keybindingService)),vn=document.createDocumentFragment();let Mn=null;const Ct={fragment:vn,statusBar:Ht,setColorPicker:fn=>Mn=fn,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const fn of this._participants){const Vn=be.filter(yn=>yn.owner===fn);Vn.length>0&&bt.add(fn.renderHoverParts(Ct,Vn))}if(Ht.hasContent&&vn.appendChild(Ht.hoverElement),vn.hasChildNodes()){if(ot){const fn=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,fn.set([{range:ot,options:xc._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}bt.add((0,t.OF)(()=>{try{this._isChangingDecorations=!0,fn.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(vn,new ke(Mn,qe,Fe,this._editor.getOption(55).above,this._computer.shouldFocus,bt))}else bt.dispose()}static computeHoverRanges(ue,be){const qe=ue.startLineNumber;let Fe=ue.startColumn,ot=ue.endColumn,bt=be[0].range,Ht=null;for(const vn of be)bt=S.e.plusRange(bt,vn.range),vn.range.startLineNumber===qe&&vn.range.endLineNumber===qe&&(Fe=Math.min(Fe,vn.range.startColumn),ot=Math.max(ot,vn.range.endColumn)),vn.forceShowAtRange&&(Ht=vn.range);return{showAtPosition:Ht?Ht.getStartPosition():new z.L(ue.startLineNumber,Fe),showAtRange:Ht||new S.e(qe,Fe,qe,ot),highlightRange:bt}}};de._DECORATION_OPTIONS=$.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),de=xe([pe(1,Ne.TG),pe(2,oe.d)],de);class ke{constructor(ue,be,qe,Fe,ot,bt){this.colorPicker=ue,this.showAtPosition=be,this.showAtRange=qe,this.preferAbove=Fe,this.stoleFocus=ot,this.disposables=bt}}let ze=class iu extends t.JT{constructor(ue,be){super(),this._editor=ue,this._contextKeyService=be,this.allowEditorOverflow=!0,this._hoverVisibleKey=v.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new K),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(qe=>{qe.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var ue,be;return null!==(be=null===(ue=this._visibleData)||void 0===ue?void 0:ue.showAtPosition)&&void 0!==be?be:null}get isColorPickerVisible(){var ue;return Boolean(null===(ue=this._visibleData)||void 0===ue?void 0:ue.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return iu.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let ue=this._visibleData.preferAbove;return!ue&&this._contextKeyService.getContextKeyValue(we._y.Visible.key)&&(ue=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:ue?[1,2]:[2,1]}}_setVisibleData(ue){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=ue,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const ue=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:be,lineHeight:qe}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${be}px`,this._hover.contentsDomNode.style.lineHeight=""+qe/be,this._hover.contentsDomNode.style.maxHeight=`${ue}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(be=>this._editor.applyFontInfo(be))}showAt(ue,be){this._setVisibleData(be),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(ue),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),be.stoleFocus&&this._hover.containerDomNode.focus(),be.colorPicker&&be.colorPicker.layout()}hide(){if(this._visibleData){const ue=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),ue&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const ue=this._hover.scrollbar.getScrollDimensions();if(ue.scrollWidth>ue.width){const qe=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==qe&&(this._hover.contentsDomNode.style.paddingBottom=qe,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};ze.ID="editor.contrib.contentHoverWidget",ze=xe([pe(1,Le.i6)],ze);let $e=class extends t.JT{constructor(ue){super(),this._keybindingService=ue,this._hasContent=!1,this.hoverElement=Te("div.hover-row.status-bar"),this.actionsElement=E.R3(this.hoverElement,Te("div.actions"))}get hasContent(){return this._hasContent}addAction(ue){const be=this._keybindingService.lookupKeybinding(ue.commandId),qe=be?be.getLabel():null;return this._hasContent=!0,this._register(F.render(this.actionsElement,ue,qe))}append(ue){const be=E.R3(this.actionsElement,ue);return this._hasContent=!0,be}};$e=xe([pe(0,oe.d)],$e);class ce{constructor(ue,be){this._editor=ue,this._participants=be,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(ue){this._anchor=ue}get shouldFocus(){return this._shouldFocus}set shouldFocus(ue){this._shouldFocus=ue}static _getLineDecorations(ue,be){if(1!==be.type)return[];const qe=ue.getModel(),Fe=be.range.startLineNumber;if(Fe>qe.getLineCount())return[];const ot=qe.getLineMaxColumn(Fe);return ue.getLineDecorations(Fe).filter(bt=>{if(bt.options.isWholeLine)return!0;const Ht=bt.range.startLineNumber===Fe?bt.range.startColumn:1,vn=bt.range.endLineNumber===Fe?bt.range.endColumn:ot;if(bt.options.showIfCollapsed){if(Ht>be.range.startColumn+1||be.range.endColumn-1>vn)return!1}else if(Ht>be.range.startColumn||be.range.endColumn>vn)return!1;return!0})}computeAsync(ue){const be=this._anchor;if(!this._editor.hasModel()||!be)return ne.Aq.EMPTY;const qe=ce._getLineDecorations(this._editor,be);return ne.Aq.merge(this._participants.map(Fe=>Fe.computeAsync?Fe.computeAsync(be,qe,ue):ne.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const ue=ce._getLineDecorations(this._editor,this._anchor);let be=[];for(const qe of this._participants)be=be.concat(qe.computeSync(this._anchor,ue));return(0,B.kX)(be)}}var Ue=e(48701),nt=e(29739),Dt=e(44827);const Lt=E.$;let Ze=(()=>{class Me extends t.JT{constructor(be,qe,Fe=Dt.SW){super(),this._renderDisposeables=this._register(new t.SL),this._editor=be,this._isVisible=!1,this._messages=[],this._hover=this._register(new K),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new nt.$({editor:this._editor},qe,Fe)),this._computer=new ae(this._editor),this._hoverOperation=this._register(new Se(this._editor,this._computer)),this._register(this._hoverOperation.onResult(ot=>{this._withResult(ot.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(ot=>{ot.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Me.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(qe=>this._editor.applyFontInfo(qe))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(be){this._computer.lineNumber!==be&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=be,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(be){this._messages=be,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(be,qe){this._renderDisposeables.clear();const Fe=document.createDocumentFragment();for(const ot of qe){const bt=Lt("div.hover-row.markdown-hover"),Ht=E.R3(bt,Lt("div.hover-contents")),vn=this._renderDisposeables.add(this._markdownRenderer.render(ot.value));Ht.appendChild(vn.element),Fe.appendChild(bt)}this._updateContents(Fe),this._showAt(be)}_updateContents(be){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(be),this._updateFont()}_showAt(be){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const qe=this._editor.getLayoutInfo(),Fe=this._editor.getTopForLineNumber(be),ot=this._editor.getScrollTop(),bt=this._editor.getOption(61),vn=Fe-ot-(this._hover.containerDomNode.clientHeight-bt)/2;this._hover.containerDomNode.style.left=`${qe.glyphMarginLeft+qe.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(vn),0)}px`}}return Me.ID="editor.contrib.modesGlyphHoverWidget",Me})();class ae{constructor(ue){this._editor=ue,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(ue){this._lineNumber=ue}computeSync(){const ue=Fe=>({value:Fe}),be=this._editor.getLineDecorations(this._lineNumber),qe=[];if(!be)return qe;for(const Fe of be){if(!Fe.options.glyphMarginClassName)continue;const ot=Fe.options.glyphMarginHoverMessage;!ot||(0,Ue.CP)(ot)||qe.push(...(0,B._2)(ot).map(ue))}return qe}}var _e=e(55197),he=e(4062),le=e(40902),Q=e(84504),ve=e(40734),Ae=e(55585),dt=e(80151),st=e(29354),et=e(77084),Qe=e(98674),tt=e(58177),vt=e(55538),mt=e(90790),Kt=function(Me,ue){return function(be,qe){ue(be,qe,Me)}};const Bt=E.$;class Ge{constructor(ue,be,qe){this.owner=ue,this.range=be,this.marker=qe}isValidForHoverAnchor(ue){return 1===ue.type&&this.range.startColumn<=ue.range.startColumn&&this.range.endColumn>=ue.range.endColumn}}const ut={type:1,filter:{include:et.yN.QuickFix},triggerAction:et.aQ.QuickFixHover};let Ut=class{constructor(ue,be,qe,Fe){this._editor=ue,this._markerDecorationsService=be,this._openerService=qe,this._languageFeaturesService=Fe,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(ue,be){if(!this._editor.hasModel()||1!==ue.type)return[];const qe=this._editor.getModel(),Fe=ue.range.startLineNumber,ot=qe.getLineMaxColumn(Fe),bt=[];for(const Ht of be){const vn=Ht.range.startLineNumber===Fe?Ht.range.startColumn:1,Mn=Ht.range.endLineNumber===Fe?Ht.range.endColumn:ot,Ct=this._markerDecorationsService.getMarker(qe.uri,Ht);if(!Ct)continue;const fn=new S.e(ue.range.startLineNumber,vn,ue.range.startLineNumber,Mn);bt.push(new Ge(this,fn,Ct))}return bt}renderHoverParts(ue,be){if(!be.length)return t.JT.None;const qe=new t.SL;be.forEach(ot=>ue.fragment.appendChild(this.renderMarkerHover(ot,qe)));const Fe=1===be.length?be[0]:be.sort((ot,bt)=>tt.ZL.compare(ot.marker.severity,bt.marker.severity))[0];return this.renderMarkerStatusbar(ue,Fe,qe),qe}renderMarkerHover(ue,be){const qe=Bt("div.hover-row"),Fe=E.R3(qe,Bt("div.marker.hover-contents")),{source:ot,message:bt,code:Ht,relatedInformation:vn}=ue.marker;this._editor.applyFontInfo(Fe);const Mn=E.R3(Fe,Bt("span"));if(Mn.style.whiteSpace="pre-wrap",Mn.innerText=bt,ot||Ht)if(Ht&&"string"!=typeof Ht){const Ct=Bt("span");ot&&(E.R3(Ct,Bt("span")).innerText=ot);const fn=E.R3(Ct,Bt("a.code-link"));fn.setAttribute("href",Ht.target.toString()),be.add(E.nm(fn,"click",zn=>{this._openerService.open(Ht.target,{allowCommands:!0}),zn.preventDefault(),zn.stopPropagation()})),E.R3(fn,Bt("span")).innerText=Ht.value;const yn=E.R3(Fe,Ct);yn.style.opacity="0.6",yn.style.paddingLeft="6px"}else{const Ct=E.R3(Fe,Bt("span"));Ct.style.opacity="0.6",Ct.style.paddingLeft="6px",Ct.innerText=ot&&Ht?`${ot}(${Ht})`:ot||`(${Ht})`}if((0,B.Of)(vn))for(const{message:Ct,resource:fn,startLineNumber:Vn,startColumn:yn}of vn){const zn=E.R3(Fe,Bt("div"));zn.style.marginTop="8px";const li=E.R3(zn,Bt("a"));li.innerText=`${(0,ve.EZ)(fn)}(${Vn}, ${yn}): `,li.style.cursor="pointer",be.add(E.nm(li,"click",Li=>{Li.stopPropagation(),Li.preventDefault(),this._openerService&&this._openerService.open(fn,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Vn,startColumn:yn}}}).catch(N.dL)}));const oi=E.R3(zn,Bt("span"));oi.innerText=Ct,this._editor.applyFontInfo(oi)}return qe}renderMarkerStatusbar(ue,be,qe){if((be.marker.severity===tt.ZL.Error||be.marker.severity===tt.ZL.Warning||be.marker.severity===tt.ZL.Info)&&ue.statusBar.addAction({label:_e.NC("view problem","View Problem"),commandId:Qe.NextMarkerAction.ID,run:()=>{var Fe;ue.hide(),null===(Fe=Qe.MarkerController.get(this._editor))||void 0===Fe||Fe.showAtMarker(be.marker),this._editor.focus()}}),!this._editor.getOption(83)){const Fe=ue.statusBar.append(Bt("div"));this.recentMarkerCodeActionsInfo&&(tt.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===tt.H0.makeKey(be.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(Fe.textContent=_e.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const ot=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?t.JT.None:qe.add((0,ne.Vg)(()=>Fe.textContent=_e.NC("checkingForQuickFixes","Checking for quick fixes..."),200));Fe.textContent||(Fe.textContent=String.fromCharCode(160));const bt=this.getCodeActions(be.marker);qe.add((0,t.OF)(()=>bt.cancel())),bt.then(Ht=>{if(ot.dispose(),this.recentMarkerCodeActionsInfo={marker:be.marker,hasCodeActions:Ht.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return Ht.dispose(),void(Fe.textContent=_e.NC("noQuickFixes","No quick fixes available"));Fe.style.display="none";let vn=!1;qe.add((0,t.OF)(()=>{vn||Ht.dispose()})),ue.statusBar.addAction({label:_e.NC("quick fixes","Quick Fix..."),commandId:st.E7.Id,run:Mn=>{vn=!0;const Ct=st.pY.get(this._editor),fn=E.i(Mn);ue.hide(),Ct?.showCodeActions(ut,Ht,{x:fn.left+6,y:fn.top+fn.height+6,width:fn.width,height:fn.height})}})},N.dL)}}getCodeActions(ue){return(0,ne.PG)(be=>(0,dt.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new S.e(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn),ut,vt.Ex.None,be))}};Ut=function(Me,ue,be,qe){var bt,Fe=arguments.length,ot=Fe<3?ue:null===qe?qe=Object.getOwnPropertyDescriptor(ue,be):qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(Me,ue,be,qe);else for(var Ht=Me.length-1;Ht>=0;Ht--)(bt=Me[Ht])&&(ot=(Fe<3?bt(ot):Fe>3?bt(ue,be,ot):bt(ue,be))||ot);return Fe>3&&ot&&Object.defineProperty(ue,be,ot),ot}([Kt(1,Ae.i),Kt(2,Dt.v4),Kt(3,mt.p)],Ut),(0,le.Ic)((Me,ue)=>{const be=Me.getColor(he.url);be&&ue.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${be}; }`);const qe=Me.getColor(he.sgC);qe&&ue.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${qe}; }`)});var Dn=function(Me,ue){return function(be,qe){ue(be,qe,Me)}};let wt=class ou{constructor(ue,be,qe,Fe,ot){this._editor=ue,this._instantiationService=be,this._openerService=qe,this._languageService=Fe,this._toUnhook=new t.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(bt=>{bt.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(ue){return ue.getContribution(ou.ID)}_hookEvents(){const be=this._editor.getOption(55);this._isHoverEnabled=be.enabled,this._isHoverSticky=be.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(qe=>this._onEditorMouseDown(qe))),this._toUnhook.add(this._editor.onMouseUp(qe=>this._onEditorMouseUp(qe))),this._toUnhook.add(this._editor.onMouseMove(qe=>this._onEditorMouseMove(qe))),this._toUnhook.add(this._editor.onKeyDown(qe=>this._onKeyDown(qe)))):(this._toUnhook.add(this._editor.onMouseMove(qe=>this._onEditorMouseMove(qe))),this._toUnhook.add(this._editor.onKeyDown(qe=>this._onKeyDown(qe)))),this._toUnhook.add(this._editor.onMouseLeave(qe=>this._onEditorMouseLeave(qe))),this._toUnhook.add(this._editor.onDidChangeModel(()=>this._hideWidgets())),this._toUnhook.add(this._editor.onDidScrollChange(qe=>this._onEditorScrollChanged(qe)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(ue){(ue.scrollTopChanged||ue.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(ue){this._isMouseDown=!0;const be=ue.target;9!==be.type||be.detail!==ze.ID?12===be.type&&be.detail===Ze.ID||(12!==be.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(ue){this._isMouseDown=!1}_onEditorMouseLeave(ue){var be;null!==(be=this._contentWidget)&&void 0!==be&&be.containsNode(ue.event.browserEvent.relatedTarget)||this._hideWidgets()}_onEditorMouseMove(ue){var be,qe,Fe,ot,bt;const Ht=ue.target;if(!(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===Ht.type&&Ht.detail===ze.ID||this._isHoverSticky&&(null===(qe=null===(be=ue.event.browserEvent.view)||void 0===be?void 0:be.getSelection())||void 0===qe||!qe.isCollapsed)||!this._isHoverSticky&&9===Ht.type&&Ht.detail===ze.ID&&(null===(Fe=this._contentWidget)||void 0===Fe?void 0:Fe.isColorPickerVisible())||this._isHoverSticky&&12===Ht.type&&Ht.detail===Ze.ID))if(this._isHoverEnabled){if(!this._getOrCreateContentWidget().maybeShowAt(ue))return 2===Ht.type&&Ht.position?(null===(bt=this._contentWidget)||void 0===bt||bt.hide(),this._glyphWidget||(this._glyphWidget=new Ze(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(Ht.position.lineNumber)):void this._hideWidgets();null===(ot=this._glyphWidget)||void 0===ot||ot.hide()}else this._hideWidgets()}_onKeyDown(ue){5!==ue.keyCode&&6!==ue.keyCode&&57!==ue.keyCode&&4!==ue.keyCode&&this._hideWidgets()}_hideWidgets(){var ue,be,qe;this._isMouseDown&&this._hoverClicked&&(null===(ue=this._contentWidget)||void 0===ue?void 0:ue.isColorPickerVisible())||(this._hoverClicked=!1,null===(be=this._glyphWidget)||void 0===be||be.hide(),null===(qe=this._contentWidget)||void 0===qe||qe.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(de,this._editor)),this._contentWidget}isColorPickerVisible(){var ue;return(null===(ue=this._contentWidget)||void 0===ue?void 0:ue.isColorPickerVisible())||!1}showContentHover(ue,be,qe){this._getOrCreateContentWidget().startShowingAtRange(ue,be,qe)}dispose(){var ue,be;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(ue=this._glyphWidget)||void 0===ue||ue.dispose(),null===(be=this._contentWidget)||void 0===be||be.dispose()}};wt.ID="editor.contrib.hover",wt=function(Me,ue,be,qe){var bt,Fe=arguments.length,ot=Fe<3?ue:null===qe?qe=Object.getOwnPropertyDescriptor(ue,be):qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(Me,ue,be,qe);else for(var Ht=Me.length-1;Ht>=0;Ht--)(bt=Me[Ht])&&(ot=(Fe<3?bt(ot):Fe>3?bt(ue,be,ot):bt(ue,be))||ot);return Fe>3&&ot&&Object.defineProperty(ue,be,ot),ot}([Dn(1,Ne.TG),Dn(2,Dt.v4),Dn(3,T.O),Dn(4,Le.i6)],wt),(0,l._K)(wt.ID,wt),(0,l.Qr)(class je extends l.R6{constructor(){super({id:"editor.action.showHover",label:_e.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:v.u.editorTextFocus,primary:(0,d.gx)(2089,2087),weight:100}})}run(ue,be){if(!be.hasModel())return;const qe=wt.get(be);if(!qe)return;const Fe=be.getPosition(),ot=new S.e(Fe.lineNumber,Fe.column,Fe.lineNumber,Fe.column),bt=2===be.getOption(2);qe.showContentHover(ot,1,bt)}}),(0,l.Qr)(class ye extends l.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:_e.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(ue,be){const qe=wt.get(be);if(!qe)return;const Fe=be.getPosition();if(!Fe)return;const ot=new S.e(Fe.lineNumber,Fe.column,Fe.lineNumber,Fe.column),bt=C.GotoDefinitionAtPositionEditorContribution.get(be);bt&&bt.startFindDefinitionFromCursor(Fe).then(()=>{qe.showContentHover(ot,1,!0)})}}),Ee.Ae.register(Q.D5),Ee.Ae.register(Ut),(0,le.Ic)((Me,ue)=>{const be=Me.getColor(he.ptc);be&&ue.addRule(`.monaco-editor .hoverHighlight { background-color: ${be}; }`);const qe=Me.getColor(he.yJx);qe&&ue.addRule(`.monaco-editor .monaco-hover { background-color: ${qe}; }`);const Fe=Me.getColor(he.CNo);Fe&&(ue.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${Fe}; }`),ue.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${Fe.transparent(.5)}; }`),ue.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${Fe.transparent(.5)}; }`),ue.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${Fe.transparent(.5)}; }`));const ot=Me.getColor(he.url);ot&&ue.addRule(`.monaco-editor .monaco-hover a { color: ${ot}; }`);const bt=Me.getColor(he.sgC);bt&&ue.addRule(`.monaco-editor .monaco-hover a:hover { color: ${bt}; }`);const Ht=Me.getColor(he.Sbf);Ht&&ue.addRule(`.monaco-editor .monaco-hover { color: ${Ht}; }`);const vn=Me.getColor(he.LoV);vn&&ue.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${vn}; }`);const Mn=Me.getColor(he.SwI);Mn&&ue.addRule(`.monaco-editor .monaco-hover code { background-color: ${Mn}; }`)})},91717:(Et,X,e)=>{"use strict";e.d(X,{Ae:()=>l,Qj:()=>d,YM:()=>t});class d{constructor(v,T){this.priority=v,this.range=T,this.type=1}equals(v){return 1===v.type&&this.range.equalsRange(v.range)}canAdoptVisibleHover(v,T){return 1===v.type&&T.lineNumber===this.range.startLineNumber}}class t{constructor(v,T,C){this.priority=v,this.owner=T,this.range=C,this.type=2}equals(v){return 2===v.type&&this.owner===v.owner}canAdoptVisibleHover(v,T){return 2===v.type&&this.owner===v.owner}}const l=new class{constructor(){this._participants=[]}register(v){this._participants.push(v)}getAll(){return this._participants}}},84504:(Et,X,e)=>{"use strict";e.d(X,{D5:()=>b,c:()=>y,hU:()=>g});var d=e(98463),t=e(64023),l=e(48648),S=e(48701),v=e(80142),T=e(29739),C=e(18723),E=e(98570),L=e(45358),_=e(83823),s=e(55197),m=e(94667),c=e(44827),n=e(90790),p=function(D,w){return function(I,P){w(I,P,D)}};const u=d.$;class g{constructor(w,I,P,O){this.owner=w,this.range=I,this.contents=P,this.ordinal=O}isValidForHoverAnchor(w){return 1===w.type&&this.range.startColumn<=w.range.startColumn&&this.range.endColumn>=w.range.endColumn}}let b=class{constructor(w,I,P,O,H){this._editor=w,this._languageService=I,this._openerService=P,this._configurationService=O,this._languageFeaturesService=H,this.hoverOrdinal=2}createLoadingMessage(w){return new g(this,w.range,[(new S.W5).appendText(s.NC("modesContentHover.loading","Loading..."))],2e3)}computeSync(w,I){if(!this._editor.hasModel()||1!==w.type)return[];const P=this._editor.getModel(),O=w.range.startLineNumber,H=P.getLineMaxColumn(O),U=[];let K=1e3;const F=P.getLineLength(O),B=P.getLanguageIdAtPosition(w.range.startLineNumber,w.range.startColumn),z=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:B});"number"==typeof z&&F>=z&&U.push(new g(this,w.range,[{value:s.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],K++));for(const $ of I){const j=$.range.startLineNumber===O?$.range.startColumn:1,ne=$.range.endLineNumber===O?$.range.endColumn:H,N=$.options.hoverMessage;if(!N||(0,S.CP)(N))continue;const V=new E.e(w.range.startLineNumber,j,w.range.startLineNumber,ne);U.push(new g(this,V,(0,t._2)(N),K++))}return U}computeAsync(w,I,P){if(!this._editor.hasModel()||1!==w.type)return l.Aq.EMPTY;const O=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(O))return l.Aq.EMPTY;const H=new C.L(w.range.startLineNumber,w.range.startColumn);return(0,_.R8)(this._languageFeaturesService.hoverProvider,O,H,P).filter(U=>!(0,S.CP)(U.hover.contents)).map(U=>{const K=U.hover.range?E.e.lift(U.hover.range):w.range;return new g(this,K,U.hover.contents,U.ordinal)})}renderHoverParts(w,I){return y(w,I,this._editor,this._languageService,this._openerService)}};function y(D,w,I,P,O){w.sort((U,K)=>U.ordinal-K.ordinal);const H=new v.SL;for(const U of w)for(const K of U.contents){if((0,S.CP)(K))continue;const F=u("div.hover-row.markdown-hover"),B=d.R3(F,u("div.hover-contents")),z=H.add(new T.$({editor:I},P,O));H.add(z.onDidRenderAsync(()=>{B.className="hover-contents code-hover-contents",D.onContentsChanged()}));const $=H.add(z.render(K));B.appendChild($.element),D.fragment.appendChild(F)}return H}b=function(D,w,I,P){var U,O=arguments.length,H=O<3?w:null===P?P=Object.getOwnPropertyDescriptor(w,I):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(D,w,I,P);else for(var K=D.length-1;K>=0;K--)(U=D[K])&&(H=(O<3?U(H):O>3?U(w,I,H):U(w,I))||H);return O>3&&H&&Object.defineProperty(w,I,H),H}([p(1,L.O),p(2,c.v4),p(3,m.Ui),p(4,n.p)],b)},29406:(Et,X,e)=>{"use strict";e.r(X);var d=e(48648),t=e(4125),l=e(18623),S=e(26845),v=e(98570),T=e(7233),C=e(82290),E=e(59758),L=e(81534),_=e(43944),s=e(55197),m=e(40902);class c{constructor(y,D,w){this._editRange=y,this._originalSelection=D,this._text=w}getEditOperations(y,D){D.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(y,D){const I=D.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new T.Y(I.endLineNumber,Math.min(this._originalSelection.positionColumn,I.endColumn),I.endLineNumber,Math.min(this._originalSelection.positionColumn,I.endColumn)):new T.Y(I.endLineNumber,I.endColumn-this._text.length,I.endLineNumber,I.endColumn)}}let p=class Ic{constructor(y,D){this.editor=y,this.editorWorkerService=D,this.decorations=this.editor.createDecorationsCollection()}static get(y){return y.getContribution(Ic.ID)}dispose(){}run(y,D){this.currentRequest&&this.currentRequest.cancel();const w=this.editor.getSelection(),I=this.editor.getModel();if(!I||!w)return;let P=w;if(P.startLineNumber!==P.endLineNumber)return;const O=new l.yy(this.editor,5),H=I.uri;return this.editorWorkerService.canNavigateValueSet(H)?(this.currentRequest=(0,d.PG)(U=>this.editorWorkerService.navigateValueSet(H,P,D)),this.currentRequest.then(U=>{if(!(U&&U.range&&U.value&&O.validate(this.editor)))return;const K=v.e.lift(U.range);let F=U.range;const B=U.value.length-(P.endColumn-P.startColumn);F={startLineNumber:F.startLineNumber,startColumn:F.startColumn,endLineNumber:F.endLineNumber,endColumn:F.startColumn+U.value.length},B>1&&(P=new T.Y(P.startLineNumber,P.startColumn,P.endLineNumber,P.endColumn+B-1));const z=new c(K,P,U.value);this.editor.pushUndoStop(),this.editor.executeCommand(y,z),this.editor.pushUndoStop(),this.decorations.set([{range:F,options:Ic.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,d.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(t.dL)}).catch(t.dL)):Promise.resolve(void 0)}};var y;p.ID="editor.contrib.inPlaceReplaceController",p.DECORATION=E.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),p=function(b,y,D,w){var O,I=arguments.length,P=I<3?y:null===w?w=Object.getOwnPropertyDescriptor(y,D):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,D,w);else for(var H=b.length-1;H>=0;H--)(O=b[H])&&(P=(I<3?O(P):I>3?O(y,D,P):O(y,D))||P);return I>3&&P&&Object.defineProperty(y,D,P),P}([(1,y=L.p,function(D,w){y(D,w,1)})],p),(0,S._K)(p.ID,p),(0,S.Qr)(class u extends S.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:s.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:C.u.writable,kbOpts:{kbExpr:C.u.editorTextFocus,primary:3154,weight:100}})}run(y,D){const w=p.get(D);return w?w.run(this.id,!0):Promise.resolve(void 0)}}),(0,S.Qr)(class g extends S.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:s.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:C.u.writable,kbOpts:{kbExpr:C.u.editorTextFocus,primary:3156,weight:100}})}run(y,D){const w=p.get(D);return w?w.run(this.id,!1):Promise.resolve(void 0)}}),(0,m.Ic)((b,y)=>{const D=b.getColor(_.Dl);D&&y.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${D}; }`)})},39143:(Et,X,e)=>{"use strict";function d(l,S){let v=0;for(let T=0;T<l.length;T++)"\t"===l.charAt(T)?v+=S:v++;return v}function t(l,S,v){l=l<0?0:l;let T="";if(!v){const C=Math.floor(l/S);l%=S;for(let E=0;E<C;E++)T+="\t"}for(let C=0;C<l;C++)T+=" ";return T}e.d(X,{J:()=>t,Y:()=>d})},1182:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{AutoIndentOnPaste:()=>K,AutoIndentOnPasteCommand:()=>U,ChangeIndentationSizeAction:()=>D,DetectIndentation:()=>P,IndentUsingSpaces:()=>I,IndentUsingTabs:()=>w,IndentationToSpacesAction:()=>b,IndentationToSpacesCommand:()=>B,IndentationToTabsAction:()=>y,IndentationToTabsCommand:()=>z,ReindentLinesAction:()=>O,ReindentSelectedLinesAction:()=>H,getReindentEditOperations:()=>g});var d=e(80142),t=e(73879),l=e(26845),S=e(91117),v=e(65484),T=e(98570),C=e(7233),E=e(82290),L=e(94911),_=e(59602),s=e(39143),m=e(55197),c=e(73622),n=e(87652),a=e(3981);function g($,j,ne,N,V){if(1===$.getLineCount()&&1===$.getLineMaxColumn(1))return[];const Z=j.getLanguageConfiguration($.getLanguageId()).indentationRules;if(!Z)return[];for(N=Math.min(N,$.getLineCount());ne<=N&&Z.unIndentedLinePattern;){const Te=$.getLineContent(ne);if(!Z.unIndentedLinePattern.test(Te))break;ne++}if(ne>N-1)return[];const{tabSize:fe,indentSize:M,insertSpaces:Se}=$.getOptions(),Ee=(Te,de)=>S.U.shiftIndent(Te,Te.length+(de=de||1),fe,M,Se),Le=(Te,de)=>S.U.unshiftIndent(Te,Te.length+(de=de||1),fe,M,Se),Ne=[];let oe;const we=$.getLineContent(ne);let xe=we;if(null!=V){oe=V;const Te=t.V8(we);xe=oe+we.substring(Te.length),Z.decreaseIndentPattern&&Z.decreaseIndentPattern.test(xe)&&(oe=Le(oe),xe=oe+we.substring(Te.length)),we!==xe&&Ne.push(v.h.replaceMove(new C.Y(ne,1,ne,Te.length+1),(0,n.x)(oe,M,Se)))}else oe=t.V8(we);let pe=oe;Z.increaseIndentPattern&&Z.increaseIndentPattern.test(xe)?(pe=Ee(pe),oe=Ee(oe)):Z.indentNextLinePattern&&Z.indentNextLinePattern.test(xe)&&(pe=Ee(pe));for(let Te=++ne;Te<=N;Te++){const de=$.getLineContent(Te),ke=t.V8(de),ze=pe+de.substring(ke.length);Z.decreaseIndentPattern&&Z.decreaseIndentPattern.test(ze)&&(pe=Le(pe),oe=Le(oe)),ke!==pe&&Ne.push(v.h.replaceMove(new C.Y(Te,1,Te,ke.length+1),(0,n.x)(pe,M,Se))),(!Z.unIndentedLinePattern||!Z.unIndentedLinePattern.test(de))&&(Z.increaseIndentPattern&&Z.increaseIndentPattern.test(ze)?(oe=Ee(oe),pe=oe):pe=Z.indentNextLinePattern&&Z.indentNextLinePattern.test(ze)?Ee(pe):oe)}return Ne}let b=(()=>{class $ extends l.R6{constructor(){super({id:$.ID,label:m.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:E.u.writable})}run(ne,N){const V=N.getModel();if(!V)return;const Z=V.getOptions(),fe=N.getSelection();if(!fe)return;const M=new B(fe,Z.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[M]),N.pushUndoStop(),V.updateOptions({insertSpaces:!0})}}return $.ID="editor.action.indentationToSpaces",$})(),y=(()=>{class $ extends l.R6{constructor(){super({id:$.ID,label:m.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:E.u.writable})}run(ne,N){const V=N.getModel();if(!V)return;const Z=V.getOptions(),fe=N.getSelection();if(!fe)return;const M=new z(fe,Z.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[M]),N.pushUndoStop(),V.updateOptions({insertSpaces:!1})}}return $.ID="editor.action.indentationToTabs",$})();class D extends l.R6{constructor(j,ne){super(ne),this.insertSpaces=j}run(j,ne){const N=j.get(c.eJ),V=j.get(_.q),Z=ne.getModel();if(!Z)return;const fe=V.getCreationOptions(Z.getLanguageId(),Z.uri,Z.isForSimpleWidget),M=[1,2,3,4,5,6,7,8].map(Ee=>({id:Ee.toString(),label:Ee.toString(),description:Ee===fe.tabSize?m.NC("configuredTabSize","Configured Tab Size"):void 0})),Se=Math.min(Z.getOptions().tabSize-1,7);setTimeout(()=>{N.pick(M,{placeHolder:m.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:M[Se]}).then(Ee=>{Ee&&Z&&!Z.isDisposed()&&Z.updateOptions({tabSize:parseInt(Ee.label,10),insertSpaces:this.insertSpaces})})},50)}}let w=(()=>{class $ extends D{constructor(){super(!1,{id:$.ID,label:m.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return $.ID="editor.action.indentUsingTabs",$})(),I=(()=>{class $ extends D{constructor(){super(!0,{id:$.ID,label:m.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return $.ID="editor.action.indentUsingSpaces",$})(),P=(()=>{class $ extends l.R6{constructor(){super({id:$.ID,label:m.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(ne,N){const V=ne.get(_.q),Z=N.getModel();if(!Z)return;const fe=V.getCreationOptions(Z.getLanguageId(),Z.uri,Z.isForSimpleWidget);Z.detectIndentation(fe.insertSpaces,fe.tabSize)}}return $.ID="editor.action.detectIndentation",$})();class O extends l.R6{constructor(){super({id:"editor.action.reindentlines",label:m.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:E.u.writable})}run(j,ne){const N=j.get(L.c_),V=ne.getModel();if(!V)return;const Z=g(V,N,1,V.getLineCount());Z.length>0&&(ne.pushUndoStop(),ne.executeEdits(this.id,Z),ne.pushUndoStop())}}class H extends l.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:m.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:E.u.writable})}run(j,ne){const N=j.get(L.c_),V=ne.getModel();if(!V)return;const Z=ne.getSelections();if(null===Z)return;const fe=[];for(const M of Z){let Se=M.startLineNumber,Ee=M.endLineNumber;if(Se!==Ee&&1===M.endColumn&&Ee--,1===Se){if(Se===Ee)continue}else Se--;const Le=g(V,N,Se,Ee);fe.push(...Le)}fe.length>0&&(ne.pushUndoStop(),ne.executeEdits(this.id,fe),ne.pushUndoStop())}}class U{constructor(j,ne){this._initialSelection=ne,this._edits=[],this._selectionId=null;for(const N of j)N.range&&"string"==typeof N.text&&this._edits.push(N)}getEditOperations(j,ne){for(const V of this._edits)ne.addEditOperation(T.e.lift(V.range),V.text);let N=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(N=!0,this._selectionId=ne.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(N=!0,this._selectionId=ne.trackSelection(this._initialSelection,!1))),N||(this._selectionId=ne.trackSelection(this._initialSelection))}computeCursorState(j,ne){return ne.getTrackedSelection(this._selectionId)}}let K=class{constructor(j,ne){this.editor=j,this._languageConfigurationService=ne,this.callOnDispose=new d.SL,this.callOnModel=new d.SL,this.callOnDispose.add(j.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(j.onDidChangeModel(()=>this.update())),this.callOnDispose.add(j.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:j})=>{this.trigger(j)})))}trigger(j){const ne=this.editor.getSelections();if(null===ne||ne.length>1)return;const N=this.editor.getModel();if(!N||!N.tokenization.isCheapToTokenize(j.getStartPosition().lineNumber))return;const V=this.editor.getOption(9),{tabSize:Z,indentSize:fe,insertSpaces:M}=N.getOptions(),Se=[],Ee={shiftIndent:we=>S.U.shiftIndent(we,we.length+1,Z,fe,M),unshiftIndent:we=>S.U.unshiftIndent(we,we.length+1,Z,fe,M)};let Le=j.startLineNumber;for(;Le<=j.endLineNumber&&this.shouldIgnoreLine(N,Le);)Le++;if(Le>j.endLineNumber)return;let Ne=N.getLineContent(Le);if(!/\S/.test(Ne.substring(0,j.startColumn-1))){const we=(0,a.n8)(V,N,N.getLanguageId(),Le,Ee,this._languageConfigurationService);if(null!==we){const xe=t.V8(Ne),pe=s.Y(we,Z);if(pe!==s.Y(xe,Z)){const de=s.J(pe,Z,M);Se.push({range:new T.e(Le,1,Le,xe.length+1),text:de}),Ne=de+Ne.substr(xe.length)}else{const de=(0,a.tI)(N,Le,this._languageConfigurationService);if(0===de||8===de)return}}}const oe=Le;for(;Le<j.endLineNumber&&!/\S/.test(N.getLineContent(Le+1));)Le++;if(Le!==j.endLineNumber){const xe=(0,a.n8)(V,{tokenization:{getLineTokens:pe=>N.tokenization.getLineTokens(pe),getLanguageId:()=>N.getLanguageId(),getLanguageIdAtPosition:(pe,Te)=>N.getLanguageIdAtPosition(pe,Te)},getLineContent:pe=>pe===oe?Ne:N.getLineContent(pe)},N.getLanguageId(),Le+1,Ee,this._languageConfigurationService);if(null!==xe){const pe=s.Y(xe,Z),Te=s.Y(t.V8(N.getLineContent(Le+1)),Z);if(pe!==Te){const de=pe-Te;for(let ke=Le+1;ke<=j.endLineNumber;ke++){const ze=N.getLineContent(ke),$e=t.V8(ze),Ue=s.Y($e,Z)+de,nt=s.J(Ue,Z,M);nt!==$e&&Se.push({range:new T.e(ke,1,ke,$e.length+1),text:nt})}}}}if(Se.length>0){this.editor.pushUndoStop();const we=new U(Se,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",we),this.editor.pushUndoStop()}}shouldIgnoreLine(j,ne){j.tokenization.forceTokenization(ne);const N=j.getLineFirstNonWhitespaceColumn(ne);if(0===N)return!0;const V=j.tokenization.getLineTokens(ne);if(V.getCount()>0){const Z=V.findTokenIndexAtOffset(N);if(Z>=0&&1===V.getStandardTokenType(Z))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};var j;function F($,j,ne,N){if(1===$.getLineCount()&&1===$.getLineMaxColumn(1))return;let V="";for(let fe=0;fe<ne;fe++)V+=" ";const Z=new RegExp(V,"gi");for(let fe=1,M=$.getLineCount();fe<=M;fe++){let Se=$.getLineFirstNonWhitespaceColumn(fe);if(0===Se&&(Se=$.getLineMaxColumn(fe)),1===Se)continue;const Ee=new T.e(fe,1,fe,Se),Le=$.getValueInRange(Ee),Ne=N?Le.replace(/\t/gi,V):Le.replace(Z,"\t");j.addEditOperation(Ee,Ne)}}K.ID="editor.contrib.autoIndentOnPaste",K=function($,j,ne,N){var fe,V=arguments.length,Z=V<3?j:null===N?N=Object.getOwnPropertyDescriptor(j,ne):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate($,j,ne,N);else for(var M=$.length-1;M>=0;M--)(fe=$[M])&&(Z=(V<3?fe(Z):V>3?fe(j,ne,Z):fe(j,ne))||Z);return V>3&&Z&&Object.defineProperty(j,ne,Z),Z}([(1,j=L.c_,function(ne,N){j(ne,N,1)})],K);class B{constructor(j,ne){this.selection=j,this.tabSize=ne,this.selectionId=null}getEditOperations(j,ne){this.selectionId=ne.trackSelection(this.selection),F(j,ne,this.tabSize,!0)}computeCursorState(j,ne){return ne.getTrackedSelection(this.selectionId)}}class z{constructor(j,ne){this.selection=j,this.tabSize=ne,this.selectionId=null}getEditOperations(j,ne){this.selectionId=ne.trackSelection(this.selection),F(j,ne,this.tabSize,!1)}computeCursorState(j,ne){return ne.getTrackedSelection(this.selectionId)}}(0,l._K)(K.ID,K),(0,l.Qr)(b),(0,l.Qr)(y),(0,l.Qr)(w),(0,l.Qr)(I),(0,l.Qr)(P),(0,l.Qr)(O),(0,l.Qr)(H)},77906:(Et,X,e)=>{"use strict";e.r(X);var d=e(26845),t=e(91717),l=e(98463),S=e(64023),v=e(48648),T=e(73888),C=e(4125),E=e(80142),L=e(5067),_=e(72715),s=e(59547),m=e(69545),c=e(54862),n=e(65484),a=e(98570),p=e(45337),u=e(47629),g=e(59758),b=e(79095),y=e(90790),D=e(1149),w=e(46170),I=e(18723),P=e(59310),O=function(et,Qe,tt,vt){return new(tt||(tt=Promise))(function(_t,Kt){function Bt(Ut){try{ut(vt.next(Ut))}catch(hn){Kt(hn)}}function Ge(Ut){try{ut(vt.throw(Ut))}catch(hn){Kt(hn)}}function ut(Ut){Ut.done?_t(Ut.value):function mt(_t){return _t instanceof tt?_t:new tt(function(Kt){Kt(_t)})}(Ut.value).then(Bt,Ge)}ut((vt=vt.apply(et,Qe||[])).next())})};class H{constructor(Qe,tt){this.range=Qe,this.direction=tt}}class U{constructor(Qe,tt,vt){this.hint=Qe,this.anchor=tt,this.provider=vt,this._isResolved=!1}with(Qe){const tt=new U(this.hint,Qe.anchor,this.provider);return tt._isResolved=this._isResolved,tt._currentResolve=this._currentResolve,tt}resolve(Qe){return O(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,Qe.isCancellationRequested?void 0:this.resolve(Qe);this._isResolved||(this._currentResolve=this._doResolve(Qe).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(Qe){var tt,vt;return O(this,void 0,void 0,function*(){try{const mt=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,Qe));this.hint.tooltip=null!==(tt=mt?.tooltip)&&void 0!==tt?tt:this.hint.tooltip,this.hint.label=null!==(vt=mt?.label)&&void 0!==vt?vt:this.hint.label,this._isResolved=!0}catch(mt){(0,C.Cp)(mt),this._isResolved=!1}})}}class K{constructor(Qe,tt,vt){this._disposables=new E.SL,this.ranges=Qe,this.provider=new Set;const mt=[];for(const[_t,Kt]of tt){this._disposables.add(_t),this.provider.add(Kt);for(const Bt of _t.hints){const Ge=vt.validatePosition(Bt.position);let ut="before";const Ut=K._getRangeAtPosition(vt,Ge);let hn;Ut.getStartPosition().isBefore(Ge)?(hn=a.e.fromPositions(Ut.getStartPosition(),Ge),ut="after"):(hn=a.e.fromPositions(Ge,Ut.getEndPosition()),ut="before"),mt.push(new U(Bt,new H(hn,ut),Kt))}}this.items=mt.sort((_t,Kt)=>I.L.compare(_t.hint.position,Kt.hint.position))}static create(Qe,tt,vt,mt){return O(this,void 0,void 0,function*(){const _t=[],Kt=Qe.ordered(tt).reverse().map(Bt=>vt.map(Ge=>O(this,void 0,void 0,function*(){try{const ut=yield Bt.provideInlayHints(tt,Ge,mt);ut?.hints.length&&_t.push([ut,Bt])}catch(ut){(0,C.Cp)(ut)}})));if(yield Promise.all(Kt.flat()),mt.isCancellationRequested||tt.isDisposed())throw new C.FU;return new K(vt,_t,tt)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(Qe,tt){const vt=tt.lineNumber,mt=Qe.getWordAtPosition(tt);if(mt)return new a.e(vt,mt.startColumn,vt,mt.endColumn);Qe.tokenization.tokenizeIfCheap(vt);const _t=Qe.tokenization.getLineTokens(vt),Kt=tt.column-1,Bt=_t.findTokenIndexAtOffset(Kt);let Ge=_t.getStartOffset(Bt),ut=_t.getEndOffset(Bt);return ut-Ge==1&&(Ge===Kt&&Bt>1?(Ge=_t.getStartOffset(Bt-1),ut=_t.getEndOffset(Bt-1)):ut===Kt&&Bt<_t.getCount()-1&&(Ge=_t.getStartOffset(Bt+1),ut=_t.getEndOffset(Bt+1))),new a.e(vt,Ge+1,vt,ut+1)}}var B=e(827),z=e(21021),$=e(81043),j=e(74918),ne=e(66549),N=e(16468),V=e(50703),Z=e(9265),fe=e(54436),M=function(et,Qe,tt,vt){return new(tt||(tt=Promise))(function(_t,Kt){function Bt(Ut){try{ut(vt.next(Ut))}catch(hn){Kt(hn)}}function Ge(Ut){try{ut(vt.throw(Ut))}catch(hn){Kt(hn)}}function ut(Ut){Ut.done?_t(Ut.value):function mt(_t){return _t instanceof tt?_t:new tt(function(Kt){Kt(_t)})}(Ut.value).then(Bt,Ge)}ut((vt=vt.apply(et,Qe||[])).next())})};function Se(et,Qe,tt,vt){var mt;return M(this,void 0,void 0,function*(){const _t=et.get(D.S),Kt=et.get(V.i),Bt=et.get(ne.Hy),Ge=et.get(Z.TG),ut=et.get(fe.lT);if(yield vt.item.resolve(T.T.None),!vt.part.location)return;const Ut=vt.part.location,hn=[],Dn=new Set(j.BH.getMenuItems(j.eH.EditorContext).map(je=>(0,j.vr)(je)?je.command.id:""));for(const je of d.Uc.getEditorActions())je instanceof z.SymbolNavigationAction&&Dn.has(je.id)&&hn.push(new B.aU(je.id,je.label,void 0,!0,()=>M(this,void 0,void 0,function*(){const ye=yield _t.createModelReference(Ut.uri);try{yield Ge.invokeFunction(je.run.bind(je),Qe,new z.SymbolNavigationAnchor(ye.object.textEditorModel,a.e.getStartPosition(Ut.range)))}finally{ye.dispose()}})));if(vt.part.command){const{command:je}=vt.part;hn.push(new B.Z0),hn.push(new B.aU(je.id,je.title,void 0,!0,()=>M(this,void 0,void 0,function*(){var ye;try{yield Bt.executeCommand(je.id,...null!==(ye=je.arguments)&&void 0!==ye?ye:[])}catch(Me){ut.notify({severity:fe.zb.Error,source:vt.item.provider.displayName,message:Me})}})))}const wt=Qe.getOption(117);Kt.showContextMenu({domForShadowRoot:wt&&null!==(mt=Qe.getDomNode())&&void 0!==mt?mt:void 0,getAnchor:()=>{const je=l.i(tt);return{x:je.left,y:je.top+je.height+8}},getActions:()=>hn,onHide:()=>{Qe.focus()},autoSelectFirstItem:!0})})}function Ee(et,Qe,tt,vt){return M(this,void 0,void 0,function*(){const _t=yield et.get(D.S).createModelReference(vt.uri);yield tt.invokeWithinContext(Kt=>M(this,void 0,void 0,function*(){const Bt=Qe.hasSideBySideModifier,Ge=Kt.get(N.i6),ut=$.Jy.inPeekEditor.getValue(Ge),Ut=!Bt&&tt.getOption(80)&&!ut;return new z.DefinitionAction({openToSide:Bt,openInPeek:Ut,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(Kt,tt,{model:_t.object.textEditorModel,position:a.e.getStartPosition(vt.range)})})),_t.dispose()})}var Le=e(47494),Ne=e(4062),oe=e(40902),xe=function(et,Qe){return function(tt,vt){Qe(tt,vt,et)}},pe=function(et,Qe,tt,vt){return new(tt||(tt=Promise))(function(_t,Kt){function Bt(Ut){try{ut(vt.next(Ut))}catch(hn){Kt(hn)}}function Ge(Ut){try{ut(vt.throw(Ut))}catch(hn){Kt(hn)}}function ut(Ut){Ut.done?_t(Ut.value):function mt(_t){return _t instanceof tt?_t:new tt(function(Kt){Kt(_t)})}(Ut.value).then(Bt,Ge)}ut((vt=vt.apply(et,Qe||[])).next())})};class Te{constructor(){this._entries=new L.z6(50)}get(Qe){const tt=Te._key(Qe);return this._entries.get(tt)}set(Qe,tt){const vt=Te._key(Qe);this._entries.set(vt,tt)}static _key(Qe){return`${Qe.uri.toString()}/${Qe.getVersionId()}`}}const de=(0,Z.yh)("IInlayHintsCache");(0,Le.z)(de,Te,!0);class ke{constructor(Qe,tt){this.item=Qe,this.index=tt}get part(){const Qe=this.item.hint.label;return"string"==typeof Qe?{label:Qe}:Qe[this.index]}}class ze{constructor(Qe,tt){this.part=Qe,this.hasTriggerModifier=tt}}let $e=class Tc{constructor(Qe,tt,vt,mt,_t,Kt,Bt){this._editor=Qe,this._languageFeaturesService=tt,this._inlayHintsCache=mt,this._commandService=_t,this._notificationService=Kt,this._instaService=Bt,this._disposables=new E.SL,this._sessionDisposables=new E.SL,this._decorationsMetadata=new Map,this._ruleFactory=new m.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=vt.for(tt.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(tt.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(Qe.onDidChangeModel(()=>this._update())),this._disposables.add(Qe.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Qe.onDidChangeConfiguration(Ge=>{Ge.hasChanged(129)&&this._update()})),this._update()}static get(Qe){var tt;return null!==(tt=Qe.getContribution(Tc.ID))&&void 0!==tt?tt:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const Qe=this._editor.getOption(129);if("off"===Qe.enabled)return;const tt=this._editor.getModel();if(!tt||!this._languageFeaturesService.inlayHintsProvider.has(tt))return;const vt=this._inlayHintsCache.get(tt);let mt;vt&&this._updateHintsDecorators([tt.getFullModelRange()],vt),this._sessionDisposables.add((0,E.OF)(()=>{tt.isDisposed()||this._cacheHintsForFastRestore(tt)}));const _t=new Set,Kt=new v.pY(()=>pe(this,void 0,void 0,function*(){const Bt=Date.now();mt?.dispose(!0),mt=new T.A;const Ge=tt.onWillDispose(()=>mt?.cancel());try{const ut=mt.token,Ut=yield K.create(this._languageFeaturesService.inlayHintsProvider,tt,this._getHintsRanges(),ut);if(Kt.delay=this._debounceInfo.update(tt,Date.now()-Bt),ut.isCancellationRequested)return void Ut.dispose();for(const hn of Ut.provider)"function"==typeof hn.onDidChangeInlayHints&&!_t.has(hn)&&(_t.add(hn),this._sessionDisposables.add(hn.onDidChangeInlayHints(()=>{Kt.isScheduled()||Kt.schedule()})));this._sessionDisposables.add(Ut),this._updateHintsDecorators(Ut.ranges,Ut.items),this._cacheHintsForFastRestore(tt)}catch(ut){(0,C.dL)(ut)}finally{mt.dispose(),Ge.dispose()}}),this._debounceInfo.get(tt));if(this._sessionDisposables.add(Kt),this._sessionDisposables.add((0,E.OF)(()=>mt?.dispose(!0))),Kt.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(Bt=>{(Bt.scrollTopChanged||!Kt.isScheduled())&&Kt.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(Bt=>{const Ge=Math.max(Kt.delay,1250);Kt.schedule(Ge)})),"on"===Qe.enabled)this._activeRenderMode=0;else{let Bt,Ge;"onUnlessPressed"===Qe.enabled?(Bt=0,Ge=1):(Bt=1,Ge=0),this._activeRenderMode=Bt,this._sessionDisposables.add(l._q.getInstance().event(ut=>{if(!this._editor.hasModel())return;const Ut=ut.altKey&&ut.ctrlKey?Ge:Bt;if(Ut!==this._activeRenderMode){this._activeRenderMode=Ut;const hn=this._editor.getModel(),Dn=this._copyInlayHintsWithCurrentAnchor(hn);this._updateHintsDecorators([hn.getFullModelRange()],Dn),Kt.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>Kt.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const Qe=new E.SL,tt=Qe.add(new w.yN(this._editor)),vt=new E.SL;return Qe.add(vt),Qe.add(tt.onMouseMoveOrRelevantKeyDown(mt=>{const[_t]=mt,Kt=this._getInlayHintLabelPart(_t),Bt=this._editor.getModel();if(!Kt||!Bt)return void vt.clear();const Ge=new T.A;vt.add((0,E.OF)(()=>Ge.dispose(!0))),Kt.item.resolve(Ge.token),this._activeInlayHintPart=Kt.part.command||Kt.part.location?new ze(Kt,_t.hasTriggerModifier):void 0;const ut=Kt.item.hint.position.lineNumber,Ut=new a.e(ut,1,ut,Bt.getLineMaxColumn(ut)),hn=this._getInlineHintsForRange(Ut);this._updateHintsDecorators([Ut],hn),vt.add((0,E.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([Ut],hn)}))})),Qe.add(tt.onCancel(()=>vt.clear())),Qe.add(tt.onExecute(mt=>pe(this,void 0,void 0,function*(){const _t=this._getInlayHintLabelPart(mt);if(_t){const Kt=_t.part;Kt.location?this._instaService.invokeFunction(Ee,mt,this._editor,Kt.location):p.mY.is(Kt.command)&&(yield this._invokeCommand(Kt.command,_t.item))}}))),Qe}_getInlineHintsForRange(Qe){const tt=new Set;for(const vt of this._decorationsMetadata.values())Qe.containsRange(vt.item.anchor.range)&&tt.add(vt.item);return Array.from(tt)}_installDblClickGesture(Qe){return this._editor.onMouseUp(tt=>pe(this,void 0,void 0,function*(){if(2!==tt.event.detail)return;const vt=this._getInlayHintLabelPart(tt);if(vt&&(tt.event.preventDefault(),yield vt.item.resolve(T.T.None),(0,S.Of)(vt.item.hint.textEdits))){const mt=vt.item.hint.textEdits.map(_t=>n.h.replace(a.e.lift(_t.range),_t.text));this._editor.executeEdits("inlayHint.default",mt),Qe()}}))}_installContextMenu(){return this._editor.onContextMenu(Qe=>pe(this,void 0,void 0,function*(){if(!(Qe.event.target instanceof HTMLElement))return;const tt=this._getInlayHintLabelPart(Qe);tt&&(yield this._instaService.invokeFunction(Se,this._editor,Qe.event.target,tt))}))}_getInlayHintLabelPart(Qe){var tt;if(6!==Qe.target.type)return;const vt=null===(tt=Qe.target.detail.injectedText)||void 0===tt?void 0:tt.options;return vt instanceof g.HS&&vt?.attachedData instanceof ke?vt.attachedData:void 0}_invokeCommand(Qe,tt){var vt;return pe(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(Qe.id,...null!==(vt=Qe.arguments)&&void 0!==vt?vt:[])}catch(mt){this._notificationService.notify({severity:fe.zb.Error,source:tt.provider.displayName,message:mt})}})}_cacheHintsForFastRestore(Qe){const tt=this._copyInlayHintsWithCurrentAnchor(Qe);this._inlayHintsCache.set(Qe,tt)}_copyInlayHintsWithCurrentAnchor(Qe){const tt=new Map;for(const[vt,mt]of this._decorationsMetadata){if(tt.has(mt.item))continue;const _t=Qe.getDecorationRange(vt);if(_t){const Kt=new H(_t,mt.item.anchor.direction),Bt=mt.item.with({anchor:Kt});tt.set(mt.item,Bt)}}return Array.from(tt.values())}_getHintsRanges(){const tt=this._editor.getModel(),vt=this._editor.getVisibleRangesPlusViewportAboveBelow(),mt=[];for(const _t of vt.sort(a.e.compareRangesUsingStarts)){const Kt=tt.validateRange(new a.e(_t.startLineNumber-30,_t.startColumn,_t.endLineNumber+30,_t.endColumn));0!==mt.length&&a.e.areIntersectingOrTouching(mt[mt.length-1],Kt)?mt[mt.length-1]=a.e.plusRange(mt[mt.length-1],Kt):mt.push(Kt)}return mt}_updateHintsDecorators(Qe,tt){var vt,mt;const _t=[],Kt=(je,ye,Me,ue,be)=>{const qe={content:Me,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:ye.className,cursorStops:ue,attachedData:be};_t.push({item:je,classNameRef:ye,decoration:{range:je.anchor.range,options:{description:"InlayHint",showIfCollapsed:je.anchor.range.isEmpty(),collapseOnReplaceEdit:!je.anchor.range.isEmpty(),stickiness:0,[je.anchor.direction]:0===this._activeRenderMode?qe:void 0}}})},Bt=(je,ye)=>{const Me=this._ruleFactory.createClassNameRef({width:(Ge/3|0)+"px",display:"inline-block"});Kt(je,Me,"\u200a",ye?u.RM.Right:u.RM.None)},{fontSize:Ge,fontFamily:ut,padding:Ut,isUniform:hn}=this._getLayoutInfo(),Dn="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Dn,ut);for(const je of tt){je.hint.paddingLeft&&Bt(je,!1);const ye="string"==typeof je.hint.label?[{label:je.hint.label}]:je.hint.label;for(let Me=0;Me<ye.length;Me++){const ue=ye[Me],be=0===Me,qe=Me===ye.length-1,Fe={fontSize:`${Ge}px`,fontFamily:`var(${Dn}), ${c.hL.fontFamily}`,verticalAlign:hn?"baseline":"middle"};(0,S.Of)(je.hint.textEdits)&&(Fe.cursor="default"),this._fillInColors(Fe,je.hint),(ue.command||ue.location)&&(null===(vt=this._activeInlayHintPart)||void 0===vt?void 0:vt.part.item)===je&&this._activeInlayHintPart.part.index===Me&&(Fe.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Fe.color=(0,oe.EN)(Ne._Yy),Fe.cursor="pointer")),Ut&&(be&&qe?(Fe.padding=`1px ${0|Math.max(1,Ge/4)}px`,Fe.borderRadius=(Ge/4|0)+"px"):be?(Fe.padding=`1px 0 1px ${0|Math.max(1,Ge/4)}px`,Fe.borderRadius=`${Ge/4|0}px 0 0 ${Ge/4|0}px`):qe?(Fe.padding=`1px ${0|Math.max(1,Ge/4)}px 1px 0`,Fe.borderRadius=`0 ${Ge/4|0}px ${Ge/4|0}px 0`):Fe.padding="1px 0 1px 0"),Kt(je,this._ruleFactory.createClassNameRef(Fe),ue.label.replace(/[ \t]/g,"\xa0"),qe&&!je.hint.paddingRight?u.RM.Right:u.RM.None,new ke(je,Me))}if(je.hint.paddingRight&&Bt(je,!0),_t.length>Tc._MAX_DECORATORS)break}const wt=[];for(const je of Qe)for(const{id:ye}of null!==(mt=this._editor.getDecorationsInRange(je))&&void 0!==mt?mt:[]){const Me=this._decorationsMetadata.get(ye);Me&&(wt.push(ye),Me.classNameRef.dispose(),this._decorationsMetadata.delete(ye))}this._editor.changeDecorations(je=>{const ye=je.deltaDecorations(wt,_t.map(Me=>Me.decoration));for(let Me=0;Me<ye.length;Me++)this._decorationsMetadata.set(ye[Me],_t[Me])})}_fillInColors(Qe,tt){tt.kind===p.gl.Parameter?(Qe.backgroundColor=(0,oe.EN)(Ne.phM),Qe.color=(0,oe.EN)(Ne.HCL)):tt.kind===p.gl.Type?(Qe.backgroundColor=(0,oe.EN)(Ne.bKB),Qe.color=(0,oe.EN)(Ne.hX8)):(Qe.backgroundColor=(0,oe.EN)(Ne.PpC),Qe.color=(0,oe.EN)(Ne.VVv))}_getLayoutInfo(){const Qe=this._editor.getOption(129),tt=Qe.padding,vt=this._editor.getOption(48),mt=this._editor.getOption(45);let _t=Qe.fontSize;(!_t||_t<5||_t>vt)&&(_t=vt);const Kt=Qe.fontFamily||mt;return{fontSize:_t,fontFamily:Kt,padding:tt,isUniform:!tt&&Kt===mt&&_t===vt}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const Qe of this._decorationsMetadata.values())Qe.classNameRef.dispose();this._decorationsMetadata.clear()}};$e.ID="editor.contrib.InlayHints",$e._MAX_DECORATORS=1500,$e=function(et,Qe,tt,vt){var Kt,mt=arguments.length,_t=mt<3?Qe:null===vt?vt=Object.getOwnPropertyDescriptor(Qe,tt):vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(et,Qe,tt,vt);else for(var Bt=et.length-1;Bt>=0;Bt--)(Kt=et[Bt])&&(_t=(mt<3?Kt(_t):mt>3?Kt(Qe,tt,_t):Kt(Qe,tt))||_t);return mt>3&&_t&&Object.defineProperty(Qe,tt,_t),_t}([xe(1,y.p),xe(2,b.A),xe(3,de),xe(4,ne.Hy),xe(5,fe.lT),xe(6,Z.TG)],$e),ne.P0.registerCommand("_executeInlayHintProvider",(et,...Qe)=>pe(void 0,void 0,void 0,function*(){const[tt,vt]=Qe;(0,_.p_)(s.o.isUri(tt)),(0,_.p_)(a.e.isIRange(vt));const{inlayHintsProvider:mt}=et.get(y.p),_t=yield et.get(D.S).createModelReference(tt);try{const Kt=yield K.create(mt,_t.object.textEditorModel,[a.e.lift(vt)],T.T.None),Bt=Kt.items.map(Ge=>Ge.hint);return setTimeout(()=>Kt.dispose(),0),Bt}finally{_t.dispose()}}));var Ue=e(48701),nt=e(45358),Dt=e(83823),Lt=e(84504),Ze=e(94667),ae=e(44827),_e=e(55197),he=e(8841),Q=function(et,Qe){return function(tt,vt){Qe(tt,vt,et)}},ve=function(et,Qe,tt,vt){return new(tt||(tt=Promise))(function(_t,Kt){function Bt(Ut){try{ut(vt.next(Ut))}catch(hn){Kt(hn)}}function Ge(Ut){try{ut(vt.throw(Ut))}catch(hn){Kt(hn)}}function ut(Ut){Ut.done?_t(Ut.value):function mt(_t){return _t instanceof tt?_t:new tt(function(Kt){Kt(_t)})}(Ut.value).then(Bt,Ge)}ut((vt=vt.apply(et,Qe||[])).next())})};class dt extends t.YM{constructor(Qe,tt){super(10,tt,Qe.item.anchor.range),this.part=Qe}}let st=class extends Lt.D5{constructor(Qe,tt,vt,mt,_t,Kt){super(Qe,tt,vt,mt,Kt),this._resolverService=_t,this.hoverOrdinal=6}suggestHoverAnchor(Qe){var tt;if(!$e.get(this._editor)||6!==Qe.target.type)return null;const mt=null===(tt=Qe.target.detail.injectedText)||void 0===tt?void 0:tt.options;return mt instanceof g.HS&&mt.attachedData instanceof ke?new dt(mt.attachedData,this):null}computeSync(){return[]}computeAsync(Qe,tt,vt){return Qe instanceof dt?new v.Aq(mt=>ve(this,void 0,void 0,function*(){var _t,Kt;const{part:Bt}=Qe;if(yield Bt.item.resolve(vt),vt.isCancellationRequested)return;let Ge,ut;if("string"==typeof Bt.item.hint.tooltip?Ge=(new Ue.W5).appendText(Bt.item.hint.tooltip):Bt.item.hint.tooltip&&(Ge=Bt.item.hint.tooltip),Ge&&mt.emitOne(new Lt.hU(this,Qe.range,[Ge],0)),(0,S.Of)(Bt.item.hint.textEdits)&&mt.emitOne(new Lt.hU(this,Qe.range,[(new Ue.W5).appendText((0,_e.NC)("hint.dbl","Double click to insert"))],10001)),"string"==typeof Bt.part.tooltip?ut=(new Ue.W5).appendText(Bt.part.tooltip):Bt.part.tooltip&&(ut=Bt.part.tooltip),ut&&mt.emitOne(new Lt.hU(this,Qe.range,[ut],1)),Bt.part.location||Bt.part.command){let wt;const ye="altKey"===this._editor.getOption(72)?he.dz?(0,_e.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,_e.NC)("links.navigate.kb.meta","ctrl + click"):he.dz?(0,_e.NC)("links.navigate.kb.alt.mac","option + click"):(0,_e.NC)("links.navigate.kb.alt","alt + click");Bt.part.location&&Bt.part.command?wt=(new Ue.W5).appendText((0,_e.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",ye)):Bt.part.location?wt=(new Ue.W5).appendText((0,_e.NC)("hint.def","Go to Definition ({0})",ye)):Bt.part.command&&(wt=new Ue.W5(`[${(0,_e.NC)("hint.cmd","Execute Command")}](${function F(et){return s.o.from({scheme:P.lg.command,path:et.id,query:et.arguments&&encodeURIComponent(JSON.stringify(et.arguments))}).toString()}(Bt.part.command)} "${Bt.part.command.title}") (${ye})`,{isTrusted:!0})),wt&&mt.emitOne(new Lt.hU(this,Qe.range,[wt],1e4))}const Ut=yield this._resolveInlayHintLabelPartHover(Bt,vt);try{for(var Dn,hn=function(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Qe=et[Symbol.asyncIterator];return Qe?Qe.call(et):(et="function"==typeof __values?__values(et):et[Symbol.iterator](),tt={},vt("next"),vt("throw"),vt("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function vt(_t){tt[_t]=et[_t]&&function(Kt){return new Promise(function(Bt,Ge){!function mt(_t,Kt,Bt,Ge){Promise.resolve(Ge).then(function(ut){_t({value:ut,done:Bt})},Kt)}(Bt,Ge,(Kt=et[_t](Kt)).done,Kt.value)})}}}(Ut);!(Dn=yield hn.next()).done;)mt.emitOne(Dn.value)}catch(wt){_t={error:wt}}finally{try{Dn&&!Dn.done&&(Kt=hn.return)&&(yield Kt.call(hn))}finally{if(_t)throw _t.error}}})):v.Aq.EMPTY}_resolveInlayHintLabelPartHover(Qe,tt){return ve(this,void 0,void 0,function*(){if(!Qe.part.location)return v.Aq.EMPTY;const{uri:vt,range:mt}=Qe.part.location,_t=yield this._resolverService.createModelReference(vt);try{const Kt=_t.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(Kt)?(0,Dt.R8)(this._languageFeaturesService.hoverProvider,Kt,new I.L(mt.startLineNumber,mt.startColumn),tt).filter(Bt=>!(0,Ue.CP)(Bt.hover.contents)).map(Bt=>new Lt.hU(this,Qe.item.anchor.range,Bt.hover.contents,2+Bt.ordinal)):v.Aq.EMPTY}finally{_t.dispose()}})}};st=function(et,Qe,tt,vt){var Kt,mt=arguments.length,_t=mt<3?Qe:null===vt?vt=Object.getOwnPropertyDescriptor(Qe,tt):vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(et,Qe,tt,vt);else for(var Bt=et.length-1;Bt>=0;Bt--)(Kt=et[Bt])&&(_t=(mt<3?Kt(_t):mt>3?Kt(Qe,tt,_t):Kt(Qe,tt))||_t);return mt>3&&_t&&Object.defineProperty(Qe,tt,_t),_t}([Q(1,nt.O),Q(2,ae.v4),Q(3,Ze.Ui),Q(4,D.S),Q(5,y.p)],st),(0,d._K)($e.ID,$e),t.Ae.register(st)},56806:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{commitInlineSuggestionAction:()=>Fn});var d=e(26845),t=e(82290),l=e(91717);const S="editor.action.inlineSuggest.commit";var v=e(3778),T=e(80142),C=e(73879),E=e(5409),L=e(18723),_=e(45337),s=e(48648),m=e(73888),c=e(4125),n=e(41442),a=e(65484),p=e(98570);class b{constructor(gt){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let sn=0;sn<gt.length;sn++)"\n"===gt.charAt(sn)&&this.lineStartOffsetByLineIdx.push(sn+1)}getOffset(gt){return this.lineStartOffsetByLineIdx[gt.lineNumber-1]+gt.column-1}}const y=[];class w{constructor(gt,sn,nn=0){this.lineNumber=gt,this.parts=sn,this.additionalReservedLineCount=nn}renderForScreenReader(gt){return 0===this.parts.length?"":function g(dn,gt){const sn=new b(dn),nn=gt.map(xn=>{const Pn=p.e.lift(xn.range);return{startOffset:sn.getOffset(Pn.getStartPosition()),endOffset:sn.getOffset(Pn.getEndPosition()),text:xn.text}});nn.sort((xn,Pn)=>Pn.startOffset-xn.startOffset);for(const xn of nn)dn=dn.substring(0,xn.startOffset)+xn.text+dn.substring(xn.endOffset);return dn}(gt.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(Pn=>({range:{startLineNumber:1,endLineNumber:1,startColumn:Pn.column,endColumn:Pn.column},text:Pn.lines.join("\n")}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(gt=>0===gt.lines.length)}}class I{constructor(gt,sn,nn){this.column=gt,this.lines=sn,this.preview=nn}}class P{constructor(gt,sn,nn,xn,Pn=0){this.lineNumber=gt,this.columnStart=sn,this.length=nn,this.newLines=xn,this.additionalReservedLineCount=Pn,this.parts=[new I(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(gt){return this.newLines.join("\n")}}class O extends T.JT{constructor(gt){super(),this.editor=gt,this._expanded=void 0,this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(gt.onDidChangeConfiguration(sn=>{sn.hasChanged(108)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(gt){this._expanded=!0,this.onDidChangeEmitter.fire()}}var H=e(66549),U=e(52237);function K(dn,gt){if(!gt)return gt;const sn=dn.getValueInRange(gt.range),nn=C.Mh(sn,gt.insertText),xn=dn.getOffsetAt(gt.range.getStartPosition())+nn,Pn=dn.getPositionAt(xn),En=sn.substr(nn),ht=C.P1(En,gt.insertText),Rt=dn.getPositionAt(Math.max(xn,dn.getOffsetAt(gt.range.getEndPosition())-ht));return{range:p.e.fromPositions(Pn,Rt),insertText:gt.insertText.substr(nn,gt.insertText.length-nn-ht),snippetInfo:gt.snippetInfo,filterText:gt.filterText,additionalTextEdits:gt.additionalTextEdits}}function B(dn,gt,sn,nn,xn=0){if(dn.range.startLineNumber!==dn.range.endLineNumber)return;const Pn=gt.getLineContent(dn.range.startLineNumber),En=C.V8(Pn).length;if(dn.range.startColumn-1<=En){const ct=C.V8(dn.insertText).length,_n=Pn.substring(dn.range.startColumn-1,En),Hn=p.e.fromPositions(dn.range.getStartPosition().delta(0,_n.length),dn.range.getEndPosition()),Ai=dn.insertText.startsWith(_n)?dn.insertText.substring(_n.length):dn.insertText.substring(ct);dn={range:Hn,insertText:Ai,command:dn.command,snippetInfo:void 0,filterText:dn.filterText,additionalTextEdits:dn.additionalTextEdits}}const Rt=gt.getValueInRange(dn.range),Vt=function $(dn,gt){if(z?.originalValue===dn&&z?.newValue===gt)return z?.changes;{let sn=ne(dn,gt,!0);if(sn){const nn=j(sn);if(nn>0){const xn=ne(dn,gt,!1);xn&&j(xn)<nn&&(sn=xn)}}return z={originalValue:dn,newValue:gt,changes:sn},sn}}(Rt,dn.insertText);if(!Vt)return;const Zt=dn.range.startLineNumber,Cn=new Array;if("prefix"===sn){const ct=Vt.filter(_n=>0===_n.originalLength);if(ct.length>1||1===ct.length&&ct[0].originalStart!==Rt.length)return}const Re=dn.insertText.length-xn;for(const ct of Vt){const _n=dn.range.startColumn+ct.originalStart+ct.originalLength;if("subwordSmart"===sn&&nn&&nn.lineNumber===dn.range.startLineNumber&&_n<nn.column||ct.originalLength>0)return;if(0===ct.modifiedLength)continue;const Hn=ct.modifiedStart+ct.modifiedLength,Ai=Math.max(ct.modifiedStart,Math.min(Hn,Re)),yi=dn.insertText.substring(ct.modifiedStart,Ai),di=dn.insertText.substring(Ai,Math.max(ct.modifiedStart,Hn));if(yi.length>0){const Ft=C.uq(yi);Cn.push(new I(_n,Ft,!1))}if(di.length>0){const Ft=C.uq(di);Cn.push(new I(_n,Ft,!0))}}return new w(Zt,Cn,0)}let z;function j(dn){let gt=0;for(const sn of dn)gt+=Math.max(sn.originalLength-sn.modifiedLength,0);return gt}function ne(dn,gt,sn){if(dn.length>5e3||gt.length>5e3)return;function nn(Vt){let Zt=0;for(let Cn=0,Re=Vt.length;Cn<Re;Cn++){const ct=Vt.charCodeAt(Cn);ct>Zt&&(Zt=ct)}return Zt}const xn=Math.max(nn(dn),nn(gt));function Pn(Vt){if(Vt<0)throw new Error("unexpected");return xn+Vt+1}function En(Vt){let Zt=0,Cn=0;const Re=new Int32Array(Vt.length);for(let ct=0,_n=Vt.length;ct<_n;ct++)sn&&"("===Vt[ct]?(Re[ct]=Pn(2*(100*Cn+Zt)),Zt++):sn&&")"===Vt[ct]?(Zt=Math.max(Zt-1,0),Re[ct]=Pn(2*(100*Cn+Zt)+1),0===Zt&&Cn++):Re[ct]=Vt.charCodeAt(ct);return Re}const ht=En(dn),Rt=En(gt);return new U.Hs({getElements:()=>ht},{getElements:()=>Rt}).ComputeDiff(!1).changes}var N=e(94911),V=e(33506),Z=e(87283),fe=e(61334),M=e(80125),Se=e(15186);class Le{constructor(gt){this.lines=gt,this.tokenization={getLineTokens:sn=>this.lines[sn-1]}}getLineCount(){return this.lines.length}getLineLength(gt){return this.lines[gt-1].getLineContent().length}}var Ne=e(90790),oe=e(79095),we=e(61254),xe=e(31583),pe=e(72715),Te=e(25715),de=e(94667),ze=function(dn,gt){return function(sn,nn){gt(sn,nn,dn)}},$e=function(dn,gt,sn,nn){return new(sn||(sn=Promise))(function(Pn,En){function ht(Zt){try{Vt(nn.next(Zt))}catch(Cn){En(Cn)}}function Rt(Zt){try{Vt(nn.throw(Zt))}catch(Cn){En(Cn)}}function Vt(Zt){Zt.done?Pn(Zt.value):function xn(Pn){return Pn instanceof sn?Pn:new sn(function(En){En(Pn)})}(Zt.value).then(ht,Rt)}Vt((nn=nn.apply(dn,gt||[])).next())})};let ce=class extends T.JT{constructor(gt,sn,nn,xn,Pn,En,ht){super(),this.editor=gt,this.cache=sn,this.commandService=nn,this.languageConfigurationService=xn,this.languageFeaturesService=Pn,this.debounceService=En,this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new T.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(nn.onDidExecuteCommand(Rt=>{new Set([n.CoreEditingCommands.Tab.id,n.CoreEditingCommands.DeleteLeft.id,n.CoreEditingCommands.DeleteRight.id,S,"acceptSelectedSuggestion"]).has(Rt.commandId)&&gt.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(Rt=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(Rt=>{(3===Rt.reason||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,T.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{ht.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var gt;return null===(gt=this.session)||void 0===gt?void 0:gt.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(gt){var sn;null===(sn=this.session)||void 0===sn||sn.setExpanded(gt)}setActive(gt){var sn;this.active=gt,gt&&(null===(sn=this.session)||void 0===sn||sn.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(57).enabled||this.session&&this.session.isValid||this.trigger(_.bw.Automatic)}trigger(gt){this.completionSession.value?gt===_.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new Ue(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,gt,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var gt;null===(gt=this.session)||void 0===gt||gt.commitCurrentCompletion()}showNext(){var gt;null===(gt=this.session)||void 0===gt||gt.showNextInlineCompletion()}showPrevious(){var gt;null===(gt=this.session)||void 0===gt||gt.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var gt;return $e(this,void 0,void 0,function*(){const sn=yield null===(gt=this.session)||void 0===gt?void 0:gt.hasMultipleInlineCompletions();return void 0!==sn&&sn})}};ce=function(dn,gt,sn,nn){var En,xn=arguments.length,Pn=xn<3?gt:null===nn?nn=Object.getOwnPropertyDescriptor(gt,sn):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,gt,sn,nn);else for(var ht=dn.length-1;ht>=0;ht--)(En=dn[ht])&&(Pn=(xn<3?En(Pn):xn>3?En(gt,sn,Pn):En(gt,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(gt,sn,Pn),Pn}([ze(2,H.Hy),ze(3,N.c_),ze(4,Ne.p),ze(5,oe.A),ze(6,de.Ui)],ce);class Ue extends O{constructor(gt,sn,nn,xn,Pn,En,ht,Rt,Vt){let Zt;super(gt),this.triggerPosition=sn,this.shouldUpdate=nn,this.commandService=xn,this.cache=Pn,this.initialTriggerKind=En,this.languageConfigurationService=ht,this.registry=Rt,this.debounce=Vt,this.minReservedLineCount=0,this.updateOperation=this._register(new T.XK),this.updateSoon=this._register(new s.pY(()=>{const Cn=this.initialTriggerKind;return this.initialTriggerKind=_.bw.Automatic,this.update(Cn)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange(()=>{var Cn;const Re=this.currentCompletion;if(Re&&Re.sourceInlineCompletion!==Zt){Zt=Re.sourceInlineCompletion;const ct=Re.sourceProvider;null===(Cn=ct.handleItemDidShow)||void 0===Cn||Cn.call(ct,Re.sourceInlineCompletions,Zt)}})),this._register((0,T.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(Cn=>{var Re;3!==Cn.reason&&(null===(Re=this.cache.value)||void 0===Re||Re.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(Cn=>{var Re;null===(Re=this.cache.value)||void 0===Re||Re.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value)return void(this.filteredCompletions=[]);const gt=this.editor.getModel(),sn=gt.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(nn=>{const xn=gt.getValueInRange(nn.synchronizedRange).toLowerCase(),Pn=nn.inlineCompletion.filterText.toLowerCase(),En=gt.getLineIndentColumn(nn.synchronizedRange.startLineNumber),ht=Math.max(0,sn.column-nn.synchronizedRange.startColumn);let Rt=Pn.substring(0,ht),Vt=Pn.substring(ht),Zt=xn.substring(0,ht),Cn=xn.substring(ht);return nn.synchronizedRange.startColumn<=En&&(Zt=Zt.trimStart(),0===Zt.length&&(Cn=Cn.trimStart()),Rt=Rt.trimStart(),0===Rt.length&&(Vt=Vt.trimStart())),Rt.startsWith(Zt)&&(0,Te.Sy)(Cn,Vt)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||0===this.cache.value.completions.length)return 0;const gt=this.filteredCompletions.findIndex(sn=>sn.semanticId===this.currentlySelectedCompletionId);return-1===gt?(this.currentlySelectedCompletionId=void 0,0):gt}get currentCachedCompletion(){if(this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return $e(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const gt=this.filteredCompletions||[];if(gt.length>0){const sn=(this.fixAndGetIndexOfCurrentSelection()+1)%gt.length;this.currentlySelectedCompletionId=gt[sn].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return $e(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const gt=this.filteredCompletions||[];if(gt.length>0){const sn=(this.fixAndGetIndexOfCurrentSelection()+gt.length-1)%gt.length;this.currentlySelectedCompletionId=gt[sn].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var gt;return $e(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===_.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(_.bw.Explicit):(null===(gt=this.cache.value)||void 0===gt?void 0:gt.triggerKind)!==_.bw.Explicit&&(yield this.update(_.bw.Explicit))})}hasMultipleInlineCompletions(){var gt;return $e(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(gt=this.cache.value)||void 0===gt?void 0:gt.completions.length)||0)>1})}get ghostText(){const gt=this.currentCompletion;if(!gt)return;const sn=this.editor.getPosition();if(gt.range.getEndPosition().isBefore(sn))return;const nn=this.editor.getOptions().get(57).mode,xn=B(gt,this.editor.getModel(),nn,sn);return xn?xn.isEmpty()?void 0:xn:new P(gt.range.startLineNumber,gt.range.startColumn,gt.range.endColumn-gt.range.startColumn,gt.insertText.split("\n"),0)}get currentCompletion(){const gt=this.currentCachedCompletion;if(gt)return gt.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(gt){return $e(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const sn=this.editor.getPosition(),nn=new Date,xn=(0,s.PG)(En=>$e(this,void 0,void 0,function*(){let ht;try{ht=yield Ze(this.registry,sn,this.editor.getModel(),{triggerKind:gt,selectedSuggestionInfo:void 0},En,this.languageConfigurationService);const Rt=new Date;this.debounce.update(this.editor.getModel(),Rt.getTime()-nn.getTime())}catch(Rt){return void(0,c.dL)(Rt)}En.isCancellationRequested||(this.cache.setValue(this.editor,ht,gt),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),Pn=new nt(xn,gt);this.updateOperation.value=Pn,yield xn,this.updateOperation.value===Pn&&this.updateOperation.clear()})}takeOwnership(gt){this._register(gt)}commitCurrentCompletion(){if(!this.ghostText)return;const sn=this.currentCompletion;sn&&this.commit(sn)}commit(gt){var sn;const nn=this.cache.clearAndLeak();gt.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[a.h.replaceMove(gt.range,""),...gt.additionalTextEdits]),this.editor.setPosition(gt.snippetInfo.range.getStartPosition()),null===(sn=xe.SnippetController2.get(this.editor))||void 0===sn||sn.insert(gt.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[a.h.replaceMove(gt.range,gt.insertText),...gt.additionalTextEdits]),gt.command?this.commandService.executeCommand(gt.command.id,...gt.command.arguments||[]).finally(()=>{nn?.dispose()}).then(void 0,c.Cp):nn?.dispose(),this.onDidChangeEmitter.fire()}get commands(){var gt;return[...new Set((null===(gt=this.cache.value)||void 0===gt?void 0:gt.completions.map(nn=>nn.inlineCompletion.sourceInlineCompletions))||[])].flatMap(nn=>nn.commands||[])}}class nt{constructor(gt,sn){this.promise=gt,this.triggerKind=sn}dispose(){this.promise.cancel()}}class Dt extends T.JT{constructor(gt,sn,nn,xn){super(),this.editor=sn,this.onChange=nn,this.triggerKind=xn,this.isDisposing=!1;const Pn=sn.changeDecorations(En=>En.deltaDecorations([],gt.items.map(ht=>({range:ht.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,T.OF)(()=>{this.isDisposing=!0,sn.removeDecorations(Pn)})),this.completions=gt.items.map((En,ht)=>new Lt(En,Pn[ht])),this._register(sn.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(gt)}updateRanges(){if(this.isDisposing)return;let gt=!1;const sn=this.editor.getModel();for(const nn of this.completions){const xn=sn.getDecorationRange(nn.decorationId);xn?nn.synchronizedRange.equalsRange(xn)||(gt=!0,nn.synchronizedRange=xn):(0,c.dL)(new Error("Decoration has no range"))}gt&&this.onChange()}}class Lt{constructor(gt,sn){this.inlineCompletion=gt,this.decorationId=sn,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=gt.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function Ze(dn,gt,sn,nn,xn=m.T.None,Pn){return $e(this,void 0,void 0,function*(){const En=function ae(dn,gt){const sn=gt.getWordAtPosition(dn),nn=gt.getLineMaxColumn(dn.lineNumber);return sn?new p.e(dn.lineNumber,sn.startColumn,dn.lineNumber,nn):p.e.fromPositions(dn,dn.with(void 0,nn))}(gt,sn),ht=dn.all(sn),Rt=yield Promise.all(ht.map(Zt=>$e(this,void 0,void 0,function*(){const Cn=yield Promise.resolve(Zt.provideInlineCompletions(sn,gt,nn,xn)).catch(c.Cp);return{completions:Cn,provider:Zt,dispose:()=>{Cn&&Zt.freeInlineCompletions(Cn)}}}))),Vt=new Map;for(const Zt of Rt){const Cn=Zt.completions;if(Cn)for(const Re of Cn.items){let _n,Hn,ct=Re.range?p.e.lift(Re.range):En;if(ct.startLineNumber!==ct.endLineNumber)continue;if("string"==typeof Re.insertText){if(_n=Re.insertText,Pn&&Re.completeBracketPairs){_n=_e(_n,ct.getStartPosition(),sn,Pn);const yi=_n.length-Re.insertText.length;0!==yi&&(ct=new p.e(ct.startLineNumber,ct.startColumn,ct.endLineNumber,ct.endColumn+yi))}Hn=void 0}else"snippet"in Re.insertText?(_n=(new we.Yj).parse(Re.insertText.snippet).toString(),Hn={snippet:Re.insertText.snippet,range:ct}):(0,pe.vE)(Re.insertText);const Ai={insertText:_n,snippetInfo:Hn,range:ct,command:Re.command,sourceProvider:Zt.provider,sourceInlineCompletions:Cn,sourceInlineCompletion:Re,filterText:Re.filterText||_n,additionalTextEdits:Re.additionalTextEdits||y};Vt.set(JSON.stringify({insertText:_n,range:Re.range}),Ai)}}return{items:[...Vt.values()],dispose:()=>{for(const Zt of Rt)Zt.dispose()}}})}function _e(dn,gt,sn,nn){const Pn=sn.getLineContent(gt.lineNumber).substring(0,gt.column-1)+dn,ht=sn.tokenization.tokenizeLineWithEdit(gt,Pn.length-(gt.column-1),dn)?.sliceAndInflate(gt.column-1,Pn.length,0);return ht?function Ee(dn,gt){const sn=new M.FE,nn=new V.Z(sn,Vt=>gt.getLanguageConfiguration(Vt)),xn=new Se.xH(new Le([dn]),nn),Pn=(0,fe.w)(xn,[],void 0,!0);let En="";const ht=dn.getLineContent();return function Rt(Vt,Zt){if(2===Vt.kind)if(Rt(Vt.openingBracket,Zt),Zt=(0,Z.Ii)(Zt,Vt.openingBracket.length),Vt.child&&(Rt(Vt.child,Zt),Zt=(0,Z.Ii)(Zt,Vt.child.length)),Vt.closingBracket)Rt(Vt.closingBracket,Zt),Zt=(0,Z.Ii)(Zt,Vt.closingBracket.length);else{const Re=nn.getSingleLanguageBracketTokens(Vt.openingBracket.languageId).findClosingTokenText(Vt.openingBracket.bracketIds);En+=Re}else if(3!==Vt.kind)if(0===Vt.kind||1===Vt.kind)En+=ht.substring((0,Z.F_)(Zt),(0,Z.F_)((0,Z.Ii)(Zt,Vt.length)));else if(4===Vt.kind)for(const Cn of Vt.children)Rt(Cn,Zt),Zt=(0,Z.Ii)(Zt,Cn.length)}(Pn,Z.xl),En}(ht,nn):dn}var he=e(64023),le=e(79980),Q=e(69207);class ve extends T.JT{constructor(gt,sn){super(),this.editor=gt,this.suggestControllerPreselector=sn,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new s.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(gt.onKeyDown(xn=>{xn.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(gt.onKeyUp(xn=>{xn.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const nn=Q.SuggestController.get(this.editor);if(nn){this._register(nn.registerSelector({priority:100,select:(En,ht,Rt)=>{const Vt=this.editor.getModel(),Zt=K(Vt,this.suggestControllerPreselector());if(!Zt)return-1;const Cn=L.L.lift(ht),Re=Rt.map((_n,Hn)=>{const Ai=st(nn,Cn,_n,this.isShiftKeyPressed),yi=K(Vt,Ai?.normalizedInlineCompletion);if(!yi)return;const di=function Ae(dn,gt){return gt.startLineNumber===dn.startLineNumber&&gt.startColumn===dn.startColumn&&(gt.endLineNumber<dn.endLineNumber||gt.endLineNumber===dn.endLineNumber&&gt.endColumn<=dn.endColumn)}(Zt.range,yi.range)&&Zt.insertText.startsWith(yi.insertText);return{index:Hn,valid:di,prefixLength:yi.insertText.length,suggestItem:_n}}).filter(_n=>_n&&_n.valid),ct=(0,he.Dc)(Re,(0,he.tT)(_n=>_n.prefixLength,he.fv));return ct?ct.index:-1}}));let xn=!1;const Pn=()=>{xn||(xn=!0,this._register(nn.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(nn.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(nn.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(v.ju.once(nn.model.onDidTrigger)(En=>{Pn()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(gt){const sn=this.getSuggestItemInfo();let nn=!1;(function dt(dn,gt){return dn===gt||!(!dn||!gt)&&dn.completionItemKind===gt.completionItemKind&&dn.isSnippetText===gt.isSnippetText&&function F(dn,gt){return dn===gt||!(!dn||!gt)&&dn.range.equalsRange(gt.range)&&dn.insertText===gt.insertText&&dn.command===gt.command}(dn.normalizedInlineCompletion,gt.normalizedInlineCompletion)})(this._currentSuggestItemInfo,sn)||(this._currentSuggestItemInfo=sn,nn=!0),this._isActive!==gt&&(this._isActive=gt,nn=!0),nn&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const gt=Q.SuggestController.get(this.editor);if(!gt||!this.isSuggestWidgetVisible)return;const sn=gt.widget.value.getFocusedItem();return sn?st(gt,this.editor.getPosition(),sn.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const gt=Q.SuggestController.get(this.editor);gt&&gt.stopForceRenderingAbove()}forceRenderingAbove(){const gt=Q.SuggestController.get(this.editor);gt&&gt.forceRenderingAbove()}}function st(dn,gt,sn,nn){if(Array.isArray(sn.completion.additionalTextEdits)&&sn.completion.additionalTextEdits.length>0)return{completionItemKind:sn.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:p.e.fromPositions(gt,gt),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:xn}=sn.completion,Pn=!1;if(4&sn.completion.insertTextRules){const ht=(new we.Yj).parse(xn),Rt=dn.editor.getModel();if(ht.children.length>100)return;le.l.adjustWhitespace(Rt,gt,ht,!0,!0),xn=ht.toString(),Pn=!0}const En=dn.getOverwriteInfo(sn,nn);return{isSnippetText:Pn,completionItemKind:sn.completion.kind,normalizedInlineCompletion:{insertText:xn,filterText:xn,range:p.e.fromPositions(gt.delta(0,-En.overwriteBefore),gt.delta(0,Math.max(En.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var tt=function(dn,gt,sn,nn){return new(sn||(sn=Promise))(function(Pn,En){function ht(Zt){try{Vt(nn.next(Zt))}catch(Cn){En(Cn)}}function Rt(Zt){try{Vt(nn.throw(Zt))}catch(Cn){En(Cn)}}function Vt(Zt){Zt.done?Pn(Zt.value):function xn(Pn){return Pn instanceof sn?Pn:new sn(function(En){En(Pn)})}(Zt.value).then(ht,Rt)}Vt((nn=nn.apply(dn,gt||[])).next())})};let vt=class extends O{constructor(gt,sn,nn){super(gt),this.cache=sn,this.languageFeaturesService=nn,this.suggestionInlineCompletionSource=this._register(new ve(this.editor,()=>{var xn,Pn;return null===(Pn=null===(xn=this.cache.value)||void 0===xn?void 0:xn.completions[0])||void 0===Pn?void 0:Pn.toLiveInlineCompletion()})),this.updateOperation=this._register(new T.XK),this.updateCacheSoon=this._register(new s.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const Pn=this.ghostText;Pn&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,function mt(dn){return dn.reduce((gt,sn)=>gt+sn,0)}(Pn.parts.map(En=>En.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(xn=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,T.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return tt(this,void 0,void 0,function*(){const gt=this.suggestionInlineCompletionSource.state;if(!gt||!gt.selectedItem)return;const sn={text:gt.selectedItem.normalizedInlineCompletion.insertText,range:gt.selectedItem.normalizedInlineCompletion.range,isSnippetText:gt.selectedItem.isSnippetText,completionKind:gt.selectedItem.completionItemKind},nn=this.editor.getPosition();if(gt.selectedItem.isSnippetText||27===gt.selectedItem.completionItemKind||20===gt.selectedItem.completionItemKind||23===gt.selectedItem.completionItemKind)return void this.cache.clear();const xn=(0,s.PG)(En=>tt(this,void 0,void 0,function*(){let ht;try{ht=yield Ze(this.languageFeaturesService.inlineCompletionsProvider,nn,this.editor.getModel(),{triggerKind:_.bw.Automatic,selectedSuggestionInfo:sn},En)}catch(Rt){return void(0,c.dL)(Rt)}En.isCancellationRequested?ht.dispose():(this.cache.setValue(this.editor,ht,_.bw.Automatic),this.onDidChangeEmitter.fire())})),Pn=new nt(xn,_.bw.Automatic);this.updateOperation.value=Pn,yield xn,this.updateOperation.value===Pn&&this.updateOperation.clear()})}get ghostText(){var gt,sn,nn;const xn=this.isSuggestionPreviewEnabled(),Pn=this.editor.getModel(),En=K(Pn,null===(sn=null===(gt=this.cache.value)||void 0===gt?void 0:gt.completions[0])||void 0===sn?void 0:sn.toLiveInlineCompletion()),Rt=K(Pn,null===(nn=this.suggestionInlineCompletionSource.state?.selectedItem)||void 0===nn?void 0:nn.normalizedInlineCompletion),Vt=En&&Rt&&En.insertText.startsWith(Rt.insertText)&&En.range.equalsRange(Rt.range);if(!xn&&!Vt)return;const Zt=Vt?En:Rt||En;return this.toGhostText(Zt,Vt?Zt.insertText.length-Rt.insertText.length:0)}toGhostText(gt,sn){const nn=this.editor.getOptions().get(108).previewMode;return gt?B(gt,this.editor.getModel(),nn,this.editor.getPosition(),sn)||new w(gt.range.endLineNumber,[],this.minReservedLineCount):void 0}};var gt;vt=function(dn,gt,sn,nn){var En,xn=arguments.length,Pn=xn<3?gt:null===nn?nn=Object.getOwnPropertyDescriptor(gt,sn):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,gt,sn,nn);else for(var ht=dn.length-1;ht>=0;ht--)(En=dn[ht])&&(Pn=(xn<3?En(Pn):xn>3?En(gt,sn,Pn):En(gt,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(gt,sn,Pn),Pn}([(2,gt=Ne.p,function(sn,nn){gt(sn,nn,2)})],vt);var _t=e(9265);class ut extends T.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new T.XK)}get targetModel(){var gt;return null===(gt=this.currentModelRef.value)||void 0===gt?void 0:gt.object}setTargetModel(gt){var sn;(null===(sn=this.currentModelRef.value)||void 0===sn?void 0:sn.object)!==gt&&(this.currentModelRef.clear(),this.currentModelRef.value=gt?function u(dn,gt){return{object:dn,dispose:()=>gt?.dispose()}}(gt,gt.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var gt,sn;return this.hasCachedGhostText||(this.cachedGhostText=null===(sn=null===(gt=this.currentModelRef.value)||void 0===gt?void 0:gt.object)||void 0===sn?void 0:sn.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(gt){var sn;null===(sn=this.targetModel)||void 0===sn||sn.setExpanded(gt)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Ut=class extends ut{constructor(gt,sn){super(),this.editor=gt,this.instantiationService=sn,this.sharedCache=this._register(new hn),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(vt,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(ce,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(gt){var sn;const nn=null===(sn=this.activeInlineCompletionsModel)||void 0===sn?void 0:sn.ghostText;return!!nn&&nn.parts.some(xn=>gt.containsPosition(new L.L(nn.lineNumber,xn.column)))}triggerInlineCompletion(){var gt;null===(gt=this.activeInlineCompletionsModel)||void 0===gt||gt.trigger(_.bw.Explicit)}commitInlineCompletion(){var gt;null===(gt=this.activeInlineCompletionsModel)||void 0===gt||gt.commitCurrentSuggestion()}hideInlineCompletion(){var gt;null===(gt=this.activeInlineCompletionsModel)||void 0===gt||gt.hide()}showNextInlineCompletion(){var gt;null===(gt=this.activeInlineCompletionsModel)||void 0===gt||gt.showNext()}showPreviousInlineCompletion(){var gt;null===(gt=this.activeInlineCompletionsModel)||void 0===gt||gt.showPrevious()}hasMultipleInlineCompletions(){var gt;return function(dn,gt,sn,nn){return new(sn||(sn=Promise))(function(Pn,En){function ht(Zt){try{Vt(nn.next(Zt))}catch(Cn){En(Cn)}}function Rt(Zt){try{Vt(nn.throw(Zt))}catch(Cn){En(Cn)}}function Vt(Zt){Zt.done?Pn(Zt.value):function xn(Pn){return Pn instanceof sn?Pn:new sn(function(En){En(Pn)})}(Zt.value).then(ht,Rt)}Vt((nn=nn.apply(dn,gt||[])).next())})}(this,void 0,void 0,function*(){const sn=yield null===(gt=this.activeInlineCompletionsModel)||void 0===gt?void 0:gt.hasMultipleInlineCompletions();return void 0!==sn&&sn})}};Ut=function(dn,gt,sn,nn){var En,xn=arguments.length,Pn=xn<3?gt:null===nn?nn=Object.getOwnPropertyDescriptor(gt,sn):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,gt,sn,nn);else for(var ht=dn.length-1;ht>=0;ht--)(En=dn[ht])&&(Pn=(xn<3?En(Pn):xn>3?En(gt,sn,Pn):En(gt,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(gt,sn,Pn),Pn}([function(dn,gt){return function(sn,nn){gt(sn,nn,1)}}(0,_t.TG)],Ut);class hn extends T.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new v.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new T.XK)}get value(){return this.cache.value}setValue(gt,sn,nn){this.cache.value=new Dt(sn,gt,()=>this.onDidChangeEmitter.fire(),nn)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var Dn=e(98463),wt=e(57856),je=e.n(wt),ye=e(38470),Me=e.n(ye),ue=e(43370),be=e.n(ue),qe=e(28458),Fe=e.n(qe),ot=e(71278),bt=e.n(ot),Ht=e(29488),vn=e.n(Ht),Mn=e(64272),Ct={};Ct.styleTagTransform=vn(),Ct.setAttributes=Fe(),Ct.insert=be().bind(null,"head"),Ct.domAPI=Me(),Ct.insertStyleElement=bt(),je()(Mn.Z,Ct);var Qt,yn=e(44716),zn=e(54862),li=e(71513),oi=e(8680),Li=e(47629),so=e(45358),oo=e(43944),xo=e(56110),ro=e(27131),_o=e(40902),si=function(dn,gt){return function(sn,nn){gt(sn,nn,dn)}};const pt=null===(Qt=window.trustedTypes)||void 0===Qt?void 0:Qt.createPolicy("editorGhostText",{createHTML:dn=>dn});let ft=class extends T.JT{constructor(gt,sn,nn,xn){super(),this.editor=gt,this.model=sn,this.instantiationService=nn,this.languageService=xn,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(en,this.editor)),this.additionalLinesWidget=this._register(new rn(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new jt(this.editor)),this._register(this.editor.onDidChangeConfiguration(Pn=>{(Pn.hasChanged(29)||Pn.hasChanged(107)||Pn.hasChanged(90)||Pn.hasChanged(85)||Pn.hasChanged(47)||Pn.hasChanged(46)||Pn.hasChanged(61))&&this.update()})),this._register((0,T.OF)(()=>{var Pn;this.disposed=!0,this.update(),null===(Pn=this.viewMoreContentWidget)||void 0===Pn||Pn.dispose(),this.viewMoreContentWidget=void 0})),this._register(sn.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(gt){return this.additionalLinesWidget.viewZoneId===gt}update(){var gt;const sn=this.model.ghostText;if(!this.editor.hasModel()||!sn||this.disposed)return this.partsWidget.clear(),this.additionalLinesWidget.clear(),void this.replacementDecoration.clear();const nn=new Array,xn=new Array;function Pn(Vt,Zt){if(xn.length>0){const Cn=xn[xn.length-1];Zt&&Cn.decorations.push(new xo.Kp(Cn.content.length+1,Cn.content.length+1+Vt[0].length,Zt,0)),Cn.content+=Vt[0],Vt=Vt.slice(1)}for(const Cn of Vt)xn.push({content:Cn,decorations:Zt?[new xo.Kp(1,Cn.length+1,Zt,0)]:[]})}this.replacementDecoration.setDecorations(sn instanceof P?[{range:new p.e(sn.lineNumber,sn.columnStart,sn.lineNumber,sn.columnStart+sn.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]:[]);const En=this.editor.getModel().getLineContent(sn.lineNumber);let ht,Rt=0;for(const Vt of sn.parts){let Zt=Vt.lines;void 0===ht?(nn.push({column:Vt.column,text:Zt[0],preview:Vt.preview}),Zt=Zt.slice(1)):Pn([En.substring(Rt,Vt.column-1)],void 0),Zt.length>0&&(Pn(Zt,"ghost-text"),void 0===ht&&Vt.column<=En.length&&(ht=Vt.column)),Rt=Vt.column-1}void 0!==ht&&Pn([En.substring(Rt)],void 0),this.partsWidget.setParts(sn.lineNumber,nn,void 0!==ht?{column:ht,length:En.length+1-ht}:void 0),this.additionalLinesWidget.updateLines(sn.lineNumber,xn,sn.additionalReservedLineCount),null===(gt=this.viewMoreContentWidget)||void 0===gt||gt.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(gt,sn,nn){const xn=this.editor.getOption(46),Pn=document.createElement("div");Pn.className="suggest-preview-additional-widget",(0,yn.N)(Pn,xn);const En=document.createElement("span");En.className="content-spacer",En.append(sn),Pn.append(En);const ht=document.createElement("span");ht.className="content-newline suggest-preview-text",ht.append("\u23ce  "),Pn.append(ht);const Rt=new T.SL,Vt=document.createElement("div");return Vt.className="button suggest-preview-text",Vt.append(`+${nn} lines\u2026`),Rt.add(Dn.mu(Vt,"mousedown",Zt=>{var Cn;null===(Cn=this.model)||void 0===Cn||Cn.setExpanded(!0),Zt.preventDefault(),this.editor.focus()})),Pn.append(Vt),new An(this.editor,gt,Pn,Rt)}};ft=function(dn,gt,sn,nn){var En,xn=arguments.length,Pn=xn<3?gt:null===nn?nn=Object.getOwnPropertyDescriptor(gt,sn):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,gt,sn,nn);else for(var ht=dn.length-1;ht>=0;ht--)(En=dn[ht])&&(Pn=(xn<3?En(Pn):xn>3?En(gt,sn,Pn):En(gt,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(gt,sn,Pn),Pn}([si(2,_t.TG),si(3,so.O)],ft);class jt{constructor(gt){this.editor=gt,this.decorationIds=[]}setDecorations(gt){this.editor.changeDecorations(sn=>{this.decorationIds=sn.deltaDecorations(this.decorationIds,gt)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class en{constructor(gt){this.editor=gt,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(gt=>{this.decorationIds=gt.deltaDecorations(this.decorationIds,[])})}setParts(gt,sn,nn){if(!this.editor.getModel())return;const Pn=new Array;nn&&Pn.push({range:p.e.fromPositions(new L.L(gt,nn.column),new L.L(gt,nn.column+nn.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(En=>{this.decorationIds=En.deltaDecorations(this.decorationIds,sn.map(ht=>({range:p.e.fromPositions(new L.L(gt,ht.column)),options:{description:"ghost-text",after:{content:ht.text,inlineClassName:ht.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:Li.RM.Left},showIfCollapsed:!0}})).concat(Pn))})}}class rn{constructor(gt,sn){this.editor=gt,this.languageIdCodec=sn,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(gt=>{this._viewZoneId&&(gt.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(gt,sn,nn){const xn=this.editor.getModel();if(!xn)return;const{tabSize:Pn}=xn.getOptions();this.editor.changeViewZones(En=>{this._viewZoneId&&(En.removeZone(this._viewZoneId),this._viewZoneId=void 0);const ht=Math.max(sn.length,nn);if(ht>0){const Rt=document.createElement("div");(function gn(dn,gt,sn,nn,xn){const Pn=nn.get(29),En=nn.get(107),Rt=nn.get(85),Vt=nn.get(47),Zt=nn.get(46),Cn=nn.get(61),Re=(0,oi.l$)(1e4);Re.appendASCIIString('<div class="suggest-preview-text">');for(let Hn=0,Ai=sn.length;Hn<Ai;Hn++){const yi=sn[Hn],di=yi.content;Re.appendASCIIString('<div class="view-line'),Re.appendASCIIString('" style="top:'),Re.appendASCIIString(String(Hn*Cn)),Re.appendASCIIString('px;width:1000000px;">');const Ft=C.$i(di),R=C.Ut(di),q=li.A.createEmpty(di,xn);(0,ro.d1)(new ro.IJ(Zt.isMonospace&&!Pn,Zt.canUseHalfwidthRightwardsArrow,di,!1,Ft,R,0,q,yi.decorations,gt,0,Zt.spaceWidth,Zt.middotWidth,Zt.wsmiddotWidth,En,"none",Rt,Vt!==zn.n0.OFF,null),Re),Re.appendASCIIString("</div>")}Re.appendASCIIString("</div>"),(0,yn.N)(dn,Zt);const ct=Re.build(),_n=pt?pt.createHTML(ct):ct;dn.innerHTML=_n})(Rt,Pn,sn,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=En.addZone({afterLineNumber:gt,heightInLines:ht,domNode:Rt,afterColumnAffinity:1})}})}}class An extends T.JT{constructor(gt,sn,nn,xn){super(),this.editor=gt,this.position=sn,this.domNode=nn,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(xn),this._register((0,T.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,_o.Ic)((dn,gt)=>{const sn=dn.getColor(oo.N5);sn&&(gt.addRule(`.monaco-editor .ghost-text-decoration { color: ${sn.toString()} !important; }`),gt.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${sn.toString()} !important; }`),gt.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${sn.toString()} !important; }`));const nn=dn.getColor(oo.IO);nn&&(gt.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${nn.toString()}; }`),gt.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${nn.toString()}; }`),gt.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${nn.toString()}; }`));const xn=dn.getColor(oo.x3);xn&&(gt.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${xn}; }`),gt.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${xn}; }`),gt.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${xn}; }`))});var jn=e(55197),Qn=e(16468),wi=function(dn,gt,sn,nn){var En,xn=arguments.length,Pn=xn<3?gt:null===nn?nn=Object.getOwnPropertyDescriptor(gt,sn):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,gt,sn,nn);else for(var ht=dn.length-1;ht>=0;ht--)(En=dn[ht])&&(Pn=(xn<3?En(Pn):xn>3?En(gt,sn,Pn):En(gt,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(gt,sn,Pn),Pn},xi=function(dn,gt){return function(sn,nn){gt(sn,nn,dn)}},no=function(dn,gt,sn,nn){return new(sn||(sn=Promise))(function(Pn,En){function ht(Zt){try{Vt(nn.next(Zt))}catch(Cn){En(Cn)}}function Rt(Zt){try{Vt(nn.throw(Zt))}catch(Cn){En(Cn)}}function Vt(Zt){Zt.done?Pn(Zt.value):function xn(Pn){return Pn instanceof sn?Pn:new sn(function(En){En(Pn)})}(Zt.value).then(ht,Rt)}Vt((nn=nn.apply(dn,gt||[])).next())})};let Oi=class su extends T.JT{constructor(gt,sn){super(),this.editor=gt,this.instantiationService=sn,this.triggeredExplicitly=!1,this.activeController=this._register(new T.XK),this.activeModelDidChangeEmitter=this._register(new v.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(nn=>{nn.hasChanged(108)&&this.updateModelController(),nn.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(gt){return gt.getContribution(su.ID)}get activeModel(){var gt;return null===(gt=this.activeController.value)||void 0===gt?void 0:gt.model}updateModelController(){const gt=this.editor.getOption(108),sn=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(gt.preview||sn.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(ji,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(gt){var sn;return(null===(sn=this.activeModel)||void 0===sn?void 0:sn.shouldShowHoverAt(gt))||!1}shouldShowHoverAtViewZone(gt){var sn,nn;return(null===(nn=null===(sn=this.activeController.value)||void 0===sn?void 0:sn.widget)||void 0===nn?void 0:nn.shouldShowHoverAtViewZone(gt))||!1}trigger(){var gt;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(gt=this.activeModel)||void 0===gt||gt.triggerInlineCompletion()}commit(){var gt;null===(gt=this.activeModel)||void 0===gt||gt.commitInlineCompletion()}hide(){var gt;null===(gt=this.activeModel)||void 0===gt||gt.hideInlineCompletion()}showNextInlineCompletion(){var gt;null===(gt=this.activeModel)||void 0===gt||gt.showNextInlineCompletion()}showPreviousInlineCompletion(){var gt;null===(gt=this.activeModel)||void 0===gt||gt.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var gt;return no(this,void 0,void 0,function*(){const sn=yield null===(gt=this.activeModel)||void 0===gt?void 0:gt.hasMultipleInlineCompletions();return void 0!==sn&&sn})}};Oi.inlineSuggestionVisible=new Qn.uy("inlineSuggestionVisible",!1,jn.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),Oi.inlineSuggestionHasIndentation=new Qn.uy("inlineSuggestionHasIndentation",!1,jn.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Oi.inlineSuggestionHasIndentationLessThanTabSize=new Qn.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,jn.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Oi.ID="editor.contrib.ghostTextController",Oi=wi([xi(1,_t.TG)],Oi);class Ki{constructor(gt){this.contextKeyService=gt,this.inlineCompletionVisible=Oi.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Oi.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Oi.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let ji=class extends T.JT{constructor(gt,sn,nn){super(),this.editor=gt,this.instantiationService=sn,this.contextKeyService=nn,this.contextKeys=new Ki(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Ut,this.editor)),this.widget=this._register(this.instantiationService.createInstance(ft,this.editor,this.model)),this._register((0,T.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var gt;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(gt=this.model.activeInlineCompletionsModel)||void 0===gt?void 0:gt.ghostText));let sn=!1,nn=!0;const xn=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&xn&&xn.parts.length>0){const{column:Pn,lines:En}=xn.parts[0],ht=En[0];if(Pn<=this.editor.getModel().getLineIndentColumn(xn.lineNumber)){let Zt=(0,C.LC)(ht);-1===Zt&&(Zt=ht.length-1),sn=Zt>0;const Cn=this.editor.getModel().getOptions().tabSize;nn=E.i.visibleColumnFromColumn(ht,Zt+1,Cn)<Cn}}this.contextKeys.inlineCompletionSuggestsIndentation.set(sn),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(nn)}};ji=wi([xi(1,_t.TG),xi(2,Qn.i6)],ji);let co=(()=>{class dn extends d.R6{constructor(){super({id:dn.ID,label:jn.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Qn.Ao.and(t.u.writable,Oi.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(sn,nn){return no(this,void 0,void 0,function*(){const xn=Oi.get(nn);xn&&(xn.showNextInlineCompletion(),nn.focus())})}}return dn.ID="editor.action.inlineSuggest.showNext",dn})(),yo=(()=>{class dn extends d.R6{constructor(){super({id:dn.ID,label:jn.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Qn.Ao.and(t.u.writable,Oi.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(sn,nn){return no(this,void 0,void 0,function*(){const xn=Oi.get(nn);xn&&(xn.showPreviousInlineCompletion(),nn.focus())})}}return dn.ID="editor.action.inlineSuggest.showPrevious",dn})();var Po=e(48701),wo=e(29739),Do=e(64280),to=e(74918),vo=e(44827),ai=function(dn,gt){return function(sn,nn){gt(sn,nn,dn)}};class Yt{constructor(gt,sn,nn){this.owner=gt,this.range=sn,this.controller=nn}isValidForHoverAnchor(gt){return 1===gt.type&&this.range.startColumn<=gt.range.startColumn&&this.range.endColumn>=gt.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var gt,sn,nn;return(null===(nn=null===(sn=null===(gt=this.controller.activeModel)||void 0===gt?void 0:gt.activeInlineCompletionsModel)||void 0===sn?void 0:sn.completionSession.value)||void 0===nn?void 0:nn.commands)||[]}}let kt=class{constructor(gt,sn,nn,xn,Pn,En,ht){this._editor=gt,this._commandService=sn,this._menuService=nn,this._contextKeyService=xn,this._languageService=Pn,this._openerService=En,this.accessibilityService=ht,this.hoverOrdinal=3}suggestHoverAnchor(gt){const sn=Oi.get(this._editor);if(!sn)return null;const nn=gt.target;if(8===nn.type){const xn=nn.detail;if(sn.shouldShowHoverAtViewZone(xn.viewZoneId))return new l.YM(1e3,this,p.e.fromPositions(xn.positionBefore||xn.position,xn.positionBefore||xn.position))}return 7===nn.type&&sn.shouldShowHoverAt(nn.range)||6===nn.type&&nn.detail.mightBeForeignElement&&sn.shouldShowHoverAt(nn.range)?new l.YM(1e3,this,nn.range):null}computeSync(gt,sn){const nn=Oi.get(this._editor);return nn&&nn.shouldShowHoverAt(gt.range)?[new Yt(this,gt.range,nn)]:[]}renderHoverParts(gt,sn){const nn=new T.SL,xn=sn[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(gt,xn,nn);const Pn=nn.add(this._menuService.createMenu(to.eH.InlineCompletionsActions,this._contextKeyService)),En=gt.statusBar.addAction({label:jn.NC("showNextInlineSuggestion","Next"),commandId:co.ID,run:()=>this._commandService.executeCommand(co.ID)}),ht=gt.statusBar.addAction({label:jn.NC("showPreviousInlineSuggestion","Previous"),commandId:yo.ID,run:()=>this._commandService.executeCommand(yo.ID)});gt.statusBar.addAction({label:jn.NC("acceptInlineSuggestion","Accept"),commandId:S,run:()=>this._commandService.executeCommand(S)});const Rt=[En,ht];for(const Vt of Rt)Vt.setEnabled(!1);xn.hasMultipleSuggestions().then(Vt=>{for(const Zt of Rt)Zt.setEnabled(Vt)});for(const Vt of xn.commands)gt.statusBar.addAction({label:Vt.title,commandId:Vt.id,run:()=>this._commandService.executeCommand(Vt.id,...Vt.arguments||[])});for(const[Vt,Zt]of Pn.getActions())for(const Cn of Zt)Cn instanceof to.U8&&gt.statusBar.addAction({label:Cn.label,commandId:Cn.item.id,run:()=>this._commandService.executeCommand(Cn.item.id)});return nn}renderScreenReaderText(gt,sn,nn){var xn,Pn;const En=Dn.$,ht=En("div.hover-row.markdown-hover"),Rt=Dn.R3(ht,En("div.hover-contents")),Vt=nn.add(new wo.$({editor:this._editor},this._languageService,this._openerService)),Cn=null===(Pn=null===(xn=sn.controller.activeModel)||void 0===xn?void 0:xn.inlineCompletionsModel)||void 0===Pn?void 0:Pn.ghostText;if(Cn){const Re=this._editor.getModel().getLineContent(Cn.lineNumber);(Re=>{nn.add(Vt.onDidRenderAsync(()=>{Rt.className="hover-contents code-hover-contents",gt.onContentsChanged()}));const ct=jn.NC("inlineSuggestionFollows","Suggestion:"),_n=nn.add(Vt.render((new Po.W5).appendText(ct).appendCodeblock("text",Re)));Rt.replaceChildren(_n.element)})(Cn.renderForScreenReader(Re))}gt.fragment.appendChild(ht)}};kt=function(dn,gt,sn,nn){var En,xn=arguments.length,Pn=xn<3?gt:null===nn?nn=Object.getOwnPropertyDescriptor(gt,sn):nn;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pn=Reflect.decorate(dn,gt,sn,nn);else for(var ht=dn.length-1;ht>=0;ht--)(En=dn[ht])&&(Pn=(xn<3?En(Pn):xn>3?En(gt,sn,Pn):En(gt,sn))||Pn);return xn>3&&Pn&&Object.defineProperty(gt,sn,Pn),Pn}([ai(1,H.Hy),ai(2,to.co),ai(3,Qn.i6),ai(4,so.O),ai(5,vo.v4),ai(6,Do.F)],kt);var ln=e(98915);(0,d._K)(Oi.ID,Oi),(0,d.Qr)(class Go extends d.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:jn.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:t.u.writable})}run(gt,sn){return no(this,void 0,void 0,function*(){const nn=Oi.get(sn);nn&&nn.trigger()})}}),(0,d.Qr)(co),(0,d.Qr)(yo),l.Ae.register(kt);const On=d._l.bindToContribution(Oi.get),Fn=new On({id:S,precondition:Oi.inlineSuggestionVisible,handler(dn){dn.commit(),dn.editor.focus()}});(0,d.fK)(Fn),ln.W.registerKeybindingRule({primary:2,weight:200,id:Fn.id,when:Qn.Ao.and(Fn.precondition,t.u.tabMovesFocus.toNegated(),Oi.inlineSuggestionHasIndentationLessThanTabSize)}),(0,d.fK)(new On({id:"editor.action.inlineSuggest.hide",precondition:Oi.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(dn){dn.hide()}}))},12039:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{ExpandLineSelectionAction:()=>v});var d=e(26845),t=e(21073),l=e(82290),S=e(55197);class v extends d.R6{constructor(){super({id:"expandLineSelection",label:S.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:l.u.textInputFocus,primary:2090}})}run(C,E,L){if(L=L||{},!E.hasModel())return;const _=E._getViewModel();_.model.pushStackElement(),_.setCursorStates(L.source,3,t.P.expandLineSelection(_,_.getCursorStates())),_.revealPrimaryCursor(L.source,!0)}}(0,d.Qr)(v)},66564:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{AbstractCaseAction:()=>ze,AbstractDeleteAllToBoundaryAction:()=>xe,AbstractSortLinesAction:()=>V,DeleteAllLeftAction:()=>pe,DeleteAllRightAction:()=>Te,DeleteDuplicateLinesAction:()=>M,DeleteLinesAction:()=>Ee,DuplicateSelectionAction:()=>$,IndentLinesAction:()=>Le,InsertLineAfterAction:()=>we,InsertLineBeforeAction:()=>oe,JoinLinesAction:()=>de,KebabCaseAction:()=>Lt,LowerCaseAction:()=>ce,SnakeCaseAction:()=>Dt,SortLinesAscendingAction:()=>Z,SortLinesDescendingAction:()=>fe,TitleCaseAction:()=>nt,TransposeAction:()=>ke,TrimTrailingWhitespaceAction:()=>Se,UpperCaseAction:()=>$e});var d=e(53993),t=e(41442),l=e(26845),S=e(22599),v=e(73879),T=e(65484),C=e(98570);class E{constructor(ae,_e){this._selection=ae,this._cursors=_e,this._selectionId=null}getEditOperations(ae,_e){const he=function L(Ze,ae){ae.sort((ve,Ae)=>ve.lineNumber===Ae.lineNumber?ve.column-Ae.column:ve.lineNumber-Ae.lineNumber);for(let ve=ae.length-2;ve>=0;ve--)ae[ve].lineNumber===ae[ve+1].lineNumber&&ae.splice(ve,1);const _e=[];let he=0,le=0;const Q=ae.length;for(let ve=1,Ae=Ze.getLineCount();ve<=Ae;ve++){const dt=Ze.getLineContent(ve),st=dt.length+1;let et=0;if(le<Q&&ae[le].lineNumber===ve&&(et=ae[le].column,le++,et===st)||0===dt.length)continue;const Qe=v.ow(dt);let tt=0;if(-1===Qe)tt=1;else{if(Qe===dt.length-1)continue;tt=Qe+2}tt=Math.max(et,tt),_e[he++]=T.h.delete(new C.e(ve,tt,ve,st))}return _e}(ae,this._cursors);for(let le=0,Q=he.length;le<Q;le++){const ve=he[le];_e.addEditOperation(ve.range,ve.text)}this._selectionId=_e.trackSelection(this._selection)}computeCursorState(ae,_e){return _e.getTrackedSelection(this._selectionId)}}var _=e(97979),s=e(18723),m=e(7233),c=e(82290);class n{constructor(ae,_e,he){this._selection=ae,this._isCopyingDown=_e,this._noop=he||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(ae,_e){let he=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,he.startLineNumber<he.endLineNumber&&1===he.endColumn&&(this._endLineNumberDelta=1,he=he.setEndPosition(he.endLineNumber-1,ae.getLineMaxColumn(he.endLineNumber-1)));const le=[];for(let ve=he.startLineNumber;ve<=he.endLineNumber;ve++)le.push(ae.getLineContent(ve));const Q=le.join("\n");""===Q&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?_e.addEditOperation(new C.e(he.endLineNumber,ae.getLineMaxColumn(he.endLineNumber),he.endLineNumber+1,1),he.endLineNumber===ae.getLineCount()?"":"\n"):this._isCopyingDown?_e.addEditOperation(new C.e(he.startLineNumber,1,he.startLineNumber,1),Q+"\n"):_e.addEditOperation(new C.e(he.endLineNumber,ae.getLineMaxColumn(he.endLineNumber),he.endLineNumber,ae.getLineMaxColumn(he.endLineNumber)),"\n"+Q),this._selectionId=_e.trackSelection(he),this._selectionDirection=this._selection.getDirection()}computeCursorState(ae,_e){let he=_e.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let le=he.startLineNumber,Q=he.startColumn,ve=he.endLineNumber,Ae=he.endColumn;0!==this._startLineNumberDelta&&(le+=this._startLineNumberDelta,Q=1),0!==this._endLineNumberDelta&&(ve+=this._endLineNumberDelta,Ae=1),he=m.Y.createWithDirection(le,Q,ve,Ae,this._selectionDirection)}return he}}var a=e(91117),p=e(63331),u=e(94911),g=e(39143),b=e(3981),y=e(12969);let I=class{constructor(ae,_e,he,le){this._languageConfigurationService=le,this._selection=ae,this._isMovingDown=_e,this._autoIndent=he,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(ae,_e){const he=ae.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===he)return void(this._selectionId=_e.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=_e.trackSelection(this._selection));this._moveEndPositionDown=!1;let le=this._selection;le.startLineNumber<le.endLineNumber&&1===le.endColumn&&(this._moveEndPositionDown=!0,le=le.setEndPosition(le.endLineNumber-1,ae.getLineMaxColumn(le.endLineNumber-1)));const{tabSize:Q,indentSize:ve,insertSpaces:Ae}=ae.getOptions(),dt=this.buildIndentConverter(Q,ve,Ae),st={tokenization:{getLineTokens:et=>ae.tokenization.getLineTokens(et),getLanguageId:()=>ae.getLanguageId(),getLanguageIdAtPosition:(et,Qe)=>ae.getLanguageIdAtPosition(et,Qe)},getLineContent:null};if(le.startLineNumber===le.endLineNumber&&1===ae.getLineMaxColumn(le.startLineNumber)){const et=le.startLineNumber,Qe=this._isMovingDown?et+1:et-1;1===ae.getLineMaxColumn(Qe)?_e.addEditOperation(new C.e(1,1,1,1),null):(_e.addEditOperation(new C.e(et,1,et,1),ae.getLineContent(Qe)),_e.addEditOperation(new C.e(Qe,1,Qe,ae.getLineMaxColumn(Qe)),null)),le=new m.Y(Qe,1,Qe,1)}else{let et,Qe;if(this._isMovingDown){et=le.endLineNumber+1,Qe=ae.getLineContent(et),_e.addEditOperation(new C.e(et-1,ae.getLineMaxColumn(et-1),et,ae.getLineMaxColumn(et)),null);let tt=Qe;if(this.shouldAutoIndent(ae,le)){const vt=this.matchEnterRule(ae,dt,Q,et,le.startLineNumber-1);if(null!==vt){const _t=v.V8(ae.getLineContent(et)),Kt=vt+g.Y(_t,Q);tt=g.J(Kt,Q,Ae)+this.trimLeft(Qe)}else{st.getLineContent=Kt=>ae.getLineContent(Kt===le.startLineNumber?et:Kt);const _t=(0,b.n8)(this._autoIndent,st,ae.getLanguageIdAtPosition(et,1),le.startLineNumber,dt,this._languageConfigurationService);if(null!==_t){const Kt=v.V8(ae.getLineContent(et)),Bt=g.Y(_t,Q);Bt!==g.Y(Kt,Q)&&(tt=g.J(Bt,Q,Ae)+this.trimLeft(Qe))}}_e.addEditOperation(new C.e(le.startLineNumber,1,le.startLineNumber,1),tt+"\n");const mt=this.matchEnterRuleMovingDown(ae,dt,Q,le.startLineNumber,et,tt);if(null!==mt)0!==mt&&this.getIndentEditsOfMovingBlock(ae,_e,le,Q,Ae,mt);else{st.getLineContent=Kt=>Kt===le.startLineNumber?tt:ae.getLineContent(Kt>=le.startLineNumber+1&&Kt<=le.endLineNumber+1?Kt-1:Kt);const _t=(0,b.n8)(this._autoIndent,st,ae.getLanguageIdAtPosition(et,1),le.startLineNumber+1,dt,this._languageConfigurationService);if(null!==_t){const Kt=v.V8(ae.getLineContent(le.startLineNumber)),Bt=g.Y(_t,Q),Ge=g.Y(Kt,Q);Bt!==Ge&&this.getIndentEditsOfMovingBlock(ae,_e,le,Q,Ae,Bt-Ge)}}}else _e.addEditOperation(new C.e(le.startLineNumber,1,le.startLineNumber,1),tt+"\n")}else if(et=le.startLineNumber-1,Qe=ae.getLineContent(et),_e.addEditOperation(new C.e(et,1,et+1,1),null),_e.addEditOperation(new C.e(le.endLineNumber,ae.getLineMaxColumn(le.endLineNumber),le.endLineNumber,ae.getLineMaxColumn(le.endLineNumber)),"\n"+Qe),this.shouldAutoIndent(ae,le)){st.getLineContent=vt=>ae.getLineContent(vt===et?le.startLineNumber:vt);const tt=this.matchEnterRule(ae,dt,Q,le.startLineNumber,le.startLineNumber-2);if(null!==tt)0!==tt&&this.getIndentEditsOfMovingBlock(ae,_e,le,Q,Ae,tt);else{const vt=(0,b.n8)(this._autoIndent,st,ae.getLanguageIdAtPosition(le.startLineNumber,1),et,dt,this._languageConfigurationService);if(null!==vt){const mt=v.V8(ae.getLineContent(le.startLineNumber)),_t=g.Y(vt,Q),Kt=g.Y(mt,Q);_t!==Kt&&this.getIndentEditsOfMovingBlock(ae,_e,le,Q,Ae,_t-Kt)}}}}this._selectionId=_e.trackSelection(le)}buildIndentConverter(ae,_e,he){return{shiftIndent:le=>a.U.shiftIndent(le,le.length+1,ae,_e,he),unshiftIndent:le=>a.U.unshiftIndent(le,le.length+1,ae,_e,he)}}parseEnterResult(ae,_e,he,le,Q){if(Q){let ve=Q.indentation;Q.indentAction===p.wU.None||Q.indentAction===p.wU.Indent?ve=Q.indentation+Q.appendText:Q.indentAction===p.wU.IndentOutdent?ve=Q.indentation:Q.indentAction===p.wU.Outdent&&(ve=_e.unshiftIndent(Q.indentation)+Q.appendText);const Ae=ae.getLineContent(le);if(this.trimLeft(Ae).indexOf(this.trimLeft(ve))>=0){const dt=v.V8(ae.getLineContent(le));let st=v.V8(ve);const et=(0,b.tI)(ae,le,this._languageConfigurationService);return null!==et&&2&et&&(st=_e.unshiftIndent(st)),g.Y(st,he)-g.Y(dt,he)}}return null}matchEnterRuleMovingDown(ae,_e,he,le,Q,ve){if(v.ow(ve)>=0){const Ae=ae.getLineMaxColumn(Q),dt=(0,y.A)(this._autoIndent,ae,new C.e(Q,Ae,Q,Ae),this._languageConfigurationService);return this.parseEnterResult(ae,_e,he,le,dt)}{let Ae=le-1;for(;Ae>=1;){const et=ae.getLineContent(Ae);if(v.ow(et)>=0)break;Ae--}if(Ae<1||le>ae.getLineCount())return null;const dt=ae.getLineMaxColumn(Ae),st=(0,y.A)(this._autoIndent,ae,new C.e(Ae,dt,Ae,dt),this._languageConfigurationService);return this.parseEnterResult(ae,_e,he,le,st)}}matchEnterRule(ae,_e,he,le,Q,ve){let Ae=Q;for(;Ae>=1;){let et;if(et=Ae===Q&&void 0!==ve?ve:ae.getLineContent(Ae),v.ow(et)>=0)break;Ae--}if(Ae<1||le>ae.getLineCount())return null;const dt=ae.getLineMaxColumn(Ae),st=(0,y.A)(this._autoIndent,ae,new C.e(Ae,dt,Ae,dt),this._languageConfigurationService);return this.parseEnterResult(ae,_e,he,le,st)}trimLeft(ae){return ae.replace(/^\s+/,"")}shouldAutoIndent(ae,_e){if(this._autoIndent<4||!ae.tokenization.isCheapToTokenize(_e.startLineNumber))return!1;const he=ae.getLanguageIdAtPosition(_e.startLineNumber,1);return!(he!==ae.getLanguageIdAtPosition(_e.endLineNumber,1)||null===this._languageConfigurationService.getLanguageConfiguration(he).indentRulesSupport)}getIndentEditsOfMovingBlock(ae,_e,he,le,Q,ve){for(let Ae=he.startLineNumber;Ae<=he.endLineNumber;Ae++){const dt=ae.getLineContent(Ae),st=v.V8(dt),Qe=g.Y(st,le)+ve,tt=g.J(Qe,le,Q);tt!==st&&(_e.addEditOperation(new C.e(Ae,1,Ae,st.length+1),tt),Ae===he.endLineNumber&&he.endColumn<=st.length+1&&""===tt&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(ae,_e){let he=_e.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(he=he.setEndPosition(he.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&he.startLineNumber<he.endLineNumber&&(he=he.setEndPosition(he.endLineNumber,2)),he}};var ae;I=function(Ze,ae,_e,he){var ve,le=arguments.length,Q=le<3?ae:null===he?he=Object.getOwnPropertyDescriptor(ae,_e):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate(Ze,ae,_e,he);else for(var Ae=Ze.length-1;Ae>=0;Ae--)(ve=Ze[Ae])&&(Q=(le<3?ve(Q):le>3?ve(ae,_e,Q):ve(ae,_e))||Q);return le>3&&Q&&Object.defineProperty(ae,_e,Q),Q}([(3,ae=u.c_,function(_e,he){ae(_e,he,3)})],I);let P=(()=>{class Ze{constructor(_e,he){this.selection=_e,this.descending=he,this.selectionId=null}static getCollator(){return Ze._COLLATOR||(Ze._COLLATOR=new Intl.Collator),Ze._COLLATOR}getEditOperations(_e,he){const le=function H(Ze,ae,_e){const he=O(Ze,ae,_e);return he?T.h.replace(new C.e(he.startLineNumber,1,he.endLineNumber,Ze.getLineMaxColumn(he.endLineNumber)),he.after.join("\n")):null}(_e,this.selection,this.descending);le&&he.addEditOperation(le.range,le.text),this.selectionId=he.trackSelection(this.selection)}computeCursorState(_e,he){return he.getTrackedSelection(this.selectionId)}static canRun(_e,he,le){if(null===_e)return!1;const Q=O(_e,he,le);if(!Q)return!1;for(let ve=0,Ae=Q.before.length;ve<Ae;ve++)if(Q.before[ve]!==Q.after[ve])return!0;return!1}}return Ze._COLLATOR=null,Ze})();function O(Ze,ae,_e){const he=ae.startLineNumber;let le=ae.endLineNumber;if(1===ae.endColumn&&le--,he>=le)return null;const Q=[];for(let Ae=he;Ae<=le;Ae++)Q.push(Ze.getLineContent(Ae));let ve=Q.slice(0);return ve.sort(P.getCollator().compare),!0===_e&&(ve=ve.reverse()),{startLineNumber:he,endLineNumber:le,before:Q,after:ve}}var U=e(55197),K=e(74918);class F extends l.R6{constructor(ae,_e){super(_e),this.down=ae}run(ae,_e){if(!_e.hasModel())return;const he=_e.getSelections().map((ve,Ae)=>({selection:ve,index:Ae,ignore:!1}));he.sort((ve,Ae)=>C.e.compareRangesUsingStarts(ve.selection,Ae.selection));let le=he[0];for(let ve=1;ve<he.length;ve++){const Ae=he[ve];le.selection.endLineNumber===Ae.selection.startLineNumber&&(le.index<Ae.index?Ae.ignore=!0:(le.ignore=!0,le=Ae))}const Q=[];for(const ve of he)Q.push(new n(ve.selection,this.down,ve.ignore));_e.pushUndoStop(),_e.executeCommands(this.id,Q),_e.pushUndoStop()}}class $ extends l.R6{constructor(){super({id:"editor.action.duplicateSelection",label:U.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:c.u.writable,menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(ae,_e,he){if(!_e.hasModel())return;const le=[],Q=_e.getSelections(),ve=_e.getModel();for(const Ae of Q)if(Ae.isEmpty())le.push(new n(Ae,!0));else{const dt=new m.Y(Ae.endLineNumber,Ae.endColumn,Ae.endLineNumber,Ae.endColumn);le.push(new S.OY(dt,ve.getValueInRange(Ae)))}_e.pushUndoStop(),_e.executeCommands(this.id,le),_e.pushUndoStop()}}class j extends l.R6{constructor(ae,_e){super(_e),this.down=ae}run(ae,_e){const he=ae.get(u.c_),le=[],Q=_e.getSelections()||[],ve=_e.getOption(9);for(const Ae of Q)le.push(new I(Ae,this.down,ve,he));_e.pushUndoStop(),_e.executeCommands(this.id,le),_e.pushUndoStop()}}class V extends l.R6{constructor(ae,_e){super(_e),this.descending=ae}run(ae,_e){const he=_e.getSelections()||[];for(const Q of he)if(!P.canRun(_e.getModel(),Q,this.descending))return;const le=[];for(let Q=0,ve=he.length;Q<ve;Q++)le[Q]=new P(he[Q],this.descending);_e.pushUndoStop(),_e.executeCommands(this.id,le),_e.pushUndoStop()}}class Z extends V{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:U.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:c.u.writable})}}class fe extends V{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:U.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:c.u.writable})}}class M extends l.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:U.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:c.u.writable})}run(ae,_e){if(!_e.hasModel())return;const he=_e.getModel();if(1===he.getLineCount()&&1===he.getLineMaxColumn(1))return;const le=[],Q=[];let ve=0;for(const Ae of _e.getSelections()){const dt=new Set,st=[];for(let vt=Ae.startLineNumber;vt<=Ae.endLineNumber;vt++){const mt=he.getLineContent(vt);dt.has(mt)||(st.push(mt),dt.add(mt))}const et=new m.Y(Ae.startLineNumber,1,Ae.endLineNumber,he.getLineMaxColumn(Ae.endLineNumber)),Qe=Ae.startLineNumber-ve,tt=new m.Y(Qe,1,Qe+st.length-1,st[st.length-1].length);le.push(T.h.replace(et,st.join("\n"))),Q.push(tt),ve+=Ae.endLineNumber-Ae.startLineNumber+1-st.length}_e.pushUndoStop(),_e.executeEdits(this.id,le,Q),_e.pushUndoStop()}}let Se=(()=>{class Ze extends l.R6{constructor(){super({id:Ze.ID,label:U.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:(0,d.gx)(2089,2102),weight:100}})}run(_e,he,le){let Q=[];"auto-save"===le.reason&&(Q=(he.getSelections()||[]).map(dt=>new s.L(dt.positionLineNumber,dt.positionColumn)));const ve=he.getSelection();if(null===ve)return;const Ae=new E(ve,Q);he.pushUndoStop(),he.executeCommands(this.id,[Ae]),he.pushUndoStop()}}return Ze.ID="editor.action.trimTrailingWhitespace",Ze})();class Ee extends l.R6{constructor(){super({id:"editor.action.deleteLines",label:U.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:3113,weight:100}})}run(ae,_e){if(!_e.hasModel())return;const he=this._getLinesToRemove(_e),le=_e.getModel();if(1===le.getLineCount()&&1===le.getLineMaxColumn(1))return;let Q=0;const ve=[],Ae=[];for(let dt=0,st=he.length;dt<st;dt++){const et=he[dt];let Qe=et.startLineNumber,tt=et.endLineNumber,vt=1,mt=le.getLineMaxColumn(tt);tt<le.getLineCount()?(tt+=1,mt=1):Qe>1&&(Qe-=1,vt=le.getLineMaxColumn(Qe)),ve.push(T.h.replace(new m.Y(Qe,vt,tt,mt),"")),Ae.push(new m.Y(Qe-Q,et.positionColumn,Qe-Q,et.positionColumn)),Q+=et.endLineNumber-et.startLineNumber+1}_e.pushUndoStop(),_e.executeEdits(this.id,ve,Ae),_e.pushUndoStop()}_getLinesToRemove(ae){const _e=ae.getSelections().map(Q=>{let ve=Q.endLineNumber;return Q.startLineNumber<Q.endLineNumber&&1===Q.endColumn&&(ve-=1),{startLineNumber:Q.startLineNumber,selectionStartColumn:Q.selectionStartColumn,endLineNumber:ve,positionColumn:Q.positionColumn}});_e.sort((Q,ve)=>Q.startLineNumber===ve.startLineNumber?Q.endLineNumber-ve.endLineNumber:Q.startLineNumber-ve.startLineNumber);const he=[];let le=_e[0];for(let Q=1;Q<_e.length;Q++)le.endLineNumber+1>=_e[Q].startLineNumber?le.endLineNumber=_e[Q].endLineNumber:(he.push(le),le=_e[Q]);return he.push(le),he}}class Le extends l.R6{constructor(){super({id:"editor.action.indentLines",label:U.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2137,weight:100}})}run(ae,_e){const he=_e._getViewModel();!he||(_e.pushUndoStop(),_e.executeCommands(this.id,_.u6.indent(he.cursorConfig,_e.getModel(),_e.getSelections())),_e.pushUndoStop())}}class oe extends l.R6{constructor(){super({id:"editor.action.insertLineBefore",label:U.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:3075,weight:100}})}run(ae,_e){const he=_e._getViewModel();!he||(_e.pushUndoStop(),_e.executeCommands(this.id,_.u6.lineInsertBefore(he.cursorConfig,_e.getModel(),_e.getSelections())))}}class we extends l.R6{constructor(){super({id:"editor.action.insertLineAfter",label:U.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2051,weight:100}})}run(ae,_e){const he=_e._getViewModel();!he||(_e.pushUndoStop(),_e.executeCommands(this.id,_.u6.lineInsertAfter(he.cursorConfig,_e.getModel(),_e.getSelections())))}}class xe extends l.R6{run(ae,_e){if(!_e.hasModel())return;const he=_e.getSelection(),le=this._getRangesToDelete(_e),Q=[];for(let dt=0,st=le.length-1;dt<st;dt++){const et=le[dt],Qe=le[dt+1];null===C.e.intersectRanges(et,Qe)?Q.push(et):le[dt+1]=C.e.plusRange(et,Qe)}Q.push(le[le.length-1]);const ve=this._getEndCursorState(he,Q),Ae=Q.map(dt=>T.h.replace(dt,""));_e.pushUndoStop(),_e.executeEdits(this.id,Ae,ve),_e.pushUndoStop()}}class pe extends xe{constructor(){super({id:"deleteAllLeft",label:U.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(ae,_e){let he=null;const le=[];let Q=0;return _e.forEach(ve=>{let Ae;if(1===ve.endColumn&&Q>0){const dt=ve.startLineNumber-Q;Ae=new m.Y(dt,ve.startColumn,dt,ve.startColumn)}else Ae=new m.Y(ve.startLineNumber,ve.startColumn,ve.startLineNumber,ve.startColumn);Q+=ve.endLineNumber-ve.startLineNumber,ve.intersectRanges(ae)?he=Ae:le.push(Ae)}),he&&le.unshift(he),le}_getRangesToDelete(ae){const _e=ae.getSelections();if(null===_e)return[];let he=_e;const le=ae.getModel();return null===le?[]:(he.sort(C.e.compareRangesUsingStarts),he=he.map(Q=>{if(Q.isEmpty()){if(1===Q.startColumn){const ve=Math.max(1,Q.startLineNumber-1),Ae=1===Q.startLineNumber?1:le.getLineContent(ve).length+1;return new C.e(ve,Ae,Q.startLineNumber,1)}return new C.e(Q.startLineNumber,1,Q.startLineNumber,Q.startColumn)}return new C.e(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn)}),he)}}class Te extends xe{constructor(){super({id:"deleteAllRight",label:U.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:c.u.writable,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(ae,_e){let he=null;const le=[];for(let Q=0,ve=_e.length,Ae=0;Q<ve;Q++){const dt=_e[Q],st=new m.Y(dt.startLineNumber-Ae,dt.startColumn,dt.startLineNumber-Ae,dt.startColumn);dt.intersectRanges(ae)?he=st:le.push(st)}return he&&le.unshift(he),le}_getRangesToDelete(ae){const _e=ae.getModel();if(null===_e)return[];const he=ae.getSelections();if(null===he)return[];const le=he.map(Q=>{if(Q.isEmpty()){const ve=_e.getLineMaxColumn(Q.startLineNumber);return Q.startColumn===ve?new C.e(Q.startLineNumber,Q.startColumn,Q.startLineNumber+1,1):new C.e(Q.startLineNumber,Q.startColumn,Q.startLineNumber,ve)}return Q});return le.sort(C.e.compareRangesUsingStarts),le}}class de extends l.R6{constructor(){super({id:"editor.action.joinLines",label:U.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(ae,_e){const he=_e.getSelections();if(null===he)return;let le=_e.getSelection();if(null===le)return;he.sort(C.e.compareRangesUsingStarts);const Q=[],ve=he.reduce((tt,vt)=>tt.isEmpty()?tt.endLineNumber===vt.startLineNumber?(le.equalsSelection(tt)&&(le=vt),vt):vt.startLineNumber>tt.endLineNumber+1?(Q.push(tt),vt):new m.Y(tt.startLineNumber,tt.startColumn,vt.endLineNumber,vt.endColumn):vt.startLineNumber>tt.endLineNumber?(Q.push(tt),vt):new m.Y(tt.startLineNumber,tt.startColumn,vt.endLineNumber,vt.endColumn));Q.push(ve);const Ae=_e.getModel();if(null===Ae)return;const dt=[],st=[];let et=le,Qe=0;for(let tt=0,vt=Q.length;tt<vt;tt++){const mt=Q[tt],_t=mt.startLineNumber,Kt=1;let Ge,ut,Bt=0;const Ut=Ae.getLineContent(mt.endLineNumber).length-mt.endColumn;if(mt.isEmpty()||mt.startLineNumber===mt.endLineNumber){const wt=mt.getStartPosition();wt.lineNumber<Ae.getLineCount()?(Ge=_t+1,ut=Ae.getLineMaxColumn(Ge)):(Ge=wt.lineNumber,ut=Ae.getLineMaxColumn(wt.lineNumber))}else Ge=mt.endLineNumber,ut=Ae.getLineMaxColumn(Ge);let hn=Ae.getLineContent(_t);for(let wt=_t+1;wt<=Ge;wt++){const je=Ae.getLineContent(wt),ye=Ae.getLineFirstNonWhitespaceColumn(wt);if(ye>=1){let Me=!0;""===hn&&(Me=!1),Me&&(" "===hn.charAt(hn.length-1)||"\t"===hn.charAt(hn.length-1))&&(Me=!1,hn=hn.replace(/[\s\uFEFF\xA0]+$/g," "));const ue=je.substr(ye-1);hn+=(Me?" ":"")+ue,Bt=Me?ue.length+1:ue.length}else Bt=0}const Dn=new C.e(_t,Kt,Ge,ut);if(!Dn.isEmpty()){let wt;mt.isEmpty()?(dt.push(T.h.replace(Dn,hn)),wt=new m.Y(Dn.startLineNumber-Qe,hn.length-Bt+1,_t-Qe,hn.length-Bt+1)):mt.startLineNumber===mt.endLineNumber?(dt.push(T.h.replace(Dn,hn)),wt=new m.Y(mt.startLineNumber-Qe,mt.startColumn,mt.endLineNumber-Qe,mt.endColumn)):(dt.push(T.h.replace(Dn,hn)),wt=new m.Y(mt.startLineNumber-Qe,mt.startColumn,mt.startLineNumber-Qe,hn.length-Ut)),null!==C.e.intersectRanges(Dn,le)?et=wt:st.push(wt)}Qe+=Dn.endLineNumber-Dn.startLineNumber}st.unshift(et),_e.pushUndoStop(),_e.executeEdits(this.id,dt,st),_e.pushUndoStop()}}class ke extends l.R6{constructor(){super({id:"editor.action.transpose",label:U.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:c.u.writable})}run(ae,_e){const he=_e.getSelections();if(null===he)return;const le=_e.getModel();if(null===le)return;const Q=[];for(let ve=0,Ae=he.length;ve<Ae;ve++){const dt=he[ve];if(!dt.isEmpty())continue;const st=dt.getStartPosition(),et=le.getLineMaxColumn(st.lineNumber);if(st.column>=et){if(st.lineNumber===le.getLineCount())continue;const Qe=new C.e(st.lineNumber,Math.max(1,st.column-1),st.lineNumber+1,1),tt=le.getValueInRange(Qe).split("").reverse().join("");Q.push(new S.T4(new m.Y(st.lineNumber,Math.max(1,st.column-1),st.lineNumber+1,1),tt))}else{const Qe=new C.e(st.lineNumber,Math.max(1,st.column-1),st.lineNumber,st.column+1),tt=le.getValueInRange(Qe).split("").reverse().join("");Q.push(new S.hP(Qe,tt,new m.Y(st.lineNumber,st.column+1,st.lineNumber,st.column+1)))}}_e.pushUndoStop(),_e.executeCommands(this.id,Q),_e.pushUndoStop()}}class ze extends l.R6{run(ae,_e){const he=_e.getSelections();if(null===he)return;const le=_e.getModel();if(null===le)return;const Q=_e.getOption(119),ve=[];for(const Ae of he)if(Ae.isEmpty()){const dt=Ae.getStartPosition(),st=_e.getConfiguredWordAtPosition(dt);if(!st)continue;const et=new C.e(dt.lineNumber,st.startColumn,dt.lineNumber,st.endColumn),Qe=le.getValueInRange(et);ve.push(T.h.replace(et,this._modifyText(Qe,Q)))}else{const dt=le.getValueInRange(Ae);ve.push(T.h.replace(Ae,this._modifyText(dt,Q)))}_e.pushUndoStop(),_e.executeEdits(this.id,ve),_e.pushUndoStop()}}class $e extends ze{constructor(){super({id:"editor.action.transformToUppercase",label:U.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:c.u.writable})}_modifyText(ae,_e){return ae.toLocaleUpperCase()}}class ce extends ze{constructor(){super({id:"editor.action.transformToLowercase",label:U.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:c.u.writable})}_modifyText(ae,_e){return ae.toLocaleLowerCase()}}class Ue{constructor(ae,_e){this._pattern=ae,this._flags=_e,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class nt extends ze{constructor(){super({id:"editor.action.transformToTitlecase",label:U.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:c.u.writable})}_modifyText(ae,_e){const he=nt.titleBoundary.get();return he?ae.toLocaleLowerCase().replace(he,le=>le.toLocaleUpperCase()):ae}}nt.titleBoundary=new Ue("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Dt extends ze{constructor(){super({id:"editor.action.transformToSnakecase",label:U.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:c.u.writable})}_modifyText(ae,_e){const he=Dt.caseBoundary.get(),le=Dt.singleLetters.get();return he&&le?ae.replace(he,"$1_$2").replace(le,"$1_$2$3").toLocaleLowerCase():ae}}Dt.caseBoundary=new Ue("(\\p{Ll})(\\p{Lu})","gmu"),Dt.singleLetters=new Ue("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class Lt extends ze{constructor(){super({id:"editor.action.transformToKebabcase",label:U.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:c.u.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(_e=>_e.isSupported())}_modifyText(ae,_e){const he=Lt.caseBoundary.get(),le=Lt.singleLetters.get(),Q=Lt.underscoreBoundary.get();return he&&le&&Q?ae.replace(Q,"$1-$3").replace(he,"$1-$2").replace(le,"$1-$2").toLocaleLowerCase():ae}}Lt.caseBoundary=new Ue("(\\p{Ll})(\\p{Lu})","gmu"),Lt.singleLetters=new Ue("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Lt.underscoreBoundary=new Ue("(\\S)(_)(\\S)","gm"),(0,l.Qr)(class B extends F{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:U.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,l.Qr)(class z extends F{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:U.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,l.Qr)($),(0,l.Qr)(class ne extends j{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:U.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,l.Qr)(class N extends j{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:U.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:K.eH.MenubarSelectionMenu,group:"2_line",title:U.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,l.Qr)(Z),(0,l.Qr)(fe),(0,l.Qr)(M),(0,l.Qr)(Se),(0,l.Qr)(Ee),(0,l.Qr)(Le),(0,l.Qr)(class Ne extends l.R6{constructor(){super({id:"editor.action.outdentLines",label:U.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:c.u.writable,kbOpts:{kbExpr:c.u.editorTextFocus,primary:2135,weight:100}})}run(ae,_e){t.CoreEditingCommands.Outdent.runEditorCommand(ae,_e,null)}}),(0,l.Qr)(oe),(0,l.Qr)(we),(0,l.Qr)(pe),(0,l.Qr)(Te),(0,l.Qr)(de),(0,l.Qr)(ke),(0,l.Qr)($e),(0,l.Qr)(ce),Dt.caseBoundary.isSupported()&&Dt.singleLetters.isSupported()&&(0,l.Qr)(Dt),nt.titleBoundary.isSupported()&&(0,l.Qr)(nt),Lt.isSupported()&&(0,l.Qr)(Lt)},52610:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:()=>U,LinkedEditingAction:()=>B,LinkedEditingContribution:()=>F,editorLinkedEditingBackground:()=>j});var d=e(64023),t=e(48648),l=e(73888),S=e(69355),v=e(4125),T=e(3778),C=e(80142),E=e(73879),L=e(59547),_=e(26845),s=e(33745),m=e(18723),c=e(98570),n=e(82290),a=e(59758),p=e(94911),u=e(55197),g=e(16468),b=e(4062),y=e(40902),D=e(90790),w=e(79095),I=e(631),O=function(ne,N){return function(V,Z){N(V,Z,ne)}},H=function(ne,N,V,Z){return new(V||(V=Promise))(function(M,Se){function Ee(oe){try{Ne(Z.next(oe))}catch(we){Se(we)}}function Le(oe){try{Ne(Z.throw(oe))}catch(we){Se(we)}}function Ne(oe){oe.done?M(oe.value):function fe(M){return M instanceof V?M:new V(function(Se){Se(M)})}(oe.value).then(Ee,Le)}Ne((Z=Z.apply(ne,N||[])).next())})};const U=new g.uy("LinkedEditingInputVisible",!1),K="linked-editing-decoration";let F=class Mc extends C.JT{constructor(N,V,Z,fe,M){super(),this.languageConfigurationService=fe,this._syncRangesToken=0,this._localToDispose=this._register(new C.SL),this._editor=N,this._providers=Z.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=U.bindTo(V),this._debounceInformation=M.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new C.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(Se=>{(Se.hasChanged(64)||Se.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(N){return N.getContribution(Mc.ID)}reinitialize(N){const V=this._editor.getModel(),Z=null!==V&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(V);if(Z===this._enabled&&!N||(this._enabled=Z,this.clearRanges(),this._localToDispose.clear(),!Z||null===V))return;this._localToDispose.add(T.ju.runAndSubscribe(V.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(V.getLanguageId()).getWordDefinition()}));const fe=new t.vp(this._debounceInformation.get(V)),M=()=>{var Le;this._rangeUpdateTriggerPromise=fe.trigger(()=>this.updateRanges(),null!==(Le=this._debounceDuration)&&void 0!==Le?Le:this._debounceInformation.get(V))},Se=new t.vp(0),Ee=Le=>{this._rangeSyncTriggerPromise=Se.trigger(()=>this._syncRanges(Le))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{M()})),this._localToDispose.add(this._editor.onDidChangeModelContent(Le=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const Ne=this._currentDecorations.getRange(0);if(Ne&&Le.changes.every(oe=>Ne.intersectRanges(oe.range)))return void Ee(this._syncRangesToken)}M()})),this._localToDispose.add({dispose:()=>{fe.dispose(),Se.dispose()}}),this.updateRanges()}_syncRanges(N){if(!this._editor.hasModel()||N!==this._syncRangesToken||0===this._currentDecorations.length)return;const V=this._editor.getModel(),Z=this._currentDecorations.getRange(0);if(!Z||Z.startLineNumber!==Z.endLineNumber)return this.clearRanges();const fe=V.getValueInRange(Z);if(this._currentWordPattern){const Se=fe.match(this._currentWordPattern);if((Se?Se[0].length:0)!==fe.length)return this.clearRanges()}const M=[];for(let Se=1,Ee=this._currentDecorations.length;Se<Ee;Se++){const Le=this._currentDecorations.getRange(Se);if(Le)if(Le.startLineNumber!==Le.endLineNumber)M.push({range:Le,text:fe});else{let Ne=V.getValueInRange(Le),oe=fe,we=Le.startColumn,xe=Le.endColumn;const pe=E.Mh(Ne,oe);we+=pe,Ne=Ne.substr(pe),oe=oe.substr(pe);const Te=E.P1(Ne,oe);xe-=Te,Ne=Ne.substr(0,Ne.length-Te),oe=oe.substr(0,oe.length-Te),(we!==xe||0!==oe.length)&&M.push({range:new c.e(Le.startLineNumber,we,Le.endLineNumber,xe),text:oe})}}if(0!==M.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const Se=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",M),this._editor._getViewModel().setPrevEditOperationType(Se)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(N=!1){return H(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const V=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1)return void this.clearRanges();const Z=this._editor.getModel(),fe=Z.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===fe){if(V.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const Se=this._currentDecorations.getRange(0);if(Se&&Se.containsPosition(V))return}}this._currentRequestPosition=V,this._currentRequestModelVersion=fe;const M=(0,t.PG)(Se=>H(this,void 0,void 0,function*(){try{const Ee=new I.G(!1),Le=yield $(this._providers,Z,V,Se);if(this._debounceInformation.update(Z,Ee.elapsed()),M!==this._currentRequest||(this._currentRequest=null,fe!==Z.getVersionId()))return;let Ne=[];Le?.ranges&&(Ne=Le.ranges),this._currentWordPattern=Le?.wordPattern||this._languageWordPattern;let oe=!1;for(let xe=0,pe=Ne.length;xe<pe;xe++)if(c.e.containsPosition(Ne[xe],V)){if(oe=!0,0!==xe){const Te=Ne[xe];Ne.splice(xe,1),Ne.unshift(Te)}break}if(!oe)return void this.clearRanges();const we=Ne.map(xe=>({range:xe,options:Mc.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(we),this._syncRangesToken++}catch(Ee){(0,v.n2)(Ee)||(0,v.dL)(Ee),(this._currentRequest===M||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=M,M})}};F.ID="editor.contrib.linkedEditing",F.DECORATION=a.qx.register({description:"linked-editing",stickiness:0,className:K}),F=function(ne,N,V,Z){var Se,fe=arguments.length,M=fe<3?N:null===Z?Z=Object.getOwnPropertyDescriptor(N,V):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(ne,N,V,Z);else for(var Ee=ne.length-1;Ee>=0;Ee--)(Se=ne[Ee])&&(M=(fe<3?Se(M):fe>3?Se(N,V,M):Se(N,V))||M);return fe>3&&M&&Object.defineProperty(N,V,M),M}([O(1,g.i6),O(2,D.p),O(3,p.c_),O(4,w.A)],F);class B extends _.R6{constructor(){super({id:"editor.action.linkedEditing",label:u.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:g.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:3132,weight:100}})}runCommand(N,V){const Z=N.get(s.$),[fe,M]=Array.isArray(V)&&V||[void 0,void 0];return L.o.isUri(fe)&&m.L.isIPosition(M)?Z.openCodeEditor({resource:fe},Z.getActiveCodeEditor()).then(Se=>{!Se||(Se.setPosition(M),Se.invokeWithinContext(Ee=>(this.reportTelemetry(Ee,Se),this.run(Ee,Se))))},v.dL):super.runCommand(N,V)}run(N,V){const Z=F.get(V);return Z?Promise.resolve(Z.updateRanges(!0)):Promise.resolve()}}const z=_._l.bindToContribution(F.get);function $(ne,N,V,Z){const fe=ne.ordered(N);return(0,t.Ps)(fe.map(M=>()=>H(this,void 0,void 0,function*(){try{return yield M.provideLinkedEditingRanges(N,V,Z)}catch(Se){return void(0,v.Cp)(Se)}})),M=>!!M&&d.Of(M?.ranges))}(0,_.fK)(new z({id:"cancelLinkedEditingInput",precondition:U,handler:ne=>ne.clearRanges(),kbOpts:{kbExpr:n.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const j=(0,b.P6G)("editor.linkedEditingBackground",{dark:S.Il.fromHex("#f00").transparent(.3),light:S.Il.fromHex("#f00").transparent(.3),hcDark:S.Il.fromHex("#f00").transparent(.3),hcLight:S.Il.white},u.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,y.Ic)((ne,N)=>{const V=ne.getColor(j);V&&N.addRule(`.monaco-editor .${K} { background: ${V}; border-left-color: ${V}; }`)}),(0,_.sb)("_executeLinkedEditingProvider",(ne,N,V)=>{const{linkedEditingRangeProvider:Z}=ne.get(D.p);return $(Z,N,V,l.T.None)}),(0,_._K)(F.ID,F),(0,_.Qr)(B)},76224:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{LinkDetector:()=>de});var d=e(48648),t=e(73888),l=e(4125),S=e(48701),v=e(80142),T=e(59310),C=e(8841),E=e(40734),L=e(631),_=e(59547),s=e(57856),m=e.n(s),c=e(38470),n=e.n(c),a=e(43370),p=e.n(a),u=e(28458),g=e.n(u),b=e(71278),y=e.n(b),D=e(29488),w=e.n(D),I=e(98061),P={};P.styleTagTransform=w(),P.setAttributes=g(),P.insert=p().bind(null,"head"),P.domAPI=n(),P.insertStyleElement=y(),m()(I.Z,P);var U=e(26845),K=e(59758),F=e(79095),B=e(90790),z=e(46170),$=e(64023),j=e(72715),ne=e(98570),N=e(59602),V=e(66549),Z=function(Ue,nt,Dt,Lt){return new(Dt||(Dt=Promise))(function(ae,_e){function he(ve){try{Q(Lt.next(ve))}catch(Ae){_e(Ae)}}function le(ve){try{Q(Lt.throw(ve))}catch(Ae){_e(Ae)}}function Q(ve){ve.done?ae(ve.value):function Ze(ae){return ae instanceof Dt?ae:new Dt(function(_e){_e(ae)})}(ve.value).then(he,le)}Q((Lt=Lt.apply(Ue,nt||[])).next())})};class fe{constructor(nt,Dt){this._link=nt,this._provider=Dt}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(nt){return Z(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,nt)).then(Dt=>(this._link=Dt||this._link,this._link.url?this.resolve(nt):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class M{constructor(nt){this._disposables=new v.SL;let Dt=[];for(const[Lt,Ze]of nt){const ae=Lt.links.map(_e=>new fe(_e,Ze));Dt=M._union(Dt,ae),(0,v.Wf)(Lt)&&this._disposables.add(Lt)}this.links=Dt}dispose(){this._disposables.dispose(),this.links.length=0}static _union(nt,Dt){const Lt=[];let Ze,ae,_e,he;for(Ze=0,_e=0,ae=nt.length,he=Dt.length;Ze<ae&&_e<he;){const le=nt[Ze],Q=Dt[_e];ne.e.areIntersectingOrTouching(le.range,Q.range)?Ze++:ne.e.compareRangesUsingStarts(le.range,Q.range)<0?(Lt.push(le),Ze++):(Lt.push(Q),_e++)}for(;Ze<ae;Ze++)Lt.push(nt[Ze]);for(;_e<he;_e++)Lt.push(Dt[_e]);return Lt}}function Se(Ue,nt,Dt){const Lt=[],Ze=Ue.ordered(nt).reverse().map((ae,_e)=>Promise.resolve(ae.provideLinks(nt,Dt)).then(he=>{he&&(Lt[_e]=[he,ae])},l.Cp));return Promise.all(Ze).then(()=>{const ae=new M((0,$.kX)(Lt));return Dt.isCancellationRequested?(ae.dispose(),new M([])):ae})}V.P0.registerCommand("_executeLinkProvider",(Ue,...nt)=>Z(void 0,void 0,void 0,function*(){let[Dt,Lt]=nt;(0,j.p_)(Dt instanceof _.o),"number"!=typeof Lt&&(Lt=0);const{linkProvider:Ze}=Ue.get(B.p),ae=Ue.get(N.q).getModel(Dt);if(!ae)return[];const _e=yield Se(Ze,ae,t.T.None);if(!_e)return[];for(let le=0;le<Math.min(Lt,_e.links.length);le++)yield _e.links[le].resolve(t.T.None);const he=_e.links.slice(0);return _e.dispose(),he}));var Ee=e(55197),Le=e(54436),Ne=e(44827),oe=e(4062),we=e(40902),pe=function(Ue,nt){return function(Dt,Lt){nt(Dt,Lt,Ue)}};let de=class ru extends v.JT{constructor(nt,Dt,Lt,Ze,ae){super(),this.editor=nt,this.openerService=Dt,this.notificationService=Lt,this.languageFeaturesService=Ze,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=ae.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new d.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const _e=this._register(new z.yN(nt));this._register(_e.onMouseMoveOrRelevantKeyDown(([he,le])=>{this._onEditorMouseMove(he,le)})),this._register(_e.onExecute(he=>{this.onEditorMouseUp(he)})),this._register(_e.onCancel(he=>{this.cleanUpActiveLinkDecoration()})),this._register(nt.onDidChangeConfiguration(he=>{!he.hasChanged(65)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(nt.onDidChangeModelContent(he=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(nt.onDidChangeModel(he=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(nt.onDidChangeModelLanguage(he=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(he=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(nt){return nt.getContribution(ru.ID)}computeLinksNow(){return Ue=this,nt=void 0,Lt=function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const nt=this.editor.getModel();if(this.providers.has(nt)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,d.PG)(Dt=>Se(this.providers,nt,Dt));try{const Dt=new L.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(nt,Dt.elapsed()),nt.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(Dt){(0,l.dL)(Dt)}finally{this.computePromise=null}}},new((Dt=void 0)||(Dt=Promise))(function(ae,_e){function he(ve){try{Q(Lt.next(ve))}catch(Ae){_e(Ae)}}function le(ve){try{Q(Lt.throw(ve))}catch(Ae){_e(Ae)}}function Q(ve){ve.done?ae(ve.value):function Ze(ae){return ae instanceof Dt?ae:new Dt(function(_e){_e(ae)})}(ve.value).then(he,le)}Q((Lt=Lt.apply(Ue,nt||[])).next())});var Ue,nt,Dt,Lt}updateDecorations(nt){const Dt="altKey"===this.editor.getOption(72),Lt=[],Ze=Object.keys(this.currentOccurrences);for(const _e of Ze)Lt.push(this.currentOccurrences[_e].decorationId);const ae=[];if(nt)for(const _e of nt)ae.push(ze.decoration(_e,Dt));this.editor.changeDecorations(_e=>{const he=_e.deltaDecorations(Lt,ae);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let le=0,Q=he.length;le<Q;le++){const ve=new ze(nt[le],he[le]);this.currentOccurrences[ve.decorationId]=ve}})}_onEditorMouseMove(nt,Dt){const Lt="altKey"===this.editor.getOption(72);if(this.isEnabled(nt,Dt)){this.cleanUpActiveLinkDecoration();const Ze=this.getLinkOccurrence(nt.target.position);Ze&&this.editor.changeDecorations(ae=>{Ze.activate(ae,Lt),this.activeLinkDecorationId=Ze.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const nt="altKey"===this.editor.getOption(72);if(this.activeLinkDecorationId){const Dt=this.currentOccurrences[this.activeLinkDecorationId];Dt&&this.editor.changeDecorations(Lt=>{Dt.deactivate(Lt,nt)}),this.activeLinkDecorationId=null}}onEditorMouseUp(nt){if(!this.isEnabled(nt))return;const Dt=this.getLinkOccurrence(nt.target.position);!Dt||this.openLinkOccurrence(Dt,nt.hasSideBySideModifier,!0)}openLinkOccurrence(nt,Dt,Lt=!1){if(!this.openerService)return;const{link:Ze}=nt;Ze.resolve(t.T.None).then(ae=>{if("string"==typeof ae&&this.editor.hasModel()){const _e=this.editor.getModel().uri;if(_e.scheme===T.lg.file&&ae.startsWith(`${T.lg.file}:`)){const he=_.o.parse(ae);if(he.scheme===T.lg.file){const le=E.z_(he);let Q=null;le.startsWith("/./")?Q=`.${le.substr(1)}`:le.startsWith("//./")&&(Q=`.${le.substr(2)}`),Q&&(ae=E.Vo(_e,Q))}}}return this.openerService.open(ae,{openToSide:Dt,fromUserGesture:Lt,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},ae=>{const _e=ae instanceof Error?ae.message:ae;"invalid"===_e?this.notificationService.warn(Ee.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",Ze.url.toString())):"missing"===_e?this.notificationService.warn(Ee.NC("missing.url","Failed to open this link because its target is missing.")):(0,l.dL)(ae)})}getLinkOccurrence(nt){if(!this.editor.hasModel()||!nt)return null;const Dt=this.editor.getModel().getDecorationsInRange({startLineNumber:nt.lineNumber,startColumn:nt.column,endLineNumber:nt.lineNumber,endColumn:nt.column},0,!0);for(const Lt of Dt){const Ze=this.currentOccurrences[Lt.id];if(Ze)return Ze}return null}isEnabled(nt,Dt){return Boolean(6===nt.target.type&&(nt.hasTriggerModifier||Dt&&Dt.keyCodeIsTriggerKey))}stop(){var nt;this.computeLinks.cancel(),this.activeLinksList&&(null===(nt=this.activeLinksList)||void 0===nt||nt.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};de.ID="editor.linkDetector",de=function(Ue,nt,Dt,Lt){var _e,Ze=arguments.length,ae=Ze<3?nt:null===Lt?Lt=Object.getOwnPropertyDescriptor(nt,Dt):Lt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(Ue,nt,Dt,Lt);else for(var he=Ue.length-1;he>=0;he--)(_e=Ue[he])&&(ae=(Ze<3?_e(ae):Ze>3?_e(nt,Dt,ae):_e(nt,Dt))||ae);return Ze>3&&ae&&Object.defineProperty(nt,Dt,ae),ae}([pe(1,Ne.v4),pe(2,Le.lT),pe(3,B.p),pe(4,F.A)],de);const ke={general:K.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:K.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class ze{constructor(nt,Dt){this.link=nt,this.decorationId=Dt}static decoration(nt,Dt){return{range:nt.range,options:ze._getOptions(nt,Dt,!1)}}static _getOptions(nt,Dt,Lt){const Ze=Object.assign({},Lt?ke.active:ke.general);return Ze.hoverMessage=function $e(Ue,nt){const Dt=Ue.url&&/^command:/i.test(Ue.url.toString()),Lt=Ue.tooltip?Ue.tooltip:Dt?Ee.NC("links.navigate.executeCmd","Execute command"):Ee.NC("links.navigate.follow","Follow link"),Ze=nt?C.dz?Ee.NC("links.navigate.kb.meta.mac","cmd + click"):Ee.NC("links.navigate.kb.meta","ctrl + click"):C.dz?Ee.NC("links.navigate.kb.alt.mac","option + click"):Ee.NC("links.navigate.kb.alt","alt + click");if(Ue.url){let ae="";if(/^command:/i.test(Ue.url.toString())){const he=Ue.url.toString().match(/^command:([^?#]+)/);he&&(ae=Ee.NC("tooltip.explanation","Execute command {0}",he[1]))}return new S.W5("",!0).appendLink(Ue.url.toString(!0).replace(/ /g,"%20"),Lt,ae).appendMarkdown(` (${Ze})`)}return(new S.W5).appendText(`${Lt} (${Ze})`)}(nt,Dt),Ze}activate(nt,Dt){nt.changeDecorationOptions(this.decorationId,ze._getOptions(this.link,Dt,!0))}deactivate(nt,Dt){nt.changeDecorationOptions(this.decorationId,ze._getOptions(this.link,Dt,!1))}}(0,U._K)(de.ID,de),(0,U.Qr)(class ce extends U.R6{constructor(){super({id:"editor.action.openLink",label:Ee.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(nt,Dt){const Lt=de.get(Dt);if(!Lt||!Dt.hasModel())return;const Ze=Dt.getSelections();for(const ae of Ze){const _e=Lt.getLinkOccurrence(ae.getEndPosition());_e&&Lt.openLinkOccurrence(_e,!1)}}}),(0,we.Ic)((Ue,nt)=>{const Dt=Ue.getColor(oe._Yy);Dt&&nt.addRule(`.monaco-editor .detected-link-active { color: ${Dt} !important; }`)})},29739:(Et,X,e)=>{"use strict";e.d(X,{$:()=>j});var d=e(98463),t=e(44043),l=e(75366),S=e(86998),v=e(97340),T=e(97139),C=e(4125),E=e(3778),L=e(48701),_=e(59882),s=e(84575),m=e(80142),c=e(26662),n=e(61408),a=e(59310),p=e(6276),u=e(40734),g=e(73879),b=e(59547);function y(ne,N={},V={}){var Z;const fe=new m.SL;let M=!1;const Se=(0,S.az)(N),Ee=function(de){let ke;try{ke=(0,n.Q)(decodeURIComponent(de))}catch{}return ke?(ke=(0,p.rs)(ke,ze=>{if(ne.uris&&ne.uris[ze])return b.o.revive(ne.uris[ze])}),encodeURIComponent(JSON.stringify(ke))):de},Le=function(de,ke){let $e=b.o.revive(ne.uris&&ne.uris[de]);return ke?de.startsWith(a.lg.data+":")?de:($e||($e=b.o.parse(de)),a.Gi.asBrowserUri($e).toString(!0)):$e&&b.o.parse(de).toString()!==$e.toString()?($e.query&&($e=$e.with({query:Ee($e.query)})),$e.toString()):de},Ne=new c.T.Renderer;Ne.image=(de,ke,ze)=>{let $e=[],ce=[];return de&&(({href:de,dimensions:$e}=(0,L.v1)(de)),ce.push(`src="${(0,L.d9)(de)}"`)),ze&&ce.push(`alt="${(0,L.d9)(ze)}"`),ke&&ce.push(`title="${(0,L.d9)(ke)}"`),$e.length&&(ce=ce.concat($e)),"<img "+ce.join(" ")+">"},Ne.link=(de,ke,ze)=>"string"!=typeof de?"":(de===ze&&(ze=(0,L.oR)(ze)),ke="string"==typeof ke?(0,L.d9)((0,L.oR)(ke)):"",`<a href="${de=(de=(0,L.oR)(de)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${ke||de}">${ze}</a>`),Ne.paragraph=de=>`<p>${de}</p>`;const oe=[];if(N.codeBlockRenderer&&(Ne.code=(de,ke)=>{const ze=s.a.nextId(),$e=N.codeBlockRenderer(ke??"",de);return oe.push($e.then(ce=>[ze,ce])),`<div class="code" data-code="${ze}">${(0,g.YU)(de)}</div>`}),N.actionHandler){const de=N.actionHandler.disposables.add(new l.Y(Se,"click")),ke=N.actionHandler.disposables.add(new l.Y(Se,"auxclick"));N.actionHandler.disposables.add(E.ju.any(de.event,ke.event)(ze=>{const $e=new v.n(ze);if(!$e.leftButton&&!$e.middleButton)return;let ce=$e.target;if("A"===ce.tagName||(ce=ce.parentElement,ce&&"A"===ce.tagName))try{let Ue=ce.dataset.href;Ue&&(ne.baseUri&&(Ue=D(b.o.from(ne.baseUri),Ue)),N.actionHandler.callback(Ue,$e))}catch(Ue){(0,C.dL)(Ue)}finally{$e.preventDefault()}}))}ne.supportHtml||(V.sanitizer=de=>(ne.isTrusted?de.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?de:"",V.sanitize=!0,V.silent=!0),V.renderer=Ne;let we=null!==(Z=ne.value)&&void 0!==Z?Z:"";we.length>1e5&&(we=`${we.substr(0,1e5)}\u2026`),ne.supportThemeIcons&&(we=(0,_.f$)(we));let xe=c.T.parse(we,V);ne.supportThemeIcons&&(xe=(0,T.T)(xe).map(ke=>"string"==typeof ke?ke:ke.outerHTML).join(""));const Te=(new DOMParser).parseFromString(w(ne,xe),"text/html");if(Te.body.querySelectorAll("img").forEach(de=>{const ke=de.getAttribute("src");if(ke){let ze=ke;try{ne.baseUri&&(ze=D(b.o.from(ne.baseUri),ze))}catch{}de.src=Le(ze,!0)}}),Te.body.querySelectorAll("a").forEach(de=>{const ke=de.getAttribute("href");if(de.setAttribute("href",""),!ke||/^data:|javascript:/i.test(ke)||/^command:/i.test(ke)&&!ne.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ke))de.replaceWith(...de.childNodes);else{let ze=Le(ke,!1);ne.baseUri&&(ze=D(b.o.from(ne.baseUri),ke)),de.dataset.href=ze}}),Se.innerHTML=w(ne,Te.body.innerHTML),oe.length>0&&Promise.all(oe).then(de=>{var ke,ze;if(M)return;const $e=new Map(de),ce=Se.querySelectorAll("div[data-code]");for(const Ue of ce){const nt=$e.get(null!==(ke=Ue.dataset.code)&&void 0!==ke?ke:"");nt&&d.mc(Ue,nt)}null===(ze=N.asyncRenderCallback)||void 0===ze||ze.call(N)}),N.asyncRenderCallback)for(const de of Se.getElementsByTagName("img")){const ke=fe.add(d.nm(de,"load",()=>{ke.dispose(),N.asyncRenderCallback()}))}return{element:Se,dispose:()=>{M=!0,fe.dispose()}}}function D(ne,N){return/^\w[\w\d+.-]*:/.test(N)?N:ne.path.endsWith("/")?(0,u.i3)(ne,N).toString():(0,u.i3)((0,u.XX)(ne),N).toString()}function w(ne,N){const{config:V,allowedSchemes:Z}=function I(ne){const N=[a.lg.http,a.lg.https,a.lg.mailto,a.lg.data,a.lg.file,a.lg.vscodeFileResource,a.lg.vscodeRemote,a.lg.vscodeRemoteResource];return ne.isTrusted&&N.push(a.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:N}}(ne);t.v5("uponSanitizeAttribute",(M,Se)=>{if("style"!==Se.attrName&&"class"!==Se.attrName);else{if("SPAN"===M.tagName){if("style"===Se.attrName)return void(Se.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(Se.attrValue));if("class"===Se.attrName)return void(Se.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Se.attrValue))}Se.keepAttr=!1}});const fe=d._F(Z);try{return t.Nw(N,Object.assign(Object.assign({},V),{RETURN_TRUSTED_TYPE:!0}))}finally{t.ok("uponSanitizeAttribute"),fe.dispose()}}var $,P=e(44827),O=e(45358),H=e(90076),U=e(44716),K=e(72188),B=function(ne,N){return function(V,Z){N(V,Z,ne)}};let j=class au{constructor(N,V,Z){this._options=N,this._languageService=V,this._openerService=Z,this._onDidRenderAsync=new E.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(N,V,Z){if(!N)return{element:document.createElement("span"),dispose:()=>{}};const fe=new m.SL;return{element:fe.add(y(N,Object.assign(Object.assign({},this._getRenderOptions(N,fe)),V),Z)).element,dispose:()=>fe.dispose()}}_getRenderOptions(N,V){return{codeBlockRenderer:(Z,fe)=>function(ne,N,V,Z){return new(V||(V=Promise))(function(M,Se){function Ee(oe){try{Ne(Z.next(oe))}catch(we){Se(we)}}function Le(oe){try{Ne(Z.throw(oe))}catch(we){Se(we)}}function Ne(oe){oe.done?M(oe.value):function fe(M){return M instanceof V?M:new V(function(Se){Se(M)})}(oe.value).then(Ee,Le)}Ne((Z=Z.apply(ne,N||[])).next())})}(this,void 0,void 0,function*(){var M,Se,Ee;let Le;Z?Le=this._languageService.getLanguageIdByLanguageName(Z):this._options.editor&&(Le=null===(M=this._options.editor.getModel())||void 0===M?void 0:M.getLanguageId()),Le||(Le=K.bd);const Ne=yield(0,H.C2)(this._languageService,fe,Le),oe=document.createElement("span");if(oe.innerHTML=null!==(Ee=null===(Se=au._ttpTokenizer)||void 0===Se?void 0:Se.createHTML(Ne))&&void 0!==Ee?Ee:Ne,this._options.editor){const we=this._options.editor.getOption(46);(0,U.N)(oe,we)}else this._options.codeBlockFontFamily&&(oe.style.fontFamily=this._options.codeBlockFontFamily);return void 0!==this._options.codeBlockFontSize&&(oe.style.fontSize=this._options.codeBlockFontSize),oe}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:Z=>this._openerService.open(Z,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:N.isTrusted}).catch(C.dL),disposables:V}}}};j._ttpTokenizer=null===($=window.trustedTypes)||void 0===$?void 0:$.createPolicy("tokenizeToString",{createHTML:ne=>ne}),j=function(ne,N,V,Z){var Se,fe=arguments.length,M=fe<3?N:null===Z?Z=Object.getOwnPropertyDescriptor(N,V):Z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(ne,N,V,Z);else for(var Ee=ne.length-1;Ee>=0;Ee--)(Se=ne[Ee])&&(M=(fe<3?Se(M):fe>3?Se(N,V,M):Se(N,V))||M);return fe>3&&M&&Object.defineProperty(N,V,M),M}([B(1,O.O),B(2,P.v4)],j)},54007:(Et,X,e)=>{"use strict";e.d(X,{O:()=>H});var d=e(59797),t=e(48648),l=e(80142),S=e(57856),v=e.n(S),T=e(38470),C=e.n(T),E=e(43370),L=e.n(E),_=e(28458),s=e.n(_),m=e(71278),c=e.n(m),n=e(29488),a=e.n(n),p=e(80572),u={};u.styleTagTransform=a(),u.setAttributes=s(),u.insert=L().bind(null,"head"),u.domAPI=C(),u.insertStyleElement=c(),v()(p.Z,u);var y=e(26845),D=e(98570),w=e(55197),I=e(16468);let H=class Ac{constructor(B,z){this._messageWidget=new l.XK,this._messageListeners=new l.SL,this._editor=B,this._visible=Ac.MESSAGE_VISIBLE.bindTo(z)}static get(B){return B.getContribution(Ac.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(B,z){let $;(0,d.Z9)(B),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new K(this._editor,z,B),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new t._F(()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(j=>{!j.target.position||($?$.containsPosition(j.target.position)||this.closeMessage():$=new D.e(z.lineNumber-3,1,j.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(K.fadeOut(this._messageWidget.value))}};var B;H.ID="editor.contrib.messageController",H.MESSAGE_VISIBLE=new I.uy("messageVisible",!1,w.NC("messageVisible","Whether the editor is currently showing an inline message")),H=function(F,B,z,$){var N,j=arguments.length,ne=j<3?B:null===$?$=Object.getOwnPropertyDescriptor(B,z):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(F,B,z,$);else for(var V=F.length-1;V>=0;V--)(N=F[V])&&(ne=(j<3?N(ne):j>3?N(B,z,ne):N(B,z))||ne);return j>3&&ne&&Object.defineProperty(B,z,ne),ne}([(1,B=I.i6,function(z,$){B(z,$,1)})],H);const U=y._l.bindToContribution(H.get);(0,y.fK)(new U({id:"leaveEditorMessage",precondition:H.MESSAGE_VISIBLE,handler:F=>F.closeMessage(),kbOpts:{weight:130,primary:9}}));class K{constructor(B,{lineNumber:z,column:$},j){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=B,this._editor.revealLinesInCenterIfOutsideViewport(z,z,0),this._position={lineNumber:z,column:$},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const ne=document.createElement("div");ne.classList.add("anchor","top"),this._domNode.appendChild(ne);const N=document.createElement("div");N.classList.add("message"),N.textContent=j,this._domNode.appendChild(N);const V=document.createElement("div");V.classList.add("anchor","below"),this._domNode.appendChild(V),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(B){const z=()=>{B.dispose(),clearTimeout($),B.getDomNode().removeEventListener("animationend",z)},$=setTimeout(z,110);return B.getDomNode().addEventListener("animationend",z),B.getDomNode().classList.add("fadeOut"),{dispose:z}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(B){this._domNode.classList.toggle("below",2===B)}}(0,y._K)(H.ID,H)},57714:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{AddSelectionToNextFindMatchAction:()=>z,AddSelectionToPreviousFindMatchAction:()=>$,CompatChangeAll:()=>V,FocusNextCursor:()=>Ee,FocusPreviousCursor:()=>Le,InsertCursorAbove:()=>w,InsertCursorBelow:()=>I,MoveSelectionToNextFindMatchAction:()=>j,MoveSelectionToPreviousFindMatchAction:()=>ne,MultiCursorSelectionController:()=>F,MultiCursorSelectionControllerAction:()=>B,MultiCursorSession:()=>K,MultiCursorSessionResult:()=>U,SelectHighlightsAction:()=>N,SelectionHighlighter:()=>fe});var d=e(59797),t=e(48648),l=e(53993),S=e(80142),v=e(26845),T=e(21073),C=e(98570),E=e(7233),L=e(82290),_=e(47629),s=e(59758),m=e(88014),c=e(55197),n=e(74918),a=e(16468),p=e(4062),u=e(40902),g=e(90790);function D(Ne,oe){const we=oe.filter(xe=>!Ne.find(pe=>pe.equals(xe)));if(we.length>=1){const xe=we.map(Te=>`line ${Te.viewState.position.lineNumber} column ${Te.viewState.position.column}`).join(", "),pe=1===we.length?c.NC("cursorAdded","Cursor added: {0}",xe):c.NC("cursorsAdded","Cursors added: {0}",xe);(0,d.i7)(pe)}}class w extends v.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:c.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(oe,we,xe){if(!we.hasModel())return;let pe=!0;xe&&!1===xe.logicalLine&&(pe=!1);const Te=we._getViewModel();if(Te.cursorConfig.readOnly)return;Te.model.pushStackElement();const de=Te.getCursorStates();Te.setCursorStates(xe.source,3,T.P.addCursorUp(Te,de,pe)),Te.revealTopMostCursor(xe.source),D(de,Te.getCursorStates())}}class I extends v.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:c.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(oe,we,xe){if(!we.hasModel())return;let pe=!0;xe&&!1===xe.logicalLine&&(pe=!1);const Te=we._getViewModel();if(Te.cursorConfig.readOnly)return;Te.model.pushStackElement();const de=Te.getCursorStates();Te.setCursorStates(xe.source,3,T.P.addCursorDown(Te,de,pe)),Te.revealBottomMostCursor(xe.source),D(de,Te.getCursorStates())}}class U{constructor(oe,we,xe){this.selections=oe,this.revealRange=we,this.revealScrollType=xe}}class K{constructor(oe,we,xe,pe,Te,de,ke){this._editor=oe,this.findController=we,this.isDisconnectedFromFindController=xe,this.searchText=pe,this.wholeWord=Te,this.matchCase=de,this.currentMatch=ke}static create(oe,we){if(!oe.hasModel())return null;const xe=we.getState();if(!oe.hasTextFocus()&&xe.isRevealed&&xe.searchString.length>0)return new K(oe,we,!1,xe.searchString,xe.wholeWord,xe.matchCase,null);let Te,de,pe=!1;const ke=oe.getSelections();1===ke.length&&ke[0].isEmpty()?(pe=!0,Te=!0,de=!0):(Te=xe.wholeWord,de=xe.matchCase);const ze=oe.getSelection();let $e,ce=null;if(ze.isEmpty()){const Ue=oe.getConfiguredWordAtPosition(ze.getStartPosition());if(!Ue)return null;$e=Ue.word,ce=new E.Y(ze.startLineNumber,Ue.startColumn,ze.startLineNumber,Ue.endColumn)}else $e=oe.getModel().getValueInRange(ze).replace(/\r\n/g,"\n");return new K(oe,we,pe,$e,Te,de,ce)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const oe=this._getNextMatch();if(!oe)return null;const we=this._editor.getSelections();return new U(we.concat(oe),oe,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const oe=this._getNextMatch();if(!oe)return null;const we=this._editor.getSelections();return new U(we.slice(0,we.length-1).concat(oe),oe,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const pe=this.currentMatch;return this.currentMatch=null,pe}this.findController.highlightFindOptions();const oe=this._editor.getSelections(),we=oe[oe.length-1],xe=this._editor.getModel().findNextMatch(this.searchText,we.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return xe?new E.Y(xe.range.startLineNumber,xe.range.startColumn,xe.range.endLineNumber,xe.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const oe=this._getPreviousMatch();if(!oe)return null;const we=this._editor.getSelections();return new U(we.concat(oe),oe,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const oe=this._getPreviousMatch();if(!oe)return null;const we=this._editor.getSelections();return new U(we.slice(0,we.length-1).concat(oe),oe,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const pe=this.currentMatch;return this.currentMatch=null,pe}this.findController.highlightFindOptions();const oe=this._editor.getSelections(),we=oe[oe.length-1],xe=this._editor.getModel().findPreviousMatch(this.searchText,we.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return xe?new E.Y(xe.range.startLineNumber,xe.range.startColumn,xe.range.endLineNumber,xe.range.endColumn):null}selectAll(oe){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();return this._editor.getModel().findMatches(this.searchText,oe||!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}let F=(()=>{class Ne extends S.JT{constructor(we){super(),this._sessionDispose=this._register(new S.SL),this._editor=we,this._ignoreSelectionChange=!1,this._session=null}static get(we){return we.getContribution(Ne.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(we){if(!this._session){const xe=K.create(this._editor,we);if(!xe)return;this._session=xe;const pe={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(pe.wholeWordOverride=1,pe.matchCaseOverride=1,pe.isRegexOverride=2),we.getState().change(pe,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(Te=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(we.getState().onFindReplaceStateChange(Te=>{(Te.matchCase||Te.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const we={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(we,!1)}this._session=null}_setSelections(we){this._ignoreSelectionChange=!0,this._editor.setSelections(we),this._ignoreSelectionChange=!1}_expandEmptyToWord(we,xe){if(!xe.isEmpty())return xe;const pe=this._editor.getConfiguredWordAtPosition(xe.getStartPosition());return pe?new E.Y(xe.startLineNumber,pe.startColumn,xe.startLineNumber,pe.endColumn):xe}_applySessionResult(we){!we||(this._setSelections(we.selections),we.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(we.revealRange,we.revealScrollType))}getSession(we){return this._session}addSelectionToNextFindMatch(we){if(this._editor.hasModel()){if(!this._session){const xe=this._editor.getSelections();if(xe.length>1){const Te=we.getState().matchCase;if(!M(this._editor.getModel(),xe,Te)){const ke=this._editor.getModel(),ze=[];for(let $e=0,ce=xe.length;$e<ce;$e++)ze[$e]=this._expandEmptyToWord(ke,xe[$e]);return void this._editor.setSelections(ze)}}}this._beginSessionIfNeeded(we),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(we){this._beginSessionIfNeeded(we),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(we){this._beginSessionIfNeeded(we),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(we){this._beginSessionIfNeeded(we),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(we){if(!this._editor.hasModel())return;let xe=null;const pe=we.getState();if(pe.isRevealed&&pe.searchString.length>0&&pe.isRegex){xe=this._editor.getModel().findMatches(pe.searchString,!pe.searchScope||pe.searchScope,pe.isRegex,pe.matchCase,pe.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(we),!this._session)return;xe=this._session.selectAll(pe.searchScope)}if(xe.length>0){const Te=this._editor.getSelection();for(let de=0,ke=xe.length;de<ke;de++){const ze=xe[de];if(ze.range.intersectRanges(Te)){xe[de]=xe[0],xe[0]=ze;break}}this._setSelections(xe.map(de=>new E.Y(de.range.startLineNumber,de.range.startColumn,de.range.endLineNumber,de.range.endColumn)))}}}return Ne.ID="editor.contrib.multiCursorController",Ne})();class B extends v.R6{run(oe,we){const xe=F.get(we);if(!xe)return;const pe=m.CommonFindController.get(we);if(!pe)return;const Te=we._getViewModel();if(Te){const de=Te.getCursorStates();this._run(xe,pe),D(de,Te.getCursorStates())}}}class z extends B{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:c.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:2082,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(oe,we){oe.addSelectionToNextFindMatch(we)}}class $ extends B{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:c.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(oe,we){oe.addSelectionToPreviousFindMatch(we)}}class j extends B{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:c.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:(0,l.gx)(2089,2082),weight:100}})}_run(oe,we){oe.moveSelectionToNextFindMatch(we)}}class ne extends B{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:c.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(oe,we){oe.moveSelectionToPreviousFindMatch(we)}}class N extends B{constructor(){super({id:"editor.action.selectHighlights",label:c.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:3114,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(oe,we){oe.selectAll(we)}}class V extends B{constructor(){super({id:"editor.action.changeAll",label:c.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:a.Ao.and(L.u.writable,L.u.editorTextFocus),kbOpts:{kbExpr:L.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(oe,we){oe.selectAll(we)}}class Z{constructor(oe,we,xe,pe,Te){this._model=oe,this._searchText=we,this._matchCase=xe,this._wordSeparators=pe,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Te&&this._model===Te._model&&this._searchText===Te._searchText&&this._matchCase===Te._matchCase&&this._wordSeparators===Te._wordSeparators&&this._modelVersionId===Te._modelVersionId&&(this._cachedFindMatches=Te._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(oe=>oe.range),this._cachedFindMatches.sort(C.e.compareRangesUsingStarts)),this._cachedFindMatches}}let fe=class $d extends S.JT{constructor(oe,we){super(),this._languageFeaturesService=we,this.editor=oe,this._isEnabled=oe.getOption(99),this._decorations=oe.createDecorationsCollection(),this.updateSoon=this._register(new t.pY(()=>this._update(),300)),this.state=null,this._register(oe.onDidChangeConfiguration(pe=>{this._isEnabled=oe.getOption(99)})),this._register(oe.onDidChangeCursorSelection(pe=>{!this._isEnabled||(pe.selection.isEmpty()?3===pe.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(oe.onDidChangeModel(pe=>{this._setState(null)})),this._register(oe.onDidChangeModelContent(pe=>{this._isEnabled&&this.updateSoon.schedule()}));const xe=m.CommonFindController.get(oe);xe&&this._register(xe.getState().onFindReplaceStateChange(pe=>{this._update()}))}_update(){this._setState($d._createState(this.state,this._isEnabled,this.editor))}static _createState(oe,we,xe){if(!we||!xe.hasModel())return null;const pe=xe.getSelection();if(pe.startLineNumber!==pe.endLineNumber)return null;const Te=F.get(xe);if(!Te)return null;const de=m.CommonFindController.get(xe);if(!de)return null;let ke=Te.getSession(de);if(!ke){const ce=xe.getSelections();if(ce.length>1){const nt=de.getState().matchCase;if(!M(xe.getModel(),ce,nt))return null}ke=K.create(xe,de)}if(!ke||ke.currentMatch||/^[ \t]+$/.test(ke.searchText)||ke.searchText.length>200)return null;const ze=de.getState(),$e=ze.matchCase;if(ze.isRevealed){let ce=ze.searchString;$e||(ce=ce.toLowerCase());let Ue=ke.searchText;if($e||(Ue=Ue.toLowerCase()),ce===Ue&&ke.matchCase===ze.matchCase&&ke.wholeWord===ze.wholeWord&&!ze.isRegex)return null}return new Z(xe.getModel(),ke.searchText,ke.matchCase,ke.wholeWord?xe.getOption(119):null,oe)}_setState(oe){if(this.state=oe,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const we=this.editor.getModel();if(we.isTooLargeForTokenization())return;const xe=this.state.findMatches(),pe=this.editor.getSelections();pe.sort(C.e.compareRangesUsingStarts);const Te=[];for(let ze=0,$e=0,ce=xe.length,Ue=pe.length;ze<ce;){const nt=xe[ze];if($e>=Ue)Te.push(nt),ze++;else{const Dt=C.e.compareRangesUsingStarts(nt,pe[$e]);Dt<0?((pe[$e].isEmpty()||!C.e.areIntersecting(nt,pe[$e]))&&Te.push(nt),ze++):(Dt>0||ze++,$e++)}}const de=this._languageFeaturesService.documentHighlightProvider.has(we)&&this.editor.getOption(74),ke=Te.map(ze=>({range:ze,options:de?$d._SELECTION_HIGHLIGHT:$d._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(ke)}dispose(){this._setState(null),super.dispose()}};var oe;function M(Ne,oe,we){const xe=Se(Ne,oe[0],!we);for(let pe=1,Te=oe.length;pe<Te;pe++){const de=oe[pe];if(de.isEmpty())return!1;if(xe!==Se(Ne,de,!we))return!1}return!0}function Se(Ne,oe,we){const xe=Ne.getValueInRange(oe);return we?xe.toLowerCase():xe}fe.ID="editor.contrib.selectionHighlighter",fe._SELECTION_HIGHLIGHT_OVERVIEW=s.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,u.EN)(p.IYc),position:_.F5.Inline},overviewRuler:{color:(0,u.EN)(p.SPM),position:_.sh.Center}}),fe._SELECTION_HIGHLIGHT=s.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),fe=function(Ne,oe,we,xe){var de,pe=arguments.length,Te=pe<3?oe:null===xe?xe=Object.getOwnPropertyDescriptor(oe,we):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Te=Reflect.decorate(Ne,oe,we,xe);else for(var ke=Ne.length-1;ke>=0;ke--)(de=Ne[ke])&&(Te=(pe<3?de(Te):pe>3?de(oe,we,Te):de(oe,we))||Te);return pe>3&&Te&&Object.defineProperty(oe,we,Te),Te}([(1,oe=g.p,function(we,xe){oe(we,xe,1)})],fe);class Ee extends v.R6{constructor(){super({id:"editor.action.focusNextCursor",label:c.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:c.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(oe,we,xe){if(!we.hasModel())return;const pe=we._getViewModel();if(pe.cursorConfig.readOnly)return;pe.model.pushStackElement();const Te=Array.from(pe.getCursorStates()),de=Te.shift();!de||(Te.push(de),pe.setCursorStates(xe.source,3,Te),pe.revealPrimaryCursor(xe.source,!0),D(Te,pe.getCursorStates()))}}class Le extends v.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:c.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:c.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(oe,we,xe){if(!we.hasModel())return;const pe=we._getViewModel();if(pe.cursorConfig.readOnly)return;pe.model.pushStackElement();const Te=Array.from(pe.getCursorStates()),de=Te.pop();!de||(Te.unshift(de),pe.setCursorStates(xe.source,3,Te),pe.revealPrimaryCursor(xe.source,!0),D(Te,pe.getCursorStates()))}}(0,v._K)(F.ID,F),(0,v._K)(fe.ID,fe),(0,v.Qr)(w),(0,v.Qr)(I),(0,v.Qr)(class P extends v.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:c.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(oe,we,xe){if(!oe.isEmpty()){for(let pe=oe.startLineNumber;pe<oe.endLineNumber;pe++){const Te=we.getLineMaxColumn(pe);xe.push(new E.Y(pe,Te,pe,Te))}oe.endColumn>1&&xe.push(new E.Y(oe.endLineNumber,oe.endColumn,oe.endLineNumber,oe.endColumn))}}run(oe,we){if(!we.hasModel())return;const xe=we.getModel(),pe=we.getSelections(),Te=we._getViewModel(),de=Te.getCursorStates(),ke=[];pe.forEach(ze=>this.getCursorsForSelection(ze,xe,ke)),ke.length>0&&we.setSelections(ke),D(de,Te.getCursorStates())}}),(0,v.Qr)(z),(0,v.Qr)($),(0,v.Qr)(j),(0,v.Qr)(ne),(0,v.Qr)(N),(0,v.Qr)(V),(0,v.Qr)(class O extends v.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:c.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(oe,we){if(!we.hasModel())return;const xe=we.getSelections(),pe=we.getModel().getLineCount(),Te=[];for(let ze=xe[0].startLineNumber;ze<=pe;ze++)Te.push(new E.Y(ze,xe[0].startColumn,ze,xe[0].endColumn));const de=we._getViewModel(),ke=de.getCursorStates();Te.length>0&&we.setSelections(Te),D(ke,de.getCursorStates())}}),(0,v.Qr)(class H extends v.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:c.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(oe,we){if(!we.hasModel())return;const xe=we.getSelections(),pe=[];for(let ke=xe[0].startLineNumber;ke>=1;ke--)pe.push(new E.Y(ke,xe[0].startColumn,ke,xe[0].endColumn));const Te=we._getViewModel(),de=Te.getCursorStates();pe.length>0&&we.setSelections(pe),D(de,Te.getCursorStates())}}),(0,v.Qr)(Ee),(0,v.Qr)(Le)},69066:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{TriggerParameterHintsAction:()=>ve});var d=e(80142),t=e(26845),l=e(82290),S=e(45337),v=e(73888),T=e(4125),C=e(72715),E=e(59547),L=e(18723),_=e(90790),s=e(1149),m=e(66549),c=e(16468),n=function(st,et,Qe,tt){return new(Qe||(Qe=Promise))(function(mt,_t){function Kt(ut){try{Ge(tt.next(ut))}catch(Ut){_t(Ut)}}function Bt(ut){try{Ge(tt.throw(ut))}catch(Ut){_t(Ut)}}function Ge(ut){ut.done?mt(ut.value):function vt(mt){return mt instanceof Qe?mt:new Qe(function(_t){_t(mt)})}(ut.value).then(Kt,Bt)}Ge((tt=tt.apply(st,et||[])).next())})};const a={Visible:new c.uy("parameterHintsVisible",!1),MultipleSignatures:new c.uy("parameterHintsMultipleSignatures",!1)};function p(st,et,Qe,tt,vt){return n(this,void 0,void 0,function*(){const mt=st.ordered(et);for(const _t of mt)try{const Kt=yield _t.provideSignatureHelp(et,Qe,vt,tt);if(Kt)return Kt}catch(Kt){(0,T.Cp)(Kt)}})}m.P0.registerCommand("_executeSignatureHelpProvider",(st,...et)=>n(void 0,void 0,void 0,function*(){const[Qe,tt,vt]=et;(0,C.p_)(E.o.isUri(Qe)),(0,C.p_)(L.L.isIPosition(tt)),(0,C.p_)("string"==typeof vt||!vt);const mt=st.get(_.p),_t=yield st.get(s.S).createModelReference(Qe);try{const Kt=yield p(mt.signatureHelpProvider,_t.object.textEditorModel,L.L.lift(tt),{triggerKind:S.WW.Invoke,isRetrigger:!1,triggerCharacter:vt},v.T.None);return Kt?(setTimeout(()=>Kt.dispose(),0),Kt.value):void 0}finally{_t.dispose()}}));var u=e(55197),g=e(9265),b=e(98463),y=e(59797),D=e(3067),w=e(58783),I=e(3778),P=e(73879),O=e(57856),H=e.n(O),U=e(38470),K=e.n(U),F=e(43370),B=e.n(F),z=e(28458),$=e.n(z),j=e(71278),ne=e.n(j),N=e(29488),V=e.n(N),Z=e(7111),fe={};fe.styleTagTransform=V(),fe.setAttributes=$(),fe.insert=B().bind(null,"head"),fe.domAPI=K(),fe.insertStyleElement=ne(),H()(Z.Z,fe);var xe,Ee=e(45358),Le=e(29739),Ne=e(48648),oe=e(81742);!function(st){st.Default={type:0},st.Pending=class et{constructor(vt,mt){this.request=vt,this.previouslyActiveHints=mt,this.type=2}},st.Active=class Qe{constructor(vt){this.hints=vt,this.type=1}}}(xe||(xe={}));let pe=(()=>{class st extends d.JT{constructor(Qe,tt,vt=st.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new I.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=xe.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new d.XK),this.triggerChars=new oe.q,this.retriggerChars=new oe.q,this.triggerId=0,this.editor=Qe,this.providers=tt,this.throttledDelayer=new Ne.vp(vt),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(mt=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(mt=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(mt=>this.onCursorChange(mt))),this._register(this.editor.onDidChangeModelContent(mt=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(mt=>this.onDidType(mt))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(Qe){2===this._state.type&&this._state.request.cancel(),this._state=Qe}cancel(Qe=!1){this.state=xe.Default,this.throttledDelayer.cancel(),Qe||this._onChangedHints.fire(void 0)}trigger(Qe,tt){const vt=this.editor.getModel();if(!vt||!this.providers.has(vt))return;const mt=++this.triggerId;this._pendingTriggers.push(Qe),this.throttledDelayer.trigger(()=>this.doTrigger(mt),tt).catch(T.dL)}next(){if(1!==this.state.type)return;const Qe=this.state.hints.signatures.length,tt=this.state.hints.activeSignature,vt=tt%Qe==Qe-1,mt=this.editor.getOption(78).cycle;!(Qe<2||vt)||mt?this.updateActiveSignature(vt&&mt?0:tt+1):this.cancel()}previous(){if(1!==this.state.type)return;const Qe=this.state.hints.signatures.length,tt=this.state.hints.activeSignature,vt=0===tt,mt=this.editor.getOption(78).cycle;!(Qe<2||vt)||mt?this.updateActiveSignature(vt&&mt?Qe-1:tt-1):this.cancel()}updateActiveSignature(Qe){1===this.state.type&&(this.state=new xe.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:Qe})),this._onChangedHints.fire(this.state.hints))}doTrigger(Qe){return function(st,et,Qe,tt){return new(Qe||(Qe=Promise))(function(mt,_t){function Kt(ut){try{Ge(tt.next(ut))}catch(Ut){_t(Ut)}}function Bt(ut){try{Ge(tt.throw(ut))}catch(Ut){_t(Ut)}}function Ge(ut){ut.done?mt(ut.value):function vt(mt){return mt instanceof Qe?mt:new Qe(function(_t){_t(mt)})}(ut.value).then(Kt,Bt)}Ge((tt=tt.apply(st,et||[])).next())})}(this,void 0,void 0,function*(){const tt=1===this.state.type||2===this.state.type,vt=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const mt=this._pendingTriggers.reduce(Te);this._pendingTriggers=[];const _t={triggerKind:mt.triggerKind,triggerCharacter:mt.triggerCharacter,isRetrigger:tt,activeSignatureHelp:vt};if(!this.editor.hasModel())return!1;const Kt=this.editor.getModel(),Bt=this.editor.getPosition();this.state=new xe.Pending((0,Ne.PG)(Ge=>p(this.providers,Kt,Bt,_t,Ge)),vt);try{const Ge=yield this.state.request;return Qe!==this.triggerId?(Ge?.dispose(),!1):Ge&&Ge.value.signatures&&0!==Ge.value.signatures.length?(this.state=new xe.Active(Ge.value),this._lastSignatureHelpResult.value=Ge,this._onChangedHints.fire(this.state.hints),!0):(Ge?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(Ge){return Qe===this.triggerId&&(this.state=xe.Default),(0,T.dL)(Ge),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new oe.q,this.retriggerChars=new oe.q;const Qe=this.editor.getModel();if(Qe)for(const tt of this.providers.ordered(Qe)){for(const vt of tt.signatureHelpTriggerCharacters||[])this.triggerChars.add(vt.charCodeAt(0)),this.retriggerChars.add(vt.charCodeAt(0));for(const vt of tt.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(vt.charCodeAt(0))}}onDidType(Qe){if(!this.triggerOnType)return;const tt=Qe.length-1,vt=Qe.charCodeAt(tt);(this.triggerChars.has(vt)||this.isTriggered&&this.retriggerChars.has(vt))&&this.trigger({triggerKind:S.WW.TriggerCharacter,triggerCharacter:Qe.charAt(tt)})}onCursorChange(Qe){"mouse"===Qe.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:S.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:S.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return st.DEFAULT_DELAY=120,st})();function Te(st,et){switch(et.triggerKind){case S.WW.Invoke:return et;case S.WW.ContentChange:return st;default:return et}}var de=e(44827),ke=e(4062),ze=e(66287),$e=e(18034),ce=e(40902),nt=function(st,et){return function(Qe,tt){et(Qe,tt,st)}};const Dt=b.$,Lt=(0,ze.q5)("parameter-hints-next",w.lA.chevronDown,u.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),Ze=(0,ze.q5)("parameter-hints-previous",w.lA.chevronUp,u.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let ae=class lu extends d.JT{constructor(et,Qe,tt,vt,mt){super(),this.editor=et,this.renderDisposeables=this._register(new d.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Le.$({editor:et},vt,tt)),this.model=this._register(new pe(et,mt.signatureHelpProvider)),this.keyVisible=a.Visible.bindTo(Qe),this.keyMultipleSignatures=a.MultipleSignatures.bindTo(Qe),this._register(this.model.onChangedHints(_t=>{_t?(this.show(),this.render(_t)):this.hide()}))}createParameterHintDOMNodes(){const et=Dt(".editor-widget.parameter-hints-widget"),Qe=b.R3(et,Dt(".phwrapper"));Qe.tabIndex=-1;const tt=b.R3(Qe,Dt(".controls")),vt=b.R3(tt,Dt(".button"+ce.kS.asCSSSelector(Ze))),mt=b.R3(tt,Dt(".overloads")),_t=b.R3(tt,Dt(".button"+ce.kS.asCSSSelector(Lt)));this._register(b.nm(vt,"click",hn=>{b.zB.stop(hn),this.previous()})),this._register(b.nm(_t,"click",hn=>{b.zB.stop(hn),this.next()}));const Kt=Dt(".body"),Bt=new D.s$(Kt,{alwaysConsumeMouseWheel:!0});this._register(Bt),Qe.appendChild(Bt.getDomNode());const Ge=b.R3(Kt,Dt(".signature")),ut=b.R3(Kt,Dt(".docs"));et.style.userSelect="text",this.domNodes={element:et,signature:Ge,overloads:mt,docs:ut,scrollbar:Bt},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(hn=>{this.visible&&this.editor.layoutContentWidget(this)}));const Ut=()=>{if(!this.domNodes)return;const hn=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${hn.fontSize}px`,this.domNodes.element.style.lineHeight=""+hn.lineHeight/hn.fontSize};Ut(),this._register(I.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(hn=>hn.hasChanged(46)).on(Ut,null)),this._register(this.editor.onDidLayoutChange(hn=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var et;null===(et=this.domNodes)||void 0===et||et.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var et;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(et=this.domNodes)||void 0===et||et.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(et){var Qe;if(this.renderDisposeables.clear(),!this.domNodes)return;const tt=et.signatures.length>1;this.domNodes.element.classList.toggle("multiple",tt),this.keyMultipleSignatures.set(tt),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const vt=et.signatures[et.activeSignature];if(!vt)return;const mt=b.R3(this.domNodes.signature,Dt(".code")),_t=this.editor.getOption(46);mt.style.fontSize=`${_t.fontSize}px`,mt.style.fontFamily=_t.fontFamily;const Bt=null!==(Qe=vt.activeParameter)&&void 0!==Qe?Qe:et.activeParameter;vt.parameters.length>0?this.renderParameters(mt,vt,Bt):b.R3(mt,Dt("span")).textContent=vt.label;const Ge=vt.parameters[Bt];if(Ge?.documentation){const Ut=Dt("span.documentation");if("string"==typeof Ge.documentation)Ut.textContent=Ge.documentation;else{const hn=this.renderMarkdownDocs(Ge.documentation);Ut.appendChild(hn.element)}b.R3(this.domNodes.docs,Dt("p",{},Ut))}if(void 0!==vt.documentation)if("string"==typeof vt.documentation)b.R3(this.domNodes.docs,Dt("p",{},vt.documentation));else{const Ut=this.renderMarkdownDocs(vt.documentation);b.R3(this.domNodes.docs,Ut.element)}const ut=this.hasDocs(vt,Ge);if(this.domNodes.signature.classList.toggle("has-docs",ut),this.domNodes.docs.classList.toggle("empty",!ut),this.domNodes.overloads.textContent=String(et.activeSignature+1).padStart(et.signatures.length.toString().length,"0")+"/"+et.signatures.length,Ge){let Ut="";const hn=vt.parameters[Bt];Ut=Array.isArray(hn.label)?vt.label.substring(hn.label[0],hn.label[1]):hn.label,hn.documentation&&(Ut+="string"==typeof hn.documentation?`, ${hn.documentation}`:`, ${hn.documentation.value}`),vt.documentation&&(Ut+="string"==typeof vt.documentation?`, ${vt.documentation}`:`, ${vt.documentation.value}`),this.announcedLabel!==Ut&&(y.Z9(u.NC("hint","{0}, hint",Ut)),this.announcedLabel=Ut)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(et){const Qe=this.renderDisposeables.add(this.markdownRenderer.render(et,{asyncRenderCallback:()=>{var tt;null===(tt=this.domNodes)||void 0===tt||tt.scrollbar.scanDomNode()}}));return Qe.element.classList.add("markdown-docs"),Qe}hasDocs(et,Qe){return!!(Qe&&"string"==typeof Qe.documentation&&(0,C.cW)(Qe.documentation).length>0||Qe&&"object"==typeof Qe.documentation&&(0,C.cW)(Qe.documentation).value.length>0||et.documentation&&"string"==typeof et.documentation&&(0,C.cW)(et.documentation).length>0||et.documentation&&"object"==typeof et.documentation&&(0,C.cW)(et.documentation.value).length>0)}renderParameters(et,Qe,tt){const[vt,mt]=this.getParameterLabelOffsets(Qe,tt),_t=document.createElement("span");_t.textContent=Qe.label.substring(0,vt);const Kt=document.createElement("span");Kt.textContent=Qe.label.substring(vt,mt),Kt.className="parameter active";const Bt=document.createElement("span");Bt.textContent=Qe.label.substring(mt),b.R3(et,_t,Kt,Bt)}getParameterLabelOffsets(et,Qe){const tt=et.parameters[Qe];if(tt){if(Array.isArray(tt.label))return tt.label;if(tt.label.length){const vt=new RegExp(`(\\W|^)${(0,P.ec)(tt.label)}(?=\\W|$)`,"g");vt.test(et.label);const mt=vt.lastIndex-tt.label.length;return mt>=0?[mt,vt.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return lu.ID}trigger(et){this.model.trigger(et,0)}updateMaxHeight(){if(!this.domNodes)return;const Qe=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=Qe;const tt=this.domNodes.element.getElementsByClassName("phwrapper");tt.length&&(tt[0].style.maxHeight=Qe)}};ae.ID="editor.widget.parameterHintsWidget",ae=function(st,et,Qe,tt){var _t,vt=arguments.length,mt=vt<3?et:null===tt?tt=Object.getOwnPropertyDescriptor(et,Qe):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(st,et,Qe,tt);else for(var Kt=st.length-1;Kt>=0;Kt--)(_t=st[Kt])&&(mt=(vt<3?_t(mt):vt>3?_t(et,Qe,mt):_t(et,Qe))||mt);return vt>3&&mt&&Object.defineProperty(et,Qe,mt),mt}([nt(1,c.i6),nt(2,de.v4),nt(3,Ee.O),nt(4,_.p)],ae);const _e=(0,ke.P6G)("editorHoverWidget.highlightForeground",{dark:ke.Gwp,light:ke.Gwp,hcDark:ke.Gwp,hcLight:ke.Gwp},u.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,ce.Ic)((st,et)=>{const Qe=st.getColor(ke.CNo);if(Qe){const Ge=(0,$e.c3)(st.type)?2:1;et.addRule(`.monaco-editor .parameter-hints-widget { border: ${Ge}px solid ${Qe}; }`),et.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${Qe.transparent(.5)}; }`),et.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${Qe.transparent(.5)}; }`)}const tt=st.getColor(ke.yJx);tt&&et.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${tt}; }`);const vt=st.getColor(ke.url);vt&&et.addRule(`.monaco-editor .parameter-hints-widget a { color: ${vt}; }`);const mt=st.getColor(ke.sgC);mt&&et.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${mt}; }`);const _t=st.getColor(ke.Sbf);_t&&et.addRule(`.monaco-editor .parameter-hints-widget { color: ${_t}; }`);const Kt=st.getColor(ke.SwI);Kt&&et.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${Kt}; }`);const Bt=st.getColor(_e);Bt&&et.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Bt}}`)});let Q=class du extends d.JT{constructor(et,Qe){super(),this.editor=et,this.widget=this._register(Qe.createInstance(ae,this.editor))}static get(et){return et.getContribution(du.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(et){this.widget.trigger(et)}};var et;Q.ID="editor.controller.parameterHints",Q=function(st,et,Qe,tt){var _t,vt=arguments.length,mt=vt<3?et:null===tt?tt=Object.getOwnPropertyDescriptor(et,Qe):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(st,et,Qe,tt);else for(var Kt=st.length-1;Kt>=0;Kt--)(_t=st[Kt])&&(mt=(vt<3?_t(mt):vt>3?_t(et,Qe,mt):_t(et,Qe))||mt);return vt>3&&mt&&Object.defineProperty(et,Qe,mt),mt}([(1,et=g.TG,function(Qe,tt){et(Qe,tt,1)})],Q);class ve extends t.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:u.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:l.u.hasSignatureHelpProvider,kbOpts:{kbExpr:l.u.editorTextFocus,primary:3082,weight:100}})}run(et,Qe){const tt=Q.get(Qe);tt&&tt.trigger({triggerKind:S.WW.Invoke})}}(0,t._K)(Q.ID,Q),(0,t.Qr)(ve);const dt=t._l.bindToContribution(Q.get);(0,t.fK)(new dt({id:"closeParameterHints",precondition:a.Visible,handler:st=>st.cancel(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:9,secondary:[1033]}})),(0,t.fK)(new dt({id:"showPrevParameterHint",precondition:c.Ao.and(a.Visible,a.MultipleSignatures),handler:st=>st.previous(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,t.fK)(new dt({id:"showNextParameterHint",precondition:c.Ao.and(a.Visible,a.MultipleSignatures),handler:st=>st.next(),kbOpts:{weight:175,kbExpr:l.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},81043:(Et,X,e)=>{"use strict";e.d(X,{Fw:()=>ze,Jy:()=>$e,vk:()=>Dt,rc:()=>Ue,SC:()=>_e,M8:()=>he,KY:()=>Lt,IH:()=>Ze,R7:()=>ae});var d=e(98463),t=e(65065),l=e(827),S=e(58783),v=e(69355),T=e(3778),C=e(6276),E=e(57856),L=e.n(E),_=e(38470),s=e.n(_),m=e(43370),c=e.n(m),n=e(28458),a=e.n(n),p=e(71278),u=e.n(p),g=e(29488),b=e.n(g),y=e(73608),D={};D.styleTagTransform=b(),D.setAttributes=a(),D.insert=c().bind(null,"head"),D.domAPI=s(),D.insertStyleElement=u(),L()(y.Z,D);var P=e(26845),O=e(33745),H=e(19186),U=e(84075),K=e(84575),F=e(80142),B=e(21410),z={};z.styleTagTransform=b(),z.setAttributes=a(),z.insert=c().bind(null,"head"),z.domAPI=s(),z.insertStyleElement=u(),L()(B.Z,z);var ne=e(98570),N=e(59758);const V=new v.Il(new v.VS(0,122,204)),Z={showArrow:!0,showFrame:!0,className:"",frameColor:V,arrowColor:V,keepEditorSelection:!1};class M{constructor(mt,_t,Kt,Bt,Ge,ut){this.id="",this.domNode=mt,this.afterLineNumber=_t,this.afterColumn=Kt,this.heightInLines=Bt,this._onDomNodeTop=Ge,this._onComputedHeight=ut}onDomNodeTop(mt){this._onDomNodeTop(mt)}onComputedHeight(mt){this._onComputedHeight(mt)}}class Se{constructor(mt,_t){this._id=mt,this._domNode=_t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class Ee{constructor(mt){this._editor=mt,this._ruleName=Ee._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),d.uN(this._ruleName)}set color(mt){this._color!==mt&&(this._color=mt,this._updateStyle())}set height(mt){this._height!==mt&&(this._height=mt,this._updateStyle())}_updateStyle(){d.uN(this._ruleName),d.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(mt){1===mt.column&&(mt={lineNumber:mt.lineNumber,column:2}),this._decorations.set([{range:ne.e.fromPositions(mt),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}Ee._IdGenerator=new K.R(".arrow-decoration-");class Le{constructor(mt,_t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new F.SL,this.container=null,this._isShowing=!1,this.editor=mt,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=C.I8(_t),C.jB(this.options,Z,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(Kt=>{const Bt=this._getWidth(Kt);this.domNode.style.width=Bt+"px",this.domNode.style.left=this._getLeft(Kt)+"px",this._onWidth(Bt)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(mt=>{this._viewZone&&mt.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new Ee(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(mt){mt.frameColor&&(this.options.frameColor=mt.frameColor),mt.arrowColor&&(this.options.arrowColor=mt.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const mt=this.options.frameColor.toString();this.container.style.borderTopColor=mt,this.container.style.borderBottomColor=mt}if(this._arrow&&this.options.arrowColor){const mt=this.options.arrowColor.toString();this._arrow.color=mt}}_getWidth(mt){return mt.width-mt.minimap.minimapWidth-mt.verticalScrollbarWidth}_getLeft(mt){return mt.minimap.minimapWidth>0&&0===mt.minimap.minimapLeft?mt.minimap.minimapWidth:0}_onViewZoneTop(mt){this.domNode.style.top=mt+"px"}_onViewZoneHeight(mt){if(this.domNode.style.height=`${mt}px`,this.container){const _t=mt-this._decoratingElementsHeight();this.container.style.height=`${_t}px`;const Kt=this.editor.getLayoutInfo();this._doLayout(_t,this._getWidth(Kt))}this._resizeSash&&this._resizeSash.layout()}get position(){const mt=this._positionMarkerId.getRange(0);if(mt)return mt.getStartPosition()}show(mt,_t){const Kt=ne.e.isIRange(mt)?ne.e.lift(mt):ne.e.fromPositions(mt);this._isShowing=!0,this._showImpl(Kt,_t),this._isShowing=!1,this._positionMarkerId.set([{range:Kt,options:N.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(mt=>{this._viewZone&&mt.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const mt=this.editor.getOption(61);let _t=0;return this.options.showArrow&&(_t+=2*Math.round(mt/3)),this.options.showFrame&&(_t+=2*Math.round(mt/9)),_t}_showImpl(mt,_t){const Kt=mt.getStartPosition(),Bt=this.editor.getLayoutInfo(),Ge=this._getWidth(Bt);this.domNode.style.width=`${Ge}px`,this.domNode.style.left=this._getLeft(Bt)+"px";const ut=document.createElement("div");ut.style.overflow="hidden";const Ut=this.editor.getOption(61),hn=Math.max(12,this.editor.getLayoutInfo().height/Ut*.8);_t=Math.min(_t,hn);let Dn=0,wt=0;if(this._arrow&&this.options.showArrow&&(Dn=Math.round(Ut/3),this._arrow.height=Dn,this._arrow.show(Kt)),this.options.showFrame&&(wt=Math.round(Ut/9)),this.editor.changeViewZones(Me=>{this._viewZone&&Me.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new M(ut,Kt.lineNumber,Kt.column,_t,ue=>this._onViewZoneTop(ue),ue=>this._onViewZoneHeight(ue)),this._viewZone.id=Me.addZone(this._viewZone),this._overlayWidget=new Se("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Me=this.options.frameWidth?this.options.frameWidth:wt;this.container.style.borderTopWidth=Me+"px",this.container.style.borderBottomWidth=Me+"px"}const je=_t*Ut-this._decoratingElementsHeight();this.container&&(this.container.style.top=Dn+"px",this.container.style.height=je+"px",this.container.style.overflow="hidden"),this._doLayout(je,Ge),this.options.keepEditorSelection||this.editor.setSelection(mt);const ye=this.editor.getModel();if(ye){const Me=mt.endLineNumber+1;Me<=ye.getLineCount()?this.revealLine(Me,!1):this.revealLine(ye.getLineCount(),!0)}}revealLine(mt,_t){_t?this.editor.revealLineInCenter(mt,0):this.editor.revealLine(mt,0)}setCssClass(mt,_t){!this.container||(_t&&this.container.classList.remove(_t),this.container.classList.add(mt))}_onWidth(mt){}_doLayout(mt,_t){}_relayout(mt){this._viewZone&&this._viewZone.heightInLines!==mt&&this.editor.changeViewZones(_t=>{this._viewZone&&(this._viewZone.heightInLines=mt,_t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let mt;this._resizeSash=this._disposables.add(new U.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(_t=>{this._viewZone&&(mt={startY:_t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{mt=void 0})),this._disposables.add(this._resizeSash.onDidChange(_t=>{if(mt){const Kt=(_t.currentY-mt.startY)/this.editor.getOption(61),Bt=Kt<0?Math.ceil(Kt):Math.floor(Kt),Ge=mt.heightInLines+Bt;Ge>5&&Ge<35&&this._relayout(Ge)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const mt=this.editor.getLayoutInfo();return mt.width-mt.minimap.minimapWidth}}var Ne=e(55197),oe=e(38516),we=e(16468),xe=e(47494),pe=e(9265),Te=e(4062),de=function(vt,mt,_t,Kt){var ut,Bt=arguments.length,Ge=Bt<3?mt:null===Kt?Kt=Object.getOwnPropertyDescriptor(mt,_t):Kt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ge=Reflect.decorate(vt,mt,_t,Kt);else for(var Ut=vt.length-1;Ut>=0;Ut--)(ut=vt[Ut])&&(Ge=(Bt<3?ut(Ge):Bt>3?ut(mt,_t,Ge):ut(mt,_t))||Ge);return Bt>3&&Ge&&Object.defineProperty(mt,_t,Ge),Ge},ke=function(vt,mt){return function(_t,Kt){mt(_t,Kt,vt)}};const ze=(0,pe.yh)("IPeekViewService");var $e,vt;(0,xe.z)(ze,class{constructor(){this._widgets=new Map}addExclusiveWidget(vt,mt){const _t=this._widgets.get(vt);_t&&(_t.listener.dispose(),_t.widget.dispose()),this._widgets.set(vt,{widget:mt,listener:mt.onDidClose(()=>{const Bt=this._widgets.get(vt);Bt&&Bt.widget===mt&&(Bt.listener.dispose(),this._widgets.delete(vt))})})}}),(vt=$e||($e={})).inPeekEditor=new we.uy("inReferenceSearchEditor",!0,Ne.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),vt.notInPeekEditor=vt.inPeekEditor.toNegated();let ce=class{constructor(mt,_t){mt instanceof H.H&&$e.inPeekEditor.bindTo(_t)}dispose(){}};function Ue(vt){const mt=vt.get(O.$).getFocusedCodeEditor();return mt instanceof H.H?mt.getParentEditor():mt}ce.ID="editor.contrib.referenceController",ce=de([ke(1,we.i6)],ce),(0,P._K)(ce.ID,ce);const nt={headerBackgroundColor:v.Il.white,primaryHeadingColor:v.Il.fromHex("#333333"),secondaryHeadingColor:v.Il.fromHex("#6c6c6cb3")};let Dt=class extends Le{constructor(mt,_t,Kt){super(mt,_t),this.instantiationService=Kt,this._onDidClose=new T.Q5,this.onDidClose=this._onDidClose.event,C.jB(this.options,nt,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(mt){const _t=this.options;mt.headerBackgroundColor&&(_t.headerBackgroundColor=mt.headerBackgroundColor),mt.primaryHeadingColor&&(_t.primaryHeadingColor=mt.primaryHeadingColor),mt.secondaryHeadingColor&&(_t.secondaryHeadingColor=mt.secondaryHeadingColor),super.style(mt)}_applyStyles(){super._applyStyles();const mt=this.options;this._headElement&&mt.headerBackgroundColor&&(this._headElement.style.backgroundColor=mt.headerBackgroundColor.toString()),this._primaryHeading&&mt.primaryHeadingColor&&(this._primaryHeading.style.color=mt.primaryHeadingColor.toString()),this._secondaryHeading&&mt.secondaryHeadingColor&&(this._secondaryHeading.style.color=mt.secondaryHeadingColor.toString()),this._bodyElement&&mt.frameColor&&(this._bodyElement.style.borderColor=mt.frameColor.toString())}_fillContainer(mt){this.setCssClass("peekview-widget"),this._headElement=d.$(".head"),this._bodyElement=d.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),mt.appendChild(this._headElement),mt.appendChild(this._bodyElement)}_fillHead(mt,_t){const Kt=d.$(".peekview-title");this.options.supportOnTitleClick&&(Kt.classList.add("clickable"),d.mu(Kt,"click",ut=>this._onTitleClick(ut))),d.R3(this._headElement,Kt),this._fillTitleIcon(Kt),this._primaryHeading=d.$("span.filename"),this._secondaryHeading=d.$("span.dirname"),this._metaHeading=d.$("span.meta"),d.R3(Kt,this._primaryHeading,this._secondaryHeading,this._metaHeading);const Bt=d.$(".peekview-actions");d.R3(this._headElement,Bt);const Ge=this._getActionBarOptions();this._actionbarWidget=new t.o(Bt,Ge),this._disposables.add(this._actionbarWidget),_t||this._actionbarWidget.push(new l.aU("peekview.close",Ne.NC("label.close","Close"),S.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(mt){}_getActionBarOptions(){return{actionViewItemProvider:oe.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(mt){}setTitle(mt,_t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=mt,this._primaryHeading.setAttribute("title",mt),_t?this._secondaryHeading.innerText=_t:d.PO(this._secondaryHeading))}setMetaTitle(mt){this._metaHeading&&(mt?(this._metaHeading.innerText=mt,d.$Z(this._metaHeading)):d.Cp(this._metaHeading))}_doLayout(mt,_t){if(!this._isShowing&&mt<0)return void this.dispose();const Kt=Math.ceil(1.2*this.editor.getOption(61)),Bt=Math.round(mt-(Kt+2));this._doLayoutHead(Kt,_t),this._doLayoutBody(Bt,_t)}_doLayoutHead(mt,_t){this._headElement&&(this._headElement.style.height=`${mt}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(mt,_t){this._bodyElement&&(this._bodyElement.style.height=`${mt}px`)}};Dt=de([ke(2,pe.TG)],Dt);const Lt=(0,Te.P6G)("peekViewTitle.background",{dark:(0,Te.ZnX)(Te.c63,.1),light:(0,Te.ZnX)(Te.c63,.1),hcDark:null,hcLight:null},Ne.NC("peekViewTitleBackground","Background color of the peek view title area.")),Ze=(0,Te.P6G)("peekViewTitleLabel.foreground",{dark:v.Il.white,light:v.Il.black,hcDark:v.Il.white,hcLight:Te.NOs},Ne.NC("peekViewTitleForeground","Color of the peek view title.")),ae=(0,Te.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},Ne.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),_e=(0,Te.P6G)("peekView.border",{dark:Te.c63,light:Te.c63,hcDark:Te.lRK,hcLight:Te.lRK},Ne.NC("peekViewBorder","Color of the peek view borders and arrow.")),he=(0,Te.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:v.Il.black,hcLight:v.Il.white},Ne.NC("peekViewResultsBackground","Background color of the peek view result list.")),dt=((0,Te.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:v.Il.white,hcLight:Te.NOs},Ne.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,Te.P6G)("peekViewResult.fileForeground",{dark:v.Il.white,light:"#1E1E1E",hcDark:v.Il.white,hcLight:Te.NOs},Ne.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,Te.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},Ne.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,Te.P6G)("peekViewResult.selectionForeground",{dark:v.Il.white,light:"#6C6C6C",hcDark:v.Il.white,hcLight:Te.NOs},Ne.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,Te.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:v.Il.black,hcLight:v.Il.white},Ne.NC("peekViewEditorBackground","Background color of the peek view editor.")));(0,Te.P6G)("peekViewEditorGutter.background",{dark:dt,light:dt,hcDark:dt,hcLight:dt},Ne.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,Te.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},Ne.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,Te.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},Ne.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,Te.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Te.xL1,hcLight:Te.xL1},Ne.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},35045:(Et,X,e)=>{"use strict";e.d(X,{X:()=>E});var d=e(92192),t=e(80142),l=e(72715),S=e(91353),v=e(47629),T=e(43944),C=e(40902);class E{constructor(_){this.options=_,this.rangeHighlightDecorationId=void 0}provide(_,s){var m;const c=new t.SL;_.canAcceptInBackground=!(null===(m=this.options)||void 0===m||!m.canAcceptInBackground),_.matchOnLabel=_.matchOnDescription=_.matchOnDetail=_.sortByLabel=!1;const n=c.add(new t.XK);return n.value=this.doProvide(_,s),c.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(_,s)})),c}doProvide(_,s){const m=new t.SL,c=this.activeTextEditorControl;if(c&&this.canProvideWithTextEditor(c)){const n={editor:c},a=(0,S.Pi)(c);if(a){let p=(0,l.f6)(c.saveViewState());m.add(a.onDidChangeCursorPosition(()=>{p=(0,l.f6)(c.saveViewState())})),n.restoreViewState=()=>{p&&c===this.activeTextEditorControl&&c.restoreViewState(p)},m.add((0,d.I)(s.onCancellationRequested)(()=>{var u;return null===(u=n.restoreViewState)||void 0===u?void 0:u.call(n)}))}m.add((0,t.OF)(()=>this.clearDecorations(c))),m.add(this.provideWithTextEditor(n,_,s))}else m.add(this.provideWithoutTextEditor(_,s));return m}canProvideWithTextEditor(_){return!0}gotoLocation({editor:_},s){_.setSelection(s.range),_.revealRangeInCenter(s.range,0),s.preserveFocus||_.focus()}getModel(_){var s;return(0,S.QI)(_)?null===(s=_.getModel())||void 0===s?void 0:s.modified:_.getModel()}addDecorations(_,s){_.changeDecorations(m=>{const c=[];this.rangeHighlightDecorationId&&(c.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),c.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:s,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:s,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,C.EN)(T.m9),position:v.sh.Full}}}],[a,p]=m.deltaDecorations(c,n);this.rangeHighlightDecorationId={rangeHighlightId:a,overviewRulerDecorationId:p}})}clearDecorations(_){const s=this.rangeHighlightDecorationId;s&&(_.changeDecorations(m=>{m.deltaDecorations([s.overviewRulerDecorationId,s.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},31257:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{ReadOnlyMessageController:()=>v});var d=e(80142),t=e(26845),l=e(54007),S=e(55197);let v=(()=>{class T extends d.JT{constructor(E){super(),this.editor=E,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const E=l.O.get(this.editor);E&&this.editor.hasModel()&&E.showMessage(this.editor.isSimpleWidget?S.NC("editor.simple.readonly","Cannot edit in read-only input"):S.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition())}}return T.ID="editor.contrib.readOnlyMessageController",T})();(0,t._K)(v.ID,v)},35108:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{RenameAction:()=>nt,rename:()=>ce});var d=e(59797),t=e(48648),l=e(73888),S=e(4125),v=e(80142),T=e(72715),C=e(59547),E=e(18623),L=e(26845),_=e(61560),s=e(33745),m=e(18723),c=e(98570),n=e(82290),a=e(19147),p=e(54007),u=e(55197),g=e(29093),b=e(16468),y=e(9265),D=e(29693),w=e(54436),I=e(55538),P=e(4259),O=e(57856),H=e.n(O),U=e(38470),K=e.n(U),F=e(43370),B=e.n(F),z=e(28458),$=e.n(z),j=e(71278),ne=e.n(j),N=e(29488),V=e.n(N),Z=e(47479),fe={};fe.styleTagTransform=V(),fe.setAttributes=$(),fe.insert=B().bind(null,"head"),fe.domAPI=K(),fe.insertStyleElement=ne(),H()(Z.Z,fe);var Ee=e(14759),Le=e(4062),Ne=e(40902),we=function(Lt,Ze){return function(ae,_e){Ze(ae,_e,Lt)}};const xe=new b.uy("renameInputVisible",!1,(0,u.NC)("renameInputVisible","Whether the rename input widget is visible"));let pe=class{constructor(Ze,ae,_e,he,le){this._editor=Ze,this._acceptKeybindings=ae,this._themeService=_e,this._keybindingService=he,this._disposables=new v.SL,this.allowEditorOverflow=!0,this._visibleContextKey=xe.bindTo(le),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(Q=>{Q.hasChanged(46)&&this._updateFont()})),this._disposables.add(_e.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,u.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const Ze=()=>{var ae,_e;const[he,le]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(he),this._label.innerText=(0,u.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(ae=this._keybindingService.lookupKeybinding(he))||void 0===ae?void 0:ae.getLabel(),null===(_e=this._keybindingService.lookupKeybinding(le))||void 0===_e?void 0:_e.getLabel())};Ze(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(Ze)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(Ze){var ae,_e,he,le;if(!this._input||!this._domNode)return;const Q=Ze.getColor(Le.rh);this._domNode.style.backgroundColor=String(null!==(ae=Ze.getColor(Le.D0T))&&void 0!==ae?ae:""),this._domNode.style.boxShadow=Q?` 0 0 8px 2px ${Q}`:"",this._domNode.style.color=String(null!==(_e=Ze.getColor(Le.zJb))&&void 0!==_e?_e:""),this._input.style.backgroundColor=String(null!==(he=Ze.getColor(Le.sEe))&&void 0!==he?he:"");const ve=Ze.getColor(Le.dt_);this._input.style.borderWidth=ve?"1px":"0px",this._input.style.borderStyle=ve?"solid":"none",this._input.style.borderColor=null!==(le=ve?.toString())&&void 0!==le?le:"none"}_updateFont(){if(!this._input||!this._label)return;const Ze=this._editor.getOption(46);this._input.style.fontFamily=Ze.fontFamily,this._input.style.fontWeight=Ze.fontWeight,this._input.style.fontSize=`${Ze.fontSize}px`,this._label.style.fontSize=.8*Ze.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(Ze){Ze||this.cancelInput(!0)}acceptInput(Ze){var ae;null===(ae=this._currentAcceptInput)||void 0===ae||ae.call(this,Ze)}cancelInput(Ze){var ae;null===(ae=this._currentCancelInput)||void 0===ae||ae.call(this,Ze)}getInput(Ze,ae,_e,he,le,Q){this._domNode.classList.toggle("preview",le),this._position=new m.L(Ze.startLineNumber,Ze.startColumn),this._input.value=ae,this._input.setAttribute("selectionStart",_e.toString()),this._input.setAttribute("selectionEnd",he.toString()),this._input.size=Math.max(1.1*(Ze.endColumn-Ze.startColumn),20);const ve=new v.SL;return new Promise(Ae=>{this._currentCancelInput=dt=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Ae(dt),!0),this._currentAcceptInput=dt=>{0!==this._input.value.trim().length&&this._input.value!==ae?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Ae({newName:this._input.value,wantsPreview:le&&dt})):this.cancelInput(!0)},ve.add(Q.onCancellationRequested(()=>this.cancelInput(!0))),ve.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{ve.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};pe=function(Lt,Ze,ae,_e){var Q,he=arguments.length,le=he<3?Ze:null===_e?_e=Object.getOwnPropertyDescriptor(Ze,ae):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)le=Reflect.decorate(Lt,Ze,ae,_e);else for(var ve=Lt.length-1;ve>=0;ve--)(Q=Lt[ve])&&(le=(he<3?Q(le):he>3?Q(Ze,ae,le):Q(Ze,ae))||le);return he>3&&le&&Object.defineProperty(Ze,ae,le),le}([we(2,Ne.XE),we(3,Ee.d),we(4,b.i6)],pe);var Te=e(90790),ke=function(Lt,Ze){return function(ae,_e){Ze(ae,_e,Lt)}},ze=function(Lt,Ze,ae,_e){return new(ae||(ae=Promise))(function(le,Q){function ve(st){try{dt(_e.next(st))}catch(et){Q(et)}}function Ae(st){try{dt(_e.throw(st))}catch(et){Q(et)}}function dt(st){st.done?le(st.value):function he(le){return le instanceof ae?le:new ae(function(Q){Q(le)})}(st.value).then(ve,Ae)}dt((_e=_e.apply(Lt,Ze||[])).next())})};class $e{constructor(Ze,ae,_e){this.model=Ze,this.position=ae,this._providerRenameIdx=0,this._providers=_e.ordered(Ze)}hasProvider(){return this._providers.length>0}resolveRenameLocation(Ze){return ze(this,void 0,void 0,function*(){const ae=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const he=this._providers[this._providerRenameIdx];if(!he.resolveRenameLocation)break;const le=yield he.resolveRenameLocation(this.model,this.position,Ze);if(le){if(le.rejectReason){ae.push(le.rejectReason);continue}return le}}const _e=this.model.getWordAtPosition(this.position);return _e?{range:new c.e(this.position.lineNumber,_e.startColumn,this.position.lineNumber,_e.endColumn),text:_e.word,rejectReason:ae.length>0?ae.join("\n"):void 0}:{range:c.e.fromPositions(this.position),text:"",rejectReason:ae.length>0?ae.join("\n"):void 0}})}provideRenameEdits(Ze,ae){return ze(this,void 0,void 0,function*(){return this._provideRenameEdits(Ze,this._providerRenameIdx,[],ae)})}_provideRenameEdits(Ze,ae,_e,he){return ze(this,void 0,void 0,function*(){const le=this._providers[ae];if(!le)return{edits:[],rejectReason:_e.join("\n")};const Q=yield le.provideRenameEdits(this.model,this.position,Ze,he);return Q?Q.rejectReason?this._provideRenameEdits(Ze,ae+1,_e.concat(Q.rejectReason),he):Q:this._provideRenameEdits(Ze,ae+1,_e.concat(u.NC("no result","No result.")),he)})}}function ce(Lt,Ze,ae,_e){return ze(this,void 0,void 0,function*(){const he=new $e(Ze,ae,Lt),le=yield he.resolveRenameLocation(l.T.None);return le?.rejectReason?{edits:[],rejectReason:le.rejectReason}:he.provideRenameEdits(_e,l.T.None)})}let Ue=class cu{constructor(Ze,ae,_e,he,le,Q,ve,Ae){this.editor=Ze,this._instaService=ae,this._notificationService=_e,this._bulkEditService=he,this._progressService=le,this._logService=Q,this._configService=ve,this._languageFeaturesService=Ae,this._disposableStore=new v.SL,this._cts=new l.A,this._renameInputField=this._disposableStore.add(new t.Ue(()=>this._disposableStore.add(this._instaService.createInstance(pe,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(Ze){return Ze.getContribution(cu.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var Ze,ae;return ze(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const _e=this.editor.getPosition(),he=new $e(this.editor.getModel(),_e,this._languageFeaturesService.renameProvider);if(!he.hasProvider())return;let le;this._cts=new E.Dl(this.editor,5);try{const Qe=he.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Qe,250),le=yield Qe}catch(Qe){return void(null===(Ze=p.O.get(this.editor))||void 0===Ze||Ze.showMessage(Qe||u.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),_e))}if(!le)return;if(le.rejectReason)return void(null===(ae=p.O.get(this.editor))||void 0===ae||ae.showMessage(le.rejectReason,_e));if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new E.Dl(this.editor,5,le.range);const Q=this.editor.getSelection();let ve=0,Ae=le.text.length;!c.e.isEmpty(Q)&&!c.e.spansMultipleLines(Q)&&c.e.containsRange(le.range,Q)&&(ve=Math.max(0,Q.startColumn-le.range.startColumn),Ae=Math.min(le.range.endColumn,Q.endColumn)-le.range.startColumn);const dt=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),st=yield this._renameInputField.value.getInput(le.range,le.text,ve,Ae,dt,this._cts.token);if("boolean"==typeof st)return void(st&&this.editor.focus());this.editor.focus();const et=(0,t.eP)(he.provideRenameEdits(st.newName,this._cts.token),this._cts.token).then(Qe=>ze(this,void 0,void 0,function*(){if(Qe&&this.editor.hasModel()){if(Qe.rejectReason)return void this._notificationService.info(Qe.rejectReason);this.editor.setSelection(c.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(_.fo.convert(Qe),{editor:this.editor,showPreview:st.wantsPreview,label:u.NC("label","Renaming '{0}' to '{1}'",le?.text,st.newName),code:"undoredo.rename",quotableLabel:u.NC("quotableLabel","Renaming {0} to {1}",le?.text,st.newName),respectAutoSaveConfig:!0}).then(tt=>{tt.ariaSummary&&(0,d.Z9)(u.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",le.text,st.newName,tt.ariaSummary))}).catch(tt=>{this._notificationService.error(u.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(tt)})}}),Qe=>{this._notificationService.error(u.NC("rename.failed","Rename failed to compute edits")),this._logService.error(Qe)});return this._progressService.showWhile(et,250),et})}acceptRenameInput(Ze){this._renameInputField.value.acceptInput(Ze)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Ue.ID="editor.contrib.renameController",Ue=function(Lt,Ze,ae,_e){var Q,he=arguments.length,le=he<3?Ze:null===_e?_e=Object.getOwnPropertyDescriptor(Ze,ae):_e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)le=Reflect.decorate(Lt,Ze,ae,_e);else for(var ve=Lt.length-1;ve>=0;ve--)(Q=Lt[ve])&&(le=(he<3?Q(le):he>3?Q(Ze,ae,le):Q(Ze,ae))||le);return he>3&&le&&Object.defineProperty(Ze,ae,le),le}([ke(1,y.TG),ke(2,w.lT),ke(3,_.vu),ke(4,I.ek),ke(5,D.VZ),ke(6,a.V),ke(7,Te.p)],Ue);class nt extends L.R6{constructor(){super({id:"editor.action.rename",label:u.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:b.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(Ze,ae){const _e=Ze.get(s.$),[he,le]=Array.isArray(ae)&&ae||[void 0,void 0];return C.o.isUri(he)&&m.L.isIPosition(le)?_e.openCodeEditor({resource:he},_e.getActiveCodeEditor()).then(Q=>{!Q||(Q.setPosition(le),Q.invokeWithinContext(ve=>(this.reportTelemetry(ve,Q),this.run(ve,Q))))},S.dL):super.runCommand(Ze,ae)}run(Ze,ae){const _e=Ue.get(ae);return _e?_e.run():Promise.resolve()}}(0,L._K)(Ue.ID,Ue),(0,L.Qr)(nt);const Dt=L._l.bindToContribution(Ue.get);(0,L.fK)(new Dt({id:"acceptRenameInput",precondition:xe,handler:Lt=>Lt.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:n.u.focus,primary:3}})),(0,L.fK)(new Dt({id:"acceptRenameInputWithPreview",precondition:b.Ao.and(xe,b.Ao.has("config.editor.rename.enablePreview")),handler:Lt=>Lt.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:n.u.focus,primary:1027}})),(0,L.fK)(new Dt({id:"cancelRenameInput",precondition:xe,handler:Lt=>Lt.cancelRenameInput(),kbOpts:{weight:199,kbExpr:n.u.focus,primary:9,secondary:[1033]}})),(0,L.sb)("_executeDocumentRenameProvider",function(Lt,Ze,ae,..._e){const[he]=_e;(0,T.p_)("string"==typeof he);const{renameProvider:le}=Lt.get(Te.p);return ce(le,Ze,ae,he)}),(0,L.sb)("_executePrepareRename",function(Lt,Ze,ae){return ze(this,void 0,void 0,function*(){const{renameProvider:_e}=Lt.get(Te.p),le=yield new $e(Ze,ae,_e).resolveRenameLocation(l.T.None);if(le?.rejectReason)throw new Error(le.rejectReason);return le})}),P.B.as(g.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:u.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},44221:(Et,X,e)=>{"use strict";e.d(X,{x:()=>v});var d=e(85739),t=e(18723),l=e(98570);let v=(()=>{class T{provideSelectionRanges(E,L){return function(T,C,E,L){return new(E||(E=Promise))(function(s,m){function c(p){try{a(L.next(p))}catch(u){m(u)}}function n(p){try{a(L.throw(p))}catch(u){m(u)}}function a(p){p.done?s(p.value):function _(s){return s instanceof E?s:new E(function(m){m(s)})}(p.value).then(c,n)}a((L=L.apply(T,C||[])).next())})}(this,void 0,void 0,function*(){const _=[];for(const s of L){const m=[];_.push(m);const c=new Map;yield new Promise(n=>T._bracketsRightYield(n,0,E,s,c)),yield new Promise(n=>T._bracketsLeftYield(n,0,E,s,c,m))}return _})}static _bracketsRightYield(E,L,_,s,m){const c=new Map,n=Date.now();for(;;){if(L>=T._maxRounds){E();break}if(!s){E();break}const a=_.bracketPairs.findNextBracket(s);if(!a){E();break}if(Date.now()-n>T._maxDuration){setTimeout(()=>T._bracketsRightYield(E,L+1,_,s,m));break}if(a.bracketInfo.isOpeningBracket){const u=a.bracketInfo.bracketText,g=c.has(u)?c.get(u):0;c.set(u,g+1)}else{const u=a.bracketInfo.getClosedBrackets()[0].bracketText;let g=c.has(u)?c.get(u):0;if(g-=1,c.set(u,Math.max(0,g)),g<0){let b=m.get(u);b||(b=new d.S,m.set(u,b)),b.push(a.range)}}s=a.range.getEndPosition()}}static _bracketsLeftYield(E,L,_,s,m,c){const n=new Map,a=Date.now();for(;;){if(L>=T._maxRounds&&0===m.size){E();break}if(!s){E();break}const p=_.bracketPairs.findPrevBracket(s);if(!p){E();break}if(Date.now()-a>T._maxDuration){setTimeout(()=>T._bracketsLeftYield(E,L+1,_,s,m,c));break}if(p.bracketInfo.isOpeningBracket){const g=p.bracketInfo.bracketText;let b=n.has(g)?n.get(g):0;if(b-=1,n.set(g,Math.max(0,b)),b<0){const y=m.get(g);if(y){const D=y.shift();0===y.size&&m.delete(g);const w=l.e.fromPositions(p.range.getEndPosition(),D.getStartPosition()),I=l.e.fromPositions(p.range.getStartPosition(),D.getEndPosition());c.push({range:w}),c.push({range:I}),T._addBracketLeading(_,I,c)}}}else{const g=p.bracketInfo.getClosedBrackets()[0].bracketText,b=n.has(g)?n.get(g):0;n.set(g,b+1)}s=p.range.getStartPosition()}}static _addBracketLeading(E,L,_){if(L.startLineNumber===L.endLineNumber)return;const s=L.startLineNumber,m=E.getLineFirstNonWhitespaceColumn(s);0!==m&&m!==L.startColumn&&(_.push({range:l.e.fromPositions(new t.L(s,m),L.getEndPosition())}),_.push({range:l.e.fromPositions(new t.L(s,1),L.getEndPosition())}));const c=s-1;if(c>0){const n=E.getLineFirstNonWhitespaceColumn(c);n===L.startColumn&&n!==E.getLineLastNonWhitespaceColumn(c)&&(_.push({range:l.e.fromPositions(new t.L(c,n),L.getEndPosition())}),_.push({range:l.e.fromPositions(new t.L(c,1),L.getEndPosition())}))}}}return T._maxDuration=30,T._maxRounds=2,T})()},34465:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{provideSelectionRanges:()=>U});var d=e(64023),t=e(73888),l=e(4125),S=e(26845),v=e(18723),T=e(98570),C=e(7233),E=e(82290),L=e(44221),_=e(73879);class s{provideSelectionRanges(F,B){const z=[];for(const $ of B){const j=[];z.push(j),this._addInWordRanges(j,F,$),this._addWordRanges(j,F,$),this._addWhitespaceLine(j,F,$),j.push({range:F.getFullModelRange()})}return z}_addInWordRanges(F,B,z){const $=B.getWordAtPosition(z);if(!$)return;const{word:j,startColumn:ne}=$,N=z.column-ne;let V=N,Z=N,fe=0;for(;V>=0;V--){const M=j.charCodeAt(V);if(V!==N&&(95===M||45===M))break;if((0,_.mK)(M)&&(0,_.df)(fe))break;fe=M}for(V+=1;Z<j.length;Z++){const M=j.charCodeAt(Z);if((0,_.df)(M)&&(0,_.mK)(fe))break;if(95===M||45===M)break;fe=M}V<Z&&F.push({range:new T.e(z.lineNumber,ne+V,z.lineNumber,ne+Z)})}_addWordRanges(F,B,z){const $=B.getWordAtPosition(z);$&&F.push({range:new T.e(z.lineNumber,$.startColumn,z.lineNumber,$.endColumn)})}_addWhitespaceLine(F,B,z){B.getLineLength(z.lineNumber)>0&&0===B.getLineFirstNonWhitespaceColumn(z.lineNumber)&&0===B.getLineLastNonWhitespaceColumn(z.lineNumber)&&F.push({range:new T.e(z.lineNumber,1,z.lineNumber,B.getLineMaxColumn(z.lineNumber))})}}var m=e(55197),c=e(74918),n=e(66549),a=e(90790),p=e(1149),u=e(72715),g=e(59547),D=function(K,F,B,z){return new(B||(B=Promise))(function(j,ne){function N(fe){try{Z(z.next(fe))}catch(M){ne(M)}}function V(fe){try{Z(z.throw(fe))}catch(M){ne(M)}}function Z(fe){fe.done?j(fe.value):function $(j){return j instanceof B?j:new B(function(ne){ne(j)})}(fe.value).then(N,V)}Z((z=z.apply(K,F||[])).next())})};class w{constructor(F,B){this.index=F,this.ranges=B}mov(F){const B=this.index+(F?1:-1);if(B<0||B>=this.ranges.length)return this;const z=new w(B,this.ranges);return z.ranges[B].equalsRange(this.ranges[this.index])?z.mov(F):z}}let I=class uu{constructor(F,B){this._editor=F,this._languageFeaturesService=B,this._ignoreSelection=!1}static get(F){return F.getContribution(uu.ID)}dispose(){var F;null===(F=this._selectionListener)||void 0===F||F.dispose()}run(F){return D(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const B=this._editor.getSelections(),z=this._editor.getModel();if(this._state||(yield U(this._languageFeaturesService.selectionRangeProvider,z,B.map(j=>j.getPosition()),this._editor.getOption(104),t.T.None).then(j=>{var ne;if(d.Of(j)&&j.length===B.length&&this._editor.hasModel()&&d.fS(this._editor.getSelections(),B,(N,V)=>N.equalsSelection(V))){for(let N=0;N<j.length;N++)j[N]=j[N].filter(V=>V.containsPosition(B[N].getStartPosition())&&V.containsPosition(B[N].getEndPosition())),j[N].unshift(B[N]);this._state=j.map(N=>new w(0,N)),null===(ne=this._selectionListener)||void 0===ne||ne.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var N;this._ignoreSelection||(null===(N=this._selectionListener)||void 0===N||N.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(j=>j.mov(F));const $=this._state.map(j=>C.Y.fromPositions(j.ranges[j.index].getStartPosition(),j.ranges[j.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections($)}finally{this._ignoreSelection=!1}})}};var F;I.ID="editor.contrib.smartSelectController",I=function(K,F,B,z){var ne,$=arguments.length,j=$<3?F:null===z?z=Object.getOwnPropertyDescriptor(F,B):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(K,F,B,z);else for(var N=K.length-1;N>=0;N--)(ne=K[N])&&(j=($<3?ne(j):$>3?ne(F,B,j):ne(F,B))||j);return $>3&&j&&Object.defineProperty(F,B,j),j}([(1,F=a.p,function(B,z){F(B,z,1)})],I);class P extends S.R6{constructor(F,B){super(B),this._forward=F}run(F,B){return D(this,void 0,void 0,function*(){const z=I.get(B);z&&(yield z.run(this._forward))})}}function U(K,F,B,z,$){return D(this,void 0,void 0,function*(){const j=K.all(F).concat(new s);1===j.length&&j.unshift(new L.x);const ne=[],N=[];for(const V of j)ne.push(Promise.resolve(V.provideSelectionRanges(F,B,$)).then(Z=>{if(d.Of(Z)&&Z.length===B.length)for(let fe=0;fe<B.length;fe++){N[fe]||(N[fe]=[]);for(const M of Z[fe])T.e.isIRange(M.range)&&T.e.containsPosition(M.range,B[fe])&&N[fe].push(T.e.lift(M.range))}},l.Cp));return yield Promise.all(ne),N.map(V=>{if(0===V.length)return[];V.sort((Se,Ee)=>v.L.isBefore(Se.getStartPosition(),Ee.getStartPosition())?1:v.L.isBefore(Ee.getStartPosition(),Se.getStartPosition())||v.L.isBefore(Se.getEndPosition(),Ee.getEndPosition())?-1:v.L.isBefore(Ee.getEndPosition(),Se.getEndPosition())?1:0);const Z=[];let fe;for(const Se of V)(!fe||T.e.containsRange(Se,fe)&&!T.e.equalsRange(Se,fe))&&(Z.push(Se),fe=Se);if(!z.selectLeadingAndTrailingWhitespace)return Z;const M=[Z[0]];for(let Se=1;Se<Z.length;Se++){const Ee=Z[Se-1],Le=Z[Se];if(Le.startLineNumber!==Ee.startLineNumber||Le.endLineNumber!==Ee.endLineNumber){const Ne=new T.e(Ee.startLineNumber,F.getLineFirstNonWhitespaceColumn(Ee.startLineNumber),Ee.endLineNumber,F.getLineLastNonWhitespaceColumn(Ee.endLineNumber));Ne.containsRange(Ee)&&!Ne.equalsRange(Ee)&&Le.containsRange(Ne)&&!Le.equalsRange(Ne)&&M.push(Ne);const oe=new T.e(Ee.startLineNumber,1,Ee.endLineNumber,F.getLineMaxColumn(Ee.endLineNumber));oe.containsRange(Ee)&&!oe.equalsRange(Ne)&&Le.containsRange(oe)&&!Le.equalsRange(oe)&&M.push(oe)}M.push(Le)}return M})})}n.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,S._K)(I.ID,I),(0,S.Qr)(class O extends P{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:m.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:c.eH.MenubarSelectionMenu,group:"1_basic",title:m.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,S.Qr)(class H extends P{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:m.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:c.eH.MenubarSelectionMenu,group:"1_basic",title:m.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),n.P0.registerCommand("_executeSelectionRangeProvider",function(K,...F){return D(this,void 0,void 0,function*(){const[B,z]=F;(0,u.p_)(g.o.isUri(B));const $=K.get(a.p).selectionRangeProvider,j=yield K.get(p.S).createModelReference(B);try{return U($,j.object.textEditorModel,z,{selectLeadingAndTrailingWhitespace:!0},t.T.None)}finally{j.dispose()}})})},31583:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{SnippetController2:()=>u,performSnippetEdit:()=>b});var d=e(80142),t=e(72715),l=e(26845),S=e(18723),v=e(7233),T=e(82290),C=e(94911),E=e(90790),L=e(83956),_=e(55197),s=e(16468),m=e(29693),c=e(79980),a=function(y,D){return function(w,I){D(w,I,y)}};const p={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let u=class Nd{constructor(D,w,I,P,O){this._editor=D,this._logService=w,this._languageFeaturesService=I,this._languageConfigurationService=O,this._snippetListener=new d.SL,this._modelVersionId=-1,this._inSnippet=Nd.InSnippetMode.bindTo(P),this._hasNextTabstop=Nd.HasNextTabstop.bindTo(P),this._hasPrevTabstop=Nd.HasPrevTabstop.bindTo(P)}static get(D){return D.getContribution(Nd.ID)}dispose(){var D;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(D=this._session)||void 0===D||D.dispose(),this._snippetListener.dispose()}apply(D,w){try{this._doInsert(D,typeof w>"u"?p:Object.assign(Object.assign({},p),w))}catch(I){this.cancel(),this._logService.error(I),this._logService.error("snippet_error"),this._logService.error("insert_edits=",D),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(D,w){try{this._doInsert(D,typeof w>"u"?p:Object.assign(Object.assign({},p),w))}catch(I){this.cancel(),this._logService.error(I),this._logService.error("snippet_error"),this._logService.error("insert_template=",D),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(D,w){var I;if(this._editor.hasModel()){if(this._snippetListener.clear(),w.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!=typeof D&&this.cancel(),this._session?((0,t.p_)("string"==typeof D),this._session.merge(D,w)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new c.l(this._editor,D,w,this._languageConfigurationService),this._session.insert()),w.undoStopAfter&&this._editor.getModel().pushStackElement(),null!==(I=this._session)&&void 0!==I&&I.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(O,H)=>{if(!this._session||O!==this._editor.getModel()||!S.L.equals(this._editor.getPosition(),H))return;const{activeChoice:U}=this._session;if(!U||0===U.choice.options.length)return;const K=O.getValueInRange(U.range),F=Boolean(U.choice.options.find(z=>z.value===K)),B=[];for(let z=0;z<U.choice.options.length;z++){const $=U.choice.options[z];B.push({kind:13,label:$.value,insertText:$.value,sortText:"a".repeat(z+1),range:U.range,filterText:F?`${K}_${$.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,_.NC)("next","Go to next placeholder...")}})}return{suggestions:B}}};const P=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(P)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(P=>P.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:D}=this._session;D&&this._choiceCompletionItemProvider?this._currentChoice!==D.choice&&(this._currentChoice=D.choice,queueMicrotask(()=>{(0,L.i5)(this._editor,this._choiceCompletionItemProvider)})):this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(D=!1){var w;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(w=this._session)||void 0===w||w.dispose(),this._session=void 0,this._modelVersionId=-1,D&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};u.ID="snippetController2",u.InSnippetMode=new s.uy("inSnippetMode",!1,(0,_.NC)("inSnippetMode","Whether the editor in current in snippet mode")),u.HasNextTabstop=new s.uy("hasNextTabstop",!1,(0,_.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),u.HasPrevTabstop=new s.uy("hasPrevTabstop",!1,(0,_.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),u=function(y,D,w,I){var H,P=arguments.length,O=P<3?D:null===I?I=Object.getOwnPropertyDescriptor(D,w):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(y,D,w,I);else for(var U=y.length-1;U>=0;U--)(H=y[U])&&(O=(P<3?H(O):P>3?H(D,w,O):H(D,w))||O);return P>3&&O&&Object.defineProperty(D,w,O),O}([a(1,m.VZ),a(2,E.p),a(3,s.i6),a(4,C.c_)],u),(0,l._K)(u.ID,u);const g=l._l.bindToContribution(u.get);function b(y,D,w){const I=u.get(y);return!!I&&(y.focus(),I.apply(w.map(P=>({range:v.Y.liftSelection(P),template:D}))),I.isInSnippet())}(0,l.fK)(new g({id:"jumpToNextSnippetPlaceholder",precondition:s.Ao.and(u.InSnippetMode,u.HasNextTabstop),handler:y=>y.next(),kbOpts:{weight:130,kbExpr:T.u.editorTextFocus,primary:2}})),(0,l.fK)(new g({id:"jumpToPrevSnippetPlaceholder",precondition:s.Ao.and(u.InSnippetMode,u.HasPrevTabstop),handler:y=>y.prev(),kbOpts:{weight:130,kbExpr:T.u.editorTextFocus,primary:1026}})),(0,l.fK)(new g({id:"leaveSnippet",precondition:u.InSnippetMode,handler:y=>y.cancel(!0),kbOpts:{weight:130,kbExpr:T.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,l.fK)(new g({id:"acceptSnippet",precondition:u.InSnippetMode,handler:y=>y.finish()}))},61254:(Et,X,e)=>{"use strict";e.d(X,{Lv:()=>T,Vm:()=>v,Yj:()=>m,xv:()=>l,y1:()=>s});let d=(()=>{class c{constructor(){this.value="",this.pos=0}static isDigitCharacter(a){return a>=48&&a<=57}static isVariableCharacter(a){return 95===a||a>=97&&a<=122||a>=65&&a<=90}text(a){this.value=a,this.pos=0}tokenText(a){return this.value.substr(a.pos,a.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const a=this.pos;let g,p=0,u=this.value.charCodeAt(a);if(g=c._table[u],"number"==typeof g)return this.pos+=1,{type:g,pos:a,len:1};if(c.isDigitCharacter(u)){g=8;do{p+=1,u=this.value.charCodeAt(a+p)}while(c.isDigitCharacter(u));return this.pos+=p,{type:g,pos:a,len:p}}if(c.isVariableCharacter(u)){g=9;do{u=this.value.charCodeAt(a+ ++p)}while(c.isVariableCharacter(u)||c.isDigitCharacter(u));return this.pos+=p,{type:g,pos:a,len:p}}g=10;do{p+=1,u=this.value.charCodeAt(a+p)}while(!isNaN(u)&&typeof c._table[u]>"u"&&!c.isDigitCharacter(u)&&!c.isVariableCharacter(u));return this.pos+=p,{type:g,pos:a,len:p}}}return c._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},c})();class t{constructor(){this._children=[]}appendChild(n){return n instanceof l&&this._children[this._children.length-1]instanceof l?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,a){const{parent:p}=n,u=p.children.indexOf(n),g=p.children.slice(0);g.splice(u,1,...a),p._children=g,function b(y,D){for(const w of y)w.parent=D,b(w.children,w)}(a,p)}get children(){return this._children}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof s)return n;n=n.parent}}toString(){return this.children.reduce((n,a)=>n+a.toString(),"")}len(){return 0}}class l extends t{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new l(this.value)}}class S extends t{}class v extends S{constructor(n){super(),this.index=n}static compareByIndex(n,a){return n.index===a.index?0:n.isFinalTabstop?1:a.isFinalTabstop||n.index<a.index?-1:n.index>a.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof T?this._children[0]:void 0}clone(){const n=new v(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(a=>a.clone()),n}}class T extends t{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof l&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new T;return this.options.forEach(n.appendChild,n),n}}class C extends t{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const a=this;let p=!1,u=n.replace(this.regexp,function(){return p=!0,a._replace(Array.prototype.slice.call(arguments,0,-2))});return!p&&this._children.some(g=>g instanceof E&&Boolean(g.elseValue))&&(u=this._replace([])),u}_replace(n){let a="";for(const p of this._children)if(p instanceof E){let u=n[p.index]||"";u=p.resolve(u),a+=u}else a+=p.toString();return a}toString(){return""}clone(){const n=new C;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(a=>a.clone()),n}}class E extends t{constructor(n,a,p,u){super(),this.index=n,this.shorthandName=a,this.ifValue=p,this.elseValue=u}resolve(n){return"upcase"===this.shorthandName?n?n.toLocaleUpperCase():"":"downcase"===this.shorthandName?n?n.toLocaleLowerCase():"":"capitalize"===this.shorthandName?n?n[0].toLocaleUpperCase()+n.substr(1):"":"pascalcase"===this.shorthandName?n?this._toPascalCase(n):"":"camelcase"===this.shorthandName?n?this._toCamelCase(n):"":Boolean(n)&&"string"==typeof this.ifValue?this.ifValue:Boolean(n)||"string"!=typeof this.elseValue?n||"":this.elseValue}_toPascalCase(n){const a=n.match(/[a-z0-9]+/gi);return a?a.map(p=>p.charAt(0).toUpperCase()+p.substr(1)).join(""):n}_toCamelCase(n){const a=n.match(/[a-z0-9]+/gi);return a?a.map((p,u)=>0===u?p.charAt(0).toLowerCase()+p.substr(1):p.charAt(0).toUpperCase()+p.substr(1)).join(""):n}clone(){return new E(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class L extends S{constructor(n){super(),this.name=n}resolve(n){let a=n.resolve(this);return this.transform&&(a=this.transform.resolve(a||"")),void 0!==a&&(this._children=[new l(a)],!0)}clone(){const n=new L(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(a=>a.clone()),n}}function _(c,n){const a=[...c];for(;a.length>0;){const p=a.shift();if(!n(p))break;a.unshift(...p.children)}}class s extends t{get placeholderInfo(){if(!this._placeholders){const n=[];let a;this.walk(function(p){return p instanceof v&&(n.push(p),a=!a||a.index<p.index?p:a),!0}),this._placeholders={all:n,last:a}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let a=0,p=!1;return this.walk(u=>u===n?(p=!0,!1):(a+=u.len(),!0)),p?a:-1}fullLen(n){let a=0;return _([n],p=>(a+=p.len(),!0)),a}enclosingPlaceholders(n){const a=[];let{parent:p}=n;for(;p;)p instanceof v&&a.push(p),p=p.parent;return a}resolveVariables(n){return this.walk(a=>(a instanceof L&&a.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,a){return this._placeholders=void 0,super.replace(n,a)}clone(){const n=new s;return this._children=this.children.map(a=>a.clone()),n}walk(n){_(this.children,n)}}class m{constructor(){this._scanner=new d,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,a,p){const u=new s;return this.parseFragment(n,u),this.ensureFinalTabstop(u,p??!1,a??!1),u}parseFragment(n,a){const p=a.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(a););const u=new Map,g=[];a.walk(b=>(b instanceof v&&(b.isFinalTabstop?u.set(0,void 0):!u.has(b.index)&&b.children.length>0?u.set(b.index,b.children):g.push(b)),!0));for(const b of g){const y=u.get(b.index);if(y){const D=new v(b.index);D.transform=b.transform;for(const w of y)D.appendChild(w.clone());a.replace(b,[D])}}return a.children.slice(p)}ensureFinalTabstop(n,a,p){(a||p&&n.placeholders.length>0)&&(n.placeholders.find(g=>0===g.index)||n.appendChild(new v(0)))}_accept(n,a){if(void 0===n||this._token.type===n){const p=!a||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),p}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const a=this._token;for(;this._token.type!==n;){if(14===this._token.type)return!1;if(5===this._token.type){const u=this._scanner.next();if(0!==u.type&&4!==u.type&&5!==u.type)return!1}this._token=this._scanner.next()}const p=this._scanner.value.substring(a.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),p}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let a;return!!(a=this._accept(5,!0))&&(a=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||a,n.appendChild(new l(a)),!0)}_parseTabstopOrVariableName(n){let a;const p=this._token;return this._accept(0)&&(a=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(a)?new v(Number(a)):new L(a)),!0):this._backTo(p)}_parseComplexPlaceholder(n){let a;const p=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(8,!0))))return this._backTo(p);const g=new v(Number(a));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(g),!0;if(!this._parse(g))return n.appendChild(new l("${"+a+":")),g.children.forEach(n.appendChild,n),!0}else{if(!(g.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(g)?(n.appendChild(g),!0):(this._backTo(p),!1):this._accept(4)?(n.appendChild(g),!0):this._backTo(p);{const b=new T;for(;;){if(this._parseChoiceElement(b)){if(this._accept(2))continue;if(this._accept(7)&&(g.appendChild(b),this._accept(4)))return n.appendChild(g),!0}return this._backTo(p),!1}}}}_parseChoiceElement(n){const a=this._token,p=[];for(;2!==this._token.type&&7!==this._token.type;){let u;if(u=(u=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||u:this._accept(void 0,!0),!u)return this._backTo(a),!1;p.push(u)}return 0===p.length?(this._backTo(a),!1):(n.appendChild(new l(p.join(""))),!0)}_parseComplexVariable(n){let a;const p=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(9,!0))))return this._backTo(p);const g=new L(a);if(!this._accept(1))return this._accept(6)?this._parseTransform(g)?(n.appendChild(g),!0):(this._backTo(p),!1):this._accept(4)?(n.appendChild(g),!0):this._backTo(p);for(;;){if(this._accept(4))return n.appendChild(g),!0;if(!this._parse(g))return n.appendChild(new l("${"+a+":")),g.children.forEach(n.appendChild,n),!0}}_parseTransform(n){const a=new C;let p="",u="";for(;!this._accept(6);){let g;if(g=this._accept(5,!0))g=this._accept(6,!0)||g,p+=g;else{if(14===this._token.type)return!1;p+=this._accept(void 0,!0)}}for(;!this._accept(6);){let g;if(g=this._accept(5,!0))g=this._accept(5,!0)||this._accept(6,!0)||g,a.appendChild(new l(g));else if(!this._parseFormatString(a)&&!this._parseAnything(a))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;u+=this._accept(void 0,!0)}try{a.regexp=new RegExp(p,u)}catch{return!1}return n.transform=a,!0}_parseFormatString(n){const a=this._token;if(!this._accept(0))return!1;let p=!1;this._accept(3)&&(p=!0);const u=this._accept(8,!0);if(!u)return this._backTo(a),!1;if(!p)return n.appendChild(new E(Number(u))),!0;if(this._accept(4))return n.appendChild(new E(Number(u))),!0;if(!this._accept(1))return this._backTo(a),!1;if(this._accept(6)){const g=this._accept(9,!0);return g&&this._accept(4)?(n.appendChild(new E(Number(u),g)),!0):(this._backTo(a),!1)}if(this._accept(11)){const g=this._until(4);if(g)return n.appendChild(new E(Number(u),void 0,g,void 0)),!0}else if(this._accept(12)){const g=this._until(4);if(g)return n.appendChild(new E(Number(u),void 0,void 0,g)),!0}else if(this._accept(13)){const g=this._until(1);if(g){const b=this._until(4);if(b)return n.appendChild(new E(Number(u),void 0,g,b)),!0}}else{const g=this._until(4);if(g)return n.appendChild(new E(Number(u),void 0,void 0,g)),!0}return this._backTo(a),!1}_parseAnything(n){return 14!==this._token.type&&(n.appendChild(new l(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},79980:(Et,X,e)=>{"use strict";e.d(X,{l:()=>ze});var d=e(64023),t=e(80142),l=e(73879),S=e(57856),v=e.n(S),T=e(38470),C=e.n(T),E=e(43370),L=e.n(E),_=e(28458),s=e.n(_),m=e(71278),c=e.n(m),n=e(29488),a=e.n(n),p=e(88674),u={};u.styleTagTransform=a(),u.setAttributes=s(),u.insert=L().bind(null,"head"),u.domAPI=C(),u.insertStyleElement=c(),v()(p.Z,u);var y=e(65484),D=e(98570),w=e(7233),I=e(94911),P=e(59758),O=e(57585),H=e(24596),U=e(61254),K=e(15240),F=e(8841);function B($e,ce=F.ED){return(0,K.oP)($e,ce)?$e.charAt(0).toUpperCase()+$e.slice(1):$e}var $=e(61283),j=e(40734),ne=e(15067),N=e(55197);Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class M{constructor(ce){this._delegates=ce}resolve(ce){for(const Ue of this._delegates){const nt=Ue.resolve(ce);if(void 0!==nt)return nt}}}class Se{constructor(ce,Ue,nt,Dt){this._model=ce,this._selection=Ue,this._selectionIdx=nt,this._overtypingCapturer=Dt}resolve(ce){const{name:Ue}=ce;if("SELECTION"===Ue||"TM_SELECTED_TEXT"===Ue){let nt=this._model.getValueInRange(this._selection)||void 0,Dt=this._selection.startLineNumber!==this._selection.endLineNumber;if(!nt&&this._overtypingCapturer){const Lt=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Lt&&(nt=Lt.value,Dt=Lt.multiline)}if(nt&&Dt&&ce.snippet){const Lt=this._model.getLineContent(this._selection.startLineNumber),Ze=(0,l.V8)(Lt,0,this._selection.startColumn-1);let ae=Ze;ce.snippet.walk(he=>he!==ce&&(he instanceof U.xv&&(ae=(0,l.V8)((0,l.uq)(he.value).pop())),!0));const _e=(0,l.Mh)(ae,Ze);nt=nt.replace(/(\r\n|\r|\n)(.*)/g,(he,le,Q)=>`${le}${ae.substr(_e)}${Q}`)}return nt}if("TM_CURRENT_LINE"===Ue)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===Ue){const nt=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return nt&&nt.word||void 0}return"TM_LINE_INDEX"===Ue?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===Ue?String(this._selection.positionLineNumber):"CURSOR_INDEX"===Ue?String(this._selectionIdx):"CURSOR_NUMBER"===Ue?String(this._selectionIdx+1):void 0}}class Ee{constructor(ce,Ue){this._labelService=ce,this._model=Ue}resolve(ce){const{name:Ue}=ce;if("TM_FILENAME"===Ue)return $.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===Ue){const nt=$.EZ(this._model.uri.fsPath),Dt=nt.lastIndexOf(".");return Dt<=0?nt:nt.slice(0,Dt)}return"TM_DIRECTORY"===Ue?"."===$.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,j.XX)(this._model.uri)):"TM_FILEPATH"===Ue?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===Ue?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class Le{constructor(ce,Ue,nt,Dt){this._readClipboardText=ce,this._selectionIdx=Ue,this._selectionCount=nt,this._spread=Dt}resolve(ce){if("CLIPBOARD"!==ce.name)return;const Ue=this._readClipboardText();if(Ue){if(this._spread){const nt=Ue.split(/\r\n|\n|\r/).filter(Dt=>!(0,l.m5)(Dt));if(nt.length===this._selectionCount)return nt[this._selectionIdx]}return Ue}}}let Ne=class{constructor(ce,Ue,nt){this._model=ce,this._selection=Ue,this._languageConfigurationService=nt}resolve(ce){const{name:Ue}=ce,nt=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),Dt=this._languageConfigurationService.getLanguageConfiguration(nt).comments;if(Dt){if("LINE_COMMENT"===Ue)return Dt.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===Ue)return Dt.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===Ue)return Dt.blockCommentEndToken||void 0}}};var ce;Ne=function($e,ce,Ue,nt){var Ze,Dt=arguments.length,Lt=Dt<3?ce:null===nt?nt=Object.getOwnPropertyDescriptor(ce,Ue):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Lt=Reflect.decorate($e,ce,Ue,nt);else for(var ae=$e.length-1;ae>=0;ae--)(Ze=$e[ae])&&(Lt=(Dt<3?Ze(Lt):Dt>3?Ze(ce,Ue,Lt):Ze(ce,Ue))||Lt);return Dt>3&&Lt&&Object.defineProperty(ce,Ue,Lt),Lt}([(2,ce=I.c_,function(Ue,nt){ce(Ue,nt,2)})],Ne);class oe{constructor(){this._date=new Date}resolve(ce){const{name:Ue}=ce;return"CURRENT_YEAR"===Ue?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===Ue?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===Ue?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===Ue?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===Ue?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===Ue?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===Ue?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===Ue?oe.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===Ue?oe.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===Ue?oe.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===Ue?oe.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===Ue?String(Math.floor(this._date.getTime()/1e3)):void 0}}oe.dayNames=[N.NC("Sunday","Sunday"),N.NC("Monday","Monday"),N.NC("Tuesday","Tuesday"),N.NC("Wednesday","Wednesday"),N.NC("Thursday","Thursday"),N.NC("Friday","Friday"),N.NC("Saturday","Saturday")],oe.dayNamesShort=[N.NC("SundayShort","Sun"),N.NC("MondayShort","Mon"),N.NC("TuesdayShort","Tue"),N.NC("WednesdayShort","Wed"),N.NC("ThursdayShort","Thu"),N.NC("FridayShort","Fri"),N.NC("SaturdayShort","Sat")],oe.monthNames=[N.NC("January","January"),N.NC("February","February"),N.NC("March","March"),N.NC("April","April"),N.NC("May","May"),N.NC("June","June"),N.NC("July","July"),N.NC("August","August"),N.NC("September","September"),N.NC("October","October"),N.NC("November","November"),N.NC("December","December")],oe.monthNamesShort=[N.NC("JanuaryShort","Jan"),N.NC("FebruaryShort","Feb"),N.NC("MarchShort","Mar"),N.NC("AprilShort","Apr"),N.NC("MayShort","May"),N.NC("JuneShort","Jun"),N.NC("JulyShort","Jul"),N.NC("AugustShort","Aug"),N.NC("SeptemberShort","Sep"),N.NC("OctoberShort","Oct"),N.NC("NovemberShort","Nov"),N.NC("DecemberShort","Dec")];class we{constructor(ce){this._workspaceService=ce}resolve(ce){if(!this._workspaceService)return;const Ue=(0,H.uT)(this._workspaceService.getWorkspace());if(Ue){if("WORKSPACE_NAME"===ce.name)return this._resolveWorkspaceName(Ue);if("WORKSPACE_FOLDER"===ce.name)return this._resoveWorkspacePath(Ue)}}_resolveWorkspaceName(ce){if((0,H.eb)(ce))return $.EZ(ce.uri.path);let Ue=$.EZ(ce.configPath.path);return Ue.endsWith(H.A6)&&(Ue=Ue.substr(0,Ue.length-H.A6.length-1)),Ue}_resoveWorkspacePath(ce){if((0,H.eb)(ce))return B(ce.uri.fsPath);const Ue=$.EZ(ce.configPath.path);let nt=ce.configPath.fsPath;return nt.endsWith(Ue)&&(nt=nt.substr(0,nt.length-Ue.length-1)),nt?B(nt):"/"}}class xe{resolve(ce){const{name:Ue}=ce;return"RANDOM"===Ue?Math.random().toString().slice(-6):"RANDOM_HEX"===Ue?Math.random().toString(16).slice(-6):"UUID"===Ue?(0,ne.R)():void 0}}class de{constructor(ce,Ue,nt){this._editor=ce,this._snippet=Ue,this._snippetLineLeadingWhitespace=nt,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,d.vM)(Ue.placeholders,U.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(ce){this._offset=ce.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(-1===this._offset)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const ce=this._editor.getModel();this._editor.changeDecorations(Ue=>{for(const nt of this._snippet.placeholders){const Dt=this._snippet.offset(nt),Lt=this._snippet.fullLen(nt),Ze=D.e.fromPositions(ce.getPositionAt(this._offset+Dt),ce.getPositionAt(this._offset+Dt+Lt)),_e=Ue.addDecoration(Ze,nt.isFinalTabstop?de._decor.inactiveFinal:de._decor.inactive);this._placeholderDecorations.set(nt,_e)}})}move(ce){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const Dt=[];for(const Lt of this._placeholderGroups[this._placeholderGroupsIdx])if(Lt.transform){const Ze=this._placeholderDecorations.get(Lt),ae=this._editor.getModel().getDecorationRange(Ze),_e=this._editor.getModel().getValueInRange(ae),he=Lt.transform.resolve(_e).split(/\r\n|\r|\n/);for(let le=1;le<he.length;le++)he[le]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+he[le]);Dt.push(y.h.replace(ae,he.join(this._editor.getModel().getEOL())))}Dt.length>0&&this._editor.executeEdits("snippet.placeholderTransform",Dt)}let Ue=!1;!0===ce&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,Ue=!0):!1===ce&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,Ue=!0);const nt=this._editor.getModel().changeDecorations(Dt=>{const Lt=new Set,Ze=[];for(const ae of this._placeholderGroups[this._placeholderGroupsIdx]){const _e=this._placeholderDecorations.get(ae),he=this._editor.getModel().getDecorationRange(_e);Ze.push(new w.Y(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn)),Ue=Ue&&this._hasPlaceholderBeenCollapsed(ae),Dt.changeDecorationOptions(_e,ae.isFinalTabstop?de._decor.activeFinal:de._decor.active),Lt.add(ae);for(const le of this._snippet.enclosingPlaceholders(ae)){const Q=this._placeholderDecorations.get(le);Dt.changeDecorationOptions(Q,le.isFinalTabstop?de._decor.activeFinal:de._decor.active),Lt.add(le)}}for(const[ae,_e]of this._placeholderDecorations)Lt.has(ae)||Dt.changeDecorationOptions(_e,ae.isFinalTabstop?de._decor.inactiveFinal:de._decor.inactive);return Ze});return Ue?this.move(ce):nt??[]}_hasPlaceholderBeenCollapsed(ce){let Ue=ce;for(;Ue;){if(Ue instanceof U.Vm){const nt=this._placeholderDecorations.get(Ue);if(this._editor.getModel().getDecorationRange(nt).isEmpty()&&Ue.toString().length>0)return!0}Ue=Ue.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return 0===this._snippet.placeholders.length||1===this._snippet.placeholders.length&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const ce=new Map;for(const Ue of this._placeholderGroups){let nt;for(const Dt of Ue){if(Dt.isFinalTabstop)break;nt||(nt=[],ce.set(Dt.index,nt));const Lt=this._placeholderDecorations.get(Dt),Ze=this._editor.getModel().getDecorationRange(Lt);if(!Ze){ce.delete(Dt.index);break}nt.push(Ze)}}return ce}get activeChoice(){if(!this._placeholderDecorations)return;const ce=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!ce?.choice)return;const Ue=this._placeholderDecorations.get(ce);if(!Ue)return;const nt=this._editor.getModel().getDecorationRange(Ue);return nt?{range:nt,choice:ce.choice}:void 0}get hasChoice(){let ce=!1;return this._snippet.walk(Ue=>(ce=Ue instanceof U.Lv,!ce)),ce}merge(ce){const Ue=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(nt=>{for(const Dt of this._placeholderGroups[this._placeholderGroupsIdx]){const Lt=ce.shift();console.assert(-1!==Lt._offset),console.assert(!Lt._placeholderDecorations);const Ze=Lt._snippet.placeholderInfo.last.index;for(const _e of Lt._snippet.placeholderInfo.all)_e.index=_e.isFinalTabstop?Dt.index+(Ze+1)/this._nestingLevel:Dt.index+_e.index/this._nestingLevel;this._snippet.replace(Dt,Lt._snippet.children);const ae=this._placeholderDecorations.get(Dt);nt.removeDecoration(ae),this._placeholderDecorations.delete(Dt);for(const _e of Lt._snippet.placeholders){const he=Lt._snippet.offset(_e),le=Lt._snippet.fullLen(_e),Q=D.e.fromPositions(Ue.getPositionAt(Lt._offset+he),Ue.getPositionAt(Lt._offset+he+le)),ve=nt.addDecoration(Q,de._decor.inactive);this._placeholderDecorations.set(_e,ve)}}this._placeholderGroups=(0,d.vM)(this._snippet.placeholders,U.Vm.compareByIndex)})}}de._decor={active:P.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:P.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:P.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:P.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const ke={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let ze=class el{constructor(ce,Ue,nt=ke,Dt){this._editor=ce,this._template=Ue,this._options=nt,this._languageConfigurationService=Dt,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(ce,Ue,nt,Dt,Lt){const Ze=ce.getLineContent(Ue.lineNumber),ae=(0,l.V8)(Ze,0,Ue.column-1);let _e;return nt.walk(he=>{if(!(he instanceof U.xv)||he.parent instanceof U.Lv)return!0;const le=he.value.split(/\r\n|\r|\n/);if(Dt){const ve=nt.offset(he);if(0===ve)le[0]=ce.normalizeIndentation(le[0]);else{_e=_e??nt.toString();const Ae=_e.charCodeAt(ve-1);(10===Ae||13===Ae)&&(le[0]=ce.normalizeIndentation(ae+le[0]))}for(let Ae=1;Ae<le.length;Ae++)le[Ae]=ce.normalizeIndentation(ae+le[Ae])}const Q=le.join(ce.getEOL());return Q!==he.value&&(he.parent.replace(he,[new U.xv(Q)]),_e=void 0),!0}),ae}static adjustSelection(ce,Ue,nt,Dt){if(0!==nt||0!==Dt){const{positionLineNumber:Lt,positionColumn:Ze}=Ue,he=ce.validateRange({startLineNumber:Lt,startColumn:Ze-nt,endLineNumber:Lt,endColumn:Ze+Dt});Ue=w.Y.createWithDirection(he.startLineNumber,he.startColumn,he.endLineNumber,he.endColumn,Ue.getDirection())}return Ue}static createEditsAndSnippetsFromSelections(ce,Ue,nt,Dt,Lt,Ze,ae,_e,he){const le=[],Q=[];if(!ce.hasModel())return{edits:le,snippets:Q};const ve=ce.getModel(),Ae=ce.invokeWithinContext(mt=>mt.get(H.ec)),dt=ce.invokeWithinContext(mt=>new Ee(mt.get(O.e),ve)),st=()=>ae,et=ve.getValueInRange(el.adjustSelection(ve,ce.getSelection(),nt,0)),Qe=ve.getValueInRange(el.adjustSelection(ve,ce.getSelection(),0,Dt)),tt=ve.getLineFirstNonWhitespaceColumn(ce.getSelection().positionLineNumber),vt=ce.getSelections().map((mt,_t)=>({selection:mt,idx:_t})).sort((mt,_t)=>D.e.compareRangesUsingStarts(mt.selection,_t.selection));for(const{selection:mt,idx:_t}of vt){let Kt=el.adjustSelection(ve,mt,nt,0),Bt=el.adjustSelection(ve,mt,0,Dt);et!==ve.getValueInRange(Kt)&&(Kt=mt),Qe!==ve.getValueInRange(Bt)&&(Bt=mt);const Ge=mt.setStartPosition(Kt.startLineNumber,Kt.startColumn).setEndPosition(Bt.endLineNumber,Bt.endColumn),ut=(new U.Yj).parse(Ue,!0,Lt),Ut=Ge.getStartPosition(),hn=el.adjustWhitespace(ve,Ut,ut,Ze||_t>0&&tt!==ve.getLineFirstNonWhitespaceColumn(mt.positionLineNumber),!0);ut.resolveVariables(new M([dt,new Le(st,_t,vt.length,"spread"===ce.getOption(73)),new Se(ve,mt,_t,_e),new Ne(ve,mt,he),new oe,new we(Ae),new xe])),le[_t]=y.h.replace(Ge,ut.toString()),le[_t].identifier={major:_t,minor:0},le[_t]._isTracked=!0,Q[_t]=new de(ce,ut,hn)}return{edits:le,snippets:Q}}static createEditsAndSnippetsFromEdits(ce,Ue,nt,Dt,Lt,Ze,ae){if(!ce.hasModel()||0===Ue.length)return{edits:[],snippets:[]};const _e=[],he=ce.getModel(),le=new U.Yj,Q=new U.y1,ve=new M([ce.invokeWithinContext(dt=>new Ee(dt.get(O.e),he)),new Le(()=>Lt,0,ce.getSelections().length,"spread"===ce.getOption(73)),new Se(he,ce.getSelection(),0,Ze),new Ne(he,ce.getSelection(),ae),new oe,new we(ce.invokeWithinContext(dt=>dt.get(H.ec))),new xe]);Ue=Ue.sort((dt,st)=>D.e.compareRangesUsingStarts(dt.range,st.range));let Ae=0;for(let dt=0;dt<Ue.length;dt++){const{range:st,template:et}=Ue[dt];if(dt>0){const _t=D.e.fromPositions(Ue[dt-1].range.getEndPosition(),st.getStartPosition()),Kt=new U.xv(he.getValueInRange(_t));Q.appendChild(Kt),Ae+=Kt.value.length}le.parseFragment(et,Q),Q.resolveVariables(ve);const Qe=Q.toString(),tt=Qe.slice(Ae);Ae=Qe.length;const vt=y.h.replace(st,tt);vt.identifier={major:dt,minor:0},vt._isTracked=!0,_e.push(vt)}return le.ensureFinalTabstop(Q,nt,!0),{edits:_e,snippets:[new de(ce,Q,"")]}}dispose(){(0,t.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:ce,snippets:Ue}="string"==typeof this._template?el.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):el.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=Ue,this._editor.executeEdits("snippet",ce,nt=>{const Dt=nt.filter(Lt=>!!Lt.identifier);for(let Lt=0;Lt<Ue.length;Lt++)Ue[Lt].initialize(Dt[Lt].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):Dt.map(Lt=>w.Y.fromPositions(Lt.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(ce,Ue=ke){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,ce]);const{edits:nt,snippets:Dt}=el.createEditsAndSnippetsFromSelections(this._editor,ce,Ue.overwriteBefore,Ue.overwriteAfter,!0,Ue.adjustWhitespace,Ue.clipboardText,Ue.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",nt,Lt=>{const Ze=Lt.filter(_e=>!!_e.identifier);for(let _e=0;_e<Dt.length;_e++)Dt[_e].initialize(Ze[_e].textChange);const ae=Dt[0].isTrivialSnippet;if(!ae){for(const _e of this._snippets)_e.merge(Dt);console.assert(0===Dt.length)}return this._snippets[0].hasPlaceholder&&!ae?this._move(void 0):Ze.map(_e=>w.Y.fromPositions(_e.range.getEndPosition()))})}next(){const ce=this._move(!0);this._editor.setSelections(ce),this._editor.revealPositionInCenterIfOutsideViewport(ce[0].getPosition())}prev(){const ce=this._move(!1);this._editor.setSelections(ce),this._editor.revealPositionInCenterIfOutsideViewport(ce[0].getPosition())}_move(ce){const Ue=[];for(const nt of this._snippets){const Dt=nt.move(ce);Ue.push(...Dt)}return Ue}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const ce=this._editor.getSelections();if(ce.length<this._snippets.length)return!1;const Ue=new Map;for(const nt of this._snippets){const Dt=nt.computePossibleSelections();if(0===Ue.size)for(const[Lt,Ze]of Dt){Ze.sort(D.e.compareRangesUsingStarts);for(const ae of ce)if(Ze[0].containsRange(ae)){Ue.set(Lt,[]);break}}if(0===Ue.size)return!1;Ue.forEach((Lt,Ze)=>{Lt.push(...Dt.get(Ze))})}ce.sort(D.e.compareRangesUsingStarts);for(const[nt,Dt]of Ue)if(Dt.length===ce.length){Dt.sort(D.e.compareRangesUsingStarts);for(let Lt=0;Lt<Dt.length;Lt++)if(!Dt[Lt].containsRange(ce[Lt])){Ue.delete(nt);continue}}else Ue.delete(nt);return Ue.size>0}};ze=function($e,ce,Ue,nt){var Ze,Dt=arguments.length,Lt=Dt<3?ce:null===nt?nt=Object.getOwnPropertyDescriptor(ce,Ue):nt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Lt=Reflect.decorate($e,ce,Ue,nt);else for(var ae=$e.length-1;ae>=0;ae--)(Ze=$e[ae])&&(Lt=(Dt<3?Ze(Lt):Dt>3?Ze(ce,Ue,Lt):Ze(ce,Ue))||Lt);return Dt>3&&Lt&&Object.defineProperty(ce,Ue,Lt),Lt}([function($e,ce){return function(Ue,nt){ce(Ue,nt,3)}}(0,I.c_)],ze)},32638:(Et,X,e)=>{"use strict";e.r(X);var a,d=e(80142),t=e(26845),l=e(90790),S=e(55276),v=e(73888),T=e(98463),C=e(8680),E=e(27131),L=e(56110),_=e(48648),s=e(18723),n=function(y,D,w,I){return new(w||(w=Promise))(function(O,H){function U(B){try{F(I.next(B))}catch(z){H(z)}}function K(B){try{F(I.throw(B))}catch(z){H(z)}}function F(B){B.done?O(B.value):function P(O){return O instanceof w?O:new w(function(H){H(O)})}(B.value).then(U,K)}F((I=I.apply(y,D||[])).next())})};let p=class extends d.JT{constructor(D,w){super(),this._sessionStore=new d.SL,this._ranges=[],this._rangesVersionId=0,this._editor=D,this._languageFeaturesService=w,this.stickyScrollWidget=new b(this._editor),this._register(this._editor.onDidChangeConfiguration(I=>{I.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new _.pY(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(!1===this._editor.getOption(34).stickyScroll.enabled)return this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),void this._sessionStore.clear();this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(w=>this._onTokensChange(w))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(D){const w=this.stickyScrollWidget.getCurrentLines();for(const I of w)for(const P of D.ranges)if(I>=P.fromLineNumber&&I<=P.toLineNumber)return!0;return!1}_onTokensChange(D){this._needsUpdate(D)&&this._update(!1)}_update(D=!1){var w,I;return n(this,void 0,void 0,function*(){D&&(null===(w=this._cts)||void 0===w||w.dispose(!0),this._cts=new v.A,yield this._updateOutlineModel(this._cts.token));const P=null===(I=this._editor._getViewModel())||void 0===I?void 0:I.getHiddenAreas();if(P)for(const O of P)this._ranges=this._ranges.filter(H=>!(H[0]>=O.startLineNumber&&H[1]<=O.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(D,w){if(D?.children.size){let I=!1;for(const P of D?.children.values()){const O=P.symbol.kind;(4===O||8===O||11===O||10===O||5===O||1===O)&&(I=!0,this._findLineRanges(P,w+1))}I||this._addOutlineRanges(D,w)}else this._addOutlineRanges(D,w)}_addOutlineRanges(D,w){let I=0,P=0;for(;D;){const O=D.symbol.kind;if((4===O||8===O||11===O||10===O||5===O||1===O)&&(I=D?.symbol.range.startLineNumber,P=D?.symbol.range.endLineNumber,this._ranges.push([I,P,w]),w--),!(D.parent instanceof S.sT))break;D=D.parent}}_updateOutlineModel(D){return n(this,void 0,void 0,function*(){if(this._editor.hasModel()){const w=this._editor.getModel(),I=w.getVersionId(),P=yield S.C3.create(this._languageFeaturesService.documentSymbolProvider,w,D);if(D.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=I;for(const O of P.children.values()){if(O instanceof S.sT){const U=O.symbol.kind;this._findLineRanges(O,4===U||8===U||11===U||10===U||5===U||1===U?1:0)}this._ranges=this._ranges.sort(function(U,K){return U[0]!==K[0]?U[0]-K[0]:U[1]!==K[1]?K[1]-U[1]:U[2]-K[2]});let H=[];for(const[U,K]of this._ranges.entries()){const[F,B,z]=K;H[0]===F&&H[1]===B?this._ranges.splice(U,1):H=K}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const D=this._editor.getOption(61),w=this._editor.getModel();if(this._rangesVersionId!==w.getVersionId())return;const I=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const P=new Set;for(const[O,H]of this._ranges.entries()){const[U,K,F]=H;if(K-U>0&&""!==w.getLineContent(U)){const B=(F-1)*D,z=F*D,$=this._editor.getBottomForLineNumber(U)-I,j=this._editor.getTopForLineNumber(K)-I,ne=this._editor.getBottomForLineNumber(K)-I;if(P.has(U))this._ranges.splice(O,1);else{if(B>=j-1&&B<ne-2){P.add(U),this.stickyScrollWidget.pushCodeLine(new g(U,F,this._editor,-1,ne-z));break}z>$&&z<ne-1&&(P.add(U),this.stickyScrollWidget.pushCodeLine(new g(U,F,this._editor,0,0)))}}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};var D;p.ID="store.contrib.stickyScrollController",p=function(y,D,w,I){var H,P=arguments.length,O=P<3?D:null===I?I=Object.getOwnPropertyDescriptor(D,w):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(y,D,w,I);else for(var U=y.length-1;U>=0;U--)(H=y[U])&&(O=(P<3?H(O):P>3?H(D,w,O):H(D,w))||O);return P>3&&O&&Object.defineProperty(D,w,O),O}([(1,D=l.p,function(w,I){D(w,I,1)})],p);const u=null===(a=window.trustedTypes)||void 0===a?void 0:a.createPolicy("stickyScrollViewLayer",{createHTML:y=>y});class g{constructor(D,w,I,P,O){this._lineNumber=D,this._depth=w,this._editor=I,this._zIndex=P,this._relativePosition=O,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const D=document.createElement("div"),w=this._editor._getViewModel(),I=w.coordinatesConverter.convertModelPositionToViewPosition(new s.L(this._lineNumber,1)).lineNumber,P=w.getViewLineRenderingData(I);let O;try{O=L.Kp.filter(P.inlineDecorations,I,P.minColumn,P.maxColumn)}catch{O=[]}const H=new E.IJ(!0,!0,P.content,P.continuesWithWrappedLine,P.isBasicASCII,P.containsRTL,0,P.tokens,O,P.tabSize,P.startVisibleColumn,1,1,1,100,"none",!0,!0,null),U=(0,C.l$)(400);let K;(0,E.d1)(H,U),K=u?u.createHTML(U.build()):U.build();const F=document.createElement("span");F.style.backgroundColor="var(--vscode-editorStickyScroll-background)",F.style.overflow="hidden",F.style.whiteSpace="nowrap",F.style.display="inline-block",F.style.lineHeight=this._editor.getOption(61).toString()+"px",F.innerHTML=K;const B=document.createElement("span");B.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",B.style.backgroundColor="var(--vscode-editorStickyScroll-background)",B.style.color="var(--vscode-editorLineNumber-foreground)",B.style.display="inline-block",B.style.lineHeight=this._editor.getOption(61).toString()+"px";const z=document.createElement("span");return z.innerText=this._lineNumber.toString(),z.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",z.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",z.style.backgroundColor="var(--vscode-editorStickyScroll-background)",z.style.textAlign="right",z.style.float="left",z.style.lineHeight=this._editor.getOption(61).toString()+"px",B.appendChild(z),D.onclick=$=>{$.stopPropagation(),$.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},D.onmouseover=$=>{z.style.background="var(--vscode-editorStickyScrollHover-background)",F.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",B.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",D.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",z.style.cursor="pointer",F.style.cursor="pointer",D.style.cursor="pointer",B.style.cursor="pointer"},D.onmouseleave=$=>{z.style.background="var(--vscode-editorStickyScroll-background)",F.style.backgroundColor="var(--vscode-editorStickyScroll-background)",B.style.backgroundColor="var(--vscode-editorStickyScroll-background)",D.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(F),this._editor.applyFontInfo(z),D.appendChild(B),D.appendChild(F),D.style.zIndex=this._zIndex.toString(),D.style.backgroundColor="var(--vscode-editorStickyScroll-background)",D.style.overflow="hidden",D.style.whiteSpace="nowrap",D.style.width="100%",D.style.lineHeight=this._editor.getOption(61).toString()+"px",D.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(D.style.position="relative",D.style.top=this._relativePosition+"px",D.style.width="100%"),D}}class b{constructor(D){this._editor=D,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const D=[];for(const w of this.arrayOfCodeLines)D.push(w.lineNumber);return D}pushCodeLine(D){this.arrayOfCodeLines.push(D)}updateRootNode(){let D=0;for(const w of this.arrayOfCodeLines)D+=w.effectiveLineHeight,this.rootDomNode.appendChild(w.getDomNode());this.rootDomNode.style.height=D.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,T.PO(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,t._K)(p.ID,p)},83961:(Et,X,e)=>{"use strict";e.d(X,{_:()=>v,t:()=>S});var d=e(64023),t=e(25715),l=e(73879);class S{constructor(C,E){this.leadingLineContent=C,this.characterCountDelta=E}}class v{constructor(C,E,L,_,s,m,c=t.mX.default,n){this.clipboardText=n,this._snippetCompareFn=v._compareCompletionItems,this._items=C,this._column=E,this._wordDistance=_,this._options=s,this._refilterKind=1,this._lineContext=L,this._fuzzyScoreOptions=c,"top"===m?this._snippetCompareFn=v._compareCompletionItemsSnippetsUp:"bottom"===m&&(this._snippetCompareFn=v._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(C){(this._lineContext.leadingLineContent!==C.leadingLineContent||this._lineContext.characterCountDelta!==C.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<C.characterCountDelta&&this._filteredItems?2:1,this._lineContext=C)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const C=new Set;for(const[E,L]of this._providerInfo)L&&C.add(E);return C}adopt(C){const E=[];for(let L=0;L<this._items.length;)C.has(this._items[L].provider)?L++:(E.push(this._items[L]),this._items[L]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,E}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const C=[],{leadingLineContent:E,characterCountDelta:L}=this._lineContext;let _="",s="";const m=1===this._refilterKind?this._items:this._filteredItems,c=[],n=!this._options.filterGraceful||m.length>2e3?t.EW:t.l7;for(let a=0;a<m.length;a++){const p=m[a];if(p.isInvalid)continue;this._providerInfo.set(p.provider,Boolean(p.container.incomplete));const u=p.position.column-p.editStart.column,g=u+L-(p.position.column-this._column);if(_.length!==g&&(_=0===g?"":E.slice(-g),s=_.toLowerCase()),p.word=_,0===g)p.score=t.CL.Default;else{let b=0;for(;b<u;){const y=_.charCodeAt(b);if(32!==y&&9!==y)break;b+=1}if(b>=g)p.score=t.CL.Default;else if("string"==typeof p.completion.filterText){const y=n(_,s,b,p.completion.filterText,p.filterTextLow,0,this._fuzzyScoreOptions);if(!y)continue;0===(0,l.zY)(p.completion.filterText,p.textLabel)?p.score=y:(p.score=(0,t.jB)(_,s,b,p.textLabel,p.labelLow,0),p.score[0]=y[0])}else{const y=n(_,s,b,p.textLabel,p.labelLow,0,this._fuzzyScoreOptions);if(!y)continue;p.score=y}}p.idx=a,p.distance=this._wordDistance.distance(p.position,p.completion),c.push(p),C.push(p.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:C.length?(0,d.HW)(C.length-.85,C,(a,p)=>a-p):0}}static _compareCompletionItems(C,E){return C.score[0]>E.score[0]?-1:C.score[0]<E.score[0]?1:C.distance<E.distance?-1:C.distance>E.distance?1:C.idx<E.idx?-1:C.idx>E.idx?1:0}static _compareCompletionItemsSnippetsDown(C,E){if(C.completion.kind!==E.completion.kind){if(27===C.completion.kind)return 1;if(27===E.completion.kind)return-1}return v._compareCompletionItems(C,E)}static _compareCompletionItemsSnippetsUp(C,E){if(C.completion.kind!==E.completion.kind){if(27===C.completion.kind)return-1;if(27===E.completion.kind)return 1}return v._compareCompletionItems(C,E)}}},83956:(Et,X,e)=>{"use strict";e.d(X,{A9:()=>w,GI:()=>y,ZJ:()=>P,_y:()=>b,i5:()=>$,kL:()=>H,tG:()=>j,wg:()=>z});var d=e(73888),t=e(4125),l=e(25715),S=e(80142),v=e(631),T=e(72715),C=e(59547),E=e(18723),L=e(98570),_=e(1149),s=e(61254),m=e(55197),c=e(74918),n=e(66549),a=e(16468),p=e(90790),u=e(76613),g=function(ne,N,V,Z){return new(V||(V=Promise))(function(M,Se){function Ee(oe){try{Ne(Z.next(oe))}catch(we){Se(we)}}function Le(oe){try{Ne(Z.throw(oe))}catch(we){Se(we)}}function Ne(oe){oe.done?M(oe.value):function fe(M){return M instanceof V?M:new V(function(Se){Se(M)})}(oe.value).then(Ee,Le)}Ne((Z=Z.apply(ne,N||[])).next())})};const b={Visible:u.iX,HasFocusedSuggestion:new a.uy("suggestWidgetHasFocusedSuggestion",!1,(0,m.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new a.uy("suggestWidgetDetailsVisible",!1,(0,m.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new a.uy("suggestWidgetMultipleSuggestions",!1,(0,m.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new a.uy("suggestionMakesTextEdit",!0,(0,m.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new a.uy("acceptSuggestionOnEnter",!0,(0,m.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new a.uy("suggestionHasInsertAndReplaceRange",!1,(0,m.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new a.uy("suggestionInsertMode",void 0,{type:"string",description:(0,m.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new a.uy("suggestionCanResolve",!1,(0,m.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},y=new c.eH("suggestWidgetStatusBar");class D{constructor(N,V,Z,fe){this.position=N,this.completion=V,this.container=Z,this.provider=fe,this.isInvalid=!1,this.score=l.CL.Default,this.distance=0,this.textLabel="string"==typeof V.label?V.label:V.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=V.sortText&&V.sortText.toLowerCase(),this.filterTextLow=V.filterText&&V.filterText.toLowerCase(),this.extensionId=V.extensionId,L.e.isIRange(V.range)?(this.editStart=new E.L(V.range.startLineNumber,V.range.startColumn),this.editInsertEnd=new E.L(V.range.endLineNumber,V.range.endColumn),this.editReplaceEnd=new E.L(V.range.endLineNumber,V.range.endColumn),this.isInvalid=this.isInvalid||L.e.spansMultipleLines(V.range)||V.range.startLineNumber!==N.lineNumber):(this.editStart=new E.L(V.range.insert.startLineNumber,V.range.insert.startColumn),this.editInsertEnd=new E.L(V.range.insert.endLineNumber,V.range.insert.endColumn),this.editReplaceEnd=new E.L(V.range.replace.endLineNumber,V.range.replace.endColumn),this.isInvalid=this.isInvalid||L.e.spansMultipleLines(V.range.insert)||L.e.spansMultipleLines(V.range.replace)||V.range.insert.startLineNumber!==N.lineNumber||V.range.replace.startLineNumber!==N.lineNumber||V.range.insert.startColumn!==V.range.replace.startColumn),"function"!=typeof fe.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(N){return g(this,void 0,void 0,function*(){if(!this._resolveCache){const V=N.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,N)).then(Z=>{Object.assign(this.completion,Z),this._isResolved=!0,V.dispose()},Z=>{(0,t.n2)(Z)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class w{constructor(N=2,V=new Set,Z=new Set,fe=!0){this.snippetSortOrder=N,this.kindFilter=V,this.providerFilter=Z,this.showDeprecated=fe}}function P(){}w.default=new w;class O{constructor(N,V,Z,fe){this.items=N,this.needsClipboard=V,this.durations=Z,this.disposable=fe}}function H(ne,N,V,Z=w.default,fe={triggerKind:0},M=d.T.None){return g(this,void 0,void 0,function*(){const Se=new v.G(!0);V=V.clone();const Ee=N.getWordAtPosition(V),Le=Ee?new L.e(V.lineNumber,Ee.startColumn,V.lineNumber,Ee.endColumn):L.e.fromPositions(V),Ne={replace:Le,insert:Le.setEndPosition(V.lineNumber,V.column)},oe=[],we=new S.SL,xe=[];let pe=!1;const Te=(ke,ze,$e)=>{var ce,Ue,nt;let Dt=!1;if(!ze)return Dt;for(const Lt of ze.suggestions)if(!Z.kindFilter.has(Lt.kind)){if(!Z.showDeprecated&&(null===(ce=Lt?.tags)||void 0===ce?void 0:ce.includes(1)))continue;Lt.range||(Lt.range=Ne),Lt.sortText||(Lt.sortText="string"==typeof Lt.label?Lt.label:Lt.label.label),!pe&&Lt.insertTextRules&&4&Lt.insertTextRules&&(pe=s.Yj.guessNeedsClipboard(Lt.insertText)),oe.push(new D(V,Lt,ze,ke)),Dt=!0}return(0,S.Wf)(ze)&&we.add(ze),xe.push({providerName:null!==(Ue=ke._debugDisplayName)&&void 0!==Ue?Ue:"unknown_provider",elapsedProvider:null!==(nt=ze.duration)&&void 0!==nt?nt:-1,elapsedOverall:$e.elapsed()}),Dt},de=(()=>g(this,void 0,void 0,function*(){}))();for(const ke of ne.orderedGroups(N)){let ze=!1;if(yield Promise.all(ke.map($e=>g(this,void 0,void 0,function*(){if(!(Z.providerFilter.size>0)||Z.providerFilter.has($e))try{const ce=new v.G(!0),Ue=yield $e.provideCompletionItems(N,V,fe,M);ze=Te($e,Ue,ce)||ze}catch(ce){(0,t.Cp)(ce)}}))),ze||M.isCancellationRequested)break}return yield de,M.isCancellationRequested?(we.dispose(),Promise.reject(new t.FU)):new O(oe.sort(z(Z.snippetSortOrder)),pe,{entries:xe,elapsed:Se.elapsed()},we)})}function U(ne,N){if(ne.sortTextLow&&N.sortTextLow){if(ne.sortTextLow<N.sortTextLow)return-1;if(ne.sortTextLow>N.sortTextLow)return 1}return ne.textLabel<N.textLabel?-1:ne.textLabel>N.textLabel?1:ne.completion.kind-N.completion.kind}const B=new Map;function z(ne){return B.get(ne)}function $(ne,N){var V;null===(V=ne.getContribution("editor.contrib.suggestController"))||void 0===V||V.triggerSuggest((new Set).add(N),void 0,!0)}B.set(0,function K(ne,N){if(ne.completion.kind!==N.completion.kind){if(27===ne.completion.kind)return-1;if(27===N.completion.kind)return 1}return U(ne,N)}),B.set(2,function F(ne,N){if(ne.completion.kind!==N.completion.kind){if(27===ne.completion.kind)return 1;if(27===N.completion.kind)return-1}return U(ne,N)}),B.set(1,U),n.P0.registerCommand("_executeCompletionItemProvider",(ne,...N)=>g(void 0,void 0,void 0,function*(){const[V,Z,fe,M]=N;(0,T.p_)(C.o.isUri(V)),(0,T.p_)(E.L.isIPosition(Z)),(0,T.p_)("string"==typeof fe||!fe),(0,T.p_)("number"==typeof M||!M);const{completionProvider:Se}=ne.get(p.p),Ee=yield ne.get(_.S).createModelReference(V);try{const Le={incomplete:!1,suggestions:[]},Ne=[],oe=yield H(Se,Ee.object.textEditorModel,E.L.lift(Z),void 0,{triggerCharacter:fe,triggerKind:fe?1:0});for(const we of oe.items)Ne.length<(M??0)&&Ne.push(we.resolve(d.T.None)),Le.incomplete=Le.incomplete||we.container.incomplete,Le.suggestions.push(we.completion);try{return yield Promise.all(Ne),Le}finally{setTimeout(()=>oe.disposable.dispose(),100)}}finally{Ee.dispose()}}));class j{static isAllOff(N){return"off"===N.other&&"off"===N.comments&&"off"===N.strings}static isAllOn(N){return"on"===N.other&&"on"===N.comments&&"on"===N.strings}static valueFor(N,V){switch(V){case 1:return N.comments;case 2:return N.strings;default:return N.other}}}},69207:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{SuggestController:()=>gt,TriggerSuggestAction:()=>nn});var d=e(59797),t=e(64023),l=e(48648),S=e(73888),v=e(4125),T=e(3778),C=e(37451),E=e(80142),L=e(8841),_=e(631),s=e(72715),m=e(46780),c=e(26845),n=e(65484),a=e(18723),p=e(98570),u=e(82290),g=e(31583),b=e(61254),y=e(82557),D=e(16468);let P=class hu{constructor(ht,Rt){this._editor=ht,this._enabled=!1,this._ckAtEnd=hu.AtEnd.bindTo(Rt),this._configListener=this._editor.onDidChangeConfiguration(Vt=>Vt.hasChanged(113)&&this._update()),this._update()}dispose(){var ht;this._configListener.dispose(),null===(ht=this._selectionListener)||void 0===ht||ht.dispose(),this._ckAtEnd.reset()}_update(){const ht="on"===this._editor.getOption(113);if(this._enabled!==ht)if(this._enabled=ht,this._enabled){const Rt=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const Vt=this._editor.getModel(),Zt=this._editor.getSelection(),Cn=Vt.getWordAtPosition(Zt.getStartPosition());this._ckAtEnd.set(!!Cn&&Cn.endColumn===Zt.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Rt),Rt()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};var ht;P.AtEnd=new D.uy("atEndOfWord",!1),P=function(En,ht,Rt,Vt){var Re,Zt=arguments.length,Cn=Zt<3?ht:null===Vt?Vt=Object.getOwnPropertyDescriptor(ht,Rt):Vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Cn=Reflect.decorate(En,ht,Rt,Vt);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(Cn=(Zt<3?Re(Cn):Zt>3?Re(ht,Rt,Cn):Re(ht,Rt))||Cn);return Zt>3&&Cn&&Object.defineProperty(ht,Rt,Cn),Cn}([(1,ht=D.i6,function(Rt,Vt){ht(Rt,Vt,1)})],P);var O=e(55197),H=e(66549),U=e(9265),K=e(29693),F=e(83956);let $=class Gd{constructor(ht,Rt){this._editor=ht,this._index=0,this._ckOtherSuggestions=Gd.OtherSuggestions.bindTo(Rt)}dispose(){this.reset()}reset(){var ht;this._ckOtherSuggestions.reset(),null===(ht=this._listener)||void 0===ht||ht.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:ht,index:Rt},Vt){0!==ht.items.length&&Gd._moveIndex(!0,ht,Rt)!==Rt?(this._acceptNext=Vt,this._model=ht,this._index=Rt,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(ht,Rt,Vt){let Zt=Vt;for(;Zt=(Zt+Rt.items.length+(ht?1:-1))%Rt.items.length,Zt!==Vt&&Rt.items[Zt].completion.additionalTextEdits;);return Zt}next(){this._move(!0)}prev(){this._move(!1)}_move(ht){if(this._model)try{this._ignore=!0,this._index=Gd._moveIndex(ht,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};$.OtherSuggestions=new D.uy("hasOtherSuggestions",!1),$=function(En,ht,Rt,Vt){var Re,Zt=arguments.length,Cn=Zt<3?ht:null===Vt?Vt=Object.getOwnPropertyDescriptor(ht,Rt):Vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Cn=Reflect.decorate(En,ht,Rt,Vt);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(Cn=(Zt<3?Re(Cn):Zt>3?Re(ht,Rt,Cn):Re(ht,Rt))||Cn);return Zt>3&&Cn&&Object.defineProperty(ht,Rt,Cn),Cn}([function(En,ht){return function(Rt,Vt){ht(Rt,Vt,1)}}(0,D.i6)],$);var j=e(81742);class ne{constructor(ht,Rt,Vt){this._disposables=new E.SL,this._disposables.add(Rt.onDidShow(()=>this._onItem(Rt.getFocusedItem()))),this._disposables.add(Rt.onDidFocus(this._onItem,this)),this._disposables.add(Rt.onDidHide(this.reset,this)),this._disposables.add(ht.onWillType(Zt=>{if(this._active&&!Rt.isFrozen()){const Cn=Zt.charCodeAt(Zt.length-1);this._active.acceptCharacters.has(Cn)&&ht.getOption(0)&&Vt(this._active.item)}}))}_onItem(ht){if(!ht||!(0,t.Of)(ht.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===ht.item)return;const Rt=new j.q;for(const Vt of ht.item.completion.commitCharacters)Vt.length>0&&Rt.add(Vt.charCodeAt(0));this._active={acceptCharacters:Rt,item:ht}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var N=e(73879),V=e(7233),Z=e(81534),fe=e(37833),M=e(25787),Se=e(94667),Ee=e(24131),Le=e(83961),Ne=e(90790),we=function(En,ht){return function(Rt,Vt){ht(Rt,Vt,En)}};class pe{constructor(ht,Rt,Vt,Zt,Cn){this.leadingLineContent=ht.getLineContent(Rt.lineNumber).substr(0,Rt.column-1),this.leadingWord=ht.getWordUntilPosition(Rt),this.lineNumber=Rt.lineNumber,this.column=Rt.column,this.auto=Vt,this.shy=Zt,this.noSelect=Cn}static shouldAutoTrigger(ht){if(!ht.hasModel())return!1;const Rt=ht.getModel(),Vt=ht.getPosition();Rt.tokenization.tokenizeIfCheap(Vt.lineNumber);const Zt=Rt.getWordAtPosition(Vt);return!(!Zt||Zt.endColumn!==Vt.column||!isNaN(Number(Zt.word)))}}let ze=class fu{constructor(ht,Rt,Vt,Zt,Cn,Re,ct,_n){this._editor=ht,this._editorWorkerService=Rt,this._clipboardService=Vt,this._telemetryService=Zt,this._logService=Cn,this._contextKeyService=Re,this._configurationService=ct,this._languageFeaturesService=_n,this._toDispose=new E.SL,this._triggerCharacterListener=new E.SL,this._triggerQuickSuggest=new l._F,this._state=0,this._completionDisposables=new E.SL,this._onDidCancel=new T.Q5,this._onDidTrigger=new T.Q5,this._onDidSuggest=new T.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new V.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let Hn=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{Hn=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{Hn=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Ai=>{Hn||this._onCursorChange(Ai)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{Hn||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,E.B9)(this._triggerCharacterListener),(0,E.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const ht=new Map;for(const Vt of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const Zt of Vt.triggerCharacters||[]){let Cn=ht.get(Zt);Cn||(Cn=new Set,Cn.add((0,F.ZJ)()),ht.set(Zt,Cn)),Cn.add(Vt)}const Rt=Vt=>{if(!function ke(En,ht,Rt){if(!Boolean(ht.getContextKeyValue("inlineSuggestionVisible")))return!0;const Vt=Rt.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return void 0!==Vt&&Boolean(Vt)}(0,this._contextKeyService,this._configurationService)||pe.shouldAutoTrigger(this._editor))return;if(!Vt){const Re=this._editor.getPosition();Vt=this._editor.getModel().getLineContent(Re.lineNumber).substr(0,Re.column-1)}let Zt="";(0,N.YK)(Vt.charCodeAt(Vt.length-1))?(0,N.ZG)(Vt.charCodeAt(Vt.length-2))&&(Zt=Vt.substr(Vt.length-2)):Zt=Vt.charAt(Vt.length-1);const Cn=ht.get(Zt);if(Cn){const Re=this._completionModel?{items:this._completionModel.adopt(Cn),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:Zt},Boolean(this._completionModel),Cn,Re)}};this._triggerCharacterListener.add(this._editor.onDidType(Rt)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Rt()))}get state(){return this._state}cancel(ht=!1){var Rt;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(Rt=this._requestToken)||void 0===Rt||Rt.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:ht}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1,noSelect:!1},!0):this.cancel())}_onCursorChange(ht){if(!this._editor.hasModel())return;const Rt=this._currentSelection;this._currentSelection=this._editor.getSelection(),!ht.selection.isEmpty()||0!==ht.reason&&3!==ht.reason||"keyboard"!==ht.source&&"deleteLeft"!==ht.source?this.cancel():0===this._state&&0===ht.reason?(Rt.containsRange(this._currentSelection)||Rt.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():0!==this._state&&3===ht.reason&&this._refilterCompletionItems()}_onCompositionEnd(){0===this._state?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var ht;F.tG.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&(null===(ht=g.SnippetController2.get(this._editor))||void 0===ht?void 0:ht.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(0!==this._state||!pe.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const Rt=this._editor.getModel(),Vt=this._editor.getPosition(),Zt=this._editor.getOption(81);if(!F.tG.isAllOff(Zt)){if(!F.tG.isAllOn(Zt)){Rt.tokenization.tokenizeIfCheap(Vt.lineNumber);const Cn=Rt.tokenization.getLineTokens(Vt.lineNumber),Re=Cn.getStandardTokenType(Cn.findTokenIndexAtOffset(Math.max(Vt.column-1-1,0)));if("on"!==F.tG.valueFor(Zt,Re))return}!function de(En,ht,Rt){if(!Boolean(ht.getContextKeyValue("inlineSuggestionVisible")))return!0;const Vt=Rt.getValue("editor.inlineSuggest.allowQuickSuggestions");return void 0!==Vt&&Boolean(Vt)}(0,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(Rt)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(0===this._state||!this._editor.hasModel())return;const ht=this._editor.getModel(),Rt=this._editor.getPosition(),Vt=new pe(ht,Rt,2===this._state,!1,!1);this._onNewContext(Vt)})}trigger(ht,Rt=!1,Vt,Zt,Cn){var Re;if(!this._editor.hasModel())return;const ct=this._editor.getModel(),_n=ht.auto,Hn=new pe(ct,this._editor.getPosition(),_n,ht.shy,ht.noSelect);this.cancel(Rt),this._state=_n?2:1,this._onDidTrigger.fire({auto:_n,shy:ht.shy,position:this._editor.getPosition()}),this._context=Hn;let Ai={triggerKind:null!==(Re=ht.triggerKind)&&void 0!==Re?Re:0};ht.triggerCharacter&&(Ai={triggerKind:1,triggerCharacter:ht.triggerCharacter}),this._requestToken=new S.A;const yi=this._editor.getOption(103);let di=1;switch(yi){case"top":di=0;break;case"bottom":di=2}const{itemKind:Ft,showDeprecated:R}=fu._createSuggestFilter(this._editor),q=new F.A9(di,Cn?new Set:Ft,Vt,R),me=fe.K.create(this._editorWorkerService,this._editor),Ke=(0,F.kL)(this._languageFeaturesService.completionProvider,ct,this._editor.getPosition(),q,Ai,this._requestToken.token);Promise.all([Ke,me]).then(([Xe,at])=>function(En,ht,Rt,Vt){return new(Rt||(Rt=Promise))(function(Cn,Re){function ct(Ai){try{Hn(Vt.next(Ai))}catch(yi){Re(yi)}}function _n(Ai){try{Hn(Vt.throw(Ai))}catch(yi){Re(yi)}}function Hn(Ai){Ai.done?Cn(Ai.value):function Zt(Cn){return Cn instanceof Rt?Cn:new Rt(function(Re){Re(Cn)})}(Ai.value).then(ct,_n)}Hn((Vt=Vt.apply(En,ht||[])).next())})}(this,void 0,void 0,function*(){var tn;if(null===(tn=this._requestToken)||void 0===tn||tn.dispose(),!this._editor.hasModel())return;let Jt=Zt?.clipboardText;if(!Jt&&Xe.needsClipboard&&(Jt=yield this._clipboardService.readText()),0===this._state)return;const Sn=this._editor.getModel();let Tn=Xe.items;if(Zt){const Kn=(0,F.wg)(di);Tn=Tn.concat(Zt.items).sort(Kn)}const Bn=new pe(Sn,this._editor.getPosition(),_n,ht.shy,ht.noSelect);this._completionModel=new Le._(Tn,this._context.column,{leadingLineContent:Bn.leadingLineContent,characterCountDelta:Bn.column-this._context.column},at,this._editor.getOption(108),this._editor.getOption(103),void 0,Jt),this._completionDisposables.add(Xe.disposable),this._onNewContext(Bn),this._reportDurationsTelemetry(Xe.durations)})).catch(v.dL)}_reportDurationsTelemetry(ht){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(ht)}),this._logService.debug("suggest.durations.json",ht)})}static _createSuggestFilter(ht){const Rt=new Set;"none"===ht.getOption(103)&&Rt.add(27);const Zt=ht.getOption(108);return Zt.showMethods||Rt.add(0),Zt.showFunctions||Rt.add(1),Zt.showConstructors||Rt.add(2),Zt.showFields||Rt.add(3),Zt.showVariables||Rt.add(4),Zt.showClasses||Rt.add(5),Zt.showStructs||Rt.add(6),Zt.showInterfaces||Rt.add(7),Zt.showModules||Rt.add(8),Zt.showProperties||Rt.add(9),Zt.showEvents||Rt.add(10),Zt.showOperators||Rt.add(11),Zt.showUnits||Rt.add(12),Zt.showValues||Rt.add(13),Zt.showConstants||Rt.add(14),Zt.showEnums||Rt.add(15),Zt.showEnumMembers||Rt.add(16),Zt.showKeywords||Rt.add(17),Zt.showWords||Rt.add(18),Zt.showColors||Rt.add(19),Zt.showFiles||Rt.add(20),Zt.showReferences||Rt.add(21),Zt.showColors||Rt.add(22),Zt.showFolders||Rt.add(23),Zt.showTypeParameters||Rt.add(24),Zt.showSnippets||Rt.add(27),Zt.showUsers||Rt.add(25),Zt.showIssues||Rt.add(26),{itemKind:Rt,showDeprecated:Zt.showDeprecated}}_onNewContext(ht){if(this._context){if(ht.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,N.V8)(ht.leadingLineContent)!==(0,N.V8)(this._context.leadingLineContent))return void this.cancel();if(ht.column<this._context.column)return void(ht.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel());if(this._completionModel){if(0!==ht.leadingWord.word.length&&ht.leadingWord.startColumn>this._context.leadingWord.startColumn){const Rt=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const Zt of this._completionModel.allProvider)Rt.delete(Zt);const Vt=this._completionModel.adopt(new Set);return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,Rt,{items:Vt,clipboardText:this._completionModel.clipboardText})}if(ht.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==ht.leadingWord.word.length){const{incomplete:Rt}=this._completionModel,Vt=this._completionModel.adopt(Rt);this.trigger({auto:2===this._state,shy:!1,noSelect:!1,triggerKind:2},!0,Rt,{items:Vt,clipboardText:this._completionModel.clipboardText})}else{const Rt=this._completionModel.lineContext;let Vt=!1;if(this._completionModel.lineContext={leadingLineContent:ht.leadingLineContent,characterCountDelta:ht.column-this._context.column},0===this._completionModel.items.length){if(pe.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<ht.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=Rt,Vt=this._completionModel.items.length>0,Vt&&0===ht.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:Vt})}}}}};ze=function(En,ht,Rt,Vt){var Re,Zt=arguments.length,Cn=Zt<3?ht:null===Vt?Vt=Object.getOwnPropertyDescriptor(ht,Rt):Vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Cn=Reflect.decorate(En,ht,Rt,Vt);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(Cn=(Zt<3?Re(Cn):Zt>3?Re(ht,Rt,Cn):Re(ht,Rt))||Cn);return Zt>3&&Cn&&Object.defineProperty(ht,Rt,Cn),Cn}([we(1,Z.p),we(2,M.p),we(3,Ee.b),we(4,K.VZ),we(5,D.i6),we(6,Se.Ui),we(7,Ne.p)],ze);let $e=(()=>{class En{constructor(Rt,Vt){this._disposables=new E.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(Rt.onWillType(()=>{if(!this._empty||!Rt.hasModel())return;const Zt=Rt.getSelections(),Cn=Zt.length;let Re=!1;for(let _n=0;_n<Cn;_n++)if(!Zt[_n].isEmpty()){Re=!0;break}if(!Re)return;this._lastOvertyped=[];const ct=Rt.getModel();for(let _n=0;_n<Cn;_n++){const Hn=Zt[_n];if(ct.getValueLengthInRange(Hn)>En._maxSelectionLength)return;this._lastOvertyped[_n]={value:ct.getValueInRange(Hn),multiline:Hn.startLineNumber!==Hn.endLineNumber}}this._empty=!1})),this._disposables.add(Vt.onDidCancel(Zt=>{!this._empty&&!Zt.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(Rt){if(!this._empty&&Rt>=0&&Rt<this._lastOvertyped.length)return this._lastOvertyped[Rt]}dispose(){this._disposables.dispose()}}return En._maxSelectionLength=51200,En})();var ce=e(98463),nt=(e(82099),e(25478)),Dt=e(73455),Lt=e(57856),Ze=e.n(Lt),ae=e(38470),_e=e.n(ae),he=e(43370),le=e.n(he),Q=e(28458),ve=e.n(Q),Ae=e(71278),dt=e.n(Ae),st=e(29488),et=e.n(st),Qe=e(33955),tt={};tt.styleTagTransform=et(),tt.setAttributes=ve(),tt.insert=le().bind(null,"head"),tt.domAPI=_e(),tt.insertStyleElement=dt(),Ze()(Qe.Z,tt);var _t=e(19186),Kt=e(65065),Bt=e(38516),Ge=e(74918),Ut=function(En,ht){return function(Rt,Vt){ht(Rt,Vt,En)}};class hn extends Bt.Mm{updateLabel(){const ht=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!ht)return super.updateLabel();this.label&&(this.label.textContent=(0,O.NC)("ddd","{0} ({1})",this._action.label,hn.symbolPrintEnter(ht)))}static symbolPrintEnter(ht){var Rt;return null===(Rt=ht.getLabel())||void 0===Rt?void 0:Rt.replace(/\benter\b/gi,"\u23ce")}}let Dn=class{constructor(ht,Rt,Vt,Zt){this._menuService=Vt,this._contextKeyService=Zt,this._menuDisposables=new E.SL,this.element=ce.R3(ht,ce.$(".suggest-status-bar"));const Cn=Re=>Re instanceof Ge.U8?Rt.createInstance(hn,Re,void 0):void 0;this._leftActions=new Kt.o(this.element,{actionViewItemProvider:Cn}),this._rightActions=new Kt.o(this.element,{actionViewItemProvider:Cn}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const ht=this._menuService.createMenu(F.GI,this._contextKeyService),Rt=()=>{const Vt=[],Zt=[];for(const[Cn,Re]of ht.getActions())"left"===Cn?Vt.push(...Re):Zt.push(...Re);this._leftActions.clear(),this._leftActions.push(Vt),this._rightActions.clear(),this._rightActions.push(Zt)};this._menuDisposables.add(ht.onDidChange(()=>Rt())),this._menuDisposables.add(ht)}hide(){this._menuDisposables.clear()}};Dn=function(En,ht,Rt,Vt){var Re,Zt=arguments.length,Cn=Zt<3?ht:null===Vt?Vt=Object.getOwnPropertyDescriptor(ht,Rt):Vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Cn=Reflect.decorate(En,ht,Rt,Vt);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(Cn=(Zt<3?Re(Cn):Zt>3?Re(ht,Rt,Cn):Re(ht,Rt))||Cn);return Zt>3&&Cn&&Object.defineProperty(ht,Rt,Cn),Cn}([Ut(1,U.TG),Ut(2,Ge.co),Ut(3,D.i6)],Dn),e(71008);var je=e(48190),ye=e(4062),Me=e(52075),ue=e(18034),be=e(40902),qe=e(84075);class Fe{constructor(){this._onDidWillResize=new T.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new T.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new E.SL,this._size=new ce.Ro(0,0),this._minSize=new ce.Ro(0,0),this._maxSize=new ce.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new qe.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new qe.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new qe.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:qe.l.North}),this._southSash=new qe.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:qe.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let ht,Rt=0,Vt=0;this._sashListener.add(T.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===ht&&(this._onDidWillResize.fire(),ht=this._size,Rt=0,Vt=0)})),this._sashListener.add(T.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==ht&&(ht=void 0,Rt=0,Vt=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(Zt=>{ht&&(Vt=Zt.currentX-Zt.startX,this.layout(ht.height+Rt,ht.width+Vt),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(Zt=>{ht&&(Vt=-(Zt.currentX-Zt.startX),this.layout(ht.height+Rt,ht.width+Vt),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(Zt=>{ht&&(Rt=-(Zt.currentY-Zt.startY),this.layout(ht.height+Rt,ht.width+Vt),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(Zt=>{ht&&(Rt=Zt.currentY-Zt.startY,this.layout(ht.height+Rt,ht.width+Vt),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(T.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(Zt=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(T.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(Zt=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(ht,Rt,Vt,Zt){this._northSash.state=ht?3:0,this._eastSash.state=Rt?3:0,this._southSash.state=Vt?3:0,this._westSash.state=Zt?3:0}layout(ht=this.size.height,Rt=this.size.width){const{height:Vt,width:Zt}=this._minSize,{height:Cn,width:Re}=this._maxSize;ht=Math.max(Vt,Math.min(Cn,ht)),Rt=Math.max(Zt,Math.min(Re,Rt));const ct=new ce.Ro(Rt,ht);ce.Ro.equals(ct,this._size)||(this.domNode.style.height=ht+"px",this.domNode.style.width=Rt+"px",this._size=ct,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(ht){this._maxSize=ht}get maxSize(){return this._maxSize}set minSize(ht){this._minSize=ht}get minSize(){return this._minSize}set preferredSize(ht){this._preferredSize=ht}get preferredSize(){return this._preferredSize}}var ot=e(3067),bt=e(58783),Ht=e(48701),vn=e(29739);function fn(En){return!!En&&Boolean(En.completion.documentation||En.completion.detail&&En.completion.detail!==En.completion.label)}let Vn=class{constructor(ht,Rt){this._editor=ht,this._onDidClose=new T.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new T.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new E.SL,this._renderDisposeable=new E.SL,this._borderWidth=1,this._size=new ce.Ro(330,0),this.domNode=ce.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Rt.createInstance(vn.$,{editor:ht}),this._body=ce.$(".body"),this._scrollbar=new ot.s$(this._body,{alwaysConsumeMouseWheel:!0}),ce.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ce.R3(this._body,ce.$(".header")),this._close=ce.R3(this._header,ce.$("span"+bt.lA.close.cssSelector)),this._close.title=O.NC("details.close","Close"),this._type=ce.R3(this._header,ce.$("p.type")),this._docs=ce.R3(this._body,ce.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(Vt=>{Vt.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const ht=this._editor.getOptions(),Rt=ht.get(46),Vt=Rt.getMassagedFontFamily(),Zt=ht.get(109)||Rt.fontSize,Cn=ht.get(110)||Rt.lineHeight,Re=Rt.fontWeight,_n=`${Cn}px`;this.domNode.style.fontSize=`${Zt}px`,this.domNode.style.lineHeight=""+Cn/Zt,this.domNode.style.fontWeight=Re,this.domNode.style.fontFeatureSettings=Rt.fontFeatureSettings,this._type.style.fontFamily=Vt,this._close.style.height=_n,this._close.style.width=_n}getLayoutInfo(){const ht=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,Rt=this._borderWidth;return{lineHeight:ht,borderWidth:Rt,borderHeight:2*Rt,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=O.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(ht,Rt){var Vt,Zt;this._renderDisposeable.clear();let{detail:Cn,documentation:Re}=ht.completion;if(Rt){let ct="";ct+=`score: ${ht.score[0]}\n`,ct+=`prefix: ${null!==(Vt=ht.word)&&void 0!==Vt?Vt:"(no prefix)"}\n`,ct+=`word: ${ht.completion.filterText?ht.completion.filterText+" (filterText)":ht.textLabel}\n`,ct+=`distance: ${ht.distance} (localityBonus-setting)\n`,ct+=`index: ${ht.idx}, based on ${ht.completion.sortText&&`sortText: "${ht.completion.sortText}"`||"label"}\n`,ct+=`commit_chars: ${null===(Zt=ht.completion.commitCharacters)||void 0===Zt?void 0:Zt.join("")}\n`,Re=(new Ht.W5).appendCodeblock("empty",ct),Cn=`Provider: ${ht.provider._debugDisplayName}`}if(Rt||fn(ht)){if(this.domNode.classList.remove("no-docs","no-type"),Cn){const ct=Cn.length>1e5?`${Cn.substr(0,1e5)}\u2026`:Cn;this._type.textContent=ct,this._type.title=ct,ce.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(ct))}else ce.PO(this._type),this._type.title="",ce.Cp(this._type),this.domNode.classList.add("no-type");if(ce.PO(this._docs),"string"==typeof Re)this._docs.classList.remove("markdown-docs"),this._docs.textContent=Re;else if(Re){this._docs.classList.add("markdown-docs"),ce.PO(this._docs);const ct=this._markdownRenderer.render(Re);this._docs.appendChild(ct.element),this._renderDisposeable.add(ct),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=ct=>{ct.preventDefault(),ct.stopPropagation()},this._close.onclick=ct=>{ct.preventDefault(),ct.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(ht,Rt){const Vt=new ce.Ro(ht,Rt);ce.Ro.equals(Vt,this._size)||(this._size=Vt,ce.dp(this.domNode,ht,Rt)),this._scrollbar.scanDomNode()}scrollDown(ht=8){this._body.scrollTop+=ht}scrollUp(ht=8){this._body.scrollTop-=ht}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(ht){this._borderWidth=ht}get borderWidth(){return this._borderWidth}};Vn=function(En,ht,Rt,Vt){var Re,Zt=arguments.length,Cn=Zt<3?ht:null===Vt?Vt=Object.getOwnPropertyDescriptor(ht,Rt):Vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Cn=Reflect.decorate(En,ht,Rt,Vt);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(Cn=(Zt<3?Re(Cn):Zt>3?Re(ht,Rt,Cn):Re(ht,Rt))||Cn);return Zt>3&&Cn&&Object.defineProperty(ht,Rt,Cn),Cn}([function(En,ht){return function(Rt,Vt){ht(Rt,Vt,1)}}(0,U.TG)],Vn);class yn{constructor(ht,Rt){this.widget=ht,this._editor=Rt,this._disposables=new E.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Fe,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(ht.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let Vt,Zt,Cn=0,Re=0;this._disposables.add(this._resizable.onDidWillResize(()=>{Vt=this._topLeft,Zt=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(ct=>{if(Vt&&Zt){this.widget.layout(ct.dimension.width,ct.dimension.height);let _n=!1;ct.west&&(Re=Zt.width-ct.dimension.width,_n=!0),ct.north&&(Cn=Zt.height-ct.dimension.height,_n=!0),_n&&this._applyTopLeft({top:Vt.top+Cn,left:Vt.left+Re})}ct.done&&(Vt=void 0,Zt=void 0,Cn=0,Re=0,this._userSize=ct.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var ct;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(ct=this._userSize)&&void 0!==ct?ct:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(ht=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),ht&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(ht,Rt){var Vt;const Zt=ht.getBoundingClientRect();this._anchorBox=Zt,this._preferAlignAtTop=Rt,this._placeAtAnchor(this._anchorBox,null!==(Vt=this._userSize)&&void 0!==Vt?Vt:this.widget.size,Rt)}_placeAtAnchor(ht,Rt,Vt){var Zt;const Cn=ce.D6(document.body),Re=this.widget.getLayoutInfo(),ct=new ce.Ro(220,2*Re.lineHeight),_n=ht.top,Hn=function(){const at=Cn.width-(ht.left+ht.width+Re.borderWidth+Re.horizontalPadding),tn=-Re.borderWidth+ht.left+ht.width,Jt=new ce.Ro(at,Cn.height-ht.top-Re.borderHeight-Re.verticalPadding),Sn=Jt.with(void 0,ht.top+ht.height-Re.borderHeight-Re.verticalPadding);return{top:_n,left:tn,fit:at-Rt.width,maxSizeTop:Jt,maxSizeBottom:Sn,minSize:ct.with(Math.min(at,ct.width))}}(),di=[Hn,function(){const at=ht.left-Re.borderWidth-Re.horizontalPadding,tn=Math.max(Re.horizontalPadding,ht.left-Rt.width-Re.borderWidth),Jt=new ce.Ro(at,Cn.height-ht.top-Re.borderHeight-Re.verticalPadding),Sn=Jt.with(void 0,ht.top+ht.height-Re.borderHeight-Re.verticalPadding);return{top:_n,left:tn,fit:at-Rt.width,maxSizeTop:Jt,maxSizeBottom:Sn,minSize:ct.with(Math.min(at,ct.width))}}(),function(){const at=ht.left,tn=-Re.borderWidth+ht.top+ht.height,Jt=new ce.Ro(ht.width-Re.borderHeight,Cn.height-ht.top-ht.height-Re.verticalPadding);return{top:tn,left:at,fit:Jt.height-Rt.height,maxSizeBottom:Jt,maxSizeTop:Jt,minSize:ct.with(Jt.width)}}()],Ft=null!==(Zt=di.find(at=>at.fit>=0))&&void 0!==Zt?Zt:di.sort((at,tn)=>tn.fit-at.fit)[0],R=ht.top+ht.height-Re.borderHeight;let q,me=Rt.height;const Ke=Math.max(Ft.maxSizeTop.height,Ft.maxSizeBottom.height);let Xe;me>Ke&&(me=Ke),Vt?me<=Ft.maxSizeTop.height?(q=!0,Xe=Ft.maxSizeTop):(q=!1,Xe=Ft.maxSizeBottom):me<=Ft.maxSizeBottom.height?(q=!1,Xe=Ft.maxSizeBottom):(q=!0,Xe=Ft.maxSizeTop),this._applyTopLeft({left:Ft.left,top:q?Ft.top:R-me}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!q,Ft===Hn,q,Ft!==Hn),this._resizable.minSize=Ft.minSize,this._resizable.maxSize=Xe,this._resizable.layout(me,Math.min(Xe.width,Rt.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(ht){this._topLeft=ht,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var zn=e(80757),li=e(25715),oi=e(59547),Li=e(45337),so=e(59310),oo=e(40734),xo=e(72188),ro=(()=>(function(En){En[En.FILE=0]="FILE",En[En.FOLDER=1]="FOLDER",En[En.ROOT_FOLDER=2]="ROOT_FOLDER"}(ro||(ro={})),ro))();const _o=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function mo(En,ht,Rt,Vt){const Zt=Vt===ro.ROOT_FOLDER?["rootfolder-icon"]:Vt===ro.FOLDER?["folder-icon"]:["file-icon"];if(Rt){let Cn;if(Rt.scheme===so.lg.data)Cn=oo.Vb.parseMetaData(Rt).get(oo.Vb.META_DATA_LABEL);else{const Re=Rt.path.match(_o);Re?(Cn=Qt(Re[2].toLowerCase()),Re[1]&&Zt.push(`${Qt(Re[1].toLowerCase())}-name-dir-icon`)):Cn=Qt(Rt.authority.toLowerCase())}if(Vt===ro.FOLDER)Zt.push(`${Cn}-name-folder-icon`);else{if(Cn){if(Zt.push(`${Cn}-name-file-icon`),Zt.push("name-file-icon"),Cn.length<=255){const ct=Cn.split(".");for(let _n=1;_n<ct.length;_n++)Zt.push(`${ct.slice(_n).join(".")}-ext-file-icon`)}Zt.push("ext-file-icon")}const Re=function si(En,ht,Rt){if(!Rt)return null;let Vt=null;if(Rt.scheme===so.lg.data){const Cn=oo.Vb.parseMetaData(Rt).get(oo.Vb.META_DATA_MIME);Cn&&(Vt=ht.getLanguageIdByMimeType(Cn))}else{const Zt=En.getModel(Rt);Zt&&(Vt=Zt.getLanguageId())}return Vt&&Vt!==xo.bd?Vt:ht.guessLanguageIdByFilepathOrFirstLine(Rt)}(En,ht,Rt);Re&&Zt.push(`${Qt(Re)}-lang-file-icon`)}}return Zt}function Qt(En){return En.replace(/[\11\12\14\15\40]/g,"/")}var gn,pt=e(59602),ft=e(45358),rn=function(En,ht){return function(Rt,Vt){ht(Rt,Vt,En)}};function An(En){return`suggest-aria-id:${En}`}const jn=(0,e(66287).q5)("suggest-more-info",bt.lA.chevronRight,O.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Qn=new(gn=class Zd{extract(ht,Rt){if(ht.textLabel.match(Zd._regexStrict))return Rt[0]=ht.textLabel,!0;if(ht.completion.detail&&ht.completion.detail.match(Zd._regexStrict))return Rt[0]=ht.completion.detail,!0;if("string"==typeof ht.completion.documentation){const Vt=Zd._regexRelaxed.exec(ht.completion.documentation);if(Vt&&(0===Vt.index||Vt.index+Vt[0].length===ht.completion.documentation.length))return Rt[0]=Vt[0],!0}return!1}},gn._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,gn._regexStrict=new RegExp(`^${gn._regexRelaxed.source}$`,"i"),gn);let wi=class{constructor(ht,Rt,Vt,Zt){this._editor=ht,this._modelService=Rt,this._languageService=Vt,this._themeService=Zt,this._onDidToggleDetails=new T.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(ht){const Rt=Object.create(null);Rt.disposables=new E.SL,Rt.root=ht,Rt.root.classList.add("show-file-icons"),Rt.icon=(0,ce.R3)(ht,(0,ce.$)(".icon")),Rt.colorspan=(0,ce.R3)(Rt.icon,(0,ce.$)("span.colorspan"));const Vt=(0,ce.R3)(ht,(0,ce.$)(".contents")),Zt=(0,ce.R3)(Vt,(0,ce.$)(".main"));Rt.iconContainer=(0,ce.R3)(Zt,(0,ce.$)(".icon-label.codicon")),Rt.left=(0,ce.R3)(Zt,(0,ce.$)("span.left")),Rt.right=(0,ce.R3)(Zt,(0,ce.$)("span.right")),Rt.iconLabel=new zn.g(Rt.left,{supportHighlights:!0,supportIcons:!0}),Rt.disposables.add(Rt.iconLabel),Rt.parametersLabel=(0,ce.R3)(Rt.left,(0,ce.$)("span.signature-label")),Rt.qualifierLabel=(0,ce.R3)(Rt.left,(0,ce.$)("span.qualifier-label")),Rt.detailsLabel=(0,ce.R3)(Rt.right,(0,ce.$)("span.details-label")),Rt.readMore=(0,ce.R3)(Rt.right,(0,ce.$)("span.readMore"+be.kS.asCSSSelector(jn))),Rt.readMore.title=O.NC("readMore","Read More");const Cn=()=>{const Re=this._editor.getOptions(),ct=Re.get(46),_n=ct.getMassagedFontFamily(),Hn=ct.fontFeatureSettings,Ai=Re.get(109)||ct.fontSize,yi=Re.get(110)||ct.lineHeight,di=ct.fontWeight,q=`${yi}px`,me=`${ct.letterSpacing}px`;Rt.root.style.fontSize=`${Ai}px`,Rt.root.style.fontWeight=di,Rt.root.style.letterSpacing=me,Zt.style.fontFamily=_n,Zt.style.fontFeatureSettings=Hn,Zt.style.lineHeight=q,Rt.icon.style.height=q,Rt.icon.style.width=q,Rt.readMore.style.height=q,Rt.readMore.style.width=q};return Cn(),Rt.disposables.add(this._editor.onDidChangeConfiguration(Re=>{(Re.hasChanged(46)||Re.hasChanged(109)||Re.hasChanged(110))&&Cn()})),Rt}renderElement(ht,Rt,Vt){const{completion:Zt}=ht;Vt.root.id=An(Rt),Vt.colorspan.style.backgroundColor="";const Cn={labelEscapeNewLines:!0,matches:(0,li.mB)(ht.score)},Re=[];if(19===Zt.kind&&Qn.extract(ht,Re))Vt.icon.className="icon customcolor",Vt.iconContainer.className="icon hide",Vt.colorspan.style.backgroundColor=Re[0];else if(20===Zt.kind&&this._themeService.getFileIconTheme().hasFileIcons){Vt.icon.className="icon hide",Vt.iconContainer.className="icon hide";const ct=mo(this._modelService,this._languageService,oi.o.from({scheme:"fake",path:ht.textLabel}),ro.FILE),_n=mo(this._modelService,this._languageService,oi.o.from({scheme:"fake",path:Zt.detail}),ro.FILE);Cn.extraClasses=ct.length>_n.length?ct:_n}else 23===Zt.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(Vt.icon.className="icon hide",Vt.iconContainer.className="icon hide",Cn.extraClasses=[mo(this._modelService,this._languageService,oi.o.from({scheme:"fake",path:ht.textLabel}),ro.FOLDER),mo(this._modelService,this._languageService,oi.o.from({scheme:"fake",path:Zt.detail}),ro.FOLDER)].flat()):(Vt.icon.className="icon hide",Vt.iconContainer.className="",Vt.iconContainer.classList.add("suggest-icon",...bt.dT.asClassNameArray(Li.gX.toIcon(Zt.kind))));Zt.tags&&Zt.tags.indexOf(1)>=0&&(Cn.extraClasses=(Cn.extraClasses||[]).concat(["deprecated"]),Cn.matches=[]),Vt.iconLabel.setLabel(ht.textLabel,void 0,Cn),"string"==typeof Zt.label?(Vt.parametersLabel.textContent="",Vt.detailsLabel.textContent=xi(Zt.detail||""),Vt.root.classList.add("string-label")):(Vt.parametersLabel.textContent=xi(Zt.label.detail||""),Vt.detailsLabel.textContent=xi(Zt.label.description||""),Vt.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,ce.$Z)(Vt.detailsLabel):(0,ce.Cp)(Vt.detailsLabel),fn(ht)?(Vt.right.classList.add("can-expand-details"),(0,ce.$Z)(Vt.readMore),Vt.readMore.onmousedown=ct=>{ct.stopPropagation(),ct.preventDefault()},Vt.readMore.onclick=ct=>{ct.stopPropagation(),ct.preventDefault(),this._onDidToggleDetails.fire()}):(Vt.right.classList.remove("can-expand-details"),(0,ce.Cp)(Vt.readMore),Vt.readMore.onmousedown=null,Vt.readMore.onclick=null)}disposeTemplate(ht){ht.disposables.dispose()}};function xi(En){return En.replace(/\r\n|\r|\n/g,"")}wi=function(En,ht,Rt,Vt){var Re,Zt=arguments.length,Cn=Zt<3?ht:null===Vt?Vt=Object.getOwnPropertyDescriptor(ht,Rt):Vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Cn=Reflect.decorate(En,ht,Rt,Vt);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(Cn=(Zt<3?Re(Cn):Zt>3?Re(ht,Rt,Cn):Re(ht,Rt))||Cn);return Zt>3&&Cn&&Object.defineProperty(ht,Rt,Cn),Cn}([rn(1,pt.q),rn(2,ft.O),rn(3,be.XE)],wi);var Oi=function(En,ht){return function(Rt,Vt){ht(Rt,Vt,En)}};(0,ye.P6G)("editorSuggestWidget.background",{dark:ye.D0T,light:ye.D0T,hcDark:ye.D0T,hcLight:ye.D0T},O.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,ye.P6G)("editorSuggestWidget.border",{dark:ye.D1_,light:ye.D1_,hcDark:ye.D1_,hcLight:ye.D1_},O.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const yo=(0,ye.P6G)("editorSuggestWidget.foreground",{dark:ye.NOs,light:ye.NOs,hcDark:ye.NOs,hcLight:ye.NOs},O.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),wo=((0,ye.P6G)("editorSuggestWidget.selectedForeground",{dark:ye.NPS,light:ye.NPS,hcDark:ye.NPS,hcLight:ye.NPS},O.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,ye.P6G)("editorSuggestWidget.selectedIconForeground",{dark:ye.cbQ,light:ye.cbQ,hcDark:ye.cbQ,hcLight:ye.cbQ},O.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),(0,ye.P6G)("editorSuggestWidget.selectedBackground",{dark:ye.Vqd,light:ye.Vqd,hcDark:ye.Vqd,hcLight:ye.Vqd},O.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")));(0,ye.P6G)("editorSuggestWidget.highlightForeground",{dark:ye.Gwp,light:ye.Gwp,hcDark:ye.Gwp,hcLight:ye.Gwp},O.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,ye.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:ye.PX0,light:ye.PX0,hcDark:ye.PX0,hcLight:ye.PX0},O.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,ye.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,ye.ZnX)(yo,.5),light:(0,ye.ZnX)(yo,.5),hcDark:(0,ye.ZnX)(yo,.5),hcLight:(0,ye.ZnX)(yo,.5)},O.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Oo{constructor(ht,Rt){this._service=ht,this._key=`suggestWidget.size/${Rt.getEditorType()}/${Rt instanceof _t.H}`}restore(){var ht;const Rt=null!==(ht=this._service.get(this._key,0))&&void 0!==ht?ht:"";try{const Vt=JSON.parse(Rt);if(ce.Ro.is(Vt))return ce.Ro.lift(Vt)}catch{}}store(ht){this._service.store(this._key,JSON.stringify(ht),0,1)}reset(){this._service.remove(this._key,0)}}let ai=class Pc{constructor(ht,Rt,Vt,Zt,Cn){this.editor=ht,this._storageService=Rt,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new l._F,this._disposables=new E.SL,this._onDidSelect=new T.Q5,this._onDidFocus=new T.Q5,this._onDidHide=new T.Q5,this._onDidShow=new T.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new T.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Fe,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Yt(this,ht),this._persistedSize=new Oo(Rt,ht);class Re{constructor(Ft,R,q=!1,me=!1){this.persistedSize=Ft,this.currentSize=R,this.persistHeight=q,this.persistWidth=me}}let ct;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),ct=new Re(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(di=>{var Ft,R,q,me;if(this._resize(di.dimension.width,di.dimension.height),ct&&(ct.persistHeight=ct.persistHeight||!!di.north||!!di.south,ct.persistWidth=ct.persistWidth||!!di.east||!!di.west),di.done){if(ct){const{itemHeight:Ke,defaultSize:Xe}=this.getLayoutInfo(),at=Math.round(Ke/2);let{width:tn,height:Jt}=this.element.size;(!ct.persistHeight||Math.abs(ct.currentSize.height-Jt)<=at)&&(Jt=null!==(R=null===(Ft=ct.persistedSize)||void 0===Ft?void 0:Ft.height)&&void 0!==R?R:Xe.height),(!ct.persistWidth||Math.abs(ct.currentSize.width-tn)<=at)&&(tn=null!==(me=null===(q=ct.persistedSize)||void 0===q?void 0:q.width)&&void 0!==me?me:Xe.width),this._persistedSize.store(new ce.Ro(tn,Jt))}this._contentWidget.unlockPreference(),ct=void 0}})),this._messageElement=ce.R3(this.element.domNode,ce.$(".message")),this._listElement=ce.R3(this.element.domNode,ce.$(".tree"));const _n=Cn.createInstance(Vn,this.editor);_n.onDidClose(this.toggleDetails,this,this._disposables),this._details=new yn(_n,this.editor);const Hn=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);Hn();const Ai=Cn.createInstance(wi,this.editor);this._disposables.add(Ai),this._disposables.add(Ai.onDidToggleDetails(()=>this.toggleDetails())),this._list=new nt.aV("SuggestWidget",this._listElement,{getHeight:di=>this.getLayoutInfo().itemHeight,getTemplateId:di=>"suggestion"},[Ai],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>O.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:di=>{let Ft=di.textLabel;if("string"!=typeof di.completion.label){const{detail:Ke,description:Xe}=di.completion.label;Ke&&Xe?Ft=O.NC("label.full","{0}{1}, {2}",Ft,Ke,Xe):Ke?Ft=O.NC("label.detail","{0}{1}",Ft,Ke):Xe&&(Ft=O.NC("label.desc","{0}, {1}",Ft,Xe))}if(!di.isResolved||!this._isDetailsVisible())return Ft;const{documentation:R,detail:q}=di.completion,me=N.WU("{0}{1}",q||"",R?"string"==typeof R?R:R.value:"");return O.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Ft,me)}}}),this._status=Cn.createInstance(Dn,this.element.domNode);const yi=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);yi(),this._disposables.add((0,Me.Jl)(this._list,Zt,{listInactiveFocusBackground:wo,listInactiveFocusOutline:ye.xL1})),this._disposables.add(Zt.onDidColorThemeChange(di=>this._onThemeChange(di))),this._onThemeChange(Zt.getColorTheme()),this._disposables.add(this._list.onMouseDown(di=>this._onListMouseDownOrTap(di))),this._disposables.add(this._list.onTap(di=>this._onListMouseDownOrTap(di))),this._disposables.add(this._list.onDidChangeSelection(di=>this._onListSelection(di))),this._disposables.add(this._list.onDidChangeFocus(di=>this._onListFocus(di))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(di=>{di.hasChanged(108)&&(yi(),Hn())})),this._ctxSuggestWidgetVisible=F._y.Visible.bindTo(Vt),this._ctxSuggestWidgetDetailsVisible=F._y.DetailsVisible.bindTo(Vt),this._ctxSuggestWidgetMultipleSuggestions=F._y.MultipleSuggestions.bindTo(Vt),this._ctxSuggestWidgetHasFocusedSuggestion=F._y.HasFocusedSuggestion.bindTo(Vt),this._disposables.add(ce.mu(this._details.widget.domNode,"keydown",di=>{this._onDetailsKeydown.fire(di)})),this._disposables.add(this.editor.onMouseDown(di=>this._onEditorMouseDown(di)))}dispose(){var ht;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(ht=this._loadingTimeout)||void 0===ht||ht.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(ht){this._details.widget.domNode.contains(ht.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(ht.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(ht){typeof ht.element>"u"||typeof ht.index>"u"||(ht.browserEvent.preventDefault(),ht.browserEvent.stopPropagation(),this._select(ht.element,ht.index))}_onListSelection(ht){ht.elements.length&&this._select(ht.elements[0],ht.indexes[0])}_select(ht,Rt){const Vt=this._completionModel;Vt&&(this._onDidSelect.fire({item:ht,index:Rt,model:Vt}),this.editor.focus())}_onThemeChange(ht){this._details.widget.borderWidth=(0,ue.c3)(ht.type)?2:1}_onListFocus(ht){var Rt;if(this._ignoreFocusEvents)return;if(!ht.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const Vt=ht.elements[0],Zt=ht.indexes[0];Vt!==this._focusedItem&&(null===(Rt=this._currentSuggestionDetails)||void 0===Rt||Rt.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=Vt,this._list.reveal(Zt),this._currentSuggestionDetails=(0,l.PG)(Cn=>function(En,ht,Rt,Vt){return new(Rt||(Rt=Promise))(function(Cn,Re){function ct(Ai){try{Hn(Vt.next(Ai))}catch(yi){Re(yi)}}function _n(Ai){try{Hn(Vt.throw(Ai))}catch(yi){Re(yi)}}function Hn(Ai){Ai.done?Cn(Ai.value):function Zt(Cn){return Cn instanceof Rt?Cn:new Rt(function(Re){Re(Cn)})}(Ai.value).then(ct,_n)}Hn((Vt=Vt.apply(En,ht||[])).next())})}(this,void 0,void 0,function*(){const Re=(0,l.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),ct=Cn.onCancellationRequested(()=>Re.dispose()),_n=yield Vt.resolve(Cn);return Re.dispose(),ct.dispose(),_n})),this._currentSuggestionDetails.then(()=>{Zt>=this._list.length||Vt!==this._list.element(Zt)||(this._ignoreFocusEvents=!0,this._list.splice(Zt,1,[Vt]),this._list.setFocus([Zt]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:An(Zt)}))}).catch(v.dL)),this._onDidFocus.fire({item:Vt,index:Zt,model:this._completionModel})}_setState(ht){if(this._state!==ht)switch(this._state=ht,this.element.domNode.classList.toggle("frozen",4===ht),this.element.domNode.classList.remove("message"),ht){case 0:ce.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Pc.LOADING_MESSAGE,ce.Cp(this._listElement,this._status.element),ce.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Pc.NO_SUGGESTIONS_MESSAGE,ce.Cp(this._listElement,this._status.element),ce.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._show();break;case 5:ce.Cp(this._messageElement),ce.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(ht,Rt){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!ht,this._isAuto||(this._loadingTimeout=(0,l.Vg)(()=>this._setState(1),Rt)))}showSuggestions(ht,Rt,Vt,Zt){var Cn,Re;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(Cn=this._loadingTimeout)||void 0===Cn||Cn.dispose(),null===(Re=this._currentSuggestionDetails)||void 0===Re||Re.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==ht&&(this._completionModel=ht),Vt&&2!==this._state&&0!==this._state)return void this._setState(4);const ct=this._completionModel.items.length,_n=0===ct;if(this._ctxSuggestWidgetMultipleSuggestions.set(ct>1),_n)return this._setState(Zt?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(Vt?4:3),Rt>=0&&(this._list.reveal(Rt,0),this._list.setFocus([Rt])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(fn(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(ht){this._details.show(),ht?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var ht;null===(ht=this._loadingTimeout)||void 0===ht||ht.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Rt=this._persistedSize.restore(),Vt=Math.ceil(4.3*this.getLayoutInfo().itemHeight);Rt&&Rt.height<Vt&&this._persistedSize.store(Rt.with(void 0,Vt))}isFrozen(){return 4===this._state}_afterRender(ht){null!==ht?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(ht){var Rt,Vt,Zt;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const Cn=ce.D6(document.body),Re=this.getLayoutInfo();ht||(ht=Re.defaultSize);let ct=ht.height,_n=ht.width;if(this._status.element.style.lineHeight=`${Re.itemHeight}px`,2===this._state||1===this._state)ct=Re.itemHeight+Re.borderHeight,_n=Re.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ce.Ro(_n,ct),this._contentWidget.setPreference(2);else{const Hn=Cn.width-Re.borderHeight-2*Re.horizontalPadding;_n>Hn&&(_n=Hn);const Ai=this._completionModel?this._completionModel.stats.pLabelLen*Re.typicalHalfwidthCharacterWidth:_n,yi=Re.statusBarHeight+this._list.contentHeight+Re.borderHeight,di=Re.itemHeight+Re.statusBarHeight,Ft=ce.i(this.editor.getDomNode()),R=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),me=Math.min(Cn.height-(Ft.top+R.top+R.height)-Re.verticalPadding,yi),Ke=Ft.top+R.top-Re.verticalPadding,Xe=Math.min(Ke,yi);let at=Math.min(Math.max(Xe,me)+Re.borderHeight,yi);ct===(null===(Rt=this._cappedHeight)||void 0===Rt?void 0:Rt.capped)&&(ct=this._cappedHeight.wanted),ct<di&&(ct=di),ct>at&&(ct=at);const tn=150;ct>me||this._forceRenderingAbove&&Ke>tn?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),at=Xe):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),at=me),this.element.preferredSize=new ce.Ro(Ai,Re.defaultSize.height),this.element.maxSize=new ce.Ro(Hn,at),this.element.minSize=new ce.Ro(220,di),this._cappedHeight=ct===yi?{wanted:null!==(Zt=null===(Vt=this._cappedHeight)||void 0===Vt?void 0:Vt.wanted)&&void 0!==Zt?Zt:ht.height,capped:ct}:void 0}this._resize(_n,ct)}_resize(ht,Rt){const{width:Vt,height:Zt}=this.element.maxSize;ht=Math.min(Vt,ht),Rt=Math.min(Zt,Rt);const{statusBarHeight:Cn}=this.getLayoutInfo();this._list.layout(Rt-Cn,ht),this._listElement.style.height=Rt-Cn+"px",this.element.layout(Rt,ht),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var ht;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(ht=this._contentWidget.getPosition())||void 0===ht?void 0:ht.preference[0]))}getLayoutInfo(){const ht=this.editor.getOption(46),Rt=(0,Dt.uZ)(this.editor.getOption(110)||ht.lineHeight,8,1e3),Vt=this.editor.getOption(108).showStatusBar&&2!==this._state&&1!==this._state?Rt:0,Zt=this._details.widget.borderWidth,Cn=2*Zt;return{itemHeight:Rt,statusBarHeight:Vt,borderWidth:Zt,borderHeight:Cn,typicalHalfwidthCharacterWidth:ht.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ce.Ro(430,Vt+12*Rt+Cn)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(ht){this._storageService.store("expandSuggestionDocs",ht,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};ai.LOADING_MESSAGE=O.NC("suggestWidget.loading","Loading..."),ai.NO_SUGGESTIONS_MESSAGE=O.NC("suggestWidget.noSuggestions","No suggestions."),ai=function(En,ht,Rt,Vt){var Re,Zt=arguments.length,Cn=Zt<3?ht:null===Vt?Vt=Object.getOwnPropertyDescriptor(ht,Rt):Vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Cn=Reflect.decorate(En,ht,Rt,Vt);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(Cn=(Zt<3?Re(Cn):Zt>3?Re(ht,Rt,Cn):Re(ht,Rt))||Cn);return Zt>3&&Cn&&Object.defineProperty(ht,Rt,Cn),Cn}([Oi(1,je.Uy),Oi(2,D.i6),Oi(3,be.XE),Oi(4,U.TG)],ai);class Yt{constructor(ht,Rt){this._widget=ht,this._editor=Rt,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:ht,width:Rt}=this._widget.element.size,{borderWidth:Vt,horizontalPadding:Zt}=this._widget.getLayoutInfo();return new ce.Ro(Rt+2*Vt+Zt,ht+2*Vt)}afterRender(ht){this._widget._afterRender(ht)}setPreference(ht){this._preferenceLocked||(this._preference=ht)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(ht){this._position=ht}}var kt=e(7626),On=function(En,ht){return function(Rt,Vt){ht(Rt,Vt,En)}};class dn{constructor(ht,Rt){if(this._model=ht,this._position=Rt,ht.getLineMaxColumn(Rt.lineNumber)!==Rt.column){const Zt=ht.getOffsetAt(Rt),Cn=ht.getPositionAt(Zt+1);this._marker=ht.deltaDecorations([],[{range:p.e.fromPositions(Rt,Cn),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(ht){if(this._model.isDisposed()||this._position.lineNumber!==ht.lineNumber)return 0;if(this._marker){const Rt=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Rt.getStartPosition())-this._model.getOffsetAt(ht)}return this._model.getLineMaxColumn(ht.lineNumber)-ht.column}}let gt=class gu{constructor(ht,Rt,Vt,Zt,Cn,Re,ct){this._memoryService=Rt,this._commandService=Vt,this._contextKeyService=Zt,this._instantiationService=Cn,this._logService=Re,this._telemetryService=ct,this._lineSuffix=new E.XK,this._toDispose=new E.SL,this._selectors=new sn(yi=>yi.priority),this._telemetryGate=0,this.editor=ht,this.model=Cn.createInstance(ze,this.editor);const _n=F._y.InsertMode.bindTo(Zt);_n.set(ht.getOption(108).insertMode),this.model.onDidTrigger(()=>_n.set(ht.getOption(108).insertMode)),this.widget=this._toDispose.add(new l.Ue(()=>{const yi=this._instantiationService.createInstance(ai,this.editor);this._toDispose.add(yi),this._toDispose.add(yi.onDidSelect(me=>this._insertSuggestion(me,0),this));const di=new ne(this.editor,yi,me=>this._insertSuggestion(me,2));this._toDispose.add(di),this._toDispose.add(this.model.onDidSuggest(me=>{0===me.completionModel.items.length&&di.reset()}));const Ft=F._y.MakesTextEdit.bindTo(this._contextKeyService),R=F._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),q=F._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,E.OF)(()=>{Ft.reset(),R.reset(),q.reset()})),this._toDispose.add(yi.onDidFocus(({item:me})=>{const Ke=this.editor.getPosition(),Xe=me.editStart.column,at=Ke.column;let tn=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!me.completion.additionalTextEdits&&!(4&me.completion.insertTextRules)&&at-Xe===me.completion.insertText.length&&(tn=this.editor.getModel().getValueInRange({startLineNumber:Ke.lineNumber,startColumn:Xe,endLineNumber:Ke.lineNumber,endColumn:at})!==me.completion.insertText),Ft.set(tn),R.set(!a.L.equals(me.editInsertEnd,me.editReplaceEnd)),q.set(Boolean(me.provider.resolveCompletionItem)||Boolean(me.completion.documentation)||me.completion.detail!==me.completion.label)})),this._toDispose.add(yi.onDetailsKeyDown(me=>{me.toKeybinding().equals(new C.QC(!0,!1,!1,!1,33))||L.dz&&me.toKeybinding().equals(new C.QC(!1,!1,!1,!0,33))?me.stopPropagation():me.toKeybinding().isModifierKey()||this.editor.focus()})),yi})),this._overtypingCapturer=this._toDispose.add(new l.Ue(()=>this._toDispose.add(new $e(this.editor,this.model)))),this._alternatives=this._toDispose.add(new l.Ue(()=>this._toDispose.add(new $(this.editor,this._contextKeyService)))),this._toDispose.add(Cn.createInstance(P,ht)),this._toDispose.add(this.model.onDidTrigger(yi=>{this.widget.value.showTriggered(yi.auto,yi.shy?250:50),this._lineSuffix.value=new dn(this.editor.getModel(),yi.position)})),this._toDispose.add(this.model.onDidSuggest(yi=>{if(yi.shy)return;let di=-1;if(!yi.noSelect){for(const Ft of this._selectors.itemsOrderedByPriorityDesc)if(di=Ft.select(this.editor.getModel(),this.editor.getPosition(),yi.completionModel.items),-1!==di)break;-1===di&&(di=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),yi.completionModel.items))}this.widget.value.showSuggestions(yi.completionModel,di,yi.isFrozen,yi.auto)})),this._toDispose.add(this.model.onDidCancel(yi=>{yi.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const Hn=F._y.AcceptSuggestionsOnEnter.bindTo(Zt),Ai=()=>{const yi=this.editor.getOption(1);Hn.set("on"===yi||"smart"===yi)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Ai())),Ai()}static get(ht){return ht.getContribution(gu.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(ht,Rt){if(!ht||!ht.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const Vt=g.SnippetController2.get(this.editor);if(!Vt)return;const Zt=this.editor.getModel(),Cn=Zt.getAlternativeVersionId(),{item:Re}=ht,ct=[],_n=new S.A;1&Rt||this.editor.pushUndoStop();const Hn=this.getOverwriteInfo(Re,Boolean(8&Rt));if(this._memoryService.memorize(Zt,this.editor.getPosition(),Re),Array.isArray(Re.completion.additionalTextEdits)){const yi=m.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Re.completion.additionalTextEdits.map(di=>n.h.replaceMove(p.e.lift(di.range),di.text))),yi.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Re.isResolved){const yi=new _.G(!0);let di;const Ft=Zt.onDidChangeContent(Ke=>{if(Ke.isFlush)return _n.cancel(),void Ft.dispose();for(const Xe of Ke.changes){const at=p.e.getEndPosition(Xe.range);(!di||a.L.isBefore(at,di))&&(di=at)}}),R=Rt;Rt|=2;let q=!1;const me=this.editor.onWillType(()=>{me.dispose(),q=!0,2&R||this.editor.pushUndoStop()});ct.push(Re.resolve(_n.token).then(()=>{if(!Re.completion.additionalTextEdits||_n.token.isCancellationRequested||di&&Re.completion.additionalTextEdits.some(Xe=>a.L.isBefore(di,p.e.getStartPosition(Xe.range))))return!1;q&&this.editor.pushUndoStop();const Ke=m.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Re.completion.additionalTextEdits.map(Xe=>n.h.replaceMove(p.e.lift(Xe.range),Xe.text))),Ke.restoreRelativeVerticalPositionOfCursor(this.editor),(q||!(2&R))&&this.editor.pushUndoStop(),!0}).then(Ke=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",yi.elapsed(),Ke),Ft.dispose(),me.dispose()}))}let{insertText:Ai}=Re.completion;4&Re.completion.insertTextRules||(Ai=b.Yj.escape(Ai)),Vt.insert(Ai,{overwriteBefore:Hn.overwriteBefore,overwriteAfter:Hn.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&Re.completion.insertTextRules),clipboardText:ht.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&Rt||this.editor.pushUndoStop(),Re.completion.command?Re.completion.command.id===nn.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(ct.push(this._commandService.executeCommand(Re.completion.command.id,...Re.completion.command.arguments?[...Re.completion.command.arguments]:[]).catch(v.dL)),this.model.cancel()):this.model.cancel(),4&Rt&&this._alternatives.value.set(ht,yi=>{for(_n.cancel();Zt.canUndo();){Cn!==Zt.getAlternativeVersionId()&&Zt.undo(),this._insertSuggestion(yi,3|(8&Rt?8:0));break}}),this._alertCompletionItem(Re),Promise.all(ct).finally(()=>{this._reportSuggestionAcceptedTelemetry(Re,Zt,ht),this.model.clear(),_n.dispose()})}_reportSuggestionAcceptedTelemetry(ht,Rt,Vt){var Zt;if(this._telemetryGate++%100!=0)return;const Cn=ht.extensionId?ht.extensionId.value:(null!==(Zt=Vt.item.provider._debugDisplayName)&&void 0!==Zt?Zt:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:Cn,kind:ht.completion.kind,basenameHash:(0,kt.vp)((0,oo.EZ)(Rt.uri)).toString(16),languageId:Rt.getLanguageId(),fileExtension:(0,oo.DZ)(Rt.uri)})}getOverwriteInfo(ht,Rt){(0,s.p_)(this.editor.hasModel());let Vt="replace"===this.editor.getOption(108).insertMode;Rt&&(Vt=!Vt);const Cn=(Vt?ht.editReplaceEnd.column:ht.editInsertEnd.column)-ht.position.column;return{overwriteBefore:ht.position.column-ht.editStart.column+(this.editor.getPosition().column-ht.position.column),overwriteAfter:Cn+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(ht){if((0,t.Of)(ht.completion.additionalTextEdits)){const Rt=O.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",ht.textLabel,ht.completion.additionalTextEdits.length);(0,d.Z9)(Rt)}}triggerSuggest(ht,Rt,Vt,Zt){this.editor.hasModel()&&(this.model.trigger({auto:Rt??!1,shy:!1,noSelect:Zt??!1},!1,ht,void 0,Vt),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(ht){if(!this.editor.hasModel())return;const Rt=this.editor.getPosition(),Vt=()=>{Rt.equals(this.editor.getPosition())&&this._commandService.executeCommand(ht.fallback)},Zt=Cn=>{if(4&Cn.completion.insertTextRules||Cn.completion.additionalTextEdits)return!0;const Re=this.editor.getPosition(),ct=Cn.editStart.column,_n=Re.column;return _n-ct!==Cn.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:Re.lineNumber,startColumn:ct,endLineNumber:Re.lineNumber,endColumn:_n})!==Cn.completion.insertText};T.ju.once(this.model.onDidTrigger)(Cn=>{const Re=[];T.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,E.B9)(Re),Vt()},void 0,Re),this.model.onDidSuggest(({completionModel:ct})=>{if((0,E.B9)(Re),0===ct.items.length)return void Vt();const _n=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ct.items),Hn=ct.items[_n];Zt(Hn)?(this.editor.pushUndoStop(),this._insertSuggestion({index:_n,item:Hn,model:ct},7)):Vt()},void 0,Re)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(Rt,0),this.editor.focus()}acceptSelectedSuggestion(ht,Rt){const Vt=this.widget.value.getFocusedItem();let Zt=0;ht&&(Zt|=4),Rt&&(Zt|=8),this._insertSuggestion(Vt,Zt)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(ht){return this._selectors.register(ht)}};gt.ID="editor.contrib.suggestController",gt=function(En,ht,Rt,Vt){var Re,Zt=arguments.length,Cn=Zt<3?ht:null===Vt?Vt=Object.getOwnPropertyDescriptor(ht,Rt):Vt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Cn=Reflect.decorate(En,ht,Rt,Vt);else for(var ct=En.length-1;ct>=0;ct--)(Re=En[ct])&&(Cn=(Zt<3?Re(Cn):Zt>3?Re(ht,Rt,Cn):Re(ht,Rt))||Cn);return Zt>3&&Cn&&Object.defineProperty(ht,Rt,Cn),Cn}([On(1,y.Fh),On(2,H.Hy),On(3,D.i6),On(4,U.TG),On(5,K.VZ),On(6,Ee.b)],gt);class sn{constructor(ht){this.prioritySelector=ht,this._items=new Array}register(ht){if(-1!==this._items.indexOf(ht))throw new Error("Value is already registered");return this._items.push(ht),this._items.sort((Rt,Vt)=>this.prioritySelector(Vt)-this.prioritySelector(Rt)),{dispose:()=>{const Rt=this._items.indexOf(ht);Rt>=0&&this._items.splice(Rt,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let nn=(()=>{class En extends c.R6{constructor(){super({id:En.id,label:O.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:D.Ao.and(u.u.writable,u.u.hasCompletionItemProvider),kbOpts:{kbExpr:u.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Rt,Vt,Zt){const Cn=gt.get(Vt);if(!Cn)return;let Re,ct;Zt&&"object"==typeof Zt&&(!0===Zt.auto&&(Re=!0),!0===Zt.noSelection&&(ct=!0)),Cn.triggerSuggest(void 0,Re,void 0,ct)}}return En.id="editor.action.triggerSuggest",En})();(0,c._K)(gt.ID,gt),(0,c.Qr)(nn);const xn=190,Pn=c._l.bindToContribution(gt.get);(0,c.fK)(new Pn({id:"acceptSelectedSuggestion",precondition:D.Ao.and(F._y.Visible,F._y.HasFocusedSuggestion),handler(En){En.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:D.Ao.and(F._y.Visible,u.u.textInputFocus),weight:xn},{primary:3,kbExpr:D.Ao.and(F._y.Visible,u.u.textInputFocus,F._y.AcceptSuggestionsOnEnter,F._y.MakesTextEdit),weight:xn}],menuOpts:[{menuId:F.GI,title:O.NC("accept.insert","Insert"),group:"left",order:1,when:F._y.HasInsertAndReplaceRange.toNegated()},{menuId:F.GI,title:O.NC("accept.insert","Insert"),group:"left",order:1,when:D.Ao.and(F._y.HasInsertAndReplaceRange,F._y.InsertMode.isEqualTo("insert"))},{menuId:F.GI,title:O.NC("accept.replace","Replace"),group:"left",order:1,when:D.Ao.and(F._y.HasInsertAndReplaceRange,F._y.InsertMode.isEqualTo("replace"))}]})),(0,c.fK)(new Pn({id:"acceptAlternativeSelectedSuggestion",precondition:D.Ao.and(F._y.Visible,u.u.textInputFocus,F._y.HasFocusedSuggestion),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:1027,secondary:[1026]},handler(En){En.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:F.GI,group:"left",order:2,when:D.Ao.and(F._y.HasInsertAndReplaceRange,F._y.InsertMode.isEqualTo("insert")),title:O.NC("accept.replace","Replace")},{menuId:F.GI,group:"left",order:2,when:D.Ao.and(F._y.HasInsertAndReplaceRange,F._y.InsertMode.isEqualTo("replace")),title:O.NC("accept.insert","Insert")}]})),H.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,c.fK)(new Pn({id:"hideSuggestWidget",precondition:F._y.Visible,handler:En=>En.cancelSuggestWidget(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:9,secondary:[1033]}})),(0,c.fK)(new Pn({id:"selectNextSuggestion",precondition:D.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:En=>En.selectNextSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,c.fK)(new Pn({id:"selectNextPageSuggestion",precondition:D.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:En=>En.selectNextPageSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:12,secondary:[2060]}})),(0,c.fK)(new Pn({id:"selectLastSuggestion",precondition:D.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:En=>En.selectLastSuggestion()})),(0,c.fK)(new Pn({id:"selectPrevSuggestion",precondition:D.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:En=>En.selectPrevSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,c.fK)(new Pn({id:"selectPrevPageSuggestion",precondition:D.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:En=>En.selectPrevPageSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:11,secondary:[2059]}})),(0,c.fK)(new Pn({id:"selectFirstSuggestion",precondition:D.Ao.and(F._y.Visible,F._y.MultipleSuggestions),handler:En=>En.selectFirstSuggestion()})),(0,c.fK)(new Pn({id:"toggleSuggestionDetails",precondition:F._y.Visible,handler:En=>En.toggleSuggestionDetails(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:F.GI,group:"right",order:1,when:D.Ao.and(F._y.DetailsVisible,F._y.CanResolve),title:O.NC("detail.more","show less")},{menuId:F.GI,group:"right",order:1,when:D.Ao.and(F._y.DetailsVisible.toNegated(),F._y.CanResolve),title:O.NC("detail.less","show more")}]})),(0,c.fK)(new Pn({id:"toggleExplainMode",precondition:F._y.Visible,handler:En=>En.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,c.fK)(new Pn({id:"toggleSuggestionFocus",precondition:F._y.Visible,handler:En=>En.toggleSuggestionFocus(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,c.fK)(new Pn({id:"insertBestCompletion",precondition:D.Ao.and(u.u.textInputFocus,D.Ao.equals("config.editor.tabCompletion","on"),P.AtEnd,F._y.Visible.toNegated(),$.OtherSuggestions.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:(En,ht)=>{En.triggerSuggestAndAcceptBest((0,s.Kn)(ht)?Object.assign({fallback:"tab"},ht):{fallback:"tab"})},kbOpts:{weight:xn,primary:2}})),(0,c.fK)(new Pn({id:"insertNextSuggestion",precondition:D.Ao.and(u.u.textInputFocus,D.Ao.equals("config.editor.tabCompletion","on"),$.OtherSuggestions,F._y.Visible.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:En=>En.acceptNextSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:2}})),(0,c.fK)(new Pn({id:"insertPrevSuggestion",precondition:D.Ao.and(u.u.textInputFocus,D.Ao.equals("config.editor.tabCompletion","on"),$.OtherSuggestions,F._y.Visible.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:En=>En.acceptPrevSuggestion(),kbOpts:{weight:xn,kbExpr:u.u.textInputFocus,primary:1026}})),(0,c.Qr)(class extends c.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:O.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(En,ht){var Rt;null===(Rt=gt.get(ht))||void 0===Rt||Rt.resetWidgetSize()}})},99401:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{SuggestInlineCompletions:()=>D});var d=e(73888),t=e(25715),l=e(1999),S=e(80142),v=e(26845),T=e(33745),C=e(98570),E=e(90790),L=e(98104),_=e(83961),s=e(83956),m=e(82557),c=e(37833),n=e(25787),a=e(9265),p=function(I,P,O,H){var F,U=arguments.length,K=U<3?P:null===H?H=Object.getOwnPropertyDescriptor(P,O):H;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(I,P,O,H);else for(var B=I.length-1;B>=0;B--)(F=I[B])&&(K=(U<3?F(K):U>3?F(P,O,K):F(P,O))||K);return U>3&&K&&Object.defineProperty(P,O,K),K},u=function(I,P){return function(O,H){P(O,H,I)}};class b{constructor(P,O,H,U,K,F){this.range=P,this.insertText=O,this.filterText=H,this.additionalTextEdits=U,this.command=K,this.completion=F}}let y=class extends S.L6{constructor(P,O,H,U,K,F){super(K.disposable),this.model=P,this.line=O,this.word=H,this.completionModel=U,this._suggestMemoryService=F}canBeReused(P,O,H){return this.model===P&&this.line===O&&this.word.word.length>0&&this.word.startColumn===H.startColumn&&this.word.endColumn<H.endColumn&&0===this.completionModel.incomplete.size}get items(){var P;const O=[],{items:H}=this.completionModel,U=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},H),K=l.$.slice(H,U),F=l.$.slice(H,0,U);let B=5;for(const z of l.$.concat(K,F)){if(z.score===t.CL.Default)continue;const $=new C.e(z.editStart.lineNumber,z.editStart.column,z.editInsertEnd.lineNumber,z.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta);O.push(new b($,z.completion.insertTextRules&&z.completion.insertTextRules&L.a7.InsertAsSnippet?{snippet:z.completion.insertText}:z.completion.insertText,null!==(P=z.filterTextLow)&&void 0!==P?P:z.labelLow,z.completion.additionalTextEdits,z.completion.command,z)),B-- >=0&&z.resolve(d.T.None)}return O}};y=p([u(5,m.Fh)],y);let D=class{constructor(P,O,H,U){this._getEditorOption=P,this._languageFeatureService=O,this._clipboardService=H,this._suggestMemoryService=U}provideInlineCompletions(P,O,H,U){var K;return function(I,P,O,H){return new(O||(O=Promise))(function(K,F){function B(j){try{$(H.next(j))}catch(ne){F(ne)}}function z(j){try{$(H.throw(j))}catch(ne){F(ne)}}function $(j){j.done?K(j.value):function U(K){return K instanceof O?K:new O(function(F){F(K)})}(j.value).then(B,z)}$((H=H.apply(I,P||[])).next())})}(this,void 0,void 0,function*(){if(H.selectedSuggestionInfo)return;const F=this._getEditorOption(81,P);if(s.tG.isAllOff(F))return;P.tokenization.tokenizeIfCheap(O.lineNumber);const B=P.tokenization.getLineTokens(O.lineNumber),z=B.getStandardTokenType(B.findTokenIndexAtOffset(Math.max(O.column-1-1,0)));if("inline"!==s.tG.valueFor(F,z))return;let j,ne,$=P.getWordAtPosition(O);if($?.word||(j=this._getTriggerCharacterInfo(P,O)),!$?.word&&!j||($||($=P.getWordUntilPosition(O)),$.endColumn!==O.column))return;const N=P.getValueInRange(new C.e(O.lineNumber,1,O.lineNumber,O.column));if(!j&&(null===(K=this._lastResult)||void 0===K?void 0:K.canBeReused(P,O.lineNumber,$))){const V=new _.t(N,O.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=V,this._lastResult.acquire(),ne=this._lastResult}else{const V=yield(0,s.kL)(this._languageFeatureService.completionProvider,P,O,new s.A9(void 0,void 0,j?.providers),j&&{triggerKind:1,triggerCharacter:j.ch},U);let Z;V.needsClipboard&&(Z=yield this._clipboardService.readText());const fe=new _._(V.items,O.column,new _.t(N,0),c.K.None,this._getEditorOption(108,P),this._getEditorOption(103,P),{boostFullMatch:!1,firstMatchCanBeWeak:!1},Z);ne=new y(P,O.lineNumber,$,fe,V,this._suggestMemoryService)}return this._lastResult=ne,ne})}handleItemDidShow(P,O){O.completion.resolve(d.T.None)}freeInlineCompletions(P){P.release()}_getTriggerCharacterInfo(P,O){var H;const U=P.getValueInRange(C.e.fromPositions({lineNumber:O.lineNumber,column:O.column-1},O)),K=new Set;for(const F of this._languageFeatureService.completionProvider.all(P))null!==(H=F.triggerCharacters)&&void 0!==H&&H.includes(U)&&K.add(F);if(0!==K.size)return{providers:K,ch:U}}};D=p([u(1,E.p),u(2,n.p),u(3,m.Fh)],D);let w=class id{constructor(P,O,H,U){if(1==++id._counter){const K=U.createInstance(D,(F,B)=>{var z;return(null!==(z=H.listCodeEditors().find(j=>j.getModel()===B))&&void 0!==z?z:P).getOption(F)});id._disposable=O.inlineCompletionsProvider.register("*",K)}}dispose(){var P;0==--id._counter&&(null===(P=id._disposable)||void 0===P||P.dispose(),id._disposable=void 0)}};w._counter=0,w=p([u(1,E.p),u(2,T.$),u(3,a.TG)],w),(0,v._K)("suggest.inlineCompletionsProvider",w)},82557:(Et,X,e)=>{"use strict";e.d(X,{Fh:()=>p});var d=e(48648),t=e(80142),l=e(5067),S=e(45337),v=e(94667),T=e(47494),C=e(9265),E=e(48190),_=function(u,g){return function(b,y){g(b,y,u)}};class s{constructor(g){this.name=g}select(g,b,y){if(0===y.length)return 0;const D=y[0].score[0];for(let w=0;w<y.length;w++){const{score:I,completion:P}=y[w];if(I[0]!==D)break;if(P.preselect)return w}return 0}}class m extends s{constructor(){super("first")}memorize(g,b,y){}toJSON(){}fromJSON(){}}let a=class Qd{constructor(g,b){this._storageService=g,this._configService=b,this._disposables=new t.SL,this._persistSoon=new d.pY(()=>this._saveState(),500),this._disposables.add(g.onWillSaveState(y=>{y.reason===E.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(g,b,y){this._withStrategy(g,b).memorize(g,b,y),this._persistSoon.schedule()}select(g,b,y){return this._withStrategy(g,b).select(g,b,y)}_withStrategy(g,b){var y;const D=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:g.getLanguageIdAtPosition(b.lineNumber,b.column),resource:g.uri});if((null===(y=this._strategy)||void 0===y?void 0:y.name)!==D){this._saveState();const w=Qd._strategyCtors.get(D)||m;this._strategy=new w;try{const P=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,O=this._storageService.get(`${Qd._storagePrefix}/${D}`,P);O&&this._strategy.fromJSON(JSON.parse(O))}catch{}}return this._strategy}_saveState(){if(this._strategy){const b=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,y=JSON.stringify(this._strategy);this._storageService.store(`${Qd._storagePrefix}/${this._strategy.name}`,y,b,1)}}};a._strategyCtors=new Map([["recentlyUsedByPrefix",class n extends s{constructor(){super("recentlyUsedByPrefix"),this._trie=l.Id.forStrings(),this._seq=0}memorize(g,b,y){const{word:D}=g.getWordUntilPosition(b),w=`${g.getLanguageId()}/${D}`;this._trie.set(w,{type:y.completion.kind,insertText:y.completion.insertText,touch:this._seq++})}select(g,b,y){const{word:D}=g.getWordUntilPosition(b);if(!D)return super.select(g,b,y);const w=`${g.getLanguageId()}/${D}`;let I=this._trie.get(w);if(I||(I=this._trie.findSubstr(w)),I)for(let P=0;P<y.length;P++){const{kind:O,insertText:H}=y[P].completion;if(O===I.type&&H===I.insertText)return P}return super.select(g,b,y)}toJSON(){const g=[];return this._trie.forEach((b,y)=>g.push([y,b])),g.sort((b,y)=>-(b[1].touch-y[1].touch)).forEach((b,y)=>b[1].touch=y),g.slice(0,200)}fromJSON(g){if(this._trie.clear(),g.length>0){this._seq=g[0][1].touch+1;for(const[b,y]of g)y.type="number"==typeof y.type?y.type:S.gX.fromString(y.type),this._trie.set(b,y)}}}],["recentlyUsed",class c extends s{constructor(){super("recentlyUsed"),this._cache=new l.z6(300,.66),this._seq=0}memorize(g,b,y){const D=`${g.getLanguageId()}/${y.textLabel}`;this._cache.set(D,{touch:this._seq++,type:y.completion.kind,insertText:y.completion.insertText})}select(g,b,y){if(0===y.length)return 0;const D=g.getLineContent(b.lineNumber).substr(b.column-10,b.column-1);if(/\s$/.test(D))return super.select(g,b,y);const w=y[0].score[0];let P=-1,O=-1;for(let H=0;H<y.length&&y[H].score[0]===w;H++){const U=`${g.getLanguageId()}/${y[H].textLabel}`,K=this._cache.peek(U);if(K&&K.touch>O&&K.type===y[H].completion.kind&&K.insertText===y[H].completion.insertText&&(O=K.touch,P=H),y[H].completion.preselect)return H}return-1!==P?P:0}toJSON(){return this._cache.toJSON()}fromJSON(g){this._cache.clear();for(const[y,D]of g)D.touch=0,D.type="number"==typeof D.type?D.type:S.gX.fromString(D.type),this._cache.set(y,D);this._seq=this._cache.size}}],["first",m]]),a._storagePrefix="suggest/memories",a=function(u,g,b,y){var I,D=arguments.length,w=D<3?g:null===y?y=Object.getOwnPropertyDescriptor(g,b):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(u,g,b,y);else for(var P=u.length-1;P>=0;P--)(I=u[P])&&(w=(D<3?I(w):D>3?I(g,b,w):I(g,b))||w);return D>3&&w&&Object.defineProperty(g,b,w),w}([_(0,E.Uy),_(1,v.Ui)],a);const p=(0,C.yh)("ISuggestMemories");(0,T.z)(p,a,!0)},37833:(Et,X,e)=>{"use strict";e.d(X,{K:()=>v});var d=e(64023),t=e(98570),l=e(44221);class v{static create(C,E){return function(T,C,E,L){return new(E||(E=Promise))(function(s,m){function c(p){try{a(L.next(p))}catch(u){m(u)}}function n(p){try{a(L.throw(p))}catch(u){m(u)}}function a(p){p.done?s(p.value):function _(s){return s instanceof E?s:new E(function(m){m(s)})}(p.value).then(c,n)}a((L=L.apply(T,C||[])).next())})}(this,void 0,void 0,function*(){if(!E.getOption(108).localityBonus||!E.hasModel())return v.None;const L=E.getModel(),_=E.getPosition();if(!C.canComputeWordRanges(L.uri))return v.None;const[s]=yield(new l.x).provideSelectionRanges(L,[_]);if(0===s.length)return v.None;const m=yield C.computeWordRanges(L.uri,s[0].range);if(!m)return v.None;const c=L.getWordUntilPosition(_);return delete m[c.word],new class extends v{distance(n,a){if(!_.equals(E.getPosition()))return 0;if(17===a.kind)return 2<<20;const u=m["string"==typeof a.label?a.label:a.label.label];if((0,d.XY)(u))return 2<<20;const g=(0,d.ry)(u,t.e.fromPositions(n),t.e.compareRangesUsingStarts),b=g>=0?u[g]:u[Math.max(0,~g-1)];let y=s.length;for(const D of s){if(!t.e.containsRange(D.range,b))break;y-=1}return y}}})}}v.None=new class extends v{distance(){return 0}}},71008:(Et,X,e)=>{"use strict";var d=e(58783),t=e(55197),l=e(4062),S=e(40902);const v=(0,l.P6G)("symbolIcon.arrayForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,l.P6G)("symbolIcon.booleanForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,l.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,t.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,l.P6G)("symbolIcon.colorForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,l.P6G)("symbolIcon.constantForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,l.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,t.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s=(0,l.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,t.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,l.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,t.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,l.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,t.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,l.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,t.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,l.P6G)("symbolIcon.fileForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,l.P6G)("symbolIcon.folderForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,l.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,t.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,l.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,t.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,l.P6G)("symbolIcon.keyForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,l.P6G)("symbolIcon.keywordForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,l.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,t.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,l.P6G)("symbolIcon.moduleForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,l.P6G)("symbolIcon.namespaceForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,l.P6G)("symbolIcon.nullForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,l.P6G)("symbolIcon.numberForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H=(0,l.P6G)("symbolIcon.objectForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U=(0,l.P6G)("symbolIcon.operatorForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K=(0,l.P6G)("symbolIcon.packageForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,l.P6G)("symbolIcon.propertyForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,l.P6G)("symbolIcon.referenceForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,l.P6G)("symbolIcon.snippetForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,l.P6G)("symbolIcon.stringForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,l.P6G)("symbolIcon.structForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ne=(0,l.P6G)("symbolIcon.textForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,l.P6G)("symbolIcon.typeParameterForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),V=(0,l.P6G)("symbolIcon.unitForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,t.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,l.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,t.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,S.Ic)((fe,M)=>{const Se=fe.getColor(v);Se&&M.addRule(`${d.lA.symbolArray.cssSelector} { color: ${Se}; }`);const Ee=fe.getColor(T);Ee&&M.addRule(`${d.lA.symbolBoolean.cssSelector} { color: ${Ee}; }`);const Le=fe.getColor(C);Le&&M.addRule(`${d.lA.symbolClass.cssSelector} { color: ${Le}; }`);const Ne=fe.getColor(D);Ne&&M.addRule(`${d.lA.symbolMethod.cssSelector} { color: ${Ne}; }`);const oe=fe.getColor(E);oe&&M.addRule(`${d.lA.symbolColor.cssSelector} { color: ${oe}; }`);const we=fe.getColor(L);we&&M.addRule(`${d.lA.symbolConstant.cssSelector} { color: ${we}; }`);const xe=fe.getColor(_);xe&&M.addRule(`${d.lA.symbolConstructor.cssSelector} { color: ${xe}; }`);const pe=fe.getColor(s);pe&&M.addRule(`\n\t\t\t${d.lA.symbolValue.cssSelector},${d.lA.symbolEnum.cssSelector} { color: ${pe}; }`);const Te=fe.getColor(m);Te&&M.addRule(`${d.lA.symbolEnumMember.cssSelector} { color: ${Te}; }`);const de=fe.getColor(c);de&&M.addRule(`${d.lA.symbolEvent.cssSelector} { color: ${de}; }`);const ke=fe.getColor(n);ke&&M.addRule(`${d.lA.symbolField.cssSelector} { color: ${ke}; }`);const ze=fe.getColor(a);ze&&M.addRule(`${d.lA.symbolFile.cssSelector} { color: ${ze}; }`);const $e=fe.getColor(p);$e&&M.addRule(`${d.lA.symbolFolder.cssSelector} { color: ${$e}; }`);const ce=fe.getColor(u);ce&&M.addRule(`${d.lA.symbolFunction.cssSelector} { color: ${ce}; }`);const Ue=fe.getColor(g);Ue&&M.addRule(`${d.lA.symbolInterface.cssSelector} { color: ${Ue}; }`);const nt=fe.getColor(b);nt&&M.addRule(`${d.lA.symbolKey.cssSelector} { color: ${nt}; }`);const Dt=fe.getColor(y);Dt&&M.addRule(`${d.lA.symbolKeyword.cssSelector} { color: ${Dt}; }`);const Lt=fe.getColor(w);Lt&&M.addRule(`${d.lA.symbolModule.cssSelector} { color: ${Lt}; }`);const Ze=fe.getColor(I);Ze&&M.addRule(`${d.lA.symbolNamespace.cssSelector} { color: ${Ze}; }`);const ae=fe.getColor(P);ae&&M.addRule(`${d.lA.symbolNull.cssSelector} { color: ${ae}; }`);const _e=fe.getColor(O);_e&&M.addRule(`${d.lA.symbolNumber.cssSelector} { color: ${_e}; }`);const he=fe.getColor(H);he&&M.addRule(`${d.lA.symbolObject.cssSelector} { color: ${he}; }`);const le=fe.getColor(U);le&&M.addRule(`${d.lA.symbolOperator.cssSelector} { color: ${le}; }`);const Q=fe.getColor(K);Q&&M.addRule(`${d.lA.symbolPackage.cssSelector} { color: ${Q}; }`);const ve=fe.getColor(F);ve&&M.addRule(`${d.lA.symbolProperty.cssSelector} { color: ${ve}; }`);const Ae=fe.getColor(B);Ae&&M.addRule(`${d.lA.symbolReference.cssSelector} { color: ${Ae}; }`);const dt=fe.getColor(z);dt&&M.addRule(`${d.lA.symbolSnippet.cssSelector} { color: ${dt}; }`);const st=fe.getColor($);st&&M.addRule(`${d.lA.symbolString.cssSelector} { color: ${st}; }`);const et=fe.getColor(j);et&&M.addRule(`${d.lA.symbolStruct.cssSelector} { color: ${et}; }`);const Qe=fe.getColor(ne);Qe&&M.addRule(`${d.lA.symbolText.cssSelector} { color: ${Qe}; }`);const tt=fe.getColor(N);tt&&M.addRule(`${d.lA.symbolTypeParameter.cssSelector} { color: ${tt}; }`);const vt=fe.getColor(V);vt&&M.addRule(`${d.lA.symbolUnit.cssSelector} { color: ${vt}; }`);const mt=fe.getColor(Z);mt&&M.addRule(`${d.lA.symbolVariable.cssSelector} { color: ${mt}; }`)})},92047:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{ToggleTabFocusModeAction:()=>v});var d=e(59797),t=e(5825),l=e(26845),S=e(55197);let v=(()=>{class T extends l.R6{constructor(){super({id:T.ID,label:S.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(E,L){const s=!t.n.getTabFocusMode();t.n.setTabFocusMode(s),(0,d.Z9)(s?S.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):S.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return T.ID="editor.action.toggleTabFocusMode",T})();(0,l.Qr)(v)},9192:(Et,X,e)=>{"use strict";e.r(X);var d=e(631),t=e(26845),l=e(55197);(0,t.Qr)(class S extends t.R6{constructor(){super({id:"editor.action.forceRetokenize",label:l.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(T,C){if(!C.hasModel())return;const E=C.getModel();E.tokenization.resetTokenization();const L=new d.G(!0);E.tokenization.forceTokenization(E.getLineCount()),L.stop(),console.log(`tokenization took ${L.elapsed()}`)}})},57436:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{DisableHighlightingInCommentsAction:()=>Bt,DisableHighlightingInStringsAction:()=>Ge,DisableHighlightingOfAmbiguousCharactersAction:()=>ut,DisableHighlightingOfInvisibleCharactersAction:()=>Ut,DisableHighlightingOfNonBasicAsciiCharactersAction:()=>hn,ShowExcludeOptions:()=>Dn,UnicodeHighlighter:()=>Ae,UnicodeHighlighterHoverParticipant:()=>Qe,warningIcon:()=>ve});var d=e(48648),t=e(58783),l=e(48701),S=e(80142),v=e(8841),T=e(73879),C=e(57856),E=e.n(C),L=e(38470),_=e.n(L),s=e(43370),m=e.n(s),c=e(28458),n=e.n(c),a=e(71278),p=e.n(a),u=e(29488),g=e.n(u),b=e(60716),y={};y.styleTagTransform=g(),y.setAttributes=n(),y.insert=m().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=p(),E()(b.Z,y);var I=e(26845),P=e(54862),O=e(59758),H=e(27245),U=e(81534),K=e(45358),F=e(53931),B=e(91717),z=e(84504),$=e(77459),j={};j.styleTagTransform=g(),j.setAttributes=n(),j.insert=m().bind(null,"head"),j.domAPI=_(),j.insertStyleElement=p(),E()($.Z,j);var V=e(98463),Z=e(65065),fe=e(827),M=e(29739),Se=e(9265),Ee=e(75366),Le=e(41140),Ne=e(62922),oe=e(3778),we=e(44827),xe=e(4062),pe=e(40902);let ke=class extends S.JT{constructor(ue,be,qe={},Fe){var ot;super(),this._link=be,this._enabled=!0,this.el=(0,V.R3)(ue,(0,V.$)("a.monaco-link",{tabIndex:null!==(ot=be.tabIndex)&&void 0!==ot?ot:0,href:be.href,title:be.title},be.label)),this.el.setAttribute("role","button");const bt=this._register(new Ee.Y(this.el,"click")),Ht=this._register(new Ee.Y(this.el,"keypress")),vn=oe.ju.chain(Ht.event).map(fn=>new Le.y(fn)).filter(fn=>3===fn.keyCode).event,Mn=this._register(new Ee.Y(this.el,Ne.t.Tap)).event;this._register(Ne.o.addTarget(this.el));const Ct=oe.ju.any(bt.event,vn,Mn);this._register(Ct(fn=>{!this.enabled||(V.zB.stop(fn,!0),qe?.opener?qe.opener(this._link.href):Fe.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(ue){ue?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=ue}};var ue;ke=function(Me,ue,be,qe){var bt,Fe=arguments.length,ot=Fe<3?ue:null===qe?qe=Object.getOwnPropertyDescriptor(ue,be):qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(Me,ue,be,qe);else for(var Ht=Me.length-1;Ht>=0;Ht--)(bt=Me[Ht])&&(ot=(Fe<3?bt(ot):Fe>3?bt(ue,be,ot):bt(ue,be))||ot);return Fe>3&&ot&&Object.defineProperty(ue,be,ot),ot}([(3,ue=we.v4,function(be,qe){ue(be,qe,3)})],ke),(0,pe.Ic)((Me,ue)=>{const be=Me.getColor(xe.url);be&&ue.addRule(`.monaco-link { color: ${be}; }`);const qe=Me.getColor(xe.sgC);qe&&ue.addRule(`.monaco-link:hover { color: ${qe}; }`)});var ze=e(66287),$e=function(Me,ue,be,qe){var bt,Fe=arguments.length,ot=Fe<3?ue:null===qe?qe=Object.getOwnPropertyDescriptor(ue,be):qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(Me,ue,be,qe);else for(var Ht=Me.length-1;Ht>=0;Ht--)(bt=Me[Ht])&&(ot=(Fe<3?bt(ot):Fe>3?bt(ue,be,ot):bt(ue,be))||ot);return Fe>3&&ot&&Object.defineProperty(ue,be,ot),ot},ce=function(Me,ue){return function(be,qe){ue(be,qe,Me)}};let nt=class extends S.JT{constructor(ue,be){super(),this._editor=ue,this.instantiationService=be,this.banner=this._register(this.instantiationService.createInstance(Dt))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(ue){this.banner.show(Object.assign(Object.assign({},ue),{onClose:()=>{var be;this.hide(),null===(be=ue.onClose)||void 0===be||be.call(ue)}})),this._editor.setBanner(this.banner.element,26)}};nt=$e([ce(1,Se.TG)],nt);let Dt=class extends S.JT{constructor(ue){super(),this.instantiationService=ue,this.markdownRenderer=this.instantiationService.createInstance(M.$,{}),this.element=(0,V.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(ue){return ue.ariaLabel?ue.ariaLabel:"string"==typeof ue.message?ue.message:void 0}getBannerMessage(ue){if("string"==typeof ue){const be=(0,V.$)("span");return be.innerText=ue,be}return this.markdownRenderer.render(ue).element}clear(){(0,V.PO)(this.element)}show(ue){(0,V.PO)(this.element);const be=this.getAriaLabel(ue);be&&this.element.setAttribute("aria-label",be);const qe=(0,V.R3)(this.element,(0,V.$)("div.icon-container"));qe.setAttribute("aria-hidden","true"),ue.icon&&qe.appendChild((0,V.$)(`div${pe.kS.asCSSSelector(ue.icon)}`));const Fe=(0,V.R3)(this.element,(0,V.$)("div.message-container"));if(Fe.setAttribute("aria-hidden","true"),Fe.appendChild(this.getBannerMessage(ue.message)),this.messageActionsContainer=(0,V.R3)(this.element,(0,V.$)("div.message-actions-container")),ue.actions)for(const bt of ue.actions)this._register(this.instantiationService.createInstance(ke,this.messageActionsContainer,Object.assign(Object.assign({},bt),{tabIndex:-1}),{}));const ot=(0,V.R3)(this.element,(0,V.$)("div.action-container"));this.actionBar=this._register(new Z.o(ot)),this.actionBar.push(this._register(new fe.aU("banner.close","Close Banner",pe.kS.asClassName(ze.s_),!0,()=>{"function"==typeof ue.onClose&&ue.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};Dt=$e([ce(0,Se.TG)],Dt);var Lt=e(55197),Ze=e(94667),ae=e(73622),_e=e(88521),he=function(Me,ue,be,qe){var bt,Fe=arguments.length,ot=Fe<3?ue:null===qe?qe=Object.getOwnPropertyDescriptor(ue,be):qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ot=Reflect.decorate(Me,ue,be,qe);else for(var Ht=Me.length-1;Ht>=0;Ht--)(bt=Me[Ht])&&(ot=(Fe<3?bt(ot):Fe>3?bt(ue,be,ot):bt(ue,be))||ot);return Fe>3&&ot&&Object.defineProperty(ue,be,ot),ot},le=function(Me,ue){return function(be,qe){ue(be,qe,Me)}},Q=function(Me,ue,be,qe){return new(be||(be=Promise))(function(ot,bt){function Ht(Ct){try{Mn(qe.next(Ct))}catch(fn){bt(fn)}}function vn(Ct){try{Mn(qe.throw(Ct))}catch(fn){bt(fn)}}function Mn(Ct){Ct.done?ot(Ct.value):function Fe(ot){return ot instanceof be?ot:new be(function(bt){bt(ot)})}(Ct.value).then(Ht,vn)}Mn((qe=qe.apply(Me,ue||[])).next())})};const ve=(0,ze.q5)("extensions-warning-message",t.lA.warning,Lt.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let Ae=class extends S.JT{constructor(ue,be,qe,Fe){super(),this._editor=ue,this._editorWorkerService=be,this._workspaceTrustService=qe,this._highlighter=null,this._bannerClosed=!1,this._updateState=ot=>{if(ot&&ot.hasMore){if(this._bannerClosed)return;const bt=Math.max(ot.ambiguousCharacterCount,ot.nonBasicAsciiCharacterCount,ot.invisibleCharacterCount);let Ht;if(ot.nonBasicAsciiCharacterCount>=bt)Ht={message:Lt.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new hn};else if(ot.ambiguousCharacterCount>=bt)Ht={message:Lt.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new ut};else{if(!(ot.invisibleCharacterCount>=bt))throw new Error("Unreachable");Ht={message:Lt.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Ut}}this._bannerController.show({id:"unicodeHighlightBanner",message:Ht.message,icon:ve,actions:[{label:Ht.command.shortLabel,href:`command:${Ht.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Fe.createInstance(nt,ue)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ue.getOption(115),this._register(qe.onDidChangeTrust(ot=>{this._updateHighlighter()})),this._register(ue.onDidChangeConfiguration(ot=>{ot.hasChanged(115)&&(this._options=ue.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ue=function dt(Me,ue){return{nonBasicASCII:ue.nonBasicASCII===P.Av?!Me:ue.nonBasicASCII,ambiguousCharacters:ue.ambiguousCharacters,invisibleCharacters:ue.invisibleCharacters,includeComments:ue.includeComments===P.Av?!Me:ue.includeComments,includeStrings:ue.includeStrings===P.Av?!Me:ue.includeStrings,allowedCharacters:ue.allowedCharacters,allowedLocales:ue.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ue.nonBasicASCII,ue.ambiguousCharacters,ue.invisibleCharacters].every(qe=>!1===qe))return;const be={nonBasicASCII:ue.nonBasicASCII,ambiguousCharacters:ue.ambiguousCharacters,invisibleCharacters:ue.invisibleCharacters,includeComments:ue.includeComments,includeStrings:ue.includeStrings,allowedCodePoints:Object.keys(ue.allowedCharacters).map(qe=>qe.codePointAt(0)),allowedLocales:Object.keys(ue.allowedLocales).map(qe=>"_os"===qe?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===qe?v.dK:qe)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new st(this._editor,be,this._updateState,this._editorWorkerService):new et(this._editor,be,this._updateState)}getDecorationInfo(ue){return this._highlighter?this._highlighter.getDecorationInfo(ue):null}};Ae.ID="editor.contrib.unicodeHighlighter",Ae=he([le(1,U.p),le(2,_e.Y),le(3,Se.TG)],Ae);let st=class extends S.JT{constructor(ue,be,qe,Fe){super(),this._editor=ue,this._options=be,this._updateState=qe,this._editorWorkerService=Fe,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new d.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const ue=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(be=>{if(this._model.isDisposed()||this._model.getVersionId()!==ue)return;this._updateState(be);const qe=[];if(!be.hasMore)for(const Fe of be.ranges)qe.push({range:Fe,options:Kt.instance.getDecorationFromOptions(this._options)});this._decorations.set(qe)})}getDecorationInfo(ue){if(!this._decorations.has(ue))return null;const be=this._editor.getModel();return(0,F.Fd)(be,ue)?{reason:_t(be.getValueInRange(ue.range),this._options),inComment:(0,F.$t)(be,ue),inString:(0,F.zg)(be,ue)}:null}};st=he([le(3,U.p)],st);class et extends S.JT{constructor(ue,be,qe){super(),this._editor=ue,this._options=be,this._updateState=qe,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new d.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const ue=this._editor.getVisibleRanges(),be=[],qe={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Fe of ue){const ot=H.a.computeUnicodeHighlights(this._model,this._options,Fe);for(const bt of ot.ranges)qe.ranges.push(bt);qe.ambiguousCharacterCount+=qe.ambiguousCharacterCount,qe.invisibleCharacterCount+=qe.invisibleCharacterCount,qe.nonBasicAsciiCharacterCount+=qe.nonBasicAsciiCharacterCount,qe.hasMore=qe.hasMore||ot.hasMore}if(!qe.hasMore)for(const Fe of qe.ranges)be.push({range:Fe,options:Kt.instance.getDecorationFromOptions(this._options)});this._updateState(qe),this._decorations.set(be)}getDecorationInfo(ue){if(!this._decorations.has(ue))return null;const be=this._editor.getModel(),qe=be.getValueInRange(ue.range);return(0,F.Fd)(be,ue)?{reason:_t(qe,this._options),inComment:(0,F.$t)(be,ue),inString:(0,F.zg)(be,ue)}:null}}let Qe=class{constructor(ue,be,qe){this._editor=ue,this._languageService=be,this._openerService=qe,this.hoverOrdinal=4}computeSync(ue,be){if(!this._editor.hasModel()||1!==ue.type)return[];const qe=this._editor.getModel(),Fe=this._editor.getContribution(Ae.ID);if(!Fe)return[];const ot=[];let bt=300;for(const Ht of be){const vn=Fe.getDecorationInfo(Ht);if(!vn)continue;const Ct=qe.getValueInRange(Ht.range).codePointAt(0),fn=vt(Ct);let Vn;switch(vn.reason.kind){case 0:Vn=Lt.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",fn,vt(vn.reason.confusableWith.codePointAt(0)));break;case 1:Vn=Lt.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",fn);break;case 2:Vn=Lt.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",fn)}const yn={codePoint:Ct,reason:vn.reason,inComment:vn.inComment,inString:vn.inString},zn=Lt.NC("unicodeHighlight.adjustSettings","Adjust settings"),li=`command:${Dn.ID}?${encodeURIComponent(JSON.stringify(yn))}`,oi=new l.W5("",!0).appendMarkdown(Vn).appendText(" ").appendLink(li,zn);ot.push(new z.hU(this,Ht.range,[oi],bt++))}return ot}renderHoverParts(ue,be){return(0,z.c)(ue,be,this._editor,this._languageService,this._openerService)}};function tt(Me){return`U+${Me.toString(16).padStart(4,"0")}`}function vt(Me){let ue=`\`${tt(Me)}\``;return T.vU.isInvisibleCharacter(Me)||(ue+=` "${function mt(Me){return 96===Me?"`` ` ``":"`"+String.fromCodePoint(Me)+"`"}(Me)}"`),ue}function _t(Me,ue){return H.a.computeUnicodeHighlightReason(Me,ue)}Qe=he([le(1,K.O),le(2,we.v4)],Qe);class Kt{constructor(){this.map=new Map}getDecorationFromOptions(ue){return this.getDecoration(!ue.includeComments,!ue.includeStrings)}getDecoration(ue,be){const qe=`${ue}${be}`;let Fe=this.map.get(qe);return Fe||(Fe=O.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ue,hideInStringTokens:be}),this.map.set(qe,Fe)),Fe}}Kt.instance=new Kt;class Bt extends I.R6{constructor(){super({id:ut.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(ue,be,qe){return Q(this,void 0,void 0,function*(){const Fe=ue?.get(Ze.Ui);Fe&&this.runAction(Fe)})}runAction(ue){return Q(this,void 0,void 0,function*(){yield ue.updateValue(P.qt.includeComments,!1,2)})}}class Ge extends I.R6{constructor(){super({id:ut.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(ue,be,qe){return Q(this,void 0,void 0,function*(){const Fe=ue?.get(Ze.Ui);Fe&&this.runAction(Fe)})}runAction(ue){return Q(this,void 0,void 0,function*(){yield ue.updateValue(P.qt.includeStrings,!1,2)})}}let ut=(()=>{class Me extends I.R6{constructor(){super({id:Me.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(be,qe,Fe){return Q(this,void 0,void 0,function*(){const ot=be?.get(Ze.Ui);ot&&this.runAction(ot)})}runAction(be){return Q(this,void 0,void 0,function*(){yield be.updateValue(P.qt.ambiguousCharacters,!1,2)})}}return Me.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",Me})(),Ut=(()=>{class Me extends I.R6{constructor(){super({id:Me.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(be,qe,Fe){return Q(this,void 0,void 0,function*(){const ot=be?.get(Ze.Ui);ot&&this.runAction(ot)})}runAction(be){return Q(this,void 0,void 0,function*(){yield be.updateValue(P.qt.invisibleCharacters,!1,2)})}}return Me.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",Me})(),hn=(()=>{class Me extends I.R6{constructor(){super({id:Me.ID,label:Lt.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=Lt.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(be,qe,Fe){return Q(this,void 0,void 0,function*(){const ot=be?.get(Ze.Ui);ot&&this.runAction(ot)})}runAction(be){return Q(this,void 0,void 0,function*(){yield be.updateValue(P.qt.nonBasicASCII,!1,2)})}}return Me.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",Me})(),Dn=(()=>{class Me extends I.R6{constructor(){super({id:Me.ID,label:Lt.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(be,qe,Fe){return Q(this,void 0,void 0,function*(){const{codePoint:ot,reason:bt,inString:Ht,inComment:vn}=Fe,Mn=String.fromCodePoint(ot),Ct=be.get(ae.eJ),fn=be.get(Ze.Ui),yn=[];if(0===bt.kind)for(const li of bt.notAmbiguousInLocales)yn.push({label:Lt.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',li),run:()=>Q(this,void 0,void 0,function*(){je(fn,[li])})});if(yn.push({label:function Vn(li){return T.vU.isInvisibleCharacter(li)?Lt.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",tt(li)):Lt.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${tt(li)} "${Mn}"`)}(ot),run:()=>function wt(Me,ue){return Q(this,void 0,void 0,function*(){const be=Me.getValue(P.qt.allowedCharacters);let qe;qe="object"==typeof be&&be?be:{};for(const Fe of ue)qe[String.fromCodePoint(Fe)]=!0;yield Me.updateValue(P.qt.allowedCharacters,qe,2)})}(fn,[ot])}),vn){const li=new Bt;yn.push({label:li.label,run:()=>Q(this,void 0,void 0,function*(){return li.runAction(fn)})})}else if(Ht){const li=new Ge;yn.push({label:li.label,run:()=>Q(this,void 0,void 0,function*(){return li.runAction(fn)})})}if(0===bt.kind){const li=new ut;yn.push({label:li.label,run:()=>Q(this,void 0,void 0,function*(){return li.runAction(fn)})})}else if(1===bt.kind){const li=new Ut;yn.push({label:li.label,run:()=>Q(this,void 0,void 0,function*(){return li.runAction(fn)})})}else if(2===bt.kind){const li=new hn;yn.push({label:li.label,run:()=>Q(this,void 0,void 0,function*(){return li.runAction(fn)})})}else!function ye(Me){throw new Error(`Unexpected value: ${Me}`)}(bt);const zn=yield Ct.pick(yn,{title:Lt.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});zn&&(yield zn.run())})}}return Me.ID="editor.action.unicodeHighlight.showExcludeOptions",Me})();function je(Me,ue){var be;return Q(this,void 0,void 0,function*(){const qe=null===(be=Me.inspect(P.qt.allowedLocales).user)||void 0===be?void 0:be.value;let Fe;Fe="object"==typeof qe&&qe?Object.assign({},qe):{};for(const ot of ue)Fe[ot]=!0;yield Me.updateValue(P.qt.allowedLocales,Fe,2)})}(0,I.Qr)(ut),(0,I.Qr)(Ut),(0,I.Qr)(hn),(0,I.Qr)(Dn),(0,I._K)(Ae.ID,Ae),B.Ae.register(Qe)},59525:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{UnusualLineTerminatorsDetector:()=>c});var d=e(80142),t=e(40734),l=e(26845),S=e(33745),v=e(55197),T=e(78610),E=function(n,a){return function(p,u){a(p,u,n)}};const _="ignoreUnusualLineTerminators";let c=class extends d.JT{constructor(a,p,u){super(),this._editor=a,this._dialogService=p,this._codeEditorService=u,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(g=>{g.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(g=>{g.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return n=this,a=void 0,u=function*(){if("off"===this._config||!this._editor.hasModel())return;const a=this._editor.getModel();a.mightContainUnusualLineTerminators()&&!0!==function m(n,a){return n.getModelProperty(a.uri,_)}(this._codeEditorService,a)&&!this._editor.getOption(83)&&("auto"!==this._config?(yield this._dialogService.confirm({title:v.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:v.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:v.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,t.EZ)(a.uri)),primaryButton:v.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:v.NC("unusualLineTerminators.ignore","Ignore")})).confirmed?a.removeUnusualLineTerminators(this._editor.getSelections()):function s(n,a,p){n.setModelProperty(a.uri,_,p)}(this._codeEditorService,a,!0):a.removeUnusualLineTerminators(this._editor.getSelections()))},new((p=void 0)||(p=Promise))(function(b,y){function D(P){try{I(u.next(P))}catch(O){y(O)}}function w(P){try{I(u.throw(P))}catch(O){y(O)}}function I(P){P.done?b(P.value):function g(b){return b instanceof p?b:new p(function(y){y(b)})}(P.value).then(D,w)}I((u=u.apply(n,a||[])).next())});var n,a,p,u}};c.ID="editor.contrib.unusualLineTerminatorsDetector",c=function(n,a,p,u){var y,g=arguments.length,b=g<3?a:null===u?u=Object.getOwnPropertyDescriptor(a,p):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(n,a,p,u);else for(var D=n.length-1;D>=0;D--)(y=n[D])&&(b=(g<3?y(b):g>3?y(a,p,b):y(a,p))||b);return g>3&&b&&Object.defineProperty(a,p,b),b}([E(1,T.S),E(2,S.$)],c),(0,l._K)(c.ID,c)},51337:(Et,X,e)=>{"use strict";e.r(X);var d=e(48648),t=e(80142),l=e(26845),S=e(70590),v=e(59602),T=e(37073),C=e(21952),E=e(94667),L=e(40902),_=e(79095),s=e(631),m=e(90790),n=function(p,u){return function(g,b){u(g,b,p)}};let a=class extends t.JT{constructor(u,g,b,y,D,w){super(),this._modelService=g,this._themeService=b,this._configurationService=y,this._editor=u,this._provider=w.documentRangeSemanticTokensProvider,this._debounceInformation=D.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new d.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const I=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{I()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),I()})),this._register(this._editor.onDidChangeModelContent(P=>{this._cancelAll(),I()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),I()})),this._register(this._configurationService.onDidChangeConfiguration(P=>{P.affectsConfiguration(T.e3)&&(this._cancelAll(),I())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),I()}))}_cancelAll(){for(const u of this._outstandingRequests)u.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(u){for(let g=0,b=this._outstandingRequests.length;g<b;g++)if(this._outstandingRequests[g]===u)return void this._outstandingRequests.splice(g,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const u=this._editor.getModel();if(u.tokenization.hasCompleteSemanticTokens())return;if(!(0,T.tw)(u,this._themeService,this._configurationService))return void(u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1));if(!(0,S.KO)(this._provider,u))return void(u.tokenization.hasSomeSemanticTokens()&&u.tokenization.setSemanticTokens(null,!1));const g=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(g.map(b=>this._requestRange(u,b)))}_requestRange(u,g){const b=u.getVersionId(),y=(0,d.PG)(w=>Promise.resolve((0,S.OG)(this._provider,u,g,w))),D=new s.G(!1);return y.then(w=>{if(this._debounceInformation.update(u,D.elapsed()),!w||!w.tokens||u.isDisposed()||u.getVersionId()!==b)return;const{provider:I,tokens:P}=w,O=this._modelService.getSemanticTokensProviderStyling(I);u.tokenization.setPartialSemanticTokens(g,(0,C.h)(P,O,u.getLanguageId()))}).then(()=>this._removeOutstandingRequest(y),()=>this._removeOutstandingRequest(y)),y}};a.ID="editor.contrib.viewportSemanticTokens",a=function(p,u,g,b){var w,y=arguments.length,D=y<3?u:null===b?b=Object.getOwnPropertyDescriptor(u,g):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(p,u,g,b);else for(var I=p.length-1;I>=0;I--)(w=p[I])&&(D=(y<3?w(D):y>3?w(u,g,D):w(u,g))||D);return y>3&&D&&Object.defineProperty(u,g,D),D}([n(1,v.q),n(2,L.XE),n(3,E.Ui),n(4,_.A),n(5,m.p)],a),(0,l._K)(a.ID,a)},45505:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{getOccurrencesAtPosition:()=>K});var d=e(59797),t=e(64023),l=e(48648),S=e(73888),v=e(4125),T=e(80142),C=e(26845),E=e(98570),L=e(82290),_=e(47629),s=e(59758),m=e(45337),c=e(55197),n=e(16468),a=e(4062),p=e(40902),u=e(90790),g=e(18034),y=function(M,Se){return function(Ee,Le){Se(Ee,Le,M)}};const D=(0,a.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},c.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),w=(0,a.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},c.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),I=(0,a.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:a.xL1,hcLight:a.xL1},c.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),P=(0,a.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:a.xL1,hcLight:a.xL1},c.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),O=(0,a.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},c.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),H=(0,a.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},c.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),U=new n.uy("hasWordHighlights",!1);function K(M,Se,Ee,Le){const Ne=M.ordered(Se);return(0,l.Ps)(Ne.map(oe=>()=>Promise.resolve(oe.provideDocumentHighlights(Se,Ee,Le)).then(void 0,v.Cp)),t.Of)}class F{constructor(Se,Ee,Le){this._model=Se,this._selection=Ee,this._wordSeparators=Le,this._wordRange=this._getCurrentWordRange(Se,Ee),this._result=null}get result(){return this._result||(this._result=(0,l.PG)(Se=>this._compute(this._model,this._selection,this._wordSeparators,Se))),this._result}_getCurrentWordRange(Se,Ee){const Le=Se.getWordAtPosition(Ee.getPosition());return Le?new E.e(Ee.startLineNumber,Le.startColumn,Ee.startLineNumber,Le.endColumn):null}isValid(Se,Ee,Le){const Ne=Ee.startLineNumber,oe=Ee.startColumn,we=Ee.endColumn,xe=this._getCurrentWordRange(Se,Ee);let pe=Boolean(this._wordRange&&this._wordRange.equalsRange(xe));for(let Te=0,de=Le.length;!pe&&Te<de;Te++){const ke=Le.getRange(Te);ke&&ke.startLineNumber===Ne&&ke.startColumn<=oe&&ke.endColumn>=we&&(pe=!0)}return pe}cancel(){this.result.cancel()}}class B extends F{constructor(Se,Ee,Le,Ne){super(Se,Ee,Le),this._providers=Ne}_compute(Se,Ee,Le,Ne){return K(this._providers,Se,Ee.getPosition(),Ne).then(oe=>oe||[])}}class z extends F{constructor(Se,Ee,Le){super(Se,Ee,Le),this._selectionIsEmpty=Ee.isEmpty()}_compute(Se,Ee,Le,Ne){return(0,l.Vs)(250,Ne).then(()=>{if(!Ee.isEmpty())return[];const oe=Se.getWordAtPosition(Ee.getPosition());return!oe||oe.word.length>1e3?[]:Se.findMatches(oe.word,!0,!1,!0,Le,!1).map(xe=>({range:xe.range,kind:m.MY.Text}))})}isValid(Se,Ee,Le){const Ne=Ee.isEmpty();return this._selectionIsEmpty===Ne&&super.isValid(Se,Ee,Le)}}(0,C.sb)("_executeDocumentHighlights",(M,Se,Ee)=>K(M.get(u.p).documentHighlightProvider,Se,Ee,S.T.None));class j{constructor(Se,Ee,Le){this.toUnhook=new T.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=Se,this.providers=Ee,this._hasWordHighlights=U.bindTo(Le),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(Se.onDidChangeCursorPosition(Ne=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(Ne)})),this.toUnhook.add(Se.onDidChangeModelContent(Ne=>{this._stopAll()})),this.toUnhook.add(Se.onDidChangeConfiguration(Ne=>{const oe=this.editor.getOption(74);this.occurrencesHighlight!==oe&&(this.occurrencesHighlight=oe,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(E.e.compareRangesUsingStarts)}moveNext(){const Se=this._getSortedHighlights(),Le=(Se.findIndex(oe=>oe.containsPosition(this.editor.getPosition()))+1)%Se.length,Ne=Se[Le];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Ne.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Ne);const oe=this._getWord();if(oe){const we=this.editor.getModel().getLineContent(Ne.startLineNumber);(0,d.Z9)(`${we}, ${Le+1} of ${Se.length} for '${oe.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const Se=this._getSortedHighlights(),Le=(Se.findIndex(oe=>oe.containsPosition(this.editor.getPosition()))-1+Se.length)%Se.length,Ne=Se[Le];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(Ne.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(Ne);const oe=this._getWord();if(oe){const we=this.editor.getModel().getLineContent(Ne.startLineNumber);(0,d.Z9)(`${we}, ${Le+1} of ${Se.length} for '${oe.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(Se){this.occurrencesHighlight&&3===Se.reason?this._run():this._stopAll()}_getWord(){const Se=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:Se.startLineNumber,column:Se.startColumn})}_run(){const Se=this.editor.getSelection();if(Se.startLineNumber!==Se.endLineNumber)return void this._stopAll();const Ee=Se.startColumn,Le=Se.endColumn,Ne=this._getWord();if(!Ne||Ne.startColumn>Ee||Ne.endColumn<Le)return void this._stopAll();const oe=this.workerRequest&&this.workerRequest.isValid(this.model,Se,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),oe)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const we=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function $(M,Se,Ee,Le){return M.has(Se)?new B(Se,Ee,Le,M):new z(Se,Ee,Le)}(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(xe=>{we===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=xe||[],this._beginRenderDecorations())},v.dL)}}_beginRenderDecorations(){const Se=(new Date).getTime(),Ee=this.lastCursorPositionChangeTime+250;Se>=Ee?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},Ee-Se)}renderDecorations(){this.renderDecorationsTimer=-1;const Se=[];for(const Ee of this.workerRequestValue)Ee.range&&Se.push({range:Ee.range,options:j._getDecorationOptions(Ee.kind)});this.decorations.set(Se),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(Se){return Se===m.MY.Write?this._WRITE_OPTIONS:Se===m.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}j._WRITE_OPTIONS=s.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,p.EN)(H),position:_.sh.Center},minimap:{color:(0,p.EN)(a.IYc),position:_.F5.Inline}}),j._TEXT_OPTIONS=s.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,p.EN)(a.SPM),position:_.sh.Center},minimap:{color:(0,p.EN)(a.IYc),position:_.F5.Inline}}),j._REGULAR_OPTIONS=s.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,p.EN)(O),position:_.sh.Center},minimap:{color:(0,p.EN)(a.IYc),position:_.F5.Inline}});let ne=class mu extends T.JT{constructor(Se,Ee,Le){super(),this.wordHighlighter=null;const Ne=()=>{Se.hasModel()&&(this.wordHighlighter=new j(Se,Le.documentHighlightProvider,Ee))};this._register(Se.onDidChangeModel(oe=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),Ne()})),Ne()}static get(Se){return Se.getContribution(mu.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(Se){this.wordHighlighter&&Se&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};ne.ID="editor.contrib.wordHighlighter",ne=function(M,Se,Ee,Le){var we,Ne=arguments.length,oe=Ne<3?Se:null===Le?Le=Object.getOwnPropertyDescriptor(Se,Ee):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)oe=Reflect.decorate(M,Se,Ee,Le);else for(var xe=M.length-1;xe>=0;xe--)(we=M[xe])&&(oe=(Ne<3?we(oe):Ne>3?we(Se,Ee,oe):we(Se,Ee))||oe);return Ne>3&&oe&&Object.defineProperty(Se,Ee,oe),oe}([y(1,n.i6),y(2,u.p)],ne);class N extends C.R6{constructor(Se,Ee){super(Ee),this._isNext=Se}run(Se,Ee){const Le=ne.get(Ee);!Le||(this._isNext?Le.moveNext():Le.moveBack())}}(0,C._K)(ne.ID,ne),(0,C.Qr)(class V extends N{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:c.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:U,kbOpts:{kbExpr:L.u.editorTextFocus,primary:65,weight:100}})}}),(0,C.Qr)(class Z extends N{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:c.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:U,kbOpts:{kbExpr:L.u.editorTextFocus,primary:1089,weight:100}})}}),(0,C.Qr)(class fe extends C.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:c.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:U.toNegated(),kbOpts:{kbExpr:L.u.editorTextFocus,primary:0,weight:100}})}run(Se,Ee,Le){const Ne=ne.get(Ee);!Ne||Ne.restoreViewState(!0)}}),(0,p.Ic)((M,Se)=>{const Ee=M.getColor(a.Rzx);Ee&&(Se.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${Ee}; }`),Se.addRule(`.monaco-editor .selectionHighlight { background-color: ${Ee.transparent(.5)}; }`));const Le=M.getColor(D);Le&&Se.addRule(`.monaco-editor .wordHighlight { background-color: ${Le}; }`);const Ne=M.getColor(w);Ne&&Se.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${Ne}; }`);const oe=M.getColor(a.g_n);oe&&Se.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,g.c3)(M.type)?"dotted":"solid"} ${oe}; box-sizing: border-box; }`);const we=M.getColor(I);we&&Se.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,g.c3)(M.type)?"dashed":"solid"} ${we}; box-sizing: border-box; }`);const xe=M.getColor(P);xe&&Se.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,g.c3)(M.type)?"dashed":"solid"} ${xe}; box-sizing: border-box; }`)})},20940:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CursorWordAccessibilityLeft:()=>O,CursorWordAccessibilityLeftSelect:()=>H,CursorWordAccessibilityRight:()=>j,CursorWordAccessibilityRightSelect:()=>ne,CursorWordEndLeft:()=>y,CursorWordEndLeftSelect:()=>I,CursorWordEndRight:()=>K,CursorWordEndRightSelect:()=>z,CursorWordLeft:()=>D,CursorWordLeftSelect:()=>P,CursorWordRight:()=>F,CursorWordRightSelect:()=>$,CursorWordStartLeft:()=>b,CursorWordStartLeftSelect:()=>w,CursorWordStartRight:()=>U,CursorWordStartRightSelect:()=>B,DeleteInsideWord:()=>oe,DeleteWordCommand:()=>N,DeleteWordEndLeft:()=>M,DeleteWordEndRight:()=>Le,DeleteWordLeft:()=>Se,DeleteWordLeftCommand:()=>V,DeleteWordRight:()=>Ne,DeleteWordRightCommand:()=>Z,DeleteWordStartLeft:()=>fe,DeleteWordStartRight:()=>Ee,MoveWordCommand:()=>p,WordLeftCommand:()=>u,WordRightCommand:()=>g});var d=e(26845),t=e(22599),l=e(54862),S=e(76336),v=e(7878),T=e(91609),C=e(18723),E=e(98570),L=e(7233),_=e(82290),s=e(94911),m=e(55197),c=e(64280),n=e(16468),a=e(38980);class p extends d._l{constructor(xe){super(xe),this._inSelectionMode=xe.inSelectionMode,this._wordNavigationType=xe.wordNavigationType}runEditorCommand(xe,pe,Te){if(!pe.hasModel())return;const de=(0,T.u)(pe.getOption(119)),ke=pe.getModel(),$e=pe.getSelections().map(ce=>{const Ue=new C.L(ce.positionLineNumber,ce.positionColumn),nt=this._move(de,ke,Ue,this._wordNavigationType);return this._moveTo(ce,nt,this._inSelectionMode)});if(ke.pushStackElement(),pe._getViewModel().setCursorStates("moveWordCommand",3,$e.map(ce=>S.Vi.fromModelSelection(ce))),1===$e.length){const ce=new C.L($e[0].positionLineNumber,$e[0].positionColumn);pe.revealPosition(ce,0)}}_moveTo(xe,pe,Te){return Te?new L.Y(xe.selectionStartLineNumber,xe.selectionStartColumn,pe.lineNumber,pe.column):new L.Y(pe.lineNumber,pe.column,pe.lineNumber,pe.column)}}class u extends p{_move(xe,pe,Te,de){return v.w.moveWordLeft(xe,pe,Te,de)}}class g extends p{_move(xe,pe,Te,de){return v.w.moveWordRight(xe,pe,Te,de)}}class b extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class y extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class D extends u{constructor(){var xe;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(xe=n.Ao.and(c.U,a.cv))||void 0===xe?void 0:xe.negate()),primary:2063,mac:{primary:527},weight:100}})}}class w extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class I extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class P extends u{constructor(){var xe;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(xe=n.Ao.and(c.U,a.cv))||void 0===xe?void 0:xe.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class O extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(xe,pe,Te,de){return super._move((0,T.u)(l.BH.wordSeparators.defaultValue),pe,Te,de)}}class H extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(xe,pe,Te,de){return super._move((0,T.u)(l.BH.wordSeparators.defaultValue),pe,Te,de)}}class U extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class K extends g{constructor(){var xe;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(xe=n.Ao.and(c.U,a.cv))||void 0===xe?void 0:xe.negate()),primary:2065,mac:{primary:529},weight:100}})}}class F extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class B extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class z extends g{constructor(){var xe;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(_.u.textInputFocus,null===(xe=n.Ao.and(c.U,a.cv))||void 0===xe?void 0:xe.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class $ extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class j extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(xe,pe,Te,de){return super._move((0,T.u)(l.BH.wordSeparators.defaultValue),pe,Te,de)}}class ne extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(xe,pe,Te,de){return super._move((0,T.u)(l.BH.wordSeparators.defaultValue),pe,Te,de)}}class N extends d._l{constructor(xe){super(xe),this._whitespaceHeuristics=xe.whitespaceHeuristics,this._wordNavigationType=xe.wordNavigationType}runEditorCommand(xe,pe,Te){const de=xe.get(s.c_);if(!pe.hasModel())return;const ke=(0,T.u)(pe.getOption(119)),ze=pe.getModel(),$e=pe.getSelections(),ce=pe.getOption(5),Ue=pe.getOption(8),nt=de.getLanguageConfiguration(ze.getLanguageId()).getAutoClosingPairs(),Dt=pe._getViewModel(),Lt=$e.map(Ze=>{const ae=this._delete({wordSeparators:ke,model:ze,selection:Ze,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:pe.getOption(6),autoClosingBrackets:ce,autoClosingQuotes:Ue,autoClosingPairs:nt,autoClosedCharacters:Dt.getCursorAutoClosedCharacters()},this._wordNavigationType);return new t.T4(ae,"")});pe.pushUndoStop(),pe.executeCommands(this.id,Lt),pe.pushUndoStop()}}class V extends N{_delete(xe,pe){return v.w.deleteWordLeft(xe,pe)||new E.e(1,1,1,1)}}class Z extends N{_delete(xe,pe){const Te=v.w.deleteWordRight(xe,pe);if(Te)return Te;const de=xe.model.getLineCount(),ke=xe.model.getLineMaxColumn(de);return new E.e(de,ke,de,ke)}}class fe extends V{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:_.u.writable})}}class M extends V{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:_.u.writable})}}class Se extends V{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class Ee extends Z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:_.u.writable})}}class Le extends Z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:_.u.writable})}}class Ne extends Z{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:_.u.writable,kbOpts:{kbExpr:_.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class oe extends d.R6{constructor(){super({id:"deleteInsideWord",precondition:_.u.writable,label:m.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(xe,pe,Te){if(!pe.hasModel())return;const de=(0,T.u)(pe.getOption(119)),ke=pe.getModel(),$e=pe.getSelections().map(ce=>{const Ue=v.w.deleteInsideWord(de,ke,ce);return new t.T4(Ue,"")});pe.pushUndoStop(),pe.executeCommands(this.id,$e),pe.pushUndoStop()}}(0,d.fK)(new b),(0,d.fK)(new y),(0,d.fK)(new D),(0,d.fK)(new w),(0,d.fK)(new I),(0,d.fK)(new P),(0,d.fK)(new U),(0,d.fK)(new K),(0,d.fK)(new F),(0,d.fK)(new B),(0,d.fK)(new z),(0,d.fK)(new $),(0,d.fK)(new O),(0,d.fK)(new H),(0,d.fK)(new j),(0,d.fK)(new ne),(0,d.fK)(new fe),(0,d.fK)(new M),(0,d.fK)(new Se),(0,d.fK)(new Ee),(0,d.fK)(new Le),(0,d.fK)(new Ne),(0,d.Qr)(oe)},74999:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CursorWordPartLeft:()=>_,CursorWordPartLeftSelect:()=>s,CursorWordPartRight:()=>c,CursorWordPartRightSelect:()=>n,DeleteWordPartLeft:()=>C,DeleteWordPartRight:()=>E,WordPartLeftCommand:()=>L,WordPartRightCommand:()=>m});var d=e(26845),t=e(7878),l=e(98570),S=e(82290),v=e(20940),T=e(66549);class C extends v.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:S.u.writable,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(p,u){return t.L.deleteWordPartLeft(p)||new l.e(1,1,1,1)}}class E extends v.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:S.u.writable,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(p,u){const g=t.L.deleteWordPartRight(p);if(g)return g;const b=p.model.getLineCount(),y=p.model.getLineMaxColumn(b);return new l.e(b,y,b,y)}}class L extends v.MoveWordCommand{_move(p,u,g,b){return t.L.moveWordPartLeft(p,u,g)}}class _ extends L{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}T.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class s extends L{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}T.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class m extends v.MoveWordCommand{_move(p,u,g,b){return t.L.moveWordPartRight(p,u,g)}}class c extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class n extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,d.fK)(new C),(0,d.fK)(new E),(0,d.fK)(new _),(0,d.fK)(new s),(0,d.fK)(new c),(0,d.fK)(new n)},70748:(Et,X,e)=>{"use strict";e.r(X);var d=e(57856),t=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(80318),n={};n.styleTagTransform=m(),n.setAttributes=E(),n.insert=T().bind(null,"head"),n.domAPI=S(),n.insertStyleElement=_(),t()(c.Z,n);var u=e(98463),g=e(12226),b=e(86998),y=e(59797),D=e(5183),w=e(80142),I=e(8841),P=e(73879),O=e(59547),H=e(26845),U=e(82290),K=e(92047),F=e(16468),B=e(9265),z=e(14759),$=e(44827),j=e(4062),ne=e(40902),N=e(74982),V=function(oe,we,xe,pe){var ke,Te=arguments.length,de=Te<3?we:null===pe?pe=Object.getOwnPropertyDescriptor(we,xe):pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)de=Reflect.decorate(oe,we,xe,pe);else for(var ze=oe.length-1;ze>=0;ze--)(ke=oe[ze])&&(de=(Te<3?ke(de):Te>3?ke(we,xe,de):ke(we,xe))||de);return Te>3&&de&&Object.defineProperty(we,xe,de),de},Z=function(oe,we){return function(xe,pe){we(xe,pe,oe)}};const fe=new F.uy("accessibilityHelpWidgetVisible",!1);let M=class pu extends w.JT{constructor(we,xe){super(),this._editor=we,this._widget=this._register(xe.createInstance(Ee,this._editor))}static get(we){return we.getContribution(pu.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};M.ID="editor.contrib.accessibilityHelpController",M=V([Z(1,B.TG)],M);let Ee=class Yd extends D.${constructor(we,xe,pe,Te){super(),this._contextKeyService=xe,this._keybindingService=pe,this._openerService=Te,this._editor=we,this._isVisibleKey=fe.bindTo(this._contextKeyService),this._domNode=(0,g.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,g.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(u.mu(this._contentDomNode.domNode,"keydown",de=>{if(this._isVisible&&(de.equals(2083)&&((0,y.Z9)(N.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),u.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),de.preventDefault(),de.stopPropagation()),de.equals(2086))){(0,y.Z9)(N.Oe.openingDocs);let ke=this._editor.getRawOptions().accessibilityHelpUrl;typeof ke>"u"&&(ke="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(O.o.parse(ke)),de.preventDefault(),de.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Yd.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(we,xe,pe){const Te=this._keybindingService.lookupKeybinding(we);return Te?P.WU(xe,Te.getAriaLabel()):P.WU(pe,we)}_buildContent(){const we=this._editor.getOptions(),xe=this._editor.getSelections();let pe=0;if(xe){const ze=this._editor.getModel();ze&&xe.forEach($e=>{pe+=ze.getValueLengthInRange($e)})}let Te=function Se(oe,we){return oe&&0!==oe.length?1===oe.length?we?P.WU(N.Oe.singleSelectionRange,oe[0].positionLineNumber,oe[0].positionColumn,we):P.WU(N.Oe.singleSelection,oe[0].positionLineNumber,oe[0].positionColumn):we?P.WU(N.Oe.multiSelectionRange,oe.length,we):oe.length>0?P.WU(N.Oe.multiSelection,oe.length):"":N.Oe.noSelection}(xe,pe);we.get(56)?we.get(83)?Te+=N.Oe.readonlyDiffEditor:Te+=N.Oe.editableDiffEditor:we.get(83)?Te+=N.Oe.readonlyEditor:Te+=N.Oe.editableEditor;const de=I.dz?N.Oe.changeConfigToOnMac:N.Oe.changeConfigToOnWinLinux;switch(we.get(2)){case 0:Te+="\n\n - "+de;break;case 2:Te+="\n\n - "+N.Oe.auto_on;break;case 1:Te+="\n\n - "+N.Oe.auto_off,Te+=" "+de}we.get(132)?Te+="\n\n - "+this._descriptionForCommand(K.ToggleTabFocusModeAction.ID,N.Oe.tabFocusModeOnMsg,N.Oe.tabFocusModeOnMsgNoKb):Te+="\n\n - "+this._descriptionForCommand(K.ToggleTabFocusModeAction.ID,N.Oe.tabFocusModeOffMsg,N.Oe.tabFocusModeOffMsgNoKb),Te+="\n\n - "+(I.dz?N.Oe.openDocMac:N.Oe.openDocWinLinux),Te+="\n\n"+N.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,b.BO)(Te)),this._contentDomNode.domNode.setAttribute("aria-label",Te)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,u.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const we=this._editor.getLayoutInfo(),xe=Math.max(5,Math.min(Yd.WIDTH,we.width-40)),pe=Math.max(5,Math.min(Yd.HEIGHT,we.height-40));this._domNode.setWidth(xe),this._domNode.setHeight(pe);const Te=Math.round((we.height-pe)/2);this._domNode.setTop(Te);const de=Math.round((we.width-xe)/2);this._domNode.setLeft(de)}};Ee.ID="editor.contrib.accessibilityHelpWidget",Ee.WIDTH=500,Ee.HEIGHT=300,Ee=V([Z(1,F.i6),Z(2,z.d),Z(3,$.v4)],Ee),(0,H._K)(M.ID,M),(0,H.Qr)(class Le extends H.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:N.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(we,xe){const pe=M.get(xe);pe&&pe.show()}});const Ne=H._l.bindToContribution(M.get);(0,H.fK)(new Ne({id:"closeAccessibilityHelp",precondition:fe,handler:oe=>oe.hide(),kbOpts:{weight:200,kbExpr:U.u.focus,primary:9,secondary:[1033]}})),(0,ne.Ic)((oe,we)=>{const xe=oe.getColor(j.D0T);xe&&we.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${xe}; }`);const pe=oe.getColor(j.Hfx);pe&&we.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${pe}; }`);const Te=oe.getColor(j.rh);Te&&we.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${Te}; }`);const de=oe.getColor(j.lRK);de&&we.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${de}; }`)})},50295:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{IPadShowKeyboard:()=>D});var d=e(57856),t=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(3656),n={};n.styleTagTransform=m(),n.setAttributes=E(),n.insert=T().bind(null,"head"),n.domAPI=S(),n.insertStyleElement=_(),t()(c.Z,n);var u=e(98463),g=e(80142),b=e(26845),y=e(8841);let D=(()=>{class I extends g.JT{constructor(O){super(),this.editor=O,this.widget=null,y.gn&&(this._register(O.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const O=!this.editor.getOption(83);!this.widget&&O?this.widget=new w(this.editor):this.widget&&!O&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return I.ID="editor.contrib.iPadShowKeyboard",I})(),w=(()=>{class I extends g.JT{constructor(O){super(),this.editor=O,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(u.nm(this._domNode,"touchstart",H=>{this.editor.focus()})),this._register(u.nm(this._domNode,"focus",H=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return I.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return I.ID="editor.contrib.ShowKeyboardWidget",I})();(0,b._K)(D.ID,D)},23414:(Et,X,e)=>{"use strict";e.r(X);var d=e(57856),t=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(41709),n={};n.styleTagTransform=m(),n.setAttributes=E(),n.insert=T().bind(null,"head"),n.domAPI=S(),n.insertStyleElement=_(),t()(c.Z,n);var u=e(98463),g=e(69355),b=e(80142),y=e(26845),D=e(45337),w=e(1465),I=e(88086),P=e(45358),O=e(55503),H=e(4062),U=e(40902),K=e(74982),F=e(18034),z=function(Z,fe){return function(M,Se){fe(M,Se,Z)}};let $=class _u extends b.JT{constructor(fe,M,Se){super(),this._editor=fe,this._languageService=Se,this._widget=null,this._register(this._editor.onDidChangeModel(Ee=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(Ee=>this.stop())),this._register(D.RW.onDidChange(Ee=>this.stop())),this._register(this._editor.onKeyUp(Ee=>9===Ee.keyCode&&this.stop()))}static get(fe){return fe.getContribution(_u.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new V(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};$.ID="editor.contrib.inspectTokens",$=function(Z,fe,M,Se){var Ne,Ee=arguments.length,Le=Ee<3?fe:null===Se?Se=Object.getOwnPropertyDescriptor(fe,M):Se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Le=Reflect.decorate(Z,fe,M,Se);else for(var oe=Z.length-1;oe>=0;oe--)(Ne=Z[oe])&&(Le=(Ee<3?Ne(Le):Ee>3?Ne(fe,M,Le):Ne(fe,M))||Le);return Ee>3&&Le&&Object.defineProperty(fe,M,Le),Le}([z(1,O.Z),z(2,P.O)],$);let V=(()=>{class Z extends b.JT{constructor(M,Se){super(),this.allowEditorOverflow=!0,this._editor=M,this._languageService=Se,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function N(Z,fe){const M=D.RW.get(fe);if(M)return M;const Se=Z.encodeLanguageId(fe);return{getInitialState:()=>I.TJ,tokenize:(Ee,Le,Ne)=>(0,I.Ri)(fe,Ne),tokenizeEncoded:(Ee,Le,Ne)=>(0,I.Dy)(Se,Ne)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(Ee=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return Z._ID}_compute(M){const Se=this._getTokensAtLine(M.lineNumber);let Ee=0;for(let xe=Se.tokens1.length-1;xe>=0;xe--)if(M.column-1>=Se.tokens1[xe].offset){Ee=xe;break}let Le=0;for(let xe=Se.tokens2.length>>>1;xe>=0;xe--)if(M.column-1>=Se.tokens2[xe<<1]){Le=xe;break}const Ne=this._model.getLineContent(M.lineNumber);let oe="";Ee<Se.tokens1.length&&(oe=Ne.substring(Se.tokens1[Ee].offset,Ee+1<Se.tokens1.length?Se.tokens1[Ee+1].offset:Ne.length)),(0,u.mc)(this._domNode,(0,u.$)("h2.tm-token",void 0,function ne(Z){let fe="";for(let M=0,Se=Z.length;M<Se;M++){const Ee=Z.charCodeAt(M);switch(Ee){case 9:fe+="\u2192";break;case 32:fe+="\xb7";break;default:fe+=String.fromCharCode(Ee)}}return fe}(oe),(0,u.$)("span.tm-token-length",void 0,`${oe.length} ${1===oe.length?"char":"chars"}`))),(0,u.R3)(this._domNode,(0,u.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const we=1+(Le<<1)<Se.tokens2.length?this._decodeMetadata(Se.tokens2[1+(Le<<1)]):null;(0,u.R3)(this._domNode,(0,u.$)("table.tm-metadata-table",void 0,(0,u.$)("tbody",void 0,(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"language"),(0,u.$)("td.tm-metadata-value",void 0,`${we?we.languageId:"-?-"}`)),(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"token type"),(0,u.$)("td.tm-metadata-value",void 0,`${we?this._tokenTypeToString(we.tokenType):"-?-"}`)),(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"font style"),(0,u.$)("td.tm-metadata-value",void 0,`${we?this._fontStyleToString(we.fontStyle):"-?-"}`)),(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"foreground"),(0,u.$)("td.tm-metadata-value",void 0,`${we?g.Il.Format.CSS.formatHex(we.foreground):"-?-"}`)),(0,u.$)("tr",void 0,(0,u.$)("td.tm-metadata-key",void 0,"background"),(0,u.$)("td.tm-metadata-value",void 0,`${we?g.Il.Format.CSS.formatHex(we.background):"-?-"}`))))),(0,u.R3)(this._domNode,(0,u.$)("hr.tokens-inspect-separator")),Ee<Se.tokens1.length&&(0,u.R3)(this._domNode,(0,u.$)("span.tm-token-type",void 0,Se.tokens1[Ee].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(M){const Se=D.RW.getColorMap(),Ee=w.N.getLanguageId(M),Le=w.N.getTokenType(M),Ne=w.N.getFontStyle(M),oe=w.N.getForeground(M),we=w.N.getBackground(M);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(Ee),tokenType:Le,fontStyle:Ne,foreground:Se[oe],background:Se[we]}}_tokenTypeToString(M){switch(M){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(M){let Se="";return 1&M&&(Se+="italic "),2&M&&(Se+="bold "),4&M&&(Se+="underline "),8&M&&(Se+="strikethrough "),0===Se.length&&(Se="---"),Se}_getTokensAtLine(M){const Se=this._getStateBeforeLine(M),Ee=this._tokenizationSupport.tokenize(this._model.getLineContent(M),!0,Se),Le=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(M),!0,Se);return{startState:Se,tokens1:Ee.tokens,tokens2:Le.tokens,endState:Ee.endState}}_getStateBeforeLine(M){let Se=this._tokenizationSupport.getInitialState();for(let Ee=1;Ee<M;Ee++)Se=this._tokenizationSupport.tokenize(this._model.getLineContent(Ee),!0,Se).endState;return Se}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return Z._ID="editor.contrib.inspectTokensWidget",Z})();(0,y._K)($.ID,$),(0,y.Qr)(class j extends y.R6{constructor(){super({id:"editor.action.inspectTokens",label:K.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(fe,M){const Se=$.get(M);Se&&Se.launch()}}),(0,U.Ic)((Z,fe)=>{const M=Z.getColor(H.CNo);if(M){const Le=(0,F.c3)(Z.type)?2:1;fe.addRule(`.monaco-editor .tokens-inspect-widget { border: ${Le}px solid ${M}; }`),fe.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${M}; }`)}const Se=Z.getColor(H.yJx);Se&&fe.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${Se}; }`);const Ee=Z.getColor(H.Sbf);Ee&&fe.addRule(`.monaco-editor .tokens-inspect-widget { color: ${Ee}; }`)})},16763:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{GotoLineAction:()=>Ee,StandaloneCommandsQuickAccessProvider:()=>Se});var d=e(4259),t=e(1972),l=e(74982),S=e(33745),v=e(59882),T=e(93979),C=e(4125),E=e(25715),L=e(80142),_=e(5067),s=e(50819),m=e(72715),c=e(55197),n=e(66549),a=e(94667),p=e(78610),u=e(9265),g=e(14759),b=e(48648),y=e(73888),D=function(Le,Ne,oe,we){return new(oe||(oe=Promise))(function(pe,Te){function de($e){try{ze(we.next($e))}catch(ce){Te(ce)}}function ke($e){try{ze(we.throw($e))}catch(ce){Te(ce)}}function ze($e){$e.done?pe($e.value):function xe(pe){return pe instanceof oe?pe:new oe(function(Te){Te(pe)})}($e.value).then(de,ke)}ze((we=we.apply(Le,Ne||[])).next())})},w=(()=>{return(Le=w||(w={}))[Le.NO_ACTION=0]="NO_ACTION",Le[Le.CLOSE_PICKER=1]="CLOSE_PICKER",Le[Le.REFRESH_PICKER=2]="REFRESH_PICKER",Le[Le.REMOVE_ITEM=3]="REMOVE_ITEM",w;var Le})();function I(Le){return Array.isArray(Le.items)}let O=(()=>{class Le extends L.JT{constructor(oe,we){super(),this.prefix=oe,this.options=we}provide(oe,we){var xe;const pe=new L.SL;let Te;oe.canAcceptInBackground=!(null===(xe=this.options)||void 0===xe||!xe.canAcceptInBackground),oe.matchOnLabel=oe.matchOnDescription=oe.matchOnDetail=oe.sortByLabel=!1;const de=pe.add(new L.XK),ke=()=>D(this,void 0,void 0,function*(){const ze=de.value=new L.SL;Te?.dispose(!0),oe.busy=!1,Te=new y.A(we);const $e=Te.token,ce=oe.value.substr(this.prefix.length).trim(),Ue=this._getPicks(ce,ze,$e),nt=(Dt,Lt)=>{var Ze;let ae,_e;if(I(Dt)?(ae=Dt.items,_e=Dt.active):ae=Dt,0===ae.length){if(Lt)return!1;ce.length>0&&(null===(Ze=this.options)||void 0===Ze?void 0:Ze.noResultsPick)&&(ae=[this.options.noResultsPick])}return oe.items=ae,_e&&(oe.activeItems=[_e]),!0};if(null!==Ue)if(function P(Le){return!!Le.picks&&Le.additionalPicks instanceof Promise}(Ue)){let Dt=!1,Lt=!1;yield Promise.all([(()=>D(this,void 0,void 0,function*(){yield(0,b.Vs)(Le.FAST_PICKS_RACE_DELAY),!$e.isCancellationRequested&&(Lt||(Dt=nt(Ue.picks,!0)))}))(),(()=>D(this,void 0,void 0,function*(){oe.busy=!0;try{const Ze=yield Ue.additionalPicks;if($e.isCancellationRequested)return;let ae,_e,he,le;if(I(Ue.picks)?(ae=Ue.picks.items,_e=Ue.picks.active):ae=Ue.picks,I(Ze)?(he=Ze.items,le=Ze.active):he=Ze,he.length>0||!Dt){let Q;if(!_e&&!le){const ve=oe.activeItems[0];ve&&-1!==ae.indexOf(ve)&&(Q=ve)}nt({items:[...ae,...he],active:_e||le||Q})}}finally{$e.isCancellationRequested||(oe.busy=!1),Lt=!0}}))()])}else if(Ue instanceof Promise){oe.busy=!0;try{const Dt=yield Ue;if($e.isCancellationRequested)return;nt(Dt)}finally{$e.isCancellationRequested||(oe.busy=!1)}}else nt(Ue)});return pe.add(oe.onDidChangeValue(()=>ke())),ke(),pe.add(oe.onDidAccept(ze=>{const[$e]=oe.selectedItems;"function"==typeof $e?.accept&&(ze.inBackground||oe.hide(),$e.accept(oe.keyMods,ze))})),pe.add(oe.onDidTriggerItemButton(({button:ze,item:$e})=>D(this,void 0,void 0,function*(){var ce,Ue;if("function"==typeof $e.trigger){const nt=null!==(Ue=null===(ce=$e.buttons)||void 0===ce?void 0:ce.indexOf(ze))&&void 0!==Ue?Ue:-1;if(nt>=0){const Dt=$e.trigger(nt,oe.keyMods),Lt="number"==typeof Dt?Dt:yield Dt;if(we.isCancellationRequested)return;switch(Lt){case w.NO_ACTION:break;case w.CLOSE_PICKER:oe.hide();break;case w.REFRESH_PICKER:ke();break;case w.REMOVE_ITEM:{const Ze=oe.items.indexOf($e);if(-1!==Ze){const ae=oe.items.slice(),_e=ae.splice(Ze,1),he=oe.activeItems.filter(Q=>Q!==_e[0]),le=oe.keepScrollPosition;oe.keepScrollPosition=!0,oe.items=ae,he&&(oe.activeItems=he),oe.keepScrollPosition=le}break}}}}}))),pe}}return Le.FAST_PICKS_RACE_DELAY=200,Le})();var H=e(48190),U=e(24131),K=function(Le,Ne,oe,we){var Te,xe=arguments.length,pe=xe<3?Ne:null===we?we=Object.getOwnPropertyDescriptor(Ne,oe):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(Le,Ne,oe,we);else for(var de=Le.length-1;de>=0;de--)(Te=Le[de])&&(pe=(xe<3?Te(pe):xe>3?Te(Ne,oe,pe):Te(Ne,oe))||pe);return xe>3&&pe&&Object.defineProperty(Ne,oe,pe),pe},F=function(Le,Ne){return function(oe,we){Ne(oe,we,Le)}},B=function(Le,Ne,oe,we){return new(oe||(oe=Promise))(function(pe,Te){function de($e){try{ze(we.next($e))}catch(ce){Te(ce)}}function ke($e){try{ze(we.throw($e))}catch(ce){Te(ce)}}function ze($e){$e.done?pe($e.value):function xe(pe){return pe instanceof oe?pe:new oe(function(Te){Te(pe)})}($e.value).then(de,ke)}ze((we=we.apply(Le,Ne||[])).next())})};let z=class Xd extends O{constructor(Ne,oe,we,xe,pe,Te){super(Xd.PREFIX,Ne),this.instantiationService=oe,this.keybindingService=we,this.commandService=xe,this.telemetryService=pe,this.dialogService=Te,this.commandsHistory=this._register(this.instantiationService.createInstance($)),this.options=Ne}_getPicks(Ne,oe,we){return B(this,void 0,void 0,function*(){const xe=yield this.getCommandPicks(oe,we);if(we.isCancellationRequested)return[];const pe=[];for(const ze of xe){const $e=(0,m.f6)(Xd.WORD_FILTER(Ne,ze.label)),ce=ze.commandAlias?(0,m.f6)(Xd.WORD_FILTER(Ne,ze.commandAlias)):void 0;$e||ce?(ze.highlights={label:$e,detail:this.options.showAlias?ce:void 0},pe.push(ze)):Ne===ze.commandId&&pe.push(ze)}const Te=new Map;for(const ze of pe){const $e=Te.get(ze.label);$e?(ze.description=ze.commandId,$e.description=$e.commandId):Te.set(ze.label,ze)}pe.sort((ze,$e)=>{const ce=this.commandsHistory.peek(ze.commandId),Ue=this.commandsHistory.peek($e.commandId);return ce&&Ue?ce>Ue?-1:1:ce?-1:Ue?1:ze.label.localeCompare($e.label)});const de=[];let ke=!1;for(let ze=0;ze<pe.length;ze++){const $e=pe[ze],ce=this.keybindingService.lookupKeybinding($e.commandId),Ue=ce?(0,c.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",$e.label,ce.getAriaLabel()):$e.label;0===ze&&this.commandsHistory.peek($e.commandId)&&(de.push({type:"separator",label:(0,c.NC)("recentlyUsed","recently used")}),ke=!0),0!==ze&&ke&&!this.commandsHistory.peek($e.commandId)&&(de.push({type:"separator",label:(0,c.NC)("morecCommands","other commands")}),ke=!1),de.push(Object.assign(Object.assign({},$e),{ariaLabel:Ue,detail:this.options.showAlias&&$e.commandAlias!==$e.label?$e.commandAlias:void 0,keybinding:ce,accept:()=>B(this,void 0,void 0,function*(){this.commandsHistory.push($e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:$e.commandId,from:"quick open"});try{yield this.commandService.executeCommand($e.commandId)}catch(nt){(0,C.n2)(nt)||this.dialogService.show(s.Z.Error,(0,c.NC)("canNotRun","Command '{0}' resulted in an error ({1})",$e.label,(0,T.y)(nt)))}})}))}return de})}};z.PREFIX=">",z.WORD_FILTER=(0,E.or)(E.Ji,E.KZ,E.ir),z=K([F(1,u.TG),F(2,g.d),F(3,n.Hy),F(4,U.b),F(5,p.S)],z);let $=class qs extends L.JT{constructor(Ne,oe){super(),this.storageService=Ne,this.configurationService=oe,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=qs.getConfiguredCommandHistoryLength(this.configurationService),qs.cache&&qs.cache.limit!==this.configuredCommandsHistoryLength&&(qs.cache.limit=this.configuredCommandsHistoryLength,qs.saveState(this.storageService))}load(){const Ne=this.storageService.get(qs.PREF_KEY_CACHE,0);let oe;if(Ne)try{oe=JSON.parse(Ne)}catch{}const we=qs.cache=new _.z6(this.configuredCommandsHistoryLength,1);if(oe){let xe;xe=oe.usesLRU?oe.entries:oe.entries.sort((pe,Te)=>pe.value-Te.value),xe.forEach(pe=>we.set(pe.key,pe.value))}qs.counter=this.storageService.getNumber(qs.PREF_KEY_COUNTER,0,qs.counter)}push(Ne){!qs.cache||(qs.cache.set(Ne,qs.counter++),qs.saveState(this.storageService))}peek(Ne){var oe;return null===(oe=qs.cache)||void 0===oe?void 0:oe.peek(Ne)}static saveState(Ne){if(!qs.cache)return;const oe={usesLRU:!0,entries:[]};qs.cache.forEach((we,xe)=>oe.entries.push({key:xe,value:we})),Ne.store(qs.PREF_KEY_CACHE,JSON.stringify(oe),0,0),Ne.store(qs.PREF_KEY_COUNTER,qs.counter,0,0)}static getConfiguredCommandHistoryLength(Ne){var oe,we;const pe=null===(we=null===(oe=Ne.getValue().workbench)||void 0===oe?void 0:oe.commandPalette)||void 0===we?void 0:we.history;return"number"==typeof pe?pe:qs.DEFAULT_COMMANDS_HISTORY_LENGTH}};$.DEFAULT_COMMANDS_HISTORY_LENGTH=50,$.PREF_KEY_CACHE="commandPalette.mru.cache",$.PREF_KEY_COUNTER="commandPalette.mru.counter",$.counter=1,$=K([F(0,H.Uy),F(1,a.Ui)],$);class j extends z{constructor(Ne,oe,we,xe,pe,Te){super(Ne,oe,we,xe,pe,Te)}getCodeEditorCommandPicks(){const Ne=this.activeTextEditorControl;if(!Ne)return[];const oe=[];for(const we of Ne.getSupportedActions())oe.push({commandId:we.id,commandAlias:we.alias,label:(0,v.x$)(we.label)||we.id});return oe}}var ne=e(26845),N=e(82290),V=e(73622),fe=function(Le,Ne){return function(oe,we){Ne(oe,we,Le)}};let Se=class extends j{constructor(Ne,oe,we,xe,pe,Te){super({showAlias:!1},Ne,we,xe,pe,Te),this.codeEditorService=oe}get activeTextEditorControl(){return(0,m.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Le=this,Ne=void 0,we=function*(){return this.getCodeEditorCommandPicks()},new((oe=void 0)||(oe=Promise))(function(pe,Te){function de($e){try{ze(we.next($e))}catch(ce){Te(ce)}}function ke($e){try{ze(we.throw($e))}catch(ce){Te(ce)}}function ze($e){$e.done?pe($e.value):function xe(pe){return pe instanceof oe?pe:new oe(function(Te){Te(pe)})}($e.value).then(de,ke)}ze((we=we.apply(Le,Ne||[])).next())});var Le,Ne,oe,we}};Se=function(Le,Ne,oe,we){var Te,xe=arguments.length,pe=xe<3?Ne:null===we?we=Object.getOwnPropertyDescriptor(Ne,oe):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(Le,Ne,oe,we);else for(var de=Le.length-1;de>=0;de--)(Te=Le[de])&&(pe=(xe<3?Te(pe):xe>3?Te(Ne,oe,pe):Te(Ne,oe))||pe);return xe>3&&pe&&Object.defineProperty(Ne,oe,pe),pe}([fe(0,u.TG),fe(1,S.$),fe(2,g.d),fe(3,n.Hy),fe(4,U.b),fe(5,p.S)],Se);let Ee=(()=>{class Le extends ne.R6{constructor(){super({id:Le.ID,label:l.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:N.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(oe){oe.get(V.eJ).quickAccess.show(Se.PREFIX)}}return Le.ID="editor.action.quickCommand",Le})();(0,ne.Qr)(Ee),d.B.as(t.IP.Quickaccess).registerQuickAccessProvider({ctor:Se,prefix:Se.PREFIX,helpEntries:[{description:l.UX.quickCommandHelp,commandId:Ee.ID}]})},5429:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{GotoLineAction:()=>g,StandaloneGotoLineQuickAccessProvider:()=>u});var d=e(80142),t=e(91353),l=e(35045),S=e(55197);let v=(()=>{class b extends l.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(D){const w=(0,S.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return D.items=[{label:w}],D.ariaLabel=w,d.JT.None}provideWithTextEditor(D,w,I){const P=D.editor,O=new d.SL;O.add(w.onDidAccept(K=>{const[F]=w.selectedItems;if(F){if(!this.isValidLineNumber(P,F.lineNumber))return;this.gotoLocation(D,{range:this.toRange(F.lineNumber,F.column),keyMods:w.keyMods,preserveFocus:K.inBackground}),K.inBackground||w.hide()}}));const H=()=>{const K=this.parsePosition(P,w.value.trim().substr(b.PREFIX.length)),F=this.getPickLabel(P,K.lineNumber,K.column);if(w.items=[{lineNumber:K.lineNumber,column:K.column,label:F}],w.ariaLabel=F,!this.isValidLineNumber(P,K.lineNumber))return void this.clearDecorations(P);const B=this.toRange(K.lineNumber,K.column);P.revealRangeInCenter(B,0),this.addDecorations(P,B)};H(),O.add(w.onDidChangeValue(()=>H()));const U=(0,t.Pi)(P);return U&&2===U.getOptions().get(62).renderType&&(U.updateOptions({lineNumbers:"on"}),O.add((0,d.OF)(()=>U.updateOptions({lineNumbers:"relative"})))),O}toRange(D=1,w=1){return{startLineNumber:D,startColumn:w,endLineNumber:D,endColumn:w}}parsePosition(D,w){const I=w.split(/,|:|#/).map(O=>parseInt(O,10)).filter(O=>!isNaN(O)),P=this.lineCount(D)+1;return{lineNumber:I[0]>0?I[0]:P+I[0],column:I[1]}}getPickLabel(D,w,I){if(this.isValidLineNumber(D,w))return this.isValidColumn(D,w,I)?(0,S.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",w,I):(0,S.NC)("gotoLineLabel","Go to line {0}.",w);const P=D.getPosition()||{lineNumber:1,column:1},O=this.lineCount(D);return O>1?(0,S.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",P.lineNumber,P.column,O):(0,S.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",P.lineNumber,P.column)}isValidLineNumber(D,w){return!(!w||"number"!=typeof w)&&w>0&&w<=this.lineCount(D)}isValidColumn(D,w,I){if(!I||"number"!=typeof I)return!1;const P=this.getModel(D);if(!P)return!1;const O={lineNumber:w,column:I};return P.validatePosition(O).equals(O)}lineCount(D){var w,I;return null!==(I=null===(w=this.getModel(D))||void 0===w?void 0:w.getLineCount())&&void 0!==I?I:0}}return b.PREFIX=":",b})();var T=e(4259),C=e(1972),E=e(33745),L=e(72715),_=e(74982),s=e(3778),m=e(26845),c=e(82290),n=e(73622);let u=class extends v{constructor(y){super(),this.editorService=y,this.onDidActiveTextEditorControlChange=s.ju.None}get activeTextEditorControl(){return(0,L.f6)(this.editorService.getFocusedCodeEditor())}};var y;u=function(b,y,D,w){var O,I=arguments.length,P=I<3?y:null===w?w=Object.getOwnPropertyDescriptor(y,D):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,D,w);else for(var H=b.length-1;H>=0;H--)(O=b[H])&&(P=(I<3?O(P):I>3?O(y,D,P):O(y,D))||P);return I>3&&P&&Object.defineProperty(y,D,P),P}([(0,y=E.$,function(D,w){y(D,w,0)})],u);let g=(()=>{class b extends m.R6{constructor(){super({id:b.ID,label:_.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(D){D.get(n.eJ).quickAccess.show(u.PREFIX)}}return b.ID="editor.action.gotoLine",b})();(0,m.Qr)(g),T.B.as(C.IP.Quickaccess).registerQuickAccessProvider({ctor:u,prefix:u.PREFIX,helpEntries:[{description:_.qq.gotoLineActionLabel,commandId:g.ID}]})},1706:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{GotoSymbolAction:()=>Te,StandaloneGotoSymbolQuickAccessProvider:()=>pe}),e(82099),e(71008);var l=e(48648),S=e(73888),v=e(58783),T=e(25715),C=e(61283),E=e(8841),L=e(73879);const _=[void 0,[]];function s(de,ke,ze=0,$e=0){return ke.values&&ke.values.length>1?function m(de,ke,ze,$e){let ce=0;const Ue=[];for(const nt of ke){const[Dt,Lt]=c(de,nt,ze,$e);if("number"!=typeof Dt)return _;ce+=Dt,Ue.push(...Lt)}return[ce,a(Ue)]}(de,ke.values,ze,$e):c(de,ke,ze,$e)}function c(de,ke,ze,$e){const ce=(0,T.EW)(ke.original,ke.originalLowercase,ze,de,de.toLowerCase(),$e,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ce?[ce[0],(0,T.mB)(ce)]:_}function a(de){const ke=de.sort((ce,Ue)=>ce.start-Ue.start),ze=[];let $e;for(const ce of ke)$e&&p($e,ce)?($e.start=Math.min($e.start,ce.start),$e.end=Math.max($e.end,ce.end)):($e=ce,ze.push(ce));return ze}function p(de,ke){return!(de.end<ke.start||ke.end<de.start)}function u(de){return de.startsWith('"')&&de.endsWith('"')}function b(de){"string"!=typeof de&&(de="");const ke=de.toLowerCase(),{pathNormalized:ze,normalized:$e,normalizedLowercase:ce}=y(de),Ue=ze.indexOf(C.ir)>=0,nt=u(de);let Dt;const Lt=de.split(" ");if(Lt.length>1)for(const Ze of Lt){const ae=u(Ze),{pathNormalized:_e,normalized:he,normalizedLowercase:le}=y(Ze);he&&(Dt||(Dt=[]),Dt.push({original:Ze,originalLowercase:Ze.toLowerCase(),pathNormalized:_e,normalized:he,normalizedLowercase:le,expectContiguousMatch:ae}))}return{original:de,originalLowercase:ke,pathNormalized:ze,normalized:$e,normalizedLowercase:ce,values:Dt,containsPathSeparator:Ue,expectContiguousMatch:nt}}function y(de){let ke;ke=de.replace(E.ED?/\//g:/\\/g,C.ir);const ze=(0,L.R1)(ke).replace(/\s|"/g,"");return{pathNormalized:ke,normalized:ze,normalizedLowercase:ze.toLowerCase()}}function D(de){return Array.isArray(de)?b(de.map(ke=>ke.original).join(" ")):b(de.original)}Object.freeze({score:0});var w=e(80142),I=e(98570),P=e(45337),O=e(55276),H=e(35045),U=e(55197),K=e(90790),F=e(64023),z=function(de,ke){return function(ze,$e){ke(ze,$e,de)}},$=function(de,ke,ze,$e){return new(ze||(ze=Promise))(function(Ue,nt){function Dt(ae){try{Ze($e.next(ae))}catch(_e){nt(_e)}}function Lt(ae){try{Ze($e.throw(ae))}catch(_e){nt(_e)}}function Ze(ae){ae.done?Ue(ae.value):function ce(Ue){return Ue instanceof ze?Ue:new ze(function(nt){nt(Ue)})}(ae.value).then(Dt,Lt)}Ze(($e=$e.apply(de,ke||[])).next())})};let j=class Nc extends H.X{constructor(ke,ze,$e=Object.create(null)){super($e),this._languageFeaturesService=ke,this._outlineModelService=ze,this.options=$e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(ke){return this.provideLabelPick(ke,(0,U.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),w.JT.None}provideWithTextEditor(ke,ze,$e){const Ue=this.getModel(ke.editor);return Ue?this._languageFeaturesService.documentSymbolProvider.has(Ue)?this.doProvideWithEditorSymbols(ke,Ue,ze,$e):this.doProvideWithoutEditorSymbols(ke,Ue,ze,$e):w.JT.None}doProvideWithoutEditorSymbols(ke,ze,$e,ce){const Ue=new w.SL;return this.provideLabelPick($e,(0,U.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),$(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(ze,Ue))||ce.isCancellationRequested||Ue.add(this.doProvideWithEditorSymbols(ke,ze,$e,ce))}),Ue}provideLabelPick(ke,ze){ke.items=[{label:ze,index:0,kind:14}],ke.ariaLabel=ze}waitForLanguageSymbolRegistry(ke,ze){return $(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(ke))return!0;const $e=new l.CR,ce=ze.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(ke)&&(ce.dispose(),$e.complete(!0))}));return ze.add((0,w.OF)(()=>$e.complete(!1))),$e.p})}doProvideWithEditorSymbols(ke,ze,$e,ce){var Ue;const nt=ke.editor,Dt=new w.SL;Dt.add($e.onDidAccept(he=>{const[le]=$e.selectedItems;le&&le.range&&(this.gotoLocation(ke,{range:le.range.selection,keyMods:$e.keyMods,preserveFocus:he.inBackground}),he.inBackground||$e.hide())})),Dt.add($e.onDidTriggerItemButton(({item:he})=>{he&&he.range&&(this.gotoLocation(ke,{range:he.range.selection,keyMods:$e.keyMods,forceSideBySide:!0}),$e.hide())}));const Lt=this.getDocumentSymbols(ze,ce);let Ze;const ae=he=>$(this,void 0,void 0,function*(){Ze?.dispose(!0),$e.busy=!1,Ze=new S.A(ce),$e.busy=!0;try{const le=b($e.value.substr(Nc.PREFIX.length).trim()),Q=yield this.doGetSymbolPicks(Lt,le,void 0,Ze.token);if(ce.isCancellationRequested)return;if(Q.length>0){if($e.items=Q,he&&0===le.original.length){const ve=(0,F.dF)(Q,Ae=>Boolean("separator"!==Ae.type&&Ae.range&&I.e.containsPosition(Ae.range.decoration,he)));ve&&($e.activeItems=[ve])}}else this.provideLabelPick($e,le.original.length>0?(0,U.NC)("noMatchingSymbolResults","No matching editor symbols"):(0,U.NC)("noSymbolResults","No editor symbols"))}finally{ce.isCancellationRequested||($e.busy=!1)}});Dt.add($e.onDidChangeValue(()=>ae(void 0))),ae(null===(Ue=nt.getSelection())||void 0===Ue?void 0:Ue.getPosition());let _e=2;return Dt.add($e.onDidChangeActive(()=>{const[he]=$e.activeItems;if(he&&he.range){if(_e-- >0)return;nt.revealRangeInCenter(he.range.selection,0),this.addDecorations(nt,he.range.decoration)}})),Dt}doGetSymbolPicks(ke,ze,$e,ce){return $(this,void 0,void 0,function*(){const Ue=yield ke;if(ce.isCancellationRequested)return[];const nt=0===ze.original.indexOf(Nc.SCOPE_PREFIX),Dt=nt?1:0;let Lt,Ze;ze.values&&ze.values.length>1?(Lt=D(ze.values[0]),Ze=D(ze.values.slice(1))):Lt=ze;const ae=[];for(let le=0;le<Ue.length;le++){const Q=Ue[le],ve=(0,L.fy)(Q.name),Ae=`$(${P.uZ.toIcon(Q.kind).id}) ${ve}`,dt=Ae.length-ve.length;let et,Qe,tt,vt,st=Q.containerName;if($e?.extraContainerLabel&&(st=st?`${$e.extraContainerLabel} \u2022 ${st}`:$e.extraContainerLabel),ze.original.length>Dt){let _t=!1;if(Lt!==ze&&([et,Qe]=s(Ae,Object.assign(Object.assign({},ze),{values:void 0}),Dt,dt),"number"==typeof et&&(_t=!0)),"number"!=typeof et&&([et,Qe]=s(Ae,Lt,Dt,dt),"number"!=typeof et))continue;if(!_t&&Ze){if(st&&Ze.original.length>0&&([tt,vt]=s(st,Ze)),"number"!=typeof tt)continue;"number"==typeof et&&(et+=tt)}}const mt=Q.tags&&Q.tags.indexOf(1)>=0;ae.push({index:le,kind:Q.kind,score:et,label:Ae,ariaLabel:ve,description:st,highlights:mt?void 0:{label:Qe,description:vt},range:{selection:I.e.collapseToStart(Q.selectionRange),decoration:Q.range},strikethrough:mt,buttons:(()=>{var _t,Kt;const Bt=null!==(_t=this.options)&&void 0!==_t&&_t.openSideBySideDirection?null===(Kt=this.options)||void 0===Kt?void 0:Kt.openSideBySideDirection():void 0;if(Bt)return[{iconClass:"right"===Bt?v.lA.splitHorizontal.classNames:v.lA.splitVertical.classNames,tooltip:"right"===Bt?(0,U.NC)("openToSide","Open to the Side"):(0,U.NC)("openToBottom","Open to the Bottom")}]})()})}const _e=ae.sort((le,Q)=>nt?this.compareByKindAndScore(le,Q):this.compareByScore(le,Q));let he=[];if(nt){let le,Q,Ae=function(){Q&&"number"==typeof le&&ve>0&&(Q.label=(0,L.WU)(N[le]||ne,ve))},ve=0;for(const dt of _e)le!==dt.kind?(Ae(),le=dt.kind,ve=1,Q={type:"separator"},he.push(Q)):ve++,he.push(dt);Ae()}else _e.length>0&&(he=[{label:(0,U.NC)("symbols","symbols ({0})",ae.length),type:"separator"},..._e]);return he})}compareByScore(ke,ze){if("number"!=typeof ke.score&&"number"==typeof ze.score)return 1;if("number"==typeof ke.score&&"number"!=typeof ze.score)return-1;if("number"==typeof ke.score&&"number"==typeof ze.score){if(ke.score>ze.score)return-1;if(ke.score<ze.score)return 1}return ke.index<ze.index?-1:ke.index>ze.index?1:0}compareByKindAndScore(ke,ze){const Ue=(N[ke.kind]||ne).localeCompare(N[ze.kind]||ne);return 0===Ue?this.compareByScore(ke,ze):Ue}getDocumentSymbols(ke,ze){return $(this,void 0,void 0,function*(){const $e=yield this._outlineModelService.getOrCreate(ke,ze);return ze.isCancellationRequested?[]:$e.asListOfDocumentSymbols()})}};j.PREFIX="@",j.SCOPE_PREFIX=":",j.PREFIX_BY_CATEGORY=`${j.PREFIX}${j.SCOPE_PREFIX}`,j=function(de,ke,ze,$e){var nt,ce=arguments.length,Ue=ce<3?ke:null===$e?$e=Object.getOwnPropertyDescriptor(ke,ze):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(de,ke,ze,$e);else for(var Dt=de.length-1;Dt>=0;Dt--)(nt=de[Dt])&&(Ue=(ce<3?nt(Ue):ce>3?nt(ke,ze,Ue):nt(ke,ze))||Ue);return ce>3&&Ue&&Object.defineProperty(ke,ze,Ue),Ue}([z(0,K.p),z(1,O.Je)],j);const ne=(0,U.NC)("property","properties ({0})"),N={5:(0,U.NC)("method","methods ({0})"),11:(0,U.NC)("function","functions ({0})"),8:(0,U.NC)("_constructor","constructors ({0})"),12:(0,U.NC)("variable","variables ({0})"),4:(0,U.NC)("class","classes ({0})"),22:(0,U.NC)("struct","structs ({0})"),23:(0,U.NC)("event","events ({0})"),24:(0,U.NC)("operator","operators ({0})"),10:(0,U.NC)("interface","interfaces ({0})"),2:(0,U.NC)("namespace","namespaces ({0})"),3:(0,U.NC)("package","packages ({0})"),25:(0,U.NC)("typeParameter","type parameters ({0})"),1:(0,U.NC)("modules","modules ({0})"),6:(0,U.NC)("property","properties ({0})"),9:(0,U.NC)("enum","enumerations ({0})"),21:(0,U.NC)("enumMember","enumeration members ({0})"),14:(0,U.NC)("string","strings ({0})"),0:(0,U.NC)("file","files ({0})"),17:(0,U.NC)("array","arrays ({0})"),15:(0,U.NC)("number","numbers ({0})"),16:(0,U.NC)("boolean","booleans ({0})"),18:(0,U.NC)("object","objects ({0})"),19:(0,U.NC)("key","keys ({0})"),7:(0,U.NC)("field","fields ({0})"),13:(0,U.NC)("constant","constants ({0})")};var V=e(4259),Z=e(1972),fe=e(33745),M=e(72715),Se=e(74982),Ee=e(3778),Le=e(26845),Ne=e(82290),oe=e(73622),xe=function(de,ke){return function(ze,$e){ke(ze,$e,de)}};let pe=class extends j{constructor(ke,ze,$e){super(ze,$e),this.editorService=ke,this.onDidActiveTextEditorControlChange=Ee.ju.None}get activeTextEditorControl(){return(0,M.f6)(this.editorService.getFocusedCodeEditor())}};pe=function(de,ke,ze,$e){var nt,ce=arguments.length,Ue=ce<3?ke:null===$e?$e=Object.getOwnPropertyDescriptor(ke,ze):$e;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(de,ke,ze,$e);else for(var Dt=de.length-1;Dt>=0;Dt--)(nt=de[Dt])&&(Ue=(ce<3?nt(Ue):ce>3?nt(ke,ze,Ue):nt(ke,ze))||Ue);return ce>3&&Ue&&Object.defineProperty(ke,ze,Ue),Ue}([xe(0,fe.$),xe(1,K.p),xe(2,O.Je)],pe);let Te=(()=>{class de extends Le.R6{constructor(){super({id:de.ID,label:Se.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:Ne.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:Ne.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(ze){ze.get(oe.eJ).quickAccess.show(j.PREFIX)}}return de.ID="editor.action.quickOutline",de})();(0,Le.Qr)(Te),V.B.as(Z.IP.Quickaccess).registerQuickAccessProvider({ctor:pe,prefix:j.PREFIX,helpEntries:[{description:Se.aq.quickOutlineActionLabel,prefix:j.PREFIX,commandId:Te.ID},{description:Se.aq.quickOutlineByCategoryActionLabel,prefix:j.PREFIX_BY_CATEGORY}]})},49976:(Et,X,e)=>{"use strict";e.r(X);var d=e(4259),t=e(1972),l=e(74982),S=e(55197),v=e(80142),T=e(14759),C=e(73622),L=function(s,m){return function(c,n){m(c,n,s)}};let _=class Jd{constructor(m,c){this.quickInputService=m,this.keybindingService=c,this.registry=d.B.as(t.IP.Quickaccess)}provide(m){const c=new v.SL;return c.add(m.onDidAccept(()=>{const[n]=m.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),c.add(m.onDidChangeValue(n=>{const a=this.registry.getQuickAccessProvider(n.substr(Jd.PREFIX.length));a&&a.prefix&&a.prefix!==Jd.PREFIX&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),m.items=this.getQuickAccessProviders(),c}getQuickAccessProviders(){const m=[];for(const c of this.registry.getQuickAccessProviders().sort((n,a)=>n.prefix.localeCompare(a.prefix)))if(c.prefix!==Jd.PREFIX)for(const n of c.helpEntries){const a=n.prefix||c.prefix,p=a||"\u2026";m.push({prefix:a,label:p,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,S.NC)("helpPickAriaLabel","{0}, {1}",p,n.description),description:n.description})}return m}};_.PREFIX="?",_=function(s,m,c,n){var u,a=arguments.length,p=a<3?m:null===n?n=Object.getOwnPropertyDescriptor(m,c):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(s,m,c,n);else for(var g=s.length-1;g>=0;g--)(u=s[g])&&(p=(a<3?u(p):a>3?u(m,c,p):u(m,c))||p);return a>3&&p&&Object.defineProperty(m,c,p),p}([L(0,C.eJ),L(1,T.d)],_),d.B.as(t.IP.Quickaccess).registerQuickAccessProvider({ctor:_,prefix:"",helpEntries:[{description:l.ld.helpQuickAccessActionLabel}]})},14175:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{StandaloneReferencesController:()=>s});var d=e(26845),t=e(33745),l=e(99989),S=e(94667),v=e(16468),T=e(9265),C=e(54436),E=e(48190),_=function(m,c){return function(n,a){c(n,a,m)}};let s=class extends l.J{constructor(c,n,a,p,u,g,b){super(!0,c,n,a,p,u,g,b)}};s=function(m,c,n,a){var g,p=arguments.length,u=p<3?c:null===a?a=Object.getOwnPropertyDescriptor(c,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(m,c,n,a);else for(var b=m.length-1;b>=0;b--)(g=m[b])&&(u=(p<3?g(u):p>3?g(c,n,u):g(c,n))||u);return p>3&&u&&Object.defineProperty(c,n,u),u}([_(1,v.i6),_(2,t.$),_(3,C.lT),_(4,T.TG),_(5,E.Uy),_(6,S.Ui)],s),(0,d._K)(l.J.ID,s)},55843:(Et,X,e)=>{"use strict";e.d(X,{B:()=>g});var d=e(98463),t=e(59310),l=e(3778),S=e(80142),v=e(85739),T=e(40902);let _=class extends S.JT{constructor(y){super(),this._themeService=y,this._onCodeEditorAdd=this._register(new l.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new l.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new l.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new l.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new v.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(y){this._codeEditors[y.getId()]=y,this._onCodeEditorAdd.fire(y)}removeCodeEditor(y){delete this._codeEditors[y.getId()]&&this._onCodeEditorRemove.fire(y)}listCodeEditors(){return Object.keys(this._codeEditors).map(y=>this._codeEditors[y])}addDiffEditor(y){this._diffEditors[y.getId()]=y,this._onDiffEditorAdd.fire(y)}removeDiffEditor(y){delete this._diffEditors[y.getId()]&&this._onDiffEditorRemove.fire(y)}listDiffEditors(){return Object.keys(this._diffEditors).map(y=>this._diffEditors[y])}getFocusedCodeEditor(){let y=null;const D=this.listCodeEditors();for(const w of D){if(w.hasTextFocus())return w;w.hasWidgetFocus()&&(y=w)}return y}removeDecorationType(y){const D=this._decorationOptionProviders.get(y);D&&(D.refCount--,D.refCount<=0&&(this._decorationOptionProviders.delete(y),D.dispose(),this.listCodeEditors().forEach(w=>w.removeDecorationsByType(y))))}setModelProperty(y,D,w){const I=y.toString();let P;this._modelProperties.has(I)?P=this._modelProperties.get(I):(P=new Map,this._modelProperties.set(I,P)),P.set(D,w)}getModelProperty(y,D){const w=y.toString();if(this._modelProperties.has(w))return this._modelProperties.get(w).get(D)}openCodeEditor(y,D,w){return function(b,y,D,w){return new(D||(D=Promise))(function(P,O){function H(F){try{K(w.next(F))}catch(B){O(B)}}function U(F){try{K(w.throw(F))}catch(B){O(B)}}function K(F){F.done?P(F.value):function I(P){return P instanceof D?P:new D(function(O){O(P)})}(F.value).then(H,U)}K((w=w.apply(b,y||[])).next())})}(this,void 0,void 0,function*(){for(const I of this._codeEditorOpenHandlers){const P=yield I(y,D,w);if(null!==P)return P}return null})}registerCodeEditorOpenHandler(y){const D=this._codeEditorOpenHandlers.unshift(y);return(0,S.OF)(D)}};var y;_=function(b,y,D,w){var O,I=arguments.length,P=I<3?y:null===w?w=Object.getOwnPropertyDescriptor(y,D):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,D,w);else for(var H=b.length-1;H>=0;H--)(O=b[H])&&(P=(I<3?O(P):I>3?O(y,D,P):O(y,D))||P);return I>3&&P&&Object.defineProperty(y,D,P),P}([(0,y=T.XE,function(D,w){y(D,w,0)})],_);var m=e(33745),c=e(16468),n=e(47494),p=function(b,y){return function(D,w){y(D,w,b)}};let g=class extends _{constructor(y,D){super(D),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=y.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((w,I,P)=>function(b,y,D,w){return new(D||(D=Promise))(function(P,O){function H(F){try{K(w.next(F))}catch(B){O(B)}}function U(F){try{K(w.throw(F))}catch(B){O(B)}}function K(F){F.done?P(F.value):function I(P){return P instanceof D?P:new D(function(O){O(P)})}(F.value).then(H,U)}K((w=w.apply(b,y||[])).next())})}(this,void 0,void 0,function*(){return I?this.doOpenEditor(I,w):null}))}_checkContextKey(){let y=!1;for(const D of this.listCodeEditors())if(!D.isSimpleWidget){y=!0;break}this._editorIsOpen.set(y)}setActiveCodeEditor(y){this._activeCodeEditor=y}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(y,D){if(!this.findModel(y,D.resource)){if(D.resource){const P=D.resource.scheme;if(P===t.lg.http||P===t.lg.https)return(0,d.V3)(D.resource.toString()),y}return null}const I=D.options?D.options.selection:null;if(I)if("number"==typeof I.endLineNumber&&"number"==typeof I.endColumn)y.setSelection(I),y.revealRangeInCenter(I,1);else{const P={lineNumber:I.startLineNumber,column:I.startColumn};y.setPosition(P),y.revealPositionInCenter(P,1)}return y}findModel(y,D){const w=y.getModel();return w&&w.uri.toString()!==D.toString()?null:w}};g=function(b,y,D,w){var O,I=arguments.length,P=I<3?y:null===w?w=Object.getOwnPropertyDescriptor(y,D):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,D,w);else for(var H=b.length-1;H>=0;H--)(O=b[H])&&(P=(I<3?O(P):I>3?O(y,D,P):O(y,D))||P);return I>3&&P&&Object.defineProperty(y,D,P),P}([p(0,c.i6),p(1,T.XE)],g),(0,n.z)(m.$,g)},53559:(Et,X,e)=>{"use strict";e.d(X,{AC:()=>Sr,zC:()=>yr,IO:()=>tr,XZ:()=>gs}),e(94911),e(55843);var l=e(98463),S=e(3778),v=e(67021),T=e(33745),C=e(47494),E=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt},L=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}};let _=class{constructor(se){this._codeEditorService=se,this.onDidLayout=S.ju.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=l.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var se;null===(se=this._codeEditorService.getFocusedCodeEditor())||void 0===se||se.focus()}};_=E([L(0,T.$)],_);let s=class extends _{constructor(se,Ce){super(Ce),this._container=se}get hasContainer(){return!1}get container(){return this._container}};s=E([L(1,T.$)],s),(0,C.z)(v.F,_);var m=e(4125),c=e(80142),n=e(59310),a=e(50819),p=e(55197),u=e(78610),g=e(54436),b=e(93633),D=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}},w=function(Nn,se,Ce,Ve){return new(Ce||(Ce=Promise))(function(Pt,on){function wn(ki){try{Ci(Ve.next(ki))}catch(Mo){on(Mo)}}function ii(ki){try{Ci(Ve.throw(ki))}catch(Mo){on(Mo)}}function Ci(ki){ki.done?Pt(ki.value):function It(Pt){return Pt instanceof Ce?Pt:new Ce(function(on){on(Pt)})}(ki.value).then(wn,ii)}Ci((Ve=Ve.apply(Nn,se||[])).next())})};function P(Nn){return Nn.scheme===n.lg.file?Nn.fsPath:Nn.path}let O=0;class H{constructor(se,Ce,Ve,It,Pt,on,wn){this.id=++O,this.type=0,this.actual=se,this.label=se.label,this.confirmBeforeUndo=se.confirmBeforeUndo||!1,this.resourceLabel=Ce,this.strResource=Ve,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=It,this.groupOrder=Pt,this.sourceId=on,this.sourceOrder=wn,this.isValid=!0}setValid(se){this.isValid=se}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class U{constructor(se,Ce){this.resourceLabel=se,this.reason=Ce}}class K{constructor(){this.elements=new Map}createMessage(){const se=[],Ce=[];for(const[,It]of this.elements)(0===It.reason?se:Ce).push(It.resourceLabel);const Ve=[];return se.length>0&&Ve.push(p.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",se.join(", "))),Ce.length>0&&Ve.push(p.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",Ce.join(", "))),Ve.join("\n")}get size(){return this.elements.size}has(se){return this.elements.has(se)}set(se,Ce){this.elements.set(se,Ce)}delete(se){return this.elements.delete(se)}}class F{constructor(se,Ce,Ve,It,Pt,on,wn){this.id=++O,this.type=1,this.actual=se,this.label=se.label,this.confirmBeforeUndo=se.confirmBeforeUndo||!1,this.resourceLabels=Ce,this.strResources=Ve,this.groupId=It,this.groupOrder=Pt,this.sourceId=on,this.sourceOrder=wn,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(se,Ce,Ve){this.removedResources||(this.removedResources=new K),this.removedResources.has(Ce)||this.removedResources.set(Ce,new U(se,Ve))}setValid(se,Ce,Ve){Ve?this.invalidatedResources&&(this.invalidatedResources.delete(Ce),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new K),this.invalidatedResources.has(Ce)||this.invalidatedResources.set(Ce,new U(se,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class B{constructor(se,Ce){this.resourceLabel=se,this.strResource=Ce,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const se of this._past)1===se.type&&se.removeResource(this.resourceLabel,this.strResource,0);for(const se of this._future)1===se.type&&se.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const se=[];se.push(`* ${this.strResource}:`);for(let Ce=0;Ce<this._past.length;Ce++)se.push(`   * [UNDO] ${this._past[Ce]}`);for(let Ce=this._future.length-1;Ce>=0;Ce--)se.push(`   * [REDO] ${this._future[Ce]}`);return se.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(se,Ce){1===se.type?se.setValid(this.resourceLabel,this.strResource,Ce):se.setValid(Ce)}setElementsValidFlag(se,Ce){for(const Ve of this._past)Ce(Ve.actual)&&this._setElementValidFlag(Ve,se);for(const Ve of this._future)Ce(Ve.actual)&&this._setElementValidFlag(Ve,se)}pushElement(se){for(const Ce of this._future)1===Ce.type&&Ce.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(se),this.versionId++}createSnapshot(se){const Ce=[];for(let Ve=0,It=this._past.length;Ve<It;Ve++)Ce.push(this._past[Ve].id);for(let Ve=this._future.length-1;Ve>=0;Ve--)Ce.push(this._future[Ve].id);return new b.YO(se,Ce)}restoreSnapshot(se){const Ce=se.elements.length;let Ve=!0,It=0,Pt=-1;for(let wn=0,ii=this._past.length;wn<ii;wn++,It++){const Ci=this._past[wn];Ve&&(It>=Ce||Ci.id!==se.elements[It])&&(Ve=!1,Pt=0),!Ve&&1===Ci.type&&Ci.removeResource(this.resourceLabel,this.strResource,0)}let on=-1;for(let wn=this._future.length-1;wn>=0;wn--,It++){const ii=this._future[wn];Ve&&(It>=Ce||ii.id!==se.elements[It])&&(Ve=!1,on=wn),!Ve&&1===ii.type&&ii.removeResource(this.resourceLabel,this.strResource,0)}-1!==Pt&&(this._past=this._past.slice(0,Pt)),-1!==on&&(this._future=this._future.slice(on+1)),this.versionId++}getElements(){const se=[],Ce=[];for(const Ve of this._past)se.push(Ve.actual);for(const Ve of this._future)Ce.push(Ve.actual);return{past:se,future:Ce}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(se,Ce){for(let Ve=this._past.length-1;Ve>=0;Ve--)if(this._past[Ve]===se){Ce.has(this.strResource)?this._past[Ve]=Ce.get(this.strResource):this._past.splice(Ve,1);break}this.versionId++}splitFutureWorkspaceElement(se,Ce){for(let Ve=this._future.length-1;Ve>=0;Ve--)if(this._future[Ve]===se){Ce.has(this.strResource)?this._future[Ve]=Ce.get(this.strResource):this._future.splice(Ve,1);break}this.versionId++}moveBackward(se){this._past.pop(),this._future.push(se),this.versionId++}moveForward(se){this._future.pop(),this._past.push(se),this.versionId++}}class z{constructor(se){this.editStacks=se,this._versionIds=[];for(let Ce=0,Ve=this.editStacks.length;Ce<Ve;Ce++)this._versionIds[Ce]=this.editStacks[Ce].versionId}isValid(){for(let se=0,Ce=this.editStacks.length;se<Ce;se++)if(this._versionIds[se]!==this.editStacks[se].versionId)return!1;return!0}}const $=new B("","");$.locked=!0;let j=class{constructor(se,Ce){this._dialogService=se,this._notificationService=Ce,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(se){for(const Ce of this._uriComparisonKeyComputers)if(Ce[0]===se.scheme)return Ce[1].getComparisonKey(se);return se.toString()}_print(se){console.log("------------------------------------"),console.log(`AFTER ${se}: `);const Ce=[];for(const Ve of this._editStacks)Ce.push(Ve[1].toString());console.log(Ce.join("\n"))}pushElement(se,Ce=b.Xt.None,Ve=b.gJ.None){if(0===se.type){const It=P(se.resource),Pt=this.getUriComparisonKey(se.resource);this._pushElement(new H(se,It,Pt,Ce.id,Ce.nextOrder(),Ve.id,Ve.nextOrder()))}else{const It=new Set,Pt=[],on=[];for(const wn of se.resources){const ii=P(wn),Ci=this.getUriComparisonKey(wn);It.has(Ci)||(It.add(Ci),Pt.push(ii),on.push(Ci))}this._pushElement(1===Pt.length?new H(se,Pt[0],on[0],Ce.id,Ce.nextOrder(),Ve.id,Ve.nextOrder()):new F(se,Pt,on,Ce.id,Ce.nextOrder(),Ve.id,Ve.nextOrder()))}}_pushElement(se){for(let Ce=0,Ve=se.strResources.length;Ce<Ve;Ce++){const It=se.resourceLabels[Ce],Pt=se.strResources[Ce];let on;this._editStacks.has(Pt)?on=this._editStacks.get(Pt):(on=new B(It,Pt),this._editStacks.set(Pt,on)),on.pushElement(se)}}getLastElement(se){const Ce=this.getUriComparisonKey(se);if(this._editStacks.has(Ce)){const Ve=this._editStacks.get(Ce);if(Ve.hasFutureElements())return null;const It=Ve.getClosestPastElement();return It?It.actual:null}return null}_splitPastWorkspaceElement(se,Ce){const Ve=se.actual.split(),It=new Map;for(const Pt of Ve){const on=P(Pt.resource),wn=this.getUriComparisonKey(Pt.resource),ii=new H(Pt,on,wn,0,0,0,0);It.set(ii.strResource,ii)}for(const Pt of se.strResources)Ce&&Ce.has(Pt)||this._editStacks.get(Pt).splitPastWorkspaceElement(se,It)}_splitFutureWorkspaceElement(se,Ce){const Ve=se.actual.split(),It=new Map;for(const Pt of Ve){const on=P(Pt.resource),wn=this.getUriComparisonKey(Pt.resource),ii=new H(Pt,on,wn,0,0,0,0);It.set(ii.strResource,ii)}for(const Pt of se.strResources)Ce&&Ce.has(Pt)||this._editStacks.get(Pt).splitFutureWorkspaceElement(se,It)}removeElements(se){const Ce="string"==typeof se?se:this.getUriComparisonKey(se);this._editStacks.has(Ce)&&(this._editStacks.get(Ce).dispose(),this._editStacks.delete(Ce))}setElementsValidFlag(se,Ce,Ve){const It=this.getUriComparisonKey(se);this._editStacks.has(It)&&this._editStacks.get(It).setElementsValidFlag(Ce,Ve)}createSnapshot(se){const Ce=this.getUriComparisonKey(se);return this._editStacks.has(Ce)?this._editStacks.get(Ce).createSnapshot(se):new b.YO(se,[])}restoreSnapshot(se){const Ce=this.getUriComparisonKey(se.resource);if(this._editStacks.has(Ce)){const Ve=this._editStacks.get(Ce);Ve.restoreSnapshot(se),!Ve.hasPastElements()&&!Ve.hasFutureElements()&&(Ve.dispose(),this._editStacks.delete(Ce))}}getElements(se){const Ce=this.getUriComparisonKey(se);return this._editStacks.has(Ce)?this._editStacks.get(Ce).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(se){if(!se)return[null,null];let Ce=null,Ve=null;for(const[It,Pt]of this._editStacks){const on=Pt.getClosestPastElement();!on||on.sourceId===se&&(!Ce||on.sourceOrder>Ce.sourceOrder)&&(Ce=on,Ve=It)}return[Ce,Ve]}canUndo(se){if(se instanceof b.gJ){const[,Ve]=this._findClosestUndoElementWithSource(se.id);return!!Ve}const Ce=this.getUriComparisonKey(se);return!!this._editStacks.has(Ce)&&this._editStacks.get(Ce).hasPastElements()}_onError(se,Ce){(0,m.dL)(se);for(const Ve of Ce.strResources)this.removeElements(Ve);this._notificationService.error(se)}_acquireLocks(se){for(const Ce of se.editStacks)if(Ce.locked)throw new Error("Cannot acquire edit stack lock");for(const Ce of se.editStacks)Ce.locked=!0;return()=>{for(const Ce of se.editStacks)Ce.locked=!1}}_safeInvokeWithLocks(se,Ce,Ve,It,Pt){const on=this._acquireLocks(Ve);let wn;try{wn=Ce()}catch(ii){return on(),It.dispose(),this._onError(ii,se)}return wn?wn.then(()=>(on(),It.dispose(),Pt()),ii=>(on(),It.dispose(),this._onError(ii,se))):(on(),It.dispose(),Pt())}_invokeWorkspacePrepare(se){return w(this,void 0,void 0,function*(){if(typeof se.actual.prepareUndoRedo>"u")return c.JT.None;const Ce=se.actual.prepareUndoRedo();return typeof Ce>"u"?c.JT.None:Ce})}_invokeResourcePrepare(se,Ce){if(1!==se.actual.type||typeof se.actual.prepareUndoRedo>"u")return Ce(c.JT.None);const Ve=se.actual.prepareUndoRedo();return Ve?(0,c.Wf)(Ve)?Ce(Ve):Ve.then(It=>Ce(It)):Ce(c.JT.None)}_getAffectedEditStacks(se){const Ce=[];for(const Ve of se.strResources)Ce.push(this._editStacks.get(Ve)||$);return new z(Ce)}_tryToSplitAndUndo(se,Ce,Ve,It){if(Ce.canSplit())return this._splitPastWorkspaceElement(Ce,Ve),this._notificationService.warn(It),new ne(this._undo(se,0,!0));for(const Pt of Ce.strResources)this.removeElements(Pt);return this._notificationService.warn(It),new ne}_checkWorkspaceUndo(se,Ce,Ve,It){if(Ce.removedResources)return this._tryToSplitAndUndo(se,Ce,Ce.removedResources,p.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",Ce.label,Ce.removedResources.createMessage()));if(It&&Ce.invalidatedResources)return this._tryToSplitAndUndo(se,Ce,Ce.invalidatedResources,p.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",Ce.label,Ce.invalidatedResources.createMessage()));const Pt=[];for(const wn of Ve.editStacks)wn.getClosestPastElement()!==Ce&&Pt.push(wn.resourceLabel);if(Pt.length>0)return this._tryToSplitAndUndo(se,Ce,null,p.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",Ce.label,Pt.join(", ")));const on=[];for(const wn of Ve.editStacks)wn.locked&&on.push(wn.resourceLabel);return on.length>0?this._tryToSplitAndUndo(se,Ce,null,p.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",Ce.label,on.join(", "))):Ve.isValid()?null:this._tryToSplitAndUndo(se,Ce,null,p.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",Ce.label))}_workspaceUndo(se,Ce,Ve){const It=this._getAffectedEditStacks(Ce),Pt=this._checkWorkspaceUndo(se,Ce,It,!1);return Pt?Pt.returnValue:this._confirmAndExecuteWorkspaceUndo(se,Ce,It,Ve)}_isPartOfUndoGroup(se){if(!se.groupId)return!1;for(const[,Ce]of this._editStacks){const Ve=Ce.getClosestPastElement();if(Ve){if(Ve===se){const It=Ce.getSecondClosestPastElement();if(It&&It.groupId===se.groupId)return!0}if(Ve.groupId===se.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(se,Ce,Ve,It){return w(this,void 0,void 0,function*(){if(Ce.canSplit()&&!this._isPartOfUndoGroup(Ce)){const wn=yield this._dialogService.show(a.Z.Info,p.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",Ce.label),[p.NC({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",Ve.editStacks.length),p.NC("nok","Undo this File"),p.NC("cancel","Cancel")],{cancelId:2});if(2===wn.choice)return;if(1===wn.choice)return this._splitPastWorkspaceElement(Ce,null),this._undo(se,0,!0);const ii=this._checkWorkspaceUndo(se,Ce,Ve,!1);if(ii)return ii.returnValue;It=!0}let Pt;try{Pt=yield this._invokeWorkspacePrepare(Ce)}catch(wn){return this._onError(wn,Ce)}const on=this._checkWorkspaceUndo(se,Ce,Ve,!0);if(on)return Pt.dispose(),on.returnValue;for(const wn of Ve.editStacks)wn.moveBackward(Ce);return this._safeInvokeWithLocks(Ce,()=>Ce.actual.undo(),Ve,Pt,()=>this._continueUndoInGroup(Ce.groupId,It))})}_resourceUndo(se,Ce,Ve){if(Ce.isValid){if(!se.locked)return this._invokeResourcePrepare(Ce,It=>(se.moveBackward(Ce),this._safeInvokeWithLocks(Ce,()=>Ce.actual.undo(),new z([se]),It,()=>this._continueUndoInGroup(Ce.groupId,Ve))));{const It=p.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",Ce.label);this._notificationService.warn(It)}}else se.flushAllElements()}_findClosestUndoElementInGroup(se){if(!se)return[null,null];let Ce=null,Ve=null;for(const[It,Pt]of this._editStacks){const on=Pt.getClosestPastElement();!on||on.groupId===se&&(!Ce||on.groupOrder>Ce.groupOrder)&&(Ce=on,Ve=It)}return[Ce,Ve]}_continueUndoInGroup(se,Ce){if(!se)return;const[,Ve]=this._findClosestUndoElementInGroup(se);return Ve?this._undo(Ve,0,Ce):void 0}undo(se){if(se instanceof b.gJ){const[,Ce]=this._findClosestUndoElementWithSource(se.id);return Ce?this._undo(Ce,se.id,!1):void 0}return this._undo("string"==typeof se?se:this.getUriComparisonKey(se),0,!1)}_undo(se,Ce=0,Ve){if(!this._editStacks.has(se))return;const It=this._editStacks.get(se),Pt=It.getClosestPastElement();if(Pt){if(Pt.groupId){const[wn,ii]=this._findClosestUndoElementInGroup(Pt.groupId);if(Pt!==wn&&ii)return this._undo(ii,Ce,Ve)}if((Pt.sourceId!==Ce||Pt.confirmBeforeUndo)&&!Ve)return this._confirmAndContinueUndo(se,Ce,Pt);try{return 1===Pt.type?this._workspaceUndo(se,Pt,Ve):this._resourceUndo(It,Pt,Ve)}finally{}}}_confirmAndContinueUndo(se,Ce,Ve){return w(this,void 0,void 0,function*(){if(1!==(yield this._dialogService.show(a.Z.Info,p.NC("confirmDifferentSource","Would you like to undo '{0}'?",Ve.label),[p.NC("confirmDifferentSource.yes","Yes"),p.NC("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(se,Ce,!0)})}_findClosestRedoElementWithSource(se){if(!se)return[null,null];let Ce=null,Ve=null;for(const[It,Pt]of this._editStacks){const on=Pt.getClosestFutureElement();!on||on.sourceId===se&&(!Ce||on.sourceOrder<Ce.sourceOrder)&&(Ce=on,Ve=It)}return[Ce,Ve]}canRedo(se){if(se instanceof b.gJ){const[,Ve]=this._findClosestRedoElementWithSource(se.id);return!!Ve}const Ce=this.getUriComparisonKey(se);return!!this._editStacks.has(Ce)&&this._editStacks.get(Ce).hasFutureElements()}_tryToSplitAndRedo(se,Ce,Ve,It){if(Ce.canSplit())return this._splitFutureWorkspaceElement(Ce,Ve),this._notificationService.warn(It),new ne(this._redo(se));for(const Pt of Ce.strResources)this.removeElements(Pt);return this._notificationService.warn(It),new ne}_checkWorkspaceRedo(se,Ce,Ve,It){if(Ce.removedResources)return this._tryToSplitAndRedo(se,Ce,Ce.removedResources,p.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",Ce.label,Ce.removedResources.createMessage()));if(It&&Ce.invalidatedResources)return this._tryToSplitAndRedo(se,Ce,Ce.invalidatedResources,p.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",Ce.label,Ce.invalidatedResources.createMessage()));const Pt=[];for(const wn of Ve.editStacks)wn.getClosestFutureElement()!==Ce&&Pt.push(wn.resourceLabel);if(Pt.length>0)return this._tryToSplitAndRedo(se,Ce,null,p.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",Ce.label,Pt.join(", ")));const on=[];for(const wn of Ve.editStacks)wn.locked&&on.push(wn.resourceLabel);return on.length>0?this._tryToSplitAndRedo(se,Ce,null,p.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",Ce.label,on.join(", "))):Ve.isValid()?null:this._tryToSplitAndRedo(se,Ce,null,p.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",Ce.label))}_workspaceRedo(se,Ce){const Ve=this._getAffectedEditStacks(Ce),It=this._checkWorkspaceRedo(se,Ce,Ve,!1);return It?It.returnValue:this._executeWorkspaceRedo(se,Ce,Ve)}_executeWorkspaceRedo(se,Ce,Ve){return w(this,void 0,void 0,function*(){let It;try{It=yield this._invokeWorkspacePrepare(Ce)}catch(on){return this._onError(on,Ce)}const Pt=this._checkWorkspaceRedo(se,Ce,Ve,!0);if(Pt)return It.dispose(),Pt.returnValue;for(const on of Ve.editStacks)on.moveForward(Ce);return this._safeInvokeWithLocks(Ce,()=>Ce.actual.redo(),Ve,It,()=>this._continueRedoInGroup(Ce.groupId))})}_resourceRedo(se,Ce){if(Ce.isValid){if(!se.locked)return this._invokeResourcePrepare(Ce,Ve=>(se.moveForward(Ce),this._safeInvokeWithLocks(Ce,()=>Ce.actual.redo(),new z([se]),Ve,()=>this._continueRedoInGroup(Ce.groupId))));{const Ve=p.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",Ce.label);this._notificationService.warn(Ve)}}else se.flushAllElements()}_findClosestRedoElementInGroup(se){if(!se)return[null,null];let Ce=null,Ve=null;for(const[It,Pt]of this._editStacks){const on=Pt.getClosestFutureElement();!on||on.groupId===se&&(!Ce||on.groupOrder<Ce.groupOrder)&&(Ce=on,Ve=It)}return[Ce,Ve]}_continueRedoInGroup(se){if(!se)return;const[,Ce]=this._findClosestRedoElementInGroup(se);return Ce?this._redo(Ce):void 0}redo(se){if(se instanceof b.gJ){const[,Ce]=this._findClosestRedoElementWithSource(se.id);return Ce?this._redo(Ce):void 0}return this._redo("string"==typeof se?se:this.getUriComparisonKey(se))}_redo(se){if(!this._editStacks.has(se))return;const Ce=this._editStacks.get(se),Ve=Ce.getClosestFutureElement();if(Ve){if(Ve.groupId){const[It,Pt]=this._findClosestRedoElementInGroup(Ve.groupId);if(Ve!==It&&Pt)return this._redo(Pt)}try{return 1===Ve.type?this._workspaceRedo(se,Ve):this._resourceRedo(Ce,Ve)}finally{}}}};j=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([D(0,u.S),D(1,g.lT)],j);class ne{constructor(se){this.returnValue=se}}(0,C.z)(b.tJ,j),e(79095);var V=e(73879),Z=e(41140),fe=e(37451),M=e(8841),Se=e(59547),Ee=e(61560),Le=e(61904),Ne=e(65484),oe=e(18723),we=e(98570),xe=e(59602),pe=e(1149),Te=e(19147),de=e(66549),ke=e(94667),ze=e(15945),$e=e(16468),ce=e(9265),Ue=e(48648);const nt=/^(cursor|delete)/;class Dt extends c.JT{constructor(se,Ce,Ve,It,Pt){super(),this._contextKeyService=se,this._commandService=Ce,this._telemetryService=Ve,this._notificationService=It,this._logService=Pt,this._onDidUpdateKeybindings=this._register(new S.Q5),this._currentChord=null,this._currentChordChecker=new Ue.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Lt.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Ue._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:S.ju.None}dispose(){super.dispose()}_log(se){this._logging&&this._logService.info(`[KeybindingService]: ${se}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(se,Ce){const Ve=this._getResolver().lookupPrimaryKeybinding(se,Ce||this._contextKeyService);if(Ve)return Ve.resolvedKeybinding}dispatchEvent(se,Ce){return this._dispatch(se,Ce)}softDispatch(se,Ce){this._log("/ Soft dispatching keyboard event");const Ve=this.resolveKeyboardEvent(se);if(Ve.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[It]=Ve.getDispatchParts();if(null===It)return this._log("\\ Keyboard event cannot be dispatched"),null;const Pt=this._contextKeyService.getContext(Ce),on=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(Pt,on,It)}_enterChordMode(se,Ce){this._currentChord={keypress:se,label:Ce},this._currentChordStatusMessage=this._notificationService.status(p.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",Ce));const Ve=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-Ve>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(se,Ce){return this._doDispatch(this.resolveKeyboardEvent(se),Ce,!1)}_singleModifierDispatch(se,Ce){const Ve=this.resolveKeyboardEvent(se),[It]=Ve.getSingleModifierDispatchParts();if(It)return this._ignoreSingleModifiers.has(It)?(this._log(`+ Ignoring single modifier ${It} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Lt.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Lt.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${It}.`),this._currentSingleModifier=It,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):It===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${It} ${It}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(Ve,Ce,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${It}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[Pt]=Ve.getParts();return this._ignoreSingleModifiers=new Lt(Pt),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(se,Ce,Ve=!1){let It=!1;if(se.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let Pt=null,on=null;if(Ve){const[ki]=se.getSingleModifierDispatchParts();Pt=ki,on=ki}else[Pt]=se.getDispatchParts(),on=this._currentChord?this._currentChord.keypress:null;if(null===Pt)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),It;const wn=this._contextKeyService.getContext(Ce),ii=se.getLabel(),Ci=this._getResolver().resolve(wn,on,Pt);return this._logService.trace("KeybindingService#dispatch",ii,Ci?.commandId),Ci&&Ci.enterChord?(It=!0,this._enterChordMode(Pt,ii),this._log("+ Entering chord mode..."),It):(this._currentChord&&(!Ci||!Ci.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${ii}".`),this._notificationService.status(p.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,ii),{hideAfter:1e4}),It=!0),this._leaveChordMode(),Ci&&Ci.commandId&&(Ci.bubble||(It=!0),this._log(`+ Invoking command ${Ci.commandId}.`),typeof Ci.commandArgs>"u"?this._commandService.executeCommand(Ci.commandId).then(void 0,ki=>this._notificationService.warn(ki)):this._commandService.executeCommand(Ci.commandId,Ci.commandArgs).then(void 0,ki=>this._notificationService.warn(ki)),nt.test(Ci.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Ci.commandId,from:"keybinding"})),It)}mightProducePrintableCharacter(se){return!se.ctrlKey&&!se.metaKey&&(se.keyCode>=31&&se.keyCode<=56||se.keyCode>=21&&se.keyCode<=30)}}class Lt{constructor(se){this._ctrlKey=!!se&&se.ctrlKey,this._shiftKey=!!se&&se.shiftKey,this._altKey=!!se&&se.altKey,this._metaKey=!!se&&se.metaKey}has(se){switch(se){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Lt.EMPTY=new Lt(null);var Ze=e(14759);class ae{constructor(se,Ce,Ve){this._log=Ve,this._defaultKeybindings=se,this._defaultBoundCommands=new Map;for(const It of se){const Pt=It.command;Pt&&"-"!==Pt.charAt(0)&&this._defaultBoundCommands.set(Pt,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=ae.handleRemovals([].concat(se).concat(Ce));for(let It=0,Pt=this._keybindings.length;It<Pt;It++){const on=this._keybindings[It];0!==on.keypressParts.length&&(on.when&&0===on.when.type||this._addKeyPress(on.keypressParts[0],on))}}static _isTargetedForRemoval(se,Ce,Ve,It){return!(Ce&&se.keypressParts[0]!==Ce||Ve&&se.keypressParts[1]!==Ve||It&&(!se.when||!(0,$e.Fb)(It,se.when)))}static handleRemovals(se){const Ce=new Map;for(let It=0,Pt=se.length;It<Pt;It++){const on=se[It];if(on.command&&"-"===on.command.charAt(0)){const wn=on.command.substring(1);Ce.has(wn)?Ce.get(wn).push(on):Ce.set(wn,[on])}}if(0===Ce.size)return se;const Ve=[];for(let It=0,Pt=se.length;It<Pt;It++){const on=se[It];if(!on.command||0===on.command.length){Ve.push(on);continue}if("-"===on.command.charAt(0))continue;const wn=Ce.get(on.command);if(!wn||!on.isDefault){Ve.push(on);continue}let ii=!1;for(const Ci of wn)if(this._isTargetedForRemoval(on,Ci.keypressParts[0],Ci.keypressParts[1],Ci.when)){ii=!0;break}ii||Ve.push(on)}return Ve}_addKeyPress(se,Ce){const Ve=this._map.get(se);if(typeof Ve>"u")return this._map.set(se,[Ce]),void this._addToLookupMap(Ce);for(let It=Ve.length-1;It>=0;It--){const Pt=Ve[It];if(Pt.command===Ce.command)continue;const wn=Ce.keypressParts.length>1;Pt.keypressParts.length>1&&wn&&Pt.keypressParts[1]!==Ce.keypressParts[1]||ae.whenIsEntirelyIncluded(Pt.when,Ce.when)&&this._removeFromLookupMap(Pt)}Ve.push(Ce),this._addToLookupMap(Ce)}_addToLookupMap(se){if(!se.command)return;let Ce=this._lookupMap.get(se.command);typeof Ce>"u"?(Ce=[se],this._lookupMap.set(se.command,Ce)):Ce.push(se)}_removeFromLookupMap(se){if(!se.command)return;const Ce=this._lookupMap.get(se.command);if(!(typeof Ce>"u"))for(let Ve=0,It=Ce.length;Ve<It;Ve++)if(Ce[Ve]===se)return void Ce.splice(Ve,1)}static whenIsEntirelyIncluded(se,Ce){return!Ce||1===Ce.type||!(!se||1===se.type)&&(0,$e.K8)(se,Ce)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(se,Ce){const Ve=this._lookupMap.get(se);if(typeof Ve>"u"||0===Ve.length)return null;if(1===Ve.length)return Ve[0];for(let It=Ve.length-1;It>=0;It--){const Pt=Ve[It];if(Ce.contextMatchesRules(Pt.when))return Pt}return Ve[Ve.length-1]}resolve(se,Ce,Ve){this._log(`| Resolving ${Ve}${Ce?` chorded from ${Ce}`:""}`);let It=null;if(null!==Ce){const on=this._map.get(Ce);if(typeof on>"u")return this._log("\\ No keybinding entries."),null;It=[];for(let wn=0,ii=on.length;wn<ii;wn++){const Ci=on[wn];Ci.keypressParts[1]===Ve&&It.push(Ci)}}else{const on=this._map.get(Ve);if(typeof on>"u")return this._log("\\ No keybinding entries."),null;It=on}const Pt=this._findCommand(se,It);return Pt?null===Ce&&Pt.keypressParts.length>1&&null!==Pt.keypressParts[1]?(this._log(`\\ From ${It.length} keybinding entries, matched chord, when: ${_e(Pt.when)}, source: ${he(Pt)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${It.length} keybinding entries, matched ${Pt.command}, when: ${_e(Pt.when)}, source: ${he(Pt)}.`),{enterChord:!1,leaveChord:Pt.keypressParts.length>1,commandId:Pt.command,commandArgs:Pt.commandArgs,bubble:Pt.bubble}):(this._log(`\\ From ${It.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(se,Ce){for(let Ve=Ce.length-1;Ve>=0;Ve--){const It=Ce[Ve];if(ae._contextMatchesRules(se,It.when))return It}return null}static _contextMatchesRules(se,Ce){return!Ce||Ce.evaluate(se)}}function _e(Nn){return Nn?`${Nn.serialize()}`:"no when condition"}function he(Nn){return Nn.extensionId?Nn.isBuiltinExtension?`built-in extension ${Nn.extensionId}`:`user extension ${Nn.extensionId}`:Nn.isDefault?"built-in":"user"}var le=e(98915),Q=e(17461),ve=e(51915),Ae=e(57585),dt=e(55538),st=e(24131),et=e(24596),Qe=e(74982),tt=e(40734),vt=e(29693),mt=e(88521),_t=e(50703),Kt=e(15278),Bt=e(36969),Ge=e(57856),ut=e.n(Ge),Ut=e(38470),hn=e.n(Ut),Dn=e(43370),wt=e.n(Dn),je=e(28458),ye=e.n(je),Me=e(71278),ue=e.n(Me),be=e(29488),qe=e.n(be),Fe=e(99166),ot={};ot.styleTagTransform=qe(),ot.setAttributes=ye(),ot.insert=wt().bind(null,"head"),ot.domAPI=hn(),ot.insertStyleElement=ue(),ut()(Fe.Z,ot);var vn=(()=>{return(Nn=vn||(vn={}))[Nn.AVOID=0]="AVOID",Nn[Nn.ALIGN=1]="ALIGN",vn;var Nn})();function Mn(Nn,se,Ce){const Ve=Ce.mode===vn.ALIGN?Ce.offset:Ce.offset+Ce.size,It=Ce.mode===vn.ALIGN?Ce.offset+Ce.size:Ce.offset;return 0===Ce.position?se<=Nn-Ve?Ve:se<=It?It-se:Math.max(Nn-se,0):se<=It?It-se:se<=Nn-Ve?Ve:0}let Ct=(()=>{class Nn extends c.JT{constructor(Ce,Ve){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=c.JT.None,this.toDisposeOnSetContainer=c.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=l.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,l.Cp(this.view),this.setContainer(Ce,Ve),this._register((0,c.OF)(()=>this.setContainer(null,1)))}setContainer(Ce,Ve){var It;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(It=this.shadowRootHostElement)||void 0===It||It.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),Ce){if(this.container=Ce,this.useFixedPosition=1!==Ve,this.useShadowDOM=3===Ve,this.useShadowDOM){this.shadowRootHostElement=l.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const on=document.createElement("style");on.textContent=fn,this.shadowRoot.appendChild(on),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(l.$("slot"))}else this.container.appendChild(this.view);const Pt=new c.SL;Nn.BUBBLE_UP_EVENTS.forEach(on=>{Pt.add(l.mu(this.container,on,wn=>{this.onDOMEvent(wn,!1)}))}),Nn.BUBBLE_DOWN_EVENTS.forEach(on=>{Pt.add(l.mu(this.container,on,wn=>{this.onDOMEvent(wn,!0)},!0))}),this.toDisposeOnSetContainer=Pt}}show(Ce){var Ve,It;this.isVisible()&&this.hide(),l.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",l.$Z(this.view),this.toDisposeOnClean=Ce.render(this.view)||c.JT.None,this.delegate=Ce,this.doLayout(),null===(It=(Ve=this.delegate).focus)||void 0===It||It.call(Ve)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||M.gn&&Kt.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const Ce=this.delegate.getAnchor();let Ve;if(l.Re(Ce)){const ts=l.i(Ce),jo=l.I8(Ce);Ve={top:ts.top*jo,left:ts.left*jo,width:ts.width*jo,height:ts.height*jo}}else Ve={top:Ce.y,left:Ce.x,width:Ce.width||1,height:Ce.height||2};const It=l.w(this.view),Pt=l.wn(this.view),on=this.delegate.anchorPosition||0,wn=this.delegate.anchorAlignment||0;let Ci,ki;if(0===(this.delegate.anchorAxisAlignment||0)){const ts={offset:Ve.top-window.pageYOffset,size:Ve.height,position:0===on?0:1},jo={offset:Ve.left,size:Ve.width,position:0===wn?0:1,mode:vn.ALIGN};Ci=Mn(window.innerHeight,Pt,ts)+window.pageYOffset,Bt.e.intersects({start:Ci,end:Ci+Pt},{start:ts.offset,end:ts.offset+ts.size})&&(jo.mode=vn.AVOID),ki=Mn(window.innerWidth,It,jo)}else{const ts={offset:Ve.left,size:Ve.width,position:0===wn?0:1},jo={offset:Ve.top,size:Ve.height,position:0===on?0:1,mode:vn.ALIGN};ki=Mn(window.innerWidth,It,ts),Bt.e.intersects({start:ki,end:ki+It},{start:ts.offset,end:ts.offset+ts.size})&&(jo.mode=vn.AVOID),Ci=Mn(window.innerHeight,Pt,jo)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===on?"bottom":"top"),this.view.classList.add(0===wn?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const Mo=l.i(this.container);this.view.style.top=Ci-(this.useFixedPosition?l.i(this.view).top:Mo.top)+"px",this.view.style.left=ki-(this.useFixedPosition?l.i(this.view).left:Mo.left)+"px",this.view.style.width="initial"}hide(Ce){const Ve=this.delegate;this.delegate=null,Ve?.onHide&&Ve.onHide(Ce),this.toDisposeOnClean.dispose(),l.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(Ce,Ve){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(Ce,document.activeElement):Ve&&!l.jg(Ce.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return Nn.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],Nn.BUBBLE_DOWN_EVENTS=["click"],Nn})();const fn='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tfont-display: block;\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let zn=class extends c.JT{constructor(se){super(),this.layoutService=se,this.currentViewDisposable=c.JT.None,this.container=se.hasContainer?se.container:null,this.contextView=this._register(new Ct(this.container,1)),this.layout(),this._register(se.onDidLayout(()=>this.layout()))}setContainer(se,Ce){this.contextView.setContainer(se,Ce||1)}showContextView(se,Ce,Ve){Ce?(Ce!==this.container||this.shadowRoot!==Ve)&&(this.container=Ce,this.setContainer(Ce,Ve?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=Ve,this.contextView.show(se);const It=(0,c.OF)(()=>{this.currentViewDisposable===It&&this.hideContextView()});return this.currentViewDisposable=It,It}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(se){this.contextView.hide(se)}};var se;zn=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([(0,se=v.F,function(Ce,Ve){se(Ce,Ve,0)})],zn);var li=e(64763),oi=e(40902),Li=e(97340),so=e(37428),oo=e(62922),xo=e(65065),ro=e(34872),_o=e(82099),mo=e(3067),si=e(827),Qt=e(58783),pt=e(59882);const ft=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,jt=/(&amp;)?(&amp;)([^\s&])/g;var en=(()=>(function(Nn){Nn[Nn.Right=0]="Right",Nn[Nn.Left=1]="Left"}(en||(en={})),en))();class rn extends xo.o{constructor(se,Ce,Ve={}){se.classList.add("monaco-menu-container"),se.setAttribute("role","presentation");const It=document.createElement("div");It.classList.add("monaco-menu"),It.setAttribute("role","presentation"),super(It,{orientation:1,actionViewItemProvider:wn=>this.doGetActionViewItem(wn,Ve,Pt),context:Ve.context,actionRunner:Ve.actionRunner,ariaLabel:Ve.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...M.dz||M.IJ?[10]:[]],keyDown:!0}}),this.menuElement=It,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new c.SL),this.initializeOrUpdateStyleSheet(se,{}),this._register(oo.o.addTarget(It)),(0,l.nm)(It,l.tw.KEY_DOWN,wn=>{new Z.y(wn).equals(2)&&wn.preventDefault()}),Ve.enableMnemonics&&this.menuDisposables.add((0,l.nm)(It,l.tw.KEY_DOWN,wn=>{const ii=wn.key.toLocaleLowerCase();if(this.mnemonics.has(ii)){l.zB.stop(wn,!0);const Ci=this.mnemonics.get(ii);if(1===Ci.length&&(Ci[0]instanceof An&&Ci[0].container&&this.focusItemByElement(Ci[0].container),Ci[0].onClick(wn)),Ci.length>1){const ki=Ci.shift();ki&&ki.container&&(this.focusItemByElement(ki.container),Ci.push(ki)),this.mnemonics.set(ii,Ci)}}})),M.IJ&&this._register((0,l.nm)(It,l.tw.KEY_DOWN,wn=>{const ii=new Z.y(wn);ii.equals(14)||ii.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),l.zB.stop(wn,!0)):(ii.equals(13)||ii.equals(12))&&(this.focusedItem=0,this.focusPrevious(),l.zB.stop(wn,!0))})),this._register((0,l.nm)(this.domNode,l.tw.MOUSE_OUT,wn=>{(0,l.jg)(wn.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),wn.stopPropagation())})),this._register((0,l.nm)(this.actionsList,l.tw.MOUSE_OVER,wn=>{let ii=wn.target;if(ii&&(0,l.jg)(ii,this.actionsList)&&ii!==this.actionsList){for(;ii.parentElement!==this.actionsList&&null!==ii.parentElement;)ii=ii.parentElement;if(ii.classList.contains("action-item")){const Ci=this.focusedItem;this.setFocusedItem(ii),Ci!==this.focusedItem&&this.updateFocus()}}})),this._register(oo.o.addTarget(this.actionsList)),this._register((0,l.nm)(this.actionsList,oo.t.Tap,wn=>{let ii=wn.initialTarget;if(ii&&(0,l.jg)(ii,this.actionsList)&&ii!==this.actionsList){for(;ii.parentElement!==this.actionsList&&null!==ii.parentElement;)ii=ii.parentElement;if(ii.classList.contains("action-item")){const Ci=this.focusedItem;this.setFocusedItem(ii),Ci!==this.focusedItem&&this.updateFocus()}}}));const Pt={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new mo.s$(It,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const on=this.scrollableElement.getDomNode();on.style.position="",this._register((0,l.nm)(It,oo.t.Change,wn=>{l.zB.stop(wn,!0);const ii=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:ii-wn.translationY})})),this._register((0,l.nm)(on,l.tw.MOUSE_UP,wn=>{wn.preventDefault()})),It.style.maxHeight=`${Math.max(10,window.innerHeight-se.getBoundingClientRect().top-35)}px`,Ce=Ce.filter(wn=>{var ii;return null===(ii=Ve.submenuIds)||void 0===ii||!ii.has(wn.id)||(console.warn(`Found submenu cycle: ${wn.id}`),!1)}),this.push(Ce,{icon:!0,label:!0,isMenu:!0}),se.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(wn=>!(wn instanceof jn)).forEach((wn,ii,Ci)=>{wn.updatePositionInSet(ii+1,Ci.length)})}initializeOrUpdateStyleSheet(se,Ce){this.styleSheet||((0,l.OO)(se)?this.styleSheet=(0,l.dS)(se):(rn.globalStyleSheet||(rn.globalStyleSheet=(0,l.dS)()),this.styleSheet=rn.globalStyleSheet)),this.styleSheet.textContent=function wi(Nn,se){let Ce=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${(0,_o.a)(Qt.lA.menuSelection)}\n${(0,_o.a)(Qt.lA.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .6em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(se){Ce+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const Ve=Nn.scrollbarShadow;Ve&&(Ce+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${Ve} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${Ve} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${Ve} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const It=Nn.scrollbarSliderBackground;It&&(Ce+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${It};\n\t\t\t\t}\n\t\t\t`);const Pt=Nn.scrollbarSliderHoverBackground;Pt&&(Ce+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${Pt};\n\t\t\t\t}\n\t\t\t`);const on=Nn.scrollbarSliderActiveBackground;on&&(Ce+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${on};\n\t\t\t\t}\n\t\t\t`)}return Ce}(Ce,(0,l.OO)(se))}style(se){const Ce=this.getContainer();this.initializeOrUpdateStyleSheet(Ce,se);const Ve=se.foregroundColor?`${se.foregroundColor}`:"",It=se.backgroundColor?`${se.backgroundColor}`:"",wn=se.shadowColor?`0 2px 8px ${se.shadowColor}`:"";Ce.style.outline=se.borderColor?`1px solid ${se.borderColor}`:"",Ce.style.borderRadius="5px",Ce.style.color=Ve,Ce.style.backgroundColor=It,Ce.style.boxShadow=wn,this.viewItems&&this.viewItems.forEach(ii=>{(ii instanceof gn||ii instanceof jn)&&ii.style(se)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(se){const Ce=this.focusedItem;this.setFocusedItem(se),Ce!==this.focusedItem&&this.updateFocus()}setFocusedItem(se){for(let Ce=0;Ce<this.actionsList.children.length;Ce++)if(se===this.actionsList.children[Ce]){this.focusedItem=Ce;break}}updateFocus(se){super.updateFocus(se,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(se,Ce,Ve){if(se instanceof si.Z0)return new jn(Ce.context,se,{icon:!0});if(se instanceof si.wY){const It=new An(se,se.actions,Ve,Object.assign(Object.assign({},Ce),{submenuIds:new Set([...Ce.submenuIds||[],se.id])}));if(Ce.enableMnemonics){const Pt=It.getMnemonic();if(Pt&&It.isEnabled()){let on=[];this.mnemonics.has(Pt)&&(on=this.mnemonics.get(Pt)),on.push(It),this.mnemonics.set(Pt,on)}}return It}{const It={enableMnemonics:Ce.enableMnemonics,useEventAsContext:Ce.useEventAsContext};if(Ce.getKeyBinding){const on=Ce.getKeyBinding(se);if(on){const wn=on.getLabel();wn&&(It.keybinding=wn)}}const Pt=new gn(Ce.context,se,It);if(Ce.enableMnemonics){const on=Pt.getMnemonic();if(on&&Pt.isEnabled()){let wn=[];this.mnemonics.has(on)&&(wn=this.mnemonics.get(on)),wn.push(Pt),this.mnemonics.set(on,wn)}}return Pt}}}class gn extends ro.Y{constructor(se,Ce,Ve={}){if(Ve.isMenu=!0,super(Ce,Ce,Ve),this.options=Ve,this.options.icon=void 0!==Ve.icon&&Ve.icon,this.options.label=void 0===Ve.label||Ve.label,this.cssClass="",this.options.label&&Ve.enableMnemonics){const It=this.getAction().label;if(It){const Pt=ft.exec(It);Pt&&(this.mnemonic=(Pt[1]?Pt[1]:Pt[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ue.pY(()=>{!this.element||(this._register((0,l.nm)(this.element,l.tw.MOUSE_UP,It=>{if(l.zB.stop(It,!0),so.isFirefox){if(new Li.n(It).rightButton)return;this.onClick(It)}else setTimeout(()=>{this.onClick(It)},0)})),this._register((0,l.nm)(this.element,l.tw.CONTEXT_MENU,It=>{l.zB.stop(It,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(se){super.render(se),this.element&&(this.container=se,this.item=(0,l.R3)(this.element,(0,l.$)("a.action-menu-item")),this._action.id===si.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,l.R3)(this.item,(0,l.$)("span.menu-item-check"+Qt.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,l.R3)(this.item,(0,l.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,l.R3)(this.item,(0,l.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(se,Ce){this.item&&(this.item.setAttribute("aria-posinset",`${se}`),this.item.setAttribute("aria-setsize",`${Ce}`))}updateLabel(){var se;if(this.label&&this.options.label){(0,l.PO)(this.label);let Ce=(0,pt.x$)(this.getAction().label);if(Ce){const Ve=function Qn(Nn){const se=ft,Ce=se.exec(Nn);return Ce?Nn.replace(se,Ce[1]?"":"$2$3").trim():Nn}(Ce);this.options.enableMnemonics||(Ce=Ve),this.label.setAttribute("aria-label",Ve.replace(/&&/g,"&"));const It=ft.exec(Ce);if(It){Ce=V.YU(Ce),jt.lastIndex=0;let Pt=jt.exec(Ce);for(;Pt&&Pt[1];)Pt=jt.exec(Ce);const on=wn=>wn.replace(/&amp;&amp;/g,"&amp;");Pt?this.label.append(V.j3(on(Ce.substr(0,Pt.index))," "),(0,l.$)("u",{"aria-hidden":"true"},Pt[3]),V.oL(on(Ce.substr(Pt.index+Pt[0].length))," ")):this.label.innerText=on(Ce).trim(),null===(se=this.item)||void 0===se||se.setAttribute("aria-keyshortcuts",(It[1]?It[1]:It[3]).toLocaleLowerCase())}else this.label.innerText=Ce.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const se=this.getAction().checked;this.item.classList.toggle("checked",!!se),void 0!==se?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",se?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const se=this.element&&this.element.classList.contains("focused"),Ce=se&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,Ve=se&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,It=se&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",Pt=se&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=Ce?Ce.toString():"",this.item.style.backgroundColor=Ve?Ve.toString():"",this.item.style.outline=It,this.item.style.outlineOffset=Pt),this.check&&(this.check.style.color=Ce?Ce.toString():"")}style(se){this.menuStyle=se,this.applyStyle()}}class An extends gn{constructor(se,Ce,Ve,It){super(se,se,It),this.submenuActions=Ce,this.parentData=Ve,this.submenuOptions=It,this.mysubmenu=null,this.submenuDisposables=this._register(new c.SL),this.mouseOver=!1,this.expandDirection=It&&void 0!==It.expandDirection?It.expandDirection:en.Right,this.showScheduler=new Ue.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Ue.pY(()=>{this.element&&!(0,l.jg)((0,l.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(se){super.render(se),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,l.R3)(this.item,(0,l.$)("span.submenu-indicator"+Qt.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,l.nm)(this.element,l.tw.KEY_UP,Ce=>{const Ve=new Z.y(Ce);(Ve.equals(17)||Ve.equals(3))&&(l.zB.stop(Ce,!0),this.createSubmenu(!0))})),this._register((0,l.nm)(this.element,l.tw.KEY_DOWN,Ce=>{const Ve=new Z.y(Ce);(0,l.vY)()===this.item&&(Ve.equals(17)||Ve.equals(3))&&l.zB.stop(Ce,!0)})),this._register((0,l.nm)(this.element,l.tw.MOUSE_OVER,Ce=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,l.nm)(this.element,l.tw.MOUSE_LEAVE,Ce=>{this.mouseOver=!1})),this._register((0,l.nm)(this.element,l.tw.FOCUS_OUT,Ce=>{this.element&&!(0,l.jg)((0,l.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(se){l.zB.stop(se,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(se){if(this.parentData.submenu&&(se||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(se,Ce,Ve,It){const Pt={top:0,left:0};return Pt.left=Mn(se.width,Ce.width,{position:It===en.Right?0:1,offset:Ve.left,size:Ve.width}),Pt.left>=Ve.left&&Pt.left<Ve.left+Ve.width&&(Ve.left+10+Ce.width<=se.width&&(Pt.left=Ve.left+10),Ve.top+=10,Ve.height=0),Pt.top=Mn(se.height,Ce.height,{position:0,offset:Ve.top,size:0}),Pt.top+Ce.height===Ve.top&&Pt.top+Ve.height+Ce.height<=se.height&&(Pt.top+=Ve.height),Pt}createSubmenu(se=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,l.R3)(this.element,(0,l.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const Ce=getComputedStyle(this.parentData.parent.domNode),Ve=parseFloat(Ce.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new rn(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new si.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const It=this.element.getBoundingClientRect(),Pt={top:It.top-Ve,left:It.left,height:It.height+2*Ve,width:It.width},on=this.submenuContainer.getBoundingClientRect(),{top:wn,left:ii}=this.calculateSubmenuMenuLayout(new l.Ro(window.innerWidth,window.innerHeight),l.Ro.lift(on),Pt,this.expandDirection);this.submenuContainer.style.left=ii-on.left+"px",this.submenuContainer.style.top=wn-on.top+"px",this.submenuDisposables.add((0,l.nm)(this.submenuContainer,l.tw.KEY_UP,Ci=>{new Z.y(Ci).equals(15)&&(l.zB.stop(Ci,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,l.nm)(this.submenuContainer,l.tw.KEY_DOWN,Ci=>{new Z.y(Ci).equals(15)&&l.zB.stop(Ci,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(se),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(se){var Ce;this.item&&(null===(Ce=this.item)||void 0===Ce||Ce.setAttribute("aria-expanded",se))}applyStyle(){var se;if(super.applyStyle(),!this.menuStyle)return;const Ve=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=Ve?`${Ve}`:""),null===(se=this.parentData.submenu)||void 0===se||se.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class jn extends ro.g{style(se){this.label&&(this.label.style.borderBottomColor=se.separatorColor?`${se.separatorColor}`:"")}}var xi=e(52075);class no{constructor(se,Ce,Ve,It,Pt){this.contextViewService=se,this.telemetryService=Ce,this.notificationService=Ve,this.keybindingService=It,this.themeService=Pt,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(se){this.options=se}showContextMenu(se){const Ce=se.getActions();if(!Ce.length)return;let Ve;this.focusToReturn=document.activeElement;const It=(0,l.Re)(se.domForShadowRoot)?se.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>se.getAnchor(),canRelayout:!1,anchorAlignment:se.anchorAlignment,anchorAxisAlignment:se.anchorAxisAlignment,render:Pt=>{const on=se.getMenuClassName?se.getMenuClassName():"";on&&(Pt.className+=" "+on),this.options.blockMouse&&(this.block=Pt.appendChild((0,l.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,l.nm)(this.block,l.tw.MOUSE_DOWN,Ci=>Ci.stopPropagation()));const wn=new c.SL,ii=se.actionRunner||new si.Wi;return ii.onBeforeRun(this.onActionRun,this,wn),ii.onDidRun(this.onDidActionRun,this,wn),Ve=new rn(Pt,Ce,{actionViewItemProvider:se.getActionViewItem,context:se.getActionsContext?se.getActionsContext():null,actionRunner:ii,getKeyBinding:se.getKeyBinding?se.getKeyBinding:Ci=>this.keybindingService.lookupKeybinding(Ci.id)}),wn.add((0,xi.tj)(Ve,this.themeService)),Ve.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,wn),Ve.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,wn),wn.add((0,l.nm)(window,l.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),wn.add((0,l.nm)(window,l.tw.MOUSE_DOWN,Ci=>{if(Ci.defaultPrevented)return;const ki=new Li.n(Ci);let Mo=ki.target;if(!ki.rightButton){for(;Mo;){if(Mo===Pt)return;Mo=Mo.parentElement}this.contextViewService.hideContextView(!0)}})),(0,c.F8)(wn,Ve)},focus:()=>{Ve?.focus(!!se.autoSelectFirstItem)},onHide:Pt=>{var on;null===(on=se.onHide)||void 0===on||on.call(se,!!Pt),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},It,!!It)}onActionRun(se){this.telemetryService.publicLog2("workbenchActionExecuted",{id:se.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(se){se.error&&!(0,m.n2)(se.error)&&this.notificationService.error(se.error)}}var Ki=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}};let ji=class extends c.JT{constructor(se,Ce,Ve,It,Pt){super(),this._onDidShowContextMenu=new S.Q5,this._onDidHideContextMenu=new S.Q5,this.contextMenuHandler=new no(Ve,se,Ce,It,Pt)}configure(se){this.contextMenuHandler.configure(se)}showContextMenu(se){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},se),{onHide:Ce=>{var Ve;null===(Ve=se.onHide)||void 0===Ve||Ve.call(se,Ce),this._onDidHideContextMenu.fire()}})),l._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};ji=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([Ki(0,st.b),Ki(1,g.lT),Ki(2,_t.u),Ki(3,Ze.d),Ki(4,oi.XE)],ji);var co=e(73888),yo=e(85739),Go=e(5067),Po=e(61408),wo=(()=>(function(Nn){Nn[Nn.API=0]="API",Nn[Nn.USER=1]="USER"}(wo||(wo={})),wo))(),Do=e(44827),to=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt},vo=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}},Oo=function(Nn,se,Ce,Ve){return new(Ce||(Ce=Promise))(function(Pt,on){function wn(ki){try{Ci(Ve.next(ki))}catch(Mo){on(Mo)}}function ii(ki){try{Ci(Ve.throw(ki))}catch(Mo){on(Mo)}}function Ci(ki){ki.done?Pt(ki.value):function It(Pt){return Pt instanceof Ce?Pt:new Ce(function(on){on(Pt)})}(ki.value).then(wn,ii)}Ci((Ve=Ve.apply(Nn,se||[])).next())})};let ai=class{constructor(se){this._commandService=se}open(se,Ce){return Oo(this,void 0,void 0,function*(){if(!(0,Do.xn)(se,n.lg.command))return!1;if(!Ce?.allowCommands)return!0;"string"==typeof se&&(se=Se.o.parse(se));let Ve=[];try{Ve=(0,Po.Q)(decodeURIComponent(se.query))}catch{try{Ve=(0,Po.Q)(se.query)}catch{}}return Array.isArray(Ve)||(Ve=[Ve]),yield this._commandService.executeCommand(se.path,...Ve),!0})}};ai=to([vo(0,de.Hy)],ai);let Yt=class{constructor(se){this._editorService=se}open(se,Ce){return Oo(this,void 0,void 0,function*(){"string"==typeof se&&(se=Se.o.parse(se));const{selection:Ve,uri:It}=(0,Do.xI)(se);return(se=It).scheme===n.lg.file&&(se=(0,tt.AH)(se)),yield this._editorService.openCodeEditor({resource:se,options:Object.assign({selection:Ve,source:Ce?.fromUserGesture?wo.USER:wo.API},Ce?.editorOptions)},this._editorService.getFocusedCodeEditor(),Ce?.openToSide),!0})}};Yt=to([vo(0,T.$)],Yt);let kt=class{constructor(se,Ce){this._openers=new yo.S,this._validators=new yo.S,this._resolvers=new yo.S,this._resolvedUriTargets=new Go.Y9(Ve=>Ve.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new yo.S,this._defaultExternalOpener={openExternal:Ve=>Oo(this,void 0,void 0,function*(){return(0,Do.Gs)(Ve,n.lg.http,n.lg.https)?l.V3(Ve):window.location.href=Ve,!0})},this._openers.push({open:(Ve,It)=>Oo(this,void 0,void 0,function*(){return!(!It?.openExternal&&!(0,Do.Gs)(Ve,n.lg.mailto,n.lg.http,n.lg.https,n.lg.vsls)||(yield this._doOpenExternal(Ve,It),0))})}),this._openers.push(new ai(Ce)),this._openers.push(new Yt(se))}registerOpener(se){return{dispose:this._openers.unshift(se)}}registerValidator(se){return{dispose:this._validators.push(se)}}registerExternalUriResolver(se){return{dispose:this._resolvers.push(se)}}setDefaultExternalOpener(se){this._defaultExternalOpener=se}registerExternalOpener(se){return{dispose:this._externalOpeners.push(se)}}open(se,Ce){var Ve;return Oo(this,void 0,void 0,function*(){const It="string"==typeof se?Se.o.parse(se):se,Pt=null!==(Ve=this._resolvedUriTargets.get(It))&&void 0!==Ve?Ve:se;for(const on of this._validators)if(!(yield on.shouldOpen(Pt,Ce)))return!1;for(const on of this._openers)if(yield on.open(se,Ce))return!0;return!1})}resolveExternalUri(se,Ce){return Oo(this,void 0,void 0,function*(){for(const Ve of this._resolvers)try{const It=yield Ve.resolveExternalUri(se,Ce);if(It)return this._resolvedUriTargets.has(It.resolved)||this._resolvedUriTargets.set(It.resolved,se),It}catch{}throw new Error("Could not resolve external URI: "+se.toString())})}_doOpenExternal(se,Ce){return Oo(this,void 0,void 0,function*(){const Ve="string"==typeof se?Se.o.parse(se):se;let It,Pt;try{It=(yield this.resolveExternalUri(Ve,Ce)).resolved}catch{It=Ve}if(Pt="string"==typeof se&&Ve.toString()===It.toString()?se:encodeURI(It.toString(!0)),Ce?.allowContributedOpeners){const on="string"==typeof Ce?.allowContributedOpeners?Ce?.allowContributedOpeners:void 0;for(const wn of this._externalOpeners)if(yield wn.openExternal(Pt,{sourceUri:Ve,preferredOpenerId:on},co.T.None))return!0}return this._defaultExternalOpener.openExternal(Pt,{sourceUri:Ve},co.T.None)})}dispose(){this._validators.clear()}};kt=to([vo(0,T.$),vo(1,de.Hy)],kt);var ln=e(81534),On=e(30910),Fn=e(45358),dn=e(58177),gt=e(47629),sn=e(43944),nn=e(4062),Pn=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}};class En extends c.JT{constructor(se){super(),this.model=se,this._markersData=new Map,this._register((0,c.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(se,Ce){const Ve=[...this._markersData.keys()];this._markersData.clear();const It=this.model.deltaDecorations(Ve,Ce);for(let Pt=0;Pt<It.length;Pt++)this._markersData.set(It[Pt],se[Pt]);return 0!==Ve.length||0!==It.length}getMarker(se){return this._markersData.get(se.id)}}let ht=class extends c.JT{constructor(se,Ce){super(),this._markerService=Ce,this._onDidChangeMarker=this._register(new S.Q5),this._markerDecorations=new Go.Y9,se.getModels().forEach(Ve=>this._onModelAdded(Ve)),this._register(se.onModelAdded(this._onModelAdded,this)),this._register(se.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(se=>se.dispose()),this._markerDecorations.clear()}getMarker(se,Ce){const Ve=this._markerDecorations.get(se);return Ve&&Ve.getMarker(Ce)||null}_handleMarkerChange(se){se.forEach(Ce=>{const Ve=this._markerDecorations.get(Ce);Ve&&this._updateDecorations(Ve)})}_onModelAdded(se){const Ce=new En(se);this._markerDecorations.set(se.uri,Ce),this._updateDecorations(Ce)}_onModelRemoved(se){var Ce;const Ve=this._markerDecorations.get(se.uri);Ve&&(Ve.dispose(),this._markerDecorations.delete(se.uri)),(se.uri.scheme===n.lg.inMemory||se.uri.scheme===n.lg.internal||se.uri.scheme===n.lg.vscode)&&(null===(Ce=this._markerService)||void 0===Ce||Ce.read({resource:se.uri}).map(It=>It.owner).forEach(It=>this._markerService.remove(It,[se.uri])))}_updateDecorations(se){const Ce=this._markerService.read({resource:se.model.uri,take:500}),Ve=Ce.map(It=>({range:this._createDecorationRange(se.model,It),options:this._createDecorationOption(It)}));se.update(Ce,Ve)&&this._onDidChangeMarker.fire(se.model)}_createDecorationRange(se,Ce){let Ve=we.e.lift(Ce);if(Ce.severity===dn.ZL.Hint&&!this._hasMarkerTag(Ce,1)&&!this._hasMarkerTag(Ce,2)&&(Ve=Ve.setEndPosition(Ve.startLineNumber,Ve.startColumn+2)),Ve=se.validateRange(Ve),Ve.isEmpty()){const It=se.getLineLastNonWhitespaceColumn(Ve.startLineNumber)||se.getLineMaxColumn(Ve.startLineNumber);if(1===It||Ve.endColumn>=It)return Ve;const Pt=se.getWordAtPosition(Ve.getStartPosition());Pt&&(Ve=new we.e(Ve.startLineNumber,Pt.startColumn,Ve.endLineNumber,Pt.endColumn))}else if(Ce.endColumn===Number.MAX_VALUE&&1===Ce.startColumn&&Ve.startLineNumber===Ve.endLineNumber){const It=se.getLineFirstNonWhitespaceColumn(Ce.startLineNumber);It<Ve.endColumn&&(Ve=new we.e(Ve.startLineNumber,It,Ve.endLineNumber,Ve.endColumn),Ce.startColumn=It)}return Ve}_createDecorationOption(se){let Ce,Ve,It,Pt,on;switch(se.severity){case dn.ZL.Hint:Ce=this._hasMarkerTag(se,2)?void 0:this._hasMarkerTag(se,1)?"squiggly-unnecessary":"squiggly-hint",It=0;break;case dn.ZL.Warning:Ce="squiggly-warning",Ve=(0,oi.EN)(sn.Re),It=20,on={color:(0,oi.EN)(nn.Ivo),position:gt.F5.Inline};break;case dn.ZL.Info:Ce="squiggly-info",Ve=(0,oi.EN)(sn.eS),It=10;break;default:Ce="squiggly-error",Ve=(0,oi.EN)(sn.lK),It=30,on={color:(0,oi.EN)(nn.Gj_),position:gt.F5.Inline}}return se.tags&&(-1!==se.tags.indexOf(1)&&(Pt="squiggly-inline-unnecessary"),-1!==se.tags.indexOf(2)&&(Pt="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:Ce,showIfCollapsed:!0,overviewRuler:{color:Ve,position:gt.sh.Right},minimap:on,zIndex:It,inlineClassName:Pt}}_hasMarkerTag(se,Ce){return!!se.tags&&se.tags.indexOf(Ce)>=0}};ht=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([Pn(0,xe.q),Pn(1,dn.lT)],ht);var Rt=e(55585),Vt=e(37073),Zt=e(25460),Cn={};Cn.styleTagTransform=qe(),Cn.setAttributes=ye(),Cn.insert=wt().bind(null,"head"),Cn.domAPI=hn(),Cn.insertStyleElement=ue(),ut()(Zt.Z,Cn);var _n=e(26845),Hn=e(64280),Ai=e(50342),yi=e(27299),di=e(92192),Ft=e(1972),R=e(73622),q=e(4259),Ke=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}};let Xe=class extends c.JT{constructor(se,Ce){super(),this.quickInputService=se,this.instantiationService=Ce,this.registry=q.B.as(Ft.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(se="",Ce){this.doShowOrPick(se,!1,Ce)}doShowOrPick(se,Ce,Ve){var It;const[Pt,on]=this.getOrInstantiateProvider(se),wn=this.visibleQuickAccess,ii=wn?.descriptor;if(wn&&on&&ii===on)return se!==on.prefix&&!Ve?.preserveValue&&(wn.picker.value=se),void this.adjustValueSelection(wn.picker,on,Ve);if(on&&!Ve?.preserveValue){let jo;if(wn&&ii&&ii!==on){const Xs=wn.value.substr(ii.prefix.length);Xs&&(jo=`${on.prefix}${Xs}`)}if(!jo){const Xs=Pt?.defaultFilterValue;Xs===Ft.Ry.LAST?jo=this.lastAcceptedPickerValues.get(on):"string"==typeof Xs&&(jo=`${on.prefix}${Xs}`)}"string"==typeof jo&&(se=jo)}const Ci=new c.SL,ki=Ci.add(this.quickInputService.createQuickPick());let Mo;ki.value=se,this.adjustValueSelection(ki,on,Ve),ki.placeholder=on?.placeholder,ki.quickNavigate=Ve?.quickNavigateConfiguration,ki.hideInput=!!ki.quickNavigate&&!wn,("number"==typeof Ve?.itemActivation||Ve?.quickNavigateConfiguration)&&(ki.itemActivation=null!==(It=Ve?.itemActivation)&&void 0!==It?It:R.jG.SECOND),ki.contextKey=on?.contextKey,ki.filterValue=jo=>jo.substring(on?on.prefix.length:0),on?.placeholder&&(ki.ariaLabel=on?.placeholder),Ce&&(Mo=new Ue.CR,Ci.add((0,di.I)(ki.onWillAccept)(jo=>{jo.veto(),ki.hide()}))),Ci.add(this.registerPickerListeners(ki,Pt,on,se));const ts=Ci.add(new co.A);return Pt&&Ci.add(Pt.provide(ki,ts.token)),(0,di.I)(ki.onDidHide)(()=>{0===ki.selectedItems.length&&ts.cancel(),Ci.dispose(),Mo?.complete(ki.selectedItems.slice(0))}),ki.show(),Ce?Mo?.p:void 0}adjustValueSelection(se,Ce,Ve){var It;let Pt;Pt=Ve?.preserveValue?[se.value.length,se.value.length]:[null!==(It=Ce?.prefix.length)&&void 0!==It?It:0,se.value.length],se.valueSelection=Pt}registerPickerListeners(se,Ce,Ve,It){const Pt=new c.SL,on=this.visibleQuickAccess={picker:se,descriptor:Ve,value:It};return Pt.add((0,c.OF)(()=>{on===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),Pt.add(se.onDidChangeValue(wn=>{const[ii]=this.getOrInstantiateProvider(wn);ii!==Ce?this.show(wn,{preserveValue:!0}):on.value=wn})),Ve&&Pt.add(se.onDidAccept(()=>{this.lastAcceptedPickerValues.set(Ve,se.value)})),Pt}getOrInstantiateProvider(se){const Ce=this.registry.getQuickAccessProvider(se);if(!Ce)return[void 0,void 0];let Ve=this.mapProviderToDescriptor.get(Ce);return Ve||(Ve=this.instantiationService.createInstance(Ce.ctor),this.mapProviderToDescriptor.set(Ce,Ve)),[Ve,Ce]}};Xe=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([Ke(0,R.eJ),Ke(1,ce.TG)],Xe);var tn=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}};let Jt=class extends oi.bB{constructor(se,Ce,Ve,It,Pt){super(Ve),this.instantiationService=se,this.contextKeyService=Ce,this.accessibilityService=It,this.layoutService=Pt,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Xe))),this._quickAccess}createController(se=this.layoutService,Ce){const Ve={idPrefix:"quickInput_",container:se.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:Pt=>this.setContextKey(Pt),returnFocus:()=>se.focus(),createList:(Pt,on,wn,ii,Ci)=>this.instantiationService.createInstance(yi.ev,Pt,on,wn,ii,Ci),styles:this.computeStyles()},It=this._register(new Ai.O(Object.assign(Object.assign({},Ve),Ce)));return It.layout(se.dimension,se.offset.quickPickTop),this._register(se.onDidLayout(Pt=>It.layout(Pt,se.offset.quickPickTop))),this._register(It.onShow(()=>this.resetContextKeys())),this._register(It.onHide(()=>this.resetContextKeys())),It}setContextKey(se){let Ce;se&&(Ce=this.contexts.get(se),Ce||(Ce=new $e.uy(se,!1).bindTo(this.contextKeyService),this.contexts.set(se,Ce))),(!Ce||!Ce.get())&&(this.resetContextKeys(),Ce?.set(!0))}resetContextKeys(){this.contexts.forEach(se=>{se.get()&&se.reset()})}pick(se,Ce={},Ve=co.T.None){return this.controller.pick(se,Ce,Ve)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,xi.o)(this.theme,{quickInputBackground:nn.zKr,quickInputForeground:nn.tZ6,quickInputTitleBackground:nn.loF,contrastBorder:nn.lRK,widgetShadow:nn.rh})),inputBox:(0,xi.o)(this.theme,{inputForeground:nn.zJb,inputBackground:nn.sEe,inputBorder:nn.dt_,inputValidationInfoBackground:nn._lC,inputValidationInfoForeground:nn.YI3,inputValidationInfoBorder:nn.EPQ,inputValidationWarningBackground:nn.RV_,inputValidationWarningForeground:nn.SUG,inputValidationWarningBorder:nn.C3g,inputValidationErrorBackground:nn.paE,inputValidationErrorForeground:nn._t9,inputValidationErrorBorder:nn.OZR}),countBadge:(0,xi.o)(this.theme,{badgeBackground:nn.g8u,badgeForeground:nn.qeD,badgeBorder:nn.lRK}),button:(0,xi.o)(this.theme,{buttonForeground:nn.j5u,buttonBackground:nn.b7$,buttonHoverBackground:nn.GO4,buttonBorder:nn.lRK}),progressBar:(0,xi.o)(this.theme,{progressBarBackground:nn.zRJ}),keybindingLabel:(0,xi.o)(this.theme,{keybindingLabelBackground:nn.oQ$,keybindingLabelForeground:nn.lWp,keybindingLabelBorder:nn.AWI,keybindingLabelBottomBorder:nn.K19,keybindingLabelShadow:nn.rh}),list:(0,xi.o)(this.theme,{listBackground:nn.zKr,listInactiveFocusForeground:nn.NPS,listInactiveSelectionIconForeground:nn.cbQ,listInactiveFocusBackground:nn.Vqd,listFocusOutline:nn.xL1,listInactiveFocusOutline:nn.xL1,pickerGroupBorder:nn.opG,pickerGroupForeground:nn.kJk})}}};Jt=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([tn(0,ce.TG),tn(1,$e.i6),tn(2,oi.XE),tn(3,Hn.F),tn(4,v.F)],Jt);var Sn=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt},Tn=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}};let Bn=class extends Jt{constructor(se,Ce,Ve,It,Pt,on){super(Ce,Ve,It,Pt,new s(se.getContainerDomNode(),on)),this.host=void 0;const wn=ti.get(se);if(wn){const ii=wn.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return ii.getDomNode()},get dimension(){return se.getLayoutInfo()},get onDidLayout(){return se.onDidLayoutChange},focus:()=>se.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};Bn=Sn([Tn(1,ce.TG),Tn(2,$e.i6),Tn(3,oi.XE),Tn(4,Hn.F),Tn(5,T.$)],Bn);let Kn=class{constructor(se,Ce){this.instantiationService=se,this.codeEditorService=Ce,this.mapEditorToService=new Map}get activeService(){const se=this.codeEditorService.getFocusedCodeEditor();if(!se)throw new Error("Quick input service needs a focused editor to work.");let Ce=this.mapEditorToService.get(se);if(!Ce){const Ve=Ce=this.instantiationService.createInstance(Bn,se);this.mapEditorToService.set(se,Ce),(0,di.I)(se.onDidDispose)(()=>{Ve.dispose(),this.mapEditorToService.delete(se)})}return Ce}get quickAccess(){return this.activeService.quickAccess}pick(se,Ce={},Ve=co.T.None){return this.activeService.pick(se,Ce,Ve)}createQuickPick(){return this.activeService.createQuickPick()}};Kn=Sn([Tn(0,ce.TG),Tn(1,T.$)],Kn);let ti=(()=>{class Nn{constructor(Ce){this.editor=Ce,this.widget=new fi(this.editor)}static get(Ce){return Ce.getContribution(Nn.ID)}dispose(){this.widget.dispose()}}return Nn.ID="editor.controller.quickInput",Nn})(),fi=(()=>{class Nn{constructor(Ce){this.codeEditor=Ce,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Nn.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return Nn.ID="editor.contrib.quickInputWidget",Nn})();(0,_n._K)(ti.ID,ti);var hi=e(49949),Ot=e(55503),ge=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}};let it=class extends c.JT{constructor(se,Ce,Ve){super(),this._contextKeyService=se,this._layoutService=Ce,this._configurationService=Ve,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new S.Q5,this._onDidChangeReducedMotion=new S.Q5,this._accessibilityModeEnabledContext=Hn.U.bindTo(this._contextKeyService);const It=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(on=>{on.affectsConfiguration("editor.accessibilitySupport")&&(It(),this._onDidChangeScreenReaderOptimized.fire()),on.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),It(),this._register(this.onDidChangeScreenReaderOptimized(()=>It()));const Pt=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=Pt.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(Pt)}initReducedMotionListeners(se){if(!this._layoutService.hasContainer)return;this._register((0,l.nm)(se,"change",()=>{this._systemMotionReduced=se.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()}));const Ce=()=>{const Ve=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",Ve),this._layoutService.container.classList.toggle("enable-motion",!Ve)};Ce(),this._register(this.onDidChangeReducedMotion(()=>Ce()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const se=this._configurationService.getValue("editor.accessibilitySupport");return"on"===se||"auto"===se&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const se=this._configMotionReduced;return"on"===se||"auto"===se&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};it=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([ge(0,$e.i6),ge(1,v.F),ge(2,ke.Ui)],it);var Tt=e(74918),qt=e(48190),Mt=e(64023),ee=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt},Ie=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}};let rt=class{constructor(se,Ce){this._commandService=se,this._hiddenStates=new $t(Ce)}createMenu(se,Ce,Ve){return new cn(se,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},Ve),this._commandService,Ce,this)}};rt=ee([Ie(0,de.Hy),Ie(1,qt.Uy)],rt);let $t=class Rd{constructor(se){this._storageService=se,this._disposables=new c.SL,this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const Ce=se.get(Rd._key,0,"{}");this._data=JSON.parse(Ce)}catch{this._data=Object.create(null)}this._disposables.add(se.onDidChangeValue(Ce=>{if(Ce.key===Rd._key){if(!this._ignoreChangeEvent)try{const Ve=se.get(Rd._key,0,"{}");this._data=JSON.parse(Ve)}catch(Ve){console.log("FAILED to read storage after UPDATE",Ve)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(se,Ce){var Ve,It;return null!==(It=null===(Ve=this._data[se.id])||void 0===Ve?void 0:Ve.includes(Ce))&&void 0!==It&&It}updateHidden(se,Ce,Ve){const It=this._data[se.id];if(Ve)It?It.indexOf(Ce)<0&&It.push(Ce):this._data[se.id]=[Ce];else if(It){const Pt=It.indexOf(Ce);Pt>=0&&(0,Mt.LS)(It,Pt),0===It.length&&delete this._data[se.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const se=JSON.stringify(this._data);this._storageService.store(Rd._key,se,0,0)}finally{this._ignoreChangeEvent=!1}}};$t._key="menu.hiddenCommands",$t=ee([Ie(0,qt.Uy)],$t);let cn=class od{constructor(se,Ce,Ve,It,Pt,on){this._id=se,this._hiddenStates=Ce,this._options=Ve,this._commandService=It,this._contextKeyService=Pt,this._menuService=on,this._disposables=new c.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const wn=new Ue.pY(()=>{this._build(),this._onDidChange.fire(this)},Ve.eventDebounceDelay);this._disposables.add(wn),this._disposables.add(Tt.BH.onDidChangeMenu(ki=>{ki.has(se)&&wn.schedule()}));const ii=this._disposables.add(new c.SL);this._onDidChange=new S.Q5({onFirstListenerAdd:()=>{const ki=new Ue.pY(()=>this._onDidChange.fire(this),Ve.eventDebounceDelay);ii.add(ki),ii.add(Pt.onDidChangeContext(Mo=>{Mo.affectsSome(this._contextKeys)&&ki.schedule()})),ii.add(Ce.onDidChange(()=>{ki.schedule()}))},onLastListenerRemove:ii.clear.bind(ii)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const se=Tt.BH.getMenuItems(this._id);let Ce;se.sort(od._compareMenuItems);for(const Ve of se){const It=Ve.group||"";(!Ce||Ce[0]!==It)&&(Ce=[It,[]],this._menuGroups.push(Ce)),Ce[1].push(Ve),this._collectContextKeys(Ve)}}_collectContextKeys(se){od._fillInKbExprKeys(se.when,this._contextKeys),(0,Tt.vr)(se)?(se.command.precondition&&od._fillInKbExprKeys(se.command.precondition,this._contextKeys),se.command.toggled&&od._fillInKbExprKeys(se.command.toggled.condition||se.command.toggled,this._contextKeys)):this._options.emitEventsForSubmenuChanges&&Tt.BH.getMenuItems(se.submenu).forEach(this._collectContextKeys,this)}getActions(se){const Ce=[],Ve=[];for(const It of this._menuGroups){const[Pt,on]=It,wn=[],ii=[];for(const Ci of on)if(this._contextKeyService.contextMatchesRules(Ci.when)){let ki;if((0,Tt.vr)(Ci)){const ts=Ln(this._id,Ci.command,this._hiddenStates);ki=new Tt.U8(Ci.command,Ci.alt,se,ts,this._contextKeyService,this._commandService)}else ki=new Tt.NZ(Ci,this._menuService,this._contextKeyService,se),0===ki.actions.length&&(ki.dispose(),ki=void 0);ki&&ii.push(ki)}ii.length>0&&Ce.push([Pt,ii]),wn.length>0&&Ve.push(wn)}return Ce}static _fillInKbExprKeys(se,Ce){if(se)for(const Ve of se.keys())Ce.add(Ve)}static _compareMenuItems(se,Ce){const Ve=se.group,It=Ce.group;if(Ve!==It){if(!Ve)return 1;if(!It)return-1;if("navigation"===Ve)return-1;if("navigation"===It)return 1;const wn=Ve.localeCompare(It);if(0!==wn)return wn}const Pt=se.order||0,on=Ce.order||0;return Pt<on?-1:Pt>on?1:od._compareTitles((0,Tt.vr)(se)?se.command.title:se.title,(0,Tt.vr)(Ce)?Ce.command.title:Ce.title)}static _compareTitles(se,Ce){return("string"==typeof se?se:se.original).localeCompare("string"==typeof Ce?Ce:Ce.original)}};function Ln(Nn,se,Ce){const Ve=`${Nn.id}/${se.id}`,It="string"==typeof se.title?se.title:se.title.value,Pt=(0,si.xw)({id:Ve,label:(0,p.NC)("hide.label","Hide '{0}'",It),run(){Ce.updateHidden(Nn,se.id,!0)}}),on=(0,si.xw)({id:Ve,label:It,get checked(){return!Ce.isHidden(Nn,se.id)},run(){const wn=!Ce.isHidden(Nn,se.id);Ce.updateHidden(Nn,se.id,wn)}});return{hide:Pt,toggle:on,get isHidden(){return!on.checked}}}cn=ee([Ie(3,de.Hy),Ie(4,$e.i6),Ie(5,Tt.co)],cn);var ni=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}},Jn=function(Nn,se,Ce,Ve){return new(Ce||(Ce=Promise))(function(Pt,on){function wn(ki){try{Ci(Ve.next(ki))}catch(Mo){on(Mo)}}function ii(ki){try{Ci(Ve.throw(ki))}catch(Mo){on(Mo)}}function Ci(ki){ki.done?Pt(ki.value):function It(Pt){return Pt instanceof Ce?Pt:new Ce(function(on){on(Pt)})}(ki.value).then(wn,ii)}Ci((Ve=Ve.apply(Nn,se||[])).next())})};let gi=class extends c.JT{constructor(se,Ce){super(),this.layoutService=se,this.logService=Ce,this.mapTextToType=new Map,this.findText="",this.resources=[],(so.isSafari||so.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const se=()=>{const Ce=new Ue.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=Ce,navigator.clipboard.write([new ClipboardItem({"text/plain":Ce.p})]).catch(Ve=>Jn(this,void 0,void 0,function*(){(!(Ve instanceof Error)||"NotAllowedError"!==Ve.name||!Ce.isRejected)&&this.logService.error(Ve)}))};this.layoutService.hasContainer&&(this._register((0,l.nm)(this.layoutService.container,"click",se)),this._register((0,l.nm)(this.layoutService.container,"keydown",se)))}writeText(se,Ce){return Jn(this,void 0,void 0,function*(){if(Ce)return void this.mapTextToType.set(Ce,se);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(se);try{return yield navigator.clipboard.writeText(se)}catch(Pt){console.error(Pt)}const Ve=document.activeElement,It=document.body.appendChild((0,l.$)("textarea",{"aria-hidden":!0}));It.style.height="1px",It.style.width="1px",It.style.position="absolute",It.value=se,It.focus(),It.select(),document.execCommand("copy"),Ve instanceof HTMLElement&&Ve.focus(),document.body.removeChild(It)})}readText(se){return Jn(this,void 0,void 0,function*(){if(se)return this.mapTextToType.get(se)||"";try{return yield navigator.clipboard.readText()}catch(Ce){return console.error(Ce),""}})}readFindText(){return Jn(this,void 0,void 0,function*(){return this.findText})}writeFindText(se){return Jn(this,void 0,void 0,function*(){this.findText=se})}readResources(){return Jn(this,void 0,void 0,function*(){return this.resources})}};gi=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([ni(0,v.F),ni(1,vt.VZ)],gi);var vi=e(25787),bi=e(1999),Pi=e(6276);const $i="data-keybinding-context";class Co{constructor(se,Ce){this._id=se,this._parent=Ce,this._value=Object.create(null),this._value._contextId=se}get value(){return Object.assign({},this._value)}setValue(se,Ce){return this._value[se]!==Ce&&(this._value[se]=Ce,!0)}removeValue(se){return se in this._value&&(delete this._value[se],!0)}getValue(se){const Ce=this._value[se];return typeof Ce>"u"&&this._parent?this._parent.getValue(se):Ce}}class Ho extends Co{constructor(){super(-1,null)}setValue(se,Ce){return!1}removeValue(se){return!1}getValue(se){}}Ho.INSTANCE=new Ho;let Ro=(()=>{class Nn extends Co{constructor(Ce,Ve,It){super(Ce,null),this._configurationService=Ve,this._values=Go.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(Pt=>{if(7===Pt.source){const on=Array.from(bi.$.map(this._values,([wn])=>wn));this._values.clear(),It.fire(new Ls(on))}else{const on=[];for(const wn of Pt.affectedKeys){const ii=`config.${wn}`,Ci=this._values.findSuperstr(ii);void 0!==Ci&&(on.push(...bi.$.map(Ci,([ki])=>ki)),this._values.deleteSuperstr(ii)),this._values.has(ii)&&(on.push(ii),this._values.delete(ii))}It.fire(new Ls(on))}})}dispose(){this._listener.dispose()}getValue(Ce){if(0!==Ce.indexOf(Nn._keyPrefix))return super.getValue(Ce);if(this._values.has(Ce))return this._values.get(Ce);const Ve=Ce.substr(Nn._keyPrefix.length),It=this._configurationService.getValue(Ve);let Pt;switch(typeof It){case"number":case"boolean":case"string":Pt=It;break;default:Pt=Array.isArray(It)?JSON.stringify(It):It}return this._values.set(Ce,Pt),Pt}setValue(Ce,Ve){return super.setValue(Ce,Ve)}removeValue(Ce){return super.removeValue(Ce)}}return Nn._keyPrefix="config.",Nn})();class is{constructor(se,Ce,Ve){this._service=se,this._key=Ce,this._defaultValue=Ve,this.reset()}set(se){this._service.setContext(this._key,se)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class nr{constructor(se){this.key=se}affectsSome(se){return se.has(this.key)}allKeysContainedIn(se){return this.affectsSome(se)}}class Ls{constructor(se){this.keys=se}affectsSome(se){for(const Ce of this.keys)if(se.has(Ce))return!0;return!1}allKeysContainedIn(se){return this.keys.every(Ce=>se.has(Ce))}}class Yo{constructor(se){this.events=se}affectsSome(se){for(const Ce of this.events)if(Ce.affectsSome(se))return!0;return!1}allKeysContainedIn(se){return this.events.every(Ce=>Ce.allKeysContainedIn(se))}}class Nr{constructor(se){this._onDidChangeContext=new S.K3({merge:Ce=>new Yo(Ce)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=se}createKey(se,Ce){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new is(this,se,Ce)}bufferChangeEvents(se){this._onDidChangeContext.pause();try{se()}finally{this._onDidChangeContext.resume()}}createScoped(se){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Lr(this,se)}contextMatchesRules(se){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const Ce=this.getContextValuesContainer(this._myContextId);return!se||se.evaluate(Ce)}getContextKeyValue(se){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(se)}setContext(se,Ce){if(this._isDisposed)return;const Ve=this.getContextValuesContainer(this._myContextId);!Ve||Ve.setValue(se,Ce)&&this._onDidChangeContext.fire(new nr(se))}removeContext(se){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(se)&&this._onDidChangeContext.fire(new nr(se))}getContext(se){return this._isDisposed?Ho.INSTANCE:this.getContextValuesContainer(function sa(Nn){for(;Nn;){if(Nn.hasAttribute($i)){const se=Nn.getAttribute($i);return se?parseInt(se,10):NaN}Nn=Nn.parentElement}return 0}(se))}}let Ps=class extends Nr{constructor(se){super(0),this._contexts=new Map,this._toDispose=new c.SL,this._lastContextId=0;const Ce=new Ro(this._myContextId,se,this._onDidChangeContext);this._contexts.set(this._myContextId,Ce),this._toDispose.add(Ce)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(se){return this._isDisposed?Ho.INSTANCE:this._contexts.get(se)||Ho.INSTANCE}createChildContext(se=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const Ce=++this._lastContextId;return this._contexts.set(Ce,new Co(Ce,this.getContextValuesContainer(se))),Ce}disposeContext(se){this._isDisposed||this._contexts.delete(se)}};Ps=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt}([function(Nn,se){return function(Ce,Ve){se(Ce,Ve,0)}}(0,ke.Ui)],Ps);class Lr extends Nr{constructor(se,Ce){if(super(se.createChildContext()),this._parentChangeListener=new c.XK,this._parent=se,this._updateParentChangeListener(),this._domNode=Ce,this._domNode.hasAttribute($i)){let Ve="";this._domNode.classList&&(Ve=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(Ve?": "+Ve:""))}this._domNode.setAttribute($i,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(se=>{(function Ko(Nn,se){return Nn.allKeysContainedIn(new Set(Object.keys(se)))})(se,this._parent.getContextValuesContainer(this._myContextId).value)||this._onDidChangeContext.fire(se)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute($i),this._isDisposed=!0)}getContextValuesContainer(se){return this._isDisposed?Ho.INSTANCE:this._parent.getContextValuesContainer(se)}createChildContext(se=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(se)}disposeContext(se){this._isDisposed||this._parent.disposeContext(se)}}de.P0.registerCommand($e.Eq,function mr(Nn,se,Ce){Nn.get($e.i6).createKey(String(se),function $s(Nn){return(0,Pi.rs)(Nn,se=>"object"==typeof se&&1===se.$mid?Se.o.revive(se).toString():se instanceof Se.o?se.toString():void 0)}(Ce))}),de.P0.registerCommand({id:"getContextKeyInfo",handler:()=>[...$e.uy.all()].sort((Nn,se)=>Nn.key.localeCompare(se.key)),description:{description:(0,p.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),de.P0.registerCommand("_generateContextKeyInfo",function(){const Nn=[],se=new Set;for(const Ce of $e.uy.all())se.has(Ce.key)||(se.add(Ce.key),Nn.push(Ce));Nn.sort((Ce,Ve)=>Ce.key.localeCompare(Ve.key)),console.log(JSON.stringify(Nn,void 0,2))});var Zs=e(81184);class Rr{constructor(se){this.incoming=new Map,this.outgoing=new Map,this.data=se}}class er{constructor(se){this._hashFn=se,this._nodes=new Map}roots(){const se=[];for(const Ce of this._nodes.values())0===Ce.outgoing.size&&se.push(Ce);return se}insertEdge(se,Ce){const Ve=this.lookupOrInsertNode(se),It=this.lookupOrInsertNode(Ce);Ve.outgoing.set(this._hashFn(Ce),It),It.incoming.set(this._hashFn(se),Ve)}removeNode(se){const Ce=this._hashFn(se);this._nodes.delete(Ce);for(const Ve of this._nodes.values())Ve.outgoing.delete(Ce),Ve.incoming.delete(Ce)}lookupOrInsertNode(se){const Ce=this._hashFn(se);let Ve=this._nodes.get(Ce);return Ve||(Ve=new Rr(se),this._nodes.set(Ce,Ve)),Ve}isEmpty(){return 0===this._nodes.size}toString(){const se=[];for(const[Ce,Ve]of this._nodes)se.push(`${Ce}, (incoming)[${[...Ve.incoming.keys()].join(", ")}], (outgoing)[${[...Ve.outgoing.keys()].join(",")}]`);return se.join("\n")}findCycleSlow(){for(const[se,Ce]of this._nodes){const It=this._findCycle(Ce,new Set([se]));if(It)return It}}_findCycle(se,Ce){for(const[Ve,It]of se.outgoing){if(Ce.has(Ve))return[...Ce,Ve].join(" -> ");Ce.add(Ve);const Pt=this._findCycle(It,Ce);if(Pt)return Pt;Ce.delete(Ve)}}}var Or=e(62706);class js extends Error{constructor(se){var Ce;super("cyclic dependency between services"),this.message=null!==(Ce=se.findCycleSlow())&&void 0!==Ce?Ce:`UNABLE to detect cycle, dumping graph: \n${se.toString()}`}}class br{constructor(se=new Or.y,Ce=!1,Ve){this._activeInstantiations=new Set,this._services=se,this._strict=Ce,this._parent=Ve,this._services.set(ce.TG,this)}createChild(se){return new br(se,this._strict,this)}invokeFunction(se,...Ce){const Ve=ks.traceInvocation(se);let It=!1;try{return se({get:on=>{if(It)throw(0,m.L6)("service accessor is only valid during the invocation of its target method");const wn=this._getOrCreateServiceInstance(on,Ve);if(!wn)throw new Error(`[invokeFunction] unknown service '${on}'`);return wn}},...Ce)}finally{It=!0,Ve.stop()}}createInstance(se,...Ce){let Ve,It;return se instanceof Zs.M?(Ve=ks.traceCreation(se.ctor),It=this._createInstance(se.ctor,se.staticArguments.concat(Ce),Ve)):(Ve=ks.traceCreation(se),It=this._createInstance(se,Ce,Ve)),Ve.stop(),It}_createInstance(se,Ce=[],Ve){const It=ce.I8.getServiceDependencies(se).sort((wn,ii)=>wn.index-ii.index),Pt=[];for(const wn of It){const ii=this._getOrCreateServiceInstance(wn.id,Ve);ii||this._throwIfStrict(`[createInstance] ${se.name} depends on UNKNOWN service ${wn.id}.`,!1),Pt.push(ii)}const on=It.length>0?It[0].index:Ce.length;if(Ce.length!==on){console.trace(`[createInstance] First service dependency of ${se.name} at position ${on+1} conflicts with ${Ce.length} static arguments`);const wn=on-Ce.length;Ce=wn>0?Ce.concat(new Array(wn)):Ce.slice(0,on)}return new se(...Ce,...Pt)}_setServiceInstance(se,Ce){if(this._services.get(se)instanceof Zs.M)this._services.set(se,Ce);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(se,Ce)}}_getServiceInstanceOrDescriptor(se){const Ce=this._services.get(se);return!Ce&&this._parent?this._parent._getServiceInstanceOrDescriptor(se):Ce}_getOrCreateServiceInstance(se,Ce){const Ve=this._getServiceInstanceOrDescriptor(se);return Ve instanceof Zs.M?this._safeCreateAndCacheServiceInstance(se,Ve,Ce.branch(se,!0)):(Ce.branch(se,!1),Ve)}_safeCreateAndCacheServiceInstance(se,Ce,Ve){if(this._activeInstantiations.has(se))throw new Error(`illegal state - RECURSIVELY instantiating service '${se}'`);this._activeInstantiations.add(se);try{return this._createAndCacheServiceInstance(se,Ce,Ve)}finally{this._activeInstantiations.delete(se)}}_createAndCacheServiceInstance(se,Ce,Ve){const It=new er(wn=>wn.id.toString());let Pt=0;const on=[{id:se,desc:Ce,_trace:Ve}];for(;on.length;){const wn=on.pop();if(It.lookupOrInsertNode(wn),Pt++>1e3)throw new js(It);for(const ii of ce.I8.getServiceDependencies(wn.desc.ctor)){const Ci=this._getServiceInstanceOrDescriptor(ii.id);if(Ci||this._throwIfStrict(`[createInstance] ${se} depends on ${ii.id} which is NOT registered.`,!0),Ci instanceof Zs.M){const ki={id:ii.id,desc:Ci,_trace:wn._trace.branch(ii.id,!0)};It.insertEdge(wn,ki),on.push(ki)}}}for(;;){const wn=It.roots();if(0===wn.length){if(!It.isEmpty())throw new js(It);break}for(const{data:ii}of wn){if(this._getServiceInstanceOrDescriptor(ii.id)instanceof Zs.M){const ki=this._createServiceInstanceWithOwner(ii.id,ii.desc.ctor,ii.desc.staticArguments,ii.desc.supportsDelayedInstantiation,ii._trace);this._setServiceInstance(ii.id,ki)}It.removeNode(ii)}}return this._getServiceInstanceOrDescriptor(se)}_createServiceInstanceWithOwner(se,Ce,Ve=[],It,Pt){if(this._services.get(se)instanceof Zs.M)return this._createServiceInstance(Ce,Ve,It,Pt);if(this._parent)return this._parent._createServiceInstanceWithOwner(se,Ce,Ve,It,Pt);throw new Error(`illegalState - creating UNKNOWN service instance ${Ce.name}`)}_createServiceInstance(se,Ce=[],Ve,It){if(Ve){const Pt=new Ue.Ue(()=>this._createInstance(se,Ce,It));return new Proxy(Object.create(null),{get(on,wn){if(wn in on)return on[wn];const ii=Pt.value;let Ci=ii[wn];return"function"!=typeof Ci||(Ci=Ci.bind(ii),on[wn]=Ci),Ci},set:(on,wn,ii)=>(Pt.value[wn]=ii,!0)})}return this._createInstance(se,Ce,It)}_throwIfStrict(se,Ce){if(Ce&&console.warn(se),this._strict)throw new Error(se)}}class ks{constructor(se,Ce){this.type=se,this.name=Ce,this._start=Date.now(),this._dep=[]}static traceInvocation(se){return ks._None}static traceCreation(se){return ks._None}branch(se,Ce){const Ve=new ks(2,se.toString());return this._dep.push([se,Ce,Ve]),Ve}stop(){const se=Date.now()-this._start;ks._totals+=se;let Ce=!1;const It=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function Ve(Pt,on){const wn=[],ii=new Array(Pt+1).join("\t");for(const[Ci,ki,Mo]of on._dep)if(ki&&Mo){Ce=!0,wn.push(`${ii}CREATES -> ${Ci}`);const ts=Ve(Pt+1,Mo);ts&&wn.push(ts)}else wn.push(`${ii}uses -> ${Ci}`);return wn.join("\n")}(1,this)}`,`DONE, took ${se.toFixed(2)}ms (grand total ${ks._totals.toFixed(2)}ms)`];(se>2||Ce)&&console.log(It.join("\n"))}}ks._None=new class extends ks{constructor(){super(-1,null)}stop(){}branch(){return this}},ks._totals=0;class pr{constructor(){this._byResource=new Go.Y9,this._byOwner=new Map}set(se,Ce,Ve){let It=this._byResource.get(se);It||(It=new Map,this._byResource.set(se,It)),It.set(Ce,Ve);let Pt=this._byOwner.get(Ce);Pt||(Pt=new Go.Y9,this._byOwner.set(Ce,Pt)),Pt.set(se,Ve)}get(se,Ce){return this._byResource.get(se)?.get(Ce)}delete(se,Ce){let Ve=!1,It=!1;const Pt=this._byResource.get(se);Pt&&(Ve=Pt.delete(Ce));const on=this._byOwner.get(Ce);if(on&&(It=on.delete(se)),Ve!==It)throw new Error("illegal state");return Ve&&It}values(se){var Ce,Ve,It,Pt;return"string"==typeof se?null!==(Ve=null===(Ce=this._byOwner.get(se))||void 0===Ce?void 0:Ce.values())&&void 0!==Ve?Ve:bi.$.empty():Se.o.isUri(se)?null!==(Pt=null===(It=this._byResource.get(se))||void 0===It?void 0:It.values())&&void 0!==Pt?Pt:bi.$.empty():bi.$.map(bi.$.concat(...this._byOwner.values()),on=>on[1])}}class ir{constructor(se){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Go.Y9,this._service=se,this._subscription=se.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(se){for(const Ce of se){const Ve=this._data.get(Ce);Ve&&this._substract(Ve);const It=this._resourceStats(Ce);this._add(It),this._data.set(Ce,It)}}_resourceStats(se){const Ce={errors:0,warnings:0,infos:0,unknowns:0};if(se.scheme===n.lg.inMemory||se.scheme===n.lg.walkThrough||se.scheme===n.lg.walkThroughSnippet||se.scheme===n.lg.vscodeSourceControl)return Ce;for(const{severity:Ve}of this._service.read({resource:se}))Ve===dn.ZL.Error?Ce.errors+=1:Ve===dn.ZL.Warning?Ce.warnings+=1:Ve===dn.ZL.Info?Ce.infos+=1:Ce.unknowns+=1;return Ce}_substract(se){this.errors-=se.errors,this.warnings-=se.warnings,this.infos-=se.infos,this.unknowns-=se.unknowns}_add(se){this.errors+=se.errors,this.warnings+=se.warnings,this.infos+=se.infos,this.unknowns+=se.unknowns}}class Fs{constructor(){this._onMarkerChanged=new S.D0({delay:0,merge:Fs._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new pr,this._stats=new ir(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(se,Ce){for(const Ve of Ce||[])this.changeOne(se,Ve,[])}changeOne(se,Ce,Ve){if((0,Mt.XY)(Ve))this._data.delete(Ce,se)&&this._onMarkerChanged.fire([Ce]);else{const It=[];for(const Pt of Ve){const on=Fs._toMarker(se,Ce,Pt);on&&It.push(on)}this._data.set(Ce,se,It),this._onMarkerChanged.fire([Ce])}}static _toMarker(se,Ce,Ve){let{code:It,severity:Pt,message:on,source:wn,startLineNumber:ii,startColumn:Ci,endLineNumber:ki,endColumn:Mo,relatedInformation:ts,tags:jo}=Ve;if(on)return ii=ii>0?ii:1,Ci=Ci>0?Ci:1,ki=ki>=ii?ki:ii,Mo=Mo>0?Mo:Ci,{resource:Ce,owner:se,code:It,severity:Pt,message:on,source:wn,startLineNumber:ii,startColumn:Ci,endLineNumber:ki,endColumn:Mo,relatedInformation:ts,tags:jo}}changeAll(se,Ce){const Ve=[],It=this._data.values(se);if(It)for(const Pt of It){const on=bi.$.first(Pt);on&&(Ve.push(on.resource),this._data.delete(on.resource,se))}if((0,Mt.Of)(Ce)){const Pt=new Go.Y9;for(const{resource:on,marker:wn}of Ce){const ii=Fs._toMarker(se,on,wn);if(!ii)continue;const Ci=Pt.get(on);Ci?Ci.push(ii):(Pt.set(on,[ii]),Ve.push(on))}for(const[on,wn]of Pt)this._data.set(on,se,wn)}Ve.length>0&&this._onMarkerChanged.fire(Ve)}read(se=Object.create(null)){let{owner:Ce,resource:Ve,severities:It,take:Pt}=se;if((!Pt||Pt<0)&&(Pt=-1),Ce&&Ve){const on=this._data.get(Ve,Ce);if(on){const wn=[];for(const ii of on)if(Fs._accept(ii,It)){const Ci=wn.push(ii);if(Pt>0&&Ci===Pt)break}return wn}return[]}if(Ce||Ve){const on=this._data.values(Ve??Ce),wn=[];for(const ii of on)for(const Ci of ii)if(Fs._accept(Ci,It)){const ki=wn.push(Ci);if(Pt>0&&ki===Pt)return wn}return wn}{const on=[];for(const wn of this._data.values())for(const ii of wn)if(Fs._accept(ii,It)){const Ci=on.push(ii);if(Pt>0&&Ci===Pt)return on}return on}}static _accept(se,Ce){return void 0===Ce||(Ce&se.severity)===se.severity}static _merge(se){const Ce=new Go.Y9;for(const Ve of se)for(const It of Ve)Ce.set(It,!0);return Array.from(Ce.keys())}}var Jo=e(46090),xr=e(90790);(0,C.z)(xr.p,class or{constructor(){this.referenceProvider=new Jo.c(this._score.bind(this)),this.renameProvider=new Jo.c(this._score.bind(this)),this.codeActionProvider=new Jo.c(this._score.bind(this)),this.definitionProvider=new Jo.c(this._score.bind(this)),this.typeDefinitionProvider=new Jo.c(this._score.bind(this)),this.declarationProvider=new Jo.c(this._score.bind(this)),this.implementationProvider=new Jo.c(this._score.bind(this)),this.documentSymbolProvider=new Jo.c(this._score.bind(this)),this.inlayHintsProvider=new Jo.c(this._score.bind(this)),this.colorProvider=new Jo.c(this._score.bind(this)),this.codeLensProvider=new Jo.c(this._score.bind(this)),this.documentFormattingEditProvider=new Jo.c(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Jo.c(this._score.bind(this)),this.onTypeFormattingEditProvider=new Jo.c(this._score.bind(this)),this.signatureHelpProvider=new Jo.c(this._score.bind(this)),this.hoverProvider=new Jo.c(this._score.bind(this)),this.documentHighlightProvider=new Jo.c(this._score.bind(this)),this.selectionRangeProvider=new Jo.c(this._score.bind(this)),this.foldingRangeProvider=new Jo.c(this._score.bind(this)),this.linkProvider=new Jo.c(this._score.bind(this)),this.inlineCompletionsProvider=new Jo.c(this._score.bind(this)),this.completionProvider=new Jo.c(this._score.bind(this)),this.linkedEditingRangeProvider=new Jo.c(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Jo.c(this._score.bind(this)),this.documentSemanticTokensProvider=new Jo.c(this._score.bind(this)),this.documentOnDropEditProvider=new Jo.c(this._score.bind(this)),this.documentPasteEditProvider=new Jo.c(this._score.bind(this))}_score(se){var Ce;return null===(Ce=this._notebookTypeResolver)||void 0===Ce?void 0:Ce.call(this,se)}},!0);var kr=e(12084),Bs=function(Nn,se,Ce,Ve){var on,It=arguments.length,Pt=It<3?se:null===Ve?Ve=Object.getOwnPropertyDescriptor(se,Ce):Ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pt=Reflect.decorate(Nn,se,Ce,Ve);else for(var wn=Nn.length-1;wn>=0;wn--)(on=Nn[wn])&&(Pt=(It<3?on(Pt):It>3?on(se,Ce,Pt):on(se,Ce))||Pt);return It>3&&Pt&&Object.defineProperty(se,Ce,Pt),Pt},fs=function(Nn,se){return function(Ce,Ve){se(Ce,Ve,Nn)}},ar=function(Nn,se,Ce,Ve){return new(Ce||(Ce=Promise))(function(Pt,on){function wn(ki){try{Ci(Ve.next(ki))}catch(Mo){on(Mo)}}function ii(ki){try{Ci(Ve.throw(ki))}catch(Mo){on(Mo)}}function Ci(ki){ki.done?Pt(ki.value):function It(Pt){return Pt instanceof Ce?Pt:new Ce(function(on){on(Pt)})}(ki.value).then(wn,ii)}Ci((Ve=Ve.apply(Nn,se||[])).next())})};class lr{constructor(se){this.disposed=!1,this.model=se,this._onWillDispose=new S.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Fr=class{constructor(se){this.modelService=se}createModelReference(se){const Ce=this.modelService.getModel(se);return Ce?Promise.resolve(new c.Jz(new lr(Ce))):Promise.reject(new Error("Model not found"))}};Fr=Bs([fs(0,xe.q)],Fr);let Zr=(()=>{class Nn{show(){return Nn.NULL_PROGRESS_RUNNER}showWhile(Ce,Ve){return ar(this,void 0,void 0,function*(){yield Ce})}}return Nn.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},Nn})();class qi{info(se){return this.notify({severity:a.Z.Info,message:se})}warn(se){return this.notify({severity:a.Z.Warning,message:se})}error(se){return this.notify({severity:a.Z.Error,message:se})}notify(se){switch(se.severity){case a.Z.Error:console.error(se.message);break;case a.Z.Warning:console.warn(se.message);break;default:console.log(se.message)}return qi.NO_OP}status(se,Ce){return c.JT.None}}qi.NO_OP=new g.EO;let dr=class{constructor(se){this._onWillExecuteCommand=new S.Q5,this._onDidExecuteCommand=new S.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=se}executeCommand(se,...Ce){const Ve=de.P0.getCommand(se);if(!Ve)return Promise.reject(new Error(`command '${se}' not found`));try{this._onWillExecuteCommand.fire({commandId:se,args:Ce});const It=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ve.handler,...Ce]);return this._onDidExecuteCommand.fire({commandId:se,args:Ce}),Promise.resolve(It)}catch(It){return Promise.reject(It)}}};dr=Bs([fs(0,ce.TG)],dr);let yr=class extends Dt{constructor(se,Ce,Ve,It,Pt,on){super(se,Ce,Ve,It,Pt),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const wn=jo=>{const Xs=new c.SL;Xs.add(l.nm(jo,l.tw.KEY_DOWN,Qr=>{const Ir=new Z.y(Qr);this._dispatch(Ir,Ir.target)&&(Ir.preventDefault(),Ir.stopPropagation())})),Xs.add(l.nm(jo,l.tw.KEY_UP,Qr=>{const Ir=new Z.y(Qr);this._singleModifierDispatch(Ir,Ir.target)&&Ir.preventDefault()})),this._domNodeListeners.push(new sr(jo,Xs))},ii=jo=>{for(let Xs=0;Xs<this._domNodeListeners.length;Xs++){const Qr=this._domNodeListeners[Xs];Qr.domNode===jo&&(this._domNodeListeners.splice(Xs,1),Qr.dispose())}},Ci=jo=>{jo.getOption(56)||wn(jo.getContainerDomNode())};this._register(on.onCodeEditorAdd(Ci)),this._register(on.onCodeEditorRemove(jo=>{jo.getOption(56)||ii(jo.getContainerDomNode())})),on.listCodeEditors().forEach(Ci);const Mo=jo=>{wn(jo.getContainerDomNode())};this._register(on.onDiffEditorAdd(Mo)),this._register(on.onDiffEditorRemove(jo=>{ii(jo.getContainerDomNode())})),on.listDiffEditors().forEach(Mo)}addDynamicKeybinding(se,Ce,Ve,It){return(0,c.F8)(de.P0.registerCommand(se,Ve),this.addDynamicKeybindings([{keybinding:Ce,command:se,when:It}]))}addDynamicKeybindings(se){const Ce=se.map(Ve=>{var It,Pt;return{keybinding:null!==(It=(0,fe.gm)(Ve.keybinding,M.OS)?.parts)&&void 0!==It?It:null,command:null!==(Pt=Ve.command)&&void 0!==Pt?Pt:null,commandArgs:Ve.commandArgs,when:Ve.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ce),this.updateResolver(),(0,c.OF)(()=>{for(let Ve=0;Ve<this._dynamicKeybindings.length;Ve++)if(this._dynamicKeybindings[Ve]===Ce[0])return this._dynamicKeybindings.splice(Ve,Ce.length),void this.updateResolver()})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const se=this._toNormalizedKeybindingItems(le.W.getDefaultKeybindings(),!0),Ce=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new ae(se,Ce,Ve=>this._log(Ve))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(se,Ce){const Ve=[];let It=0;for(const Pt of se){const on=Pt.when||void 0,wn=Pt.keybinding;if(wn){const ii=ve.j.resolveUserBinding(wn,M.OS);for(const Ci of ii)Ve[It++]=new Q.M(Ci,Pt.command,Pt.commandArgs,on,Ce,null,!1)}else Ve[It++]=new Q.M(void 0,Pt.command,Pt.commandArgs,on,Ce,null,!1)}return Ve}resolveKeyboardEvent(se){const Ce=new fe.QC(se.ctrlKey,se.shiftKey,se.altKey,se.metaKey,se.keyCode).toChord();return new ve.j(Ce,M.OS)}};yr=Bs([fs(0,$e.i6),fs(1,de.Hy),fs(2,st.b),fs(3,g.lT),fs(4,vt.VZ),fs(5,T.$)],yr);class sr extends c.JT{constructor(se,Ce){super(),this.domNode=se,this._register(Ce)}}function Vs(Nn){return Nn&&"object"==typeof Nn&&(!Nn.overrideIdentifier||"string"==typeof Nn.overrideIdentifier)&&(!Nn.resource||Nn.resource instanceof Se.o)}class Sr{constructor(){this._onDidChangeConfiguration=new S.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new ze.VK(new kr.l,new ze.VV,new ze.VV,new ze.VV)}getValue(se,Ce){const Ve="string"==typeof se?se:void 0,It=Vs(se)?se:Vs(Ce)?Ce:{};return this._configuration.getValue(Ve,It,void 0)}updateValues(se){const Ce={data:this._configuration.toData()},Ve=[];for(const It of se){const[Pt,on]=It;this.getValue(Pt)!==on&&(this._configuration.updateValue(Pt,on),Ve.push(Pt))}if(Ve.length>0){const It=new ze.YX({keys:Ve,overrides:[]},Ce,this._configuration);It.source=8,It.sourceConfig=null,this._onDidChangeConfiguration.fire(It)}return Promise.resolve()}updateValue(se,Ce,Ve,It){return this.updateValues([[se,Ce]])}inspect(se,Ce={}){return this._configuration.inspect(se,Ce,void 0)}}let wr=class{constructor(se){this.configurationService=se,this._onDidChangeConfiguration=new S.Q5,this.configurationService.onDidChangeConfiguration(Ce=>{this._onDidChangeConfiguration.fire({affectedKeys:Ce.affectedKeys,affectsConfiguration:(Ve,It)=>Ce.affectsConfiguration(It)})})}getValue(se,Ce,Ve){const Pt=oe.L.isIPosition(Ce)&&Ce?"string"==typeof Ve?Ve:void 0:"string"==typeof Ce?Ce:void 0;return typeof Pt>"u"?this.configurationService.getValue():this.configurationService.getValue(Pt)}};wr=Bs([fs(0,ke.Ui)],wr);let Br=class{constructor(se){this.configurationService=se}getEOL(se,Ce){const Ve=this.configurationService.getValue("files.eol",{overrideIdentifier:Ce,resource:se});return Ve&&"string"==typeof Ve&&"auto"!==Ve?Ve:M.IJ||M.dz?"\n":"\r\n"}};Br=Bs([fs(0,ke.Ui)],Br);let ko=(()=>{class Nn{constructor(){const Ce=Se.o.from({scheme:Nn.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new et.md({uri:Ce,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Ce){return Ce&&Ce.scheme===Nn.SCHEME?this.workspace.folders[0]:null}}return Nn.SCHEME="inmemory",Nn})();function gs(Nn,se,Ce){if(!(se&&Nn instanceof Sr))return;const Ve=[];Object.keys(se).forEach(It=>{(0,Le.ei)(It)&&Ve.push([`editor.${It}`,se[It]]),Ce&&(0,Le.Pe)(It)&&Ve.push([`diffEditor.${It}`,se[It]])}),Ve.length>0&&Nn.updateValues(Ve)}let rs=class{constructor(se){this._modelService=se}hasPreviewHandler(){return!1}apply(se,Ce){return ar(this,void 0,void 0,function*(){const Ve=new Map;for(const on of se){if(!(on instanceof Ee.Gl))throw new Error("bad edit - only text edits are supported");const wn=this._modelService.getModel(on.resource);if(!wn)throw new Error("bad edit - model not found");if("number"==typeof on.versionId&&wn.getVersionId()!==on.versionId)throw new Error("bad state - model changed in the meantime");let ii=Ve.get(wn);ii||(ii=[],Ve.set(wn,ii)),ii.push(Ne.h.replaceMove(we.e.lift(on.textEdit.range),on.textEdit.text))}let It=0,Pt=0;for(const[on,wn]of Ve)on.pushStackElement(),on.pushEditOperations([],wn,()=>[]),on.pushStackElement(),Pt+=1,It+=wn.length;return{ariaSummary:V.WU(Qe.iN.bulkEditServiceSummary,It,Pt)}})}};rs=Bs([fs(0,xe.q)],rs);let ms=class extends zn{constructor(se,Ce){super(se),this._codeEditorService=Ce}showContextView(se,Ce,Ve){if(!Ce){const It=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();It&&(Ce=It.getContainerDomNode())}return super.showContextView(se,Ce,Ve)}};ms=Bs([fs(0,v.F),fs(1,T.$)],ms);let ra=class extends ji{constructor(se,Ce,Ve,It,Pt){super(se,Ce,Ve,It,Pt),this.configure({blockMouse:!1})}};var tr;ra=Bs([fs(0,st.b),fs(1,g.lT),fs(2,_t.u),fs(3,Ze.d),fs(4,oi.XE)],ra),(0,C.z)(ke.Ui,Sr),(0,C.z)(Te.V,wr),(0,C.z)(Te.y,Br),(0,C.z)(et.ec,ko),(0,C.z)(Ae.e,class xs{getUriLabel(se,Ce){return"file"===se.scheme?se.fsPath:se.path}getUriBasenameLabel(se){return(0,tt.EZ)(se)}}),(0,C.z)(st.b,class ho{publicLog(se,Ce){return Promise.resolve(void 0)}publicLog2(se,Ce){return this.publicLog(se,Ce)}}),(0,C.z)(u.S,class Ws{confirm(se){return this.doConfirm(se).then(Ce=>({confirmed:Ce,checkboxChecked:!1}))}doConfirm(se){let Ce=se.message;return se.detail&&(Ce=Ce+"\n\n"+se.detail),Promise.resolve(window.confirm(Ce))}show(se,Ce,Ve,It){return Promise.resolve({choice:0})}}),(0,C.z)(g.lT,qi),(0,C.z)(dn.lT,Fs),(0,C.z)(Fn.O,class Ns extends li.T{constructor(){super()}}),(0,C.z)(Ot.Z,hi.nI),(0,C.z)(vt.VZ,class Ur extends vt.$V{constructor(){super(new vt.kw)}}),(0,C.z)(xe.q,Vt.b$),(0,C.z)(Rt.i,ht),(0,C.z)($e.i6,Ps),(0,C.z)(dt.R9,class Ys{withProgress(se,Ce,Ve){return Ce({report:()=>{}})}}),(0,C.z)(dt.ek,Zr),(0,C.z)(qt.Uy,qt.vm),(0,C.z)(ln.p,On.eu),(0,C.z)(Ee.vu,rs),(0,C.z)(mt.Y,class Hs{constructor(){this._neverEmitter=new S.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}),(0,C.z)(pe.S,Fr),(0,C.z)(Hn.F,it),(0,C.z)(yi.Lw,yi.XN),(0,C.z)(de.Hy,dr),(0,C.z)(Ze.d,yr),(0,C.z)(R.eJ,Kn),(0,C.z)(_t.u,ms),(0,C.z)(Do.v4,kt),(0,C.z)(vi.p,gi),(0,C.z)(_t.i,ra),(0,C.z)(Tt.co,rt),function(Nn){const se=new Or.y;for(const[on,wn]of(0,C.d)())se.set(on,wn);const Ce=new br(se,!0);se.set(ce.TG,Ce),Nn.get=function Ve(on){const wn=se.get(on);if(!wn)throw new Error("Missing service "+on);return wn instanceof Zs.M?Ce.invokeFunction(ii=>ii.get(on)):wn};let It=!1;Nn.initialize=function Pt(on){if(It)return Ce;It=!0;for(const[wn,ii]of(0,C.d)())se.get(wn)||se.set(wn,ii);for(const wn in on)if(on.hasOwnProperty(wn)){const ii=(0,ce.yh)(wn);se.get(ii)instanceof Zs.M&&se.set(ii,on[wn])}return Ce}}(tr||(tr={}))},49949:(Et,X,e)=>{"use strict";e.d(X,{kR:()=>ne,MU:()=>N,nI:()=>Le,rW:()=>j,TG:()=>$});var d=e(98463),t=e(37428),l=e(69355),S=e(3778),v=e(45337),T=e(1465);class C{constructor(oe,we,xe,pe,Te){this._parsedThemeRuleBrand=void 0,this.token=oe,this.index=we,this.fontStyle=xe,this.foreground=pe,this.background=Te}}const _=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class s{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(oe){if(null===oe)return 0;const we=oe.match(_);if(!we)throw new Error("Illegal value for token color: "+oe);oe=we[1].toUpperCase();let xe=this._color2id.get(oe);return xe||(xe=++this._lastColorId,this._color2id.set(oe,xe),this._id2color[xe]=l.Il.fromHex("#"+oe),xe)}getColorMap(){return this._id2color.slice(0)}}class m{constructor(oe,we){this._colorMap=oe,this._root=we,this._cache=new Map}static createFromRawTokenTheme(oe,we){return this.createFromParsedTokenTheme(function E(Ne){if(!Ne||!Array.isArray(Ne))return[];const oe=[];let we=0;for(let xe=0,pe=Ne.length;xe<pe;xe++){const Te=Ne[xe];let de=-1;if("string"==typeof Te.fontStyle){de=0;const $e=Te.fontStyle.split(" ");for(let ce=0,Ue=$e.length;ce<Ue;ce++)switch($e[ce]){case"italic":de|=1;break;case"bold":de|=2;break;case"underline":de|=4;break;case"strikethrough":de|=8}}let ke=null;"string"==typeof Te.foreground&&(ke=Te.foreground);let ze=null;"string"==typeof Te.background&&(ze=Te.background),oe[we++]=new C(Te.token||"",xe,de,ke,ze)}return oe}(oe),we)}static createFromParsedTokenTheme(oe,we){return function L(Ne,oe){Ne.sort((ce,Ue)=>{const nt=function a(Ne,oe){return Ne<oe?-1:Ne>oe?1:0}(ce.token,Ue.token);return 0!==nt?nt:ce.index-Ue.index});let we=0,xe="000000",pe="ffffff";for(;Ne.length>=1&&""===Ne[0].token;){const ce=Ne.shift();-1!==ce.fontStyle&&(we=ce.fontStyle),null!==ce.foreground&&(xe=ce.foreground),null!==ce.background&&(pe=ce.background)}const Te=new s;for(const ce of oe)Te.getId(ce);const de=Te.getId(xe),ke=Te.getId(pe),ze=new p(we,de,ke),$e=new u(ze);for(let ce=0,Ue=Ne.length;ce<Ue;ce++){const nt=Ne[ce];$e.insert(nt.token,nt.fontStyle,Te.getId(nt.foreground),Te.getId(nt.background))}return new m(Te,$e)}(oe,we)}getColorMap(){return this._colorMap.getColorMap()}_match(oe){return this._root.match(oe)}match(oe,we){let xe=this._cache.get(we);if(typeof xe>"u"){const pe=this._match(we),Te=function n(Ne){const oe=Ne.match(c);if(!oe)return 0;switch(oe[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(we);xe=(pe.metadata|Te<<8)>>>0,this._cache.set(we,xe)}return(xe|oe<<0)>>>0}}const c=/\b(comment|string|regex|regexp)\b/;class p{constructor(oe,we,xe){this._themeTrieElementRuleBrand=void 0,this._fontStyle=oe,this._foreground=we,this._background=xe,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new p(this._fontStyle,this._foreground,this._background)}acceptOverwrite(oe,we,xe){-1!==oe&&(this._fontStyle=oe),0!==we&&(this._foreground=we),0!==xe&&(this._background=xe),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class u{constructor(oe){this._themeTrieElementBrand=void 0,this._mainRule=oe,this._children=new Map}match(oe){if(""===oe)return this._mainRule;const we=oe.indexOf(".");let xe,pe;-1===we?(xe=oe,pe=""):(xe=oe.substring(0,we),pe=oe.substring(we+1));const Te=this._children.get(xe);return typeof Te<"u"?Te.match(pe):this._mainRule}insert(oe,we,xe,pe){if(""===oe)return void this._mainRule.acceptOverwrite(we,xe,pe);const Te=oe.indexOf(".");let de,ke;-1===Te?(de=oe,ke=""):(de=oe.substring(0,Te),ke=oe.substring(Te+1));let ze=this._children.get(de);typeof ze>"u"&&(ze=new u(this._mainRule.clone()),this._children.set(de,ze)),ze.insert(ke,we,xe,pe)}}var b=e(43944),y=e(4062);const D={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[y.cvW]:"#FFFFFE",[y.NOs]:"#000000",[y.ES4]:"#E5EBF1",[b.tR]:"#D3D3D3",[b.Ym]:"#939393",[y.Rzx]:"#ADD6FF4D"}},w={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[y.cvW]:"#1E1E1E",[y.NOs]:"#D4D4D4",[y.ES4]:"#3A3D41",[b.tR]:"#404040",[b.Ym]:"#707070",[y.Rzx]:"#ADD6FF26"}},I={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[y.cvW]:"#000000",[y.NOs]:"#FFFFFF",[b.tR]:"#FFFFFF",[b.Ym]:"#FFFFFF"}},P={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[y.cvW]:"#FFFFFF",[y.NOs]:"#292929",[b.tR]:"#292929",[b.Ym]:"#292929"}};var O=e(4259),H=e(40902),U=e(80142),K=e(18034),F=e(66287);class z{getIcon(oe){const we=(0,F.Ks)();let xe=oe.defaults;for(;H.kS.isThemeIcon(xe);){const pe=we.getIcon(xe.id);if(!pe)return;xe=pe.defaults}return xe}}const $="vs",j="vs-dark",ne="hc-black",N="hc-light",V=O.B.as(y.IPX.ColorContribution),Z=O.B.as(H.IP.ThemingContribution);class fe{constructor(oe,we){this.semanticHighlighting=!1,this.themeData=we;const xe=we.base;oe.length>0?(this.id=M(oe)?oe:xe+" "+oe,this.themeName=oe):(this.id=xe,this.themeName=xe),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const oe=new Map;for(const we in this.themeData.colors)oe.set(we,l.Il.fromHex(this.themeData.colors[we]));if(this.themeData.inherit){const we=Se(this.themeData.base);for(const xe in we.colors)oe.has(xe)||oe.set(xe,l.Il.fromHex(we.colors[xe]))}this.colors=oe}return this.colors}getColor(oe,we){return this.getColors().get(oe)||(!1!==we?this.getDefault(oe):void 0)}getDefault(oe){let we=this.defaultColors[oe];return we||(we=V.resolveDefaultColor(oe,this),this.defaultColors[oe]=we,we)}defines(oe){return Object.prototype.hasOwnProperty.call(this.getColors(),oe)}get type(){switch(this.base){case $:return K.eL.LIGHT;case ne:return K.eL.HIGH_CONTRAST_DARK;case N:return K.eL.HIGH_CONTRAST_LIGHT;default:return K.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let oe=[],we=[];if(this.themeData.inherit){const Te=Se(this.themeData.base);oe=Te.rules,Te.encodedTokensColors&&(we=Te.encodedTokensColors)}const xe=this.themeData.colors["editor.foreground"],pe=this.themeData.colors["editor.background"];if(xe||pe){const Te={token:""};xe&&(Te.foreground=xe),pe&&(Te.background=pe),oe.push(Te)}oe=oe.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(we=this.themeData.encodedTokensColors),this._tokenTheme=m.createFromRawTokenTheme(oe,we)}return this._tokenTheme}getTokenStyleMetadata(oe,we,xe){const Te=this.tokenTheme._match([oe].concat(we).join(".")).metadata,de=T.N.getForeground(Te),ke=T.N.getFontStyle(Te);return{foreground:de,italic:Boolean(1&ke),bold:Boolean(2&ke),underline:Boolean(4&ke),strikethrough:Boolean(8&ke)}}}function M(Ne){return Ne===$||Ne===j||Ne===ne||Ne===N}function Se(Ne){switch(Ne){case $:return D;case j:return w;case ne:return I;case N:return P}}function Ee(Ne){const oe=Se(Ne);return new fe(Ne,oe)}class Le extends U.JT{constructor(){super(),this._onColorThemeChange=this._register(new S.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new S.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new z,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set($,Ee($)),this._knownThemes.set(j,Ee(j)),this._knownThemes.set(ne,Ee(ne)),this._knownThemes.set(N,Ee(N));const oe=function B(Ne){const oe=new S.Q5,we=(0,F.Ks)();return we.onDidChange(()=>oe.fire()),Ne?.onDidProductIconThemeChange(()=>oe.fire()),{onDidChange:oe.event,getCSS(){const xe=Ne?Ne.getProductIconTheme():new z,pe={},Te=ke=>{const ze=xe.getIcon(ke);if(!ze)return;const $e=ze.font;return $e?(pe[$e.id]=$e.definition,`.codicon-${ke.id}:before { content: '${ze.fontCharacter}'; font-family: ${(0,d._h)($e.id)}; }`):`.codicon-${ke.id}:before { content: '${ze.fontCharacter}'; }`},de=[];for(const ke of we.getIcons()){const ze=Te(ke);ze&&de.push(ze)}for(const ke in pe){const ze=pe[ke],$e=ze.weight?`font-weight: ${ze.weight};`:"",ce=ze.style?`font-style: ${ze.style};`:"",Ue=ze.src.map(nt=>`${(0,d.wY)(nt.location)} format('${nt.format}')`).join(", ");de.push(`@font-face { src: ${Ue}; font-family: ${(0,d._h)(ke)};${$e}${ce} font-display: block; }`)}return de.join("\n")}}}(this);this._codiconCSS=oe.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme($),this._onOSSchemeChanged(),oe.onDidChange(()=>{this._codiconCSS=oe.getCSS(),this._updateCSS()}),(0,t.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(oe){return d.OO(oe)?this._registerShadowDomContainer(oe):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=d.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),U.JT.None}_registerShadowDomContainer(oe){const we=d.dS(oe);return we.className="monaco-colors",we.textContent=this._allCSS,this._styleElements.push(we),{dispose:()=>{for(let xe=0;xe<this._styleElements.length;xe++)if(this._styleElements[xe]===we)return void this._styleElements.splice(xe,1)}}}defineTheme(oe,we){if(!/^[a-z0-9\-]+$/i.test(oe))throw new Error("Illegal theme name!");if(!M(we.base)&&!M(oe))throw new Error("Illegal theme base!");this._knownThemes.set(oe,new fe(oe,we)),M(oe)&&this._knownThemes.forEach(xe=>{xe.base===oe&&xe.notifyBaseUpdated()}),this._theme.themeName===oe&&this.setTheme(oe)}getColorTheme(){return this._theme}setColorMapOverride(oe){this._colorMapOverride=oe,this._updateThemeOrColorMap()}setTheme(oe){let we;we=this._knownThemes.has(oe)?this._knownThemes.get(oe):this._knownThemes.get($),this._updateActualTheme(we)}_updateActualTheme(oe){!oe||this._theme===oe||(this._theme=oe,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const oe=window.matchMedia("(forced-colors: active)").matches;if(oe!==(0,K.c3)(this._theme.type)){let we;we=(0,K._T)(this._theme.type)?oe?ne:j:oe?N:$,this._updateActualTheme(this._knownThemes.get(we))}}}setAutoDetectHighContrast(oe){this._autoDetectHighContrast=oe,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const oe=[],we={},xe={addRule:de=>{we[de]||(oe.push(de),we[de]=!0)}};Z.getThemingParticipants().forEach(de=>de(this._theme,xe,this._environment));const pe=[];for(const de of V.getColors()){const ke=this._theme.getColor(de.id,!0);ke&&pe.push(`${(0,y.QO2)(de.id)}: ${ke.toString()};`)}xe.addRule(`.monaco-editor { ${pe.join("\n")} }`);const Te=this._colorMapOverride||this._theme.tokenTheme.getColorMap();xe.addRule(function g(Ne){const oe=[];for(let we=1,xe=Ne.length;we<xe;we++)oe[we]=`.mtk${we} { color: ${Ne[we]}; }`;return oe.push(".mtki { font-style: italic; }"),oe.push(".mtkb { font-weight: bold; }"),oe.push(".mtku { text-decoration: underline; text-underline-position: under; }"),oe.push(".mtks { text-decoration: line-through; }"),oe.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),oe.join("\n")}(Te)),this._themeCSS=oe.join("\n"),this._updateCSS(),v.RW.setColorMap(Te),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(oe=>oe.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},78746:(Et,X,e)=>{"use strict";e.r(X);var d=e(26845),t=e(55503),l=e(74982),S=e(18034),v=e(49949);(0,d.Qr)(class T extends d.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:l.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(E,L){const _=E.get(t.Z),s=_.getColorTheme();(0,S.c3)(s.type)?(_.setTheme(this._originalThemeName||((0,S._T)(s.type)?v.rW:v.TG)),this._originalThemeName=null):(_.setTheme((0,S._T)(s.type)?v.kR:v.MU),this._originalThemeName=s.themeName)}})},55503:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>t});const t=(0,e(9265).yh)("themeService")},811:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{JsxEmit:()=>m,ModuleKind:()=>s,ModuleResolutionKind:()=>a,NewLineKind:()=>c,ScriptTarget:()=>n,getJavaScriptWorker:()=>D,getTypeScriptWorker:()=>y,javascriptDefaults:()=>b,typescriptDefaults:()=>g,typescriptVersion:()=>u});var d=e(67519),t=e(89982),l=Object.defineProperty,S=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,T=Object.prototype.hasOwnProperty,C=(I,P,O,H)=>{if(P&&"object"==typeof P||"function"==typeof P)for(let U of v(P))!T.call(I,U)&&U!==O&&l(I,U,{get:()=>P[U],enumerable:!(H=S(P,U))||H.enumerable});return I},_={};C(_,t,"default");var s=(I=>(I[I.None=0]="None",I[I.CommonJS=1]="CommonJS",I[I.AMD=2]="AMD",I[I.UMD=3]="UMD",I[I.System=4]="System",I[I.ES2015=5]="ES2015",I[I.ESNext=99]="ESNext",I))(s||{}),m=(I=>(I[I.None=0]="None",I[I.Preserve=1]="Preserve",I[I.React=2]="React",I[I.ReactNative=3]="ReactNative",I[I.ReactJSX=4]="ReactJSX",I[I.ReactJSXDev=5]="ReactJSXDev",I))(m||{}),c=(I=>(I[I.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",I[I.LineFeed=1]="LineFeed",I))(c||{}),n=(I=>(I[I.ES3=0]="ES3",I[I.ES5=1]="ES5",I[I.ES2015=2]="ES2015",I[I.ES2016=3]="ES2016",I[I.ES2017=4]="ES2017",I[I.ES2018=5]="ES2018",I[I.ES2019=6]="ES2019",I[I.ES2020=7]="ES2020",I[I.ESNext=99]="ESNext",I[I.JSON=100]="JSON",I[I.Latest=99]="Latest",I))(n||{}),a=(I=>(I[I.Classic=1]="Classic",I[I.NodeJs=2]="NodeJs",I))(a||{}),p=class{constructor(P,O,H,U){(0,d.Z)(this,"_onDidChange",new _.Emitter),(0,d.Z)(this,"_onDidExtraLibsChange",new _.Emitter),(0,d.Z)(this,"_extraLibs",void 0),(0,d.Z)(this,"_removedExtraLibs",void 0),(0,d.Z)(this,"_eagerModelSync",void 0),(0,d.Z)(this,"_compilerOptions",void 0),(0,d.Z)(this,"_diagnosticsOptions",void 0),(0,d.Z)(this,"_workerOptions",void 0),(0,d.Z)(this,"_onDidExtraLibsChangeTimeout",void 0),(0,d.Z)(this,"_inlayHintsOptions",void 0),this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(P),this.setDiagnosticsOptions(O),this.setWorkerOptions(H),this.setInlayHintsOptions(U),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(P,O){let H;if(H=typeof O>"u"?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:O,this._extraLibs[H]&&this._extraLibs[H].content===P)return{dispose:()=>{}};let U=1;return this._removedExtraLibs[H]&&(U=this._removedExtraLibs[H]+1),this._extraLibs[H]&&(U=this._extraLibs[H].version+1),this._extraLibs[H]={content:P,version:U},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let K=this._extraLibs[H];!K||K.version===U&&(delete this._extraLibs[H],this._removedExtraLibs[H]=U,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(P){for(const O in this._extraLibs)this._removedExtraLibs[O]=this._extraLibs[O].version;if(this._extraLibs=Object.create(null),P&&P.length>0)for(const O of P){const H=O.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let K=1;this._removedExtraLibs[H]&&(K=this._removedExtraLibs[H]+1),this._extraLibs[H]={content:O.content,version:K}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(P){this._compilerOptions=P||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(P){this._diagnosticsOptions=P||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(P){this._workerOptions=P||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(P){this._inlayHintsOptions=P||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(P){}setEagerModelSync(P){this._eagerModelSync=P}getEagerModelSync(){return this._eagerModelSync}},u="4.5.5",g=new p({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),b=new p({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),y=()=>w().then(I=>I.getTypeScriptWorker()),D=()=>w().then(I=>I.getJavaScriptWorker());function w(){return e.e(345).then(e.bind(e,78345))}_.languages.typescript={ModuleKind:s,JsxEmit:m,NewLineKind:c,ScriptTarget:n,ModuleResolutionKind:a,typescriptVersion:u,typescriptDefaults:g,javascriptDefaults:b,getTypeScriptWorker:y,getJavaScriptWorker:D},_.languages.onLanguage("typescript",()=>w().then(I=>I.setupTypeScript(g))),_.languages.onLanguage("javascript",()=>w().then(I=>I.setupJavaScript(b)))},55197:(Et,X,e)=>{"use strict";e.d(X,{NC:()=>L,aj:()=>_});let t=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function L(n,a,...p){return function S(n,a){let p;return p=0===a.length?n:n.replace(/\{(\d+)\}/g,(u,g)=>{const y=a[g[0]];let D=u;return"string"==typeof y?D=y:("number"==typeof y||"boolean"==typeof y||null==y)&&(D=String(y)),D}),t&&(p="\uff3b"+p.replace(/[aouei]/g,"$&$&")+"\uff3d"),p}(a,p)}function _(n){}},64280:(Et,X,e)=>{"use strict";e.d(X,{F:()=>l,U:()=>S});var d=e(16468);const l=(0,e(9265).yh)("accessibilityService"),S=new d.uy("accessibilityModeEnabled",!1)},38516:(Et,X,e)=>{"use strict";e.d(X,{Mm:()=>Le,Id:()=>we,vr:()=>M});var d=e(98463),t=e(41140),l=e(34872),S=e(21040),v=e(827),T=e(11719),C=e(80142),E=e(8841),L=e(57856),_=e.n(L),s=e(38470),m=e.n(s),c=e(43370),n=e.n(c),a=e(28458),p=e.n(a),u=e(71278),g=e.n(u),b=e(29488),y=e.n(b),D=e(45355),w={};w.styleTagTransform=y(),w.setAttributes=p(),w.insert=n().bind(null,"head"),w.domAPI=m(),w.insertStyleElement=g(),_()(D.Z,w);var O=e(55197),H=e(74918),U=e(16468),K=e(50703),F=e(9265),B=e(14759),z=e(54436),$=e(48190),j=e(40902),ne=e(18034),N=e(72715),V=function(xe,pe,Te,de){var $e,ke=arguments.length,ze=ke<3?pe:null===de?de=Object.getOwnPropertyDescriptor(pe,Te):de;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ze=Reflect.decorate(xe,pe,Te,de);else for(var ce=xe.length-1;ce>=0;ce--)($e=xe[ce])&&(ze=(ke<3?$e(ze):ke>3?$e(pe,Te,ze):$e(pe,Te))||ze);return ke>3&&ze&&Object.defineProperty(pe,Te,ze),ze},Z=function(xe,pe){return function(Te,de){pe(Te,de,xe)}},fe=function(xe,pe,Te,de){return new(Te||(Te=Promise))(function(ze,$e){function ce(Dt){try{nt(de.next(Dt))}catch(Lt){$e(Lt)}}function Ue(Dt){try{nt(de.throw(Dt))}catch(Lt){$e(Lt)}}function nt(Dt){Dt.done?ze(Dt.value):function ke(ze){return ze instanceof Te?ze:new Te(function($e){$e(ze)})}(Dt.value).then(ce,Ue)}nt((de=de.apply(xe,pe||[])).next())})};function M(xe,pe,Te,de,ke,ze,$e){const ce=xe.getActions(pe);return function Ee(xe,pe,Te,de=(ce=>"navigation"===ce),ke=Number.MAX_SAFE_INTEGER,ze=(()=>!1),$e=!1){let ce,Ue;Array.isArray(pe)?(ce=pe,Ue=pe):(ce=pe.primary,Ue=pe.secondary);const nt=new Set;for(const[Dt,Lt]of xe){let Ze;de(Dt)?(Ze=ce,Ze.length>0&&$e&&Ze.push(new v.Z0)):(Ze=Ue,Ze.length>0&&Ze.push(new v.Z0));for(let ae of Lt){Te&&(ae=ae instanceof H.U8&&ae.alt?ae.alt:ae);const _e=Ze.push(ae);ae instanceof v.wY&&nt.add({group:Dt,action:ae,index:_e-1})}}for(const{group:Dt,action:Lt,index:Ze}of nt){const ae=de(Dt)?ce:Ue,_e=Lt.actions;(_e.length<=1||ae.length+_e.length-2<=ke)&&ze(Lt,Dt,ae.length)&&ae.splice(Ze,1,..._e)}if(ce!==Ue&&ce.length>ke){const Dt=ce.splice(ke,ce.length-ke);Ue.unshift(...Dt,new v.Z0)}}(ce,Te,!1,"string"==typeof de?nt=>nt===de:de,ke,ze,$e),function Se(xe){const pe=new C.SL;for(const[,Te]of xe)for(const de of Te)pe.add(de);return pe}(ce)}let Le=class extends l.g{constructor(pe,Te,de,ke,ze,$e,ce){super(void 0,pe,{icon:!(!pe.class&&!pe.item.icon),label:!pe.class&&!pe.item.icon,draggable:Te?.draggable,keybinding:Te?.keybinding,hoverDelegate:Te?.hoverDelegate}),this._keybindingService=de,this._notificationService=ke,this._contextKeyService=ze,this._themeService=$e,this._contextMenuService=ce,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new C.XK),this._altKey=d._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(pe){return fe(this,void 0,void 0,function*(){pe.preventDefault(),pe.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(Te){this._notificationService.error(Te)}})}render(pe){super.render(pe),pe.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let Te=!1,de=this._altKey.keyStatus.altKey||(E.ED||E.IJ)&&this._altKey.keyStatus.shiftKey;const ke=()=>{var ze;const $e=Te&&de&&!(null===(ze=this._commandAction.alt)||void 0===ze||!ze.enabled);$e!==this._wantsAltCommand&&(this._wantsAltCommand=$e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(ze=>{de=ze.altKey||(E.ED||E.IJ)&&ze.shiftKey,ke()})),this._register((0,d.nm)(pe,"mouseleave",ze=>{Te=!1,ke()})),this._register((0,d.nm)(pe,"mouseenter",ze=>{Te=!0,ke()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var pe;const Te=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),de=Te&&Te.getLabel(),ke=this._commandAction.tooltip||this._commandAction.label;let ze=de?(0,O.NC)("titleAndKb","{0} ({1})",ke,de):ke;if(!this._wantsAltCommand&&(null===(pe=this._menuItemAction.alt)||void 0===pe?void 0:pe.enabled)){const $e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,ce=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),Ue=ce&&ce.getLabel(),nt=Ue?(0,O.NC)("titleAndKb","{0} ({1})",$e,Ue):$e;ze=(0,O.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",ze,T.xo.modifierLabels[E.OS].altKey,nt)}return ze}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(pe){var Te;this._itemClassDispose.value=void 0;const{element:de,label:ke}=this;if(!de||!ke)return;const ze=this._commandAction.checked&&(null===(Te=pe.toggled)||void 0===Te?void 0:Te.icon)?pe.toggled.icon:pe.icon;if(ze)if(j.kS.isThemeIcon(ze)){const $e=j.kS.asClassNameArray(ze);ke.classList.add(...$e),this._itemClassDispose.value=(0,C.OF)(()=>{ke.classList.remove(...$e)})}else ke.style.backgroundImage=(0,ne._T)(this._themeService.getColorTheme().type)?(0,d.wY)(ze.dark):(0,d.wY)(ze.light),ke.classList.add("icon"),this._itemClassDispose.value=(0,C.F8)((0,C.OF)(()=>{ke.style.backgroundImage="",ke.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Le=V([Z(2,B.d),Z(3,z.lT),Z(4,U.i6),Z(5,j.XE),Z(6,K.i)],Le);let Ne=class extends S.C{constructor(pe,Te,de,ke){var ze,$e;const ce=Object.assign({},Te??Object.create(null),{menuAsChild:null!==(ze=Te?.menuAsChild)&&void 0!==ze&&ze,classNames:null!==($e=Te?.classNames)&&void 0!==$e?$e:j.kS.isThemeIcon(pe.item.icon)?j.kS.asClassName(pe.item.icon):void 0});super(pe,{getActions:()=>pe.actions},de,ce),this._contextMenuService=de,this._themeService=ke}render(pe){super.render(pe),(0,N.p_)(this.element),pe.classList.add("menu-entry");const Te=this._action,{icon:de}=Te.item;if(de&&!j.kS.isThemeIcon(de)){this.element.classList.add("icon");const ke=()=>{this.element&&(this.element.style.backgroundImage=(0,ne._T)(this._themeService.getColorTheme().type)?(0,d.wY)(de.dark):(0,d.wY)(de.light))};ke(),this._register(this._themeService.onDidColorThemeChange(()=>{ke()}))}}};Ne=V([Z(2,K.i),Z(3,j.XE)],Ne);let oe=class extends l.Y{constructor(pe,Te,de,ke,ze,$e,ce,Ue){var nt,Dt,Lt;let Ze;super(null,pe),this._keybindingService=de,this._notificationService=ke,this._contextMenuService=ze,this._menuService=$e,this._instaService=ce,this._storageService=Ue,this._container=null,this._options=Te,this._storageKey=`${pe.item.submenu.id}_lastActionId`;const ae=Ue.get(this._storageKey,1);ae&&(Ze=pe.actions.find(he=>ae===he.id)),Ze||(Ze=pe.actions[0]),this._defaultAction=this._instaService.createInstance(Le,Ze,{keybinding:this._getDefaultActionKeybindingLabel(Ze)});const _e=Object.assign({},Te??Object.create(null),{menuAsChild:null===(nt=Te?.menuAsChild)||void 0===nt||nt,classNames:null!==(Dt=Te?.classNames)&&void 0!==Dt?Dt:["codicon","codicon-chevron-down"],actionRunner:null!==(Lt=Te?.actionRunner)&&void 0!==Lt?Lt:new v.Wi});this._dropdown=new S.C(pe,pe.actions,this._contextMenuService,_e),this._dropdown.actionRunner.onDidRun(he=>{he.action instanceof H.U8&&this.update(he.action)})}update(pe){this._storageService.store(this._storageKey,pe.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Le,pe,{keybinding:this._getDefaultActionKeybindingLabel(pe)}),this._defaultAction.actionRunner=new class extends v.Wi{runAction(Te,de){return fe(this,void 0,void 0,function*(){yield Te.run(void 0)})}},this._container&&this._defaultAction.render((0,d.Ce)(this._container,(0,d.$)(".action-container")))}_getDefaultActionKeybindingLabel(pe){var Te;let de;if(null!==(Te=this._options)&&void 0!==Te&&Te.renderKeybindingWithDefaultActionLabel){const ke=this._keybindingService.lookupKeybinding(pe.id);ke&&(de=`(${ke.getLabel()})`)}return de}setActionContext(pe){super.setActionContext(pe),this._defaultAction.setActionContext(pe),this._dropdown.setActionContext(pe)}render(pe){this._container=pe,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const Te=(0,d.$)(".action-container");this._defaultAction.render((0,d.R3)(this._container,Te)),this._register((0,d.nm)(Te,d.tw.KEY_DOWN,ke=>{const ze=new t.y(ke);ze.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),ze.stopPropagation())}));const de=(0,d.$)(".dropdown-action-container");this._dropdown.render((0,d.R3)(this._container,de)),this._register((0,d.nm)(de,d.tw.KEY_DOWN,ke=>{var ze;const $e=new t.y(ke);$e.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(ze=this._defaultAction.element)||void 0===ze||ze.focus(),$e.stopPropagation())}))}focus(pe){pe?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(pe){pe?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function we(xe,pe,Te){return pe instanceof H.U8?xe.createInstance(Le,pe,Te):pe instanceof H.NZ?xe.createInstance(pe.item.rememberDefaultAction?oe:Ne,pe,Te):void 0}oe=V([Z(2,B.d),Z(3,z.lT),Z(4,K.i),Z(5,H.co),Z(6,F.TG),Z(7,$.Uy)],oe)},74918:(Et,X,e)=>{"use strict";e.d(X,{BH:()=>p,NZ:()=>u,U8:()=>g,co:()=>a,eH:()=>n,vr:()=>c});var d=e(827),t=e(58783),l=e(3778),S=e(1999),v=e(80142),T=e(85739),C=e(66549),E=e(16468),L=e(9265),_=e(40902),m=function(b,y){return function(D,w){y(D,w,b)}};function c(b){return void 0!==b.command}class n{constructor(y){if(n._instances.has(y))throw new TypeError(`MenuId with identifier '${y}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(y,this),this.id=y}}n._instances=new Map,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.DebugToolBarStop=new n("DebugToolBarStop"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorContextShare=new n("EditorContextShare"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.ExplorerContext=new n("ExplorerContext"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.CommandCenter=new n("CommandCenter"),n.LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.MenubarPanelAlignmentMenu=new n("MenubarPanelAlignmentMenu"),n.MenubarPanelPositionMenu=new n("MenubarPanelPositionMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarShare=new n("MenubarShare"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TitleBarTitleContext=new n("TitleBarTitleContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellDelete=new n("InteractiveCellDelete"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellDelete=new n("NotebookCellDelete"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.NotebookKernelSource=new n("NotebookKernelSource"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.TimelineFilterSubMenu=new n("TimelineFilterSubMenu"),n.AccountsContext=new n("AccountsContext"),n.PanelTitle=new n("PanelTitle"),n.AuxiliaryBarTitle=new n("AuxiliaryBarTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalInlineTabContext=new n("TerminalInlineTabContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),n.MergeToolbar=new n("MergeToolbar"),n.MergeInput1Toolbar=new n("MergeToolbar1Toolbar"),n.MergeInput2Toolbar=new n("MergeToolbar2Toolbar");const a=(0,L.yh)("menuService"),p=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new l.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:b=>b===n.CommandPalette}}addCommand(b){return this.addCommands(S.$.single(b))}addCommands(b){for(const y of b)this._commands.set(y.id,y);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,v.OF)(()=>{let y=!1;for(const D of b)y=this._commands.delete(D.id)||y;y&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(b){return this._commands.get(b)}getCommands(){const b=new Map;return this._commands.forEach((y,D)=>b.set(D,y)),b}appendMenuItem(b,y){return this.appendMenuItems(S.$.single({id:b,item:y}))}appendMenuItems(b){const y=new Set,D=new T.S;for(const{id:w,item:I}of b){let P=this._menuItems.get(w);P||(P=new T.S,this._menuItems.set(w,P)),D.push(P.push(I)),y.add(w)}return this._onDidChangeMenu.fire(y),(0,v.OF)(()=>{if(D.size>0){for(const w of D)w();this._onDidChangeMenu.fire(y),D.clear()}})}getMenuItems(b){let y;return y=this._menuItems.has(b)?[...this._menuItems.get(b)]:[],b===n.CommandPalette&&this._appendImplicitItems(y),y}_appendImplicitItems(b){const y=new Set;for(const D of b)c(D)&&(y.add(D.command.id),D.alt&&y.add(D.alt.id));this._commands.forEach((D,w)=>{y.has(w)||b.push({command:D})})}};class u extends d.wY{constructor(y,D,w,I){super(`submenuitem.${y.submenu.id}`,"string"==typeof y.title?y.title:y.title.value,[],"submenu"),this.item=y,this._menuService=D,this._contextKeyService=w,this._options=I}get actions(){const y=[],D=this._menuService.createMenu(this.item.submenu,this._contextKeyService),w=D.getActions(this._options);D.dispose();for(const[,I]of w)I.length>0&&(y.push(...I),y.push(new d.Z0));return y.length&&y.pop(),y}}let g=class vu{constructor(y,D,w,I,P,O){var H,U;if(this.hideActions=I,this._commandService=O,this.id=y.id,this.label=w?.renderShortTitle&&y.shortTitle?"string"==typeof y.shortTitle?y.shortTitle:y.shortTitle.value:"string"==typeof y.title?y.title:y.title.value,this.tooltip=null!==(U="string"==typeof y.tooltip?y.tooltip:null===(H=y.tooltip)||void 0===H?void 0:H.value)&&void 0!==U?U:"",this.enabled=!y.precondition||P.contextMatchesRules(y.precondition),this.checked=void 0,y.toggled){const K=y.toggled.condition?y.toggled:{condition:y.toggled};this.checked=P.contextMatchesRules(K.condition),this.checked&&K.tooltip&&(this.tooltip="string"==typeof K.tooltip?K.tooltip:K.tooltip.value),K.title&&(this.label="string"==typeof K.title?K.title:K.title.value)}this.item=y,this.alt=D?new vu(D,void 0,w,I,P,O):void 0,this._options=w,_.kS.isThemeIcon(y.icon)&&(this.class=t.dT.asClassName(y.icon))}dispose(){}run(...y){var D,w;let I=[];return!(null===(D=this._options)||void 0===D)&&D.arg&&(I=[...I,this._options.arg]),!(null===(w=this._options)||void 0===w)&&w.shouldForwardArgs&&(I=[...I,...y]),this._commandService.executeCommand(this.id,...I)}};g=function(b,y,D,w){var O,I=arguments.length,P=I<3?y:null===w?w=Object.getOwnPropertyDescriptor(y,D):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(b,y,D,w);else for(var H=b.length-1;H>=0;H--)(O=b[H])&&(P=(I<3?O(P):I>3?O(y,D,P):O(y,D))||P);return I>3&&P&&Object.defineProperty(y,D,P),P}([m(4,E.i6),m(5,C.Hy)],g)},25787:(Et,X,e)=>{"use strict";e.d(X,{p:()=>t});const t=(0,e(9265).yh)("clipboardService")},66549:(Et,X,e)=>{"use strict";e.d(X,{Hy:()=>C,P0:()=>E});var d=e(3778),t=e(1999),l=e(80142),S=e(85739),v=e(72715);const C=(0,e(9265).yh)("commandService"),E=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new d.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(_,s){if(!_)throw new Error("invalid command");if("string"==typeof _){if(!s)throw new Error("invalid command");return this.registerCommand({id:_,handler:s})}if(_.description){const p=[];for(const g of _.description.args)p.push(g.constraint);const u=_.handler;_.handler=function(g,...b){return(0,v.D8)(b,p),u(g,...b)}}const{id:m}=_;let c=this._commands.get(m);c||(c=new S.S,this._commands.set(m,c));const n=c.unshift(_),a=(0,l.OF)(()=>{n(),this._commands.get(m)?.isEmpty()&&this._commands.delete(m)});return this._onDidRegisterCommand.fire(m),a}registerCommandAlias(_,s){return E.registerCommand(_,(m,...c)=>m.get(C).executeCommand(s,...c))}getCommand(_){const s=this._commands.get(_);if(s&&!s.isEmpty())return t.$.first(s)}getCommands(){const _=new Map;for(const s of this._commands.keys()){const m=this.getCommand(s);m&&_.set(s,m)}return _}};E.registerCommand("noop",()=>{})},94667:(Et,X,e)=>{"use strict";e.d(X,{KV:()=>S,Mt:()=>C,Od:()=>l,UI:()=>E,Ui:()=>t,xL:()=>v});const t=(0,e(9265).yh)("configurationService");function l(L,_){const s=Object.create(null);for(const m in L)S(s,m,L[m],_);return s}function S(L,_,s,m){const c=_.split("."),n=c.pop();let a=L;for(let p=0;p<c.length;p++){const u=c[p];let g=a[u];switch(typeof g){case"undefined":g=a[u]=Object.create(null);break;case"object":break;default:return void m(`Ignoring ${_} as ${c.slice(0,p+1).join(".")} is ${JSON.stringify(g)}`)}a=g}if("object"==typeof a&&null!==a)try{a[n]=s}catch{m(`Ignoring ${_} as ${c.join(".")} is ${JSON.stringify(a)}`)}else m(`Ignoring ${_} as ${c.join(".")} is ${JSON.stringify(a)}`)}function v(L,_){T(L,_.split("."))}function T(L,_){const s=_.shift();if(0!==_.length){if(-1!==Object.keys(L).indexOf(s)){const m=L[s];"object"==typeof m&&!Array.isArray(m)&&(T(m,_),0===Object.keys(m).length&&delete L[s])}}else delete L[s]}function C(L,_,s){const n=function m(a,p){let u=a;for(const g of p){if("object"!=typeof u||null===u)return;u=u[g]}return u}(L,_.split("."));return typeof n>"u"?s:n}function E(L){return L.replace(/[\[\]]/g,"")}},15945:(Et,X,e)=>{"use strict";e.d(X,{VK:()=>E,VV:()=>C,YX:()=>L});var d=e(64023),t=e(5067),l=e(6276),S=e(72715),v=e(59547),T=e(94667);class C{constructor(s={},m=[],c=[]){this._contents=s,this._keys=m,this._overrides=c,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(s){return s?(0,T.Mt)(this.contents,s):this.contents}getOverrideValue(s,m){const c=this.getContentsForOverrideIdentifer(m);return c?s?(0,T.Mt)(c,s):c:void 0}override(s){let m=this.overrideConfigurations.get(s);return m||(m=this.createOverrideConfigurationModel(s),this.overrideConfigurations.set(s,m)),m}merge(...s){const m=l.I8(this.contents),c=l.I8(this.overrides),n=[...this.keys];for(const a of s)if(!a.isEmpty()){this.mergeContents(m,a.contents);for(const p of a.overrides){const[u]=c.filter(g=>d.fS(g.identifiers,p.identifiers));u?(this.mergeContents(u.contents,p.contents),u.keys.push(...p.keys),u.keys=d.EB(u.keys)):c.push(l.I8(p))}for(const p of a.keys)-1===n.indexOf(p)&&n.push(p)}return new C(m,n,c)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(s){const m=this.getContentsForOverrideIdentifer(s);if(!m||"object"!=typeof m||!Object.keys(m).length)return this;const c={};for(const n of d.EB([...Object.keys(this.contents),...Object.keys(m)])){let a=this.contents[n];const p=m[n];p&&("object"==typeof a&&"object"==typeof p?(a=l.I8(a),this.mergeContents(a,p)):a=p),c[n]=a}return new C(c,this.keys,this.overrides)}mergeContents(s,m){for(const c of Object.keys(m))c in s&&S.Kn(s[c])&&S.Kn(m[c])?this.mergeContents(s[c],m[c]):s[c]=l.I8(m[c])}checkAndFreeze(s){return this.frozen&&!Object.isFrozen(s)?l._A(s):s}getContentsForOverrideIdentifer(s){let m=null,c=null;const n=a=>{a&&(c?this.mergeContents(c,a):c=l.I8(a))};for(const a of this.overrides)d.fS(a.identifiers,[s])?m=a.contents:a.identifiers.includes(s)&&n(a.contents);return n(m),c}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(s,m){this.addKey(s),(0,T.KV)(this.contents,s,m,c=>{throw new Error(c)})}removeValue(s){this.removeKey(s)&&(0,T.xL)(this.contents,s)}addKey(s){let m=this.keys.length;for(let c=0;c<m;c++)0===s.indexOf(this.keys[c])&&(m=c);this.keys.splice(m,1,s)}removeKey(s){const m=this.keys.indexOf(s);return-1!==m&&(this.keys.splice(m,1),!0)}}class E{constructor(s,m,c,n,a=new C,p=new C,u=new t.Y9,g=new C,b=new t.Y9,y=!0){this._defaultConfiguration=s,this._policyConfiguration=m,this._applicationConfiguration=c,this._localUserConfiguration=n,this._remoteUserConfiguration=a,this._workspaceConfiguration=p,this._folderConfigurations=u,this._memoryConfiguration=g,this._memoryConfigurationByResource=b,this._freeze=y,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new t.Y9,this._userConfiguration=null}getValue(s,m,c){return this.getConsolidatedConfigurationModel(s,m,c).getValue(s)}updateValue(s,m,c={}){let n;c.resource?(n=this._memoryConfigurationByResource.get(c.resource),n||(n=new C,this._memoryConfigurationByResource.set(c.resource,n))):n=this._memoryConfiguration,void 0===m?n.removeValue(s):n.setValue(s,m),c.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(s,m,c){const n=this.getConsolidatedConfigurationModel(s,m,c),a=this.getFolderConfigurationModelForResource(m.resource,c),p=m.resource&&this._memoryConfigurationByResource.get(m.resource)||this._memoryConfiguration,u=m.overrideIdentifier?this._defaultConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this._defaultConfiguration.freeze().getValue(s),g=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(s),b=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(s),y=m.overrideIdentifier?this.userConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this.userConfiguration.freeze().getValue(s),D=m.overrideIdentifier?this.localUserConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this.localUserConfiguration.freeze().getValue(s),w=m.overrideIdentifier?this.remoteUserConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this.remoteUserConfiguration.freeze().getValue(s),I=c?m.overrideIdentifier?this._workspaceConfiguration.freeze().override(m.overrideIdentifier).getValue(s):this._workspaceConfiguration.freeze().getValue(s):void 0,P=a?m.overrideIdentifier?a.freeze().override(m.overrideIdentifier).getValue(s):a.freeze().getValue(s):void 0,O=m.overrideIdentifier?p.override(m.overrideIdentifier).getValue(s):p.getValue(s),H=n.getValue(s),U=d.EB(n.overrides.map(K=>K.identifiers).flat()).filter(K=>void 0!==n.getOverrideValue(s,K));return{defaultValue:u,policyValue:g,applicationValue:b,userValue:y,userLocalValue:D,userRemoteValue:w,workspaceValue:I,workspaceFolderValue:P,memoryValue:O,value:H,default:void 0!==u?{value:this._defaultConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,policy:void 0!==g?{value:g}:void 0,application:void 0!==b?{value:b,override:m.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,user:void 0!==y?{value:this.userConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,userLocal:void 0!==D?{value:this.localUserConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,userRemote:void 0!==w?{value:this.remoteUserConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,workspace:void 0!==I?{value:this._workspaceConfiguration.freeze().getValue(s),override:m.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==P?{value:a?.freeze().getValue(s),override:m.overrideIdentifier?a?.freeze().getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,memory:void 0!==O?{value:p.getValue(s),override:m.overrideIdentifier?p.getOverrideValue(s,m.overrideIdentifier):void 0}:void 0,overrideIdentifiers:U.length?U:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(s,m,c){let n=this.getConsolidatedConfigurationModelForResource(m,c);return m.overrideIdentifier&&(n=n.override(m.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(s)&&(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource({resource:s},m){let c=this.getWorkspaceConsolidatedConfiguration();if(m&&s){const n=m.getFolder(s);n&&(c=this.getFolderConsolidatedConfiguration(n.uri)||c);const a=this._memoryConfigurationByResource.get(s);a&&(c=c.merge(a))}return c}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(s){let m=this._foldersConsolidatedConfigurations.get(s);if(!m){const c=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(s);n?(m=c.merge(n),this._freeze&&(m=m.freeze()),this._foldersConsolidatedConfigurations.set(s,m)):m=c}return m}getFolderConfigurationModelForResource(s,m){if(m&&s){const c=m.getFolder(s);if(c)return this._folderConfigurations.get(c.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((s,m)=>{const{contents:c,overrides:n,keys:a}=this._folderConfigurations.get(m);return s.push([m,{contents:c,overrides:n,keys:a}]),s},[])}}static parse(s){const m=this.parseConfigurationModel(s.defaults),c=this.parseConfigurationModel(s.policy),n=this.parseConfigurationModel(s.application),a=this.parseConfigurationModel(s.user),p=this.parseConfigurationModel(s.workspace),u=s.folders.reduce((g,b)=>(g.set(v.o.revive(b[0]),this.parseConfigurationModel(b[1])),g),new t.Y9);return new E(m,c,n,a,new C,p,u,new C,new t.Y9,!1)}static parseConfigurationModel(s){return new C(s.contents,s.keys,s.overrides).freeze()}}class L{constructor(s,m,c,n){this.change=s,this.previous=m,this.currentConfiguraiton=c,this.currentWorkspace=n,this._previousConfiguration=void 0;const a=new Set;s.keys.forEach(u=>a.add(u)),s.overrides.forEach(([,u])=>u.forEach(g=>a.add(g))),this.affectedKeys=[...a.values()];const p=new C;this.affectedKeys.forEach(u=>p.setValue(u,{})),this.affectedKeysTree=p.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=E.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(s,m){var c;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,s)){if(m){const n=this.previousConfiguration?this.previousConfiguration.getValue(s,m,null===(c=this.previous)||void 0===c?void 0:c.workspace):void 0,a=this.currentConfiguraiton.getValue(s,m,this.currentWorkspace);return!l.fS(n,a)}return!0}return!1}doesAffectedKeysTreeContains(s,m){let n,c=(0,T.Od)({[m]:!0},()=>{});for(;"object"==typeof c&&(n=Object.keys(c)[0]);){if(!(s=s[n]))return!1;c=c[n]}return!0}}},29093:(Et,X,e)=>{"use strict";e.d(X,{IP:()=>E,eU:()=>D,ny:()=>w});var d=e(64023),t=e(3778),l=e(72715),S=e(55197),v=e(94667),T=e(7886),C=e(4259);const E={Configuration:"base.contributions.configuration"},L={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},s={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},c={properties:{},patternProperties:{}},n={properties:{},patternProperties:{}},a="vscode://schemas/settings/resourceLanguage",p=C.B.as(T.I.JSONContribution),g="\\[([^\\]]+)\\]",b=new RegExp(g,"g"),y=`^(${g})+$`,D=new RegExp(y);function w(H){const U=[];if(D.test(H)){let K=b.exec(H);for(;K?.length;){const F=K[1].trim();F&&U.push(F),K=b.exec(H)}}return(0,d.EB)(U)}const P=new class u{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new t.Q5,this._onDidUpdateConfiguration=new t.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:S.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},p.registerSchema(a,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(U,K=!0){this.registerConfigurations([U],K)}registerConfigurations(U,K=!0){const F=this.doRegisterConfigurations(U,K);p.registerSchema(a,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:F})}registerDefaultConfigurations(U){var K;const F=[],B=[];for(const{overrides:z,source:$}of U)for(const j in z)if(F.push(j),D.test(j)){const ne=this.configurationDefaultsOverrides.get(j),N=null!==(K=ne?.valuesSources)&&void 0!==K?K:new Map;if($)for(const M of Object.keys(z[j]))N.set(M,$);const V=Object.assign(Object.assign({},ne?.value||{}),z[j]);this.configurationDefaultsOverrides.set(j,{source:$,value:V,valuesSources:N});const Z=(0,v.UI)(j),fe={type:"object",default:V,description:S.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Z),$ref:a,defaultDefaultValue:V,source:l.HD($)?void 0:$,defaultValueSource:$};B.push(...w(j)),this.configurationProperties[j]=fe,this.defaultLanguageConfigurationOverridesNode.properties[j]=fe}else{this.configurationDefaultsOverrides.set(j,{value:z[j],source:$});const ne=this.configurationProperties[j];ne&&(this.updatePropertyDefaultValue(j,ne),this.updateSchema(j,ne))}this.registerOverrideIdentifiers(B),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:F,defaultsOverrides:!0})}registerOverrideIdentifiers(U){for(const K of U)this.overrideIdentifiers.add(K);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(U,K){const F=[];return U.forEach(B=>{F.push(...this.validateAndRegisterProperties(B,K,B.extensionInfo,B.restrictedProperties)),this.configurationContributors.push(B),this.registerJSONConfiguration(B)}),F}validateAndRegisterProperties(U,K=!0,F,B,z=3){var $;z=l.Jp(U.scope)?z:U.scope;const j=[],ne=U.properties;if(ne)for(const V in ne){const Z=ne[V];K&&O(V,Z)?delete ne[V]:(Z.source=F,Z.defaultDefaultValue=ne[V].default,this.updatePropertyDefaultValue(V,Z),D.test(V)?Z.scope=void 0:(Z.scope=l.Jp(Z.scope)?z:Z.scope,Z.restricted=l.Jp(Z.restricted)?!!B?.includes(V):Z.restricted),!ne[V].hasOwnProperty("included")||ne[V].included?(this.configurationProperties[V]=ne[V],null!==($=ne[V].policy)&&void 0!==$&&$.name&&this.policyConfigurations.set(ne[V].policy.name,V),!ne[V].deprecationMessage&&ne[V].markdownDeprecationMessage&&(ne[V].deprecationMessage=ne[V].markdownDeprecationMessage),j.push(V)):(this.excludedConfigurationProperties[V]=ne[V],delete ne[V]))}const N=U.allOf;if(N)for(const V of N)j.push(...this.validateAndRegisterProperties(V,K,F,B,z));return j}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(U){const K=F=>{const B=F.properties;if(B)for(const $ in B)this.updateSchema($,B[$]);F.allOf?.forEach(K)};K(U)}updateSchema(U,K){switch(L.properties[U]=K,K.scope){case 1:_.properties[U]=K;break;case 2:s.properties[U]=K;break;case 6:m.properties[U]=K;break;case 3:c.properties[U]=K;break;case 4:n.properties[U]=K;break;case 5:n.properties[U]=K,this.resourceLanguageSettingsSchema.properties[U]=K}}updateOverridePropertyPatternKey(){for(const U of this.overrideIdentifiers.values()){const K=`[${U}]`,F={type:"object",description:S.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:S.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};this.updatePropertyDefaultValue(K,F),L.properties[K]=F,_.properties[K]=F,s.properties[K]=F,m.properties[K]=F,c.properties[K]=F,n.properties[K]=F}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const U={type:"object",description:S.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:S.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};L.patternProperties[y]=U,_.patternProperties[y]=U,s.patternProperties[y]=U,m.patternProperties[y]=U,c.patternProperties[y]=U,n.patternProperties[y]=U,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(U,K){const F=this.configurationDefaultsOverrides.get(U);let B=F?.value,z=F?.source;l.o8(B)&&(B=K.defaultDefaultValue,z=void 0),l.o8(B)&&(B=function I(H){switch(Array.isArray(H)?H[0]:H){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(K.type)),K.default=B,K.defaultValueSource=z}};function O(H,U){var K,F,B,z;return H.trim()?D.test(H)?S.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",H):void 0!==P.getConfigurationProperties()[H]?S.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",H):(null===(K=U.policy)||void 0===K?void 0:K.name)&&void 0!==P.getPolicyConfigurations().get(null===(F=U.policy)||void 0===F?void 0:F.name)?S.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",H,null===(B=U.policy)||void 0===B?void 0:B.name,P.getPolicyConfigurations().get(null===(z=U.policy)||void 0===z?void 0:z.name)):null:S.NC("config.property.empty","Cannot register an empty property")}C.B.add(E.Configuration,P)},12084:(Et,X,e)=>{"use strict";e.d(X,{l:()=>v});var d=e(94667),t=e(15945),l=e(29093),S=e(4259);class v extends t.VV{constructor(C={}){const E=S.B.as(l.IP.Configuration).getConfigurationProperties(),L=Object.keys(E),_=Object.create(null),s=[];for(const m in E){const c=C[m];(0,d.KV)(_,m,void 0!==c?c:E[m].default,a=>console.error(`Conflict in default settings: ${a}`))}for(const m of Object.keys(_))l.eU.test(m)&&s.push({identifiers:(0,l.ny)(m),keys:Object.keys(_[m]),contents:(0,d.Od)(_[m],c=>console.error(`Conflict in default settings file: ${c}`))});super(_,L,s)}}},16468:(Et,X,e)=>{"use strict";e.d(X,{Ao:()=>T,Eq:()=>F,Fb:()=>C,K8:()=>$,SI:()=>s,i6:()=>K,uy:()=>U});var d=e(8841),t=e(73879),l=e(9265);const S=new Map;S.set("false",!1),S.set("true",!0),S.set("isMac",d.dz),S.set("isLinux",d.IJ),S.set("isWindows",d.ED),S.set("isWeb",d.$L),S.set("isMacNative",d.dz&&!d.$L),S.set("isEdge",d.un),S.set("isFirefox",d.vU),S.set("isChrome",d.i7),S.set("isSafari",d.G6);const v=Object.prototype.hasOwnProperty;class T{static has(N){return s.create(N)}static equals(N,V){return m.create(N,V)}static regex(N,V){return w.create(N,V)}static not(N){return p.create(N)}static and(...N){return O.create(N,null)}static or(...N){return H.create(N,null,!0)}static deserialize(N,V=!1){if(N)return this._deserializeOrExpression(N,V)}static _deserializeOrExpression(N,V){const Z=N.split("||");return H.create(Z.map(fe=>this._deserializeAndExpression(fe,V)),null,!0)}static _deserializeAndExpression(N,V){const Z=N.split("&&");return O.create(Z.map(fe=>this._deserializeOne(fe,V)),null)}static _deserializeOne(N,V){if((N=N.trim()).indexOf("!=")>=0){const Z=N.split("!=");return a.create(Z[0].trim(),this._deserializeValue(Z[1],V))}if(N.indexOf("==")>=0){const Z=N.split("==");return m.create(Z[0].trim(),this._deserializeValue(Z[1],V))}if(N.indexOf("=~")>=0){const Z=N.split("=~");return w.create(Z[0].trim(),this._deserializeRegexValue(Z[1],V))}if(N.indexOf(" not in ")>=0){const Z=N.split(" not in ");return n.create(Z[0].trim(),Z[1].trim())}if(N.indexOf(" in ")>=0){const Z=N.split(" in ");return c.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(N)){const Z=N.split(">=");return b.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(N)){const Z=N.split(">");return g.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(N)){const Z=N.split("<=");return D.create(Z[0].trim(),Z[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(N)){const Z=N.split("<");return y.create(Z[0].trim(),Z[1].trim())}return/^\!\s*/.test(N)?p.create(N.substr(1).trim()):s.create(N)}static _deserializeValue(N,V){if("true"===(N=N.trim()))return!0;if("false"===N)return!1;const Z=/^'([^']*)'$/.exec(N);return Z?Z[1].trim():N}static _deserializeRegexValue(N,V){if((0,t.m5)(N)){if(V)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const Z=N.indexOf("/"),fe=N.lastIndexOf("/");if(Z===fe||Z<0){if(V)throw new Error(`bad regexp-value '${N}', missing /-enclosure`);return console.warn(`bad regexp-value '${N}', missing /-enclosure`),null}const M=N.slice(Z+1,fe),Se="i"===N[fe+1]?"i":"";try{return new RegExp(M,Se)}catch(Ee){if(V)throw new Error(`bad regexp-value '${N}', parse error: ${Ee}`);return console.warn(`bad regexp-value '${N}', parse error: ${Ee}`),null}}}function C(ne,N){const V=ne?ne.substituteConstants():void 0,Z=N?N.substituteConstants():void 0;return!V&&!Z||!(!V||!Z)&&V.equals(Z)}function E(ne,N){return ne.cmp(N)}class L{constructor(){this.type=0}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}substituteConstants(){return this}evaluate(N){return!1}serialize(){return"false"}keys(){return[]}negate(){return _.INSTANCE}}L.INSTANCE=new L;class _{constructor(){this.type=1}cmp(N){return this.type-N.type}equals(N){return N.type===this.type}substituteConstants(){return this}evaluate(N){return!0}serialize(){return"true"}keys(){return[]}negate(){return L.INSTANCE}}_.INSTANCE=new _;class s{constructor(N,V){this.key=N,this.negated=V,this.type=2}static create(N,V=null){const Z=S.get(N);return"boolean"==typeof Z?Z?_.INSTANCE:L.INSTANCE:new s(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:B(this.key,N.key)}equals(N){return N.type===this.type&&this.key===N.key}substituteConstants(){const N=S.get(this.key);return"boolean"==typeof N?N?_.INSTANCE:L.INSTANCE:this}evaluate(N){return!!N.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this)),this.negated}}class m{constructor(N,V,Z){this.key=N,this.value=V,this.negated=Z,this.type=4}static create(N,V,Z=null){if("boolean"==typeof V)return V?s.create(N,Z):p.create(N,Z);const fe=S.get(N);return"boolean"==typeof fe?V===(fe?"true":"false")?_.INSTANCE:L.INSTANCE:new m(N,V,Z)}cmp(N){return N.type!==this.type?this.type-N.type:z(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){const N=S.get(this.key);return"boolean"==typeof N?this.value===(N?"true":"false")?_.INSTANCE:L.INSTANCE:this}evaluate(N){return N.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}class c{constructor(N,V){this.key=N,this.valueKey=V,this.type=10,this.negated=null}static create(N,V){return new c(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:z(this.key,this.valueKey,N.key,N.valueKey)}equals(N){return N.type===this.type&&this.key===N.key&&this.valueKey===N.valueKey}substituteConstants(){return this}evaluate(N){const V=N.getValue(this.valueKey),Z=N.getValue(this.key);return Array.isArray(V)?V.includes(Z):"string"==typeof Z&&"object"==typeof V&&null!==V&&v.call(V,Z)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=n.create(this.key,this.valueKey)),this.negated}}class n{constructor(N,V){this.key=N,this.valueKey=V,this.type=11,this._negated=c.create(N,V)}static create(N,V){return new n(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:this._negated.cmp(N._negated)}equals(N){return N.type===this.type&&this._negated.equals(N._negated)}substituteConstants(){return this}evaluate(N){return!this._negated.evaluate(N)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class a{constructor(N,V,Z){this.key=N,this.value=V,this.negated=Z,this.type=5}static create(N,V,Z=null){if("boolean"==typeof V)return V?p.create(N,Z):s.create(N,Z);const fe=S.get(N);return"boolean"==typeof fe?V===(fe?"true":"false")?L.INSTANCE:_.INSTANCE:new a(N,V,Z)}cmp(N){return N.type!==this.type?this.type-N.type:z(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){const N=S.get(this.key);return"boolean"==typeof N?this.value===(N?"true":"false")?L.INSTANCE:_.INSTANCE:this}evaluate(N){return N.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=m.create(this.key,this.value,this)),this.negated}}class p{constructor(N,V){this.key=N,this.negated=V,this.type=3}static create(N,V=null){const Z=S.get(N);return"boolean"==typeof Z?Z?L.INSTANCE:_.INSTANCE:new p(N,V)}cmp(N){return N.type!==this.type?this.type-N.type:B(this.key,N.key)}equals(N){return N.type===this.type&&this.key===N.key}substituteConstants(){const N=S.get(this.key);return"boolean"==typeof N?N?L.INSTANCE:_.INSTANCE:this}evaluate(N){return!N.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=s.create(this.key,this)),this.negated}}function u(ne,N){if("string"==typeof ne){const V=parseFloat(ne);isNaN(V)||(ne=V)}return"string"==typeof ne||"number"==typeof ne?N(ne):L.INSTANCE}class g{constructor(N,V,Z){this.key=N,this.value=V,this.negated=Z,this.type=12}static create(N,V,Z=null){return u(V,fe=>new g(N,fe,Z))}cmp(N){return N.type!==this.type?this.type-N.type:z(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){return this}evaluate(N){return"string"!=typeof this.value&&parseFloat(N.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=D.create(this.key,this.value,this)),this.negated}}class b{constructor(N,V,Z){this.key=N,this.value=V,this.negated=Z,this.type=13}static create(N,V,Z=null){return u(V,fe=>new b(N,fe,Z))}cmp(N){return N.type!==this.type?this.type-N.type:z(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){return this}evaluate(N){return"string"!=typeof this.value&&parseFloat(N.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class y{constructor(N,V,Z){this.key=N,this.value=V,this.negated=Z,this.type=14}static create(N,V,Z=null){return u(V,fe=>new y(N,fe,Z))}cmp(N){return N.type!==this.type?this.type-N.type:z(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){return this}evaluate(N){return"string"!=typeof this.value&&parseFloat(N.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class D{constructor(N,V,Z){this.key=N,this.value=V,this.negated=Z,this.type=15}static create(N,V,Z=null){return u(V,fe=>new D(N,fe,Z))}cmp(N){return N.type!==this.type?this.type-N.type:z(this.key,this.value,N.key,N.value)}equals(N){return N.type===this.type&&this.key===N.key&&this.value===N.value}substituteConstants(){return this}evaluate(N){return"string"!=typeof this.value&&parseFloat(N.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}class w{constructor(N,V){this.key=N,this.regexp=V,this.type=7,this.negated=null}static create(N,V){return new w(N,V)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.key<N.key)return-1;if(this.key>N.key)return 1;const V=this.regexp?this.regexp.source:"",Z=N.regexp?N.regexp.source:"";return V<Z?-1:V>Z?1:0}equals(N){if(N.type===this.type){const V=this.regexp?this.regexp.source:"",Z=N.regexp?N.regexp.source:"";return this.key===N.key&&V===Z}return!1}substituteConstants(){return this}evaluate(N){const V=N.getValue(this.key);return!!this.regexp&&this.regexp.test(V)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this)),this.negated}}class I{constructor(N){this._actual=N,this.type=8}static create(N){return new I(N)}cmp(N){return N.type!==this.type?this.type-N.type:this._actual.cmp(N._actual)}equals(N){return N.type===this.type&&this._actual.equals(N._actual)}substituteConstants(){return this}evaluate(N){return!this._actual.evaluate(N)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function P(ne){let N=null;for(let V=0,Z=ne.length;V<Z;V++){const fe=ne[V].substituteConstants();if(ne[V]!==fe&&null===N){N=[];for(let M=0;M<V;M++)N[M]=ne[M]}null!==N&&(N[V]=fe)}return null===N?ne:N}class O{constructor(N,V){this.expr=N,this.negated=V,this.type=6}static create(N,V){return O._normalizeArr(N,V)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.expr.length<N.expr.length)return-1;if(this.expr.length>N.expr.length)return 1;for(let V=0,Z=this.expr.length;V<Z;V++){const fe=E(this.expr[V],N.expr[V]);if(0!==fe)return fe}return 0}equals(N){if(N.type===this.type){if(this.expr.length!==N.expr.length)return!1;for(let V=0,Z=this.expr.length;V<Z;V++)if(!this.expr[V].equals(N.expr[V]))return!1;return!0}return!1}substituteConstants(){const N=P(this.expr);return N===this.expr?this:O.create(N,this.negated)}evaluate(N){for(let V=0,Z=this.expr.length;V<Z;V++)if(!this.expr[V].evaluate(N))return!1;return!0}static _normalizeArr(N,V){const Z=[];let fe=!1;for(const M of N)if(M){if(1===M.type){fe=!0;continue}if(0===M.type)return L.INSTANCE;if(6===M.type){Z.push(...M.expr);continue}Z.push(M)}if(0===Z.length&&fe)return _.INSTANCE;if(0!==Z.length){if(1===Z.length)return Z[0];Z.sort(E);for(let M=1;M<Z.length;M++)Z[M-1].equals(Z[M])&&(Z.splice(M,1),M--);if(1===Z.length)return Z[0];for(;Z.length>1;){const M=Z[Z.length-1];if(9!==M.type)break;Z.pop();const Se=Z.pop(),Ee=0===Z.length,Le=H.create(M.expr.map(Ne=>O.create([Ne,Se],null)),null,Ee);Le&&(Z.push(Le),Z.sort(E))}return 1===Z.length?Z[0]:new O(Z,V)}}serialize(){return this.expr.map(N=>N.serialize()).join(" && ")}keys(){const N=[];for(const V of this.expr)N.push(...V.keys());return N}negate(){if(!this.negated){const N=[];for(const V of this.expr)N.push(V.negate());this.negated=H.create(N,this,!0)}return this.negated}}class H{constructor(N,V){this.expr=N,this.negated=V,this.type=9}static create(N,V,Z){return H._normalizeArr(N,V,Z)}cmp(N){if(N.type!==this.type)return this.type-N.type;if(this.expr.length<N.expr.length)return-1;if(this.expr.length>N.expr.length)return 1;for(let V=0,Z=this.expr.length;V<Z;V++){const fe=E(this.expr[V],N.expr[V]);if(0!==fe)return fe}return 0}equals(N){if(N.type===this.type){if(this.expr.length!==N.expr.length)return!1;for(let V=0,Z=this.expr.length;V<Z;V++)if(!this.expr[V].equals(N.expr[V]))return!1;return!0}return!1}substituteConstants(){const N=P(this.expr);return N===this.expr?this:H.create(N,this.negated,!1)}evaluate(N){for(let V=0,Z=this.expr.length;V<Z;V++)if(this.expr[V].evaluate(N))return!0;return!1}static _normalizeArr(N,V,Z){let fe=[],M=!1;if(N){for(let Se=0,Ee=N.length;Se<Ee;Se++){const Le=N[Se];if(Le){if(0===Le.type){M=!0;continue}if(1===Le.type)return _.INSTANCE;if(9===Le.type){fe=fe.concat(Le.expr);continue}fe.push(Le)}}if(0===fe.length&&M)return L.INSTANCE;fe.sort(E)}if(0!==fe.length){if(1===fe.length)return fe[0];for(let Se=1;Se<fe.length;Se++)fe[Se-1].equals(fe[Se])&&(fe.splice(Se,1),Se--);if(1===fe.length)return fe[0];if(Z){for(let Se=0;Se<fe.length;Se++)for(let Ee=Se+1;Ee<fe.length;Ee++)$(fe[Se],fe[Ee])&&(fe.splice(Ee,1),Ee--);if(1===fe.length)return fe[0]}return new H(fe,V)}}serialize(){return this.expr.map(N=>N.serialize()).join(" || ")}keys(){const N=[];for(const V of this.expr)N.push(...V.keys());return N}negate(){if(!this.negated){const N=[];for(const V of this.expr)N.push(V.negate());for(;N.length>1;){const V=N.shift(),Z=N.shift(),fe=[];for(const Se of j(V))for(const Ee of j(Z))fe.push(O.create([Se,Ee],null));N.unshift(H.create(fe,null,0===N.length))}this.negated=N[0]}return this.negated}}let U=(()=>{class ne extends s{constructor(V,Z,fe){super(V,null),this._defaultValue=Z,"object"==typeof fe?ne._info.push(Object.assign(Object.assign({},fe),{key:V})):!0!==fe&&ne._info.push({key:V,description:fe,type:null!=Z?typeof Z:void 0})}static all(){return ne._info.values()}bindTo(V){return V.createKey(this.key,this._defaultValue)}getValue(V){return V.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(V){return m.create(this.key,V)}}return ne._info=[],ne})();const K=(0,l.yh)("contextKeyService"),F="setContext";function B(ne,N){return ne<N?-1:ne>N?1:0}function z(ne,N,V,Z){return ne<V?-1:ne>V?1:N<Z?-1:N>Z?1:0}function $(ne,N){if(6===N.type&&9!==ne.type&&6!==ne.type)for(const fe of N.expr)if(ne.equals(fe))return!0;const Z=j(ne.negate()).concat(j(N));Z.sort(E);for(let fe=0;fe<Z.length;fe++){const Se=Z[fe].negate();for(let Ee=fe+1;Ee<Z.length;Ee++)if(Se.equals(Z[Ee]))return!0}return!1}function j(ne){return 9===ne.type?ne.expr:[ne]}},38980:(Et,X,e)=>{"use strict";e.d(X,{cv:()=>T,d0:()=>m,j_:()=>s});var d=e(8841),t=e(55197),l=e(16468);new l.uy("isMac",d.dz,(0,t.NC)("isMac","Whether the operating system is macOS")),new l.uy("isLinux",d.IJ,(0,t.NC)("isLinux","Whether the operating system is Linux"));const T=new l.uy("isWindows",d.ED,(0,t.NC)("isWindows","Whether the operating system is Windows")),s=(new l.uy("isWeb",d.$L,(0,t.NC)("isWeb","Whether the platform is a web browser")),new l.uy("isMacNative",d.dz&&!d.$L,(0,t.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new l.uy("isIOS",d.gn,(0,t.NC)("isIOS","Whether the operating system is iOS")),new l.uy("isDevelopment",!1,!0),new l.uy("productQualityType","",(0,t.NC)("productQualityType","Quality type of VS Code"))),m="inputFocus";new l.uy(m,!1,(0,t.NC)("inputFocus","Whether keyboard focus is inside an input box"))},50703:(Et,X,e)=>{"use strict";e.d(X,{i:()=>l,u:()=>t});var d=e(9265);const t=(0,d.yh)("contextViewService"),l=(0,d.yh)("contextMenuService")},78610:(Et,X,e)=>{"use strict";e.d(X,{S:()=>t});const t=(0,e(9265).yh)("dialogService")},37188:(Et,X,e)=>{"use strict";e.d(X,{Y:()=>t});const t=(0,e(9265).yh)("environmentService")},99775:(Et,X,e)=>{"use strict";e.d(X,{k:()=>d});class d{constructor(l){this.value=l,this._lower=l.toLowerCase()}static toKey(l){return"string"==typeof l?l.toLowerCase():l._lower}}},76613:(Et,X,e)=>{"use strict";e.d(X,{Yb:()=>H,Nq:()=>U,iX:()=>b});var d=e(96841),t=e(98463),l=e(99952),S=e(1689),v=e(5183),T=e(58783),C=e(3778),L=(e(51426),e(55197));const _=L.NC("defaultLabel","input"),s=L.NC("label.preserveCaseToggle","Preserve Case");class m extends l.Z{constructor(F){super({icon:T.lA.preserveCase,title:s+F.appendTitle,isChecked:F.isChecked,inputActiveOptionBorder:F.inputActiveOptionBorder,inputActiveOptionForeground:F.inputActiveOptionForeground,inputActiveOptionBackground:F.inputActiveOptionBackground})}}class c extends v.${constructor(F,B,z,$){super(),this._showOptionButtons=z,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new C.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new C.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new C.Q5),this._onInput=this._register(new C.Q5),this._onKeyUp=this._register(new C.Q5),this._onPreserveCaseKeyDown=this._register(new C.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=B,this.placeholder=$.placeholder||"",this.validation=$.validation,this.label=$.label||_,this.inputActiveOptionBorder=$.inputActiveOptionBorder,this.inputActiveOptionForeground=$.inputActiveOptionForeground,this.inputActiveOptionBackground=$.inputActiveOptionBackground,this.inputBackground=$.inputBackground,this.inputForeground=$.inputForeground,this.inputBorder=$.inputBorder,this.inputValidationInfoBorder=$.inputValidationInfoBorder,this.inputValidationInfoBackground=$.inputValidationInfoBackground,this.inputValidationInfoForeground=$.inputValidationInfoForeground,this.inputValidationWarningBorder=$.inputValidationWarningBorder,this.inputValidationWarningBackground=$.inputValidationWarningBackground,this.inputValidationWarningForeground=$.inputValidationWarningForeground,this.inputValidationErrorBorder=$.inputValidationErrorBorder,this.inputValidationErrorBackground=$.inputValidationErrorBackground,this.inputValidationErrorForeground=$.inputValidationErrorForeground;const j=$.appendPreserveCaseLabel||"",ne=$.history||[],N=!!$.flexibleHeight,V=!!$.flexibleWidth,Z=$.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new S.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:ne,showHistoryHint:$.showHistoryHint,flexibleHeight:N,flexibleWidth:V,flexibleMaxHeight:Z})),this.preserveCase=this._register(new m({appendTitle:j,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(Se=>{this._onDidOptionChange.fire(Se),!Se&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Se=>{this._onPreserveCaseKeyDown.fire(Se)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;const fe=[this.preserveCase.domNode];this.onkeydown(this.domNode,Se=>{if(Se.equals(15)||Se.equals(17)||Se.equals(9)){const Ee=fe.indexOf(document.activeElement);if(Ee>=0){let Le=-1;Se.equals(17)?Le=(Ee+1)%fe.length:Se.equals(15)&&(Le=0===Ee?fe.length-1:Ee-1),Se.equals(9)?(fe[Ee].blur(),this.inputBox.focus()):Le>=0&&fe[Le].focus(),t.zB.stop(Se,!0)}}});const M=document.createElement("div");M.className="controls",M.style.display=this._showOptionButtons?"block":"none",M.appendChild(this.preserveCase.domNode),this.domNode.appendChild(M),F?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Se=>this._onKeyDown.fire(Se)),this.onkeyup(this.inputBox.inputElement,Se=>this._onKeyUp.fire(Se)),this.oninput(this.inputBox.inputElement,Se=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Se=>this._onMouseDown.fire(Se))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(F){F?this.enable():this.disable()}style(F){this.inputActiveOptionBorder=F.inputActiveOptionBorder,this.inputActiveOptionForeground=F.inputActiveOptionForeground,this.inputActiveOptionBackground=F.inputActiveOptionBackground,this.inputBackground=F.inputBackground,this.inputForeground=F.inputForeground,this.inputBorder=F.inputBorder,this.inputValidationInfoBackground=F.inputValidationInfoBackground,this.inputValidationInfoForeground=F.inputValidationInfoForeground,this.inputValidationInfoBorder=F.inputValidationInfoBorder,this.inputValidationWarningBackground=F.inputValidationWarningBackground,this.inputValidationWarningForeground=F.inputValidationWarningForeground,this.inputValidationWarningBorder=F.inputValidationWarningBorder,this.inputValidationErrorBackground=F.inputValidationErrorBackground,this.inputValidationErrorForeground=F.inputValidationErrorForeground,this.inputValidationErrorBorder=F.inputValidationErrorBorder,this.applyStyles()}applyStyles(){this.domNode&&(this.preserveCase.style({inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground}),this.inputBox.style({inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder}))}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(F){this.preserveCase.checked=F}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(F){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=F,this.domNode.style.width=F+"px"}dispose(){super.dispose()}}var n=e(16468),a=e(98915),p=e(80142),u=function(K,F,B,z){var ne,$=arguments.length,j=$<3?F:null===z?z=Object.getOwnPropertyDescriptor(F,B):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(K,F,B,z);else for(var N=K.length-1;N>=0;N--)(ne=K[N])&&(j=($<3?ne(j):$>3?ne(F,B,j):ne(F,B))||j);return $>3&&j&&Object.defineProperty(F,B,j),j},g=function(K,F){return function(B,z){F(B,z,K)}};const b=new n.uy("suggestWidgetVisible",!1,(0,L.NC)("suggestWidgetVisible","Whether suggestion are visible")),y="historyNavigationWidgetFocus",D="historyNavigationForwardsEnabled",w="historyNavigationBackwardsEnabled";let I;const P=[];function O(K,F){if(P.includes(F))throw new Error("Cannot register the same widget multiple times");P.push(F);const B=new p.SL,z=B.add(K.createScoped(F.element)),$=new n.uy(y,!1).bindTo(z),j=new n.uy(D,!0).bindTo(z),ne=new n.uy(w,!0).bindTo(z),N=()=>{$.set(!0),I=F},V=()=>{$.set(!1),I===F&&(I=void 0)};return F.element===document.activeElement&&N(),B.add(F.onDidFocus(()=>N())),B.add(F.onDidBlur(()=>V())),B.add((0,p.OF)(()=>{P.splice(P.indexOf(F),1),V()})),{scopedContextKeyService:z,historyNavigationForwardsEnablement:j,historyNavigationBackwardsEnablement:ne,dispose(){B.dispose()}}}let H=class extends d.V{constructor(F,B,z,$,j=!1){super(F,B,j,z),this._register(O($,this.inputBox))}};H=u([g(3,n.i6)],H);let U=class extends c{constructor(F,B,z,$,j=!1){super(F,B,j,z),this._register(O($,this.inputBox))}};U=u([g(3,n.i6)],U),a.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:n.Ao.and(n.Ao.has(y),n.Ao.equals(w,!0),b.isEqualTo(!1)),primary:16,secondary:[528],handler:K=>{I&&I.showPreviousValue()}}),a.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:n.Ao.and(n.Ao.has(y),n.Ao.equals(D,!0),b.isEqualTo(!1)),primary:18,secondary:[530],handler:K=>{I&&I.showNextValue()}})},81184:(Et,X,e)=>{"use strict";e.d(X,{M:()=>d});class d{constructor(l,S=[],v=!1){this.ctor=l,this.staticArguments=S,this.supportsDelayedInstantiation=v}}},47494:(Et,X,e)=>{"use strict";e.d(X,{d:()=>S,z:()=>l});var d=e(81184);const t=[];function l(v,T,C){T instanceof d.M||(T=new d.M(T,[],C)),t.push([v,T])}function S(){return t}},9265:(Et,X,e)=>{"use strict";var d,v;e.d(X,{I8:()=>d,TG:()=>t,yh:()=>S}),(v=d||(d={})).serviceIds=new Map,v.DI_TARGET="$di$target",v.DI_DEPENDENCIES="$di$dependencies",v.getServiceDependencies=function T(C){return C[v.DI_DEPENDENCIES]||[]};const t=S("instantiationService");function l(v,T,C){T[d.DI_TARGET]===T?T[d.DI_DEPENDENCIES].push({id:v,index:C}):(T[d.DI_DEPENDENCIES]=[{id:v,index:C}],T[d.DI_TARGET]=T)}function S(v){if(d.serviceIds.has(v))return d.serviceIds.get(v);const T=function(C,E,L){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");l(T,C,L)};return T.toString=()=>v,d.serviceIds.set(v,T),T}},62706:(Et,X,e)=>{"use strict";e.d(X,{y:()=>d});class d{constructor(...l){this._entries=new Map;for(const[S,v]of l)this.set(S,v)}set(l,S){const v=this._entries.get(l);return this._entries.set(l,S),v}get(l){return this._entries.get(l)}}},7886:(Et,X,e)=>{"use strict";e.d(X,{I:()=>l});var d=e(3778),t=e(4259);const l={JSONContribution:"base.contributions.json"},T=new class v{constructor(){this._onDidChangeSchema=new d.Q5,this.schemasById={}}registerSchema(E,L){this.schemasById[function S(C){return C.length>0&&"#"===C.charAt(C.length-1)?C.substring(0,C.length-1):C}(E)]=L,this._onDidChangeSchema.fire(E)}notifySchemaChanged(E){this._onDidChangeSchema.fire(E)}};t.B.add(l.JSONContribution,T)},14759:(Et,X,e)=>{"use strict";e.d(X,{d:()=>t});const t=(0,e(9265).yh)("keybindingService")},98915:(Et,X,e)=>{"use strict";e.d(X,{W:()=>T});var d=e(37451),t=e(8841),l=e(66549),S=e(4259);class v{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(_){if(1===t.OS){if(_&&_.win)return _.win}else if(2===t.OS){if(_&&_.mac)return _.mac}else if(_&&_.linux)return _.linux;return _}registerKeybindingRule(_){const s=v.bindToCurrentPlatform(_);if(s&&s.primary){const m=(0,d.gm)(s.primary,t.OS);m&&this._registerDefaultKeybinding(m,_.id,_.args,_.weight,0,_.when)}if(s&&Array.isArray(s.secondary))for(let m=0,c=s.secondary.length;m<c;m++){const a=(0,d.gm)(s.secondary[m],t.OS);a&&this._registerDefaultKeybinding(a,_.id,_.args,_.weight,-m-1,_.when)}}registerCommandAndKeybindingRule(_){this.registerKeybindingRule(_),l.P0.registerCommand(_)}static _mightProduceChar(_){return _>=21&&_<=30||_>=31&&_<=56||80===_||81===_||82===_||83===_||84===_||85===_||86===_||110===_||111===_||87===_||88===_||89===_||90===_||91===_||92===_}_assertNoCtrlAlt(_,s){_.ctrlKey&&_.altKey&&!_.metaKey&&v._mightProduceChar(_.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",_," for ",s)}_registerDefaultKeybinding(_,s,m,c,n,a){1===t.OS&&this._assertNoCtrlAlt(_.parts[0],s),this._coreKeybindings.push({keybinding:_.parts,command:s,commandArgs:m,when:a,weight1:c,weight2:n,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(E)),this._cachedMergedKeybindings.slice(0)}}const T=new v;function E(L,_){if(L.weight1!==_.weight1)return L.weight1-_.weight1;if(L.command&&_.command){if(L.command<_.command)return-1;if(L.command>_.command)return 1}return L.weight2-_.weight2}S.B.add("platform.keybindingsRegistry",T)},17461:(Et,X,e)=>{"use strict";e.d(X,{M:()=>d,Z:()=>t});class d{constructor(S,v,T,C,E,L,_){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=S,this.keypressParts=S?t(S.getDispatchParts()):[],S&&0===this.keypressParts.length&&(this.keypressParts=t(S.getSingleModifierDispatchParts())),this.bubble=!!v&&94===v.charCodeAt(0),this.command=this.bubble?v.substr(1):v,this.commandArgs=T,this.when=C,this.isDefault=E,this.extensionId=L,this.isBuiltinExtension=_}}function t(l){const S=[];for(let v=0,T=l.length;v<T;v++){const C=l[v];if(!C)return S;S.push(C)}return S}},51915:(Et,X,e)=>{"use strict";e.d(X,{j:()=>C});var d=e(53993),t=e(37451),l=e(4125),S=e(11719);class v extends t.f1{constructor(L,_){if(super(),0===_.length)throw(0,l.b1)("parts");this._os=L,this._parts=_}getLabel(){return S.xo.toLabel(this._os,this._parts,L=>this._getLabel(L))}getAriaLabel(){return S.X4.toLabel(this._os,this._parts,L=>this._getAriaLabel(L))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:S.jC.toLabel(this._os,this._parts,L=>this._getElectronAccelerator(L))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(L=>this._getPart(L))}_getPart(L){return new t.BQ(L.ctrlKey,L.shiftKey,L.altKey,L.metaKey,this._getLabel(L),this._getAriaLabel(L))}getDispatchParts(){return this._parts.map(L=>this._getDispatchPart(L))}getSingleModifierDispatchParts(){return this._parts.map(L=>this._getSingleModifierDispatchPart(L))}}var T=e(17461);class C extends v{constructor(L,_){super(_,L.parts)}_keyCodeToUILabel(L){if(2===this._os)switch(L){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return d.kL.toString(L)}_getLabel(L){return L.isDuplicateModifierCase()?"":this._keyCodeToUILabel(L.keyCode)}_getAriaLabel(L){return L.isDuplicateModifierCase()?"":d.kL.toString(L.keyCode)}_getElectronAccelerator(L){return d.kL.toElectronAccelerator(L.keyCode)}_getDispatchPart(L){return C.getDispatchStr(L)}static getDispatchStr(L){if(L.isModifierKey())return null;let _="";return L.ctrlKey&&(_+="ctrl+"),L.shiftKey&&(_+="shift+"),L.altKey&&(_+="alt+"),L.metaKey&&(_+="meta+"),_+=d.kL.toString(L.keyCode),_}_getSingleModifierDispatchPart(L){return 5!==L.keyCode||L.shiftKey||L.altKey||L.metaKey?4!==L.keyCode||L.ctrlKey||L.altKey||L.metaKey?6!==L.keyCode||L.ctrlKey||L.shiftKey||L.metaKey?57!==L.keyCode||L.ctrlKey||L.shiftKey||L.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(L){const _=d.Vd[L];if(-1!==_)return _;switch(L){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(L){if(!L)return null;if(L instanceof t.QC)return L;const _=this._scanCodeToKeyCode(L.scanCode);return 0===_?null:new t.QC(L.ctrlKey,L.shiftKey,L.altKey,L.metaKey,_)}static resolveUserBinding(L,_){const s=(0,T.Z)(L.map(m=>this._resolveSimpleUserBinding(m)));return s.length>0?[new C(new t.X_(s),_)]:[]}}},57585:(Et,X,e)=>{"use strict";e.d(X,{e:()=>t});const t=(0,e(9265).yh)("labelService")},67021:(Et,X,e)=>{"use strict";e.d(X,{F:()=>t});const t=(0,e(9265).yh)("layoutService")},27299:(Et,X,e)=>{"use strict";e.d(X,{Lw:()=>vo,XN:()=>Oo,ls:()=>Ot,ev:()=>Xe,CQ:()=>kt,PS:()=>sn,uJ:()=>xn});var d=e(98463),t=e(64023),l=e(73888),S=e(3778),v=e(80142),C=(e(57948),e(25478));class E{constructor(ee,Ie){this.renderer=ee,this.modelProvider=Ie}get templateId(){return this.renderer.templateId}renderTemplate(ee){return{data:this.renderer.renderTemplate(ee),disposable:v.JT.None}}renderElement(ee,Ie,rt,$t){if(rt.disposable&&rt.disposable.dispose(),!rt.data)return;const cn=this.modelProvider();if(cn.isResolved(ee))return this.renderer.renderElement(cn.get(ee),ee,rt.data,$t);const Ln=new l.A,In=cn.resolve(ee,Ln.token);rt.disposable={dispose:()=>Ln.cancel()},this.renderer.renderPlaceholder(ee,rt.data),In.then(ni=>this.renderer.renderElement(ni,ee,rt.data,$t))}disposeTemplate(ee){ee.disposable&&(ee.disposable.dispose(),ee.disposable=void 0),ee.data&&(this.renderer.disposeTemplate(ee.data),ee.data=void 0)}}class L{constructor(ee,Ie){this.modelProvider=ee,this.accessibilityProvider=Ie}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(ee){const Ie=this.modelProvider();return Ie.isResolved(ee)?this.accessibilityProvider.getAriaLabel(Ie.get(ee)):null}}class s{constructor(ee,Ie,rt,$t,cn={}){const Ln=()=>this.model,In=$t.map(ni=>new E(ni,Ln));this.list=new C.aV(ee,Ie,rt,In,function _(Mt,ee){return Object.assign(Object.assign({},ee),{accessibilityProvider:ee.accessibilityProvider&&new L(Mt,ee.accessibilityProvider)})}(Ln,cn))}updateOptions(ee){this.list.updateOptions(ee)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return S.ju.map(this.list.onMouseDblClick,({element:ee,index:Ie,browserEvent:rt})=>({element:void 0===ee?void 0:this._model.get(ee),index:Ie,browserEvent:rt}))}get onPointer(){return S.ju.map(this.list.onPointer,({element:ee,index:Ie,browserEvent:rt})=>({element:void 0===ee?void 0:this._model.get(ee),index:Ie,browserEvent:rt}))}get onDidChangeSelection(){return S.ju.map(this.list.onDidChangeSelection,({elements:ee,indexes:Ie,browserEvent:rt})=>({elements:ee.map($t=>this._model.get($t)),indexes:Ie,browserEvent:rt}))}get model(){return this._model}set model(ee){this._model=ee,this.list.splice(0,this.list.length,(0,t.w6)(ee.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(ee=>this.model.get(ee))}style(ee){this.list.style(ee)}dispose(){this.list.dispose()}}var m=e(93656),c=e(57856),n=e.n(c),a=e(38470),p=e.n(a),u=e(43370),g=e.n(u),b=e(28458),y=e.n(b),D=e(71278),w=e.n(D),I=e(29488),P=e.n(I),O=e(95957),H={};H.styleTagTransform=P(),H.setAttributes=y(),H.insert=g().bind(null,"head"),H.domAPI=p(),H.insertStyleElement=w(),n()(O.Z,H);let F=(()=>{class Mt{constructor(Ie,rt,$t){this.columns=Ie,this.getColumnSize=$t,this.templateId=Mt.TemplateId,this.renderedTemplates=new Set;const cn=new Map(rt.map(Ln=>[Ln.templateId,Ln]));this.renderers=[];for(const Ln of Ie){const In=cn.get(Ln.templateId);if(!In)throw new Error(`Table cell renderer for template id ${Ln.templateId} not found.`);this.renderers.push(In)}}renderTemplate(Ie){const rt=(0,d.R3)(Ie,(0,d.$)(".monaco-table-tr")),$t=[],cn=[];for(let In=0;In<this.columns.length;In++){const ni=this.renderers[In],Jn=(0,d.R3)(rt,(0,d.$)(".monaco-table-td",{"data-col-index":In}));Jn.style.width=`${this.getColumnSize(In)}px`,$t.push(Jn),cn.push(ni.renderTemplate(Jn))}const Ln={container:Ie,cellContainers:$t,cellTemplateData:cn};return this.renderedTemplates.add(Ln),Ln}renderElement(Ie,rt,$t,cn){for(let Ln=0;Ln<this.columns.length;Ln++){const ni=this.columns[Ln].project(Ie);this.renderers[Ln].renderElement(ni,rt,$t.cellTemplateData[Ln],cn)}}disposeElement(Ie,rt,$t,cn){for(let Ln=0;Ln<this.columns.length;Ln++){const In=this.renderers[Ln];if(In.disposeElement){const Jn=this.columns[Ln].project(Ie);In.disposeElement(Jn,rt,$t.cellTemplateData[Ln],cn)}}}disposeTemplate(Ie){for(let rt=0;rt<this.columns.length;rt++)this.renderers[rt].disposeTemplate(Ie.cellTemplateData[rt]);(0,d.PO)(Ie.container),this.renderedTemplates.delete(Ie)}layoutColumn(Ie,rt){for(const{cellContainers:$t}of this.renderedTemplates)$t[Ie].style.width=`${rt}px`}}return Mt.TemplateId="row",Mt})();class z{constructor(ee,Ie){this.column=ee,this.index=Ie,this._onDidLayout=new S.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,d.$)(".monaco-table-th",{"data-col-index":Ie,title:ee.tooltip},ee.label)}get minimumSize(){var ee;return null!==(ee=this.column.minimumWidth)&&void 0!==ee?ee:120}get maximumSize(){var ee;return null!==(ee=this.column.maximumWidth)&&void 0!==ee?ee:Number.POSITIVE_INFINITY}get onDidChange(){var ee;return null!==(ee=this.column.onDidChangeWidthConstraints)&&void 0!==ee?ee:S.ju.None}layout(ee){this._onDidLayout.fire([this.index,ee])}}let $=(()=>{class Mt{constructor(Ie,rt,$t,cn,Ln,In){this.virtualDelegate=$t,this.domId="table_id_"+ ++Mt.InstanceCount,this.disposables=new v.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,d.R3)(rt,(0,d.$)(`.monaco-table.${this.domId}`));const ni=cn.map((vi,bi)=>new z(vi,bi)),Jn={size:ni.reduce((vi,bi)=>vi+bi.column.weight,0),views:ni.map(vi=>({size:vi.column.weight,view:vi}))};this.splitview=this.disposables.add(new m.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:Jn})),this.splitview.el.style.height=`${$t.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${$t.headerRowHeight}px`;const gi=new F(cn,Ln,vi=>this.splitview.getViewSize(vi));this.list=this.disposables.add(new C.aV(Ie,this.domNode,function B(Mt){return{getHeight:ee=>Mt.getHeight(ee),getTemplateId:()=>F.TemplateId}}($t),[gi],In)),S.ju.any(...ni.map(vi=>vi.onDidLayout))(([vi,bi])=>gi.layoutColumn(vi,bi),null,this.disposables),this.splitview.onDidSashReset(vi=>{const bi=cn.reduce((Wi,Yi)=>Wi+Yi.weight,0);this.splitview.resizeView(vi,cn[vi].weight/bi*this.cachedWidth)},null,this.disposables),this.styleElement=(0,d.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(Ie){this.list.updateOptions(Ie)}splice(Ie,rt,$t=[]){this.list.splice(Ie,rt,$t)}getHTMLElement(){return this.domNode}style(Ie){const rt=[];rt.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=rt.join("\n"),this.list.style(Ie)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return Mt.InstanceCount=0,Mt})();e(75366);var ne=e(41140),Z=(e(65065),e(96841),e(66127)),M=(e(99952),(()=>{return(Mt=M||(M={}))[Mt.Unknown=0]="Unknown",Mt[Mt.Twistie=1]="Twistie",Mt[Mt.Element=2]="Element",Mt[Mt.Filter=3]="Filter",M;var Mt})());class Se extends Error{constructor(ee,Ie){super(`TreeError [${ee}] ${Ie}`)}}class Ee{constructor(ee){this.fn=ee,this._map=new WeakMap}map(ee){let Ie=this._map.get(ee);return Ie||(Ie=this.fn(ee),this._map.set(ee,Ie)),Ie}}var Le=e(48648),Ne=e(52237),oe=e(1999);function we(Mt){return"object"==typeof Mt&&"visibility"in Mt&&"data"in Mt}function xe(Mt){switch(Mt){case!0:return 1;case!1:return 0;default:return Mt}}function pe(Mt){return"boolean"==typeof Mt.collapsible}class Te{constructor(ee,Ie,rt,$t={}){this.user=ee,this.list=Ie,this.rootRef=[],this.eventBufferer=new S.E7,this._onDidChangeCollapseState=new S.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new S.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new S.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new Le.vp(Le.ne),this.collapseByDefault=!(typeof $t.collapseByDefault>"u")&&$t.collapseByDefault,this.filter=$t.filter,this.autoExpandSingleChildren=!(typeof $t.autoExpandSingleChildren>"u")&&$t.autoExpandSingleChildren,this.root={parent:void 0,element:rt,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(ee,Ie,rt=oe.$.empty(),$t={}){if(0===ee.length)throw new Se(this.user,"Invalid tree location");$t.diffIdentityProvider?this.spliceSmart($t.diffIdentityProvider,ee,Ie,rt,$t):this.spliceSimple(ee,Ie,rt,$t)}spliceSmart(ee,Ie,rt,$t,cn,Ln){var In;void 0===$t&&($t=oe.$.empty()),void 0===Ln&&(Ln=null!==(In=cn.diffDepth)&&void 0!==In?In:0);const{parentNode:ni}=this.getParentNodeWithListIndex(Ie);if(!ni.lastDiffIds)return this.spliceSimple(Ie,rt,$t,cn);const Jn=[...$t],gi=Ie[Ie.length-1],vi=new Ne.Hs({getElements:()=>ni.lastDiffIds},{getElements:()=>[...ni.children.slice(0,gi),...Jn,...ni.children.slice(gi+rt)].map($i=>ee.getId($i.element).toString())}).ComputeDiff(!1);if(vi.quitEarly)return ni.lastDiffIds=void 0,this.spliceSimple(Ie,rt,Jn,cn);const bi=Ie.slice(0,-1),Pi=($i,Co,Ho)=>{if(Ln>0)for(let Ro=0;Ro<Ho;Ro++)$i--,Co--,this.spliceSmart(ee,[...bi,$i,0],Number.MAX_SAFE_INTEGER,Jn[Co].children,cn,Ln-1)};let Wi=Math.min(ni.children.length,gi+rt),Yi=Jn.length;for(const $i of vi.changes.sort((Co,Ho)=>Ho.originalStart-Co.originalStart))Pi(Wi,Yi,Wi-($i.originalStart+$i.originalLength)),Wi=$i.originalStart,Yi=$i.modifiedStart-gi,this.spliceSimple([...bi,Wi],$i.originalLength,oe.$.slice(Jn,Yi,Yi+$i.modifiedLength),cn);Pi(Wi,Yi,Wi)}spliceSimple(ee,Ie,rt=oe.$.empty(),{onDidCreateNode:$t,onDidDeleteNode:cn,diffIdentityProvider:Ln}){const{parentNode:In,listIndex:ni,revealed:Jn,visible:gi}=this.getParentNodeWithListIndex(ee),vi=[],bi=oe.$.map(rt,Yo=>this.createTreeNode(Yo,In,In.visible?1:0,Jn,vi,$t)),Pi=ee[ee.length-1],Wi=In.children.length>0;let Yi=0;for(let Yo=Pi;Yo>=0&&Yo<In.children.length;Yo--){const Ko=In.children[Yo];if(Ko.visible){Yi=Ko.visibleChildIndex;break}}const $i=[];let Co=0,Ho=0;for(const Yo of bi)$i.push(Yo),Ho+=Yo.renderNodeCount,Yo.visible&&(Yo.visibleChildIndex=Yi+Co++);const Ro=(0,t.db)(In.children,Pi,Ie,$i);Ln?In.lastDiffIds?(0,t.db)(In.lastDiffIds,Pi,Ie,$i.map(Yo=>Ln.getId(Yo.element).toString())):In.lastDiffIds=In.children.map(Yo=>Ln.getId(Yo.element).toString()):In.lastDiffIds=void 0;let is=0;for(const Yo of Ro)Yo.visible&&is++;if(0!==is)for(let Yo=Pi+$i.length;Yo<In.children.length;Yo++){const Ko=In.children[Yo];Ko.visible&&(Ko.visibleChildIndex-=is)}if(In.visibleChildrenCount+=Co-is,Jn&&gi){const Yo=Ro.reduce((Ko,Nr)=>Ko+(Nr.visible?Nr.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(In,Ho-Yo),this.list.splice(ni,Yo,vi)}if(Ro.length>0&&cn){const Yo=Ko=>{cn(Ko),Ko.children.forEach(Yo)};Ro.forEach(Yo)}this._onDidSplice.fire({insertedNodes:$i,deletedNodes:Ro});const nr=In.children.length>0;Wi!==nr&&this.setCollapsible(ee.slice(0,-1),nr);let Ls=In;for(;Ls;){if(2===Ls.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}Ls=Ls.parent}}rerender(ee){if(0===ee.length)throw new Se(this.user,"Invalid tree location");const{node:Ie,listIndex:rt,revealed:$t}=this.getTreeNodeWithListIndex(ee);Ie.visible&&$t&&this.list.splice(rt,1,[Ie])}has(ee){return this.hasTreeNode(ee)}getListIndex(ee){const{listIndex:Ie,visible:rt,revealed:$t}=this.getTreeNodeWithListIndex(ee);return rt&&$t?Ie:-1}getListRenderCount(ee){return this.getTreeNode(ee).renderNodeCount}isCollapsible(ee){return this.getTreeNode(ee).collapsible}setCollapsible(ee,Ie){const rt=this.getTreeNode(ee);typeof Ie>"u"&&(Ie=!rt.collapsible);const $t={collapsible:Ie};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(ee,$t))}isCollapsed(ee){return this.getTreeNode(ee).collapsed}setCollapsed(ee,Ie,rt){const $t=this.getTreeNode(ee);typeof Ie>"u"&&(Ie=!$t.collapsed);const cn={collapsed:Ie,recursive:rt||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(ee,cn))}_setCollapseState(ee,Ie){const{node:rt,listIndex:$t,revealed:cn}=this.getTreeNodeWithListIndex(ee),Ln=this._setListNodeCollapseState(rt,$t,cn,Ie);if(rt!==this.root&&this.autoExpandSingleChildren&&Ln&&!pe(Ie)&&rt.collapsible&&!rt.collapsed&&!Ie.recursive){let In=-1;for(let ni=0;ni<rt.children.length;ni++)if(rt.children[ni].visible){if(In>-1){In=-1;break}In=ni}In>-1&&this._setCollapseState([...ee,In],Ie)}return Ln}_setListNodeCollapseState(ee,Ie,rt,$t){const cn=this._setNodeCollapseState(ee,$t,!1);if(!rt||!ee.visible||!cn)return cn;const Ln=ee.renderNodeCount,In=this.updateNodeAfterCollapseChange(ee);return this.list.splice(Ie+1,Ln-(-1===Ie?0:1),In.slice(1)),cn}_setNodeCollapseState(ee,Ie,rt){let $t;if(ee===this.root?$t=!1:(pe(Ie)?($t=ee.collapsible!==Ie.collapsible,ee.collapsible=Ie.collapsible):ee.collapsible?($t=ee.collapsed!==Ie.collapsed,ee.collapsed=Ie.collapsed):$t=!1,$t&&this._onDidChangeCollapseState.fire({node:ee,deep:rt})),!pe(Ie)&&Ie.recursive)for(const cn of ee.children)$t=this._setNodeCollapseState(cn,Ie,!0)||$t;return $t}expandTo(ee){this.eventBufferer.bufferEvents(()=>{let Ie=this.getTreeNode(ee);for(;Ie.parent;)Ie=Ie.parent,ee=ee.slice(0,ee.length-1),Ie.collapsed&&this._setCollapseState(ee,{collapsed:!1,recursive:!1})})}refilter(){const ee=this.root.renderNodeCount,Ie=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,ee,Ie),this.refilterDelayer.cancel()}createTreeNode(ee,Ie,rt,$t,cn,Ln){const In={parent:Ie,element:ee.element,children:[],depth:Ie.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof ee.collapsible?ee.collapsible:typeof ee.collapsed<"u",collapsed:typeof ee.collapsed>"u"?this.collapseByDefault:ee.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},ni=this._filterNode(In,rt);In.visibility=ni,$t&&cn.push(In);const Jn=ee.children||oe.$.empty(),gi=$t&&0!==ni&&!In.collapsed,vi=oe.$.map(Jn,Wi=>this.createTreeNode(Wi,In,ni,gi,cn,Ln));let bi=0,Pi=1;for(const Wi of vi)In.children.push(Wi),Pi+=Wi.renderNodeCount,Wi.visible&&(Wi.visibleChildIndex=bi++);return In.collapsible=In.collapsible||In.children.length>0,In.visibleChildrenCount=bi,In.visible=2===ni?bi>0:1===ni,In.visible?In.collapsed||(In.renderNodeCount=Pi):(In.renderNodeCount=0,$t&&cn.pop()),Ln?.(In),In}updateNodeAfterCollapseChange(ee){const Ie=ee.renderNodeCount,rt=[];return this._updateNodeAfterCollapseChange(ee,rt),this._updateAncestorsRenderNodeCount(ee.parent,rt.length-Ie),rt}_updateNodeAfterCollapseChange(ee,Ie){if(!1===ee.visible)return 0;if(Ie.push(ee),ee.renderNodeCount=1,!ee.collapsed)for(const rt of ee.children)ee.renderNodeCount+=this._updateNodeAfterCollapseChange(rt,Ie);return this._onDidChangeRenderNodeCount.fire(ee),ee.renderNodeCount}updateNodeAfterFilterChange(ee){const Ie=ee.renderNodeCount,rt=[];return this._updateNodeAfterFilterChange(ee,ee.visible?1:0,rt),this._updateAncestorsRenderNodeCount(ee.parent,rt.length-Ie),rt}_updateNodeAfterFilterChange(ee,Ie,rt,$t=!0){let cn;if(ee!==this.root){if(cn=this._filterNode(ee,Ie),0===cn)return ee.visible=!1,ee.renderNodeCount=0,!1;$t&&rt.push(ee)}const Ln=rt.length;ee.renderNodeCount=ee===this.root?0:1;let In=!1;if(ee.collapsed&&0===cn)ee.visibleChildrenCount=0;else{let ni=0;for(const Jn of ee.children)In=this._updateNodeAfterFilterChange(Jn,cn,rt,$t&&!ee.collapsed)||In,Jn.visible&&(Jn.visibleChildIndex=ni++);ee.visibleChildrenCount=ni}return ee!==this.root&&(ee.visible=2===cn?In:1===cn,ee.visibility=cn),ee.visible?ee.collapsed||(ee.renderNodeCount+=rt.length-Ln):(ee.renderNodeCount=0,$t&&rt.pop()),this._onDidChangeRenderNodeCount.fire(ee),ee.visible}_updateAncestorsRenderNodeCount(ee,Ie){if(0!==Ie)for(;ee;)ee.renderNodeCount+=Ie,this._onDidChangeRenderNodeCount.fire(ee),ee=ee.parent}_filterNode(ee,Ie){const rt=this.filter?this.filter.filter(ee.element,Ie):1;return"boolean"==typeof rt?(ee.filterData=void 0,rt?1:0):we(rt)?(ee.filterData=rt.data,xe(rt.visibility)):(ee.filterData=void 0,xe(rt))}hasTreeNode(ee,Ie=this.root){if(!ee||0===ee.length)return!0;const[rt,...$t]=ee;return!(rt<0||rt>Ie.children.length)&&this.hasTreeNode($t,Ie.children[rt])}getTreeNode(ee,Ie=this.root){if(!ee||0===ee.length)return Ie;const[rt,...$t]=ee;if(rt<0||rt>Ie.children.length)throw new Se(this.user,"Invalid tree location");return this.getTreeNode($t,Ie.children[rt])}getTreeNodeWithListIndex(ee){if(0===ee.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:Ie,listIndex:rt,revealed:$t,visible:cn}=this.getParentNodeWithListIndex(ee),Ln=ee[ee.length-1];if(Ln<0||Ln>Ie.children.length)throw new Se(this.user,"Invalid tree location");const In=Ie.children[Ln];return{node:In,listIndex:rt,revealed:$t,visible:cn&&In.visible}}getParentNodeWithListIndex(ee,Ie=this.root,rt=0,$t=!0,cn=!0){const[Ln,...In]=ee;if(Ln<0||Ln>Ie.children.length)throw new Se(this.user,"Invalid tree location");for(let ni=0;ni<Ln;ni++)rt+=Ie.children[ni].renderNodeCount;return $t=$t&&!Ie.collapsed,cn=cn&&Ie.visible,0===In.length?{parentNode:Ie,listIndex:rt,revealed:$t,visible:cn}:this.getParentNodeWithListIndex(In,Ie.children[Ln],rt+1,$t,cn)}getNode(ee=[]){return this.getTreeNode(ee)}getNodeLocation(ee){const Ie=[];let rt=ee;for(;rt.parent;)Ie.push(rt.parent.children.indexOf(rt)),rt=rt.parent;return Ie.reverse()}getParentNodeLocation(ee){if(0!==ee.length)return 1===ee.length?[]:(0,t.JH)(ee)[0]}getFirstElementChild(ee){const Ie=this.getTreeNode(ee);if(0!==Ie.children.length)return Ie.children[0].element}}e(827);var ke=e(58783);class ze{constructor(){this.map=new Map}add(ee,Ie){let rt=this.map.get(ee);rt||(rt=new Set,this.map.set(ee,rt)),rt.add(Ie)}delete(ee,Ie){const rt=this.map.get(ee);!rt||(rt.delete(Ie),0===rt.size&&this.map.delete(ee))}forEach(ee,Ie){const rt=this.map.get(ee);!rt||rt.forEach(Ie)}}var $e=e(25715),ce=e(73455),Ue=e(72715),nt=e(19114),Dt={};Dt.styleTagTransform=P(),Dt.setAttributes=y(),Dt.insert=g().bind(null,"head"),Dt.domAPI=p(),Dt.insertStyleElement=w(),n()(nt.Z,Dt);var ae=e(55197);class he extends Z.kX{constructor(ee){super(ee.elements.map(Ie=>Ie.element)),this.data=ee}}function le(Mt){return Mt instanceof Z.kX?new he(Mt):Mt}class Q{constructor(ee,Ie){this.modelProvider=ee,this.dnd=Ie,this.autoExpandDisposable=v.JT.None}getDragURI(ee){return this.dnd.getDragURI(ee.element)}getDragLabel(ee,Ie){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ee.map(rt=>rt.element),Ie)}onDragStart(ee,Ie){var rt,$t;null===($t=(rt=this.dnd).onDragStart)||void 0===$t||$t.call(rt,le(ee),Ie)}onDragOver(ee,Ie,rt,$t,cn=!0){const Ln=this.dnd.onDragOver(le(ee),Ie&&Ie.element,rt,$t),In=this.autoExpandNode!==Ie;if(In&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=Ie),typeof Ie>"u")return Ln;if(In&&"boolean"!=typeof Ln&&Ln.autoExpand&&(this.autoExpandDisposable=(0,Le.Vg)(()=>{const bi=this.modelProvider(),Pi=bi.getNodeLocation(Ie);bi.isCollapsed(Pi)&&bi.setCollapsed(Pi,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof Ln||!Ln.accept||typeof Ln.bubble>"u"||Ln.feedback)return cn?Ln:{accept:"boolean"==typeof Ln?Ln:Ln.accept,effect:"boolean"==typeof Ln?void 0:Ln.effect,feedback:[rt]};if(1===Ln.bubble){const bi=this.modelProvider(),Pi=bi.getNodeLocation(Ie),Wi=bi.getParentNodeLocation(Pi),Yi=bi.getNode(Wi),$i=Wi&&bi.getListIndex(Wi);return this.onDragOver(ee,Yi,$i,$t,!1)}const ni=this.modelProvider(),Jn=ni.getNodeLocation(Ie),gi=ni.getListIndex(Jn),vi=ni.getListRenderCount(Jn);return Object.assign(Object.assign({},Ln),{feedback:(0,t.w6)(gi,gi+vi)})}drop(ee,Ie,rt,$t){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(le(ee),Ie&&Ie.element,rt,$t)}onDragEnd(ee){var Ie,rt;null===(rt=(Ie=this.dnd).onDragEnd)||void 0===rt||rt.call(Ie,ee)}}class Ae{constructor(ee){this.delegate=ee}getHeight(ee){return this.delegate.getHeight(ee.element)}getTemplateId(ee){return this.delegate.getTemplateId(ee.element)}hasDynamicHeight(ee){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(ee.element)}setDynamicHeight(ee,Ie){var rt,$t;null===($t=(rt=this.delegate).setDynamicHeight)||void 0===$t||$t.call(rt,ee.element,Ie)}}var dt=(()=>{return(Mt=dt||(dt={})).None="none",Mt.OnHover="onHover",Mt.Always="always",dt;var Mt})();class st{constructor(ee,Ie=[]){this._elements=Ie,this.disposables=new v.SL,this.onDidChange=S.ju.forEach(ee,rt=>this._elements=rt,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}let et=(()=>{class Mt{constructor(Ie,rt,$t,cn,Ln={}){var In;this.renderer=Ie,this.modelProvider=rt,this.activeNodes=cn,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Mt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new ze,this.activeIndentNodes=new Set,this.indentGuidesDisposable=v.JT.None,this.disposables=new v.SL,this.templateId=Ie.templateId,this.updateOptions(Ln),S.ju.map($t,ni=>ni.node)(this.onDidChangeNodeTwistieState,this,this.disposables),null===(In=Ie.onDidChangeTwistieState)||void 0===In||In.call(Ie,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(Ie={}){if(typeof Ie.indent<"u"&&(this.indent=(0,ce.uZ)(Ie.indent,0,40)),typeof Ie.renderIndentGuides<"u"){const rt=Ie.renderIndentGuides!==dt.None;if(rt!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=rt,this.indentGuidesDisposable.dispose(),rt)){const $t=new v.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,$t),this.indentGuidesDisposable=$t,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof Ie.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=Ie.hideTwistiesOfChildlessElements)}renderTemplate(Ie){const rt=(0,d.R3)(Ie,(0,d.$)(".monaco-tl-row")),$t=(0,d.R3)(rt,(0,d.$)(".monaco-tl-indent")),cn=(0,d.R3)(rt,(0,d.$)(".monaco-tl-twistie")),Ln=(0,d.R3)(rt,(0,d.$)(".monaco-tl-contents")),In=this.renderer.renderTemplate(Ln);return{container:Ie,indent:$t,twistie:cn,indentGuidesDisposable:v.JT.None,templateData:In}}renderElement(Ie,rt,$t,cn){"number"==typeof cn&&(this.renderedNodes.set(Ie,{templateData:$t,height:cn}),this.renderedElements.set(Ie.element,Ie));const Ln=Mt.DefaultIndent+(Ie.depth-1)*this.indent;$t.twistie.style.paddingLeft=`${Ln}px`,$t.indent.style.width=Ln+this.indent-16+"px",this.renderTwistie(Ie,$t),"number"==typeof cn&&this.renderIndentGuides(Ie,$t),this.renderer.renderElement(Ie,rt,$t.templateData,cn)}disposeElement(Ie,rt,$t,cn){var Ln,In;$t.indentGuidesDisposable.dispose(),null===(In=(Ln=this.renderer).disposeElement)||void 0===In||In.call(Ln,Ie,rt,$t.templateData,cn),"number"==typeof cn&&(this.renderedNodes.delete(Ie),this.renderedElements.delete(Ie.element))}disposeTemplate(Ie){this.renderer.disposeTemplate(Ie.templateData)}onDidChangeTwistieState(Ie){const rt=this.renderedElements.get(Ie);!rt||this.onDidChangeNodeTwistieState(rt)}onDidChangeNodeTwistieState(Ie){const rt=this.renderedNodes.get(Ie);!rt||(this.renderTwistie(Ie,rt.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(Ie,rt.templateData))}renderTwistie(Ie,rt){rt.twistie.classList.remove(...ke.lA.treeItemExpanded.classNamesArray);let $t=!1;this.renderer.renderTwistie&&($t=this.renderer.renderTwistie(Ie.element,rt.twistie)),Ie.collapsible&&(!this.hideTwistiesOfChildlessElements||Ie.visibleChildrenCount>0)?($t||rt.twistie.classList.add(...ke.lA.treeItemExpanded.classNamesArray),rt.twistie.classList.add("collapsible"),rt.twistie.classList.toggle("collapsed",Ie.collapsed)):rt.twistie.classList.remove("collapsible","collapsed"),Ie.collapsible?rt.container.setAttribute("aria-expanded",String(!Ie.collapsed)):rt.container.removeAttribute("aria-expanded")}renderIndentGuides(Ie,rt){if((0,d.PO)(rt.indent),rt.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const $t=new v.SL,cn=this.modelProvider();let Ln=Ie;for(;;){const In=cn.getNodeLocation(Ln),ni=cn.getParentNodeLocation(In);if(!ni)break;const Jn=cn.getNode(ni),gi=(0,d.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Jn)&&gi.classList.add("active"),0===rt.indent.childElementCount?rt.indent.appendChild(gi):rt.indent.insertBefore(gi,rt.indent.firstElementChild),this.renderedIndentGuides.add(Jn,gi),$t.add((0,v.OF)(()=>this.renderedIndentGuides.delete(Jn,gi))),Ln=Jn}rt.indentGuidesDisposable=$t}_onDidChangeActiveNodes(Ie){if(!this.shouldRenderIndentGuides)return;const rt=new Set,$t=this.modelProvider();Ie.forEach(cn=>{const Ln=$t.getNodeLocation(cn);try{const In=$t.getParentNodeLocation(Ln);cn.collapsible&&cn.children.length>0&&!cn.collapsed?rt.add(cn):In&&rt.add($t.getNode(In))}catch{}}),this.activeIndentNodes.forEach(cn=>{rt.has(cn)||this.renderedIndentGuides.forEach(cn,Ln=>Ln.classList.remove("active"))}),rt.forEach(cn=>{this.activeIndentNodes.has(cn)||this.renderedIndentGuides.forEach(cn,Ln=>Ln.classList.add("active"))}),this.activeIndentNodes=rt}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,v.B9)(this.disposables)}}return Mt.DefaultIndent=8,Mt})();class Qe{constructor(ee,Ie,rt){this.tree=ee,this.keyboardNavigationLabelProvider=Ie,this._filter=rt,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new v.SL,ee.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(ee,Ie){let rt=1;if(this._filter){const Ln=this._filter.filter(ee,Ie);if(rt="boolean"==typeof Ln?Ln?1:0:we(Ln)?xe(Ln.visibility):Ln,0===rt)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:$e.CL.Default,visibility:rt};const $t=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ee),cn=Array.isArray($t)?$t:[$t];for(const Ln of cn){const In=Ln&&Ln.toString();if(typeof In>"u")return{data:$e.CL.Default,visibility:rt};const ni=(0,$e.EW)(this._pattern,this._lowercasePattern,0,In,In.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ni)return this._matchCount++,1===cn.length?{data:ni,visibility:rt}:{data:{label:In,score:ni},visibility:rt}}return this.tree.findMode===vt.Filter?2:{data:$e.CL.Default,visibility:rt}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,v.B9)(this.disposables)}}var vt=(()=>{return(Mt=vt||(vt={}))[Mt.Highlight=0]="Highlight",Mt[Mt.Filter=1]="Filter",vt;var Mt})();class _t{constructor(ee,Ie,rt,$t,cn){var Ln;this.tree=ee,this.view=rt,this.filter=$t,this.contextViewProvider=cn,this._pattern="",this.width=0,this._onDidChangeMode=new S.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new S.Q5,this._onDidChangeOpenState=new S.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new v.SL,this.disposables=new v.SL,this._mode=null!==(Ln=ee.options.defaultFindMode)&&void 0!==Ln?Ln:vt.Highlight,Ie.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(ee){ee!==this._mode&&(this._mode=ee,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(ee))}onDidSpliceModel(){!this.widget||0===this.pattern.length||(this.tree.refilter(),this.render())}render(){var ee,Ie;this.pattern&&this.filter.totalCount>0&&0===this.filter.matchCount?null===(ee=this.widget)||void 0===ee||ee.showMessage({type:2,content:(0,ae.NC)("not found","No elements found.")}):null===(Ie=this.widget)||void 0===Ie||Ie.clearMessage()}shouldAllowFocus(ee){return!this.widget||!this.pattern||this._mode===vt.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1||!$e.CL.isDefault(ee.filterData)}style(ee){var Ie;this.styles=ee,null===(Ie=this.widget)||void 0===Ie||Ie.style(ee)}layout(ee){var Ie;this.width=ee,null===(Ie=this.widget)||void 0===Ie||Ie.layout(ee)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Kt(Mt){let ee=M.Unknown;return(0,d.uU)(Mt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?ee=M.Twistie:(0,d.uU)(Mt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?ee=M.Element:(0,d.uU)(Mt.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(ee=M.Filter),{browserEvent:Mt.browserEvent,element:Mt.element?Mt.element.element:null,target:ee}}function Bt(Mt,ee){ee(Mt),Mt.children.forEach(Ie=>Bt(Ie,ee))}class Ge{constructor(ee,Ie){this.getFirstViewElementWithTrait=ee,this.identityProvider=Ie,this.nodes=[],this._onDidChange=new S.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(ee,Ie){!Ie?.__forceEvent&&(0,t.fS)(this.nodes,ee)||this._set(ee,!1,Ie)}_set(ee,Ie,rt){if(this.nodes=[...ee],this.elements=void 0,this._nodeSet=void 0,!Ie){const $t=this;this._onDidChange.fire({get elements(){return $t.get()},browserEvent:rt})}}get(){return this.elements||(this.elements=this.nodes.map(ee=>ee.element)),[...this.elements]}getNodes(){return this.nodes}has(ee){return this.nodeSet.has(ee)}onDidModelSplice({insertedNodes:ee,deletedNodes:Ie}){if(!this.identityProvider){const ni=this.createNodeSet(),Jn=gi=>ni.delete(gi);return Ie.forEach(gi=>Bt(gi,Jn)),void this.set([...ni.values()])}const rt=new Set,$t=ni=>rt.add(this.identityProvider.getId(ni.element).toString());Ie.forEach(ni=>Bt(ni,$t));const cn=new Map,Ln=ni=>cn.set(this.identityProvider.getId(ni.element).toString(),ni);ee.forEach(ni=>Bt(ni,Ln));const In=[];for(const ni of this.nodes){const Jn=this.identityProvider.getId(ni.element).toString();if(rt.has(Jn)){const vi=cn.get(Jn);vi&&In.push(vi)}else In.push(ni)}if(this.nodes.length>0&&0===In.length){const ni=this.getFirstViewElementWithTrait();ni&&In.push(ni)}this._set(In,!0)}createNodeSet(){const ee=new Set;for(const Ie of this.nodes)ee.add(Ie);return ee}}class ut extends C.sx{constructor(ee,Ie){super(ee),this.tree=Ie}onViewPointer(ee){if((0,C.iK)(ee.browserEvent.target)||(0,C.cK)(ee.browserEvent.target)||(0,C.hD)(ee.browserEvent.target))return;const Ie=ee.element;if(!Ie)return super.onViewPointer(ee);if(this.isSelectionRangeChangeEvent(ee)||this.isSelectionSingleChangeEvent(ee))return super.onViewPointer(ee);const rt=ee.browserEvent.target,$t=rt.classList.contains("monaco-tl-twistie")||rt.classList.contains("monaco-icon-label")&&rt.classList.contains("folder-icon")&&ee.browserEvent.offsetX<16;let cn=!1;if(cn="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(Ie.element):!!this.tree.expandOnlyOnTwistieClick,cn&&!$t&&2!==ee.browserEvent.detail)return super.onViewPointer(ee);if(!this.tree.expandOnDoubleClick&&2===ee.browserEvent.detail)return super.onViewPointer(ee);if(Ie.collapsible){const Ln=this.tree.model,In=Ln.getNodeLocation(Ie),ni=ee.browserEvent.altKey;if(this.tree.setFocus([In]),Ln.setCollapsed(In,void 0,ni),cn&&$t)return}super.onViewPointer(ee)}onDoubleClick(ee){ee.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(ee)}}class Ut extends C.aV{constructor(ee,Ie,rt,$t,cn,Ln,In,ni){super(ee,Ie,rt,$t,ni),this.focusTrait=cn,this.selectionTrait=Ln,this.anchorTrait=In}createMouseController(ee){return new ut(this,ee.tree)}splice(ee,Ie,rt=[]){if(super.splice(ee,Ie,rt),0===rt.length)return;const $t=[],cn=[];let Ln;rt.forEach((In,ni)=>{this.focusTrait.has(In)&&$t.push(ee+ni),this.selectionTrait.has(In)&&cn.push(ee+ni),this.anchorTrait.has(In)&&(Ln=ee+ni)}),$t.length>0&&super.setFocus((0,t.EB)([...super.getFocus(),...$t])),cn.length>0&&super.setSelection((0,t.EB)([...super.getSelection(),...cn])),"number"==typeof Ln&&super.setAnchor(Ln)}setFocus(ee,Ie,rt=!1){super.setFocus(ee,Ie),rt||this.focusTrait.set(ee.map($t=>this.element($t)),Ie)}setSelection(ee,Ie,rt=!1){super.setSelection(ee,Ie),rt||this.selectionTrait.set(ee.map($t=>this.element($t)),Ie)}setAnchor(ee,Ie=!1){super.setAnchor(ee),Ie||this.anchorTrait.set(typeof ee>"u"?[]:[this.element(ee)])}}class hn{constructor(ee,Ie,rt,$t,cn={}){var Ln;this._user=ee,this._options=cn,this.eventBufferer=new S.E7,this.onDidChangeFindOpenState=S.ju.None,this.disposables=new v.SL,this._onWillRefilter=new S.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new S.Q5;const In=new Ae(rt),ni=new S.ZD,Jn=new S.ZD,gi=this.disposables.add(new st(Jn.event));this.renderers=$t.map(Pi=>new et(Pi,()=>this.model,ni.event,gi,cn));for(const Pi of this.renderers)this.disposables.add(Pi);let vi;cn.keyboardNavigationLabelProvider&&(vi=new Qe(this,cn.keyboardNavigationLabelProvider,cn.filter),cn=Object.assign(Object.assign({},cn),{filter:vi}),this.disposables.add(vi)),this.focus=new Ge(()=>this.view.getFocusedElements()[0],cn.identityProvider),this.selection=new Ge(()=>this.view.getSelectedElements()[0],cn.identityProvider),this.anchor=new Ge(()=>this.view.getAnchorElement(),cn.identityProvider),this.view=new Ut(ee,Ie,In,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function ve(Mt,ee){return ee&&Object.assign(Object.assign({},ee),{identityProvider:ee.identityProvider&&{getId:Ie=>ee.identityProvider.getId(Ie.element)},dnd:ee.dnd&&new Q(Mt,ee.dnd),multipleSelectionController:ee.multipleSelectionController&&{isSelectionSingleChangeEvent:Ie=>ee.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},Ie),{element:Ie.element})),isSelectionRangeChangeEvent:Ie=>ee.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},Ie),{element:Ie.element}))},accessibilityProvider:ee.accessibilityProvider&&Object.assign(Object.assign({},ee.accessibilityProvider),{getSetSize(Ie){const rt=Mt(),$t=rt.getNodeLocation(Ie),cn=rt.getParentNodeLocation($t);return rt.getNode(cn).visibleChildrenCount},getPosInSet:Ie=>Ie.visibleChildIndex+1,isChecked:ee.accessibilityProvider&&ee.accessibilityProvider.isChecked?Ie=>ee.accessibilityProvider.isChecked(Ie.element):void 0,getRole:ee.accessibilityProvider&&ee.accessibilityProvider.getRole?Ie=>ee.accessibilityProvider.getRole(Ie.element):()=>"treeitem",getAriaLabel:Ie=>ee.accessibilityProvider.getAriaLabel(Ie.element),getWidgetAriaLabel:()=>ee.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:ee.accessibilityProvider&&ee.accessibilityProvider.getWidgetRole?()=>ee.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:ee.accessibilityProvider&&ee.accessibilityProvider.getAriaLevel?Ie=>ee.accessibilityProvider.getAriaLevel(Ie.element):Ie=>Ie.depth,getActiveDescendantId:ee.accessibilityProvider.getActiveDescendantId&&(Ie=>ee.accessibilityProvider.getActiveDescendantId(Ie.element))}),keyboardNavigationLabelProvider:ee.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},ee.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:Ie=>ee.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ie.element)})})}(()=>this.model,cn)),{tree:this})),this.model=this.createModel(ee,this.view,cn),ni.input=this.model.onDidChangeCollapseState;const bi=S.ju.forEach(this.model.onDidSplice,Pi=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Pi),this.selection.onDidModelSplice(Pi)})},this.disposables);if(bi(()=>null,null,this.disposables),Jn.input=S.ju.chain(S.ju.any(bi,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Pi=new Set;for(const Wi of this.focus.getNodes())Pi.add(Wi);for(const Wi of this.selection.getNodes())Pi.add(Wi);return[...Pi.values()]}).event,!1!==cn.keyboardSupport){const Pi=S.ju.chain(this.view.onKeyDown).filter(Wi=>!(0,C.cK)(Wi.target)).map(Wi=>new ne.y(Wi));Pi.filter(Wi=>15===Wi.keyCode).on(this.onLeftArrow,this,this.disposables),Pi.filter(Wi=>17===Wi.keyCode).on(this.onRightArrow,this,this.disposables),Pi.filter(Wi=>10===Wi.keyCode).on(this.onSpace,this,this.disposables)}(null===(Ln=cn.findWidgetEnabled)||void 0===Ln||Ln)&&cn.keyboardNavigationLabelProvider&&cn.contextViewProvider?(this.findController=new _t(this,this.model,this.view,vi,cn.contextViewProvider),this.focusNavigationFilter=Pi=>this.findController.shouldAllowFocus(Pi),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=S.ju.None,this.styleElement=(0,d.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===dt.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return S.ju.filter(S.ju.map(this.view.onMouseDblClick,Kt),ee=>ee.target!==M.Filter)}get onPointer(){return S.ju.map(this.view.onPointer,Kt)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return S.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var ee,Ie;return null!==(Ie=null===(ee=this.findController)||void 0===ee?void 0:ee.mode)&&void 0!==Ie?Ie:vt.Highlight}set findMode(ee){this.findController&&(this.findController.mode=ee)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(ee={}){this._options=Object.assign(Object.assign({},this._options),ee);for(const Ie of this.renderers)Ie.updateOptions(ee);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===dt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(ee){this.view.scrollTop=ee}domFocus(){this.view.domFocus()}layout(ee,Ie){var rt;this.view.layout(ee,Ie),(0,Ue.hj)(Ie)&&(null===(rt=this.findController)||void 0===rt||rt.layout(Ie))}style(ee){var Ie;const rt=`.${this.view.domId}`,$t=[];ee.treeIndentGuidesStroke&&($t.push(`.monaco-list${rt}:hover .monaco-tl-indent > .indent-guide, .monaco-list${rt}.always .monaco-tl-indent > .indent-guide  { border-color: ${ee.treeIndentGuidesStroke.transparent(.4)}; }`),$t.push(`.monaco-list${rt} .monaco-tl-indent > .indent-guide.active { border-color: ${ee.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=$t.join("\n"),null===(Ie=this.findController)||void 0===Ie||Ie.style(ee),this.view.style(ee)}getParentElement(ee){const Ie=this.model.getParentNodeLocation(ee);return this.model.getNode(Ie).element}getFirstElementChild(ee){return this.model.getFirstElementChild(ee)}getNode(ee){return this.model.getNode(ee)}collapse(ee,Ie=!1){return this.model.setCollapsed(ee,!0,Ie)}expand(ee,Ie=!1){return this.model.setCollapsed(ee,!1,Ie)}isCollapsible(ee){return this.model.isCollapsible(ee)}setCollapsible(ee,Ie){return this.model.setCollapsible(ee,Ie)}isCollapsed(ee){return this.model.isCollapsed(ee)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(ee,Ie){const rt=ee.map(cn=>this.model.getNode(cn));this.selection.set(rt,Ie);const $t=ee.map(cn=>this.model.getListIndex(cn)).filter(cn=>cn>-1);this.view.setSelection($t,Ie,!0)}getSelection(){return this.selection.get()}setFocus(ee,Ie){const rt=ee.map(cn=>this.model.getNode(cn));this.focus.set(rt,Ie);const $t=ee.map(cn=>this.model.getListIndex(cn)).filter(cn=>cn>-1);this.view.setFocus($t,Ie,!0)}getFocus(){return this.focus.get()}reveal(ee,Ie){this.model.expandTo(ee);const rt=this.model.getListIndex(ee);-1!==rt&&this.view.reveal(rt,Ie)}onLeftArrow(ee){ee.preventDefault(),ee.stopPropagation();const Ie=this.view.getFocusedElements();if(0===Ie.length)return;const $t=this.model.getNodeLocation(Ie[0]);if(!this.model.setCollapsed($t,!0)){const Ln=this.model.getParentNodeLocation($t);if(!Ln)return;const In=this.model.getListIndex(Ln);this.view.reveal(In),this.view.setFocus([In])}}onRightArrow(ee){ee.preventDefault(),ee.stopPropagation();const Ie=this.view.getFocusedElements();if(0===Ie.length)return;const rt=Ie[0],$t=this.model.getNodeLocation(rt);if(!this.model.setCollapsed($t,!1)){if(!rt.children.some(ni=>ni.visible))return;const[Ln]=this.view.getFocus(),In=Ln+1;this.view.reveal(In),this.view.setFocus([In])}}onSpace(ee){ee.preventDefault(),ee.stopPropagation();const Ie=this.view.getFocusedElements();if(0===Ie.length)return;const $t=this.model.getNodeLocation(Ie[0]);this.model.setCollapsed($t,void 0,ee.browserEvent.altKey)}dispose(){(0,v.B9)(this.disposables),this.view.dispose()}}class Dn{constructor(ee,Ie,rt={}){this.user=ee,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new Te(ee,Ie,null,rt),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,rt.sorter&&(this.sorter={compare:($t,cn)=>rt.sorter.compare($t.element,cn.element)}),this.identityProvider=rt.identityProvider}setChildren(ee,Ie=oe.$.empty(),rt={}){const $t=this.getElementLocation(ee);this._setChildren($t,this.preserveCollapseState(Ie),rt)}_setChildren(ee,Ie=oe.$.empty(),rt){const $t=new Set,cn=new Set;this.model.splice([...ee,0],Number.MAX_VALUE,Ie,Object.assign(Object.assign({},rt),{onDidCreateNode:ni=>{var Jn;if(null===ni.element)return;const gi=ni;if($t.add(gi.element),this.nodes.set(gi.element,gi),this.identityProvider){const vi=this.identityProvider.getId(gi.element).toString();cn.add(vi),this.nodesByIdentity.set(vi,gi)}null===(Jn=rt.onDidCreateNode)||void 0===Jn||Jn.call(rt,gi)},onDidDeleteNode:ni=>{var Jn;if(null===ni.element)return;const gi=ni;if($t.has(gi.element)||this.nodes.delete(gi.element),this.identityProvider){const vi=this.identityProvider.getId(gi.element).toString();cn.has(vi)||this.nodesByIdentity.delete(vi)}null===(Jn=rt.onDidDeleteNode)||void 0===Jn||Jn.call(rt,gi)}}))}preserveCollapseState(ee=oe.$.empty()){return this.sorter&&(ee=[...ee].sort(this.sorter.compare.bind(this.sorter))),oe.$.map(ee,Ie=>{let rt=this.nodes.get(Ie.element);if(!rt&&this.identityProvider){const Ln=this.identityProvider.getId(Ie.element).toString();rt=this.nodesByIdentity.get(Ln)}if(!rt)return Object.assign(Object.assign({},Ie),{children:this.preserveCollapseState(Ie.children)});const $t="boolean"==typeof Ie.collapsible?Ie.collapsible:rt.collapsible,cn=typeof Ie.collapsed<"u"?Ie.collapsed:rt.collapsed;return Object.assign(Object.assign({},Ie),{collapsible:$t,collapsed:cn,children:this.preserveCollapseState(Ie.children)})})}rerender(ee){const Ie=this.getElementLocation(ee);this.model.rerender(Ie)}getFirstElementChild(ee=null){const Ie=this.getElementLocation(ee);return this.model.getFirstElementChild(Ie)}has(ee){return this.nodes.has(ee)}getListIndex(ee){const Ie=this.getElementLocation(ee);return this.model.getListIndex(Ie)}getListRenderCount(ee){const Ie=this.getElementLocation(ee);return this.model.getListRenderCount(Ie)}isCollapsible(ee){const Ie=this.getElementLocation(ee);return this.model.isCollapsible(Ie)}setCollapsible(ee,Ie){const rt=this.getElementLocation(ee);return this.model.setCollapsible(rt,Ie)}isCollapsed(ee){const Ie=this.getElementLocation(ee);return this.model.isCollapsed(Ie)}setCollapsed(ee,Ie,rt){const $t=this.getElementLocation(ee);return this.model.setCollapsed($t,Ie,rt)}expandTo(ee){const Ie=this.getElementLocation(ee);this.model.expandTo(Ie)}refilter(){this.model.refilter()}getNode(ee=null){if(null===ee)return this.model.getNode(this.model.rootRef);const Ie=this.nodes.get(ee);if(!Ie)throw new Se(this.user,`Tree element not found: ${ee}`);return Ie}getNodeLocation(ee){return ee.element}getParentNodeLocation(ee){if(null===ee)throw new Se(this.user,"Invalid getParentNodeLocation call");const Ie=this.nodes.get(ee);if(!Ie)throw new Se(this.user,`Tree element not found: ${ee}`);const rt=this.model.getNodeLocation(Ie),$t=this.model.getParentNodeLocation(rt);return this.model.getNode($t).element}getElementLocation(ee){if(null===ee)return[];const Ie=this.nodes.get(ee);if(!Ie)throw new Se(this.user,`Tree element not found: ${ee}`);return this.model.getNodeLocation(Ie)}}function wt(Mt){return{element:{elements:[Mt.element],incompressible:Mt.incompressible||!1},children:oe.$.map(oe.$.from(Mt.children),wt),collapsible:Mt.collapsible,collapsed:Mt.collapsed}}function je(Mt){const ee=[Mt.element],Ie=Mt.incompressible||!1;let rt,$t;for(;[$t,rt]=oe.$.consume(oe.$.from(Mt.children),2),1===$t.length&&!$t[0].incompressible;)ee.push((Mt=$t[0]).element);return{element:{elements:ee,incompressible:Ie},children:oe.$.map(oe.$.concat($t,rt),je),collapsible:Mt.collapsible,collapsed:Mt.collapsed}}function ye(Mt,ee=0){let Ie;return Ie=ee<Mt.element.elements.length-1?[ye(Mt,ee+1)]:oe.$.map(oe.$.from(Mt.children),rt=>ye(rt,0)),0===ee&&Mt.element.incompressible?{element:Mt.element.elements[ee],children:Ie,incompressible:!0,collapsible:Mt.collapsible,collapsed:Mt.collapsed}:{element:Mt.element.elements[ee],children:Ie,collapsible:Mt.collapsible,collapsed:Mt.collapsed}}function Me(Mt){return ye(Mt,0)}function ue(Mt,ee,Ie){return Object.assign(Object.assign({},Mt),Mt.element===ee?{children:Ie}:{children:oe.$.map(oe.$.from(Mt.children),rt=>ue(rt,ee,Ie))})}class qe{constructor(ee,Ie,rt={}){this.user=ee,this.rootRef=null,this.nodes=new Map,this.model=new Dn(ee,Ie,rt),this.enabled=typeof rt.compressionEnabled>"u"||rt.compressionEnabled,this.identityProvider=rt.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(ee,Ie=oe.$.empty(),rt){const $t=rt.diffIdentityProvider&&(Mt=rt.diffIdentityProvider,{getId:ee=>ee.elements.map(Ie=>Mt.getId(Ie).toString()).join("\0")});var Mt;if(null===ee){const Pi=oe.$.map(Ie,this.enabled?je:wt);return void this._setChildren(null,Pi,{diffIdentityProvider:$t,diffDepth:1/0})}const cn=this.nodes.get(ee);if(!cn)throw new Error("Unknown compressed tree node");const Ln=this.model.getNode(cn),In=this.model.getParentNodeLocation(cn),ni=this.model.getNode(In),gi=ue(Me(Ln),ee,Ie),vi=(this.enabled?je:wt)(gi),bi=ni.children.map(Pi=>Pi===Ln?vi:Pi);this._setChildren(ni.element,bi,{diffIdentityProvider:$t,diffDepth:Ln.depth-ni.depth})}setCompressionEnabled(ee){if(ee===this.enabled)return;this.enabled=ee;const rt=this.model.getNode().children,$t=oe.$.map(rt,Me),cn=oe.$.map($t,ee?je:wt);this._setChildren(null,cn,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(ee,Ie,rt){const $t=new Set;this.model.setChildren(ee,Ie,Object.assign(Object.assign({},rt),{onDidCreateNode:In=>{for(const ni of In.element.elements)$t.add(ni),this.nodes.set(ni,In.element)},onDidDeleteNode:In=>{for(const ni of In.element.elements)$t.has(ni)||this.nodes.delete(ni)}}))}has(ee){return this.nodes.has(ee)}getListIndex(ee){const Ie=this.getCompressedNode(ee);return this.model.getListIndex(Ie)}getListRenderCount(ee){const Ie=this.getCompressedNode(ee);return this.model.getListRenderCount(Ie)}getNode(ee){if(typeof ee>"u")return this.model.getNode();const Ie=this.getCompressedNode(ee);return this.model.getNode(Ie)}getNodeLocation(ee){const Ie=this.model.getNodeLocation(ee);return null===Ie?null:Ie.elements[Ie.elements.length-1]}getParentNodeLocation(ee){const Ie=this.getCompressedNode(ee),rt=this.model.getParentNodeLocation(Ie);return null===rt?null:rt.elements[rt.elements.length-1]}getFirstElementChild(ee){const Ie=this.getCompressedNode(ee);return this.model.getFirstElementChild(Ie)}isCollapsible(ee){const Ie=this.getCompressedNode(ee);return this.model.isCollapsible(Ie)}setCollapsible(ee,Ie){const rt=this.getCompressedNode(ee);return this.model.setCollapsible(rt,Ie)}isCollapsed(ee){const Ie=this.getCompressedNode(ee);return this.model.isCollapsed(Ie)}setCollapsed(ee,Ie,rt){const $t=this.getCompressedNode(ee);return this.model.setCollapsed($t,Ie,rt)}expandTo(ee){const Ie=this.getCompressedNode(ee);this.model.expandTo(Ie)}rerender(ee){const Ie=this.getCompressedNode(ee);this.model.rerender(Ie)}refilter(){this.model.refilter()}getCompressedNode(ee){if(null===ee)return null;const Ie=this.nodes.get(ee);if(!Ie)throw new Se(this.user,`Tree element not found: ${ee}`);return Ie}}const Fe=Mt=>Mt[Mt.length-1];class ot{constructor(ee,Ie){this.unwrapper=ee,this.node=Ie}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(ee=>new ot(this.unwrapper,ee))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class vn{constructor(ee,Ie,rt={}){this.rootRef=null,this.elementMapper=rt.elementMapper||Fe;const $t=cn=>this.elementMapper(cn.elements);this.nodeMapper=new Ee(cn=>new ot($t,cn)),this.model=new qe(ee,function bt(Mt,ee){return{splice(Ie,rt,$t){ee.splice(Ie,rt,$t.map(cn=>Mt.map(cn)))},updateElementHeight(Ie,rt){ee.updateElementHeight(Ie,rt)}}}(this.nodeMapper,Ie),function Ht(Mt,ee){return Object.assign(Object.assign({},ee),{identityProvider:ee.identityProvider&&{getId:Ie=>ee.identityProvider.getId(Mt(Ie))},sorter:ee.sorter&&{compare:(Ie,rt)=>ee.sorter.compare(Ie.elements[0],rt.elements[0])},filter:ee.filter&&{filter:(Ie,rt)=>ee.filter.filter(Mt(Ie),rt)}})}($t,rt))}get onDidSplice(){return S.ju.map(this.model.onDidSplice,({insertedNodes:ee,deletedNodes:Ie})=>({insertedNodes:ee.map(rt=>this.nodeMapper.map(rt)),deletedNodes:Ie.map(rt=>this.nodeMapper.map(rt))}))}get onDidChangeCollapseState(){return S.ju.map(this.model.onDidChangeCollapseState,({node:ee,deep:Ie})=>({node:this.nodeMapper.map(ee),deep:Ie}))}get onDidChangeRenderNodeCount(){return S.ju.map(this.model.onDidChangeRenderNodeCount,ee=>this.nodeMapper.map(ee))}setChildren(ee,Ie=oe.$.empty(),rt={}){this.model.setChildren(ee,Ie,rt)}setCompressionEnabled(ee){this.model.setCompressionEnabled(ee)}has(ee){return this.model.has(ee)}getListIndex(ee){return this.model.getListIndex(ee)}getListRenderCount(ee){return this.model.getListRenderCount(ee)}getNode(ee){return this.nodeMapper.map(this.model.getNode(ee))}getNodeLocation(ee){return ee.element}getParentNodeLocation(ee){return this.model.getParentNodeLocation(ee)}getFirstElementChild(ee){const Ie=this.model.getFirstElementChild(ee);return null===Ie||typeof Ie>"u"?Ie:this.elementMapper(Ie.elements)}isCollapsible(ee){return this.model.isCollapsible(ee)}setCollapsible(ee,Ie){return this.model.setCollapsible(ee,Ie)}isCollapsed(ee){return this.model.isCollapsed(ee)}setCollapsed(ee,Ie,rt){return this.model.setCollapsed(ee,Ie,rt)}expandTo(ee){return this.model.expandTo(ee)}rerender(ee){return this.model.rerender(ee)}refilter(){return this.model.refilter()}getCompressedTreeNode(ee=null){return this.model.getNode(ee)}}var Mn=e(66471);class fn extends hn{constructor(ee,Ie,rt,$t,cn={}){super(ee,Ie,rt,$t,cn),this.user=ee}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(ee,Ie=oe.$.empty(),rt){this.model.setChildren(ee,Ie,rt)}rerender(ee){void 0!==ee?this.model.rerender(ee):this.view.rerender()}hasElement(ee){return this.model.has(ee)}createModel(ee,Ie,rt){return new Dn(ee,Ie,rt)}}class Vn{constructor(ee,Ie){this._compressedTreeNodeProvider=ee,this.renderer=Ie,this.templateId=Ie.templateId,Ie.onDidChangeTwistieState&&(this.onDidChangeTwistieState=Ie.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(ee){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(ee)}}renderElement(ee,Ie,rt,$t){const cn=this.compressedTreeNodeProvider.getCompressedTreeNode(ee.element);1===cn.element.elements.length?(rt.compressedTreeNode=void 0,this.renderer.renderElement(ee,Ie,rt.data,$t)):(rt.compressedTreeNode=cn,this.renderer.renderCompressedElements(cn,Ie,rt.data,$t))}disposeElement(ee,Ie,rt,$t){var cn,Ln,In,ni;rt.compressedTreeNode?null===(Ln=(cn=this.renderer).disposeCompressedElements)||void 0===Ln||Ln.call(cn,rt.compressedTreeNode,Ie,rt.data,$t):null===(ni=(In=this.renderer).disposeElement)||void 0===ni||ni.call(In,ee,Ie,rt.data,$t)}disposeTemplate(ee){this.renderer.disposeTemplate(ee.data)}renderTwistie(ee,Ie){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(ee,Ie)}}!function(Mt,ee,Ie,rt){var Ln,$t=arguments.length,cn=$t<3?ee:null===rt?rt=Object.getOwnPropertyDescriptor(ee,Ie):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)cn=Reflect.decorate(Mt,ee,Ie,rt);else for(var In=Mt.length-1;In>=0;In--)(Ln=Mt[In])&&(cn=($t<3?Ln(cn):$t>3?Ln(ee,Ie,cn):Ln(ee,Ie))||cn);$t>3&&cn&&Object.defineProperty(ee,Ie,cn)}([Mn.H],Vn.prototype,"compressedTreeNodeProvider",null);class zn extends fn{constructor(ee,Ie,rt,$t,cn={}){const Ln=()=>this;super(ee,Ie,rt,$t.map(ni=>new Vn(Ln,ni)),function yn(Mt,ee){return ee&&Object.assign(Object.assign({},ee),{keyboardNavigationLabelProvider:ee.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(Ie){let rt;try{rt=Mt().getCompressedTreeNode(Ie)}catch{return ee.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ie)}return 1===rt.element.elements.length?ee.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Ie):ee.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(rt.element.elements)}}})}(Ln,cn))}setChildren(ee,Ie=oe.$.empty(),rt){this.model.setChildren(ee,Ie,rt)}createModel(ee,Ie,rt){return new vn(ee,Ie,rt)}updateOptions(ee={}){super.updateOptions(ee),typeof ee.compressionEnabled<"u"&&this.model.setCompressionEnabled(ee.compressionEnabled)}getCompressedTreeNode(ee=null){return this.model.getCompressedTreeNode(ee)}}var li=e(4125),oi=function(Mt,ee,Ie,rt){return new(Ie||(Ie=Promise))(function(cn,Ln){function In(gi){try{Jn(rt.next(gi))}catch(vi){Ln(vi)}}function ni(gi){try{Jn(rt.throw(gi))}catch(vi){Ln(vi)}}function Jn(gi){gi.done?cn(gi.value):function $t(cn){return cn instanceof Ie?cn:new Ie(function(Ln){Ln(cn)})}(gi.value).then(In,ni)}Jn((rt=rt.apply(Mt,ee||[])).next())})};function Li(Mt){return Object.assign(Object.assign({},Mt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function so(Mt,ee){return!!ee.parent&&(ee.parent===Mt||so(Mt,ee.parent))}class xo{constructor(ee){this.node=ee}get element(){return this.node.element.element}get children(){return this.node.children.map(ee=>new xo(ee))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class ro{constructor(ee,Ie,rt){this.renderer=ee,this.nodeMapper=Ie,this.onDidChangeTwistieState=rt,this.renderedNodes=new Map,this.templateId=ee.templateId}renderTemplate(ee){return{templateData:this.renderer.renderTemplate(ee)}}renderElement(ee,Ie,rt,$t){this.renderer.renderElement(this.nodeMapper.map(ee),Ie,rt.templateData,$t)}renderTwistie(ee,Ie){return ee.slow?(Ie.classList.add(...ke.lA.treeItemLoading.classNamesArray),!0):(Ie.classList.remove(...ke.lA.treeItemLoading.classNamesArray),!1)}disposeElement(ee,Ie,rt,$t){var cn,Ln;null===(Ln=(cn=this.renderer).disposeElement)||void 0===Ln||Ln.call(cn,this.nodeMapper.map(ee),Ie,rt.templateData,$t)}disposeTemplate(ee){this.renderer.disposeTemplate(ee.templateData)}dispose(){this.renderedNodes.clear()}}function _o(Mt){return{browserEvent:Mt.browserEvent,elements:Mt.elements.map(ee=>ee.element)}}function mo(Mt){return{browserEvent:Mt.browserEvent,element:Mt.element&&Mt.element.element,target:Mt.target}}class si extends Z.kX{constructor(ee){super(ee.elements.map(Ie=>Ie.element)),this.data=ee}}function Qt(Mt){return Mt instanceof Z.kX?new si(Mt):Mt}class pt{constructor(ee){this.dnd=ee}getDragURI(ee){return this.dnd.getDragURI(ee.element)}getDragLabel(ee,Ie){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ee.map(rt=>rt.element),Ie)}onDragStart(ee,Ie){var rt,$t;null===($t=(rt=this.dnd).onDragStart)||void 0===$t||$t.call(rt,Qt(ee),Ie)}onDragOver(ee,Ie,rt,$t,cn=!0){return this.dnd.onDragOver(Qt(ee),Ie&&Ie.element,rt,$t)}drop(ee,Ie,rt,$t){this.dnd.drop(Qt(ee),Ie&&Ie.element,rt,$t)}onDragEnd(ee){var Ie,rt;null===(rt=(Ie=this.dnd).onDragEnd)||void 0===rt||rt.call(Ie,ee)}}function ft(Mt){return Mt&&Object.assign(Object.assign({},Mt),{collapseByDefault:!0,identityProvider:Mt.identityProvider&&{getId:ee=>Mt.identityProvider.getId(ee.element)},dnd:Mt.dnd&&new pt(Mt.dnd),multipleSelectionController:Mt.multipleSelectionController&&{isSelectionSingleChangeEvent:ee=>Mt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},ee),{element:ee.element})),isSelectionRangeChangeEvent:ee=>Mt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},ee),{element:ee.element}))},accessibilityProvider:Mt.accessibilityProvider&&Object.assign(Object.assign({},Mt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Mt.accessibilityProvider.getRole?ee=>Mt.accessibilityProvider.getRole(ee.element):()=>"treeitem",isChecked:Mt.accessibilityProvider.isChecked?ee=>{var Ie;return!(null===(Ie=Mt.accessibilityProvider)||void 0===Ie||!Ie.isChecked(ee.element))}:void 0,getAriaLabel:ee=>Mt.accessibilityProvider.getAriaLabel(ee.element),getWidgetAriaLabel:()=>Mt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:Mt.accessibilityProvider.getWidgetRole?()=>Mt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Mt.accessibilityProvider.getAriaLevel&&(ee=>Mt.accessibilityProvider.getAriaLevel(ee.element)),getActiveDescendantId:Mt.accessibilityProvider.getActiveDescendantId&&(ee=>Mt.accessibilityProvider.getActiveDescendantId(ee.element))}),filter:Mt.filter&&{filter:(ee,Ie)=>Mt.filter.filter(ee.element,Ie)},keyboardNavigationLabelProvider:Mt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Mt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:ee=>Mt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(ee.element)}),sorter:void 0,expandOnlyOnTwistieClick:typeof Mt.expandOnlyOnTwistieClick>"u"?void 0:"function"!=typeof Mt.expandOnlyOnTwistieClick?Mt.expandOnlyOnTwistieClick:ee=>Mt.expandOnlyOnTwistieClick(ee.element),additionalScrollHeight:Mt.additionalScrollHeight})}function jt(Mt,ee){ee(Mt),Mt.children.forEach(Ie=>jt(Ie,ee))}class en{constructor(ee,Ie,rt,$t,cn,Ln={}){this.user=ee,this.dataSource=cn,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new S.Q5,this._onDidChangeNodeSlowState=new S.Q5,this.nodeMapper=new Ee(In=>new xo(In)),this.disposables=new v.SL,this.identityProvider=Ln.identityProvider,this.autoExpandSingleChildren=!(typeof Ln.autoExpandSingleChildren>"u")&&Ln.autoExpandSingleChildren,this.sorter=Ln.sorter,this.collapseByDefault=Ln.collapseByDefault,this.tree=this.createTree(ee,Ie,rt,$t,Ln),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Li({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return S.ju.map(this.tree.onDidChangeFocus,_o)}get onDidChangeSelection(){return S.ju.map(this.tree.onDidChangeSelection,_o)}get onMouseDblClick(){return S.ju.map(this.tree.onMouseDblClick,mo)}get onPointer(){return S.ju.map(this.tree.onPointer,mo)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(ee,Ie,rt,$t,cn){const Ln=new Ae(rt),In=$t.map(Jn=>new ro(Jn,this.nodeMapper,this._onDidChangeNodeSlowState.event)),ni=ft(cn)||{};return new fn(ee,Ie,Ln,In,ni)}updateOptions(ee={}){this.tree.updateOptions(ee)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(ee){this.tree.scrollTop=ee}domFocus(){this.tree.domFocus()}layout(ee,Ie){this.tree.layout(ee,Ie)}style(ee){this.tree.style(ee)}getInput(){return this.root.element}setInput(ee,Ie){return oi(this,void 0,void 0,function*(){this.refreshPromises.forEach($t=>$t.cancel()),this.refreshPromises.clear(),this.root.element=ee;const rt=Ie&&{viewState:Ie,focus:[],selection:[]};yield this._updateChildren(ee,!0,!1,rt),rt&&(this.tree.setFocus(rt.focus),this.tree.setSelection(rt.selection)),Ie&&"number"==typeof Ie.scrollTop&&(this.scrollTop=Ie.scrollTop)})}_updateChildren(ee=this.root.element,Ie=!0,rt=!1,$t,cn){return oi(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Se(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.ju.toPromise(this._onDidRender.event));const Ln=this.getDataNode(ee);if(yield this.refreshAndRenderNode(Ln,Ie,$t,cn),rt)try{this.tree.rerender(Ln)}catch{}})}rerender(ee){if(void 0===ee||ee===this.root.element)return void this.tree.rerender();const Ie=this.getDataNode(ee);this.tree.rerender(Ie)}getNode(ee=this.root.element){const Ie=this.getDataNode(ee),rt=this.tree.getNode(Ie===this.root?null:Ie);return this.nodeMapper.map(rt)}collapse(ee,Ie=!1){const rt=this.getDataNode(ee);return this.tree.collapse(rt===this.root?null:rt,Ie)}expand(ee,Ie=!1){return oi(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new Se(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield S.ju.toPromise(this._onDidRender.event));const rt=this.getDataNode(ee);if(this.tree.hasElement(rt)&&!this.tree.isCollapsible(rt)||(rt.refreshPromise&&(yield this.root.refreshPromise,yield S.ju.toPromise(this._onDidRender.event)),rt!==this.root&&!rt.refreshPromise&&!this.tree.isCollapsed(rt)))return!1;const $t=this.tree.expand(rt===this.root?null:rt,Ie);return rt.refreshPromise&&(yield this.root.refreshPromise,yield S.ju.toPromise(this._onDidRender.event)),$t})}setSelection(ee,Ie){const rt=ee.map($t=>this.getDataNode($t));this.tree.setSelection(rt,Ie)}getSelection(){return this.tree.getSelection().map(Ie=>Ie.element)}setFocus(ee,Ie){const rt=ee.map($t=>this.getDataNode($t));this.tree.setFocus(rt,Ie)}getFocus(){return this.tree.getFocus().map(Ie=>Ie.element)}reveal(ee,Ie){this.tree.reveal(this.getDataNode(ee),Ie)}getParentElement(ee){const Ie=this.tree.getParentElement(this.getDataNode(ee));return Ie&&Ie.element}getFirstElementChild(ee=this.root.element){const Ie=this.getDataNode(ee),rt=this.tree.getFirstElementChild(Ie===this.root?null:Ie);return rt&&rt.element}getDataNode(ee){const Ie=this.nodes.get(ee===this.root.element?null:ee);if(!Ie)throw new Se(this.user,`Data tree node not found: ${ee}`);return Ie}refreshAndRenderNode(ee,Ie,rt,$t){return oi(this,void 0,void 0,function*(){yield this.refreshNode(ee,Ie,rt),this.render(ee,rt,$t)})}refreshNode(ee,Ie,rt){return oi(this,void 0,void 0,function*(){let $t;return this.subTreeRefreshPromises.forEach((cn,Ln)=>{!$t&&function oo(Mt,ee){return Mt===ee||so(Mt,ee)||so(ee,Mt)}(Ln,ee)&&($t=cn.then(()=>this.refreshNode(ee,Ie,rt)))}),$t||(ee!==this.root&&this.tree.getNode(ee).collapsed?(ee.hasChildren=!!this.dataSource.hasChildren(ee.element),void(ee.stale=!0)):this.doRefreshSubTree(ee,Ie,rt))})}doRefreshSubTree(ee,Ie,rt){return oi(this,void 0,void 0,function*(){let $t;ee.refreshPromise=new Promise(cn=>$t=cn),this.subTreeRefreshPromises.set(ee,ee.refreshPromise),ee.refreshPromise.finally(()=>{ee.refreshPromise=void 0,this.subTreeRefreshPromises.delete(ee)});try{const cn=yield this.doRefreshNode(ee,Ie,rt);ee.stale=!1,yield Le.jT.settled(cn.map(Ln=>this.doRefreshSubTree(Ln,Ie,rt)))}finally{$t()}})}doRefreshNode(ee,Ie,rt){return oi(this,void 0,void 0,function*(){let $t;if(ee.hasChildren=!!this.dataSource.hasChildren(ee.element),ee.hasChildren){const cn=this.doGetChildren(ee);if((0,Ue.TW)(cn))$t=Promise.resolve(cn);else{const Ln=(0,Le.Vs)(800);Ln.then(()=>{ee.slow=!0,this._onDidChangeNodeSlowState.fire(ee)},In=>null),$t=cn.finally(()=>Ln.cancel())}}else $t=Promise.resolve(oe.$.empty());try{const cn=yield $t;return this.setChildren(ee,cn,Ie,rt)}catch(cn){if(ee!==this.root&&this.tree.hasElement(ee)&&this.tree.collapse(ee),(0,li.n2)(cn))return[];throw cn}finally{ee.slow&&(ee.slow=!1,this._onDidChangeNodeSlowState.fire(ee))}})}doGetChildren(ee){let Ie=this.refreshPromises.get(ee);if(Ie)return Ie;const rt=this.dataSource.getChildren(ee.element);return(0,Ue.TW)(rt)?this.processChildren(rt):(Ie=(0,Le.PG)(()=>oi(this,void 0,void 0,function*(){return this.processChildren(yield rt)})),this.refreshPromises.set(ee,Ie),Ie.finally(()=>{this.refreshPromises.delete(ee)}))}_onDidChangeCollapseState({node:ee,deep:Ie}){null!==ee.element&&!ee.collapsed&&ee.element.stale&&(Ie?this.collapse(ee.element.element):this.refreshAndRenderNode(ee.element,!1).catch(li.dL))}setChildren(ee,Ie,rt,$t){const cn=[...Ie];if(0===ee.children.length&&0===cn.length)return[];const Ln=new Map,In=new Map;for(const gi of ee.children)if(Ln.set(gi.element,gi),this.identityProvider){const vi=this.tree.isCollapsed(gi);In.set(gi.id,{node:gi,collapsed:vi})}const ni=[],Jn=cn.map(gi=>{const vi=!!this.dataSource.hasChildren(gi);if(!this.identityProvider){const Yi=Li({element:gi,parent:ee,hasChildren:vi});return vi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&(Yi.collapsedByDefault=!1,ni.push(Yi)),Yi}const bi=this.identityProvider.getId(gi).toString(),Pi=In.get(bi);if(Pi){const Yi=Pi.node;return Ln.delete(Yi.element),this.nodes.delete(Yi.element),this.nodes.set(gi,Yi),Yi.element=gi,Yi.hasChildren=vi,rt?Pi.collapsed?(Yi.children.forEach($i=>jt($i,Co=>this.nodes.delete(Co.element))),Yi.children.splice(0,Yi.children.length),Yi.stale=!0):ni.push(Yi):vi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&(Yi.collapsedByDefault=!1,ni.push(Yi)),Yi}const Wi=Li({element:gi,parent:ee,id:bi,hasChildren:vi});return $t&&$t.viewState.focus&&$t.viewState.focus.indexOf(bi)>-1&&$t.focus.push(Wi),$t&&$t.viewState.selection&&$t.viewState.selection.indexOf(bi)>-1&&$t.selection.push(Wi),$t&&$t.viewState.expanded&&$t.viewState.expanded.indexOf(bi)>-1?ni.push(Wi):vi&&this.collapseByDefault&&!this.collapseByDefault(gi)&&(Wi.collapsedByDefault=!1,ni.push(Wi)),Wi});for(const gi of Ln.values())jt(gi,vi=>this.nodes.delete(vi.element));for(const gi of Jn)this.nodes.set(gi.element,gi);return ee.children.splice(0,ee.children.length,...Jn),ee!==this.root&&this.autoExpandSingleChildren&&1===Jn.length&&0===ni.length&&(Jn[0].collapsedByDefault=!1,ni.push(Jn[0])),ni}render(ee,Ie,rt){const $t=ee.children.map(Ln=>this.asTreeElement(Ln,Ie)),cn=rt&&Object.assign(Object.assign({},rt),{diffIdentityProvider:rt.diffIdentityProvider&&{getId:Ln=>rt.diffIdentityProvider.getId(Ln.element)}});this.tree.setChildren(ee===this.root?null:ee,$t,cn),ee!==this.root&&this.tree.setCollapsible(ee,ee.hasChildren),this._onDidRender.fire()}asTreeElement(ee,Ie){if(ee.stale)return{element:ee,collapsible:ee.hasChildren,collapsed:!0};let rt;return rt=!(Ie&&Ie.viewState.expanded&&ee.id&&Ie.viewState.expanded.indexOf(ee.id)>-1)&&ee.collapsedByDefault,ee.collapsedByDefault=void 0,{element:ee,children:ee.hasChildren?oe.$.map(ee.children,$t=>this.asTreeElement($t,Ie)):[],collapsible:ee.hasChildren,collapsed:rt}}processChildren(ee){return this.sorter&&(ee=[...ee].sort(this.sorter.compare.bind(this.sorter))),ee}dispose(){this.disposables.dispose()}}class rn{constructor(ee){this.node=ee}get element(){return{elements:this.node.element.elements.map(ee=>ee.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(ee=>new rn(ee))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class gn{constructor(ee,Ie,rt,$t){this.renderer=ee,this.nodeMapper=Ie,this.compressibleNodeMapperProvider=rt,this.onDidChangeTwistieState=$t,this.renderedNodes=new Map,this.disposables=[],this.templateId=ee.templateId}renderTemplate(ee){return{templateData:this.renderer.renderTemplate(ee)}}renderElement(ee,Ie,rt,$t){this.renderer.renderElement(this.nodeMapper.map(ee),Ie,rt.templateData,$t)}renderCompressedElements(ee,Ie,rt,$t){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(ee),Ie,rt.templateData,$t)}renderTwistie(ee,Ie){return ee.slow?(Ie.classList.add(...ke.lA.treeItemLoading.classNamesArray),!0):(Ie.classList.remove(...ke.lA.treeItemLoading.classNamesArray),!1)}disposeElement(ee,Ie,rt,$t){var cn,Ln;null===(Ln=(cn=this.renderer).disposeElement)||void 0===Ln||Ln.call(cn,this.nodeMapper.map(ee),Ie,rt.templateData,$t)}disposeCompressedElements(ee,Ie,rt,$t){var cn,Ln;null===(Ln=(cn=this.renderer).disposeCompressedElements)||void 0===Ln||Ln.call(cn,this.compressibleNodeMapperProvider().map(ee),Ie,rt.templateData,$t)}disposeTemplate(ee){this.renderer.disposeTemplate(ee.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,v.B9)(this.disposables)}}class jn extends en{constructor(ee,Ie,rt,$t,cn,Ln,In={}){super(ee,Ie,rt,cn,Ln,In),this.compressionDelegate=$t,this.compressibleNodeMapper=new Ee(ni=>new rn(ni)),this.filter=In.filter}createTree(ee,Ie,rt,$t,cn){const Ln=new Ae(rt),In=$t.map(Jn=>new gn(Jn,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),ni=function An(Mt){const ee=Mt&&ft(Mt);return ee&&Object.assign(Object.assign({},ee),{keyboardNavigationLabelProvider:ee.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},ee.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:Ie=>Mt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(Ie.map(rt=>rt.element))})})}(cn)||{};return new zn(ee,Ie,Ln,In,ni)}asTreeElement(ee,Ie){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(ee.element)},super.asTreeElement(ee,Ie))}updateOptions(ee={}){this.tree.updateOptions(ee)}render(ee,Ie){if(!this.identityProvider)return super.render(ee,Ie);const rt=bi=>this.identityProvider.getId(bi).toString(),$t=bi=>{const Pi=new Set;for(const Wi of bi){const Yi=this.tree.getCompressedTreeNode(Wi===this.root?null:Wi);if(Yi.element)for(const $i of Yi.element.elements)Pi.add(rt($i.element))}return Pi},cn=$t(this.tree.getSelection()),Ln=$t(this.tree.getFocus());super.render(ee,Ie);const In=this.getSelection();let ni=!1;const Jn=this.getFocus();let gi=!1;const vi=bi=>{const Pi=bi.element;if(Pi)for(let Wi=0;Wi<Pi.elements.length;Wi++){const Yi=rt(Pi.elements[Wi].element),$i=Pi.elements[Pi.elements.length-1].element;cn.has(Yi)&&-1===In.indexOf($i)&&(In.push($i),ni=!0),Ln.has(Yi)&&-1===Jn.indexOf($i)&&(Jn.push($i),gi=!0)}bi.children.forEach(vi)};vi(this.tree.getCompressedTreeNode(ee===this.root?null:ee)),ni&&this.setSelection(In),gi&&this.setFocus(Jn)}processChildren(ee){return this.filter&&(ee=oe.$.filter(ee,Ie=>{const $t=function Qn(Mt){return"boolean"==typeof Mt?Mt?1:0:we(Mt)?xe(Mt.visibility):xe(Mt)}(this.filter.filter(Ie,1));if(2===$t)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===$t})),super.processChildren(ee)}}class wi extends hn{constructor(ee,Ie,rt,$t,cn,Ln={}){super(ee,Ie,rt,$t,Ln),this.user=ee,this.dataSource=cn,this.identityProvider=Ln.identityProvider}createModel(ee,Ie,rt){return new Dn(ee,Ie,rt)}}var xi=e(94667),no=e(29093),Oi=e(16468),Ki=e(38980),ji=e(50703),co=e(9265),yo=e(14759),Go=e(4259),Po=e(52075),wo=e(40902),Do=function(Mt,ee,Ie,rt){var Ln,$t=arguments.length,cn=$t<3?ee:null===rt?rt=Object.getOwnPropertyDescriptor(ee,Ie):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)cn=Reflect.decorate(Mt,ee,Ie,rt);else for(var In=Mt.length-1;In>=0;In--)(Ln=Mt[In])&&(cn=($t<3?Ln(cn):$t>3?Ln(ee,Ie,cn):Ln(ee,Ie))||cn);return $t>3&&cn&&Object.defineProperty(ee,Ie,cn),cn},to=function(Mt,ee){return function(Ie,rt){ee(Ie,rt,Mt)}};const vo=(0,co.yh)("listService");let Oo=class{constructor(ee){this._themeService=ee,this.disposables=new v.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(ee){var Ie,rt;ee!==this._lastFocusedWidget&&(null===(Ie=this._lastFocusedWidget)||void 0===Ie||Ie.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=ee,null===(rt=this._lastFocusedWidget)||void 0===rt||rt.getHTMLElement().classList.add("last-focused"))}register(ee,Ie){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const $t=new C.wD((0,d.dS)(),"");this.disposables.add((0,Po.Jl)($t,this._themeService))}if(this.lists.some($t=>$t.widget===ee))throw new Error("Cannot register the same widget multiple times");const rt={widget:ee,extraContextKeys:Ie};return this.lists.push(rt),ee.getHTMLElement()===document.activeElement&&this.setLastFocusedList(ee),(0,v.F8)(ee.onDidFocus(()=>this.setLastFocusedList(ee)),(0,v.OF)(()=>this.lists.splice(this.lists.indexOf(rt),1)),ee.onDidDispose(()=>{this.lists=this.lists.filter($t=>$t!==rt),this._lastFocusedWidget===ee&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Oo=Do([to(0,wo.XE)],Oo);const ai=new Oi.uy("listFocus",!0),Yt=new Oi.uy("listSupportsMultiselect",!0),kt=Oi.Ao.and(ai,Oi.Ao.not(Ki.d0)),ln=new Oi.uy("listHasSelectionOrFocus",!1),On=new Oi.uy("listDoubleSelection",!1),Fn=new Oi.uy("listMultiSelection",!1),dn=new Oi.uy("listSelectionNavigation",!1),gt=new Oi.uy("listSupportsFind",!0),sn=new Oi.uy("treeElementCanCollapse",!1),nn=new Oi.uy("treeElementHasParent",!1),xn=new Oi.uy("treeElementCanExpand",!1),Pn=new Oi.uy("treeElementHasChild",!1),En=new Oi.uy("treeFindOpen",!1),ht="listTypeNavigationMode",Rt="listAutomaticKeyboardNavigation";function Vt(Mt,ee){const Ie=Mt.createScoped(ee.getHTMLElement());return ai.bindTo(Ie),Ie}const Zt="workbench.list.multiSelectModifier",Cn="workbench.list.openMode",Re="workbench.list.horizontalScrolling",ct="workbench.list.defaultFindMode",_n="workbench.list.keyboardNavigation",Hn="workbench.tree.indent",Ai="workbench.tree.renderIndentGuides",yi="workbench.list.smoothScrolling",di="workbench.list.mouseWheelScrollSensitivity",Ft="workbench.list.fastScrollSensitivity",R="workbench.tree.expandMode";function q(Mt){return"alt"===Mt.getValue(Zt)}class me extends v.JT{constructor(ee){super(),this.configurationService=ee,this.useAltAsMultipleSelectionModifier=q(ee),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(ee=>{ee.affectsConfiguration(Zt)&&(this.useAltAsMultipleSelectionModifier=q(this.configurationService))}))}isSelectionSingleChangeEvent(ee){return this.useAltAsMultipleSelectionModifier?ee.browserEvent.altKey:(0,C.Zo)(ee)}isSelectionRangeChangeEvent(ee){return(0,C.wn)(ee)}}function Ke(Mt,ee){var Ie;const rt=Mt.get(xi.Ui),$t=Mt.get(yo.d),cn=new v.SL;return[Object.assign(Object.assign({},ee),{keyboardNavigationDelegate:{mightProducePrintableCharacter:In=>$t.mightProducePrintableCharacter(In)},smoothScrolling:Boolean(rt.getValue(yi)),mouseWheelScrollSensitivity:rt.getValue(di),fastScrollSensitivity:rt.getValue(Ft),multipleSelectionController:null!==(Ie=ee.multipleSelectionController)&&void 0!==Ie?Ie:cn.add(new me(rt)),keyboardNavigationEventFilter:Kn($t)}),cn]}let Xe=class extends C.aV{constructor(ee,Ie,rt,$t,cn,Ln,In,ni,Jn,gi){const vi=typeof cn.horizontalScrolling<"u"?cn.horizontalScrolling:Boolean(Jn.getValue(Re)),[bi,Pi]=gi.invokeFunction(Ke,cn);super(ee,Ie,rt,$t,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Po.o)(ni.getColorTheme(),Po.O2)),bi),{horizontalScrolling:vi})),this.disposables.add(Pi),this.contextKeyService=Vt(Ln,this),this.themeService=ni,this.listSupportsMultiSelect=Yt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==cn.multipleSelectionSupport),dn.bindTo(this.contextKeyService).set(Boolean(cn.selectionNavigation)),this.listHasSelectionOrFocus=ln.bindTo(this.contextKeyService),this.listDoubleSelection=On.bindTo(this.contextKeyService),this.listMultiSelection=Fn.bindTo(this.contextKeyService),this.horizontalScrolling=cn.horizontalScrolling,this._useAltAsMultipleSelectionModifier=q(Jn),this.disposables.add(this.contextKeyService),this.disposables.add(In.register(this)),cn.overrideStyles&&this.updateStyles(cn.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Yi=this.getSelection(),$i=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Yi.length>0||$i.length>0),this.listMultiSelection.set(Yi.length>1),this.listDoubleSelection.set(2===Yi.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Yi=this.getSelection(),$i=this.getFocus();this.listHasSelectionOrFocus.set(Yi.length>0||$i.length>0)})),this.disposables.add(Jn.onDidChangeConfiguration(Yi=>{Yi.affectsConfiguration(Zt)&&(this._useAltAsMultipleSelectionModifier=q(Jn));let $i={};if(Yi.affectsConfiguration(Re)&&void 0===this.horizontalScrolling){const Co=Boolean(Jn.getValue(Re));$i=Object.assign(Object.assign({},$i),{horizontalScrolling:Co})}if(Yi.affectsConfiguration(yi)){const Co=Boolean(Jn.getValue(yi));$i=Object.assign(Object.assign({},$i),{smoothScrolling:Co})}if(Yi.affectsConfiguration(di)){const Co=Jn.getValue(di);$i=Object.assign(Object.assign({},$i),{mouseWheelScrollSensitivity:Co})}if(Yi.affectsConfiguration(Ft)){const Co=Jn.getValue(Ft);$i=Object.assign(Object.assign({},$i),{fastScrollSensitivity:Co})}Object.keys($i).length>0&&this.updateOptions($i)})),this.navigator=new Sn(this,Object.assign({configurationService:Jn},cn)),this.disposables.add(this.navigator)}updateOptions(ee){super.updateOptions(ee),ee.overrideStyles&&this.updateStyles(ee.overrideStyles),void 0!==ee.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!ee.multipleSelectionSupport)}updateStyles(ee){var Ie;null===(Ie=this._styler)||void 0===Ie||Ie.dispose(),this._styler=(0,Po.Jl)(this,this.themeService,ee)}dispose(){var ee;null===(ee=this._styler)||void 0===ee||ee.dispose(),super.dispose()}};Xe=Do([to(5,Oi.i6),to(6,vo),to(7,wo.XE),to(8,xi.Ui),to(9,co.TG)],Xe);let at=class extends s{constructor(ee,Ie,rt,$t,cn,Ln,In,ni,Jn,gi){const vi=typeof cn.horizontalScrolling<"u"?cn.horizontalScrolling:Boolean(Jn.getValue(Re)),[bi,Pi]=gi.invokeFunction(Ke,cn);super(ee,Ie,rt,$t,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Po.o)(ni.getColorTheme(),Po.O2)),bi),{horizontalScrolling:vi})),this.disposables=new v.SL,this.disposables.add(Pi),this.contextKeyService=Vt(Ln,this),this.themeService=ni,this.horizontalScrolling=cn.horizontalScrolling,this.listSupportsMultiSelect=Yt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==cn.multipleSelectionSupport),dn.bindTo(this.contextKeyService).set(Boolean(cn.selectionNavigation)),this._useAltAsMultipleSelectionModifier=q(Jn),this.disposables.add(this.contextKeyService),this.disposables.add(In.register(this)),cn.overrideStyles&&this.updateStyles(cn.overrideStyles),cn.overrideStyles&&this.disposables.add((0,Po.Jl)(this,ni,cn.overrideStyles)),this.disposables.add(Jn.onDidChangeConfiguration(Yi=>{Yi.affectsConfiguration(Zt)&&(this._useAltAsMultipleSelectionModifier=q(Jn));let $i={};if(Yi.affectsConfiguration(Re)&&void 0===this.horizontalScrolling){const Co=Boolean(Jn.getValue(Re));$i=Object.assign(Object.assign({},$i),{horizontalScrolling:Co})}if(Yi.affectsConfiguration(yi)){const Co=Boolean(Jn.getValue(yi));$i=Object.assign(Object.assign({},$i),{smoothScrolling:Co})}if(Yi.affectsConfiguration(di)){const Co=Jn.getValue(di);$i=Object.assign(Object.assign({},$i),{mouseWheelScrollSensitivity:Co})}if(Yi.affectsConfiguration(Ft)){const Co=Jn.getValue(Ft);$i=Object.assign(Object.assign({},$i),{fastScrollSensitivity:Co})}Object.keys($i).length>0&&this.updateOptions($i)})),this.navigator=new Sn(this,Object.assign({configurationService:Jn},cn)),this.disposables.add(this.navigator)}updateOptions(ee){super.updateOptions(ee),ee.overrideStyles&&this.updateStyles(ee.overrideStyles),void 0!==ee.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!ee.multipleSelectionSupport)}updateStyles(ee){var Ie;null===(Ie=this._styler)||void 0===Ie||Ie.dispose(),this._styler=(0,Po.Jl)(this,this.themeService,ee)}dispose(){var ee;null===(ee=this._styler)||void 0===ee||ee.dispose(),this.disposables.dispose(),super.dispose()}};at=Do([to(5,Oi.i6),to(6,vo),to(7,wo.XE),to(8,xi.Ui),to(9,co.TG)],at);let tn=class extends ${constructor(ee,Ie,rt,$t,cn,Ln,In,ni,Jn,gi,vi){const bi=typeof Ln.horizontalScrolling<"u"?Ln.horizontalScrolling:Boolean(gi.getValue(Re)),[Pi,Wi]=vi.invokeFunction(Ke,Ln);super(ee,Ie,rt,$t,cn,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Po.o)(Jn.getColorTheme(),Po.O2)),Pi),{horizontalScrolling:bi})),this.disposables.add(Wi),this.contextKeyService=Vt(In,this),this.themeService=Jn,this.listSupportsMultiSelect=Yt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Ln.multipleSelectionSupport),dn.bindTo(this.contextKeyService).set(Boolean(Ln.selectionNavigation)),this.listHasSelectionOrFocus=ln.bindTo(this.contextKeyService),this.listDoubleSelection=On.bindTo(this.contextKeyService),this.listMultiSelection=Fn.bindTo(this.contextKeyService),this.horizontalScrolling=Ln.horizontalScrolling,this._useAltAsMultipleSelectionModifier=q(gi),this.disposables.add(this.contextKeyService),this.disposables.add(ni.register(this)),Ln.overrideStyles&&this.updateStyles(Ln.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const $i=this.getSelection(),Co=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set($i.length>0||Co.length>0),this.listMultiSelection.set($i.length>1),this.listDoubleSelection.set(2===$i.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const $i=this.getSelection(),Co=this.getFocus();this.listHasSelectionOrFocus.set($i.length>0||Co.length>0)})),this.disposables.add(gi.onDidChangeConfiguration($i=>{$i.affectsConfiguration(Zt)&&(this._useAltAsMultipleSelectionModifier=q(gi));let Co={};if($i.affectsConfiguration(Re)&&void 0===this.horizontalScrolling){const Ho=Boolean(gi.getValue(Re));Co=Object.assign(Object.assign({},Co),{horizontalScrolling:Ho})}if($i.affectsConfiguration(yi)){const Ho=Boolean(gi.getValue(yi));Co=Object.assign(Object.assign({},Co),{smoothScrolling:Ho})}if($i.affectsConfiguration(di)){const Ho=gi.getValue(di);Co=Object.assign(Object.assign({},Co),{mouseWheelScrollSensitivity:Ho})}if($i.affectsConfiguration(Ft)){const Ho=gi.getValue(Ft);Co=Object.assign(Object.assign({},Co),{fastScrollSensitivity:Ho})}Object.keys(Co).length>0&&this.updateOptions(Co)})),this.navigator=new Tn(this,Object.assign({configurationService:gi},Ln)),this.disposables.add(this.navigator)}updateOptions(ee){super.updateOptions(ee),ee.overrideStyles&&this.updateStyles(ee.overrideStyles),void 0!==ee.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!ee.multipleSelectionSupport)}updateStyles(ee){var Ie;null===(Ie=this._styler)||void 0===Ie||Ie.dispose(),this._styler=(0,Po.Jl)(this,this.themeService,ee)}dispose(){var ee;null===(ee=this._styler)||void 0===ee||ee.dispose(),this.disposables.dispose(),super.dispose()}};tn=Do([to(6,Oi.i6),to(7,vo),to(8,wo.XE),to(9,xi.Ui),to(10,co.TG)],tn);class Jt extends v.JT{constructor(ee,Ie){var rt;super(),this.widget=ee,this._onDidOpen=this._register(new S.Q5),this.onDidOpen=this._onDidOpen.event,this._register(S.ju.filter(this.widget.onDidChangeSelection,$t=>$t.browserEvent instanceof KeyboardEvent)($t=>this.onSelectionFromKeyboard($t))),this._register(this.widget.onPointer($t=>this.onPointer($t.element,$t.browserEvent))),this._register(this.widget.onMouseDblClick($t=>this.onMouseDblClick($t.element,$t.browserEvent))),"boolean"!=typeof Ie?.openOnSingleClick&&Ie?.configurationService?(this.openOnSingleClick="doubleClick"!==Ie?.configurationService.getValue(Cn),this._register(Ie?.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==Ie?.configurationService.getValue(Cn)}))):this.openOnSingleClick=null===(rt=Ie?.openOnSingleClick)||void 0===rt||rt}onSelectionFromKeyboard(ee){if(1!==ee.elements.length)return;const Ie=ee.browserEvent,rt="boolean"!=typeof Ie.preserveFocus||Ie.preserveFocus,$t="boolean"==typeof Ie.pinned?Ie.pinned:!rt;this._open(this.getSelectedElement(),rt,$t,!1,ee.browserEvent)}onPointer(ee,Ie){this.openOnSingleClick&&2!==Ie.detail&&this._open(ee,!0,1===Ie.button,Ie.ctrlKey||Ie.metaKey||Ie.altKey,Ie)}onMouseDblClick(ee,Ie){if(!Ie)return;const rt=Ie.target;rt.classList.contains("monaco-tl-twistie")||rt.classList.contains("monaco-icon-label")&&rt.classList.contains("folder-icon")&&Ie.offsetX<16||this._open(ee,!1,!0,Ie.ctrlKey||Ie.metaKey||Ie.altKey,Ie)}_open(ee,Ie,rt,$t,cn){!ee||this._onDidOpen.fire({editorOptions:{preserveFocus:Ie,pinned:rt,revealIfVisible:!0},sideBySide:$t,element:ee,browserEvent:cn})}}class Sn extends Jt{constructor(ee,Ie){super(ee,Ie),this.widget=ee}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Tn extends Jt{constructor(ee,Ie){super(ee,Ie)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Bn extends Jt{constructor(ee,Ie){super(ee,Ie)}getSelectedElement(){var ee;return null!==(ee=this.widget.getSelection()[0])&&void 0!==ee?ee:void 0}}function Kn(Mt){let ee=!1;return Ie=>{if(Ie.toKeybinding().isModifierKey())return!1;if(ee)return ee=!1,!1;const rt=Mt.softDispatch(Ie,Ie.target);return rt?.enterChord?(ee=!0,!1):(ee=!1,!rt)}}let ti=class extends fn{constructor(ee,Ie,rt,$t,cn,Ln,In,ni,Jn,gi){const{options:vi,getTypeNavigationMode:bi,disposable:Pi}=Ln.invokeFunction(it,cn);super(ee,Ie,rt,$t,vi),this.disposables.add(Pi),this.internals=new Tt(this,cn,bi,cn.overrideStyles,In,ni,Jn,gi),this.disposables.add(this.internals)}updateOptions(ee){super.updateOptions(ee),this.internals.updateOptions(ee)}};ti=Do([to(5,co.TG),to(6,Oi.i6),to(7,vo),to(8,wo.XE),to(9,xi.Ui)],ti);let fi=class extends zn{constructor(ee,Ie,rt,$t,cn,Ln,In,ni,Jn,gi){const{options:vi,getTypeNavigationMode:bi,disposable:Pi}=Ln.invokeFunction(it,cn);super(ee,Ie,rt,$t,vi),this.disposables.add(Pi),this.internals=new Tt(this,cn,bi,cn.overrideStyles,In,ni,Jn,gi),this.disposables.add(this.internals)}updateOptions(ee={}){super.updateOptions(ee),ee.overrideStyles&&this.internals.updateStyleOverrides(ee.overrideStyles),this.internals.updateOptions(ee)}};fi=Do([to(5,co.TG),to(6,Oi.i6),to(7,vo),to(8,wo.XE),to(9,xi.Ui)],fi);let hi=class extends wi{constructor(ee,Ie,rt,$t,cn,Ln,In,ni,Jn,gi,vi){const{options:bi,getTypeNavigationMode:Pi,disposable:Wi}=In.invokeFunction(it,Ln);super(ee,Ie,rt,$t,cn,bi),this.disposables.add(Wi),this.internals=new Tt(this,Ln,Pi,Ln.overrideStyles,ni,Jn,gi,vi),this.disposables.add(this.internals)}updateOptions(ee={}){super.updateOptions(ee),ee.overrideStyles&&this.internals.updateStyleOverrides(ee.overrideStyles),this.internals.updateOptions(ee)}};hi=Do([to(6,co.TG),to(7,Oi.i6),to(8,vo),to(9,wo.XE),to(10,xi.Ui)],hi);let Ot=class extends en{constructor(ee,Ie,rt,$t,cn,Ln,In,ni,Jn,gi,vi){const{options:bi,getTypeNavigationMode:Pi,disposable:Wi}=In.invokeFunction(it,Ln);super(ee,Ie,rt,$t,cn,bi),this.disposables.add(Wi),this.internals=new Tt(this,Ln,Pi,Ln.overrideStyles,ni,Jn,gi,vi),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(ee={}){super.updateOptions(ee),ee.overrideStyles&&this.internals.updateStyleOverrides(ee.overrideStyles),this.internals.updateOptions(ee)}};Ot=Do([to(6,co.TG),to(7,Oi.i6),to(8,vo),to(9,wo.XE),to(10,xi.Ui)],Ot);let te=class extends jn{constructor(ee,Ie,rt,$t,cn,Ln,In,ni,Jn,gi,vi,bi){const{options:Pi,getTypeNavigationMode:Wi,disposable:Yi}=ni.invokeFunction(it,In);super(ee,Ie,rt,$t,cn,Ln,Pi),this.disposables.add(Yi),this.internals=new Tt(this,In,Wi,In.overrideStyles,Jn,gi,vi,bi),this.disposables.add(this.internals)}updateOptions(ee){super.updateOptions(ee),this.internals.updateOptions(ee)}};function ge(Mt){const ee=Mt.getValue(ct);if("highlight"===ee)return vt.Highlight;if("filter"===ee)return vt.Filter;const Ie=Mt.getValue(_n);return"simple"===Ie||"highlight"===Ie?vt.Highlight:"filter"===Ie?vt.Filter:void 0}function it(Mt,ee){var Ie;const rt=Mt.get(xi.Ui),$t=Mt.get(ji.u),cn=Mt.get(Oi.i6),Ln=Mt.get(co.TG),ni=void 0!==ee.horizontalScrolling?ee.horizontalScrolling:Boolean(rt.getValue(Re)),[Jn,gi]=Ln.invokeFunction(Ke,ee),vi=ee.additionalScrollHeight;return{getTypeNavigationMode:()=>{const bi=cn.getContextKeyValue(ht);return"automatic"===bi?C.AA.Automatic:"trigger"===bi||!1===cn.getContextKeyValue(Rt)?C.AA.Trigger:void 0},disposable:gi,options:Object.assign(Object.assign({keyboardSupport:!1},Jn),{indent:"number"==typeof rt.getValue(Hn)?rt.getValue(Hn):void 0,renderIndentGuides:rt.getValue(Ai),smoothScrolling:Boolean(rt.getValue(yi)),defaultFindMode:ge(rt),horizontalScrolling:ni,additionalScrollHeight:vi,hideTwistiesOfChildlessElements:ee.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(Ie=ee.expandOnlyOnTwistieClick)&&void 0!==Ie?Ie:"doubleClick"===rt.getValue(R),contextViewProvider:$t})}}te=Do([to(7,co.TG),to(8,Oi.i6),to(9,vo),to(10,wo.XE),to(11,xi.Ui)],te);let Tt=class{constructor(ee,Ie,rt,$t,cn,Ln,In,ni){var Jn;this.tree=ee,this.themeService=In,this.disposables=[],this.contextKeyService=Vt(cn,ee),this.listSupportsMultiSelect=Yt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Ie.multipleSelectionSupport),dn.bindTo(this.contextKeyService).set(Boolean(Ie.selectionNavigation)),this.listSupportFindWidget=gt.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(Jn=Ie.findWidgetEnabled)||void 0===Jn||Jn),this.hasSelectionOrFocus=ln.bindTo(this.contextKeyService),this.hasDoubleSelection=On.bindTo(this.contextKeyService),this.hasMultiSelection=Fn.bindTo(this.contextKeyService),this.treeElementCanCollapse=sn.bindTo(this.contextKeyService),this.treeElementHasParent=nn.bindTo(this.contextKeyService),this.treeElementCanExpand=xn.bindTo(this.contextKeyService),this.treeElementHasChild=Pn.bindTo(this.contextKeyService),this.treeFindOpen=En.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=q(ni),this.updateStyleOverrides($t);const vi=()=>{const Pi=ee.getFocus()[0];if(!Pi)return;const Wi=ee.getNode(Pi);this.treeElementCanCollapse.set(Wi.collapsible&&!Wi.collapsed),this.treeElementHasParent.set(!!ee.getParentElement(Pi)),this.treeElementCanExpand.set(Wi.collapsible&&Wi.collapsed),this.treeElementHasChild.set(!!ee.getFirstElementChild(Pi))},bi=new Set;bi.add(ht),bi.add(Rt),this.disposables.push(this.contextKeyService,Ln.register(ee),ee.onDidChangeSelection(()=>{const Pi=ee.getSelection(),Wi=ee.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Pi.length>0||Wi.length>0),this.hasMultiSelection.set(Pi.length>1),this.hasDoubleSelection.set(2===Pi.length)})}),ee.onDidChangeFocus(()=>{const Pi=ee.getSelection(),Wi=ee.getFocus();this.hasSelectionOrFocus.set(Pi.length>0||Wi.length>0),vi()}),ee.onDidChangeCollapseState(vi),ee.onDidChangeModel(vi),ee.onDidChangeFindOpenState(Pi=>this.treeFindOpen.set(Pi)),ni.onDidChangeConfiguration(Pi=>{let Wi={};if(Pi.affectsConfiguration(Zt)&&(this._useAltAsMultipleSelectionModifier=q(ni)),Pi.affectsConfiguration(Hn)){const Yi=ni.getValue(Hn);Wi=Object.assign(Object.assign({},Wi),{indent:Yi})}if(Pi.affectsConfiguration(Ai)){const Yi=ni.getValue(Ai);Wi=Object.assign(Object.assign({},Wi),{renderIndentGuides:Yi})}if(Pi.affectsConfiguration(yi)){const Yi=Boolean(ni.getValue(yi));Wi=Object.assign(Object.assign({},Wi),{smoothScrolling:Yi})}if((Pi.affectsConfiguration(ct)||Pi.affectsConfiguration(_n))&&ee.updateOptions({defaultFindMode:ge(ni)}),Pi.affectsConfiguration(Re)&&void 0===Ie.horizontalScrolling){const Yi=Boolean(ni.getValue(Re));Wi=Object.assign(Object.assign({},Wi),{horizontalScrolling:Yi})}if(Pi.affectsConfiguration(R)&&void 0===Ie.expandOnlyOnTwistieClick&&(Wi=Object.assign(Object.assign({},Wi),{expandOnlyOnTwistieClick:"doubleClick"===ni.getValue(R)})),Pi.affectsConfiguration(di)){const Yi=ni.getValue(di);Wi=Object.assign(Object.assign({},Wi),{mouseWheelScrollSensitivity:Yi})}if(Pi.affectsConfiguration(Ft)){const Yi=ni.getValue(Ft);Wi=Object.assign(Object.assign({},Wi),{fastScrollSensitivity:Yi})}Object.keys(Wi).length>0&&ee.updateOptions(Wi)}),this.contextKeyService.onDidChangeContext(Pi=>{Pi.affectsSome(bi)&&ee.updateOptions({typeNavigationMode:rt()})})),this.navigator=new Bn(ee,Object.assign({configurationService:ni},Ie)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(ee){void 0!==ee.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!ee.multipleSelectionSupport)}updateStyleOverrides(ee){(0,v.B9)(this.styler),this.styler=ee?(0,Po.Jl)(this.tree,this.themeService,ee):v.JT.None}dispose(){this.disposables=(0,v.B9)(this.disposables),(0,v.B9)(this.styler),this.styler=void 0}};Tt=Do([to(4,Oi.i6),to(5,vo),to(6,wo.XE),to(7,xi.Ui)],Tt),Go.B.as(no.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,ae.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Zt]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,ae.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,ae.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,ae.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Cn]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ae.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Re]:{type:"boolean",default:!1,description:(0,ae.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[Hn]:{type:"number",default:8,minimum:4,maximum:40,description:(0,ae.NC)("tree indent setting","Controls tree indentation in pixels.")},[Ai]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,ae.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[yi]:{type:"boolean",default:!1,description:(0,ae.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[di]:{type:"number",default:1,markdownDescription:(0,ae.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Ft]:{type:"number",default:5,description:(0,ae.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[ct]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,ae.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,ae.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,ae.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[_n]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,ae.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,ae.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,ae.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,ae.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,ae.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[R]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,ae.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},29693:(Et,X,e)=>{"use strict";e.d(X,{$V:()=>L,VZ:()=>S,in:()=>v,kw:()=>E});var d=e(3778),t=e(80142);const S=(0,e(9265).yh)("logService");var v=(()=>{return(_=v||(v={}))[_.Trace=0]="Trace",_[_.Debug=1]="Debug",_[_.Info=2]="Info",_[_.Warning=3]="Warning",_[_.Error=4]="Error",_[_.Critical=5]="Critical",_[_.Off=6]="Off",v;var _})();const T=v.Info;class C extends t.JT{constructor(){super(...arguments),this.level=T,this._onDidChangeLogLevel=this._register(new d.Q5)}setLevel(s){this.level!==s&&(this.level=s,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class E extends C{constructor(s=T){super(),this.setLevel(s)}trace(s,...m){this.getLevel()<=v.Trace&&console.log("%cTRACE","color: #888",s,...m)}debug(s,...m){this.getLevel()<=v.Debug&&console.log("%cDEBUG","background: #eee; color: #888",s,...m)}info(s,...m){this.getLevel()<=v.Info&&console.log("%c INFO","color: #33f",s,...m)}error(s,...m){this.getLevel()<=v.Error&&console.log("%c  ERR","color: #f33",s,...m)}dispose(){}}class L extends t.JT{constructor(s){super(),this.logger=s,this._register(s)}getLevel(){return this.logger.getLevel()}trace(s,...m){this.logger.trace(s,...m)}debug(s,...m){this.logger.debug(s,...m)}info(s,...m){this.logger.info(s,...m)}error(s,...m){this.logger.error(s,...m)}}},58177:(Et,X,e)=>{"use strict";e.d(X,{H0:()=>v,ZL:()=>S,lT:()=>T});var v,d=e(50819),t=e(55197),l=e(9265),S=(()=>{return(C=S||(S={}))[C.Hint=1]="Hint",C[C.Info=2]="Info",C[C.Warning=4]="Warning",C[C.Error=8]="Error",S;var C})();!function(C){C.compare=function E(c,n){return n-c};const L=Object.create(null);L[C.Error]=(0,t.NC)("sev.error","Error"),L[C.Warning]=(0,t.NC)("sev.warning","Warning"),L[C.Info]=(0,t.NC)("sev.info","Info"),C.toString=function _(c){return L[c]||""},C.fromSeverity=function s(c){switch(c){case d.Z.Error:return C.Error;case d.Z.Warning:return C.Warning;case d.Z.Info:return C.Info;case d.Z.Ignore:return C.Hint}},C.toSeverity=function m(c){switch(c){case C.Error:return d.Z.Error;case C.Warning:return d.Z.Warning;case C.Info:return d.Z.Info;case C.Hint:return d.Z.Ignore}}}(S||(S={})),function(C){const E="";function _(s,m){const c=[E];return c.push(s.source?s.source.replace("\xa6","\\\xa6"):E),c.push(s.code?"string"==typeof s.code?s.code.replace("\xa6","\\\xa6"):s.code.value.replace("\xa6","\\\xa6"):E),c.push(null!=s.severity?S.toString(s.severity):E),c.push(s.message&&m?s.message.replace("\xa6","\\\xa6"):E),c.push(null!=s.startLineNumber?s.startLineNumber.toString():E),c.push(null!=s.startColumn?s.startColumn.toString():E),c.push(null!=s.endLineNumber?s.endLineNumber.toString():E),c.push(null!=s.endColumn?s.endColumn.toString():E),c.push(E),c.join("\xa6")}C.makeKey=function L(s){return _(s,!0)},C.makeKeyOptionalMessage=_}(v||(v={}));const T=(0,l.yh)("markerService")},54436:(Et,X,e)=>{"use strict";e.d(X,{EO:()=>v,lT:()=>S,zb:()=>l});var d=e(50819),t=e(9265),l=d.Z;const S=(0,t.yh)("notificationService");class v{}},44827:(Et,X,e)=>{"use strict";e.d(X,{Gs:()=>L,SW:()=>C,v4:()=>T,xI:()=>_,xn:()=>E});var d=e(80142),t=e(73879),l=e(59547),S=e(9265),v=function(s,m,c,n){return new(c||(c=Promise))(function(p,u){function g(D){try{y(n.next(D))}catch(w){u(w)}}function b(D){try{y(n.throw(D))}catch(w){u(w)}}function y(D){D.done?p(D.value):function a(p){return p instanceof c?p:new c(function(u){u(p)})}(D.value).then(g,b)}y((n=n.apply(s,m||[])).next())})};const T=(0,S.yh)("openerService"),C=Object.freeze({_serviceBrand:void 0,registerOpener:()=>d.JT.None,registerValidator:()=>d.JT.None,registerExternalUriResolver:()=>d.JT.None,setDefaultExternalOpener(){},registerExternalOpener:()=>d.JT.None,open(){return v(this,void 0,void 0,function*(){return!1})},resolveExternalUri(s){return v(this,void 0,void 0,function*(){return{resolved:s,dispose(){}}})}});function E(s,m){return l.o.isUri(s)?(0,t.qq)(s.scheme,m):(0,t.ok)(s,m+":")}function L(s,...m){return m.some(c=>E(s,c))}function _(s){let m;const c=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(s.fragment);return c&&(m={startLineNumber:parseInt(c[1]),startColumn:c[2]?parseInt(c[2]):1,endLineNumber:c[4]?parseInt(c[4]):void 0,endColumn:c[4]?c[5]?parseInt(c[5]):1:void 0},s=s.with({fragment:""})),{selection:m,uri:s}}},55538:(Et,X,e)=>{"use strict";e.d(X,{Ex:()=>S,R9:()=>t,ek:()=>v});var d=e(9265);const t=(0,d.yh)("progressService");Object.freeze({total(){},worked(){},done(){}});class S{constructor(C){this.callback=C}report(C){this._value=C,this.callback(this._value)}}S.None=Object.freeze({report(){}});const v=(0,d.yh)("editorProgressService")},1972:(Et,X,e)=>{"use strict";e.d(X,{IP:()=>v,Ry:()=>S});var d=e(64023),t=e(80142),l=e(4259),S=(()=>{return(C=S||(S={}))[C.PRESERVE=0]="PRESERVE",C[C.LAST=1]="LAST",S;var C})();const v={Quickaccess:"workbench.contributions.quickaccess"};l.B.add(v.Quickaccess,new class T{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(E){return 0===E.prefix.length?this.defaultProvider=E:this.providers.push(E),this.providers.sort((L,_)=>_.prefix.length-L.prefix.length),(0,t.OF)(()=>{this.providers.splice(this.providers.indexOf(E),1),this.defaultProvider===E&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,d.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(E){return E&&this.providers.find(_=>E.startsWith(_.prefix))||this.defaultProvider}})},73622:(Et,X,e)=>{"use strict";e.d(X,{eJ:()=>l,jG:()=>t.jG});var d=e(9265),t=e(39263);const l=(0,d.yh)("quickInputService")},4259:(Et,X,e)=>{"use strict";e.d(X,{B:()=>S});var d=e(94772),t=e(72715);const S=new class l{constructor(){this.data=new Map}add(T,C){d.ok(t.HD(T)),d.ok(t.Kn(C)),d.ok(!this.data.has(T),"There is already an extension with this id"),this.data.set(T,C)}as(T){return this.data.get(T)||null}}},48190:(Et,X,e)=>{"use strict";e.d(X,{Uy:()=>s,vm:()=>n,fk:()=>m});var d=e(3778),t=e(80142),l=e(72715),S=e(48648),v=function(a,p,u,g){return new(u||(u=Promise))(function(y,D){function w(O){try{P(g.next(O))}catch(H){D(H)}}function I(O){try{P(g.throw(O))}catch(H){D(H)}}function P(O){O.done?y(O.value):function b(y){return y instanceof u?y:new u(function(D){D(y)})}(O.value).then(w,I)}P((g=g.apply(a,p||[])).next())})},T=(()=>{return(a=T||(T={}))[a.None=0]="None",a[a.Initialized=1]="Initialized",a[a.Closed=2]="Closed",T;var a})();let C=(()=>{class a extends t.JT{constructor(u,g=Object.create(null)){super(),this.database=u,this.options=g,this._onDidChangeStorage=this._register(new d.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=T.None,this.cache=new Map,this.flushDelayer=new S.rH(a.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(u=>this.onDidChangeItemsExternal(u)))}onDidChangeItemsExternal(u){var g,b;null===(g=u.changed)||void 0===g||g.forEach((y,D)=>this.accept(D,y)),null===(b=u.deleted)||void 0===b||b.forEach(y=>this.accept(y,void 0))}accept(u,g){if(this.state===T.Closed)return;let b=!1;(0,l.Jp)(g)?b=this.cache.delete(u):this.cache.get(u)!==g&&(this.cache.set(u,g),b=!0),b&&this._onDidChangeStorage.fire(u)}get(u,g){const b=this.cache.get(u);return(0,l.Jp)(b)?g:b}getBoolean(u,g){const b=this.get(u);return(0,l.Jp)(b)?g:"true"===b}getNumber(u,g){const b=this.get(u);return(0,l.Jp)(b)?g:parseInt(b,10)}set(u,g){return v(this,void 0,void 0,function*(){if(this.state===T.Closed)return;if((0,l.Jp)(g))return this.delete(u);const b=String(g);return this.cache.get(u)!==b?(this.cache.set(u,b),this.pendingInserts.set(u,b),this.pendingDeletes.delete(u),this._onDidChangeStorage.fire(u),this.doFlush()):void 0})}delete(u){return v(this,void 0,void 0,function*(){if(this.state!==T.Closed&&this.cache.delete(u))return this.pendingDeletes.has(u)||this.pendingDeletes.add(u),this.pendingInserts.delete(u),this._onDidChangeStorage.fire(u),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return v(this,void 0,void 0,function*(){if(!this.hasPending)return;const u={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(u).finally(()=>{var g;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(g=this.whenFlushedCallbacks.pop())||void 0===g||g()})})}doFlush(u){return v(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),u)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return a.DEFAULT_FLUSH_DELAY=100,a})();class E{constructor(){this.onDidChangeItemsExternal=d.ju.None,this.items=new Map}updateItems(p){var u,g;return v(this,void 0,void 0,function*(){null===(u=p.insert)||void 0===u||u.forEach((b,y)=>this.items.set(y,b)),null===(g=p.delete)||void 0===g||g.forEach(b=>this.items.delete(b))})}}var L=e(9265);const _="__$__targetStorageMarker",s=(0,L.yh)("storageService");var m=(()=>{return(a=m||(m={}))[a.NONE=0]="NONE",a[a.SHUTDOWN=1]="SHUTDOWN",m;var a})();let c=(()=>{class a extends t.JT{constructor(u={flushInterval:a.DEFAULT_FLUSH_INTERVAL}){super(),this.options=u,this._onDidChangeValue=this._register(new d.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new d.K3),this._onWillSaveState=this._register(new d.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(u,g){if(g===_){switch(u){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:u})}else this._onDidChangeValue.fire({scope:u,key:g,target:this.getKeyTargets(u)[g]})}get(u,g,b){var y;return null===(y=this.getStorage(g))||void 0===y?void 0:y.get(u,b)}getBoolean(u,g,b){var y;return null===(y=this.getStorage(g))||void 0===y?void 0:y.getBoolean(u,b)}getNumber(u,g,b){var y;return null===(y=this.getStorage(g))||void 0===y?void 0:y.getNumber(u,b)}store(u,g,b,y){(0,l.Jp)(g)?this.remove(u,b):this.withPausedEmitters(()=>{var D;this.updateKeyTarget(u,b,y),null===(D=this.getStorage(b))||void 0===D||D.set(u,g)})}remove(u,g){this.withPausedEmitters(()=>{var b;this.updateKeyTarget(u,g,void 0),null===(b=this.getStorage(g))||void 0===b||b.delete(u)})}withPausedEmitters(u){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{u()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(u,g,b){var y,D;const w=this.getKeyTargets(g);"number"==typeof b?w[u]!==b&&(w[u]=b,null===(y=this.getStorage(g))||void 0===y||y.set(_,JSON.stringify(w))):"number"==typeof w[u]&&(delete w[u],null===(D=this.getStorage(g))||void 0===D||D.set(_,JSON.stringify(w)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(u){switch(u){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(u){const g=this.get(_,u);if(g)try{return JSON.parse(g)}catch{}return Object.create(null)}}return a.DEFAULT_FLUSH_INTERVAL=6e4,a})();class n extends c{constructor(){super(),this.applicationStorage=this._register(new C(new E)),this.profileStorage=this._register(new C(new E)),this.workspaceStorage=this._register(new C(new E)),this._register(this.workspaceStorage.onDidChangeStorage(p=>this.emitDidChangeValue(1,p))),this._register(this.profileStorage.onDidChangeStorage(p=>this.emitDidChangeValue(0,p))),this._register(this.applicationStorage.onDidChangeStorage(p=>this.emitDidChangeValue(-1,p)))}getStorage(p){switch(p){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},24131:(Et,X,e)=>{"use strict";e.d(X,{b:()=>t});const t=(0,e(9265).yh)("telemetryService")},4062:(Et,X,e)=>{"use strict";e.d(X,{$DX:()=>it,$d5:()=>ct,$ny:()=>Ws,ABB:()=>st,AS1:()=>_n,AWI:()=>yn,BOY:()=>Fs,BQ0:()=>ce,Bqu:()=>nn,C3g:()=>oe,CA6:()=>br,CNo:()=>gn,Cdg:()=>hi,CzK:()=>yo,D0T:()=>be,D1_:()=>Fe,DEr:()=>Ot,Dut:()=>hn,E3h:()=>Tt,EPQ:()=>Ee,EQn:()=>Sn,ES4:()=>Li,ESD:()=>he,EiJ:()=>si,F3d:()=>Cn,F9q:()=>Yt,Fm_:()=>sa,Fu1:()=>ji,GO4:()=>Ze,GYc:()=>ae,Gj_:()=>er,Gwp:()=>Hn,HCL:()=>Oi,Hfx:()=>qe,Hz8:()=>te,IPX:()=>L,IYc:()=>Zs,Ido:()=>p,Itd:()=>js,Ivo:()=>Or,JpG:()=>ir,K19:()=>zn,LLc:()=>On,L_H:()=>tt,L_t:()=>Fn,LoV:()=>An,M6C:()=>Pn,MUv:()=>ro,NOs:()=>ye,NPS:()=>Kn,Ng6:()=>ot,OLZ:()=>Jo,OZR:()=>pe,Oop:()=>sn,P4M:()=>wo,P6G:()=>c,P6Y:()=>ai,PRb:()=>ne,PX0:()=>Ai,PpC:()=>wi,Pvw:()=>Z,QO2:()=>E,R80:()=>b,RV_:()=>Le,Rzx:()=>so,SPM:()=>mr,SUG:()=>Ne,SUY:()=>$s,SUp:()=>$e,Saq:()=>me,Sbf:()=>rn,Snq:()=>Vs,SwI:()=>F,T83:()=>Ut,Tnx:()=>En,UnT:()=>tn,VVv:()=>Qn,Vqd:()=>fi,XEs:()=>V,XL$:()=>kt,XZx:()=>g,Xy4:()=>ks,YI3:()=>Se,ZGJ:()=>qt,ZnX:()=>qi,_2n:()=>gt,_Yy:()=>jn,_bK:()=>dn,_jn:()=>Ys,_lC:()=>M,_t9:()=>xe,_wn:()=>Ae,b6y:()=>mt,b7$:()=>Lt,bKB:()=>no,brw:()=>pr,c63:()=>ut,cbQ:()=>ti,cvW:()=>je,dCr:()=>xn,dRz:()=>n,dt_:()=>j,etL:()=>dt,fEB:()=>Dn,few:()=>Ge,g8u:()=>Q,g_n:()=>oo,gkn:()=>Qt,gpD:()=>_t,hEj:()=>li,hX8:()=>xi,hzo:()=>Do,iFQ:()=>Dt,j51:()=>vo,j5u:()=>nt,jUe:()=>_o,jbW:()=>ge,kJk:()=>Mn,kVY:()=>Qs,keg:()=>Go,kvU:()=>Vt,kwl:()=>dr,lRK:()=>y,lUq:()=>Mt,lWp:()=>Vn,lXJ:()=>vt,loF:()=>vn,mHy:()=>ln,mV1:()=>Re,nd:()=>Ue,nyM:()=>xo,oQ$:()=>fn,oSI:()=>q,opG:()=>Ct,ov3:()=>Rr,pW3:()=>Bt,paE:()=>we,phM:()=>Ki,pnM:()=>mo,ptc:()=>jt,qBU:()=>_e,qeD:()=>ve,rg2:()=>ht,rh:()=>B,s$:()=>Zt,sEe:()=>z,sKV:()=>co,sgC:()=>O,tZ6:()=>Ht,uoC:()=>Kt,url:()=>P,uxu:()=>Jt,vGG:()=>R,xEn:()=>le,xL1:()=>D,xi6:()=>to,y65:()=>Ke,yJx:()=>en,yb5:()=>oi,ynu:()=>et,ypS:()=>Po,ytC:()=>Rt,zJb:()=>$,zKr:()=>bt,zOm:()=>Oo,zRJ:()=>Qe});var d=e(48648),t=e(69355),l=e(3778),S=e(72715),v=e(55197),T=e(7886),C=e(4259);function E(ho){return`--vscode-${ho.replace(/\./g,"-")}`}const L={ColorContribution:"base.contributions.colors"},s=new class _{constructor(){this._onDidChangeSchema=new l.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(ko,gs,rs,xs=!1,ms){this.colorsById[ko]={id:ko,description:rs,defaults:gs,needsTransparency:xs,deprecationMessage:ms};const Ns={type:"string",description:rs,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return ms&&(Ns.deprecationMessage=ms),this.colorSchema.properties[ko]=Ns,this.colorReferenceSchema.enum.push(ko),this.colorReferenceSchema.enumDescriptions.push(rs),this._onDidChangeSchema.fire(),ko}getColors(){return Object.keys(this.colorsById).map(ko=>this.colorsById[ko])}resolveDefaultColor(ko,gs){const rs=this.colorsById[ko];if(rs&&rs.defaults)return Vs(rs.defaults[gs.type],gs)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((gs,rs)=>{const xs=-1===gs.indexOf(".")?0:1,ms=-1===rs.indexOf(".")?0:1;return xs!==ms?xs-ms:gs.localeCompare(rs)}).map(gs=>`- \`${gs}\`: ${this.colorsById[gs].description}`).join("\n")}};function c(ho,ko,gs,rs,xs){return s.registerColor(ho,function m(ho){return null===ho||typeof ho.hcLight>"u"&&(ho.hcLight=null===ho.hcDark||"string"==typeof ho.hcDark?ho.hcDark:ho.light),ho}(ko),gs,rs,xs)}C.B.add(L.ColorContribution,s);const n=c("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},v.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),p=(c("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},v.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),c("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},v.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."))),g=(c("descriptionForeground",{light:"#717171",dark:qi(n,.7),hcDark:qi(n,.7),hcLight:qi(n,.7)},v.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),c("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},v.NC("iconForeground","The default color for icons in the workbench."))),b=c("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},v.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),y=c("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},v.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),D=c("contrastActiveBorder",{light:null,dark:null,hcDark:b,hcLight:b},v.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),P=(c("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},v.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),c("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:t.Il.black,hcLight:"#292929"},v.NC("textSeparatorForeground","Color for text separators.")),c("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v.NC("textLinkForeground","Foreground color for links in text."))),O=c("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),F=(c("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},v.NC("textPreformatForeground","Foreground color for preformatted text segments.")),c("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},v.NC("textBlockQuoteBackground","Background color for block quotes in text.")),c("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:t.Il.white,hcLight:"#292929"},v.NC("textBlockQuoteBorder","Border color for block quotes in text.")),c("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:t.Il.black,hcLight:"#F2F2F2"},v.NC("textCodeBlockBackground","Background color for code blocks in text."))),B=c("widget.shadow",{dark:qi(t.Il.black,.36),light:qi(t.Il.black,.16),hcDark:null,hcLight:null},v.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),z=c("input.background",{dark:"#3C3C3C",light:t.Il.white,hcDark:t.Il.black,hcLight:t.Il.white},v.NC("inputBoxBackground","Input box background.")),$=c("input.foreground",{dark:n,light:n,hcDark:n,hcLight:n},v.NC("inputBoxForeground","Input box foreground.")),j=c("input.border",{dark:null,light:null,hcDark:y,hcLight:y},v.NC("inputBoxBorder","Input box border.")),ne=c("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:y,hcLight:y},v.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),V=(c("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},v.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),c("inputOption.activeBackground",{dark:qi(b,.4),light:qi(b,.2),hcDark:t.Il.transparent,hcLight:t.Il.transparent},v.NC("inputOption.activeBackground","Background hover color of options in input fields."))),Z=c("inputOption.activeForeground",{dark:t.Il.white,light:t.Il.black,hcDark:null,hcLight:n},v.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),M=(c("input.placeholderForeground",{light:qi(n,.5),dark:qi(n,.5),hcDark:qi(n,.7),hcLight:qi(n,.7)},v.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),c("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:t.Il.black,hcLight:t.Il.white},v.NC("inputValidationInfoBackground","Input validation background color for information severity."))),Se=c("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:n},v.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),Ee=c("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:y,hcLight:y},v.NC("inputValidationInfoBorder","Input validation border color for information severity.")),Le=c("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:t.Il.black,hcLight:t.Il.white},v.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),Ne=c("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:n},v.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),oe=c("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:y,hcLight:y},v.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),we=c("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:t.Il.black,hcLight:t.Il.white},v.NC("inputValidationErrorBackground","Input validation background color for error severity.")),xe=c("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:n},v.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),pe=c("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},v.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Te=c("dropdown.background",{dark:"#3C3C3C",light:t.Il.white,hcDark:t.Il.black,hcLight:t.Il.white},v.NC("dropdownBackground","Dropdown background.")),ke=(c("dropdown.listBackground",{dark:null,light:null,hcDark:t.Il.black,hcLight:t.Il.white},v.NC("dropdownListBackground","Dropdown list background.")),c("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:t.Il.white,hcLight:n},v.NC("dropdownForeground","Dropdown foreground."))),ze=c("dropdown.border",{dark:Te,light:"#CECECE",hcDark:y,hcLight:y},v.NC("dropdownBorder","Dropdown border.")),$e=c("checkbox.background",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v.NC("checkbox.background","Background color of checkbox widget.")),ce=c("checkbox.foreground",{dark:ke,light:ke,hcDark:ke,hcLight:ke},v.NC("checkbox.foreground","Foreground color of checkbox widget.")),Ue=c("checkbox.border",{dark:ze,light:ze,hcDark:ze,hcLight:ze},v.NC("checkbox.border","Border color of checkbox widget.")),nt=c("button.foreground",{dark:t.Il.white,light:t.Il.white,hcDark:t.Il.white,hcLight:t.Il.white},v.NC("buttonForeground","Button foreground color.")),Dt=c("button.separator",{dark:qi(nt,.4),light:qi(nt,.4),hcDark:qi(nt,.4),hcLight:qi(nt,.4)},v.NC("buttonSeparator","Button separator color.")),Lt=c("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},v.NC("buttonBackground","Button background color.")),Ze=c("button.hoverBackground",{dark:Ws(Lt,.2),light:Ys(Lt,.2),hcDark:null,hcLight:null},v.NC("buttonHoverBackground","Button background color when hovering.")),ae=c("button.border",{dark:y,light:y,hcDark:y,hcLight:y},v.NC("buttonBorder","Button border color.")),_e=c("button.secondaryForeground",{dark:t.Il.white,light:t.Il.white,hcDark:t.Il.white,hcLight:n},v.NC("buttonSecondaryForeground","Secondary button foreground color.")),he=c("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:t.Il.white},v.NC("buttonSecondaryBackground","Secondary button background color.")),le=c("button.secondaryHoverBackground",{dark:Ws(he,.2),light:Ys(he,.2),hcDark:null,hcLight:null},v.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Q=c("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:t.Il.black,hcLight:"#0F4A85"},v.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),ve=c("badge.foreground",{dark:t.Il.white,light:"#333",hcDark:t.Il.white,hcLight:t.Il.white},v.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ae=c("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},v.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),dt=c("scrollbarSlider.background",{dark:t.Il.fromHex("#797979").transparent(.4),light:t.Il.fromHex("#646464").transparent(.4),hcDark:qi(y,.6),hcLight:qi(y,.4)},v.NC("scrollbarSliderBackground","Scrollbar slider background color.")),st=c("scrollbarSlider.hoverBackground",{dark:t.Il.fromHex("#646464").transparent(.7),light:t.Il.fromHex("#646464").transparent(.7),hcDark:qi(y,.8),hcLight:qi(y,.8)},v.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),et=c("scrollbarSlider.activeBackground",{dark:t.Il.fromHex("#BFBFBF").transparent(.4),light:t.Il.fromHex("#000000").transparent(.6),hcDark:y,hcLight:y},v.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Qe=c("progressBar.background",{dark:t.Il.fromHex("#0E70C0"),light:t.Il.fromHex("#0E70C0"),hcDark:y,hcLight:y},v.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),tt=c("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),vt=c("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},v.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),mt=c("editorError.border",{dark:null,light:null,hcDark:t.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},v.NC("errorBorder","Border color of error boxes in the editor.")),_t=c("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Kt=c("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},v.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Bt=c("editorWarning.border",{dark:null,light:null,hcDark:t.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},v.NC("warningBorder","Border color of warning boxes in the editor.")),Ge=c("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ut=c("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},v.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Ut=c("editorInfo.border",{dark:null,light:null,hcDark:t.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},v.NC("infoBorder","Border color of info boxes in the editor.")),hn=c("editorHint.foreground",{dark:t.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},v.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Dn=c("editorHint.border",{dark:null,light:null,hcDark:t.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},v.NC("hintBorder","Border color of hint boxes in the editor.")),je=(c("sash.hoverBorder",{dark:b,light:b,hcDark:b,hcLight:b},v.NC("sashActiveBorder","Border color of active sashes.")),c("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:t.Il.black,hcLight:t.Il.white},v.NC("editorBackground","Editor background color."))),ye=c("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:t.Il.white,hcLight:n},v.NC("editorForeground","Editor default foreground color.")),be=(c("editorStickyScroll.background",{light:je,dark:je,hcDark:je,hcLight:je},v.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),c("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:t.Il.fromHex("#0F4A85").transparent(.1)},v.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),c("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:t.Il.white},v.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),qe=c("editorWidget.foreground",{dark:n,light:n,hcDark:n,hcLight:n},v.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Fe=c("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:y,hcLight:y},v.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),ot=c("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},v.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),bt=c("quickInput.background",{dark:be,light:be,hcDark:be,hcLight:be},v.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Ht=c("quickInput.foreground",{dark:qe,light:qe,hcDark:qe,hcLight:qe},v.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),vn=c("quickInputTitle.background",{dark:new t.Il(new t.VS(255,255,255,.105)),light:new t.Il(new t.VS(0,0,0,.06)),hcDark:"#000000",hcLight:t.Il.white},v.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),Mn=c("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:t.Il.white,hcLight:"#0F4A85"},v.NC("pickerGroupForeground","Quick picker color for grouping labels.")),Ct=c("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:t.Il.white,hcLight:"#0F4A85"},v.NC("pickerGroupBorder","Quick picker color for grouping borders.")),fn=c("keybindingLabel.background",{dark:new t.Il(new t.VS(128,128,128,.17)),light:new t.Il(new t.VS(221,221,221,.4)),hcDark:t.Il.transparent,hcLight:t.Il.transparent},v.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Vn=c("keybindingLabel.foreground",{dark:t.Il.fromHex("#CCCCCC"),light:t.Il.fromHex("#555555"),hcDark:t.Il.white,hcLight:n},v.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),yn=c("keybindingLabel.border",{dark:new t.Il(new t.VS(51,51,51,.6)),light:new t.Il(new t.VS(204,204,204,.4)),hcDark:new t.Il(new t.VS(111,195,223)),hcLight:y},v.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),zn=c("keybindingLabel.bottomBorder",{dark:new t.Il(new t.VS(68,68,68,.6)),light:new t.Il(new t.VS(187,187,187,.4)),hcDark:new t.Il(new t.VS(111,195,223)),hcLight:n},v.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),li=c("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},v.NC("editorSelectionBackground","Color of the editor selection.")),oi=c("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:t.Il.white},v.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Li=c("editor.inactiveSelectionBackground",{light:qi(li,.5),dark:qi(li,.5),hcDark:qi(li,.7),hcLight:qi(li,.5)},v.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),so=c("editor.selectionHighlightBackground",{light:sr(li,je,.3,.6),dark:sr(li,je,.3,.6),hcDark:null,hcLight:null},v.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),oo=c("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:D,hcLight:D},v.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),xo=c("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},v.NC("editorFindMatch","Color of the current search match.")),ro=c("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},v.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),_o=c("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},v.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),mo=c("editor.findMatchBorder",{light:null,dark:null,hcDark:D,hcLight:D},v.NC("editorFindMatchBorder","Border color of the current search match.")),si=c("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:D,hcLight:D},v.NC("findMatchHighlightBorder","Border color of the other search matches.")),Qt=c("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:qi(D,.4),hcLight:qi(D,.4)},v.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),jt=(c("searchEditor.findMatchBackground",{light:qi(ro,.66),dark:qi(ro,.66),hcDark:ro,hcLight:ro},v.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),c("searchEditor.findMatchBorder",{light:qi(si,.66),dark:qi(si,.66),hcDark:si,hcLight:si},v.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),c("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},v.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0)),en=c("editorHoverWidget.background",{light:be,dark:be,hcDark:be,hcLight:be},v.NC("hoverBackground","Background color of the editor hover.")),rn=c("editorHoverWidget.foreground",{light:qe,dark:qe,hcDark:qe,hcLight:qe},v.NC("hoverForeground","Foreground color of the editor hover.")),gn=c("editorHoverWidget.border",{light:Fe,dark:Fe,hcDark:Fe,hcLight:Fe},v.NC("hoverBorder","Border color of the editor hover.")),An=c("editorHoverWidget.statusBarBackground",{dark:Ws(en,.2),light:Ys(en,.05),hcDark:be,hcLight:be},v.NC("statusBarBackground","Background color of the editor hover status bar.")),jn=c("editorLink.activeForeground",{dark:"#4E94CE",light:t.Il.blue,hcDark:t.Il.cyan,hcLight:"#292929"},v.NC("activeLinkForeground","Color of active links.")),Qn=c("editorInlayHint.foreground",{dark:qi(ve,.8),light:qi(ve,.8),hcDark:ve,hcLight:ve},v.NC("editorInlayHintForeground","Foreground color of inline hints")),wi=c("editorInlayHint.background",{dark:qi(Q,.6),light:qi(Q,.3),hcDark:Q,hcLight:Q},v.NC("editorInlayHintBackground","Background color of inline hints")),xi=c("editorInlayHint.typeForeground",{dark:Qn,light:Qn,hcDark:Qn,hcLight:Qn},v.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),no=c("editorInlayHint.typeBackground",{dark:wi,light:wi,hcDark:wi,hcLight:wi},v.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Oi=c("editorInlayHint.parameterForeground",{dark:Qn,light:Qn,hcDark:Qn,hcLight:Qn},v.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Ki=c("editorInlayHint.parameterBackground",{dark:wi,light:wi,hcDark:wi,hcLight:wi},v.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),ji=c("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},v.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),co=c("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),yo=new t.Il(new t.VS(155,185,85,.2)),Go=new t.Il(new t.VS(255,0,0,.2)),Po=c("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},v.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),wo=c("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},v.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Do=c("diffEditor.insertedLineBackground",{dark:yo,light:yo,hcDark:null,hcLight:null},v.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),to=c("diffEditor.removedLineBackground",{dark:Go,light:Go,hcDark:null,hcLight:null},v.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),vo=c("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Oo=c("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),ai=c("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Yt=c("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),kt=c("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},v.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),ln=c("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},v.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),On=c("diffEditor.border",{dark:null,light:null,hcDark:y,hcLight:y},v.NC("diffEditorBorder","Border color between the two text editors.")),Fn=c("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},v.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),dn=c("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),gt=c("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),sn=c("list.focusOutline",{dark:b,light:b,hcDark:D,hcLight:D},v.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nn=c("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),xn=c("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:t.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pn=c("list.activeSelectionForeground",{dark:t.Il.white,light:t.Il.white,hcDark:null,hcLight:null},v.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),En=c("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ht=c("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:t.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Rt=c("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Vt=c("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Zt=c("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Cn=c("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Re=c("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:t.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),ct=c("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),_n=c("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},v.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Hn=c("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:b,hcLight:b},v.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Ai=c("list.focusHighlightForeground",{dark:Hn,light:function yr(ho,ko,gs){return{op:5,if:ho,then:ko,else:gs}}(xn,Hn,"#BBE7FF"),hcDark:Hn,hcLight:Hn},v.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),R=(c("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},v.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),c("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},v.NC("listErrorForeground","Foreground color of list items containing errors.")),c("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},v.NC("listWarningForeground","Foreground color of list items containing warnings.")),c("listFilterWidget.background",{light:Ys(be,0),dark:Ws(be,0),hcDark:be,hcLight:be},v.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),q=c("listFilterWidget.outline",{dark:t.Il.transparent,light:t.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},v.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),me=c("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},v.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Ke=c("listFilterWidget.shadow",{dark:B,light:B,hcDark:B,hcLight:B},v.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),tn=(c("list.filterMatchBackground",{dark:ro,light:ro,hcDark:null,hcLight:null},v.NC("listFilterMatchHighlight","Background color of the filtered match.")),c("list.filterMatchBorder",{dark:si,light:si,hcDark:y,hcLight:D},v.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),c("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},v.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),Jt=c("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},v.NC("tableColumnsBorder","Table border color between columns.")),Sn=c("tree.tableOddRowsBackground",{dark:qi(n,.04),light:qi(n,.04),hcDark:null,hcLight:null},v.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),Bn=(c("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},v.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),c("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,v.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),Kn=c("quickInputList.focusForeground",{dark:Pn,light:Pn,hcDark:Pn,hcLight:Pn},v.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ti=c("quickInputList.focusIconForeground",{dark:En,light:En,hcDark:En,hcLight:En},v.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),fi=c("quickInputList.focusBackground",{dark:dr(Bn,xn),light:dr(Bn,xn),hcDark:null,hcLight:null},v.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),hi=c("menu.border",{dark:null,light:null,hcDark:y,hcLight:y},v.NC("menuBorder","Border color of menus.")),Ot=c("menu.foreground",{dark:ke,light:n,hcDark:ke,hcLight:ke},v.NC("menuForeground","Foreground color of menu items.")),te=c("menu.background",{dark:Te,light:Te,hcDark:Te,hcLight:Te},v.NC("menuBackground","Background color of menu items.")),ge=c("menu.selectionForeground",{dark:Pn,light:Pn,hcDark:Pn,hcLight:Pn},v.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),it=c("menu.selectionBackground",{dark:xn,light:xn,hcDark:xn,hcLight:xn},v.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Tt=c("menu.selectionBorder",{dark:null,light:null,hcDark:D,hcLight:D},v.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),qt=c("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:y,hcLight:y},v.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Mt=c("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},v.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Pi=(c("toolbar.hoverOutline",{dark:null,light:null,hcDark:D,hcLight:D},v.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),c("toolbar.activeBackground",{dark:Ws(Mt,.1),light:Ys(Mt,.1),hcDark:null,hcLight:null},v.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),c("editor.snippetTabstopHighlightBackground",{dark:new t.Il(new t.VS(124,124,124,.3)),light:new t.Il(new t.VS(10,50,100,.2)),hcDark:new t.Il(new t.VS(124,124,124,.3)),hcLight:new t.Il(new t.VS(10,50,100,.2))},v.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),c("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),c("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),c("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new t.Il(new t.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},v.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),c("breadcrumb.foreground",{light:qi(n,.8),dark:qi(n,.8),hcDark:qi(n,.8),hcLight:qi(n,.8)},v.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),c("breadcrumb.background",{light:je,dark:je,hcDark:je,hcLight:je},v.NC("breadcrumbsBackground","Background color of breadcrumb items.")),c("breadcrumb.focusForeground",{light:Ys(n,.2),dark:Ws(n,.1),hcDark:Ws(n,.1),hcLight:Ws(n,.1)},v.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),c("breadcrumb.activeSelectionForeground",{light:Ys(n,.2),dark:Ws(n,.1),hcDark:Ws(n,.1),hcLight:Ws(n,.1)},v.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),c("breadcrumbPicker.background",{light:be,dark:be,hcDark:be,hcLight:be},v.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),t.Il.fromHex("#40C8AE").transparent(.5)),Wi=t.Il.fromHex("#40A6FF").transparent(.5),Yi=t.Il.fromHex("#606060").transparent(.4),$i=.4,Ho=c("merge.currentHeaderBackground",{dark:Pi,light:Pi,hcDark:null,hcLight:null},v.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),is=(c("merge.currentContentBackground",{dark:qi(Ho,$i),light:qi(Ho,$i),hcDark:qi(Ho,$i),hcLight:qi(Ho,$i)},v.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.incomingHeaderBackground",{dark:Wi,light:Wi,hcDark:null,hcLight:null},v.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Ls=(c("merge.incomingContentBackground",{dark:qi(is,$i),light:qi(is,$i),hcDark:qi(is,$i),hcLight:qi(is,$i)},v.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.commonHeaderBackground",{dark:Yi,light:Yi,hcDark:null,hcLight:null},v.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Ko=(c("merge.commonContentBackground",{dark:qi(Ls,$i),light:qi(Ls,$i),hcDark:qi(Ls,$i),hcLight:qi(Ls,$i)},v.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),c("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},v.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),sa=(c("editorOverviewRuler.currentContentForeground",{dark:qi(Ho,1),light:qi(Ho,1),hcDark:Ko,hcLight:Ko},v.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.incomingContentForeground",{dark:qi(is,1),light:qi(is,1),hcDark:Ko,hcLight:Ko},v.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.commonContentForeground",{dark:qi(Ls,1),light:qi(Ls,1),hcDark:Ko,hcLight:Ko},v.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),c("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},v.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),mr=c("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},v.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),$s=c("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},v.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Zs=c("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},v.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Rr=c("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},v.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),er=c("minimap.errorHighlight",{dark:new t.Il(new t.VS(255,18,18,.7)),light:new t.Il(new t.VS(255,18,18,.7)),hcDark:new t.Il(new t.VS(255,50,50,1)),hcLight:"#B5200D"},v.NC("minimapError","Minimap marker color for errors.")),Or=c("minimap.warningHighlight",{dark:Kt,light:Kt,hcDark:Bt,hcLight:Bt},v.NC("overviewRuleWarning","Minimap marker color for warnings.")),Qs=c("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("minimapBackground","Minimap background color.")),js=c("minimap.foregroundOpacity",{dark:t.Il.fromHex("#000f"),light:t.Il.fromHex("#000f"),hcDark:t.Il.fromHex("#000f"),hcLight:t.Il.fromHex("#000f")},v.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),br=c("minimapSlider.background",{light:qi(dt,.5),dark:qi(dt,.5),hcDark:qi(dt,.5),hcLight:qi(dt,.5)},v.NC("minimapSliderBackground","Minimap slider background color.")),ks=c("minimapSlider.hoverBackground",{light:qi(st,.5),dark:qi(st,.5),hcDark:qi(st,.5),hcLight:qi(st,.5)},v.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),pr=c("minimapSlider.activeBackground",{light:qi(et,.5),dark:qi(et,.5),hcDark:qi(et,.5),hcLight:qi(et,.5)},v.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),ir=c("problemsErrorIcon.foreground",{dark:vt,light:vt,hcDark:vt,hcLight:vt},v.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Fs=c("problemsWarningIcon.foreground",{dark:Kt,light:Kt,hcDark:Kt,hcLight:Kt},v.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Jo=c("problemsInfoIcon.foreground",{dark:ut,light:ut,hcDark:ut,hcLight:ut},v.NC("problemsInfoIconForeground","The color used for the problems info icon."));function Ys(ho,ko){return{op:0,value:ho,factor:ko}}function Ws(ho,ko){return{op:1,value:ho,factor:ko}}function qi(ho,ko){return{op:2,value:ho,factor:ko}}function dr(...ho){return{op:3,values:ho}}function sr(ho,ko,gs,rs){return{op:4,value:ho,background:ko,factor:gs,transparency:rs}}function Vs(ho,ko){if(null!==ho){if("string"==typeof ho)return"#"===ho[0]?t.Il.fromHex(ho):ko.getColor(ho);if(ho instanceof t.Il)return ho;if("object"==typeof ho)return function Zr(ho,ko){var gs,rs,xs;switch(ho.op){case 0:return null===(gs=Vs(ho.value,ko))||void 0===gs?void 0:gs.darken(ho.factor);case 1:return null===(rs=Vs(ho.value,ko))||void 0===rs?void 0:rs.lighten(ho.factor);case 2:return null===(xs=Vs(ho.value,ko))||void 0===xs?void 0:xs.transparent(ho.factor);case 3:for(const ms of ho.values){const Hs=Vs(ms,ko);if(Hs)return Hs}return;case 5:return Vs(ko.defines(ho.if)?ho.then:ho.else,ko);case 4:{const ms=Vs(ho.value,ko);if(!ms)return;const Hs=Vs(ho.background,ko);return Hs?ms.isDarkerThan(Hs)?t.Il.getLighterColor(ms,Hs,ho.factor).transparent(ho.transparency):t.Il.getDarkerColor(ms,Hs,ho.factor).transparent(ho.transparency):ms.transparent(ho.factor*ho.transparency)}default:throw(0,S.vE)(ho)}}(ho,ko)}}c("charts.foreground",{dark:n,light:n,hcDark:n,hcLight:n},v.NC("chartsForeground","The foreground color used in charts.")),c("charts.lines",{dark:qi(n,.5),light:qi(n,.5),hcDark:qi(n,.5),hcLight:qi(n,.5)},v.NC("chartsLines","The color used for horizontal lines in charts.")),c("charts.red",{dark:vt,light:vt,hcDark:vt,hcLight:vt},v.NC("chartsRed","The red color used in chart visualizations.")),c("charts.blue",{dark:ut,light:ut,hcDark:ut,hcLight:ut},v.NC("chartsBlue","The blue color used in chart visualizations.")),c("charts.yellow",{dark:Kt,light:Kt,hcDark:Kt,hcLight:Kt},v.NC("chartsYellow","The yellow color used in chart visualizations.")),c("charts.orange",{dark:$s,light:$s,hcDark:$s,hcLight:$s},v.NC("chartsOrange","The orange color used in chart visualizations.")),c("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},v.NC("chartsGreen","The green color used in chart visualizations.")),c("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},v.NC("chartsPurple","The purple color used in chart visualizations."));const Sr="vscode://schemas/workbench-colors",wr=C.B.as(T.I.JSONContribution);wr.registerSchema(Sr,s.getColorSchema());const Br=new d.pY(()=>wr.notifySchemaChanged(Sr),200);s.onDidChangeSchema(()=>{Br.isScheduled()||Br.schedule()})},66287:(Et,X,e)=>{"use strict";e.d(X,{Ks:()=>p,q5:()=>a,s_:()=>D});var s,m,H,d=e(48648),t=e(58783),l=e(3778),S=e(72715),v=e(59547),T=e(55197),C=e(7886),E=e(4259),L=e(40902);(s||(s={})).getDefinition=function U(K,F){let B=K.defaults;for(;L.kS.isThemeIcon(B);){const z=n.getIcon(B.id);if(!z)return;B=z.defaults}return B},(H=m||(m={})).toJSONObject=function U(F){return{weight:F.weight,style:F.style,src:F.src.map(B=>({format:B.format,location:B.location.toString()}))}},H.fromJSONObject=function K(F){const B=z=>(0,S.HD)(z)?z:void 0;if(F&&Array.isArray(F.src)&&F.src.every(z=>(0,S.HD)(z.format)&&(0,S.HD)(z.location)))return{weight:B(F.weight),style:B(F.style),src:F.src.map(z=>({format:z.format,location:v.o.parse(z.location)}))}};const n=new class c{constructor(){this._onDidChange=new l.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,T.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,T.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${t.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(U,K,F,B){const z=this.iconsById[U];if(z){if(F&&!z.description){z.description=F,this.iconSchema.properties[U].markdownDescription=`${F} $(${U})`;const ne=this.iconReferenceSchema.enum.indexOf(U);-1!==ne&&(this.iconReferenceSchema.enumDescriptions[ne]=F),this._onDidChange.fire()}return z}this.iconsById[U]={id:U,description:F,defaults:K,deprecationMessage:B};const j={$ref:"#/definitions/icons"};return B&&(j.deprecationMessage=B),F&&(j.markdownDescription=`${F}: $(${U})`),this.iconSchema.properties[U]=j,this.iconReferenceSchema.enum.push(U),this.iconReferenceSchema.enumDescriptions.push(F||""),this._onDidChange.fire(),{id:U}}getIcons(){return Object.keys(this.iconsById).map(U=>this.iconsById[U])}getIcon(U){return this.iconsById[U]}getIconSchema(){return this.iconSchema}toString(){const U=(z,$)=>z.id.localeCompare($.id),K=z=>{for(;L.kS.isThemeIcon(z.defaults);)z=this.iconsById[z.defaults.id];return`codicon codicon-${z?z.id:""}`},F=[];F.push("| preview     | identifier                        | default codicon ID                | description"),F.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const B=Object.keys(this.iconsById).map(z=>this.iconsById[z]);for(const z of B.filter($=>!!$.description).sort(U))F.push(`|<i class="${K(z)}"></i>|${z.id}|${L.kS.isThemeIcon(z.defaults)?z.defaults.id:z.id}|${z.description||""}|`);F.push("| preview     | identifier                        "),F.push("| ----------- | --------------------------------- |");for(const z of B.filter($=>!L.kS.isThemeIcon($.defaults)).sort(U))F.push(`|<i class="${K(z)}"></i>|${z.id}|`);return F.join("\n")}};function a(H,U,K,F){return n.registerIcon(H,U,K,F)}function p(){return n}E.B.add("base.contributions.icons",n),function u(){for(const H of t.lA.getAll())n.registerIcon(H.id,H.definition,H.description)}();const g="vscode://schemas/icons",b=E.B.as(C.I.JSONContribution);b.registerSchema(g,n.getIconSchema());const y=new d.pY(()=>b.notifySchemaChanged(g),200);n.onDidChange(()=>{y.isScheduled()||y.schedule()});const D=a("widget-close",t.lA.close,(0,T.NC)("widgetClose","Icon for the close action in widgets."));a("goto-previous-location",t.lA.arrowUp,(0,T.NC)("previousChangeIcon","Icon for goto previous editor location.")),a("goto-next-location",t.lA.arrowDown,(0,T.NC)("nextChangeIcon","Icon for goto next editor location.")),L.kS.modify(t.lA.sync,"spin"),L.kS.modify(t.lA.loading,"spin")},52075:(Et,X,e)=>{"use strict";e.d(X,{Jl:()=>v,O2:()=>T,WZ:()=>S,o:()=>t,tj:()=>E});var d=e(4062);function t(L,_){const s=Object.create(null);for(const m in _){const c=_[m];c&&(s[m]=(0,d.Snq)(c,L))}return s}function l(L,_,s){function m(){const c=t(L.getColorTheme(),_);"function"==typeof s?s(c):s.style(c)}return m(),L.onDidColorThemeChange(m)}function S(L,_,s){return l(_,{badgeBackground:s?.badgeBackground||d.g8u,badgeForeground:s?.badgeForeground||d.qeD,badgeBorder:d.lRK},L)}function v(L,_,s){return l(_,Object.assign(Object.assign({},T),s||{}),L)}const T={listFocusBackground:d._bK,listFocusForeground:d._2n,listFocusOutline:d.Oop,listActiveSelectionBackground:d.dCr,listActiveSelectionForeground:d.M6C,listActiveSelectionIconForeground:d.Tnx,listFocusAndSelectionOutline:d.Bqu,listFocusAndSelectionBackground:d.dCr,listFocusAndSelectionForeground:d.M6C,listInactiveSelectionBackground:d.rg2,listInactiveSelectionIconForeground:d.kvU,listInactiveSelectionForeground:d.ytC,listInactiveFocusBackground:d.s$,listInactiveFocusOutline:d.F3d,listHoverBackground:d.mV1,listHoverForeground:d.$d5,listDropBackground:d.AS1,listSelectionOutline:d.xL1,listHoverOutline:d.xL1,listFilterWidgetBackground:d.vGG,listFilterWidgetOutline:d.oSI,listFilterWidgetNoMatchesOutline:d.Saq,listFilterWidgetShadow:d.y65,treeIndentGuidesStroke:d.UnT,tableColumnsBorder:d.uxu,tableOddRowsBackgroundColor:d.EQn,inputActiveOptionBorder:d.PRb,inputActiveOptionForeground:d.Pvw,inputActiveOptionBackground:d.XEs,inputBackground:d.sEe,inputForeground:d.zJb,inputBorder:d.dt_,inputValidationInfoBackground:d._lC,inputValidationInfoForeground:d.YI3,inputValidationInfoBorder:d.EPQ,inputValidationWarningBackground:d.RV_,inputValidationWarningForeground:d.SUG,inputValidationWarningBorder:d.C3g,inputValidationErrorBackground:d.paE,inputValidationErrorForeground:d._t9,inputValidationErrorBorder:d.OZR},C={shadowColor:d.rh,borderColor:d.Cdg,foregroundColor:d.DEr,backgroundColor:d.Hz8,selectionForegroundColor:d.jbW,selectionBackgroundColor:d.$DX,selectionBorderColor:d.E3h,separatorColor:d.ZGJ,scrollbarShadow:d._wn,scrollbarSliderBackground:d.etL,scrollbarSliderHoverBackground:d.ABB,scrollbarSliderActiveBackground:d.ynu};function E(L,_,s){return l(_,Object.assign(Object.assign({},C),s),L)}},18034:(Et,X,e)=>{"use strict";e.d(X,{_T:()=>l,c3:()=>t,eL:()=>d});var d=(()=>{return(S=d||(d={})).DARK="dark",S.LIGHT="light",S.HIGH_CONTRAST_DARK="hcDark",S.HIGH_CONTRAST_LIGHT="hcLight",d;var S})();function t(S){return S===d.HIGH_CONTRAST_DARK||S===d.HIGH_CONTRAST_LIGHT}function l(S){return S===d.DARK||S===d.HIGH_CONTRAST_DARK}},40902:(Et,X,e)=>{"use strict";e.d(X,{EN:()=>L,IP:()=>m,Ic:()=>a,XE:()=>C,bB:()=>p,kS:()=>_,m6:()=>s});var d=e(58783),t=e(3778),l=e(80142),S=e(9265),v=e(4259),T=e(18034);const C=(0,S.yh)("themeService");var E,_;function L(u){return{id:u}}function s(u){switch(u){case T.eL.DARK:return"vs-dark";case T.eL.HIGH_CONTRAST_DARK:return"hc-black";case T.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}(E||(E={})).isThemeColor=function g(b){return b&&"object"==typeof b&&"string"==typeof b.id},function(u){u.isThemeIcon=function g(H){return H&&"object"==typeof H&&"string"==typeof H.id&&(typeof H.color>"u"||E.isThemeColor(H.color))};const b=new RegExp(`^\\$\\((${d.dT.iconNameExpression}(?:${d.dT.iconModifierExpression})?)\\)$`);u.fromString=function y(H){const U=b.exec(H);if(!U)return;const[,K]=U;return{id:K}},u.fromId=function D(H){return{id:H}},u.modify=function w(H,U){let K=H.id;const F=K.lastIndexOf("~");return-1!==F&&(K=K.substring(0,F)),U&&(K=`${K}~${U}`),{id:K}},u.getModifier=function I(H){const U=H.id.lastIndexOf("~");if(-1!==U)return H.id.substring(U+1)},u.isEqual=function P(H,U){var K,F;return H.id===U.id&&(null===(K=H.color)||void 0===K?void 0:K.id)===(null===(F=U.color)||void 0===F?void 0:F.id)},u.asThemeIcon=function O(H,U){return{id:H.id,color:U?L(U):void 0}},u.asClassNameArray=d.dT.asClassNameArray,u.asClassName=d.dT.asClassName,u.asCSSSelector=d.dT.asCSSSelector}(_||(_={}));const m={ThemingContribution:"base.contributions.theming"},n=new class c{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new t.Q5}onColorThemeChange(g){return this.themingParticipants.push(g),this.onThemingParticipantAddedEmitter.fire(g),(0,l.OF)(()=>{const b=this.themingParticipants.indexOf(g);this.themingParticipants.splice(b,1)})}getThemingParticipants(){return this.themingParticipants}};function a(u){return n.onColorThemeChange(u)}v.B.add(m.ThemingContribution,n);class p extends l.JT{constructor(g){super(),this.themeService=g,this.theme=g.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(b=>this.onThemeChange(b)))}onThemeChange(g){this.theme=g,this.updateStyles()}updateStyles(){}}},93633:(Et,X,e)=>{"use strict";e.d(X,{Xt:()=>S,YO:()=>l,gJ:()=>v,tJ:()=>t});const t=(0,e(9265).yh)("undoRedoService");class l{constructor(C,E){this.resource=C,this.elements=E}}class S{constructor(){this.id=S._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}S._ID=0,S.None=new S;class v{constructor(){this.id=v._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}v._ID=0,v.None=new v},24596:(Et,X,e)=>{"use strict";e.d(X,{A6:()=>_,eb:()=>T,ec:()=>v,j$:()=>E,md:()=>L,uT:()=>C});var d=e(55197),t=e(5067),l=e(59547);const v=(0,e(9265).yh)("contextService");function T(m){return"string"==typeof m?.id&&l.o.isUri(m.uri)}function C(m){return m.configuration?{id:m.id,configPath:m.configuration}:1===m.folders.length?{id:m.id,uri:m.folders[0].uri}:void 0}class E{constructor(c,n,a,p,u){this._id=c,this._transient=a,this._configuration=p,this._ignorePathCasing=u,this._foldersMap=t.Id.forUris(this._ignorePathCasing,()=>!0),this.folders=n}get folders(){return this._folders}set folders(c){this._folders=c,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(c){this._configuration=c}getFolder(c){return c&&this._foldersMap.findSubstr(c)||null}updateFoldersMap(){this._foldersMap=t.Id.forUris(this._ignorePathCasing,()=>!0);for(const c of this.folders)this._foldersMap.set(c.uri,c)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class L{constructor(c,n){this.raw=n,this.uri=c.uri,this.index=c.index,this.name=c.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const _="code-workspace";(0,d.NC)("codeWorkspace","Code Workspace")},88521:(Et,X,e)=>{"use strict";e.d(X,{Y:()=>t});const t=(0,e(9265).yh)("workspaceTrustManagementService")},15289:(Et,X,e)=>{"use strict";var d=e(1762);function t(T){if("string"!=typeof T)throw new TypeError("Path must be a string. Received "+JSON.stringify(T))}function l(T,C){for(var m,E="",L=0,_=-1,s=0,c=0;c<=T.length;++c){if(c<T.length)m=T.charCodeAt(c);else{if(47===m)break;m=47}if(47===m){if(_!==c-1&&1!==s)if(_!==c-1&&2===s){if(E.length<2||2!==L||46!==E.charCodeAt(E.length-1)||46!==E.charCodeAt(E.length-2))if(E.length>2){var n=E.lastIndexOf("/");if(n!==E.length-1){-1===n?(E="",L=0):L=(E=E.slice(0,n)).length-1-E.lastIndexOf("/"),_=c,s=0;continue}}else if(2===E.length||1===E.length){E="",L=0,_=c,s=0;continue}C&&(E.length>0?E+="/..":E="..",L=2)}else E.length>0?E+="/"+T.slice(_+1,c):E=T.slice(_+1,c),L=c-_-1;_=c,s=0}else 46===m&&-1!==s?++s:s=-1}return E}var v={resolve:function(){for(var L,C="",E=!1,_=arguments.length-1;_>=-1&&!E;_--){var s;_>=0?s=arguments[_]:(void 0===L&&(L=d.cwd()),s=L),t(s),0!==s.length&&(C=s+"/"+C,E=47===s.charCodeAt(0))}return C=l(C,!E),E?C.length>0?"/"+C:"/":C.length>0?C:"."},normalize:function(C){if(t(C),0===C.length)return".";var E=47===C.charCodeAt(0),L=47===C.charCodeAt(C.length-1);return 0===(C=l(C,!E)).length&&!E&&(C="."),C.length>0&&L&&(C+="/"),E?"/"+C:C},isAbsolute:function(C){return t(C),C.length>0&&47===C.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var C,E=0;E<arguments.length;++E){var L=arguments[E];t(L),L.length>0&&(void 0===C?C=L:C+="/"+L)}return void 0===C?".":v.normalize(C)},relative:function(C,E){if(t(C),t(E),C===E||(C=v.resolve(C))===(E=v.resolve(E)))return"";for(var L=1;L<C.length&&47===C.charCodeAt(L);++L);for(var _=C.length,s=_-L,m=1;m<E.length&&47===E.charCodeAt(m);++m);for(var n=E.length-m,a=s<n?s:n,p=-1,u=0;u<=a;++u){if(u===a){if(n>a){if(47===E.charCodeAt(m+u))return E.slice(m+u+1);if(0===u)return E.slice(m+u)}else s>a&&(47===C.charCodeAt(L+u)?p=u:0===u&&(p=0));break}var g=C.charCodeAt(L+u);if(g!==E.charCodeAt(m+u))break;47===g&&(p=u)}var y="";for(u=L+p+1;u<=_;++u)(u===_||47===C.charCodeAt(u))&&(y+=0===y.length?"..":"/..");return y.length>0?y+E.slice(m+p):(47===E.charCodeAt(m+=p)&&++m,E.slice(m))},_makeLong:function(C){return C},dirname:function(C){if(t(C),0===C.length)return".";for(var E=C.charCodeAt(0),L=47===E,_=-1,s=!0,m=C.length-1;m>=1;--m)if(47===(E=C.charCodeAt(m))){if(!s){_=m;break}}else s=!1;return-1===_?L?"/":".":L&&1===_?"//":C.slice(0,_)},basename:function(C,E){if(void 0!==E&&"string"!=typeof E)throw new TypeError('"ext" argument must be a string');t(C);var m,L=0,_=-1,s=!0;if(void 0!==E&&E.length>0&&E.length<=C.length){if(E.length===C.length&&E===C)return"";var c=E.length-1,n=-1;for(m=C.length-1;m>=0;--m){var a=C.charCodeAt(m);if(47===a){if(!s){L=m+1;break}}else-1===n&&(s=!1,n=m+1),c>=0&&(a===E.charCodeAt(c)?-1==--c&&(_=m):(c=-1,_=n))}return L===_?_=n:-1===_&&(_=C.length),C.slice(L,_)}for(m=C.length-1;m>=0;--m)if(47===C.charCodeAt(m)){if(!s){L=m+1;break}}else-1===_&&(s=!1,_=m+1);return-1===_?"":C.slice(L,_)},extname:function(C){t(C);for(var E=-1,L=0,_=-1,s=!0,m=0,c=C.length-1;c>=0;--c){var n=C.charCodeAt(c);if(47!==n)-1===_&&(s=!1,_=c+1),46===n?-1===E?E=c:1!==m&&(m=1):-1!==E&&(m=-1);else if(!s){L=c+1;break}}return-1===E||-1===_||0===m||1===m&&E===_-1&&E===L+1?"":C.slice(E,_)},format:function(C){if(null===C||"object"!=typeof C)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof C);return function S(T,C){var E=C.dir||C.root,L=C.base||(C.name||"")+(C.ext||"");return E?E===C.root?E+L:E+T+L:L}("/",C)},parse:function(C){t(C);var E={root:"",dir:"",base:"",ext:"",name:""};if(0===C.length)return E;var s,L=C.charCodeAt(0),_=47===L;_?(E.root="/",s=1):s=0;for(var m=-1,c=0,n=-1,a=!0,p=C.length-1,u=0;p>=s;--p)if(47!==(L=C.charCodeAt(p)))-1===n&&(a=!1,n=p+1),46===L?-1===m?m=p:1!==u&&(u=1):-1!==m&&(u=-1);else if(!a){c=p+1;break}return-1===m||-1===n||0===u||1===u&&m===n-1&&m===c+1?-1!==n&&(E.base=E.name=C.slice(0===c&&_?1:c,n)):(0===c&&_?(E.name=C.slice(1,m),E.base=C.slice(1,n)):(E.name=C.slice(c,m),E.base=C.slice(c,n)),E.ext=C.slice(m,n)),c>0?E.dir=C.slice(0,c-1):_&&(E.dir="/"),E},sep:"/",delimiter:":",win32:null,posix:null};v.posix=v,Et.exports=v},1762:Et=>{var e,d,X=Et.exports={};function t(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function S(n){if(e===setTimeout)return setTimeout(n,0);if((e===t||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch{try{return e.call(null,n,0)}catch{return e.call(this,n,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:t}catch{e=t}try{d="function"==typeof clearTimeout?clearTimeout:l}catch{d=l}}();var E,T=[],C=!1,L=-1;function _(){!C||!E||(C=!1,E.length?T=E.concat(T):L=-1,T.length&&s())}function s(){if(!C){var n=S(_);C=!0;for(var a=T.length;a;){for(E=T,T=[];++L<a;)E&&E[L].run();L=-1,a=T.length}E=null,C=!1,function v(n){if(d===clearTimeout)return clearTimeout(n);if((d===l||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(n);try{d(n)}catch{try{return d.call(null,n)}catch{return d.call(this,n)}}}(n)}}function m(n,a){this.fun=n,this.array=a}function c(){}X.nextTick=function(n){var a=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)a[p-1]=arguments[p];T.push(new m(n,a)),1===T.length&&!C&&S(s)},m.prototype.run=function(){this.fun.apply(null,this.array)},X.title="browser",X.browser=!0,X.env={},X.argv=[],X.version="",X.versions={},X.on=c,X.addListener=c,X.once=c,X.off=c,X.removeListener=c,X.removeAllListeners=c,X.emit=c,X.prependListener=c,X.prependOnceListener=c,X.listeners=function(n){return[]},X.binding=function(n){throw new Error("process.binding is not supported")},X.cwd=function(){return"/"},X.chdir=function(n){throw new Error("process.chdir is not supported")},X.umask=function(){return 0}},49372:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.TraceFormat=X.TraceValues=X.Trace=X.ProgressType=X.ProgressToken=X.createMessageConnection=X.NullLogger=X.ConnectionOptions=X.ConnectionStrategy=X.WriteableStreamMessageWriter=X.AbstractMessageWriter=X.MessageWriter=X.ReadableStreamMessageReader=X.AbstractMessageReader=X.MessageReader=X.CancellationToken=X.CancellationTokenSource=X.Emitter=X.Event=X.Disposable=X.LRUCache=X.Touch=X.LinkedMap=X.ParameterStructures=X.NotificationType9=X.NotificationType8=X.NotificationType7=X.NotificationType6=X.NotificationType5=X.NotificationType4=X.NotificationType3=X.NotificationType2=X.NotificationType1=X.NotificationType0=X.NotificationType=X.ErrorCodes=X.ResponseError=X.RequestType9=X.RequestType8=X.RequestType7=X.RequestType6=X.RequestType5=X.RequestType4=X.RequestType3=X.RequestType2=X.RequestType1=X.RequestType0=X.RequestType=X.Message=X.RAL=void 0,X.CancellationStrategy=X.CancellationSenderStrategy=X.CancellationReceiverStrategy=X.ConnectionError=X.ConnectionErrors=X.LogTraceNotification=X.SetTraceNotification=void 0;const d=e(24563);Object.defineProperty(X,"Message",{enumerable:!0,get:function(){return d.Message}}),Object.defineProperty(X,"RequestType",{enumerable:!0,get:function(){return d.RequestType}}),Object.defineProperty(X,"RequestType0",{enumerable:!0,get:function(){return d.RequestType0}}),Object.defineProperty(X,"RequestType1",{enumerable:!0,get:function(){return d.RequestType1}}),Object.defineProperty(X,"RequestType2",{enumerable:!0,get:function(){return d.RequestType2}}),Object.defineProperty(X,"RequestType3",{enumerable:!0,get:function(){return d.RequestType3}}),Object.defineProperty(X,"RequestType4",{enumerable:!0,get:function(){return d.RequestType4}}),Object.defineProperty(X,"RequestType5",{enumerable:!0,get:function(){return d.RequestType5}}),Object.defineProperty(X,"RequestType6",{enumerable:!0,get:function(){return d.RequestType6}}),Object.defineProperty(X,"RequestType7",{enumerable:!0,get:function(){return d.RequestType7}}),Object.defineProperty(X,"RequestType8",{enumerable:!0,get:function(){return d.RequestType8}}),Object.defineProperty(X,"RequestType9",{enumerable:!0,get:function(){return d.RequestType9}}),Object.defineProperty(X,"ResponseError",{enumerable:!0,get:function(){return d.ResponseError}}),Object.defineProperty(X,"ErrorCodes",{enumerable:!0,get:function(){return d.ErrorCodes}}),Object.defineProperty(X,"NotificationType",{enumerable:!0,get:function(){return d.NotificationType}}),Object.defineProperty(X,"NotificationType0",{enumerable:!0,get:function(){return d.NotificationType0}}),Object.defineProperty(X,"NotificationType1",{enumerable:!0,get:function(){return d.NotificationType1}}),Object.defineProperty(X,"NotificationType2",{enumerable:!0,get:function(){return d.NotificationType2}}),Object.defineProperty(X,"NotificationType3",{enumerable:!0,get:function(){return d.NotificationType3}}),Object.defineProperty(X,"NotificationType4",{enumerable:!0,get:function(){return d.NotificationType4}}),Object.defineProperty(X,"NotificationType5",{enumerable:!0,get:function(){return d.NotificationType5}}),Object.defineProperty(X,"NotificationType6",{enumerable:!0,get:function(){return d.NotificationType6}}),Object.defineProperty(X,"NotificationType7",{enumerable:!0,get:function(){return d.NotificationType7}}),Object.defineProperty(X,"NotificationType8",{enumerable:!0,get:function(){return d.NotificationType8}}),Object.defineProperty(X,"NotificationType9",{enumerable:!0,get:function(){return d.NotificationType9}}),Object.defineProperty(X,"ParameterStructures",{enumerable:!0,get:function(){return d.ParameterStructures}});const t=e(29362);Object.defineProperty(X,"LinkedMap",{enumerable:!0,get:function(){return t.LinkedMap}}),Object.defineProperty(X,"LRUCache",{enumerable:!0,get:function(){return t.LRUCache}}),Object.defineProperty(X,"Touch",{enumerable:!0,get:function(){return t.Touch}});const l=e(65597);Object.defineProperty(X,"Disposable",{enumerable:!0,get:function(){return l.Disposable}});const S=e(45887);Object.defineProperty(X,"Event",{enumerable:!0,get:function(){return S.Event}}),Object.defineProperty(X,"Emitter",{enumerable:!0,get:function(){return S.Emitter}});const v=e(50250);Object.defineProperty(X,"CancellationTokenSource",{enumerable:!0,get:function(){return v.CancellationTokenSource}}),Object.defineProperty(X,"CancellationToken",{enumerable:!0,get:function(){return v.CancellationToken}});const T=e(22738);Object.defineProperty(X,"MessageReader",{enumerable:!0,get:function(){return T.MessageReader}}),Object.defineProperty(X,"AbstractMessageReader",{enumerable:!0,get:function(){return T.AbstractMessageReader}}),Object.defineProperty(X,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return T.ReadableStreamMessageReader}});const C=e(13386);Object.defineProperty(X,"MessageWriter",{enumerable:!0,get:function(){return C.MessageWriter}}),Object.defineProperty(X,"AbstractMessageWriter",{enumerable:!0,get:function(){return C.AbstractMessageWriter}}),Object.defineProperty(X,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return C.WriteableStreamMessageWriter}});const E=e(9652);Object.defineProperty(X,"ConnectionStrategy",{enumerable:!0,get:function(){return E.ConnectionStrategy}}),Object.defineProperty(X,"ConnectionOptions",{enumerable:!0,get:function(){return E.ConnectionOptions}}),Object.defineProperty(X,"NullLogger",{enumerable:!0,get:function(){return E.NullLogger}}),Object.defineProperty(X,"createMessageConnection",{enumerable:!0,get:function(){return E.createMessageConnection}}),Object.defineProperty(X,"ProgressToken",{enumerable:!0,get:function(){return E.ProgressToken}}),Object.defineProperty(X,"ProgressType",{enumerable:!0,get:function(){return E.ProgressType}}),Object.defineProperty(X,"Trace",{enumerable:!0,get:function(){return E.Trace}}),Object.defineProperty(X,"TraceValues",{enumerable:!0,get:function(){return E.TraceValues}}),Object.defineProperty(X,"TraceFormat",{enumerable:!0,get:function(){return E.TraceFormat}}),Object.defineProperty(X,"SetTraceNotification",{enumerable:!0,get:function(){return E.SetTraceNotification}}),Object.defineProperty(X,"LogTraceNotification",{enumerable:!0,get:function(){return E.LogTraceNotification}}),Object.defineProperty(X,"ConnectionErrors",{enumerable:!0,get:function(){return E.ConnectionErrors}}),Object.defineProperty(X,"ConnectionError",{enumerable:!0,get:function(){return E.ConnectionError}}),Object.defineProperty(X,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return E.CancellationReceiverStrategy}}),Object.defineProperty(X,"CancellationSenderStrategy",{enumerable:!0,get:function(){return E.CancellationSenderStrategy}}),Object.defineProperty(X,"CancellationStrategy",{enumerable:!0,get:function(){return E.CancellationStrategy}});const L=e(12033);X.RAL=L.default},29636:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.CallHierarchyFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);class S{constructor(C){this.client=C,this.middleware=C.middleware}prepareCallHierarchy(C,E,L){const _=this.client,s=this.middleware,m=(c,n,a)=>{const p=_.code2ProtocolConverter.asTextDocumentPositionParams(c,n);return _.sendRequest(t.CallHierarchyPrepareRequest.type,p,a).then(u=>a.isCancellationRequested?null:_.protocol2CodeConverter.asCallHierarchyItems(u,a),u=>_.handleFailedRequest(t.CallHierarchyPrepareRequest.type,a,u,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(C,E,L,m):m(C,E,L)}provideCallHierarchyIncomingCalls(C,E){const L=this.client,_=this.middleware,s=(m,c)=>{const n={item:L.code2ProtocolConverter.asCallHierarchyItem(m)};return L.sendRequest(t.CallHierarchyIncomingCallsRequest.type,n,c).then(a=>c.isCancellationRequested?null:L.protocol2CodeConverter.asCallHierarchyIncomingCalls(a,c),a=>L.handleFailedRequest(t.CallHierarchyIncomingCallsRequest.type,c,a,null))};return _.provideCallHierarchyIncomingCalls?_.provideCallHierarchyIncomingCalls(C,E,s):s(C,E)}provideCallHierarchyOutgoingCalls(C,E){const L=this.client,_=this.middleware,s=(m,c)=>{const n={item:L.code2ProtocolConverter.asCallHierarchyItem(m)};return L.sendRequest(t.CallHierarchyOutgoingCallsRequest.type,n,c).then(a=>c.isCancellationRequested?null:L.protocol2CodeConverter.asCallHierarchyOutgoingCalls(a,c),a=>L.handleFailedRequest(t.CallHierarchyOutgoingCallsRequest.type,c,a,null))};return _.provideCallHierarchyOutgoingCalls?_.provideCallHierarchyOutgoingCalls(C,E,s):s(C,E)}}X.CallHierarchyFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,t.CallHierarchyPrepareRequest.type)}fillClientCapabilities(C){(0,l.ensure)((0,l.ensure)(C,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(C,E){const[L,_]=this.getRegistration(E,C.callHierarchyProvider);!L||!_||this.register({id:L,registerOptions:_})}registerLanguageProvider(C){const L=new S(this._client);return[d.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(C.documentSelector),L),L]}}},34469:(Et,X,e)=>{"use strict";var t=e(328).default;X.Fy=X.dp=X.c8=X.Z6=X.ZM=X.UY=X._X=X.xP=void 0;const l=e(78708),S=e(85055),v=e(86683),T=e(85959),C=e(81072),E=e(8787),L=e(2766),_=e(74342),s=e(37062),m=e(55890),c=e(31446),n=e(28712),a=e(5074),p=e(25599),u=e(30429),g=e(37619),b=e(66808),y=e(72966),D=e(8203),w=e(97837),I=e(19323),P=e(823),O=e(39229),H=e(84453),U=e(24146),K=e(93049),F=e(29236),B=e(22958),z=e(95907),$=e(94749),j=e(77917),ne=e(91433),N=e(22722),V=e(54767),Z=e(88139),fe=e(18715),M=e(29636),Se=e(35234),Ee=e(39727),Le=e(44303),Ne=e(92802),oe=e(26229),we=e(96140);var xe,Ze,pe,Te,de;(Ze=xe=X.xP||(X.xP={}))[Ze.Info=1]="Info",Ze[Ze.Warn=2]="Warn",Ze[Ze.Error=3]="Error",Ze[Ze.Never=4]="Never",function(Ze){Ze[Ze.Continue=1]="Continue",Ze[Ze.Shutdown=2]="Shutdown"}(pe=X._X||(X._X={})),function(Ze){Ze[Ze.DoNotRestart=1]="DoNotRestart",Ze[Ze.Restart=2]="Restart"}(Te=X.UY||(X.UY={})),function(Ze){Ze[Ze.Stopped=1]="Stopped",Ze[Ze.Starting=3]="Starting",Ze[Ze.Running=2]="Running"}(de=X.ZM||(X.ZM={})),function(Ze){Ze.off="off",Ze.on="on"}(X.Z6||(X.Z6={}));class ze{constructor(ae,_e){this.client=ae,this.maxRestartCount=_e,this.restarts=[]}error(ae,_e,he){return he&&he<=3?{action:pe.Continue}:{action:pe.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Te.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:Te.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Te.Restart})}}var Lt,$e=(()=>(function(Ze){Ze.Initial="initial",Ze.Starting="starting",Ze.StartFailed="startFailed",Ze.Running="running",Ze.Stopping="stopping",Ze.Stopped="stopped"}($e||($e={})),$e))();!function(Ze){Ze.is=function ae(_e){return _e&&S.MessageReader.is(_e.reader)&&S.MessageWriter.is(_e.writer)}}(X.c8||(X.c8={}));class Ue{constructor(ae,_e,he){this._traceFormat=S.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new E.Semaphore(1),this._id=ae,this._name=_e;const le={isTrusted:!1,supportHtml:!1};void 0!==(he=he||{}).markdown&&(le.isTrusted=!0===he.markdown.isTrusted,le.supportHtml=!0===he.markdown.supportHtml),this._clientOptions={documentSelector:he.documentSelector??[],synchronize:he.synchronize??{},diagnosticCollectionName:he.diagnosticCollectionName,outputChannelName:he.outputChannelName??this._name,revealOutputChannelOn:he.revealOutputChannelOn??xe.Error,stdioEncoding:he.stdioEncoding??"utf8",initializationOptions:he.initializationOptions,initializationFailedHandler:he.initializationFailedHandler,progressOnInitialization:!!he.progressOnInitialization,errorHandler:he.errorHandler??this.createDefaultErrorHandler(he.connectionOptions?.maxRestartCount),middleware:he.middleware??{},uriConverters:he.uriConverters,workspaceFolder:he.workspaceFolder,connectionOptions:he.connectionOptions,markdown:le,diagnosticPullOptions:he.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:he.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=$e.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,he.outputChannel?(this._outputChannel=he.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=he.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new E.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new S.Emitter,this._stateChangeEmitter=new S.Emitter,this._trace=S.Trace.Off,this._tracer={log:(Q,ve)=>{C.string(Q)?this.logTrace(Q,ve):this.logObjectTrace(Q)}},this._c2p=v.createConverter(he.uriConverters?he.uriConverters.code2Protocol:void 0),this._p2c=T.createConverter(he.uriConverters?he.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=l.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(ae){let _e=this.getPublicState();this._state=ae;let he=this.getPublicState();he!==_e&&this._stateChangeEmitter.fire({oldState:_e,newState:he})}getPublicState(){switch(this.$state){case $e.Starting:return de.Starting;case $e.Running:return de.Running;default:return de.Stopped}}get initializeResult(){return this._initializeResult}sendRequest(ae,..._e){var he=this;return t(function*(){if(he.$state===$e.StartFailed||he.$state===$e.Stopping||he.$state===$e.Stopped)return Promise.reject(new S.ResponseError(S.ErrorCodes.ConnectionInactive,"Client is not running"));try{const le=yield he.$start();return yield he.forceDocumentSync(),le.sendRequest(ae,..._e)}catch(le){throw he.error(`Sending request ${C.string(ae)?ae:ae.method} failed.`,le),le}})()}onRequest(ae,_e){const he="string"==typeof ae?ae:ae.method;this._requestHandlers.set(he,_e);const le=this.activeConnection();let Q;return void 0!==le?(this._requestDisposables.set(he,le.onRequest(ae,_e)),Q={dispose:()=>{const ve=this._requestDisposables.get(he);void 0!==ve&&(ve.dispose(),this._requestDisposables.delete(he))}}):(this._pendingRequestHandlers.set(he,_e),Q={dispose:()=>{this._pendingRequestHandlers.delete(he);const ve=this._requestDisposables.get(he);void 0!==ve&&(ve.dispose(),this._requestDisposables.delete(he))}}),{dispose:()=>{this._requestHandlers.delete(he),Q.dispose()}}}sendNotification(ae,_e){var he=this;return t(function*(){if(he.$state===$e.StartFailed||he.$state===$e.Stopping||he.$state===$e.Stopped)return Promise.reject(new S.ResponseError(S.ErrorCodes.ConnectionInactive,"Client is not running"));try{const le=yield he.$start();return yield he.forceDocumentSync(),le.sendNotification(ae,_e)}catch(le){throw he.error(`Sending notification ${C.string(ae)?ae:ae.method} failed.`,le),le}})()}onNotification(ae,_e){const he="string"==typeof ae?ae:ae.method;this._notificationHandlers.set(he,_e);const le=this.activeConnection();let Q;return void 0!==le?(this._notificationDisposables.set(he,le.onNotification(ae,_e)),Q={dispose:()=>{const ve=this._notificationDisposables.get(he);void 0!==ve&&(ve.dispose(),this._notificationDisposables.delete(he))}}):(this._pendingNotificationHandlers.set(he,_e),Q={dispose:()=>{this._pendingNotificationHandlers.delete(he);const ve=this._notificationDisposables.get(he);void 0!==ve&&(ve.dispose(),this._notificationDisposables.delete(he))}}),{dispose:()=>{this._notificationHandlers.delete(he),Q.dispose()}}}sendProgress(ae,_e,he){var le=this;return t(function*(){if(le.$state===$e.StartFailed||le.$state===$e.Stopping||le.$state===$e.Stopped)return Promise.reject(new S.ResponseError(S.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(yield le.$start()).sendProgress(ae,_e,he)}catch(Q){throw le.error(`Sending progress for token ${_e} failed.`,Q),Q}})()}onProgress(ae,_e,he){this._progressHandlers.set(_e,{type:ae,handler:he});const le=this.activeConnection();let Q;const ve=this._clientOptions.middleware?.handleWorkDoneProgress,Ae=S.WorkDoneProgress.is(ae)&&void 0!==ve?dt=>{ve(_e,dt,()=>he(dt))}:he;return void 0!==le?(this._progressDisposables.set(_e,le.onProgress(ae,_e,Ae)),Q={dispose:()=>{const dt=this._progressDisposables.get(_e);void 0!==dt&&(dt.dispose(),this._progressDisposables.delete(_e))}}):(this._pendingProgressHandlers.set(_e,{type:ae,handler:he}),Q={dispose:()=>{this._pendingProgressHandlers.delete(_e);const dt=this._progressDisposables.get(_e);void 0!==dt&&(dt.dispose(),this._progressDisposables.delete(_e))}}),{dispose:()=>{this._progressHandlers.delete(_e),Q.dispose()}}}createDefaultErrorHandler(ae){if(void 0!==ae&&ae<0)throw new Error(`Invalid maxRestartCount: ${ae}`);return new ze(this,ae??4)}setTrace(ae){var _e=this;return t(function*(){_e._trace=ae;const he=_e.activeConnection();void 0!==he&&(yield he.trace(_e._trace,_e._tracer,{sendNotification:!1,traceFormat:_e._traceFormat}))})()}data2String(ae){if(ae instanceof S.ResponseError){const _e=ae;return`  Message: ${_e.message}\n  Code: ${_e.code} ${_e.data?"\n"+_e.data.toString():""}`}return ae instanceof Error?C.string(ae.stack)?ae.stack:ae.message:C.string(ae)?ae:ae.toString()}info(ae,_e,he=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${ae}`),null!=_e&&this.outputChannel.appendLine(this.data2String(_e)),he&&this._clientOptions.revealOutputChannelOn<=xe.Info&&this.showNotificationMessage(S.MessageType.Info,ae)}warn(ae,_e,he=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${ae}`),null!=_e&&this.outputChannel.appendLine(this.data2String(_e)),he&&this._clientOptions.revealOutputChannelOn<=xe.Warn&&this.showNotificationMessage(S.MessageType.Warning,ae)}error(ae,_e,he=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${ae}`),null!=_e&&this.outputChannel.appendLine(this.data2String(_e)),("force"===he||he&&this._clientOptions.revealOutputChannelOn<=xe.Error)&&this.showNotificationMessage(S.MessageType.Error,ae)}showNotificationMessage(ae,_e){(ae===S.MessageType.Error?l.window.showErrorMessage:ae===S.MessageType.Warning?l.window.showWarningMessage:l.window.showInformationMessage)(_e=_e??"A request has failed. See the output for more information.","Go to output").then(le=>{void 0!==le&&this.outputChannel.show(!0)})}logTrace(ae,_e){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${ae}`),_e&&this.traceOutputChannel.appendLine(this.data2String(_e))}logObjectTrace(ae){this.traceOutputChannel.append(ae.isLSPMessage&&ae.type?`[LSP   - ${(new Date).toLocaleTimeString()}] `:`[Trace - ${(new Date).toLocaleTimeString()}] `),ae&&this.traceOutputChannel.appendLine(`${JSON.stringify(ae)}`)}needsStart(){return this.$state===$e.Initial||this.$state===$e.Stopping||this.$state===$e.Stopped}needsStop(){return this.$state===$e.Starting||this.$state===$e.Running}activeConnection(){return this.$state===$e.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===$e.Running}start(){var ae=this;return t(function*(){if("disposing"===ae._disposed||"disposed"===ae._disposed)throw new Error("Client got disposed and can't be restarted.");if(ae.$state===$e.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==ae._onStart)return ae._onStart;const[_e,he,le]=ae.createOnStartPromise();ae._onStart=_e,void 0===ae._diagnostics&&(ae._diagnostics=ae._clientOptions.diagnosticCollectionName?l.languages.createDiagnosticCollection(ae._clientOptions.diagnosticCollectionName):l.languages.createDiagnosticCollection());for(const[Q,ve]of ae._notificationHandlers)ae._pendingNotificationHandlers.has(Q)||ae._pendingNotificationHandlers.set(Q,ve);for(const[Q,ve]of ae._requestHandlers)ae._pendingRequestHandlers.has(Q)||ae._pendingRequestHandlers.set(Q,ve);for(const[Q,ve]of ae._progressHandlers)ae._pendingProgressHandlers.has(Q)||ae._pendingProgressHandlers.set(Q,ve);ae.$state=$e.Starting;try{const Q=yield ae.createConnection();Q.onNotification(S.LogMessageNotification.type,ve=>{switch(ve.type){case S.MessageType.Error:ae.error(ve.message,void 0,!1);break;case S.MessageType.Warning:ae.warn(ve.message,void 0,!1);break;case S.MessageType.Info:ae.info(ve.message,void 0,!1);break;default:ae.outputChannel.appendLine(ve.message)}}),Q.onNotification(S.ShowMessageNotification.type,ve=>{switch(ve.type){case S.MessageType.Error:l.window.showErrorMessage(ve.message);break;case S.MessageType.Warning:l.window.showWarningMessage(ve.message);break;default:l.window.showInformationMessage(ve.message)}}),Q.onRequest(S.ShowMessageRequest.type,ve=>{let Ae;switch(ve.type){case S.MessageType.Error:Ae=l.window.showErrorMessage;break;case S.MessageType.Warning:Ae=l.window.showWarningMessage;break;default:Ae=l.window.showInformationMessage}return Ae(ve.message,...ve.actions||[])}),Q.onNotification(S.TelemetryEventNotification.type,ve=>{ae._telemetryEmitter.fire(ve)}),Q.onRequest(S.ShowDocumentRequest.type,function(){var ve=t(function*(Ae){const dt=function(){var et=t(function*(Qe){const tt=ae.protocol2CodeConverter.asUri(Qe.uri);try{if(!0===Qe.external)return{success:yield l.env.openExternal(tt)};{const vt={};return void 0!==Qe.selection&&(vt.selection=ae.protocol2CodeConverter.asRange(Qe.selection)),void 0===Qe.takeFocus||!1===Qe.takeFocus?vt.preserveFocus=!0:!0===Qe.takeFocus&&(vt.preserveFocus=!1),yield l.window.showTextDocument(tt,vt),{success:!0}}}catch{return{success:!1}}});return function(tt){return et.apply(this,arguments)}}(),st=ae._clientOptions.middleware.window?.showDocument;return void 0!==st?st(Ae,dt):dt(Ae)});return function(Ae){return ve.apply(this,arguments)}}()),Q.listen(),yield ae.initialize(Q),he()}catch(Q){ae.$state=$e.StartFailed,ae.error(`${ae._name} client: couldn't create connection to server.`,Q,"force"),le(Q)}return ae._onStart})()}createOnStartPromise(){let ae,_e;return[new Promise((le,Q)=>{ae=le,_e=Q}),ae,_e]}initialize(ae){var _e=this;return t(function*(){_e.refreshTrace(ae,!1);const he=_e._clientOptions.initializationOptions,[le,Q]=void 0!==_e._clientOptions.workspaceFolder?[_e._clientOptions.workspaceFolder.uri.fsPath,[{uri:_e._c2p.asUri(_e._clientOptions.workspaceFolder.uri),name:_e._clientOptions.workspaceFolder.name}]]:[_e._clientGetRootPath(),null],ve={processId:null,clientInfo:{name:l.env.appName,version:l.version},locale:_e.getLocale(),rootPath:le||null,rootUri:le?_e._c2p.asUri(l.Uri.file(le)):null,capabilities:_e.computeClientCapabilities(),initializationOptions:C.func(he)?he():he,trace:S.Trace.toString(_e._trace),workspaceFolders:Q};if(_e.fillInitializeParams(ve),!_e._clientOptions.progressOnInitialization)return _e.doInitialize(ae,ve);{const Ae=L.generateUuid(),dt=new _.ProgressPart(ae,Ae);ve.workDoneToken=Ae;try{const st=yield _e.doInitialize(ae,ve);return dt.done(),st}catch(st){throw dt.cancel(),st}}})()}doInitialize(ae,_e){var he=this;return t(function*(){try{const le=yield ae.initialize(_e);if(void 0!==le.capabilities.positionEncoding&&le.capabilities.positionEncoding!==S.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${le.capabilities.positionEncoding}) received from server ${he.name}`);let Q;he._initializeResult=le,he.$state=$e.Running,C.number(le.capabilities.textDocumentSync)?Q=le.capabilities.textDocumentSync===S.TextDocumentSyncKind.None?{openClose:!1,change:S.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:le.capabilities.textDocumentSync,save:{includeText:!1}}:null!=le.capabilities.textDocumentSync&&(Q=le.capabilities.textDocumentSync),he._capabilities=Object.assign({},le.capabilities,{resolvedTextDocumentSync:Q}),ae.onNotification(S.PublishDiagnosticsNotification.type,ve=>he.handleDiagnostics(ve)),ae.onRequest(S.RegistrationRequest.type,ve=>he.handleRegistrationRequest(ve)),ae.onRequest("client/registerFeature",ve=>he.handleRegistrationRequest(ve)),ae.onRequest(S.UnregistrationRequest.type,ve=>he.handleUnregistrationRequest(ve)),ae.onRequest("client/unregisterFeature",ve=>he.handleUnregistrationRequest(ve)),ae.onRequest(S.ApplyWorkspaceEditRequest.type,ve=>he.handleApplyWorkspaceEdit(ve));for(const[ve,Ae]of he._pendingNotificationHandlers)he._notificationDisposables.set(ve,ae.onNotification(ve,Ae));he._pendingNotificationHandlers.clear();for(const[ve,Ae]of he._pendingRequestHandlers)he._requestDisposables.set(ve,ae.onRequest(ve,Ae));he._pendingRequestHandlers.clear();for(const[ve,Ae]of he._pendingProgressHandlers)he._progressDisposables.set(ve,ae.onProgress(Ae.type,ve,Ae.handler));return he._pendingProgressHandlers.clear(),yield ae.sendNotification(S.InitializedNotification.type,{}),he.hookFileEvents(ae),he.hookConfigurationChanged(ae),he.initializeFeatures(ae),le}catch(le){throw he._clientOptions.initializationFailedHandler?he._clientOptions.initializationFailedHandler(le)?he.initialize(ae):he.stop():le instanceof S.ResponseError&&le.data&&le.data.retry?l.window.showErrorMessage(le.message,{title:"Retry",id:"retry"}).then(Q=>{Q&&"retry"===Q.id?he.initialize(ae):he.stop()}):(le&&le.message&&l.window.showErrorMessage(le.message),he.error("Server initialization failed.",le),he.stop()),le}})()}_clientGetRootPath(){let ae=l.workspace.workspaceFolders;if(!ae||0===ae.length)return;let _e=ae[0];return"file"===_e.uri.scheme?_e.uri.fsPath:void 0}stop(ae=2e3){return this.shutdown("stop",ae)}dispose(ae=2e3){try{return this._disposed="disposing",this.stop(ae)}finally{this._disposed="disposed"}}shutdown(ae,_e){var he=this;return t(function*(){if(he.$state===$e.Stopped||he.$state===$e.Initial)return;if(he.$state===$e.Stopping){if(void 0!==he._onStop)return he._onStop;throw new Error("Client is stopping but no stop promise available.")}const le=he.activeConnection();if(void 0===le||he.$state!==$e.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${he.$state}`);he._initializeResult=void 0,he.$state=$e.Stopping,he.cleanUp(ae);const Q=new Promise(Ae=>{(0,S.RAL)().timer.setTimeout(Ae,_e)}),ve=(Ae=t(function*(dt){return yield dt.shutdown(),yield dt.exit(),dt}),function(dt){return Ae.apply(this,arguments)})(le);var Ae;return he._onStop=Promise.race([Q,ve]).then(Ae=>{if(void 0===Ae)throw he.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");Ae.end(),Ae.dispose()},Ae=>{throw he.error("Stopping server failed",Ae,!1),Ae}).finally(()=>{he.$state=$e.Stopped,"stop"===ae&&he.cleanUpChannel(),he._onStart=void 0,he._onStop=void 0,he._connection=void 0,he._ignoredRegistrations.clear()})})()}cleanUp(ae){this._fileEvents=[],this._fileEventDelayer.cancel();const _e=this._listeners.splice(0,this._listeners.length);for(const he of _e)he.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const he of Array.from(this._features.entries()).map(le=>le[1]).reverse())he.dispose();"stop"===ae&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(ae){const _e=this;function he(ve){return le.apply(this,arguments)}function le(){return(le=t(function*(ve){return _e._fileEvents.push(ve),_e._fileEventDelayer.trigger(t(function*(){const Ae=yield _e.$start();yield _e.forceDocumentSync();const dt=Ae.sendNotification(S.DidChangeWatchedFilesNotification.type,{changes:_e._fileEvents});return _e._fileEvents=[],dt}))})).apply(this,arguments)}const Q=this.clientOptions.middleware?.workspace;(Q?.didChangeWatchedFile?Q.didChangeWatchedFile(ae,he):he(ae)).catch(ve=>{_e.error("Notify file events failed.",ve)})}forceDocumentSync(){var ae=this;return t(function*(){return void 0===ae._didChangeTextDocumentFeature&&(ae._didChangeTextDocumentFeature=ae._dynamicFeatures.get(S.DidChangeTextDocumentNotification.type.method)),ae._didChangeTextDocumentFeature.forceDelivery()})()}handleDiagnostics(ae){this._diagnostics&&("busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===ae.uri&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(ae.uri,ae.diagnostics),this.triggerDiagnosticQueue())}triggerDiagnosticQueue(){(0,S.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const ae=this._diagnosticQueue.entries().next();if(!0===ae.done)return;const[_e,he]=ae.value;this._diagnosticQueue.delete(_e);const le=new l.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:_e,tokenSource:le},this._p2c.asDiagnostics(he,le.token).then(Q=>{if(!le.token.isCancellationRequested){const ve=this._p2c.asUri(_e),Ae=this.clientOptions.middleware;Ae.handleDiagnostics?Ae.handleDiagnostics(ve,Q,(dt,st)=>this.setDiagnostics(dt,st)):this.setDiagnostics(ve,Q)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(ae,_e){!this._diagnostics||this._diagnostics.set(ae,_e)}$start(){var ae=this;return t(function*(){if(ae.$state===$e.StartFailed)throw new Error("Previous start failed. Can't restart server.");yield ae.start();const _e=ae.activeConnection();if(void 0===_e)throw new Error("Starting server failed");return _e})()}createConnection(){var ae=this;return t(function*(){const le=yield ae.createMessageTransports(ae._clientOptions.stdioEncoding||"utf8");return ae._connection=function Dt(Ze,ae,_e,he,le){let Q=-1;const ve=new nt,Ae=(0,S.createProtocolConnection)(Ze,ae,ve,le);return Ae.onError(st=>{_e(st[0],st[1],st[2])}),Ae.onClose(he),{get lastUsed(){return Q},resetLastUsed:()=>{Q=-1},listen:()=>Ae.listen(),sendRequest:(st,...et)=>(Q=Date.now(),Ae.sendRequest(st,...et)),onRequest:(st,et)=>Ae.onRequest(st,et),hasPendingResponse:()=>Ae.hasPendingResponse(),sendNotification:(st,et)=>(Q=Date.now(),Ae.sendNotification(st,et)),onNotification:(st,et)=>Ae.onNotification(st,et),onProgress:Ae.onProgress,sendProgress:Ae.sendProgress,trace:(st,et,Qe)=>void 0===Qe?Ae.trace(st,et,{sendNotification:!1,traceFormat:S.TraceFormat.Text}):(C.boolean(Qe),Ae.trace(st,et,Qe)),initialize:st=>(Q=Date.now(),Ae.sendRequest(S.InitializeRequest.type,st)),shutdown:()=>(Q=Date.now(),Ae.sendRequest(S.ShutdownRequest.type,void 0)),exit:()=>(Q=Date.now(),Ae.sendNotification(S.ExitNotification.type)),end:()=>Ae.end(),dispose:()=>Ae.dispose()}}(le.reader,le.writer,(Q,ve,Ae)=>{ae.handleConnectionError(Q,ve,Ae)},()=>{ae.handleConnectionClosed()},ae._clientOptions.connectionOptions),ae._connection})()}handleConnectionClosed(){if(this.$state===$e.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch{}let ae={action:Te.DoNotRestart};if(this.$state!==$e.Stopping)try{ae=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,ae.action===Te.DoNotRestart?(this.error(ae.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state=this.$state===$e.Starting?$e.StartFailed:$e.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):ae.action===Te.Restart&&(this.info(ae.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=$e.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(_e=>this.error("Restarting server failed",_e,"force")))}handleConnectionError(ae,_e,he){const le=this._clientOptions.errorHandler.error(ae,_e,he);le.action===pe.Shutdown&&(this.error(le.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(Q=>{this.error("Stopping server failed",Q,!1)}))}hookConfigurationChanged(ae){this._listeners.push(l.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(ae,!0)}))}refreshTrace(ae,_e=!1){const he=l.workspace.getConfiguration(this._id);let le=S.Trace.Off,Q=S.TraceFormat.Text;if(he){const ve=he.get("trace.server","off");"string"==typeof ve?le=S.Trace.fromString(ve):(le=S.Trace.fromString(he.get("trace.server.verbosity","off")),Q=S.TraceFormat.fromString(he.get("trace.server.format","text")))}this._trace=le,this._traceFormat=Q,ae.trace(this._trace,this._tracer,{sendNotification:_e,traceFormat:this._traceFormat}).catch(ve=>{this.error("Updating trace failed with error",ve,!1)})}hookFileEvents(ae){let he,_e=this._clientOptions.synchronize.fileEvents;_e&&(he=C.array(_e)?_e:[_e],he&&this._dynamicFeatures.get(S.DidChangeWatchedFilesNotification.type.method).registerRaw(L.generateUuid(),he))}registerFeatures(ae){for(let _e of ae)this.registerFeature(_e)}registerFeature(ae){this._features.push(ae),s.DynamicFeature.is(ae)&&this._dynamicFeatures.set(ae.registrationType.method,ae)}getFeature(ae){return this._dynamicFeatures.get(ae)}hasDedicatedTextSynchronizationFeature(ae){const _e=this.getFeature(S.NotebookDocumentSyncRegistrationType.method);return void 0!==_e&&_e instanceof c.NotebookDocumentSyncFeature&&_e.handles(ae)}registerBuiltinFeatures(){this.registerFeature(new n.ConfigurationFeature(this)),this.registerFeature(new a.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new a.DidChangeTextDocumentFeature(this)),this.registerFeature(new a.WillSaveFeature(this)),this.registerFeature(new a.WillSaveWaitUntilFeature(this)),this.registerFeature(new a.DidSaveTextDocumentFeature(this)),this.registerFeature(new a.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new B.FileSystemWatcherFeature(this,ae=>this.notifyFileEvent(ae))),this.registerFeature(new p.CompletionItemFeature(this)),this.registerFeature(new u.HoverFeature(this)),this.registerFeature(new b.SignatureHelpFeature(this)),this.registerFeature(new g.DefinitionFeature(this)),this.registerFeature(new I.ReferencesFeature(this)),this.registerFeature(new y.DocumentHighlightFeature(this)),this.registerFeature(new D.DocumentSymbolFeature(this)),this.registerFeature(new w.WorkspaceSymbolFeature(this)),this.registerFeature(new P.CodeActionFeature(this)),this.registerFeature(new O.CodeLensFeature(this)),this.registerFeature(new H.DocumentFormattingFeature(this)),this.registerFeature(new H.DocumentRangeFormattingFeature(this)),this.registerFeature(new H.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new U.RenameFeature(this)),this.registerFeature(new K.DocumentLinkFeature(this)),this.registerFeature(new F.ExecuteCommandFeature(this)),this.registerFeature(new n.SyncConfigurationFeature(this)),this.registerFeature(new j.TypeDefinitionFeature(this)),this.registerFeature(new $.ImplementationFeature(this)),this.registerFeature(new z.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new ne.WorkspaceFoldersFeature(this)),this.registerFeature(new N.FoldingRangeFeature(this)),this.registerFeature(new V.DeclarationFeature(this)),this.registerFeature(new Z.SelectionRangeFeature(this)),this.registerFeature(new fe.ProgressFeature(this)),this.registerFeature(new M.CallHierarchyFeature(this)),this.registerFeature(new Se.SemanticTokensFeature(this)),this.registerFeature(new Le.LinkedEditingFeature(this)),this.registerFeature(new Ee.DidCreateFilesFeature(this)),this.registerFeature(new Ee.DidRenameFilesFeature(this)),this.registerFeature(new Ee.DidDeleteFilesFeature(this)),this.registerFeature(new Ee.WillCreateFilesFeature(this)),this.registerFeature(new Ee.WillRenameFilesFeature(this)),this.registerFeature(new Ee.WillDeleteFilesFeature(this)),this.registerFeature(new Ne.TypeHierarchyFeature(this)),this.registerFeature(new oe.InlineValueFeature(this)),this.registerFeature(new we.InlayHintsFeature(this)),this.registerFeature(new m.DiagnosticFeature(this)),this.registerFeature(new c.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Lt.createAll(this))}fillInitializeParams(ae){for(let _e of this._features)C.func(_e.fillInitializeParams)&&_e.fillInitializeParams(ae)}computeClientCapabilities(){const ae={};(0,s.ensure)(ae,"workspace").applyEdit=!0;const _e=(0,s.ensure)((0,s.ensure)(ae,"workspace"),"workspaceEdit");_e.documentChanges=!0,_e.resourceOperations=[S.ResourceOperationKind.Create,S.ResourceOperationKind.Rename,S.ResourceOperationKind.Delete],_e.failureHandling=S.FailureHandlingKind.TextOnlyTransactional,_e.normalizesLineEndings=!0,_e.changeAnnotationSupport={groupsOnLabel:!0};const he=(0,s.ensure)((0,s.ensure)(ae,"textDocument"),"publishDiagnostics");he.relatedInformation=!0,he.versionSupport=!1,he.tagSupport={valueSet:[S.DiagnosticTag.Unnecessary,S.DiagnosticTag.Deprecated]},he.codeDescriptionSupport=!0,he.dataSupport=!0;const le=(0,s.ensure)(ae,"window");(0,s.ensure)(le,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,s.ensure)(le,"showDocument").support=!0;const Ae=(0,s.ensure)(ae,"general");Ae.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(Ue.RequestsToCancelOnContentModified)},Ae.regularExpressions={engine:"ECMAScript",version:"ES2020"},Ae.markdown={parser:"marked",version:"1.1.0"},Ae.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(Ae.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let dt of this._features)dt.fillClientCapabilities(ae);return ae}initializeFeatures(ae){const _e=this._clientOptions.documentSelector;for(const he of this._features)C.func(he.preInitialize)&&he.preInitialize(this._capabilities,_e);for(const he of this._features)he.initialize(this._capabilities,_e)}handleRegistrationRequest(ae){var _e=this;return t(function*(){if(_e.isRunning())for(const he of ae.registrations){const le=_e._dynamicFeatures.get(he.method);if(void 0===le)return Promise.reject(new Error(`No feature implementation for ${he.method} found. Registration failed.`));const Q=he.registerOptions??{};Q.documentSelector=Q.documentSelector??_e._clientOptions.documentSelector;const ve={id:he.id,registerOptions:Q};try{le.register(ve)}catch(Ae){return Promise.reject(Ae)}}else for(const he of ae.registrations)_e._ignoredRegistrations.add(he.id)})()}handleUnregistrationRequest(ae){var _e=this;return t(function*(){for(let he of ae.unregisterations){if(_e._ignoredRegistrations.has(he.id))continue;const le=_e._dynamicFeatures.get(he.method);if(!le)return Promise.reject(new Error(`No feature implementation for ${he.method} found. Unregistration failed.`));le.unregister(he.id)}})()}handleApplyWorkspaceEdit(ae){var _e=this;return t(function*(){const he=ae.edit,le=yield _e.workspaceEditLock.lock(()=>_e._p2c.asWorkspaceEdit(he)),Q=new Map;l.workspace.textDocuments.forEach(Ae=>Q.set(Ae.uri.toString(),Ae));let ve=!1;if(he.documentChanges)for(const Ae of he.documentChanges)if(S.TextDocumentEdit.is(Ae)&&Ae.textDocument.version&&Ae.textDocument.version>=0){const dt=Q.get(Ae.textDocument.uri);if(dt&&dt.version!==Ae.textDocument.version){ve=!0;break}}return ve?Promise.resolve({applied:!1}):C.asPromise(l.workspace.applyEdit(le).then(Ae=>({applied:Ae})))})()}handleFailedRequest(ae,_e,he,le,Q=!0){if(he instanceof S.ResponseError){if(he.code===S.ErrorCodes.PendingResponseRejected||he.code===S.ErrorCodes.ConnectionInactive)return le;if(he.code===S.LSPErrorCodes.RequestCancelled||he.code===S.LSPErrorCodes.ServerCancelled){if(void 0!==_e&&_e.isCancellationRequested)return le;throw void 0!==he.data?new s.LSPCancellationError(he.data):new l.CancellationError}if(he.code===S.LSPErrorCodes.ContentModified){if(Ue.RequestsToCancelOnContentModified.has(ae.method))throw new l.CancellationError;return le}}throw this.error(`Request ${ae.method} failed.`,he,Q),he}}X.dp=Ue,Ue.RequestsToCancelOnContentModified=new Set([S.SemanticTokensRequest.method,S.SemanticTokensRangeRequest.method,S.SemanticTokensDeltaRequest.method]);class nt{error(ae){(0,S.RAL)().console.error(ae)}warn(ae){(0,S.RAL)().console.warn(ae)}info(ae){(0,S.RAL)().console.info(ae)}log(ae){(0,S.RAL)().console.log(ae)}}!function(Ze){Ze.createAll=function ae(_e){return[]}}(Lt=X.Fy||(X.Fy={}))},823:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.CodeActionFeature=void 0;const t=e(78708),l=e(85055),S=e(2766),v=e(37062);X.CodeActionFeature=class T extends v.TextDocumentLanguageFeature{constructor(E){super(E,l.CodeActionRequest.type)}fillClientCapabilities(E){const L=(0,v.ensure)((0,v.ensure)(E,"textDocument"),"codeAction");L.dynamicRegistration=!0,L.isPreferredSupport=!0,L.disabledSupport=!0,L.dataSupport=!0,L.resolveSupport={properties:["edit"]},L.codeActionLiteralSupport={codeActionKind:{valueSet:[l.CodeActionKind.Empty,l.CodeActionKind.QuickFix,l.CodeActionKind.Refactor,l.CodeActionKind.RefactorExtract,l.CodeActionKind.RefactorInline,l.CodeActionKind.RefactorRewrite,l.CodeActionKind.Source,l.CodeActionKind.SourceOrganizeImports]}},L.honorsChangeAnnotations=!1}initialize(E,L){const _=this.getRegistrationOptions(L,E.codeActionProvider);!_||this.register({id:S.generateUuid(),registerOptions:_})}registerLanguageProvider(E){const _={provideCodeActions:(s,m,c,n)=>{const a=this._client,p=function(){var g=d(function*(b,y,D,w){const I={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(b),range:a.code2ProtocolConverter.asRange(y),context:yield a.code2ProtocolConverter.asCodeActionContext(D,w)};return a.sendRequest(l.CodeActionRequest.type,I,w).then(P=>w.isCancellationRequested||null==P?null:a.protocol2CodeConverter.asCodeActionResult(P,w),P=>a.handleFailedRequest(l.CodeActionRequest.type,w,P,null))});return function(y,D,w,I){return g.apply(this,arguments)}}(),u=a.middleware;return u.provideCodeActions?u.provideCodeActions(s,m,c,n,p):p(s,m,c,n)},resolveCodeAction:E.resolveProvider?(s,m)=>{const c=this._client,n=this._client.middleware,a=function(){var p=d(function*(u,g){return c.sendRequest(l.CodeActionResolveRequest.type,yield c.code2ProtocolConverter.asCodeAction(u,g),g).then(b=>g.isCancellationRequested?u:c.protocol2CodeConverter.asCodeAction(b,g),b=>c.handleFailedRequest(l.CodeActionResolveRequest.type,g,b,u))});return function(g,b){return p.apply(this,arguments)}}();return n.resolveCodeAction?n.resolveCodeAction(s,m,a):a(s,m)}:void 0};return[t.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(E.documentSelector),_,E.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(E.codeActionKinds)}:void 0),_]}}},86683:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.createConverter=void 0;const t=e(78708),l=e(85055),S=e(81072),v=e(8787),T=e(12115),C=e(81056),E=e(95388),L=e(40359),_=e(1426),s=e(29966),m=e(90244),c=e(52251),n=e(30674);var a;(a||(a={})).is=function g(b){return b&&!!b.inserting&&!!b.replacing},X.createConverter=function p(u){const b=u||(Ct=>Ct.toString());function y(Ct){return b(Ct)}function D(Ct){return{uri:b(Ct.uri)}}function w(Ct){return{uri:b(Ct.uri),languageId:Ct.languageId,version:Ct.version,text:Ct.getText()}}function B(Ct){switch(Ct){case t.TextDocumentSaveReason.Manual:return l.TextDocumentSaveReason.Manual;case t.TextDocumentSaveReason.AfterDelay:return l.TextDocumentSaveReason.AfterDelay;case t.TextDocumentSaveReason.FocusOut:return l.TextDocumentSaveReason.FocusOut}return l.TextDocumentSaveReason.Manual}function M(Ct){switch(Ct){case t.CompletionTriggerKind.TriggerCharacter:return l.CompletionTriggerKind.TriggerCharacter;case t.CompletionTriggerKind.TriggerForIncompleteCompletions:return l.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return l.CompletionTriggerKind.Invoked}}function Ee(Ct){switch(Ct){case t.SignatureHelpTriggerKind.Invoke:return l.SignatureHelpTriggerKind.Invoked;case t.SignatureHelpTriggerKind.TriggerCharacter:return l.SignatureHelpTriggerKind.TriggerCharacter;case t.SignatureHelpTriggerKind.ContentChange:return l.SignatureHelpTriggerKind.ContentChange}}function Le(Ct){return{label:Ct.label}}function Ne(Ct){return Ct.map(Le)}function oe(Ct){return{label:Ct.label,parameters:Ne(Ct.parameters)}}function we(Ct){return Ct.map(oe)}function xe(Ct){return void 0===Ct?Ct:{signatures:we(Ct.signatures),activeSignature:Ct.activeSignature,activeParameter:Ct.activeParameter}}function Te(Ct){return{line:Ct.line,character:Ct.character}}function de(Ct){return null==Ct?Ct:{line:Ct.line>l.uinteger.MAX_VALUE?l.uinteger.MAX_VALUE:Ct.line,character:Ct.character>l.uinteger.MAX_VALUE?l.uinteger.MAX_VALUE:Ct.character}}function ze(Ct){return null==Ct?Ct:{start:de(Ct.start),end:de(Ct.end)}}function $e(Ct){return null==Ct?Ct:l.Location.create(y(Ct.uri),ze(Ct.range))}function ce(Ct){switch(Ct){case t.DiagnosticSeverity.Error:return l.DiagnosticSeverity.Error;case t.DiagnosticSeverity.Warning:return l.DiagnosticSeverity.Warning;case t.DiagnosticSeverity.Information:return l.DiagnosticSeverity.Information;case t.DiagnosticSeverity.Hint:return l.DiagnosticSeverity.Hint}}function nt(Ct){switch(Ct){case t.DiagnosticTag.Unnecessary:return l.DiagnosticTag.Unnecessary;case t.DiagnosticTag.Deprecated:return l.DiagnosticTag.Deprecated;default:return}}function Dt(Ct){return{message:Ct.message,location:$e(Ct.location)}}function ae(Ct){const fn=l.Diagnostic.create(ze(Ct.range),Ct.message),Vn=Ct instanceof _.ProtocolDiagnostic?Ct:void 0;void 0!==Vn&&void 0!==Vn.data&&(fn.data=Vn.data);const yn=function Ze(Ct){if(null!=Ct)return S.number(Ct)||S.string(Ct)?Ct:{value:Ct.value,target:y(Ct.target)}}(Ct.code);return _.DiagnosticCode.is(yn)?void 0!==Vn&&Vn.hasDiagnosticCode?fn.code=yn:(fn.code=yn.value,fn.codeDescription={href:yn.target}):fn.code=yn,S.number(Ct.severity)&&(fn.severity=ce(Ct.severity)),Array.isArray(Ct.tags)&&(fn.tags=function Ue(Ct){if(!Ct)return;let fn=[];for(let Vn of Ct){let yn=nt(Vn);void 0!==yn&&fn.push(yn)}return fn.length>0?fn:void 0}(Ct.tags)),Ct.relatedInformation&&(fn.relatedInformation=function Lt(Ct){return Ct.map(Dt)}(Ct.relatedInformation)),Ct.source&&(fn.source=Ct.source),fn}function _e(Ct,fn){return null==Ct?Ct:v.map(Ct,ae,fn)}function le(Ct){if(Ct===t.CompletionItemTag.Deprecated)return l.CompletionItemTag.Deprecated}function et(Ct){return{range:ze(Ct.range),newText:Ct.newText}}function Qe(Ct){return null==Ct?Ct:Ct.map(et)}function tt(Ct){return Ct<=t.SymbolKind.TypeParameter?Ct+1:l.SymbolKind.Property}function vt(Ct){return Ct}function mt(Ct){return Ct.map(vt)}function Bt(){return(Bt=d(function*(Ct,fn){let Vn=l.CodeAction.create(Ct.title);if(Ct instanceof L.default&&void 0!==Ct.data&&(Vn.data=Ct.data),void 0!==Ct.kind&&(Vn.kind=hn(Ct.kind)),void 0!==Ct.diagnostics&&(Vn.diagnostics=yield _e(Ct.diagnostics,fn)),void 0!==Ct.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==Ct.command&&(Vn.command=wt(Ct.command)),void 0!==Ct.isPreferred&&(Vn.isPreferred=Ct.isPreferred),void 0!==Ct.disabled&&(Vn.disabled={reason:Ct.disabled.reason}),Vn})).apply(this,arguments)}function ut(){return(ut=d(function*(Ct,fn){if(null==Ct)return Ct;let Vn;return Ct.only&&S.string(Ct.only.value)&&(Vn=[Ct.only.value]),l.CodeActionContext.create(yield _e(Ct.diagnostics,fn),Vn,Ut(Ct.triggerKind))})).apply(this,arguments)}function Ut(Ct){switch(Ct){case t.CodeActionTriggerKind.Invoke:return l.CodeActionTriggerKind.Invoked;case t.CodeActionTriggerKind.Automatic:return l.CodeActionTriggerKind.Automatic;default:return}}function hn(Ct){if(null!=Ct)return Ct.value}function wt(Ct){let fn=l.Command.create(Ct.title,Ct.command);return Ct.arguments&&(fn.arguments=Ct.arguments),fn}function vn(Ct){const fn=l.InlayHintLabelPart.create(Ct.value);return void 0!==Ct.location&&(fn.location=$e(Ct.location)),void 0!==Ct.command&&(fn.command=wt(Ct.command)),void 0!==Ct.tooltip&&(fn.tooltip=Mn(Ct.tooltip)),fn}function Mn(Ct){return"string"==typeof Ct?Ct:{kind:l.MarkupKind.Markdown,value:Ct.value}}return{asUri:y,asTextDocumentIdentifier:D,asTextDocumentItem:w,asVersionedTextDocumentIdentifier:function I(Ct){return{uri:b(Ct.uri),version:Ct.version}},asOpenTextDocumentParams:function P(Ct){return{textDocument:w(Ct)}},asChangeTextDocumentParams:function U(Ct){if(function H(Ct){return!!Ct.uri&&!!Ct.version}(Ct))return{textDocument:{uri:b(Ct.uri),version:Ct.version},contentChanges:[{text:Ct.getText()}]};if(function O(Ct){return!!Ct.document&&!!Ct.contentChanges}(Ct)){let fn=Ct.document;return{textDocument:{uri:b(fn.uri),version:fn.version},contentChanges:Ct.contentChanges.map(yn=>{let zn=yn.range;return{range:{start:{line:zn.start.line,character:zn.start.character},end:{line:zn.end.line,character:zn.end.character}},rangeLength:yn.rangeLength,text:yn.text}})}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function K(Ct){return{textDocument:D(Ct)}},asSaveTextDocumentParams:function F(Ct,fn=!1){let Vn={textDocument:D(Ct)};return fn&&(Vn.text=Ct.getText()),Vn},asWillSaveTextDocumentParams:function z(Ct){return{textDocument:D(Ct.document),reason:B(Ct.reason)}},asDidCreateFilesParams:function $(Ct){return{files:Ct.files.map(fn=>({uri:b(fn)}))}},asDidRenameFilesParams:function j(Ct){return{files:Ct.files.map(fn=>({oldUri:b(fn.oldUri),newUri:b(fn.newUri)}))}},asDidDeleteFilesParams:function ne(Ct){return{files:Ct.files.map(fn=>({uri:b(fn)}))}},asWillCreateFilesParams:function N(Ct){return{files:Ct.files.map(fn=>({uri:b(fn)}))}},asWillRenameFilesParams:function V(Ct){return{files:Ct.files.map(fn=>({oldUri:b(fn.oldUri),newUri:b(fn.newUri)}))}},asWillDeleteFilesParams:function Z(Ct){return{files:Ct.files.map(fn=>({uri:b(fn)}))}},asTextDocumentPositionParams:function fe(Ct,fn){return{textDocument:D(Ct),position:Te(fn)}},asCompletionParams:function Se(Ct,fn,Vn){return{textDocument:D(Ct),position:Te(fn),context:{triggerKind:M(Vn.triggerKind),triggerCharacter:Vn.triggerCharacter}}},asSignatureHelpParams:function pe(Ct,fn,Vn){return{textDocument:D(Ct),position:Te(fn),context:{isRetrigger:Vn.isRetrigger,triggerCharacter:Vn.triggerCharacter,triggerKind:Ee(Vn.triggerKind),activeSignatureHelp:xe(Vn.activeSignatureHelp)}}},asWorkerPosition:Te,asRange:ze,asPosition:de,asPositions:function ke(Ct,fn){return v.map(Ct,de,fn)},asLocation:$e,asDiagnosticSeverity:ce,asDiagnosticTag:nt,asDiagnostic:ae,asDiagnostics:_e,asCompletionItem:function Ae(Ct,fn=!1){let Vn,yn;S.string(Ct.label)?Vn=Ct.label:(Vn=Ct.label.label,fn&&(void 0!==Ct.label.detail||void 0!==Ct.label.description)&&(yn={detail:Ct.label.detail,description:Ct.label.description}));let zn={label:Vn};void 0!==yn&&(zn.labelDetails=yn);let li=Ct instanceof T.default?Ct:void 0;Ct.detail&&(zn.detail=Ct.detail),Ct.documentation&&(zn.documentation=li&&"$string"!==li.documentationFormat?function he(Ct,fn){switch(Ct){case"$string":return fn;case l.MarkupKind.PlainText:return{kind:Ct,value:fn};case l.MarkupKind.Markdown:return{kind:Ct,value:fn.value};default:return`Unsupported Markup content received. Kind is: ${Ct}`}}(li.documentationFormat,Ct.documentation):Ct.documentation),Ct.filterText&&(zn.filterText=Ct.filterText),function dt(Ct,fn){let yn,zn,Vn=l.InsertTextFormat.PlainText;fn.textEdit?(yn=fn.textEdit.newText,zn=fn.textEdit.range):fn.insertText instanceof t.SnippetString?(Vn=l.InsertTextFormat.Snippet,yn=fn.insertText.value):yn=fn.insertText,fn.range&&(zn=fn.range),Ct.insertTextFormat=Vn,fn.fromEdit&&void 0!==yn&&void 0!==zn?Ct.textEdit=function st(Ct,fn){return a.is(fn)?l.InsertReplaceEdit.create(Ct,ze(fn.inserting),ze(fn.replacing)):{newText:Ct,range:ze(fn)}}(yn,zn):Ct.insertText=yn}(zn,Ct),S.number(Ct.kind)&&(zn.kind=function ve(Ct,fn){return void 0!==fn?fn:Ct+1}(Ct.kind,li&&li.originalItemKind)),Ct.sortText&&(zn.sortText=Ct.sortText),Ct.additionalTextEdits&&(zn.additionalTextEdits=Qe(Ct.additionalTextEdits)),Ct.commitCharacters&&(zn.commitCharacters=Ct.commitCharacters.slice()),Ct.command&&(zn.command=wt(Ct.command)),(!0===Ct.preselect||!1===Ct.preselect)&&(zn.preselect=Ct.preselect);const oi=function Q(Ct){if(void 0===Ct)return Ct;const fn=[];for(let Vn of Ct){const yn=le(Vn);void 0!==yn&&fn.push(yn)}return fn}(Ct.tags);if(li){if(void 0!==li.data&&(zn.data=li.data),!0===li.deprecated||!1===li.deprecated){if(!0===li.deprecated&&void 0!==oi&&oi.length>0){const Li=oi.indexOf(t.CompletionItemTag.Deprecated);-1!==Li&&oi.splice(Li,1)}zn.deprecated=li.deprecated}void 0!==li.insertTextMode&&(zn.insertTextMode=li.insertTextMode)}return void 0!==oi&&oi.length>0&&(zn.tags=oi),void 0===zn.insertTextMode&&!0===Ct.keepWhitespace&&(zn.insertTextMode=l.InsertTextMode.adjustIndentation),zn},asTextEdit:et,asSymbolKind:tt,asSymbolTag:vt,asSymbolTags:mt,asReferenceParams:function _t(Ct,fn,Vn){return{textDocument:D(Ct),position:Te(fn),context:{includeDeclaration:Vn.includeDeclaration}}},asCodeAction:function Kt(Ct,fn){return Bt.apply(this,arguments)},asCodeActionContext:function Ge(Ct,fn){return ut.apply(this,arguments)},asInlineValueContext:function Dn(Ct){return null==Ct?Ct:l.InlineValueContext.create(Ct.frameId,ze(Ct.stoppedLocation))},asCommand:wt,asCodeLens:function je(Ct){let fn=l.CodeLens.create(ze(Ct.range));return Ct.command&&(fn.command=wt(Ct.command)),Ct instanceof C.default&&Ct.data&&(fn.data=Ct.data),fn},asFormattingOptions:function ye(Ct,fn){const Vn={tabSize:Ct.tabSize,insertSpaces:Ct.insertSpaces};return fn.trimTrailingWhitespace&&(Vn.trimTrailingWhitespace=!0),fn.trimFinalNewlines&&(Vn.trimFinalNewlines=!0),fn.insertFinalNewline&&(Vn.insertFinalNewline=!0),Vn},asDocumentSymbolParams:function Me(Ct){return{textDocument:D(Ct)}},asCodeLensParams:function ue(Ct){return{textDocument:D(Ct)}},asDocumentLink:function be(Ct){let fn=l.DocumentLink.create(ze(Ct.range));Ct.target&&(fn.target=y(Ct.target)),void 0!==Ct.tooltip&&(fn.tooltip=Ct.tooltip);let Vn=Ct instanceof E.default?Ct:void 0;return Vn&&Vn.data&&(fn.data=Vn.data),fn},asDocumentLinkParams:function qe(Ct){return{textDocument:D(Ct)}},asCallHierarchyItem:function Fe(Ct){const fn={name:Ct.name,kind:tt(Ct.kind),uri:y(Ct.uri),range:ze(Ct.range),selectionRange:ze(Ct.selectionRange)};return void 0!==Ct.detail&&Ct.detail.length>0&&(fn.detail=Ct.detail),void 0!==Ct.tags&&(fn.tags=mt(Ct.tags)),Ct instanceof s.default&&void 0!==Ct.data&&(fn.data=Ct.data),fn},asTypeHierarchyItem:function ot(Ct){const fn={name:Ct.name,kind:tt(Ct.kind),uri:y(Ct.uri),range:ze(Ct.range),selectionRange:ze(Ct.selectionRange)};return void 0!==Ct.detail&&Ct.detail.length>0&&(fn.detail=Ct.detail),void 0!==Ct.tags&&(fn.tags=mt(Ct.tags)),Ct instanceof m.default&&void 0!==Ct.data&&(fn.data=Ct.data),fn},asInlayHint:function Ht(Ct){const fn="string"==typeof Ct.label?Ct.label:Ct.label.map(vn),Vn=l.InlayHint.create(de(Ct.position),fn);return void 0!==Ct.kind&&(Vn.kind=Ct.kind),void 0!==Ct.textEdits&&(Vn.textEdits=Qe(Ct.textEdits)),void 0!==Ct.tooltip&&(Vn.tooltip=Mn(Ct.tooltip)),void 0!==Ct.paddingLeft&&(Vn.paddingLeft=Ct.paddingLeft),void 0!==Ct.paddingRight&&(Vn.paddingRight=Ct.paddingRight),Ct instanceof n.default&&void 0!==Ct.data&&(Vn.data=Ct.data),Vn},asWorkspaceSymbol:function bt(Ct){const fn=Ct instanceof c.default?{name:Ct.name,kind:tt(Ct.kind),location:Ct.hasRange?$e(Ct.location):{uri:b(Ct.location.uri)},data:Ct.data}:{name:Ct.name,kind:tt(Ct.kind),location:$e(Ct.location)};return void 0!==Ct.tags&&(fn.tags=mt(Ct.tags)),""!==Ct.containerName&&(fn.containerName=Ct.containerName),fn}}}},39229:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.CodeLensFeature=void 0;const t=e(78708),l=e(85055),S=e(2766),v=e(37062);X.CodeLensFeature=class T extends v.TextDocumentLanguageFeature{constructor(E){super(E,l.CodeLensRequest.type)}fillClientCapabilities(E){(0,v.ensure)((0,v.ensure)(E,"textDocument"),"codeLens").dynamicRegistration=!0,(0,v.ensure)((0,v.ensure)(E,"workspace"),"codeLens").refreshSupport=!0}initialize(E,L){var _=this;this._client.onRequest(l.CodeLensRefreshRequest.type,d(function*(){for(const c of _.getAllProviders())c.onDidChangeCodeLensEmitter.fire()}));const m=this.getRegistrationOptions(L,E.codeLensProvider);!m||this.register({id:S.generateUuid(),registerOptions:m})}registerLanguageProvider(E){const L=E.documentSelector,_=new t.EventEmitter,s={onDidChangeCodeLenses:_.event,provideCodeLenses:(m,c)=>{const n=this._client,a=(u,g)=>n.sendRequest(l.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(u),g).then(b=>g.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(b,g),b=>n.handleFailedRequest(l.CodeLensRequest.type,g,b,null)),p=n.middleware;return p.provideCodeLenses?p.provideCodeLenses(m,c,a):a(m,c)},resolveCodeLens:E.resolveProvider?(m,c)=>{const n=this._client,a=(u,g)=>n.sendRequest(l.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(u),g).then(b=>g.isCancellationRequested?u:n.protocol2CodeConverter.asCodeLens(b),b=>n.handleFailedRequest(l.CodeLensResolveRequest.type,g,b,u)),p=n.middleware;return p.resolveCodeLens?p.resolveCodeLens(m,c,a):a(m,c)}:void 0};return[t.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(L),s),{provider:s,onDidChangeCodeLensEmitter:_}]}}},95907:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.ColorProviderFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);X.ColorProviderFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,t.DocumentColorRequest.type)}fillClientCapabilities(T){(0,l.ensure)((0,l.ensure)(T,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(T,C){let[E,L]=this.getRegistration(C,T.colorProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideColorPresentations:(L,_,s)=>{const m=this._client,c=(a,p,u)=>{const g={color:a,textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(p.document),range:m.code2ProtocolConverter.asRange(p.range)};return m.sendRequest(t.ColorPresentationRequest.type,g,u).then(b=>u.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(b,u),b=>m.handleFailedRequest(t.ColorPresentationRequest.type,u,b,null))},n=m.middleware;return n.provideColorPresentations?n.provideColorPresentations(L,_,s,c):c(L,_,s)},provideDocumentColors:(L,_)=>{const s=this._client,m=(n,a)=>{const p={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(n)};return s.sendRequest(t.DocumentColorRequest.type,p,a).then(u=>a.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(u,a),u=>s.handleFailedRequest(t.DocumentColorRequest.type,a,u,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(L,_,m):m(L,_)}};return[d.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(T.documentSelector),E),E]}}},25599:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.CompletionItemFeature=void 0;const d=e(78708),t=e(85055),l=e(37062),S=e(2766),v=[t.CompletionItemKind.Text,t.CompletionItemKind.Method,t.CompletionItemKind.Function,t.CompletionItemKind.Constructor,t.CompletionItemKind.Field,t.CompletionItemKind.Variable,t.CompletionItemKind.Class,t.CompletionItemKind.Interface,t.CompletionItemKind.Module,t.CompletionItemKind.Property,t.CompletionItemKind.Unit,t.CompletionItemKind.Value,t.CompletionItemKind.Enum,t.CompletionItemKind.Keyword,t.CompletionItemKind.Snippet,t.CompletionItemKind.Color,t.CompletionItemKind.File,t.CompletionItemKind.Reference,t.CompletionItemKind.Folder,t.CompletionItemKind.EnumMember,t.CompletionItemKind.Constant,t.CompletionItemKind.Struct,t.CompletionItemKind.Event,t.CompletionItemKind.Operator,t.CompletionItemKind.TypeParameter];X.CompletionItemFeature=class T extends l.TextDocumentLanguageFeature{constructor(E){super(E,t.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(E){let L=(0,l.ensure)((0,l.ensure)(E,"textDocument"),"completion");L.dynamicRegistration=!0,L.contextSupport=!0,L.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[t.MarkupKind.Markdown,t.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[t.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[t.InsertTextMode.asIs,t.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},L.insertTextMode=t.InsertTextMode.adjustIndentation,L.completionItemKind={valueSet:v},L.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(E,L){const _=this.getRegistrationOptions(L,E.completionProvider);!_||this.register({id:S.generateUuid(),registerOptions:_})}registerLanguageProvider(E,L){this.labelDetailsSupport.set(L,!!E.completionItem?.labelDetailsSupport);const _=E.triggerCharacters??[],s=E.allCommitCharacters,c={provideCompletionItems:(n,a,p,u)=>{const g=this._client,b=this._client.middleware,y=(D,w,I,P)=>g.sendRequest(t.CompletionRequest.type,g.code2ProtocolConverter.asCompletionParams(D,w,I),P).then(O=>P.isCancellationRequested?null:g.protocol2CodeConverter.asCompletionResult(O,s,P),O=>g.handleFailedRequest(t.CompletionRequest.type,P,O,null));return b.provideCompletionItem?b.provideCompletionItem(n,a,u,p,y):y(n,a,u,p)},resolveCompletionItem:E.resolveProvider?(n,a)=>{const p=this._client,u=this._client.middleware,g=(b,y)=>p.sendRequest(t.CompletionResolveRequest.type,p.code2ProtocolConverter.asCompletionItem(b,!!this.labelDetailsSupport.get(L)),y).then(D=>y.isCancellationRequested?null:p.protocol2CodeConverter.asCompletionItem(D),D=>p.handleFailedRequest(t.CompletionResolveRequest.type,y,D,b));return u.resolveCompletionItem?u.resolveCompletionItem(n,a,g):g(n,a)}:void 0};return[d.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(E.documentSelector),c,..._),c]}}},28712:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.SyncConfigurationFeature=X.toJSONObject=X.ConfigurationFeature=void 0;const t=e(78708),l=e(85055),S=e(81072),v=e(2766),T=e(37062);function E(_){if(_){if(Array.isArray(_))return _.map(E);if("object"==typeof _){const s=Object.create(null);for(const m in _)Object.prototype.hasOwnProperty.call(_,m)&&(s[m]=E(_[m]));return s}}return _}X.ConfigurationFeature=class C{constructor(s){this._client=s}getState(){return{kind:"static"}}fillClientCapabilities(s){s.workspace=s.workspace||{},s.workspace.configuration=!0}initialize(){let s=this._client;s.onRequest(l.ConfigurationRequest.type,(m,c)=>{let n=p=>{let u=[];for(let g of p.items){let b=null!=g.scopeUri?this._client.protocol2CodeConverter.asUri(g.scopeUri):void 0;u.push(this.getConfiguration(b,null!==g.section?g.section:void 0))}return u},a=s.middleware.workspace;return a&&a.configuration?a.configuration(m,c,n):n(m)})}getConfiguration(s,m){let c=null;if(m){let n=m.lastIndexOf(".");if(-1===n)c=E(t.workspace.getConfiguration(void 0,s).get(m));else{let a=t.workspace.getConfiguration(m.substr(0,n),s);a&&(c=E(a.get(m.substr(n+1))))}}else{let n=t.workspace.getConfiguration(void 0,s);c={};for(let a of Object.keys(n))n.has(a)&&(c[a]=E(n.get(a)))}return void 0===c&&(c=null),c}dispose(){}},X.toJSONObject=E,X.SyncConfigurationFeature=class L{constructor(s){this._client=s,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return l.DidChangeConfigurationNotification.type}fillClientCapabilities(s){(0,T.ensure)((0,T.ensure)(s,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let s=this._client.clientOptions.synchronize?.configurationSection;void 0!==s&&this.register({id:v.generateUuid(),registerOptions:{section:s}})}register(s){let m=t.workspace.onDidChangeConfiguration(c=>{this.onDidChangeConfiguration(s.registerOptions.section,c)});this._listeners.set(s.id,m),void 0!==s.registerOptions.section&&this.onDidChangeConfiguration(s.registerOptions.section,void 0)}unregister(s){let m=this._listeners.get(s);m&&(this._listeners.delete(s),m.dispose())}dispose(){for(const s of this._listeners.values())s.dispose();this._listeners.clear()}onDidChangeConfiguration(s,m){var c=this;let n;if(n=S.string(s)?[s]:s,void 0!==n&&void 0!==m&&!n.some(g=>m.affectsConfiguration(g)))return;const a=function(){var u=d(function*(g){return c._client.sendNotification(l.DidChangeConfigurationNotification.type,void 0===g?{settings:null}:{settings:c.extractSettingsInformation(g)})});return function(b){return u.apply(this,arguments)}}();let p=this._client.middleware.workspace?.didChangeConfiguration;(p?p(n,a):a(n)).catch(u=>{this._client.error(`Sending notification ${l.DidChangeConfigurationNotification.type.method} failed`,u)})}extractSettingsInformation(s){function m(a,p){let u=a;for(let g=0;g<p.length-1;g++){let b=u[p[g]];b||(b=Object.create(null),u[p[g]]=b),u=b}return u}let c=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,n=Object.create(null);for(let a=0;a<s.length;a++){let p=s[a],u=p.indexOf("."),g=null;if(g=u>=0?t.workspace.getConfiguration(p.substr(0,u),c).get(p.substr(u+1)):t.workspace.getConfiguration(void 0,c).get(p),g){let b=s[a].split(".");m(n,b)[b[b.length-1]]=E(g)}}return n}}},54767:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.DeclarationFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);X.DeclarationFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,t.DeclarationRequest.type)}fillClientCapabilities(T){const C=(0,l.ensure)((0,l.ensure)(T,"textDocument"),"declaration");C.dynamicRegistration=!0,C.linkSupport=!0}initialize(T,C){const[E,L]=this.getRegistration(C,T.declarationProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideDeclaration:(L,_,s)=>{const m=this._client,c=(a,p,u)=>m.sendRequest(t.DeclarationRequest.type,m.code2ProtocolConverter.asTextDocumentPositionParams(a,p),u).then(g=>u.isCancellationRequested?null:m.protocol2CodeConverter.asDeclarationResult(g,u),g=>m.handleFailedRequest(t.DeclarationRequest.type,u,g,null)),n=m.middleware;return n.provideDeclaration?n.provideDeclaration(L,_,s,c):c(L,_,s)}};return[this.registerProvider(T.documentSelector,E),E]}registerProvider(T,C){return d.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(T),C)}}},37619:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.DefinitionFeature=void 0;const d=e(78708),t=e(85055),l=e(37062),S=e(2766);X.DefinitionFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,t.DefinitionRequest.type)}fillClientCapabilities(C){let E=(0,l.ensure)((0,l.ensure)(C,"textDocument"),"definition");E.dynamicRegistration=!0,E.linkSupport=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.definitionProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideDefinition:(_,s,m)=>{const c=this._client,n=(p,u,g)=>c.sendRequest(t.DefinitionRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(p,u),g).then(b=>g.isCancellationRequested?null:c.protocol2CodeConverter.asDefinitionResult(b,g),b=>c.handleFailedRequest(t.DefinitionRequest.type,g,b,null)),a=c.middleware;return a.provideDefinition?a.provideDefinition(_,s,m,n):n(_,s,m)}};return[this.registerProvider(C.documentSelector,L),L]}registerProvider(C,E){return d.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},55890:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.DiagnosticFeature=X.DiagnosticPullMode=X.vsdiag=void 0;const t=e(34916),l=e(78708),S=e(85055),v=e(2766),T=e(37062);function C(g,b){return void 0===g[b]&&(g[b]={}),g[b]}var E,L,g;!function(g){let b;var y;(y=b=g.DocumentDiagnosticReportKind||(g.DocumentDiagnosticReportKind={})).full="full",y.unChanged="unChanged"}(E=X.vsdiag||(X.vsdiag={})),(g=L=X.DiagnosticPullMode||(X.DiagnosticPullMode={})).onType="onType",g.onSave="onSave";var _=(()=>(function(g){g.active="open",g.reschedule="reschedule",g.outDated="drop"}(_||(_={})),_))();class s{constructor(){this.open=new Set,this._onOpen=new l.EventEmitter,this._onClose=new l.EventEmitter,s.fillTabResources(this.open),this.disposable=void 0!==l.window.tabGroups.onDidChangeTabs?l.window.tabGroups.onDidChangeTabs(y=>{if(0===y.closed.length&&0===y.opened.length)return;const D=this.open,w=new Set;s.fillTabResources(w);const I=new Set,P=new Set(w);for(const O of D.values())w.has(O)?P.delete(O):I.add(O);if(this.open=w,I.size>0){const O=new Set;for(const H of I)O.add(l.Uri.parse(H));this._onClose.fire(O)}if(P.size>0){const O=new Set;for(const H of P)O.add(l.Uri.parse(H));this._onOpen.fire(O)}}):{dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(b){return b instanceof l.Uri?l.window.activeTextEditor?.document.uri===b:l.window.activeTextEditor?.document===b}isVisible(b){return this.open.has((b instanceof l.Uri?b:b.uri).toString())}getTabResources(){const b=new Set;return s.fillTabResources(new Set,b),b}static fillTabResources(b,y){const D=b??new Set;for(const w of l.window.tabGroups.all)for(const I of w.tabs){const P=I.input;let O;P instanceof l.TabInputText?O=P.uri:P instanceof l.TabInputTextDiff&&(O=P.modified),void 0!==O&&!D.has(O.toString())&&(D.add(O.toString()),void 0!==y&&y.add(O))}}}var m=(()=>(function(g){g[g.document=1]="document",g[g.workspace=2]="workspace"}(m||(m={})),m))();class c{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(b,y,D){const w=b===m.document?this.documentPullStates:this.workspacePullStates,[I,P,O]=y instanceof l.Uri?[y.toString(),y,D]:[y.uri.toString(),y.uri,y.version];let H=w.get(I);return void 0===H&&(H={document:P,pulledVersion:O,resultId:void 0},w.set(I,H)),H}update(b,y,D,w){const I=b===m.document?this.documentPullStates:this.workspacePullStates,[P,O,H,U]=y instanceof l.Uri?[y.toString(),y,D,w]:[y.uri.toString(),y.uri,y.version,D];let K=I.get(P);void 0===K?(K={document:O,pulledVersion:H,resultId:U},I.set(P,K)):(K.pulledVersion=H,K.resultId=U)}unTrack(b,y){const D=y instanceof l.Uri?y.toString():y.uri.toString();(b===m.document?this.documentPullStates:this.workspacePullStates).delete(D)}tracks(b,y){const D=y instanceof l.Uri?y.toString():y.uri.toString();return(b===m.document?this.documentPullStates:this.workspacePullStates).has(D)}getResultId(b,y){const D=y instanceof l.Uri?y.toString():y.uri.toString();return(b===m.document?this.documentPullStates:this.workspacePullStates).get(D)?.resultId}getAllResultIds(){const b=[];for(let[y,D]of this.workspacePullStates)this.documentPullStates.has(y)&&(D=this.documentPullStates.get(y)),void 0!==D.resultId&&b.push({uri:y,value:D.resultId});return b}}class n{constructor(b,y,D){this.client=b,this.tabs=y,this.options=D,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new l.EventEmitter,this.provider=this.createProvider(),this.diagnostics=l.languages.createDiagnosticCollection(D.identifier),this.openRequests=new Map,this.documentStates=new c,this.workspaceErrorCounter=0}knows(b,y){return this.documentStates.tracks(b,y)}forget(b,y){this.documentStates.unTrack(b,y)}pull(b,y){if(this.isDisposed)return;const D=b instanceof l.Uri?b:b.uri;this.pullAsync(b).then(()=>{y&&y()},w=>{this.client.error(`Document pull failed for text document ${D.toString()}`,w,!1)})}pullAsync(b,y){var D=this;return d(function*(){if(D.isDisposed)return;const w=b instanceof l.Uri,I=w?b:b.uri,P=I.toString();y=w?y:b.version;const O=D.openRequests.get(P),H=w?D.documentStates.track(m.document,b,y):D.documentStates.track(m.document,b);if(void 0===O){const U=new l.CancellationTokenSource;let K,F;D.openRequests.set(P,{state:_.active,document:b,version:y,tokenSource:U});try{K=(yield D.provider.provideDiagnostics(b,H.resultId,U.token))??{kind:E.DocumentDiagnosticReportKind.full,items:[]}}catch(B){if(B instanceof T.LSPCancellationError&&S.DiagnosticServerCancellationData.is(B.data)&&!1===B.data.retriggerRequest&&(F={state:_.outDated,document:b}),!(void 0===F&&B instanceof l.CancellationError))throw B;F={state:_.reschedule,document:b}}if(F=F??D.openRequests.get(P),void 0===F)return D.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${P}`),void D.diagnostics.delete(I);if(D.openRequests.delete(P),!D.tabs.isVisible(b))return void D.documentStates.unTrack(m.document,b);if(F.state===_.outDated)return;void 0!==K&&(K.kind===E.DocumentDiagnosticReportKind.full&&D.diagnostics.set(I,K.items),H.pulledVersion=y,H.resultId=K.resultId),F.state===_.reschedule&&D.pull(b)}else O.state===_.active?(O.tokenSource.cancel(),D.openRequests.set(P,{state:_.reschedule,document:O.document})):O.state===_.outDated&&D.openRequests.set(P,{state:_.reschedule,document:O.document})})()}forgetDocument(b){const y=b instanceof l.Uri?b:b.uri,D=y.toString(),w=this.openRequests.get(D);this.options.workspaceDiagnostics?void 0!==w?this.openRequests.set(D,{state:_.reschedule,document:b}):this.pull(b,()=>{this.forget(m.document,b)}):(void 0!==w&&(w.state===_.active&&w.tokenSource.cancel(),this.openRequests.set(D,{state:_.outDated,document:b})),this.diagnostics.delete(y),this.forget(m.document,b))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,S.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},b=>{!(b instanceof T.LSPCancellationError)&&!S.DiagnosticServerCancellationData.is(b.data)&&(this.client.error("Workspace diagnostic pull failed.",b,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,S.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}pullWorkspaceAsync(){var b=this;return d(function*(){if(!b.provider.provideWorkspaceDiagnostics||b.isDisposed)return;void 0!==b.workspaceCancellation&&(b.workspaceCancellation.cancel(),b.workspaceCancellation=void 0),b.workspaceCancellation=new l.CancellationTokenSource;const y=b.documentStates.getAllResultIds().map(D=>({uri:b.client.protocol2CodeConverter.asUri(D.uri),value:D.value}));yield b.provider.provideWorkspaceDiagnostics(y,b.workspaceCancellation.token,D=>{if(D&&!b.isDisposed)for(const w of D.items)w.kind===E.DocumentDiagnosticReportKind.full&&(b.documentStates.tracks(m.document,w.uri)||b.diagnostics.set(w.uri,w.items)),b.documentStates.update(m.workspace,w.uri,w.version??void 0,w.resultId)})})()}createProvider(){var b=this;const y={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(D,w,I)=>{const P=(H,U,K)=>{const F={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(H instanceof l.Uri?H:H.uri)},previousResultId:U};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(S.DocumentDiagnosticRequest.type,F,K).then(function(){var B=d(function*(z){return null==z||b.isDisposed||K.isCancellationRequested?{kind:E.DocumentDiagnosticReportKind.full,items:[]}:z.kind===S.DocumentDiagnosticReportKind.Full?{kind:E.DocumentDiagnosticReportKind.full,resultId:z.resultId,items:yield b.client.protocol2CodeConverter.asDiagnostics(z.items,K)}:{kind:E.DocumentDiagnosticReportKind.unChanged,resultId:z.resultId}});return function(z){return B.apply(this,arguments)}}(),B=>this.client.handleFailedRequest(S.DocumentDiagnosticRequest.type,K,B,{kind:E.DocumentDiagnosticReportKind.full,items:[]})):{kind:E.DocumentDiagnosticReportKind.full,items:[]}},O=this.client.middleware;return O.provideDiagnostics?O.provideDiagnostics(D,w,I,P):P(D,w,I)}};return this.options.workspaceDiagnostics&&(y.provideWorkspaceDiagnostics=(D,w,I)=>{const P=function(){var K=d(function*(F){return F.kind===S.DocumentDiagnosticReportKind.Full?{kind:E.DocumentDiagnosticReportKind.full,uri:b.client.protocol2CodeConverter.asUri(F.uri),resultId:F.resultId,version:F.version,items:yield b.client.protocol2CodeConverter.asDiagnostics(F.items,w)}:{kind:E.DocumentDiagnosticReportKind.unChanged,uri:b.client.protocol2CodeConverter.asUri(F.uri),resultId:F.resultId,version:F.version}});return function(B){return K.apply(this,arguments)}}(),O=K=>{const F=[];for(const B of K)F.push({uri:this.client.code2ProtocolConverter.asUri(B.uri),value:B.value});return F},H=(K,F)=>{const B=(0,v.generateUuid)(),z=this.client.onProgress(S.WorkspaceDiagnosticRequest.partialResult,B,function(){var j=d(function*(ne){if(null==ne)return void I(null);const N={items:[]};for(const V of ne.items)try{N.items.push(yield P(V))}catch(Z){b.client.error("Converting workspace diagnostics failed.",Z)}I(N)});return function(ne){return j.apply(this,arguments)}}()),$={identifier:this.options.identifier,previousResultIds:O(K),partialResultToken:B};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(S.WorkspaceDiagnosticRequest.type,$,F).then(function(){var j=d(function*(ne){if(F.isCancellationRequested)return{items:[]};const N={items:[]};for(const V of ne.items)N.items.push(yield P(V));return z.dispose(),I(N),{items:[]}});return function(ne){return j.apply(this,arguments)}}(),j=>(z.dispose(),this.client.handleFailedRequest(S.DocumentDiagnosticRequest.type,F,j,{items:[]}))):{items:[]}},U=this.client.middleware;return U.provideWorkspaceDiagnostics?U.provideWorkspaceDiagnostics(D,w,I,H):H(D,w)}),y}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[b,y]of this.openRequests)y.state===_.active&&y.tokenSource.cancel(),this.openRequests.set(b,{state:_.outDated,document:y.document});this.diagnostics.dispose()}}class a{constructor(b){this.diagnosticRequestor=b,this.documents=new S.LinkedMap,this.isDisposed=!1}add(b){if(!0===this.isDisposed)return;const y=b instanceof l.Uri?b.toString():b.uri.toString();this.documents.has(y)||(this.documents.set(y,b,S.Touch.Last),this.trigger())}remove(b){const y=b instanceof l.Uri?b.toString():b.uri.toString();this.documents.has(y)&&(this.documents.delete(y),this.diagnosticRequestor.pull(b)),0===this.documents.size?this.stop():b===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(!0!==this.isDisposed){if(void 0!==this.intervalHandle)return void(this.endDocument=this.documents.last);this.endDocument=this.documents.last,this.intervalHandle=(0,S.RAL)().timer.setInterval(()=>{const b=this.documents.first;if(void 0!==b){const y=b instanceof l.Uri?b.toString():b.uri.toString();this.diagnosticRequestor.pull(b),this.documents.set(y,b,S.Touch.Last),b===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}class p{constructor(b,y,D){var w=this;const I=b.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},P=b.protocol2CodeConverter.asDocumentSelector(D.documentSelector),O=[],U=j=>j instanceof l.Uri?(j=>{const ne=D.documentSelector;if(void 0!==I.match)return I.match(ne,j);for(const N of ne)if(S.TextDocumentFilter.is(N)){if("string"==typeof N||void 0!==N.language&&"*"!==N.language||void 0!==N.scheme&&"*"!==N.scheme&&N.scheme!==j.scheme)return!1;if(void 0!==N.pattern){const V=new t.Minimatch(N.pattern,{noext:!0});if(!V.makeRe()||!V.match(j.fsPath))return!1}}return!0})(j):l.languages.match(P,j)>0&&y.isVisible(j),K=j=>j instanceof l.Uri?this.activeTextDocument?.uri.toString()===j.toString():this.activeTextDocument===j;this.diagnosticRequestor=new n(b,y,D),this.backgroundScheduler=new a(this.diagnosticRequestor);const F=j=>{!U(j)||!D.interFileDependencies||K(j)||this.backgroundScheduler.add(j)};this.activeTextDocument=l.window.activeTextEditor?.document,l.window.onDidChangeActiveTextEditor(j=>{const ne=this.activeTextDocument;this.activeTextDocument=j?.document,void 0!==ne&&F(ne),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)});const B=b.getFeature(S.DidOpenTextDocumentNotification.method);O.push(B.onNotificationSent(j=>{const ne=j.original;U(ne)&&this.diagnosticRequestor.pull(ne,()=>{F(ne)})}));const z=new Set;for(const j of l.workspace.textDocuments)U(j)&&(this.diagnosticRequestor.pull(j,()=>{F(j)}),z.add(j.uri.toString()));if(!0===I.onTabs)for(const j of y.getTabResources())!z.has(j.toString())&&U(j)&&this.diagnosticRequestor.pull(j,()=>{F(j)});if(y.onOpen(j=>{for(const ne of j)U(ne)&&!this.diagnosticRequestor.knows(m.document,ne)&&this.diagnosticRequestor.pull(ne,()=>{F(ne)})}),!0===I.onChange){const j=b.getFeature(S.DidChangeTextDocumentNotification.method);O.push(j.onNotificationSent(function(){var ne=d(function*(N){const V=N.original.document;(void 0===I.filter||!I.filter(V,L.onType))&&w.diagnosticRequestor.knows(m.document,V)&&N.original.contentChanges.length>0&&w.diagnosticRequestor.pull(V,()=>{w.backgroundScheduler.trigger()})});return function(N){return ne.apply(this,arguments)}}()))}if(!0===I.onSave){const j=b.getFeature(S.DidSaveTextDocumentNotification.method);O.push(j.onNotificationSent(ne=>{const N=ne.original;(void 0===I.filter||!I.filter(N,L.onSave))&&this.diagnosticRequestor.knows(m.document,N)&&this.diagnosticRequestor.pull(ne.original,()=>{this.backgroundScheduler.trigger()})}))}const $=b.getFeature(S.DidCloseTextDocumentNotification.method);O.push($.onNotificationSent(j=>{this.cleanUpDocument(j.original)})),y.onClose(j=>{for(const ne of j)this.cleanUpDocument(ne)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(const j of l.workspace.textDocuments)U(j)&&this.diagnosticRequestor.pull(j)}),!0===D.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==D.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=l.Disposable.from(...O,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(b){this.diagnosticRequestor.knows(m.document,b)&&(this.diagnosticRequestor.forgetDocument(b),this.backgroundScheduler.remove(b))}}X.DiagnosticFeature=class u extends T.TextDocumentLanguageFeature{constructor(b){super(b,S.DocumentDiagnosticRequest.type)}fillClientCapabilities(b){let y=C(C(b,"textDocument"),"diagnostic");y.dynamicRegistration=!0,y.relatedDocumentSupport=!1,C(C(b,"workspace"),"diagnostics").refreshSupport=!0}initialize(b,y){var D=this;this._client.onRequest(S.DiagnosticRefreshRequest.type,d(function*(){for(const O of D.getAllProviders())O.onDidChangeDiagnosticsEmitter.fire()}));let[I,P]=this.getRegistration(y,b.diagnosticProvider);!I||!P||this.register({id:I,registerOptions:P})}dispose(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(b){void 0===this.tabs&&(this.tabs=new s);const y=new p(this._client,this.tabs,b);return[y.disposable,y]}}},72966:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.DocumentHighlightFeature=void 0;const d=e(78708),t=e(85055),l=e(37062),S=e(2766);X.DocumentHighlightFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,t.DocumentHighlightRequest.type)}fillClientCapabilities(C){(0,l.ensure)((0,l.ensure)(C,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.documentHighlightProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideDocumentHighlights:(_,s,m)=>{const c=this._client,n=(p,u,g)=>c.sendRequest(t.DocumentHighlightRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(p,u),g).then(b=>g.isCancellationRequested?null:c.protocol2CodeConverter.asDocumentHighlights(b,g),b=>c.handleFailedRequest(t.DocumentHighlightRequest.type,g,b,null)),a=c.middleware;return a.provideDocumentHighlights?a.provideDocumentHighlights(_,s,m,n):n(_,s,m)}};return[d.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(C.documentSelector),L),L]}}},93049:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.DocumentLinkFeature=void 0;const d=e(78708),t=e(85055),l=e(37062),S=e(2766);X.DocumentLinkFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,t.DocumentLinkRequest.type)}fillClientCapabilities(C){const E=(0,l.ensure)((0,l.ensure)(C,"textDocument"),"documentLink");E.dynamicRegistration=!0,E.tooltipSupport=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.documentLinkProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideDocumentLinks:(_,s)=>{const m=this._client,c=(a,p)=>m.sendRequest(t.DocumentLinkRequest.type,m.code2ProtocolConverter.asDocumentLinkParams(a),p).then(u=>p.isCancellationRequested?null:m.protocol2CodeConverter.asDocumentLinks(u,p),u=>m.handleFailedRequest(t.DocumentLinkRequest.type,p,u,null)),n=m.middleware;return n.provideDocumentLinks?n.provideDocumentLinks(_,s,c):c(_,s)},resolveDocumentLink:C.resolveProvider?(_,s)=>{const m=this._client;let c=(a,p)=>m.sendRequest(t.DocumentLinkResolveRequest.type,m.code2ProtocolConverter.asDocumentLink(a),p).then(u=>p.isCancellationRequested?a:m.protocol2CodeConverter.asDocumentLink(u),u=>m.handleFailedRequest(t.DocumentLinkResolveRequest.type,p,u,a));const n=m.middleware;return n.resolveDocumentLink?n.resolveDocumentLink(_,s,c):c(_,s)}:void 0};return[d.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(C.documentSelector),L),L]}}},8203:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.DocumentSymbolFeature=X.SupportedSymbolTags=X.SupportedSymbolKinds=void 0;const t=e(78708),l=e(85055),S=e(37062),v=e(2766);X.SupportedSymbolKinds=[l.SymbolKind.File,l.SymbolKind.Module,l.SymbolKind.Namespace,l.SymbolKind.Package,l.SymbolKind.Class,l.SymbolKind.Method,l.SymbolKind.Property,l.SymbolKind.Field,l.SymbolKind.Constructor,l.SymbolKind.Enum,l.SymbolKind.Interface,l.SymbolKind.Function,l.SymbolKind.Variable,l.SymbolKind.Constant,l.SymbolKind.String,l.SymbolKind.Number,l.SymbolKind.Boolean,l.SymbolKind.Array,l.SymbolKind.Object,l.SymbolKind.Key,l.SymbolKind.Null,l.SymbolKind.EnumMember,l.SymbolKind.Struct,l.SymbolKind.Event,l.SymbolKind.Operator,l.SymbolKind.TypeParameter],X.SupportedSymbolTags=[l.SymbolTag.Deprecated],X.DocumentSymbolFeature=class T extends S.TextDocumentLanguageFeature{constructor(E){super(E,l.DocumentSymbolRequest.type)}fillClientCapabilities(E){let L=(0,S.ensure)((0,S.ensure)(E,"textDocument"),"documentSymbol");L.dynamicRegistration=!0,L.symbolKind={valueSet:X.SupportedSymbolKinds},L.hierarchicalDocumentSymbolSupport=!0,L.tagSupport={valueSet:X.SupportedSymbolTags},L.labelSupport=!0}initialize(E,L){const _=this.getRegistrationOptions(L,E.documentSymbolProvider);!_||this.register({id:v.generateUuid(),registerOptions:_})}registerLanguageProvider(E){const _={provideDocumentSymbols:(m,c)=>{const n=this._client,a=(u,g)=>n.sendRequest(l.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(u),g).then(function(){var b=d(function*(y){return g.isCancellationRequested||null==y?null:0===y.length?[]:l.DocumentSymbol.is(y[0])?yield n.protocol2CodeConverter.asDocumentSymbols(y,g):yield n.protocol2CodeConverter.asSymbolInformations(y,g)});return function(y){return b.apply(this,arguments)}}(),b=>n.handleFailedRequest(l.DocumentSymbolRequest.type,g,b,null)),p=n.middleware;return p.provideDocumentSymbols?p.provideDocumentSymbols(m,c,a):a(m,c)}},s=void 0!==E.label?{label:E.label}:void 0;return[t.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(E.documentSelector),_,s),_]}}},29236:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.ExecuteCommandFeature=void 0;const d=e(78708),t=e(85055),l=e(2766),S=e(37062);X.ExecuteCommandFeature=class v{constructor(C){this._client=C,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return t.ExecuteCommandRequest.type}fillClientCapabilities(C){(0,S.ensure)((0,S.ensure)(C,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(C){!C.executeCommandProvider||this.register({id:l.generateUuid(),registerOptions:Object.assign({},C.executeCommandProvider)})}register(C){const E=this._client,L=E.middleware,_=(s,m)=>E.sendRequest(t.ExecuteCommandRequest.type,{command:s,arguments:m}).then(void 0,n=>E.handleFailedRequest(t.ExecuteCommandRequest.type,void 0,n,void 0));if(C.registerOptions.commands){const s=[];for(const m of C.registerOptions.commands)s.push(d.commands.registerCommand(m,(...c)=>L.executeCommand?L.executeCommand(m,c,_):_(m,c)));this._commands.set(C.id,s)}}unregister(C){let E=this._commands.get(C);E&&E.forEach(L=>L.dispose())}dispose(){this._commands.forEach(C=>{C.forEach(E=>E.dispose())}),this._commands.clear()}}},37062:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.WorkspaceFeature=X.TextDocumentLanguageFeature=X.TextDocumentEventFeature=X.DynamicDocumentFeature=X.DynamicFeature=X.StaticFeature=X.ensure=X.LSPCancellationError=void 0;const t=e(78708),l=e(85055),S=e(81072),v=e(2766);X.LSPCancellationError=class T extends t.CancellationError{constructor(a){super(),this.data=a}},X.ensure=function C(n,a){return void 0===n[a]&&(n[a]={}),n[a]},(X.StaticFeature||(X.StaticFeature={})).is=function a(p){const u=p;return null!=u&&S.func(u.fillClientCapabilities)&&S.func(u.initialize)&&S.func(u.getState)&&S.func(u.dispose)&&(void 0===u.fillInitializeParams||S.func(u.fillInitializeParams))},(X.DynamicFeature||(X.DynamicFeature={})).is=function a(p){const u=p;return null!=u&&S.func(u.fillClientCapabilities)&&S.func(u.initialize)&&S.func(u.getState)&&S.func(u.dispose)&&(void 0===u.fillInitializeParams||S.func(u.fillInitializeParams))&&S.func(u.register)&&S.func(u.unregister)&&void 0!==u.registrationType};class _{constructor(a){this._client=a}getState(){const a=this.getDocumentSelectors();let p=0;for(const g of a){p++;for(const b of t.workspace.textDocuments)if(t.languages.match(g,b)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:p>0,matches:!1}}}X.DynamicDocumentFeature=_,X.TextDocumentEventFeature=class s extends _{constructor(a,p,u,g,b,y,D){super(a),this._event=p,this._type=u,this._middleware=g,this._createParams=b,this._textDocument=y,this._selectorFilter=D,this._selectors=new Map,this._onNotificationSent=new t.EventEmitter}static textDocumentFilter(a,p){for(const u of a)if(t.languages.match(u,p)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(a){!a.registerOptions.documentSelector||(this._listener||(this._listener=this._event(p=>{this.callback(p).catch(u=>{this._client.error(`Sending document notification ${this._type.method} failed.`,u)})})),this._selectors.set(a.id,this._client.protocol2CodeConverter.asDocumentSelector(a.registerOptions.documentSelector)))}callback(a){var p=this;return d(function*(){const u=function(){var g=d(function*(b){const y=p._createParams(b);yield p._client.sendNotification(p._type,y).catch(),p.notificationSent(b,p._type,y)});return function(y){return g.apply(this,arguments)}}();if(p.matches(a)){const g=p._middleware();return g?g(a,b=>u(b)):u(a)}})()}matches(a){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(a))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),a))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(a,p,u){this._onNotificationSent.fire({original:a,type:p,params:u})}unregister(a){this._selectors.delete(a),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(a){for(const p of this._selectors.values())if(t.languages.match(p,a)>0)return{send:u=>this.callback(u)}}},X.TextDocumentLanguageFeature=class m extends _{constructor(a,p){super(a),this._registrationType=p,this._registrations=new Map}*getDocumentSelectors(){for(const a of this._registrations.values()){const p=a.data.registerOptions.documentSelector;null!==p&&(yield this._client.protocol2CodeConverter.asDocumentSelector(p))}}get registrationType(){return this._registrationType}register(a){if(!a.registerOptions.documentSelector)return;let p=this.registerLanguageProvider(a.registerOptions,a.id);this._registrations.set(a.id,{disposable:p[0],data:a,provider:p[1]})}unregister(a){let p=this._registrations.get(a);void 0!==p&&p.disposable.dispose()}dispose(){this._registrations.forEach(a=>{a.disposable.dispose()}),this._registrations.clear()}getRegistration(a,p){if(!p)return[void 0,void 0];if(l.TextDocumentRegistrationOptions.is(p)){const u=l.StaticRegistrationOptions.hasId(p)?p.id:v.generateUuid(),g=p.documentSelector||a;if(g)return[u,Object.assign({},p,{documentSelector:g})]}else if(S.boolean(p)&&!0===p||l.WorkDoneProgressOptions.is(p)){if(!a)return[void 0,void 0];let u=S.boolean(p)&&!0===p?{documentSelector:a}:Object.assign({},p,{documentSelector:a});return[v.generateUuid(),u]}return[void 0,void 0]}getRegistrationOptions(a,p){if(a&&p)return S.boolean(p)&&!0===p?{documentSelector:a}:Object.assign({},p,{documentSelector:a})}getProvider(a){for(const p of this._registrations.values()){let u=p.data.registerOptions.documentSelector;if(null!==u&&t.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(u),a)>0)return p.provider}}getAllProviders(){const a=[];for(const p of this._registrations.values())a.push(p.provider);return a}},X.WorkspaceFeature=class c{constructor(a,p){this._client=a,this._registrationType=p,this._registrations=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._registrations.size>0}}get registrationType(){return this._registrationType}register(a){const p=this.registerLanguageProvider(a.registerOptions);this._registrations.set(a.id,{disposable:p[0],provider:p[1]})}unregister(a){let p=this._registrations.get(a);void 0!==p&&p.disposable.dispose()}dispose(){this._registrations.forEach(a=>{a.disposable.dispose()}),this._registrations.clear()}getProviders(){const a=[];for(const p of this._registrations.values())a.push(p.provider);return a}}},39727:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.WillDeleteFilesFeature=X.WillRenameFilesFeature=X.WillCreateFilesFeature=X.DidDeleteFilesFeature=X.DidRenameFilesFeature=X.DidCreateFilesFeature=void 0;const t=e(78708),l=e(34916),S=e(85055),v=e(2766);function T(b,y){return void 0===b[y]&&(b[y]={}),b[y]}function E(b,y,D){b[y]=D}class L{constructor(y,D,w,I,P){this._client=y,this._event=D,this._registrationType=w,this._clientCapability=I,this._serverCapability=P,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(y){const D=T(T(y,"workspace"),"fileOperations");E(D,"dynamicRegistration",!0),E(D,this._clientCapability,!0)}initialize(y){const D=y.workspace?.fileOperations,w=void 0!==D?function C(b,y){return b[y]}(D,this._serverCapability):void 0;if(void 0!==w?.filters)try{this.register({id:v.generateUuid(),registerOptions:{filters:w.filters}})}catch(I){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${I}`)}}register(y){this._listener||(this._listener=this._event(this.send,this));const D=y.registerOptions.filters.map(w=>{const I=new l.Minimatch(w.pattern.glob,L.asMinimatchOptions(w.pattern.options));if(!I.makeRe())throw new Error(`Invalid pattern ${w.pattern.glob}!`);return{scheme:w.scheme,matcher:I,kind:w.pattern.matches}});this._filters.set(y.id,D)}unregister(y){this._filters.delete(y),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(y){return L.getFileType(y)}filter(y,D){var w=this;return d(function*(){const I=yield Promise.all(y.files.map(function(){var O=d(function*(H){const U=D(H),K=U.fsPath.replace(/\\/g,"/");for(const F of w._filters.values())for(const B of F)if(void 0===B.scheme||B.scheme===U.scheme)if(B.matcher.match(K)){if(void 0===B.kind)return!0;const z=yield w.getFileType(U);if(void 0===z)return w._client.error(`Failed to determine file type for ${U.toString()}.`),!0;if(z===t.FileType.File&&B.kind===S.FileOperationPatternKind.file||z===t.FileType.Directory&&B.kind===S.FileOperationPatternKind.folder)return!0}else if(B.kind===S.FileOperationPatternKind.folder&&(yield L.getFileType(U))===t.FileType.Directory&&B.matcher.match(`${K}/`))return!0;return!1});return function(H){return O.apply(this,arguments)}}())),P=y.files.filter((O,H)=>I[H]);return{...y,files:P}})()}static getFileType(y){return d(function*(){try{return(yield t.workspace.fs.stat(y)).type}catch{return}})()}static asMinimatchOptions(y){if(void 0!==y&&!0===y.ignoreCase)return{nocase:!0}}}class _ extends L{constructor(y,D,w,I,P,O,H){super(y,D,w,I,P),this._notificationType=w,this._accessUri=O,this._createParams=H}send(y){var D=this;return d(function*(){const w=yield D.filter(y,D._accessUri);if(w.files.length){const I=function(){var P=d(function*(O){return D._client.sendNotification(D._notificationType,D._createParams(O))});return function(H){return P.apply(this,arguments)}}();return D.doSend(w,I)}})()}}class s extends _{constructor(){super(...arguments),this._fsPathFileTypes=new Map}getFileType(y){var D=this;return d(function*(){const w=y.fsPath;if(D._fsPathFileTypes.has(w))return D._fsPathFileTypes.get(w);const I=yield L.getFileType(y);return I&&D._fsPathFileTypes.set(w,I),I})()}cacheFileTypes(y,D){var w=this;return d(function*(){yield w.filter(y,D)})()}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(y){super.unregister(y),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}X.DidCreateFilesFeature=class m extends _{constructor(y){super(y,t.workspace.onDidCreateFiles,S.DidCreateFilesNotification.type,"didCreate","didCreate",D=>D,y.code2ProtocolConverter.asDidCreateFilesParams)}doSend(y,D){const w=this._client.middleware.workspace;return w?.didCreateFiles?w.didCreateFiles(y,D):D(y)}},X.DidRenameFilesFeature=class c extends s{constructor(y){super(y,t.workspace.onDidRenameFiles,S.DidRenameFilesNotification.type,"didRename","didRename",D=>D.oldUri,y.code2ProtocolConverter.asDidRenameFilesParams)}register(y){this._willListener||(this._willListener=t.workspace.onWillRenameFiles(this.willRename,this)),super.register(y)}willRename(y){y.waitUntil(this.cacheFileTypes(y,D=>D.oldUri))}doSend(y,D){this.clearFileTypeCache();const w=this._client.middleware.workspace;return w?.didRenameFiles?w.didRenameFiles(y,D):D(y)}},X.DidDeleteFilesFeature=class n extends s{constructor(y){super(y,t.workspace.onDidDeleteFiles,S.DidDeleteFilesNotification.type,"didDelete","didDelete",D=>D,y.code2ProtocolConverter.asDidDeleteFilesParams)}register(y){this._willListener||(this._willListener=t.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(y)}willDelete(y){y.waitUntil(this.cacheFileTypes(y,D=>D))}doSend(y,D){this.clearFileTypeCache();const w=this._client.middleware.workspace;return w?.didDeleteFiles?w.didDeleteFiles(y,D):D(y)}};class a extends L{constructor(y,D,w,I,P,O,H){super(y,D,w,I,P),this._requestType=w,this._accessUri=O,this._createParams=H}send(y){var D=this;return d(function*(){const w=D.waitUntil(y);y.waitUntil(w)})()}waitUntil(y){var D=this;return d(function*(){const w=yield D.filter(y,D._accessUri);if(w.files.length){const I=P=>D._client.sendRequest(D._requestType,D._createParams(P),P.token).then(D._client.protocol2CodeConverter.asWorkspaceEdit);return D.doSend(w,I)}})()}}X.WillCreateFilesFeature=class p extends a{constructor(y){super(y,t.workspace.onWillCreateFiles,S.WillCreateFilesRequest.type,"willCreate","willCreate",D=>D,y.code2ProtocolConverter.asWillCreateFilesParams)}doSend(y,D){const w=this._client.middleware.workspace;return w?.willCreateFiles?w.willCreateFiles(y,D):D(y)}},X.WillRenameFilesFeature=class u extends a{constructor(y){super(y,t.workspace.onWillRenameFiles,S.WillRenameFilesRequest.type,"willRename","willRename",D=>D.oldUri,y.code2ProtocolConverter.asWillRenameFilesParams)}doSend(y,D){const w=this._client.middleware.workspace;return w?.willRenameFiles?w.willRenameFiles(y,D):D(y)}},X.WillDeleteFilesFeature=class g extends a{constructor(y){super(y,t.workspace.onWillDeleteFiles,S.WillDeleteFilesRequest.type,"willDelete","willDelete",D=>D,y.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(y,D){const w=this._client.middleware.workspace;return w?.willDeleteFiles?w.willDeleteFiles(y,D):D(y)}}},22958:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.FileSystemWatcherFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);X.FileSystemWatcherFeature=class S{constructor(T,C){this._client=T,this._notifyFileEvent=C,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return t.DidChangeWatchedFilesNotification.type}fillClientCapabilities(T){(0,l.ensure)((0,l.ensure)(T,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,l.ensure)((0,l.ensure)(T,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(T,C){}register(T){if(!Array.isArray(T.registerOptions.watchers))return;const C=[];for(const E of T.registerOptions.watchers){const L=this._client.protocol2CodeConverter.asGlobPattern(E.globPattern);if(void 0===L)continue;let _=!0,s=!0,m=!0;null!=E.kind&&(_=0!=(E.kind&t.WatchKind.Create),s=0!=(E.kind&t.WatchKind.Change),m=0!=(E.kind&t.WatchKind.Delete));const c=d.workspace.createFileSystemWatcher(L,!_,!s,!m);this.hookListeners(c,_,s,m,C),C.push(c)}this._watchers.set(T.id,C)}registerRaw(T,C){let E=[];for(let L of C)this.hookListeners(L,!0,!0,!0,E);this._watchers.set(T,E)}hookListeners(T,C,E,L,_){C&&T.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:t.FileChangeType.Created}),null,_),E&&T.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:t.FileChangeType.Changed}),null,_),L&&T.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:t.FileChangeType.Deleted}),null,_)}unregister(T){let C=this._watchers.get(T);if(C)for(let E of C)E.dispose()}dispose(){this._watchers.forEach(T=>{for(let C of T)C.dispose()}),this._watchers.clear()}}},22722:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.FoldingRangeFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);X.FoldingRangeFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,t.FoldingRangeRequest.type)}fillClientCapabilities(T){let C=(0,l.ensure)((0,l.ensure)(T,"textDocument"),"foldingRange");C.dynamicRegistration=!0,C.rangeLimit=5e3,C.lineFoldingOnly=!0,C.foldingRangeKind={valueSet:[t.FoldingRangeKind.Comment,t.FoldingRangeKind.Imports,t.FoldingRangeKind.Region]},C.foldingRange={collapsedText:!1}}initialize(T,C){let[E,L]=this.getRegistration(C,T.foldingRangeProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideFoldingRanges:(L,_,s)=>{const m=this._client,c=(a,p,u)=>{const g={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(a)};return m.sendRequest(t.FoldingRangeRequest.type,g,u).then(b=>u.isCancellationRequested?null:m.protocol2CodeConverter.asFoldingRanges(b,u),b=>m.handleFailedRequest(t.FoldingRangeRequest.type,u,b,null))},n=m.middleware;return n.provideFoldingRanges?n.provideFoldingRanges(L,_,s,c):c(L,0,s)}};return[d.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(T.documentSelector),E),E]}}},84453:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.DocumentOnTypeFormattingFeature=X.DocumentRangeFormattingFeature=X.DocumentFormattingFeature=void 0;const d=e(78708),t=e(85055),l=e(2766),S=e(37062);var v;(v||(v={})).fromConfiguration=function _(s){const m=d.workspace.getConfiguration("files",s);return{trimTrailingWhitespace:m.get("trimTrailingWhitespace"),trimFinalNewlines:m.get("trimFinalNewlines"),insertFinalNewline:m.get("insertFinalNewline")}},X.DocumentFormattingFeature=class T extends S.TextDocumentLanguageFeature{constructor(_){super(_,t.DocumentFormattingRequest.type)}fillClientCapabilities(_){(0,S.ensure)((0,S.ensure)(_,"textDocument"),"formatting").dynamicRegistration=!0}initialize(_,s){const m=this.getRegistrationOptions(s,_.documentFormattingProvider);!m||this.register({id:l.generateUuid(),registerOptions:m})}registerLanguageProvider(_){const m={provideDocumentFormattingEdits:(c,n,a)=>{const p=this._client,u=(b,y,D)=>{const w={textDocument:p.code2ProtocolConverter.asTextDocumentIdentifier(b),options:p.code2ProtocolConverter.asFormattingOptions(y,v.fromConfiguration(b))};return p.sendRequest(t.DocumentFormattingRequest.type,w,D).then(I=>D.isCancellationRequested?null:p.protocol2CodeConverter.asTextEdits(I,D),I=>p.handleFailedRequest(t.DocumentFormattingRequest.type,D,I,null))},g=p.middleware;return g.provideDocumentFormattingEdits?g.provideDocumentFormattingEdits(c,n,a,u):u(c,n,a)}};return[d.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),m),m]}},X.DocumentRangeFormattingFeature=class C extends S.TextDocumentLanguageFeature{constructor(_){super(_,t.DocumentRangeFormattingRequest.type)}fillClientCapabilities(_){(0,S.ensure)((0,S.ensure)(_,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(_,s){const m=this.getRegistrationOptions(s,_.documentRangeFormattingProvider);!m||this.register({id:l.generateUuid(),registerOptions:m})}registerLanguageProvider(_){const m={provideDocumentRangeFormattingEdits:(c,n,a,p)=>{const u=this._client,g=(y,D,w,I)=>{const P={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(y),range:u.code2ProtocolConverter.asRange(D),options:u.code2ProtocolConverter.asFormattingOptions(w,v.fromConfiguration(y))};return u.sendRequest(t.DocumentRangeFormattingRequest.type,P,I).then(O=>I.isCancellationRequested?null:u.protocol2CodeConverter.asTextEdits(O,I),O=>u.handleFailedRequest(t.DocumentRangeFormattingRequest.type,I,O,null))},b=u.middleware;return b.provideDocumentRangeFormattingEdits?b.provideDocumentRangeFormattingEdits(c,n,a,p,g):g(c,n,a,p)}};return[d.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),m),m]}},X.DocumentOnTypeFormattingFeature=class E extends S.TextDocumentLanguageFeature{constructor(_){super(_,t.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(_){(0,S.ensure)((0,S.ensure)(_,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(_,s){const m=this.getRegistrationOptions(s,_.documentOnTypeFormattingProvider);!m||this.register({id:l.generateUuid(),registerOptions:m})}registerLanguageProvider(_){const m={provideOnTypeFormattingEdits:(n,a,p,u,g)=>{const b=this._client,y=(w,I,P,O,H)=>{let U={textDocument:b.code2ProtocolConverter.asTextDocumentIdentifier(w),position:b.code2ProtocolConverter.asPosition(I),ch:P,options:b.code2ProtocolConverter.asFormattingOptions(O,v.fromConfiguration(w))};return b.sendRequest(t.DocumentOnTypeFormattingRequest.type,U,H).then(K=>H.isCancellationRequested?null:b.protocol2CodeConverter.asTextEdits(K,H),K=>b.handleFailedRequest(t.DocumentOnTypeFormattingRequest.type,H,K,null))},D=b.middleware;return D.provideOnTypeFormattingEdits?D.provideOnTypeFormattingEdits(n,a,p,u,g,y):y(n,a,p,u,g)}},c=_.moreTriggerCharacter||[];return[d.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(_.documentSelector),m,_.firstTriggerCharacter,...c),m]}}},30429:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.HoverFeature=void 0;const d=e(78708),t=e(85055),l=e(37062),S=e(2766);X.HoverFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,t.HoverRequest.type)}fillClientCapabilities(C){const E=(0,l.ensure)((0,l.ensure)(C,"textDocument"),"hover");E.dynamicRegistration=!0,E.contentFormat=[t.MarkupKind.Markdown,t.MarkupKind.PlainText]}initialize(C,E){const L=this.getRegistrationOptions(E,C.hoverProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideHover:(_,s,m)=>{const c=this._client,n=(p,u,g)=>c.sendRequest(t.HoverRequest.type,c.code2ProtocolConverter.asTextDocumentPositionParams(p,u),g).then(b=>g.isCancellationRequested?null:c.protocol2CodeConverter.asHover(b),b=>c.handleFailedRequest(t.HoverRequest.type,g,b,null)),a=c.middleware;return a.provideHover?a.provideHover(_,s,m,n):n(_,s,m)}};return[this.registerProvider(C.documentSelector,L),L]}registerProvider(C,E){return d.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},94749:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.ImplementationFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);X.ImplementationFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,t.ImplementationRequest.type)}fillClientCapabilities(T){let C=(0,l.ensure)((0,l.ensure)(T,"textDocument"),"implementation");C.dynamicRegistration=!0,C.linkSupport=!0}initialize(T,C){let[E,L]=this.getRegistration(C,T.implementationProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideImplementation:(L,_,s)=>{const m=this._client,c=(a,p,u)=>m.sendRequest(t.ImplementationRequest.type,m.code2ProtocolConverter.asTextDocumentPositionParams(a,p),u).then(g=>u.isCancellationRequested?null:m.protocol2CodeConverter.asDefinitionResult(g,u),g=>m.handleFailedRequest(t.ImplementationRequest.type,u,g,null)),n=m.middleware;return n.provideImplementation?n.provideImplementation(L,_,s,c):c(L,_,s)}};return[this.registerProvider(T.documentSelector,E),E]}registerProvider(T,C){return d.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(T),C)}}},96140:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.InlayHintsFeature=void 0;const t=e(78708),l=e(85055),S=e(37062);X.InlayHintsFeature=class v extends S.TextDocumentLanguageFeature{constructor(C){super(C,l.InlayHintRequest.type)}fillClientCapabilities(C){const E=(0,S.ensure)((0,S.ensure)(C,"textDocument"),"inlayHint");E.dynamicRegistration=!0,E.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,S.ensure)((0,S.ensure)(C,"workspace"),"inlayHint").refreshSupport=!0}initialize(C,E){var L=this;this._client.onRequest(l.InlayHintRefreshRequest.type,d(function*(){for(const m of L.getAllProviders())m.onDidChangeInlayHints.fire()}));const[_,s]=this.getRegistration(E,C.inlayHintProvider);!_||!s||this.register({id:_,registerOptions:s})}registerLanguageProvider(C){const E=C.documentSelector,L=new t.EventEmitter,_={onDidChangeInlayHints:L.event,provideInlayHints:(s,m,c)=>{const n=this._client,a=function(){var u=d(function*(g,b,y){const D={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(g),range:n.code2ProtocolConverter.asRange(b)};try{const w=yield n.sendRequest(l.InlayHintRequest.type,D,y);return y.isCancellationRequested?null:n.protocol2CodeConverter.asInlayHints(w,y)}catch(w){return n.handleFailedRequest(l.InlayHintRequest.type,y,w,null)}});return function(b,y,D){return u.apply(this,arguments)}}(),p=n.middleware;return p.provideInlayHints?p.provideInlayHints(s,m,c,a):a(s,m,c)}};return _.resolveInlayHint=!0===C.resolveProvider?(s,m)=>{const c=this._client,n=function(){var p=d(function*(u,g){try{const b=yield c.sendRequest(l.InlayHintResolveRequest.type,c.code2ProtocolConverter.asInlayHint(u),g);if(g.isCancellationRequested)return null;const y=c.protocol2CodeConverter.asInlayHint(b,g);return g.isCancellationRequested?null:y}catch(b){return c.handleFailedRequest(l.InlayHintResolveRequest.type,g,b,null)}});return function(g,b){return p.apply(this,arguments)}}(),a=c.middleware;return a.resolveInlayHint?a.resolveInlayHint(s,m,n):n(s,m)}:void 0,[this.registerProvider(E,_),{provider:_,onDidChangeInlayHints:L}]}registerProvider(C,E){return t.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},26229:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.InlineValueFeature=void 0;const t=e(78708),l=e(85055),S=e(37062);X.InlineValueFeature=class v extends S.TextDocumentLanguageFeature{constructor(C){super(C,l.InlineValueRequest.type)}fillClientCapabilities(C){(0,S.ensure)((0,S.ensure)(C,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,S.ensure)((0,S.ensure)(C,"workspace"),"inlineValue").refreshSupport=!0}initialize(C,E){var L=this;this._client.onRequest(l.InlineValueRefreshRequest.type,d(function*(){for(const m of L.getAllProviders())m.onDidChangeInlineValues.fire()}));const[_,s]=this.getRegistration(E,C.inlineValueProvider);!_||!s||this.register({id:_,registerOptions:s})}registerLanguageProvider(C){const E=C.documentSelector,L=new t.EventEmitter,_={onDidChangeInlineValues:L.event,provideInlineValues:(s,m,c,n)=>{const a=this._client,p=(g,b,y,D)=>{const w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g),range:a.code2ProtocolConverter.asRange(b),context:a.code2ProtocolConverter.asInlineValueContext(y)};return a.sendRequest(l.InlineValueRequest.type,w,D).then(I=>D.isCancellationRequested?null:a.protocol2CodeConverter.asInlineValues(I,D),I=>a.handleFailedRequest(l.InlineValueRequest.type,D,I,null))},u=a.middleware;return u.provideInlineValues?u.provideInlineValues(s,m,c,n,p):p(s,m,c,n)}};return[this.registerProvider(E,_),{provider:_,onDidChangeInlineValues:L}]}registerProvider(C,E){return t.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},44303:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.LinkedEditingFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);X.LinkedEditingFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,t.LinkedEditingRangeRequest.type)}fillClientCapabilities(T){(0,l.ensure)((0,l.ensure)(T,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(T,C){let[E,L]=this.getRegistration(C,T.linkedEditingRangeProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideLinkedEditingRanges:(L,_,s)=>{const m=this._client,c=(a,p,u)=>m.sendRequest(t.LinkedEditingRangeRequest.type,m.code2ProtocolConverter.asTextDocumentPositionParams(a,p),u).then(g=>u.isCancellationRequested?null:m.protocol2CodeConverter.asLinkedEditingRanges(g,u),g=>m.handleFailedRequest(t.LinkedEditingRangeRequest.type,u,g,null)),n=m.middleware;return n.provideLinkedEditingRange?n.provideLinkedEditingRange(L,_,s,c):c(L,_,s)}};return[this.registerProvider(T.documentSelector,E),E]}registerProvider(T,C){return d.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(T),C)}}},31446:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.NotebookDocumentSyncFeature=void 0;const t=e(78708),l=e(34916),S=e(85055),v=e(2766),T=e(81072);function C(a,p){return void 0===a[p]&&(a[p]={}),a[p]}var E,L,_,s,m;!function(a){let p;!function(u){function y(U,K){return U.map(F=>w(F,K))}function D(U){return P(new Set,U)}function w(U,K){const F=S.NotebookCell.create(function I(U){switch(U){case t.NotebookCellKind.Markup:return S.NotebookCellKind.Markup;case t.NotebookCellKind.Code:return S.NotebookCellKind.Code}}(U.kind),K.asUri(U.document.uri));return Object.keys(U.metadata).length>0&&(F.metadata=D(U.metadata)),void 0!==U.executionSummary&&T.number(U.executionSummary.executionOrder)&&T.boolean(U.executionSummary.success)&&(F.executionSummary={executionOrder:U.executionSummary.executionOrder,success:U.executionSummary.success}),F}function P(U,K){if(U.has(K))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(K)){const F=[];for(const B of K)if(null!==B&&"object"==typeof B||Array.isArray(B))F.push(P(U,B));else{if(B instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");F.push(B)}return F}{const F=Object.keys(K),B=Object.create(null);for(const z of F){const $=K[z];if(null!==$&&"object"==typeof $||Array.isArray($))B[z]=P(U,$);else{if($ instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");B[z]=$}}return B}}u.asVersionedNotebookDocumentIdentifier=function g(U,K){return{version:U.version,uri:K.asUri(U.uri)}},u.asNotebookDocument=function b(U,K,F){const B=S.NotebookDocument.create(F.asUri(U.uri),U.notebookType,U.version,y(K,F));return Object.keys(U.metadata).length>0&&(B.metadata=D(U.metadata)),B},u.asNotebookCells=y,u.asMetadata=D,u.asNotebookCell=w,u.asTextContentChange=function O(U,K){const F=K.asChangeTextDocumentParams(U);return{document:F.textDocument,changes:F.contentChanges}},u.asNotebookDocumentChangeEvent=function H(U,K){const F=Object.create(null);if(U.metadata&&(F.metadata=a.c2p.asMetadata(U.metadata)),void 0!==U.cells){const B=Object.create(null),z=U.cells;z.structure&&(B.structure={array:{start:z.structure.array.start,deleteCount:z.structure.array.deleteCount,cells:void 0!==z.structure.array.cells?z.structure.array.cells.map($=>a.c2p.asNotebookCell($,K)):void 0},didOpen:void 0!==z.structure.didOpen?z.structure.didOpen.map($=>K.asOpenTextDocumentParams($.document).textDocument):void 0,didClose:void 0!==z.structure.didClose?z.structure.didClose.map($=>K.asCloseTextDocumentParams($.document).textDocument):void 0}),void 0!==z.data&&(B.data=z.data.map($=>a.c2p.asNotebookCell($,K))),void 0!==z.textContent&&(B.textContent=z.textContent.map($=>a.c2p.asTextContentChange($,K))),Object.keys(B).length>0&&(F.cells=B)}return F}}(p=a.c2p||(a.c2p={}))}(E||(E={})),function(a){function u(w,I,P=!0){return!(w.kind!==I.kind||w.document.uri.toString()!==I.document.uri.toString()||w.document.languageId!==I.document.languageId||!function g(w,I){return w===I||void 0!==w&&void 0!==I&&w.executionOrder===I.executionOrder&&w.success===I.success&&function b(w,I){return w===I||void 0!==w&&void 0!==I&&w.startTime===I.startTime&&w.endTime===I.endTime}(w.timing,I.timing)}(w.executionSummary,I.executionSummary))&&(!P||P&&y(w.metadata,I.metadata))}function y(w,I){if(w===I)return!0;if(null==w||null==I||typeof w!=typeof I||"object"!=typeof w)return!1;const P=Array.isArray(w),O=Array.isArray(I);if(P!==O)return!1;if(P&&O){if(w.length!==I.length)return!1;for(let H=0;H<w.length;H++)if(!y(w[H],I[H]))return!1}if(D(w)&&D(I)){const H=Object.keys(w),U=Object.keys(I);if(H.length!==U.length||(H.sort(),U.sort(),!y(H,U)))return!1;for(let K=0;K<H.length;K++){const F=H[K];if(!y(w[F],I[F]))return!1}return!0}return!1}function D(w){return null!==w&&"object"==typeof w}a.computeDiff=function p(w,I,P){const O=w.length,H=I.length;let U=0;for(;U<H&&U<O&&u(w[U],I[U],P);)U++;if(U<H&&U<O){let K=O-1,F=H-1;for(;K>=0&&F>=0&&u(w[K],I[F],P);)K--,F--;const B=K+1-U,z=U===F+1?void 0:I.slice(U,F+1);return void 0!==z?{start:U,deleteCount:B,cells:z}:{start:U,deleteCount:B}}return U<H?{start:U,deleteCount:0,cells:I.slice(U)}:U<O?{start:U,deleteCount:O-U}:void 0},a.isObjectLiteral=D}(L||(L={})),(_||(_={})).matchNotebook=function p(u,g){if("string"==typeof u)return"*"===u||g.notebookType===u;if(void 0!==u.notebookType&&"*"!==u.notebookType&&g.notebookType!==u.notebookType)return!1;const b=g.uri;if(void 0!==u.scheme&&"*"!==u.scheme&&b.scheme!==u.scheme)return!1;if(void 0!==u.pattern){const y=new l.Minimatch(u.pattern,{noext:!0});if(!y.makeRe()||!y.match(b.fsPath))return!1}return!0},function(a){function u(g,b,y,D){return void 0===b&&void 0===y?{notebook:g,language:D}:{notebook:{notebookType:g,scheme:b,pattern:y},language:D}}a.asDocumentSelector=function p(g){const b=g.notebookSelector,y=[];for(const D of b){const w=("string"==typeof D.notebook?D.notebook:D.notebook?.notebookType)??"*",I="string"==typeof D.notebook?void 0:D.notebook?.scheme,P="string"==typeof D.notebook?void 0:D.notebook?.pattern;if(void 0!==D.cells)for(const O of D.cells)y.push(u(w,I,P,O.language));else y.push(u(w,I,P,void 0))}return y}}(s||(s={})),(m||(m={})).create=function p(u){return{cells:u,uris:new Set(u.map(g=>g.document.uri.toString()))}};class c{constructor(p,u){this.client=p,this.options=u,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=p.protocol2CodeConverter.asDocumentSelector(s.asDocumentSelector(u)),t.workspace.onDidOpenNotebookDocument(g=>{this.notebookDidOpen.add(g.uri.toString()),this.didOpen(g)},void 0,this.disposables);for(const g of t.workspace.notebookDocuments)this.notebookDidOpen.add(g.uri.toString()),this.didOpen(g);t.workspace.onDidChangeNotebookDocument(g=>this.didChangeNotebookDocument(g),void 0,this.disposables),!0===this.options.save&&t.workspace.onDidSaveNotebookDocument(g=>this.didSave(g),void 0,this.disposables),t.workspace.onDidCloseNotebookDocument(g=>{this.didClose(g),this.notebookDidOpen.delete(g.uri.toString())},void 0,this.disposables)}getState(){for(const p of t.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(p))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(p){return t.languages.match(this.selector,p)>0}didOpenNotebookCellTextDocument(p,u){if(0===t.languages.match(this.selector,u.document)||!this.notebookDidOpen.has(p.uri.toString()))return;const g=this.notebookSyncInfo.get(p.uri.toString()),b=this.cellMatches(p,u);if(void 0!==g){const y=g.uris.has(u.document.uri.toString());if(b&&y||!b&&!y)return;if(b){const D=this.getMatchingCells(p);if(void 0!==D){const w=this.asNotebookDocumentChangeEvent(p,void 0,g,D);void 0!==w&&this.doSendChange(w,D).catch(()=>{})}}}else b&&this.doSendOpen(p,[u]).catch(()=>{})}didChangeNotebookCellTextDocument(p,u){0!==t.languages.match(this.selector,u.document)&&this.doSendChange({notebook:p,cells:{textContent:[u]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(p,u){const g=this.notebookSyncInfo.get(p.uri.toString());if(void 0===g)return;const b=u.document.uri,y=g.cells.findIndex(D=>D.document.uri.toString()===b.toString());if(-1!==y)if(0===y&&1===g.cells.length)this.doSendClose(p,g.cells).catch(()=>{});else{const D=g.cells.slice(),w=D.splice(y,1);this.doSendChange({notebook:p,cells:{structure:{array:{start:y,deleteCount:1},didClose:w}}},D).catch(()=>{})}}dispose(){for(const p of this.disposables)p.dispose()}didOpen(p,u=this.getMatchingCells(p),g=this.notebookSyncInfo.get(p.uri.toString())){if(void 0!==g)if(void 0!==u){const b=this.asNotebookDocumentChangeEvent(p,void 0,g,u);void 0!==b&&this.doSendChange(b,u).catch(()=>{})}else this.doSendClose(p,[]).catch(()=>{});else{if(void 0===u)return;this.doSendOpen(p,u).catch(()=>{})}}didChangeNotebookDocument(p){const u=p.notebook,g=this.notebookSyncInfo.get(u.uri.toString());if(void 0===g){if(0===p.contentChanges.length)return;const b=this.getMatchingCells(u);if(void 0===b)return;this.didOpen(u,b,g)}else{const b=this.getMatchingCells(u);if(void 0===b)return void this.didClose(u,g);const y=this.asNotebookDocumentChangeEvent(p.notebook,p,g,b);void 0!==y&&this.doSendChange(y,b).catch(()=>{})}}didSave(p){void 0!==this.notebookSyncInfo.get(p.uri.toString())&&this.doSendSave(p).catch(()=>{})}didClose(p,u=this.notebookSyncInfo.get(p.uri.toString())){if(void 0===u)return;const g=p.getCells().filter(b=>u.uris.has(b.document.uri.toString()));this.doSendClose(p,g).catch(()=>{})}sendDidOpenNotebookDocument(p){var u=this;return d(function*(){const g=u.getMatchingCells(p);if(void 0!==g)return u.doSendOpen(p,g)})()}doSendOpen(p,u){var g=this;return d(function*(){const b=function(){var D=d(function*(w,I){const P=E.c2p.asNotebookDocument(w,I,g.client.code2ProtocolConverter),O=I.map(H=>g.client.code2ProtocolConverter.asTextDocumentItem(H.document));try{yield g.client.sendNotification(S.DidOpenNotebookDocumentNotification.type,{notebookDocument:P,cellTextDocuments:O})}catch(H){throw g.client.error("Sending DidOpenNotebookDocumentNotification failed",H),H}});return function(I,P){return D.apply(this,arguments)}}(),y=g.client.middleware?.notebooks;return g.notebookSyncInfo.set(p.uri.toString(),m.create(u)),void 0!==y?.didOpen?y.didOpen(p,u,b):b(p,u)})()}sendDidChangeNotebookDocument(p){var u=this;return d(function*(){return u.doSendChange(p,void 0)})()}doSendChange(p,u=this.getMatchingCells(p.notebook)){var g=this;return d(function*(){const b=function(){var D=d(function*(w){try{yield g.client.sendNotification(S.DidChangeNotebookDocumentNotification.type,{notebookDocument:E.c2p.asVersionedNotebookDocumentIdentifier(w.notebook,g.client.code2ProtocolConverter),change:E.c2p.asNotebookDocumentChangeEvent(w,g.client.code2ProtocolConverter)})}catch(I){throw g.client.error("Sending DidChangeNotebookDocumentNotification failed",I),I}});return function(I){return D.apply(this,arguments)}}(),y=g.client.middleware?.notebooks;return void 0!==p.cells?.structure&&g.notebookSyncInfo.set(p.notebook.uri.toString(),m.create(u??[])),void 0!==y?.didChange?y?.didChange(p,b):b(p)})()}sendDidSaveNotebookDocument(p){var u=this;return d(function*(){return u.doSendSave(p)})()}doSendSave(p){var u=this;return d(function*(){const g=function(){var y=d(function*(D){try{yield u.client.sendNotification(S.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:u.client.code2ProtocolConverter.asUri(D.uri)}})}catch(w){throw u.client.error("Sending DidSaveNotebookDocumentNotification failed",w),w}});return function(w){return y.apply(this,arguments)}}(),b=u.client.middleware?.notebooks;return void 0!==b?.didSave?b.didSave(p,g):g(p)})()}sendDidCloseNotebookDocument(p){var u=this;return d(function*(){return u.doSendClose(p,u.getMatchingCells(p)??[])})()}doSendClose(p,u){var g=this;return d(function*(){const b=function(){var D=d(function*(w,I){try{yield g.client.sendNotification(S.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:g.client.code2ProtocolConverter.asUri(w.uri)},cellTextDocuments:I.map(P=>g.client.code2ProtocolConverter.asTextDocumentIdentifier(P.document))})}catch(P){throw g.client.error("Sending DidCloseNotebookDocumentNotification failed",P),P}});return function(I,P){return D.apply(this,arguments)}}(),y=g.client.middleware?.notebooks;return g.notebookSyncInfo.delete(p.uri.toString()),void 0!==y?.didClose?y.didClose(p,u,b):b(p,u)})()}asNotebookDocumentChangeEvent(p,u,g,b){if(void 0!==u&&u.notebook!==p)throw new Error("Notebook must be identical");const y={notebook:p};let D;if(void 0!==u?.metadata&&(y.metadata=E.c2p.asMetadata(u.metadata)),void 0!==u?.cellChanges&&u.cellChanges.length>0){const w=[];D=new Set(b.map(I=>I.document.uri.toString()));for(const I of u.cellChanges)D.has(I.cell.document.uri.toString())&&(void 0!==I.executionSummary||void 0!==I.metadata)&&w.push(I.cell);w.length>0&&(y.cells=y.cells??{},y.cells.data=w)}if((void 0!==u?.contentChanges&&u.contentChanges.length>0||void 0===u)&&void 0!==g&&void 0!==b){const w=g.cells,P=L.computeDiff(w,b,!1);let O,H;if(void 0!==P){O=void 0===P.cells?new Map:new Map(P.cells.map(F=>[F.document.uri.toString(),F])),H=0===P.deleteCount?new Map:new Map(w.slice(P.start,P.start+P.deleteCount).map(F=>[F.document.uri.toString(),F]));for(const F of Array.from(H.keys()))O.has(F)&&(H.delete(F),O.delete(F));y.cells=y.cells??{};const U=[],K=[];if(O.size>0||H.size>0){for(const F of O.values())U.push(F);for(const F of H.values())K.push(F)}y.cells.structure={array:P,didOpen:U,didClose:K}}}return Object.keys(y).length>1?y:void 0}getMatchingCells(p,u=p.getCells()){if(void 0!==this.options.notebookSelector)for(const g of this.options.notebookSelector)if(void 0===g.notebook||_.matchNotebook(g.notebook,p)){const b=this.filterCells(p,u,g.cells);return 0===b.length?void 0:b}}cellMatches(p,u){const g=this.getMatchingCells(p,[u]);return void 0!==g&&g[0]===u}filterCells(p,u,g){const b=void 0!==g?u.filter(y=>{const D=y.document.languageId;return g.some(w=>"*"===w.language||D===w.language)}):u;return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(p,b):b}}class n{constructor(p){this.client=p,this.registrations=new Map,this.registrationType=S.NotebookDocumentSyncRegistrationType.type,t.workspace.onDidOpenTextDocument(u=>{if(u.uri.scheme!==n.CellScheme)return;const[g,b]=this.findNotebookDocumentAndCell(u);if(void 0!==g&&void 0!==b)for(const y of this.registrations.values())y instanceof c&&y.didOpenNotebookCellTextDocument(g,b)}),t.workspace.onDidChangeTextDocument(u=>{if(0===u.contentChanges.length)return;const g=u.document;if(g.uri.scheme!==n.CellScheme)return;const[b]=this.findNotebookDocumentAndCell(g);if(void 0!==b)for(const y of this.registrations.values())y instanceof c&&y.didChangeNotebookCellTextDocument(b,u)}),t.workspace.onDidCloseTextDocument(u=>{if(u.uri.scheme!==n.CellScheme)return;const[g,b]=this.findNotebookDocumentAndCell(u);if(void 0!==g&&void 0!==b)for(const y of this.registrations.values())y instanceof c&&y.didCloseNotebookCellTextDocument(g,b)})}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const p of this.registrations.values()){const u=p.getState();if("document"===u.kind&&!0===u.registrations&&!0===u.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(p){const u=C(C(p,"notebookDocument"),"synchronization");u.dynamicRegistration=!0,u.executionSummarySupport=!0}preInitialize(p){const u=p.notebookDocumentSync;void 0!==u&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(s.asDocumentSelector(u)))}initialize(p){const u=p.notebookDocumentSync;if(void 0===u)return;const g=u.id??v.generateUuid();this.register({id:g,registerOptions:u})}register(p){const u=new c(this.client,p.registerOptions);this.registrations.set(p.id,u)}unregister(p){const u=this.registrations.get(p);u&&u.dispose()}dispose(){for(const p of this.registrations.values())p.dispose();this.registrations.clear()}handles(p){if(p.uri.scheme!==n.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&t.languages.match(this.dedicatedChannel,p)>0)return!0;for(const u of this.registrations.values())if(u.handles(p))return!0;return!1}getProvider(p){for(const u of this.registrations.values())if(u.handles(p.document))return u}findNotebookDocumentAndCell(p){const u=p.uri.toString();for(const g of t.workspace.notebookDocuments)for(const b of g.getCells())if(b.document.uri.toString()===u)return[g,b];return[void 0,void 0]}}X.NotebookDocumentSyncFeature=n,n.CellScheme="vscode-notebook-cell"},18715:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.ProgressFeature=void 0;const d=e(85055),t=e(74342);X.ProgressFeature=class S{constructor(T){this._client=T,this.activeParts=new Set}getState(){return{kind:"window",id:d.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(T){(function l(v,T){return void 0===v[T]&&(v[T]=Object.create(null)),v[T]}(T,"window")).workDoneProgress=!0}initialize(){const C=L=>{this.activeParts.delete(L)};this._client.onRequest(d.WorkDoneProgressCreateRequest.type,L=>{this.activeParts.add(new t.ProgressPart(this._client,L.token,C))})}dispose(){for(const T of this.activeParts)T.done();this.activeParts.clear()}}},74342:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.ProgressPart=void 0;const t=e(78708),l=e(85055),S=e(81072);X.ProgressPart=class v{constructor(C,E,L){this._client=C,this._token=E,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(l.WorkDoneProgress.type,this._token,_=>{switch(_.kind){case"begin":this.begin(_);break;case"report":this.report(_);break;case"end":this.done(),L&&L(this)}})}begin(C){var E=this;this._infinite=void 0===C.percentage,void 0!==this._lspProgressDisposable&&t.window.withProgress({location:t.ProgressLocation.Window,cancellable:C.cancellable,title:C.title},function(){var L=d(function*(_,s){if(void 0!==E._lspProgressDisposable)return E._progress=_,E._cancellationToken=s,E._tokenDisposable=E._cancellationToken.onCancellationRequested(()=>{E._client.sendNotification(l.WorkDoneProgressCancelNotification.type,{token:E._token})}),E.report(C),new Promise((m,c)=>{E._resolve=m,E._reject=c})});return function(_,s){return L.apply(this,arguments)}}())}report(C){if(this._infinite&&S.string(C.message))void 0!==this._progress&&this._progress.report({message:C.message});else if(S.number(C.percentage)){const E=Math.max(0,Math.min(C.percentage,100)),L=Math.max(0,E-this._reported);this._reported+=L,void 0!==this._progress&&this._progress.report({message:C.message,increment:L})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},29966:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});const d=e(78708);X.default=class t extends d.CallHierarchyItem{constructor(S,v,T,C,E,L,_){super(S,v,T,C,E,L),void 0!==_&&(this.data=_)}}},40359:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});const d=e(78708);X.default=class t extends d.CodeAction{constructor(S,v){super(S),this.data=v}}},81056:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});const d=e(78708);X.default=class t extends d.CodeLens{constructor(S){super(S)}}},12115:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});const d=e(78708);X.default=class t extends d.CompletionItem{constructor(S){super(S)}}},85959:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.createConverter=void 0;const t=e(78708),l=e(85055),S=e(81072),v=e(8787),T=e(12115),C=e(81056),E=e(95388),L=e(40359),_=e(1426),s=e(29966),m=e(90244),c=e(52251),n=e(30674),a=e(85055);var p;(p||(p={})).is=function b(y){let D=y;return D&&S.string(D.language)&&S.string(D.value)},X.createConverter=function u(g,b,y){const w=g||(Re=>t.Uri.parse(Re));function I(Re){return w(Re)}function H(){return(H=d(function*(Re,ct){return v.map(Re,K,ct)})).apply(this,arguments)}function U(Re){const ct=new Array(Re.length);for(let _n=0;_n<Re.length;_n++)ct[_n]=K(Re[_n]);return ct}function K(Re){let ct=new _.ProtocolDiagnostic(j(Re.range),Re.message,V(Re.severity),Re.data);if(void 0!==Re.code)if("string"==typeof Re.code||"number"==typeof Re.code)ct.code=l.CodeDescription.is(Re.codeDescription)?{value:Re.code,target:I(Re.codeDescription.href)}:Re.code;else if(_.DiagnosticCode.is(Re.code)){ct.hasDiagnosticCode=!0;const _n=Re.code;ct.code={value:_n.value,target:I(_n.target)}}return Re.source&&(ct.source=Re.source),Re.relatedInformation&&(ct.relatedInformation=function F(Re){const ct=new Array(Re.length);for(let _n=0;_n<Re.length;_n++){const Hn=Re[_n];ct[_n]=new t.DiagnosticRelatedInformation(Q(Hn.location),Hn.message)}return ct}(Re.relatedInformation)),Array.isArray(Re.tags)&&(ct.tags=function B(Re){if(!Re)return;let ct=[];for(let _n of Re){let Hn=z(_n);void 0!==Hn&&ct.push(Hn)}return ct.length>0?ct:void 0}(Re.tags)),ct}function z(Re){switch(Re){case l.DiagnosticTag.Unnecessary:return t.DiagnosticTag.Unnecessary;case l.DiagnosticTag.Deprecated:return t.DiagnosticTag.Deprecated;default:return}}function $(Re){return Re?new t.Position(Re.line,Re.character):void 0}function j(Re){return Re?new t.Range(Re.start.line,Re.start.character,Re.end.line,Re.end.character):void 0}function ne(Re,ct){return N.apply(this,arguments)}function N(){return(N=d(function*(Re,ct){return v.map(Re,_n=>new t.Range(_n.start.line,_n.start.character,_n.end.line,_n.end.character),ct)})).apply(this,arguments)}function V(Re){if(null==Re)return t.DiagnosticSeverity.Error;switch(Re){case l.DiagnosticSeverity.Error:return t.DiagnosticSeverity.Error;case l.DiagnosticSeverity.Warning:return t.DiagnosticSeverity.Warning;case l.DiagnosticSeverity.Information:return t.DiagnosticSeverity.Information;case l.DiagnosticSeverity.Hint:return t.DiagnosticSeverity.Hint}return t.DiagnosticSeverity.Error}function fe(Re){if(S.string(Re))return Re;switch(Re.kind){case l.MarkupKind.Markdown:return M(Re.value);case l.MarkupKind.PlainText:return Re.value;default:return`Unsupported Markup content received. Kind is: ${Re.kind}`}}function M(Re){let ct;if(void 0===Re||"string"==typeof Re)ct=new t.MarkdownString(Re);else switch(Re.kind){case l.MarkupKind.Markdown:ct=new t.MarkdownString(Re.value);break;case l.MarkupKind.PlainText:ct=new t.MarkdownString,ct.appendText(Re.value);break;default:ct=new t.MarkdownString,ct.appendText(`Unsupported Markup content received. Kind is: ${Re.kind}`)}return ct.isTrusted=b,ct.supportHtml=y,ct}function Le(){return(Le=d(function*(Re,ct,_n){if(!Re)return;if(Array.isArray(Re))return v.map(Re,Ft=>pe(Ft,ct),_n);const Hn=Re,{defaultRange:Ai,commitCharacters:yi}=Ne(Hn,ct),di=yield v.map(Hn.items,Ft=>pe(Ft,yi,Ai,Hn.itemDefaults?.insertTextMode,Hn.itemDefaults?.insertTextFormat,Hn.itemDefaults?.data),_n);return new t.CompletionList(di,Hn.isIncomplete)})).apply(this,arguments)}function Ne(Re,ct){const _n=Re.itemDefaults?.editRange,Hn=Re.itemDefaults?.commitCharacters??ct;return l.Range.is(_n)?{defaultRange:j(_n),commitCharacters:Hn}:void 0!==_n?{defaultRange:{inserting:j(_n.insert),replacing:j(_n.replace)},commitCharacters:Hn}:{defaultRange:void 0,commitCharacters:Hn}}function we(Re){if(Re===l.CompletionItemTag.Deprecated)return t.CompletionItemTag.Deprecated}function pe(Re,ct,_n,Hn,Ai,yi){const di=function xe(Re){if(null==Re)return[];const ct=[];for(const _n of Re){const Hn=we(_n);void 0!==Hn&&ct.push(Hn)}return ct}(Re.tags),Ft=function Te(Re){return l.CompletionItemLabelDetails.is(Re.labelDetails)?{label:Re.label,detail:Re.labelDetails.detail,description:Re.labelDetails.description}:Re.label}(Re),R=new T.default(Ft);Re.detail&&(R.detail=Re.detail),Re.documentation&&(R.documentation=fe(Re.documentation),R.documentationFormat=S.string(Re.documentation)?"$string":Re.documentation.kind),Re.filterText&&(R.filterText=Re.filterText);const q=function de(Re,ct,_n){const Hn=Re.insertTextFormat??_n;if(void 0!==Re.textEdit||void 0!==ct){const[Ai,yi]=void 0!==Re.textEdit?function ke(Re){return l.InsertReplaceEdit.is(Re)?[{inserting:j(Re.insert),replacing:j(Re.replace)},Re.newText]:[j(Re.range),Re.newText]}(Re.textEdit):[ct,Re.textEditText??Re.label];return Hn===l.InsertTextFormat.Snippet?{text:new t.SnippetString(yi),range:Ai,fromEdit:!0}:{text:yi,range:Ai,fromEdit:!0}}return Re.insertText?Hn===l.InsertTextFormat.Snippet?{text:new t.SnippetString(Re.insertText),fromEdit:!1}:{text:Re.insertText,fromEdit:!1}:void 0}(Re,_n,Ai);if(q&&(R.insertText=q.text,R.range=q.range,R.fromEdit=q.fromEdit),S.number(Re.kind)){let[at,tn]=function oe(Re){return l.CompletionItemKind.Text<=Re&&Re<=l.CompletionItemKind.TypeParameter?[Re-1,void 0]:[t.CompletionItemKind.Text,Re]}(Re.kind);R.kind=at,tn&&(R.originalItemKind=tn)}Re.sortText&&(R.sortText=Re.sortText),Re.additionalTextEdits&&(R.additionalTextEdits=Ue(Re.additionalTextEdits));const me=void 0!==Re.commitCharacters?S.stringArray(Re.commitCharacters)?Re.commitCharacters:void 0:ct;me&&(R.commitCharacters=me.slice()),Re.command&&(R.command=qe(Re.command)),(!0===Re.deprecated||!1===Re.deprecated)&&(R.deprecated=Re.deprecated,!0===Re.deprecated&&di.push(t.CompletionItemTag.Deprecated)),(!0===Re.preselect||!1===Re.preselect)&&(R.preselect=Re.preselect);const Ke=Re.data??yi;void 0!==Ke&&(R.data=Ke),di.length>0&&(R.tags=di);const Xe=Re.insertTextMode??Hn;return void 0!==Xe&&(R.insertTextMode=Xe,Xe===l.InsertTextMode.asIs&&(R.keepWhitespace=!0)),R}function ze(Re){if(Re)return new t.TextEdit(j(Re.range),Re.newText)}function $e(Re,ct){return ce.apply(this,arguments)}function ce(){return(ce=d(function*(Re,ct){if(Re)return v.map(Re,ze,ct)})).apply(this,arguments)}function Ue(Re){if(!Re)return;const ct=new Array(Re.length);for(let _n=0;_n<Re.length;_n++)ct[_n]=ze(Re[_n]);return ct}function Dt(){return(Dt=d(function*(Re,ct){if(!Re)return;let _n=new t.SignatureHelp;return _n.activeSignature=S.number(Re.activeSignature)?Re.activeSignature:0,_n.activeParameter=S.number(Re.activeParameter)?Re.activeParameter:0,Re.signatures&&(_n.signatures=yield Lt(Re.signatures,ct)),_n})).apply(this,arguments)}function Lt(Re,ct){return Ze.apply(this,arguments)}function Ze(){return(Ze=d(function*(Re,ct){return v.mapAsync(Re,ae,ct)})).apply(this,arguments)}function ae(Re,ct){return _e.apply(this,arguments)}function _e(){return(_e=d(function*(Re,ct){let _n=new t.SignatureInformation(Re.label);return void 0!==Re.documentation&&(_n.documentation=fe(Re.documentation)),void 0!==Re.parameters&&(_n.parameters=yield he(Re.parameters,ct)),void 0!==Re.activeParameter&&(_n.activeParameter=Re.activeParameter),_n})).apply(this,arguments)}function he(Re,ct){return v.map(Re,le,ct)}function le(Re){let ct=new t.ParameterInformation(Re.label);return Re.documentation&&(ct.documentation=fe(Re.documentation)),ct}function Q(Re){return Re?new t.Location(w(Re.uri),j(Re.range)):void 0}function Ae(){return(Ae=d(function*(Re,ct){if(Re)return Qe(Re,ct)})).apply(this,arguments)}function st(){return(st=d(function*(Re,ct){if(Re)return Qe(Re,ct)})).apply(this,arguments)}function et(Re){if(!Re)return;let ct={targetUri:w(Re.targetUri),targetRange:j(Re.targetRange),originSelectionRange:j(Re.originSelectionRange),targetSelectionRange:j(Re.targetSelectionRange)};if(!ct.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return ct}function Qe(Re,ct){return tt.apply(this,arguments)}function tt(){return(tt=d(function*(Re,ct){if(Re)return S.array(Re)?0===Re.length?[]:l.LocationLink.is(Re[0])?v.map(Re,et,ct):v.map(Re,Q,ct):l.LocationLink.is(Re)?[et(Re)]:Q(Re)})).apply(this,arguments)}function mt(){return(mt=d(function*(Re,ct){if(Re)return v.map(Re,Q,ct)})).apply(this,arguments)}function Kt(){return(Kt=d(function*(Re,ct){if(Re)return v.map(Re,Bt,ct)})).apply(this,arguments)}function Bt(Re){let ct=new t.DocumentHighlight(j(Re.range));return S.number(Re.kind)&&(ct.kind=Ge(Re.kind)),ct}function Ge(Re){switch(Re){case l.DocumentHighlightKind.Text:return t.DocumentHighlightKind.Text;case l.DocumentHighlightKind.Read:return t.DocumentHighlightKind.Read;case l.DocumentHighlightKind.Write:return t.DocumentHighlightKind.Write}return t.DocumentHighlightKind.Text}function Ut(){return(Ut=d(function*(Re,ct){if(Re)return v.map(Re,je,ct)})).apply(this,arguments)}function hn(Re){return Re<=l.SymbolKind.TypeParameter?Re-1:t.SymbolKind.Property}function Dn(Re){if(Re===l.SymbolTag.Deprecated)return t.SymbolTag.Deprecated}function wt(Re){if(null==Re)return;const ct=[];for(const _n of Re){const Hn=Dn(_n);void 0!==Hn&&ct.push(Hn)}return 0===ct.length?void 0:ct}function je(Re){const ct=Re.data,_n=Re.location,Hn=void 0===_n.range||void 0!==ct?new c.default(Re.name,hn(Re.kind),Re.containerName??"",void 0===_n.range?w(_n.uri):new t.Location(w(Re.location.uri),j(_n.range)),ct):new t.SymbolInformation(Re.name,hn(Re.kind),Re.containerName??"",new t.Location(w(Re.location.uri),j(_n.range)));return be(Hn,Re),Hn}function Me(){return(Me=d(function*(Re,ct){if(null!=Re)return v.map(Re,ue,ct)})).apply(this,arguments)}function ue(Re){let ct=new t.DocumentSymbol(Re.name,Re.detail||"",hn(Re.kind),j(Re.range),j(Re.selectionRange));if(be(ct,Re),void 0!==Re.children&&Re.children.length>0){let _n=[];for(let Hn of Re.children)_n.push(ue(Hn));ct.children=_n}return ct}function be(Re,ct){Re.tags=wt(ct.tags),ct.deprecated&&(Re.tags?Re.tags.includes(t.SymbolTag.Deprecated)||(Re.tags=Re.tags.concat(t.SymbolTag.Deprecated)):Re.tags=[t.SymbolTag.Deprecated])}function qe(Re){let ct={title:Re.title,command:Re.command};return Re.arguments&&(ct.arguments=Re.arguments),ct}function ot(){return(ot=d(function*(Re,ct){if(Re)return v.map(Re,qe,ct)})).apply(this,arguments)}const bt=new Map;function Ht(Re){if(null==Re)return;let ct=bt.get(Re);if(ct)return ct;let _n=Re.split(".");ct=t.CodeActionKind.Empty;for(let Hn of _n)ct=ct.append(Hn);return ct}function Mn(Re,ct){return Ct.apply(this,arguments)}function Ct(){return(Ct=d(function*(Re,ct){if(null==Re)return;let _n=new L.default(Re.title,Re.data);return void 0!==Re.kind&&(_n.kind=Ht(Re.kind)),void 0!==Re.diagnostics&&(_n.diagnostics=U(Re.diagnostics)),void 0!==Re.edit&&(_n.edit=yield li(Re.edit,ct)),void 0!==Re.command&&(_n.command=qe(Re.command)),void 0!==Re.isPreferred&&(_n.isPreferred=Re.isPreferred),void 0!==Re.disabled&&(_n.disabled={reason:Re.disabled.reason}),_n})).apply(this,arguments)}function Vn(Re){if(!Re)return;let ct=new C.default(j(Re.range));return Re.command&&(ct.command=qe(Re.command)),null!=Re.data&&(ct.data=Re.data),ct}function zn(){return(zn=d(function*(Re,ct){if(Re)return v.map(Re,Vn,ct)})).apply(this,arguments)}function li(Re,ct){return oi.apply(this,arguments)}function oi(){return(oi=d(function*(Re,ct){if(!Re)return;const _n=new Map;if(void 0!==Re.changeAnnotations){const yi=Re.changeAnnotations;yield v.forEach(Object.keys(yi),di=>{const Ft=Li(yi[di]);_n.set(di,Ft)},ct)}const Hn=yi=>{if(void 0!==yi)return _n.get(yi)},Ai=new t.WorkspaceEdit;if(Re.documentChanges){const yi=Re.documentChanges;yield v.forEach(yi,di=>{if(l.CreateFile.is(di))Ai.createFile(w(di.uri),di.options,Hn(di.annotationId));else if(l.RenameFile.is(di))Ai.renameFile(w(di.oldUri),w(di.newUri),di.options,Hn(di.annotationId));else if(l.DeleteFile.is(di))Ai.deleteFile(w(di.uri),di.options,Hn(di.annotationId));else{if(!l.TextDocumentEdit.is(di))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(di,void 0,4)}`);{const Ft=w(di.textDocument.uri);for(const R of di.edits)l.AnnotatedTextEdit.is(R)?Ai.replace(Ft,j(R.range),R.newText,Hn(R.annotationId)):Ai.replace(Ft,j(R.range),R.newText)}}},ct)}else if(Re.changes){const yi=Re.changes;yield v.forEach(Object.keys(yi),di=>{Ai.set(w(di),Ue(yi[di]))},ct)}return Ai})).apply(this,arguments)}function Li(Re){if(void 0!==Re)return{label:Re.label,needsConfirmation:!!Re.needsConfirmation,description:Re.description}}function so(Re){let ct=j(Re.range),_n=Re.target?I(Re.target):void 0,Hn=new E.default(ct,_n);return void 0!==Re.tooltip&&(Hn.tooltip=Re.tooltip),null!=Re.data&&(Hn.data=Re.data),Hn}function xo(){return(xo=d(function*(Re,ct){if(Re)return v.map(Re,so,ct)})).apply(this,arguments)}function ro(Re){return new t.Color(Re.red,Re.green,Re.blue,Re.alpha)}function _o(Re){return new t.ColorInformation(j(Re.range),ro(Re.color))}function si(){return(si=d(function*(Re,ct){if(Re)return v.map(Re,_o,ct)})).apply(this,arguments)}function Qt(Re){let ct=new t.ColorPresentation(Re.label);return ct.additionalTextEdits=Ue(Re.additionalTextEdits),Re.textEdit&&(ct.textEdit=ze(Re.textEdit)),ct}function ft(){return(ft=d(function*(Re,ct){if(Re)return v.map(Re,Qt,ct)})).apply(this,arguments)}function jt(Re){if(Re)switch(Re){case l.FoldingRangeKind.Comment:return t.FoldingRangeKind.Comment;case l.FoldingRangeKind.Imports:return t.FoldingRangeKind.Imports;case l.FoldingRangeKind.Region:return t.FoldingRangeKind.Region}}function en(Re){return new t.FoldingRange(Re.startLine,Re.endLine,jt(Re.kind))}function gn(){return(gn=d(function*(Re,ct){if(Re)return v.map(Re,en,ct)})).apply(this,arguments)}function An(Re){return new t.SelectionRange(j(Re.range),Re.parent?An(Re.parent):void 0)}function Qn(){return(Qn=d(function*(Re,ct){return Array.isArray(Re)?v.map(Re,An,ct):[]})).apply(this,arguments)}function wi(Re){return l.InlineValueText.is(Re)?new t.InlineValueText(j(Re.range),Re.text):l.InlineValueVariableLookup.is(Re)?new t.InlineValueVariableLookup(j(Re.range),Re.variableName,Re.caseSensitiveLookup):new t.InlineValueEvaluatableExpression(j(Re.range),Re.expression)}function no(){return(no=d(function*(Re,ct){return Array.isArray(Re)?v.map(Re,wi,ct):[]})).apply(this,arguments)}function Oi(Re,ct){return Ki.apply(this,arguments)}function Ki(){return(Ki=d(function*(Re,ct){const _n="string"==typeof Re.label?Re.label:yield v.map(Re.label,ji,ct),Hn=new n.default($(Re.position),_n);return void 0!==Re.kind&&(Hn.kind=Re.kind),void 0!==Re.textEdits&&(Hn.textEdits=yield $e(Re.textEdits,ct)),void 0!==Re.tooltip&&(Hn.tooltip=co(Re.tooltip)),void 0!==Re.paddingLeft&&(Hn.paddingLeft=Re.paddingLeft),void 0!==Re.paddingRight&&(Hn.paddingRight=Re.paddingRight),void 0!==Re.data&&(Hn.data=Re.data),Hn})).apply(this,arguments)}function ji(Re){const ct=new t.InlayHintLabelPart(Re.value);return void 0!==Re.location&&(ct.location=Q(Re.location)),void 0!==Re.tooltip&&(ct.tooltip=co(Re.tooltip)),void 0!==Re.command&&(ct.command=qe(Re.command)),ct}function co(Re){return"string"==typeof Re?Re:M(Re)}function Go(){return(Go=d(function*(Re,ct){if(Array.isArray(Re))return v.mapAsync(Re,Oi,ct)})).apply(this,arguments)}function Po(Re){if(null===Re)return;const ct=new s.default(hn(Re.kind),Re.name,Re.detail||"",I(Re.uri),j(Re.range),j(Re.selectionRange),Re.data);return void 0!==Re.tags&&(ct.tags=wt(Re.tags)),ct}function Do(){return(Do=d(function*(Re,ct){if(null!==Re)return v.map(Re,Po,ct)})).apply(this,arguments)}function to(Re,ct){return vo.apply(this,arguments)}function vo(){return(vo=d(function*(Re,ct){return new t.CallHierarchyIncomingCall(Po(Re.from),yield ne(Re.fromRanges,ct))})).apply(this,arguments)}function ai(){return(ai=d(function*(Re,ct){if(null!==Re)return v.mapAsync(Re,to,ct)})).apply(this,arguments)}function Yt(Re,ct){return kt.apply(this,arguments)}function kt(){return(kt=d(function*(Re,ct){return new t.CallHierarchyOutgoingCall(Po(Re.to),yield ne(Re.fromRanges,ct))})).apply(this,arguments)}function On(){return(On=d(function*(Re,ct){if(null!==Re)return v.mapAsync(Re,Yt,ct)})).apply(this,arguments)}function dn(){return(dn=d(function*(Re,ct){if(null!=Re)return new t.SemanticTokens(new Uint32Array(Re.data),Re.resultId)})).apply(this,arguments)}function gt(Re){return new t.SemanticTokensEdit(Re.start,Re.deleteCount,void 0!==Re.data?new Uint32Array(Re.data):void 0)}function nn(){return(nn=d(function*(Re,ct){if(null!=Re)return new t.SemanticTokensEdits(Re.edits.map(gt),Re.resultId)})).apply(this,arguments)}function En(){return(En=d(function*(Re,ct){if(null!=Re)return new t.LinkedEditingRanges(yield ne(Re.ranges,ct),ht(Re.wordPattern))})).apply(this,arguments)}function ht(Re){if(null!=Re)return new RegExp(Re)}function Rt(Re){if(null===Re)return;let ct=new m.default(hn(Re.kind),Re.name,Re.detail||"",I(Re.uri),j(Re.range),j(Re.selectionRange),Re.data);return void 0!==Re.tags&&(ct.tags=wt(Re.tags)),ct}function Zt(){return(Zt=d(function*(Re,ct){if(null!==Re)return v.map(Re,Rt,ct)})).apply(this,arguments)}return bt.set(l.CodeActionKind.Empty,t.CodeActionKind.Empty),bt.set(l.CodeActionKind.QuickFix,t.CodeActionKind.QuickFix),bt.set(l.CodeActionKind.Refactor,t.CodeActionKind.Refactor),bt.set(l.CodeActionKind.RefactorExtract,t.CodeActionKind.RefactorExtract),bt.set(l.CodeActionKind.RefactorInline,t.CodeActionKind.RefactorInline),bt.set(l.CodeActionKind.RefactorRewrite,t.CodeActionKind.RefactorRewrite),bt.set(l.CodeActionKind.Source,t.CodeActionKind.Source),bt.set(l.CodeActionKind.SourceOrganizeImports,t.CodeActionKind.SourceOrganizeImports),{asUri:I,asDocumentSelector:function P(Re){const ct=[];for(const _n of Re)"string"==typeof _n?ct.push(_n):a.NotebookCellTextDocumentFilter.is(_n)?ct.push("string"==typeof _n.notebook?{notebookType:_n.notebook,language:_n.language}:{notebookType:_n.notebook.notebookType??"*",scheme:_n.notebook.scheme,pattern:_n.notebook.pattern,language:_n.language}):a.TextDocumentFilter.is(_n)&&ct.push({language:_n.language,scheme:_n.scheme,pattern:_n.pattern});return ct},asDiagnostics:function O(Re,ct){return H.apply(this,arguments)},asDiagnostic:K,asRange:j,asRanges:ne,asPosition:$,asDiagnosticSeverity:V,asDiagnosticTag:z,asHover:function Se(Re){if(Re)return new t.Hover(function Z(Re){if(S.string(Re))return M(Re);if(p.is(Re))return M().appendCodeblock(Re.value,Re.language);if(Array.isArray(Re)){let ct=[];for(let _n of Re){let Hn=M();p.is(_n)?Hn.appendCodeblock(_n.value,_n.language):Hn.appendMarkdown(_n),ct.push(Hn)}return ct}return M(Re)}(Re.contents),j(Re.range))},asCompletionResult:function Ee(Re,ct,_n){return Le.apply(this,arguments)},asCompletionItem:pe,asTextEdit:ze,asTextEdits:$e,asSignatureHelp:function nt(Re,ct){return Dt.apply(this,arguments)},asSignatureInformations:Lt,asSignatureInformation:ae,asParameterInformations:he,asParameterInformation:le,asDeclarationResult:function ve(Re,ct){return Ae.apply(this,arguments)},asDefinitionResult:function dt(Re,ct){return st.apply(this,arguments)},asLocation:Q,asReferences:function vt(Re,ct){return mt.apply(this,arguments)},asDocumentHighlights:function _t(Re,ct){return Kt.apply(this,arguments)},asDocumentHighlight:Bt,asDocumentHighlightKind:Ge,asSymbolKind:hn,asSymbolTag:Dn,asSymbolTags:wt,asSymbolInformations:function ut(Re,ct){return Ut.apply(this,arguments)},asSymbolInformation:je,asDocumentSymbols:function ye(Re,ct){return Me.apply(this,arguments)},asDocumentSymbol:ue,asCommand:qe,asCommands:function Fe(Re,ct){return ot.apply(this,arguments)},asCodeAction:Mn,asCodeActionKind:Ht,asCodeActionKinds:function vn(Re){if(null!=Re)return Re.map(ct=>Ht(ct))},asCodeActionResult:function fn(Re,ct){return v.mapAsync(Re,function(){var _n=d(function*(Hn){return l.Command.is(Hn)?qe(Hn):Mn(Hn,ct)});return function(Hn){return _n.apply(this,arguments)}}(),ct)},asCodeLens:Vn,asCodeLenses:function yn(Re,ct){return zn.apply(this,arguments)},asWorkspaceEdit:li,asDocumentLink:so,asDocumentLinks:function oo(Re,ct){return xo.apply(this,arguments)},asFoldingRangeKind:jt,asFoldingRange:en,asFoldingRanges:function rn(Re,ct){return gn.apply(this,arguments)},asColor:ro,asColorInformation:_o,asColorInformations:function mo(Re,ct){return si.apply(this,arguments)},asColorPresentation:Qt,asColorPresentations:function pt(Re,ct){return ft.apply(this,arguments)},asSelectionRange:An,asSelectionRanges:function jn(Re,ct){return Qn.apply(this,arguments)},asInlineValue:wi,asInlineValues:function xi(Re,ct){return no.apply(this,arguments)},asInlayHint:Oi,asInlayHints:function yo(Re,ct){return Go.apply(this,arguments)},asSemanticTokensLegend:function xn(Re){return Re},asSemanticTokens:function Fn(Re,ct){return dn.apply(this,arguments)},asSemanticTokensEdit:gt,asSemanticTokensEdits:function sn(Re,ct){return nn.apply(this,arguments)},asCallHierarchyItem:Po,asCallHierarchyItems:function wo(Re,ct){return Do.apply(this,arguments)},asCallHierarchyIncomingCall:to,asCallHierarchyIncomingCalls:function Oo(Re,ct){return ai.apply(this,arguments)},asCallHierarchyOutgoingCall:Yt,asCallHierarchyOutgoingCalls:function ln(Re,ct){return On.apply(this,arguments)},asLinkedEditingRanges:function Pn(Re,ct){return En.apply(this,arguments)},asTypeHierarchyItem:Rt,asTypeHierarchyItems:function Vt(Re,ct){return Zt.apply(this,arguments)},asGlobPattern:function Cn(Re){if(S.string(Re))return Re;if(l.RelativePattern.is(Re)){if(l.URI.is(Re.baseUri))return new t.RelativePattern(I(Re.baseUri),Re.pattern);if(l.WorkspaceFolder.is(Re.baseUri)){const ct=t.workspace.getWorkspaceFolder(I(Re.baseUri.uri));return void 0!==ct?new t.RelativePattern(ct,Re.pattern):void 0}}}}}},1426:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.ProtocolDiagnostic=X.DiagnosticCode=void 0;const d=e(78708),t=e(81072);(X.DiagnosticCode||(X.DiagnosticCode={})).is=function T(C){const E=C;return null!=E&&(t.number(E.value)||t.string(E.value))&&t.string(E.target)},X.ProtocolDiagnostic=class S extends d.Diagnostic{constructor(T,C,E,L){super(T,C,E),this.data=L,this.hasDiagnosticCode=!1}}},95388:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});const d=e(78708);X.default=class t extends d.DocumentLink{constructor(S,v){super(S,v)}}},30674:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});const d=e(78708);X.default=class t extends d.InlayHint{constructor(S,v,T){super(S,v,T)}}},90244:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});const d=e(78708);X.default=class t extends d.TypeHierarchyItem{constructor(S,v,T,C,E,L,_){super(S,v,T,C,E,L),void 0!==_&&(this.data=_)}}},52251:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});const d=e(78708);X.default=class t extends d.SymbolInformation{constructor(S,v,T,C,E){const L=!(C instanceof d.Uri);super(S,v,T,L?C:new d.Location(C,new d.Range(0,0,0,0))),this.hasRange=L,void 0!==E&&(this.data=E)}}},19323:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.ReferencesFeature=void 0;const d=e(78708),t=e(85055),l=e(37062),S=e(2766);X.ReferencesFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,t.ReferencesRequest.type)}fillClientCapabilities(C){(0,l.ensure)((0,l.ensure)(C,"textDocument"),"references").dynamicRegistration=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.referencesProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const L={provideReferences:(_,s,m,c)=>{const n=this._client,a=(u,g,b,y)=>n.sendRequest(t.ReferencesRequest.type,n.code2ProtocolConverter.asReferenceParams(u,g,b),y).then(D=>y.isCancellationRequested?null:n.protocol2CodeConverter.asReferences(D,y),D=>n.handleFailedRequest(t.ReferencesRequest.type,y,D,null)),p=n.middleware;return p.provideReferences?p.provideReferences(_,s,m,c,a):a(_,s,m,c)}};return[this.registerProvider(C.documentSelector,L),L]}registerProvider(C,E){return d.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},24146:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.RenameFeature=void 0;const d=e(78708),t=e(85055),l=e(2766),S=e(81072),v=e(37062);X.RenameFeature=class T extends v.TextDocumentLanguageFeature{constructor(E){super(E,t.RenameRequest.type)}fillClientCapabilities(E){let L=(0,v.ensure)((0,v.ensure)(E,"textDocument"),"rename");L.dynamicRegistration=!0,L.prepareSupport=!0,L.prepareSupportDefaultBehavior=t.PrepareSupportDefaultBehavior.Identifier,L.honorsChangeAnnotations=!0}initialize(E,L){const _=this.getRegistrationOptions(L,E.renameProvider);!_||(S.boolean(E.renameProvider)&&(_.prepareProvider=!1),this.register({id:l.generateUuid(),registerOptions:_}))}registerLanguageProvider(E){const _={provideRenameEdits:(s,m,c,n)=>{const a=this._client,p=(g,b,y,D)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g),position:a.code2ProtocolConverter.asPosition(b),newName:y};return a.sendRequest(t.RenameRequest.type,w,D).then(I=>D.isCancellationRequested?null:a.protocol2CodeConverter.asWorkspaceEdit(I,D),I=>a.handleFailedRequest(t.RenameRequest.type,D,I,null,!1))},u=a.middleware;return u.provideRenameEdits?u.provideRenameEdits(s,m,c,n,p):p(s,m,c,n)},prepareRename:E.prepareProvider?(s,m,c)=>{const n=this._client,a=(u,g,b)=>{let y={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(u),position:n.code2ProtocolConverter.asPosition(g)};return n.sendRequest(t.PrepareRenameRequest.type,y,b).then(D=>b.isCancellationRequested?null:t.Range.is(D)?n.protocol2CodeConverter.asRange(D):this.isDefaultBehavior(D)?!0===D.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):D&&t.Range.is(D.range)?{range:n.protocol2CodeConverter.asRange(D.range),placeholder:D.placeholder}:Promise.reject(new Error("The element can't be renamed.")),D=>{throw"string"==typeof D.message?new Error(D.message):new Error("The element can't be renamed.")})},p=n.middleware;return p.prepareRename?p.prepareRename(s,m,c,a):a(s,m,c)}:void 0};return[this.registerProvider(E.documentSelector,_),_]}registerProvider(E,L){return d.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(E),L)}isDefaultBehavior(E){return E&&S.boolean(E.defaultBehavior)}}},88139:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.SelectionRangeFeature=void 0;const t=e(78708),l=e(85055),S=e(37062);X.SelectionRangeFeature=class v extends S.TextDocumentLanguageFeature{constructor(C){super(C,l.SelectionRangeRequest.type)}fillClientCapabilities(C){(0,S.ensure)((0,S.ensure)(C,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(C,E){const[L,_]=this.getRegistration(E,C.selectionRangeProvider);!L||!_||this.register({id:L,registerOptions:_})}registerLanguageProvider(C){const L={provideSelectionRanges:(_,s,m)=>{const c=this._client,n=function(){var p=d(function*(u,g,b){const y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(u),positions:yield c.code2ProtocolConverter.asPositions(g,b)};return c.sendRequest(l.SelectionRangeRequest.type,y,b).then(D=>b.isCancellationRequested?null:c.protocol2CodeConverter.asSelectionRanges(D,b),D=>c.handleFailedRequest(l.SelectionRangeRequest.type,b,D,null))});return function(g,b,y){return p.apply(this,arguments)}}(),a=c.middleware;return a.provideSelectionRanges?a.provideSelectionRanges(_,s,m,n):n(_,s,m)}};return[this.registerProvider(C.documentSelector,L),L]}registerProvider(C,E){return t.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(C),E)}}},35234:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.SemanticTokensFeature=void 0;const t=e(78708),l=e(85055),S=e(37062),v=e(81072);X.SemanticTokensFeature=class T extends S.TextDocumentLanguageFeature{constructor(E){super(E,l.SemanticTokensRegistrationType.type)}fillClientCapabilities(E){const L=(0,S.ensure)((0,S.ensure)(E,"textDocument"),"semanticTokens");L.dynamicRegistration=!0,L.tokenTypes=[l.SemanticTokenTypes.namespace,l.SemanticTokenTypes.type,l.SemanticTokenTypes.class,l.SemanticTokenTypes.enum,l.SemanticTokenTypes.interface,l.SemanticTokenTypes.struct,l.SemanticTokenTypes.typeParameter,l.SemanticTokenTypes.parameter,l.SemanticTokenTypes.variable,l.SemanticTokenTypes.property,l.SemanticTokenTypes.enumMember,l.SemanticTokenTypes.event,l.SemanticTokenTypes.function,l.SemanticTokenTypes.method,l.SemanticTokenTypes.macro,l.SemanticTokenTypes.keyword,l.SemanticTokenTypes.modifier,l.SemanticTokenTypes.comment,l.SemanticTokenTypes.string,l.SemanticTokenTypes.number,l.SemanticTokenTypes.regexp,l.SemanticTokenTypes.operator,l.SemanticTokenTypes.decorator],L.tokenModifiers=[l.SemanticTokenModifiers.declaration,l.SemanticTokenModifiers.definition,l.SemanticTokenModifiers.readonly,l.SemanticTokenModifiers.static,l.SemanticTokenModifiers.deprecated,l.SemanticTokenModifiers.abstract,l.SemanticTokenModifiers.async,l.SemanticTokenModifiers.modification,l.SemanticTokenModifiers.documentation,l.SemanticTokenModifiers.defaultLibrary],L.formats=[l.TokenFormat.Relative],L.requests={range:!0,full:{delta:!0}},L.multilineTokenSupport=!1,L.overlappingTokenSupport=!1,L.serverCancelSupport=!0,L.augmentsSyntaxTokens=!0,(0,S.ensure)((0,S.ensure)(E,"workspace"),"semanticTokens").refreshSupport=!0}initialize(E,L){var _=this;this._client.onRequest(l.SemanticTokensRefreshRequest.type,d(function*(){for(const n of _.getAllProviders())n.onDidChangeSemanticTokensEmitter.fire()}));const[m,c]=this.getRegistration(L,E.semanticTokensProvider);!m||!c||this.register({id:m,registerOptions:c})}registerLanguageProvider(E){const L=E.documentSelector,_=v.boolean(E.full)?E.full:void 0!==E.full,s=void 0!==E.full&&"boolean"!=typeof E.full&&!0===E.full.delta,m=new t.EventEmitter,c=_?{onDidChangeSemanticTokens:m.event,provideDocumentSemanticTokens:(y,D)=>{const w=this._client,I=w.middleware,P=(O,H)=>{const U={textDocument:w.code2ProtocolConverter.asTextDocumentIdentifier(O)};return w.sendRequest(l.SemanticTokensRequest.type,U,H).then(K=>H.isCancellationRequested?null:w.protocol2CodeConverter.asSemanticTokens(K,H),K=>w.handleFailedRequest(l.SemanticTokensRequest.type,H,K,null))};return I.provideDocumentSemanticTokens?I.provideDocumentSemanticTokens(y,D,P):P(y,D)},provideDocumentSemanticTokensEdits:s?(y,D,w)=>{const I=this._client,P=I.middleware,O=(H,U,K)=>{const F={textDocument:I.code2ProtocolConverter.asTextDocumentIdentifier(H),previousResultId:U};return I.sendRequest(l.SemanticTokensDeltaRequest.type,F,K).then(function(){var B=d(function*(z){return K.isCancellationRequested?null:l.SemanticTokens.is(z)?yield I.protocol2CodeConverter.asSemanticTokens(z,K):yield I.protocol2CodeConverter.asSemanticTokensEdits(z,K)});return function(z){return B.apply(this,arguments)}}(),B=>I.handleFailedRequest(l.SemanticTokensDeltaRequest.type,K,B,null))};return P.provideDocumentSemanticTokensEdits?P.provideDocumentSemanticTokensEdits(y,D,w,O):O(y,D,w)}:void 0}:void 0,a=!0===E.range?{provideDocumentRangeSemanticTokens:(y,D,w)=>{const I=this._client,P=I.middleware,O=(H,U,K)=>{const F={textDocument:I.code2ProtocolConverter.asTextDocumentIdentifier(H),range:I.code2ProtocolConverter.asRange(U)};return I.sendRequest(l.SemanticTokensRangeRequest.type,F,K).then(B=>K.isCancellationRequested?null:I.protocol2CodeConverter.asSemanticTokens(B,K),B=>I.handleFailedRequest(l.SemanticTokensRangeRequest.type,K,B,null))};return P.provideDocumentRangeSemanticTokens?P.provideDocumentRangeSemanticTokens(y,D,w,O):O(y,D,w)}}:void 0,p=[],u=this._client,g=u.protocol2CodeConverter.asSemanticTokensLegend(E.legend),b=u.protocol2CodeConverter.asDocumentSelector(L);return void 0!==c&&p.push(t.languages.registerDocumentSemanticTokensProvider(b,c,g)),void 0!==a&&p.push(t.languages.registerDocumentRangeSemanticTokensProvider(b,a,g)),[new t.Disposable(()=>p.forEach(y=>y.dispose())),{range:a,full:c,onDidChangeSemanticTokensEmitter:m}]}}},66808:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.SignatureHelpFeature=void 0;const d=e(78708),t=e(85055),l=e(37062),S=e(2766);X.SignatureHelpFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,t.SignatureHelpRequest.type)}fillClientCapabilities(C){let E=(0,l.ensure)((0,l.ensure)(C,"textDocument"),"signatureHelp");E.dynamicRegistration=!0,E.signatureInformation={documentationFormat:[t.MarkupKind.Markdown,t.MarkupKind.PlainText]},E.signatureInformation.parameterInformation={labelOffsetSupport:!0},E.signatureInformation.activeParameterSupport=!0,E.contextSupport=!0}initialize(C,E){const L=this.getRegistrationOptions(E,C.signatureHelpProvider);!L||this.register({id:S.generateUuid(),registerOptions:L})}registerLanguageProvider(C){const E={provideSignatureHelp:(L,_,s,m)=>{const c=this._client,n=(p,u,g,b)=>c.sendRequest(t.SignatureHelpRequest.type,c.code2ProtocolConverter.asSignatureHelpParams(p,u,g),b).then(y=>b.isCancellationRequested?null:c.protocol2CodeConverter.asSignatureHelp(y,b),y=>c.handleFailedRequest(t.SignatureHelpRequest.type,b,y,null)),a=c.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(L,_,m,s,n):n(L,_,m,s)}};return[this.registerProvider(C,E),E]}registerProvider(C,E){const L=this._client.protocol2CodeConverter.asDocumentSelector(C.documentSelector);return void 0===C.retriggerCharacters?d.languages.registerSignatureHelpProvider(L,E,...C.triggerCharacters||[]):d.languages.registerSignatureHelpProvider(L,E,{triggerCharacters:C.triggerCharacters||[],retriggerCharacters:C.retriggerCharacters||[]})}}},5074:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.DidSaveTextDocumentFeature=X.WillSaveWaitUntilFeature=X.WillSaveFeature=X.DidChangeTextDocumentFeature=X.DidCloseTextDocumentFeature=X.DidOpenTextDocumentFeature=void 0;const t=e(78708),l=e(85055),S=e(37062),v=e(8787),T=e(2766);X.DidOpenTextDocumentFeature=class C extends S.TextDocumentEventFeature{constructor(n,a){super(n,t.workspace.onDidOpenTextDocument,l.DidOpenTextDocumentNotification.type,()=>n.middleware.didOpen,p=>n.code2ProtocolConverter.asOpenTextDocumentParams(p),p=>p,S.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=a}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(n){(0,S.ensure)((0,S.ensure)(n,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(n,a){const p=n.resolvedTextDocumentSync;a&&p&&p.openClose&&this.register({id:T.generateUuid(),registerOptions:{documentSelector:a}})}get registrationType(){return l.DidOpenTextDocumentNotification.type}register(n){if(super.register(n),!n.registerOptions.documentSelector)return;const a=this._client.protocol2CodeConverter.asDocumentSelector(n.registerOptions.documentSelector);t.workspace.textDocuments.forEach(p=>{const u=p.uri.toString();if(!this._syncedDocuments.has(u)&&t.languages.match(a,p)>0&&!this._client.hasDedicatedTextSynchronizationFeature(p)){const g=this._client.middleware,b=y=>this._client.sendNotification(this._type,this._createParams(y));(g.didOpen?g.didOpen(p,b):b(p)).catch(y=>{this._client.error(`Sending document notification ${this._type.method} failed`,y)}),this._syncedDocuments.set(u,p)}})}notificationSent(n,a,p){super.notificationSent(n,a,p),this._syncedDocuments.set(n.uri.toString(),n)}},X.DidCloseTextDocumentFeature=class E extends S.TextDocumentEventFeature{constructor(n,a){super(n,t.workspace.onDidCloseTextDocument,l.DidCloseTextDocumentNotification.type,()=>n.middleware.didClose,p=>n.code2ProtocolConverter.asCloseTextDocumentParams(p),p=>p,S.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=a}get registrationType(){return l.DidCloseTextDocumentNotification.type}fillClientCapabilities(n){(0,S.ensure)((0,S.ensure)(n,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(n,a){let p=n.resolvedTextDocumentSync;a&&p&&p.openClose&&this.register({id:T.generateUuid(),registerOptions:{documentSelector:a}})}notificationSent(n,a,p){super.notificationSent(n,a,p),this._syncedDocuments.delete(n.uri.toString())}unregister(n){const a=this._selectors.get(n);super.unregister(n);const p=this._selectors.values();this._syncedDocuments.forEach(u=>{if(t.languages.match(a,u)>0&&!this._selectorFilter(p,u)&&!this._client.hasDedicatedTextSynchronizationFeature(u)){let g=this._client.middleware,b=y=>this._client.sendNotification(this._type,this._createParams(y));this._syncedDocuments.delete(u.uri.toString()),(g.didClose?g.didClose(u,b):b(u)).catch(y=>{this._client.error(`Sending document notification ${this._type.method} failed`,y)})}})}},X.DidChangeTextDocumentFeature=class L extends S.DynamicDocumentFeature{constructor(n){super(n),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new t.EventEmitter}get registrationType(){return l.DidChangeTextDocumentNotification.type}fillClientCapabilities(n){(0,S.ensure)((0,S.ensure)(n,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(n,a){let p=n.resolvedTextDocumentSync;a&&p&&void 0!==p.change&&p.change!==l.TextDocumentSyncKind.None&&this.register({id:T.generateUuid(),registerOptions:Object.assign({},{documentSelector:a},{syncKind:p.change})})}register(n){!n.registerOptions.documentSelector||(this._listener||(this._listener=t.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(n.id,{syncKind:n.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(n.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(const n of this._changeData.values())yield n.documentSelector}callback(n){var a=this;return d(function*(){if(0===n.contentChanges.length)return;const p=[];for(const u of a._changeData.values())if(t.languages.match(u.documentSelector,n.document)>0&&!a._client.hasDedicatedTextSynchronizationFeature(n.document)){const g=a._client.middleware;if(u.syncKind===l.TextDocumentSyncKind.Incremental){const b=function(){var y=d(function*(D){const w=a._client.code2ProtocolConverter.asChangeTextDocumentParams(D);yield a._client.sendNotification(l.DidChangeTextDocumentNotification.type,w),a.notificationSent(D,l.DidChangeTextDocumentNotification.type,w)});return function(w){return y.apply(this,arguments)}}();p.push(g.didChange?g.didChange(n,y=>b(y)):b(n))}else if(u.syncKind===l.TextDocumentSyncKind.Full){const b=function(){var y=d(function*(D){const w=function(){var I=d(function*(P){const O=a._client.code2ProtocolConverter.asChangeTextDocumentParams(P.document);yield a._client.sendNotification(l.DidChangeTextDocumentNotification.type,O),a.notificationSent(P,l.DidChangeTextDocumentNotification.type,O)});return function(O){return I.apply(this,arguments)}}();return a._changeDelayer?(a._changeDelayer.uri!==D.document.uri.toString()&&(yield a.forceDelivery(),a._changeDelayer.uri=D.document.uri.toString()),a._changeDelayer.delayer.trigger(()=>w(D))):(a._changeDelayer={uri:D.document.uri.toString(),delayer:new v.Delayer(200)},a._changeDelayer.delayer.trigger(()=>w(D),-1))});return function(w){return y.apply(this,arguments)}}();p.push(g.didChange?g.didChange(n,y=>b(y)):b(n))}}return Promise.all(p).then(void 0,u=>{throw a._client.error(`Sending document notification ${l.DidChangeTextDocumentNotification.type.method} failed`,u),u})})()}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(n,a,p){this._onNotificationSent.fire({original:n,type:a,params:p})}unregister(n){this._changeData.delete(n),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){var n=this;return d(function*(){if(!n._forcingDelivery&&n._changeDelayer)try{return n._forcingDelivery=!0,n._changeDelayer.delayer.forceDelivery()}finally{n._forcingDelivery=!1}})()}getProvider(n){for(const a of this._changeData.values())if(t.languages.match(a.documentSelector,n)>0)return{send:p=>this.callback(p)}}},X.WillSaveFeature=class _ extends S.TextDocumentEventFeature{constructor(n){super(n,t.workspace.onWillSaveTextDocument,l.WillSaveTextDocumentNotification.type,()=>n.middleware.willSave,a=>n.code2ProtocolConverter.asWillSaveTextDocumentParams(a),a=>a.document,(a,p)=>S.TextDocumentEventFeature.textDocumentFilter(a,p.document))}get registrationType(){return l.WillSaveTextDocumentNotification.type}fillClientCapabilities(n){(0,S.ensure)((0,S.ensure)(n,"textDocument"),"synchronization").willSave=!0}initialize(n,a){let p=n.resolvedTextDocumentSync;a&&p&&p.willSave&&this.register({id:T.generateUuid(),registerOptions:{documentSelector:a}})}},X.WillSaveWaitUntilFeature=class s extends S.DynamicDocumentFeature{constructor(n){super(n),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return l.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(n){(0,S.ensure)((0,S.ensure)(n,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(n,a){let p=n.resolvedTextDocumentSync;a&&p&&p.willSaveWaitUntil&&this.register({id:T.generateUuid(),registerOptions:{documentSelector:a}})}register(n){!n.registerOptions.documentSelector||(this._listener||(this._listener=t.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(n.id,this._client.protocol2CodeConverter.asDocumentSelector(n.registerOptions.documentSelector)))}callback(n){var a=this;if(S.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),n.document)&&!this._client.hasDedicatedTextSynchronizationFeature(n.document)){let p=this._client.middleware,u=g=>this._client.sendRequest(l.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(g)).then(function(){var b=d(function*(y){let D=yield a._client.protocol2CodeConverter.asTextEdits(y);return void 0===D?[]:D});return function(y){return b.apply(this,arguments)}}());n.waitUntil(p.willSaveWaitUntil?p.willSaveWaitUntil(n,u):u(n))}}unregister(n){this._selectors.delete(n),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}},X.DidSaveTextDocumentFeature=class m extends S.TextDocumentEventFeature{constructor(n){super(n,t.workspace.onDidSaveTextDocument,l.DidSaveTextDocumentNotification.type,()=>n.middleware.didSave,a=>n.code2ProtocolConverter.asSaveTextDocumentParams(a,this._includeText),a=>a,S.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return l.DidSaveTextDocumentNotification.type}fillClientCapabilities(n){(0,S.ensure)((0,S.ensure)(n,"textDocument"),"synchronization").didSave=!0}initialize(n,a){const p=n.resolvedTextDocumentSync;if(a&&p&&p.save){const u="boolean"==typeof p.save?{includeText:!1}:{includeText:!!p.save.includeText};this.register({id:T.generateUuid(),registerOptions:Object.assign({},{documentSelector:a},u)})}}register(n){this._includeText=!!n.registerOptions.includeText,super.register(n)}}},77917:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.TypeDefinitionFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);X.TypeDefinitionFeature=class S extends l.TextDocumentLanguageFeature{constructor(T){super(T,t.TypeDefinitionRequest.type)}fillClientCapabilities(T){(0,l.ensure)((0,l.ensure)(T,"textDocument"),"typeDefinition").dynamicRegistration=!0;let C=(0,l.ensure)((0,l.ensure)(T,"textDocument"),"typeDefinition");C.dynamicRegistration=!0,C.linkSupport=!0}initialize(T,C){let[E,L]=this.getRegistration(C,T.typeDefinitionProvider);!E||!L||this.register({id:E,registerOptions:L})}registerLanguageProvider(T){const E={provideTypeDefinition:(L,_,s)=>{const m=this._client,c=(a,p,u)=>m.sendRequest(t.TypeDefinitionRequest.type,m.code2ProtocolConverter.asTextDocumentPositionParams(a,p),u).then(g=>u.isCancellationRequested?null:m.protocol2CodeConverter.asDefinitionResult(g,u),g=>m.handleFailedRequest(t.TypeDefinitionRequest.type,u,g,null)),n=m.middleware;return n.provideTypeDefinition?n.provideTypeDefinition(L,_,s,c):c(L,_,s)}};return[this.registerProvider(T.documentSelector,E),E]}registerProvider(T,C){return d.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(T),C)}}},92802:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.TypeHierarchyFeature=void 0;const d=e(78708),t=e(85055),l=e(37062);class S{constructor(C){this.client=C,this.middleware=C.middleware}prepareTypeHierarchy(C,E,L){const _=this.client,s=this.middleware,m=(c,n,a)=>{const p=_.code2ProtocolConverter.asTextDocumentPositionParams(c,n);return _.sendRequest(t.TypeHierarchyPrepareRequest.type,p,a).then(u=>a.isCancellationRequested?null:_.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>_.handleFailedRequest(t.TypeHierarchyPrepareRequest.type,a,u,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(C,E,L,m):m(C,E,L)}provideTypeHierarchySupertypes(C,E){const L=this.client,_=this.middleware,s=(m,c)=>{const n={item:L.code2ProtocolConverter.asTypeHierarchyItem(m)};return L.sendRequest(t.TypeHierarchySupertypesRequest.type,n,c).then(a=>c.isCancellationRequested?null:L.protocol2CodeConverter.asTypeHierarchyItems(a,c),a=>L.handleFailedRequest(t.TypeHierarchySupertypesRequest.type,c,a,null))};return _.provideTypeHierarchySupertypes?_.provideTypeHierarchySupertypes(C,E,s):s(C,E)}provideTypeHierarchySubtypes(C,E){const L=this.client,_=this.middleware,s=(m,c)=>{const n={item:L.code2ProtocolConverter.asTypeHierarchyItem(m)};return L.sendRequest(t.TypeHierarchySubtypesRequest.type,n,c).then(a=>c.isCancellationRequested?null:L.protocol2CodeConverter.asTypeHierarchyItems(a,c),a=>L.handleFailedRequest(t.TypeHierarchySubtypesRequest.type,c,a,null))};return _.provideTypeHierarchySubtypes?_.provideTypeHierarchySubtypes(C,E,s):s(C,E)}}X.TypeHierarchyFeature=class v extends l.TextDocumentLanguageFeature{constructor(C){super(C,t.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(C){(0,l.ensure)((0,l.ensure)(C,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(C,E){const[L,_]=this.getRegistration(E,C.typeHierarchyProvider);!L||!_||this.register({id:L,registerOptions:_})}registerLanguageProvider(C){const E=this._client,L=new S(E);return[d.languages.registerTypeHierarchyProvider(E.protocol2CodeConverter.asDocumentSelector(C.documentSelector),L),L]}}},8787:(Et,X,e)=>{"use strict";var d=e(328).default;Object.defineProperty(X,"__esModule",{value:!0}),X.forEach=X.mapAsync=X.map=X.clearTestMode=X.setTestMode=X.Semaphore=X.Delayer=void 0;const t=e(85055);X.Delayer=class l{constructor(u){this.defaultDelay=u,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(u,g=this.defaultDelay){return this.task=u,g>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(b=>{this.onSuccess=b}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var b=this.task();return this.task=void 0,b})),(g>=0||void 0===this.timeout)&&(this.timeout=(0,t.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},g>=0?g:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let u=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,u}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},X.Semaphore=class S{constructor(u=1){if(u<=0)throw new Error("Capacity must be greater than 0");this._capacity=u,this._active=0,this._waiting=[]}lock(u){return new Promise((g,b)=>{this._waiting.push({thunk:u,resolve:g,reject:b}),this.runNext()})}get active(){return this._active}runNext(){0===this._waiting.length||this._active===this._capacity||(0,t.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const u=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const g=u.thunk();g instanceof Promise?g.then(b=>{this._active--,u.resolve(b),this.runNext()},b=>{this._active--,u.reject(b),this.runNext()}):(this._active--,u.resolve(g),this.runNext())}catch(g){this._active--,u.reject(g),this.runNext()}}};let v=!1;X.setTestMode=function T(){v=!0},X.clearTestMode=function C(){v=!1};class L{constructor(u=15){this.yieldAfter=!0===v?Math.max(u,2):Math.max(u,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const u=Date.now()-this.startTime,g=Math.max(0,this.yieldAfter-u);if(this.total+=this.counter,this.counter=0,u>=this.yieldAfter||g<=1)return this.counterInterval=1,this.total=0,!0;switch(u){case 0:case 1:this.counterInterval=2*this.total}}return!1}}function s(){return(s=d(function*(p,u,g,b){if(0===p.length)return[];const y=new Array(p.length),D=new L(b?.yieldAfter);function w(P){D.start();for(let O=P;O<p.length;O++)if(y[O]=u(p[O]),D.shouldYield())return b?.yieldCallback&&b.yieldCallback(),O+1;return-1}let I=w(0);for(;-1!==I&&(void 0===g||!g.isCancellationRequested);)I=yield new Promise(P=>{(0,t.RAL)().timer.setImmediate(()=>{P(w(I))})});return y})).apply(this,arguments)}function c(){return c=d(function*(p,u,g,b){if(0===p.length)return[];const y=new Array(p.length),D=new L(b?.yieldAfter);function w(O){return I.apply(this,arguments)}function I(){return(I=d(function*(O){D.start();for(let H=O;H<p.length;H++)if(y[H]=yield u(p[H],g),D.shouldYield())return b?.yieldCallback&&b.yieldCallback(),H+1;return-1})).apply(this,arguments)}let P=yield w(0);for(;-1!==P&&(void 0===g||!g.isCancellationRequested);)P=yield new Promise(O=>{(0,t.RAL)().timer.setImmediate(()=>{O(w(P))})});return y}),c.apply(this,arguments)}function a(){return(a=d(function*(p,u,g,b){if(0===p.length)return;const y=new L(b?.yieldAfter);function D(I){y.start();for(let P=I;P<p.length;P++)if(u(p[P]),y.shouldYield())return b?.yieldCallback&&b.yieldCallback(),P+1;return-1}let w=D(0);for(;-1!==w&&(void 0===g||!g.isCancellationRequested);)w=yield new Promise(I=>{(0,t.RAL)().timer.setImmediate(()=>{I(D(w))})})})).apply(this,arguments)}X.map=function _(p,u,g,b){return s.apply(this,arguments)},X.mapAsync=function m(p,u,g,b){return c.apply(this,arguments)},X.forEach=function n(p,u,g,b){return a.apply(this,arguments)}},81072:(Et,X)=>{"use strict";function d(_){return"string"==typeof _||_ instanceof String}function S(_){return"function"==typeof _}function v(_){return Array.isArray(_)}function E(_){return _&&S(_.then)}Object.defineProperty(X,"__esModule",{value:!0}),X.asPromise=X.thenable=X.typedArray=X.stringArray=X.array=X.func=X.error=X.number=X.string=X.boolean=void 0,X.boolean=function e(_){return!0===_||!1===_},X.string=d,X.number=function t(_){return"number"==typeof _||_ instanceof Number},X.error=function l(_){return _ instanceof Error},X.func=S,X.array=v,X.stringArray=function T(_){return v(_)&&_.every(s=>d(s))},X.typedArray=function C(_,s){return Array.isArray(_)&&_.every(s)},X.thenable=E,X.asPromise=function L(_){return _ instanceof Promise?_:E(_)?new Promise((s,m)=>{_.then(c=>s(c),c=>m(c))}):Promise.resolve(_)}},2766:(Et,X)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.generateUuid=X.parse=X.isUUID=X.v4=X.empty=void 0;class e{constructor(E){this._value=E}asHex(){return this._value}equals(E){return this.asHex()===E.asHex()}}let d=(()=>{class C extends e{constructor(){super([C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),"-",C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),"-","4",C._randomHex(),C._randomHex(),C._randomHex(),"-",C._oneOf(C._timeHighBits),C._randomHex(),C._randomHex(),C._randomHex(),"-",C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex(),C._randomHex()].join(""))}static _oneOf(L){return L[Math.floor(L.length*Math.random())]}static _randomHex(){return C._oneOf(C._chars)}}return C._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],C._timeHighBits=["8","9","a","b"],C})();function t(){return new d}X.empty=new e("00000000-0000-0000-0000-000000000000"),X.v4=t;const l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function S(C){return l.test(C)}X.isUUID=S,X.parse=function v(C){if(!S(C))throw new Error("invalid uuid");return new e(C)},X.generateUuid=function T(){return t().asHex()}},91433:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.WorkspaceFoldersFeature=X.arrayDiff=void 0;const d=e(2766),t=e(78708),l=e(85055);function S(C,E){if(void 0!==C)return C[E]}function v(C,E){return C.filter(L=>E.indexOf(L)<0)}X.arrayDiff=v,X.WorkspaceFoldersFeature=class T{constructor(E){this._client=E,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return l.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(E){const L=t.workspace.workspaceFolders;this.initializeWithFolders(L),E.workspaceFolders=void 0===L?null:L.map(_=>this.asProtocol(_))}initializeWithFolders(E){this._initialFolders=E}fillClientCapabilities(E){E.workspace=E.workspace||{},E.workspace.workspaceFolders=!0}initialize(E){const L=this._client;L.onRequest(l.WorkspaceFoldersRequest.type,m=>{const c=()=>{const a=t.workspace.workspaceFolders;return void 0===a?null:a.map(u=>this.asProtocol(u))},n=L.middleware.workspace;return n&&n.workspaceFolders?n.workspaceFolders(m,c):c()});const _=S(S(S(E,"workspace"),"workspaceFolders"),"changeNotifications");let s;"string"==typeof _?s=_:!0===_&&(s=d.generateUuid()),s&&this.register({id:s,registerOptions:void 0})}sendInitialEvent(E){let L;if(this._initialFolders&&E){const _=v(this._initialFolders,E),s=v(E,this._initialFolders);(s.length>0||_.length>0)&&(L=this.doSendEvent(s,_))}else this._initialFolders?L=this.doSendEvent([],this._initialFolders):E&&(L=this.doSendEvent(E,[]));void 0!==L&&L.catch(_=>{this._client.error(`Sending notification ${l.DidChangeWorkspaceFoldersNotification.type.method} failed`,_)})}doSendEvent(E,L){let _={event:{added:E.map(s=>this.asProtocol(s)),removed:L.map(s=>this.asProtocol(s))}};return this._client.sendNotification(l.DidChangeWorkspaceFoldersNotification.type,_)}register(E){let L=E.id,_=this._client,s=t.workspace.onDidChangeWorkspaceFolders(m=>{let c=p=>this.doSendEvent(p.added,p.removed),n=_.middleware.workspace;(n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(m,c):c(m)).catch(p=>{this._client.error(`Sending notification ${l.DidChangeWorkspaceFoldersNotification.type.method} failed`,p)})});this._listeners.set(L,s),this.sendInitialEvent(t.workspace.workspaceFolders)}unregister(E){let L=this._listeners.get(E);void 0!==L&&(this._listeners.delete(E),L.dispose())}dispose(){for(let E of this._listeners.values())E.dispose();this._listeners.clear()}asProtocol(E){return void 0===E?null:{uri:this._client.code2ProtocolConverter.asUri(E.uri),name:E.name}}}},97837:(Et,X,e)=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0}),X.WorkspaceSymbolFeature=void 0;const d=e(78708),t=e(85055),l=e(37062),S=e(8203),v=e(2766);X.WorkspaceSymbolFeature=class T extends l.WorkspaceFeature{constructor(E){super(E,t.WorkspaceSymbolRequest.type)}fillClientCapabilities(E){let L=(0,l.ensure)((0,l.ensure)(E,"workspace"),"symbol");L.dynamicRegistration=!0,L.symbolKind={valueSet:S.SupportedSymbolKinds},L.tagSupport={valueSet:S.SupportedSymbolTags},L.resolveSupport={properties:["location.range"]}}initialize(E){!E.workspaceSymbolProvider||this.register({id:v.generateUuid(),registerOptions:!0===E.workspaceSymbolProvider?{workDoneProgress:!1}:E.workspaceSymbolProvider})}registerLanguageProvider(E){const L={provideWorkspaceSymbols:(_,s)=>{const m=this._client,c=(a,p)=>m.sendRequest(t.WorkspaceSymbolRequest.type,{query:a},p).then(u=>p.isCancellationRequested?null:m.protocol2CodeConverter.asSymbolInformations(u,p),u=>m.handleFailedRequest(t.WorkspaceSymbolRequest.type,p,u,null)),n=m.middleware;return n.provideWorkspaceSymbols?n.provideWorkspaceSymbols(_,s,c):c(_,s)},resolveWorkspaceSymbol:!0===E.resolveProvider?(_,s)=>{const m=this._client,c=(a,p)=>m.sendRequest(t.WorkspaceSymbolResolveRequest.type,m.code2ProtocolConverter.asWorkspaceSymbol(a),p).then(u=>p.isCancellationRequested?null:m.protocol2CodeConverter.asSymbolInformation(u),u=>m.handleFailedRequest(t.WorkspaceSymbolResolveRequest.type,p,u,null)),n=m.middleware;return n.resolveWorkspaceSymbol?n.resolveWorkspaceSymbol(_,s,c):c(_,s)}:void 0};return[d.languages.registerWorkspaceSymbolProvider(L),L]}}},4938:(Et,X,e)=>{"use strict";Et.exports=e(85055)},46057:function(Et,X,e){"use strict";var d=this&&this.__createBinding||(Object.create?function(v,T,C,E){void 0===E&&(E=C);var L=Object.getOwnPropertyDescriptor(T,C);(!L||("get"in L?!T.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return T[C]}}),Object.defineProperty(v,E,L)}:function(v,T,C,E){void 0===E&&(E=C),v[E]=T[C]}),t=this&&this.__exportStar||function(v,T){for(var C in v)"default"!==C&&!Object.prototype.hasOwnProperty.call(T,C)&&d(T,v,C)};Object.defineProperty(X,"__esModule",{value:!0}),X.LSPErrorCodes=X.createProtocolConnection=void 0,t(e(34154),X),t(e(20479),X),t(e(41500),X),t(e(25561),X);var v,l=e(27360);Object.defineProperty(X,"createProtocolConnection",{enumerable:!0,get:function(){return l.createProtocolConnection}}),(v=X.LSPErrorCodes||(X.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,v.RequestFailed=-32803,v.ServerCancelled=-32802,v.ContentModified=-32801,v.RequestCancelled=-32800,v.lspReservedErrorRangeEnd=-32800},27651:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.6;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-label {\n\tmargin-right: 1px;\n}\n",""]);const T=v},38022:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}",""]);const T=v},91169:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown.disabled {\n\tcursor: default;\n}\n\n.monaco-button-dropdown > .monaco-button:focus {\n\toutline-offset: -1px !important;\n}\n\n.monaco-button-dropdown.disabled > .monaco-button.disabled,\n.monaco-button-dropdown.disabled > .monaco-button.disabled:focus,\n.monaco-button-dropdown.disabled > .monaco-button-dropdown-separator {\n\topacity: 0.4 !important;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-text-button {\n\tborder-right-width: 0 !important;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator {\n\tpadding: 4px 0;\n\tcursor: default;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator > div {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-dropdown-button {\n\tborder-left-width: 0 !important;\n}\n\n.monaco-description-button {\n\tflex-direction: column;\n}\n\n.monaco-description-button .monaco-button-label {\n\tfont-weight: 500;\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description\n{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon\n{\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n",""]);const T=v},21756:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n",""]);const T=v},72981:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: "codicon";\n\tfont-display: block;\n\tsrc: url(./codicon.ttf) format("truetype");\n}\n\n.codicon[class*=\'codicon-\'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n',""]);const T=v},99166:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tcolor: inherit;\n}\n",""]);const T=v},12003:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n",""]);const T=v},35437:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const T=v},4316:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n\n.monaco-findInput {\n\tposition: relative;\n}\n\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls,\n.hc-light .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n\n.monaco-findInput.highlight-1 .controls,\n.hc-light .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n",""]);const T=v},70994:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tbox-sizing: initial;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: 500px;\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul {\n\tmargin: 8px 0;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: pre-wrap;\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n",""]);const T=v},64047:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n",""]);const T=v},4260:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox.idle {\n\tborder: 1px solid transparent;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\t-ms-overflow-style: none; /* IE 10+: hide scrollbars */\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n",""]);const T=v},30333:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n",""]);const T=v},87253:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Filter */\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n",""]);const T=v},26390:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n",""]);const T=v},71689:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n",""]);const T=v},43226:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--sash-size) * 2);\n\twidth: calc(var(--sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--sash-size) * -0.5);\n\ttop: calc(var(--sash-size) * -1);\n}\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--sash-size) * -0.5);\n\tbottom: calc(var(--sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--sash-size) * -0.5);\n\tleft: calc(var(--sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--sash-size) * -0.5);\n\tright: calc(var(--sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\ttransition: background-color 0.1s ease-out;\n\tbackground: transparent;\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--sash-hover-size);\n\tleft: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--sash-hover-size);\n\ttop: calc(50% - (var(--sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n",""]);const T=v},43586:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n",""]);const T=v},9740:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n",""]);const T=v},95957:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-table > .monaco-split-view2,\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n/*\n.monaco-table:hover > .monaco-split-view2,\n.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\tborder-color: rgba(204, 204, 204, 0.2);\n} */\n',""]);const T=v},78322:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-toggle {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-custom-toggle:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-toggle,\n.hc-light .monaco-custom-toggle {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tbackground: none;\n}\n\n.monaco-custom-toggle.monaco-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n.monaco-custom-toggle.monaco-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n",""]);const T=v},19114:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n\n.monaco-tree-type-filter {\n\tposition: absolute;\n\ttop: 0;\n\tdisplay: flex;\n\tpadding: 3px;\n\ttransition: top 0.3s;\n\tmax-width: 200px;\n\tz-index: 100;\n\tmargin: 0 6px;\n}\n\n.monaco-tree-type-filter.disabled {\n\ttop: -40px;\n}\n\n.monaco-tree-type-filter-grab {\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: grab;\n\tmargin-right: 2px;\n}\n\n.monaco-tree-type-filter-grab.grabbing {\n\tcursor: grabbing;\n}\n\n.monaco-tree-type-filter-input {\n\tflex: 1;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox {\n\theight: 23px;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .input,\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding: 2px 4px;\n}\n\n.monaco-tree-type-filter-input .monaco-findInput > .controls {\n\ttop: 2px;\n}\n\n.monaco-tree-type-filter-actionbar {\n\tmargin-left: 4px;\n}\n\n.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label {\n\tpadding: 2px;\n}\n",""]);const T=v},41015:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2550;\n\tleft: 50%;\n\tmargin-left: -300px;\n\t-webkit-app-region: no-drag;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 6px 6px 0px 6px;\n\tmargin-bottom: -2px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 27.5px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n\tmargin-top: 6px;\n\tpadding: 0px 1px 1px 1px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 0; /* reduce margins when input box hidden */\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 8px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n",""]);const T=v},31082:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n}\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n}*/\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n}\n",""]);const T=v},11625:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .blockDecorations-container {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .blockDecorations-block {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const T=v},69025:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n",""]);const T=v},83772:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}",""]);const T=v},30181:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n",""]);const T=v},74563:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const T=v},17609:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n",""]);const T=v},43475:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-editor.enable-user-select {\n\tuser-select: initial;\n\t-webkit-user-select: initial;\n\t-ms-user-select: initial;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n}\n\n/* TODO@tokenization bootstrap fix */\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n",""]);const T=v},3710:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}",""]);const T=v},80025:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""]);const T=v},47679:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n/* END cover the case that slider is visible on mouseover */\n\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n\n/* 0.5s fade in/out for the minimap */\n.minimap.autohide {\n\topacity: 0.0;\n\ttransition: opacity 0.5s;\n}\n.minimap.autohide:hover {\n\topacity: 1.0;\n}\n",""]);const T=v},11724:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}",""]);const T=v},4439:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n}",""]);const T=v},16858:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n}",""]);const T=v},5826:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n\n.monaco-editor.hc-light .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-light .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-light .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-light .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n",""]);const T=v},51595:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n}\n\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbox-sizing: border-box;\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n\tbox-sizing: border-box;\n}\n\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n",""]);const T=v},9324:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light\t.scrollbar { background: none; }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n.modified-in-monaco-diff-editor.hc-light\t.slider.active { background: none; }\n\n/* ---------- Diff ---------- */\n\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign,\n.monaco-editor.hc-light .insert-sign,\n.monaco-diff-editor.hc-light .insert-sign,\n.monaco-editor.hc-light .delete-sign,\n.monaco-diff-editor.hc-light .delete-sign {\n\topacity: 1;\n}\n\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n\n.monaco-editor .arrow-revert-change {\n\tz-index: 10;\n\tposition: absolute;\n}\n\n.monaco-editor .arrow-revert-change:hover {\n\tcursor: pointer;\n}\n\n/* ---------- Inline Diff ---------- */\n\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n",""]);const T=v},55704:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n",""]);const T=v},89009:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n/* I am not a big fan of this rule */\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n",""]);const T=v},22499:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n",""]);const T=v},38653:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n}\n",""]);const T=v},38393:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .contentWidgets .codicon-light-bulb,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .contentWidgets .codicon-light-bulb:hover,\n.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover {\n\tcursor: pointer;\n}\n",""]);const T=v},47538:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codeActionMenuWidget {\n\tpadding: 8px 0px 8px 0px;\n\toverflow: auto;\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n\tz-index: 40;\n\tdisplay: block;\n\t/* flex-direction: column;\n\tflex: 0 1 auto; */\n\twidth: 100%;\n\tborder-width: 0px;\n\tborder-color: none;\n\tbackground-color: var(--vscode-menu-background);\n\tcolor: var(--vscode-menu-foreground);\n\tbox-shadow: rgb(0,0,0, 16%) 0px 2px 8px;\n}\n\n.codeActionMenuWidget .monaco-list:not(.element-focused):focus:before {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 5; /* make sure we are on top of the tree items */\n\tcontent: "";\n\tpointer-events: none; /* enable click through */\n\toutline: 0px solid !important; /* we still need to handle the empty tree or no focus item case */\n\toutline-width: 0px !important;\n\toutline-style: none !important;\n\toutline-offset: 0px !important;\n}\n\n.codeActionMenuWidget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tborder: none !important;\n\tborder-width: 0px !important;\n}\n\n/* .codeActionMenuWidget .monaco-list:not(.element-focus) {\n\tborder: none !important;\n\tborder-width: 0px !important;\n} */\n\n.codeActionMenuWidget .monaco-list .monaco-scrollable-element .monaco-list-rows {\n\theight: 100% !important;\n}\n\n.codeActionMenuWidget .monaco-list .monaco-scrollable-element {\n\toverflow: visible;\n}\n/** Styles for each row in the list element **/\n\n.codeActionMenuWidget .monaco-list .monaco-list-row:not(.separator) {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding: 0px 26px 0px 26px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n\twidth: 100%;\n}\n\n\n.codeActionMenuWidget .monaco-list .monaco-list-row:hover:not(.option-disabled),\n.codeActionMenuWidget .monaco-list .moncao-list-row.focused:not(.option-disabled) {\n\tcolor: var(--vscode-menu-selectionForeground) !important;\n\tbackground-color: var(--vscode-menu-selectionBackground) !important;\n}\n\n.codeActionMenuWidget .monaco-list .option-disabled,\n.codeActionMenuWidget .monaco-list .option-disabled .focused {\n\tpointer-events: none;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tcolor: var(--vscode-disabledForeground) !important;\n}\n\n.codeActionMenuWidget .monaco-list .separator {\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 0px !important;\n\t/* padding: 30px; */\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tborder-radius: 0;\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n',""]);const T=v},75462:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground)\n}\n\n.monaco-editor .codelens-decoration>span,\n.monaco-editor .codelens-decoration>a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration>a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration>a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% {\n\t\topacity: 0;\n\t\tvisibility: visible;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n",""]);const T=v},28837:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration,\n.hc-light .colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 216px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n\tposition: absolute;\n\tleft: 8px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n',""]);const T=v},1158:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target,\n.monaco-editor.hc-light .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines,\n.monaco-editor.hc-light.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines,\n.monaco-editor.hc-light.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}\n",""]);const T=v},74777:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n}\n\n.monaco-workbench.reduce-motion .monaco-editor .find-widget {\n\ttransition: transform 0ms linear;\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 4px 0 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\tcolor: var(--vscode-disabledForeground);\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n",""]);const T=v},75697:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\u22ef";\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n\n',""]);const T=v},37367:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n",""]);const T=v},60464:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n}",""]);const T=v},78635:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n",""]);const T=v},64272:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration {\n\tfont-style: italic;\n}\n\n.monaco-editor .suggest-preview-text {\n\tfont-style: italic;\n}\n\n.monaco-editor .inline-completion-text-to-replace {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n",""]);const T=v},98061:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n}\n",""]);const T=v},80572:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 1px 4px;\n\tcolor: var(--vscode-inputValidation-infoForeground);\n\tbackground-color: var(--vscode-inputValidation-infoBackground);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message,\n.monaco-editor.hc-light .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n",""]);const T=v},7111:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash's z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n\tcursor: default;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.visible {\n\ttransition: left .05s ease-in-out;\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs a:hover {\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .docs  .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n",""]);const T=v},73608:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n",""]);const T=v},47479:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 3px 3px 0 3px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\twidth: calc(100% - 6px);\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n",""]);const T=v},88674:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n",""]);const T=v},33955:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details,\n.monaco-editor.hc-light .suggest-widget,\n.monaco-editor.hc-light .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const T=v},77459:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n",""]);const T=v},60716:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbackground-color: var(--vscode-editorUnicodeHighlight-background);\n\tbox-sizing: border-box;\n}\n",""]);const T=v},21410:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n\n\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n",""]);const T=v},80318:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .accessibilityHelpWidget {\n\tpadding: 10px;\n\tvertical-align: middle;\n\toverflow: scroll;\n}",""]);const T=v},3656:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}',""]);const T=v},41709:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n\tpadding: 10px;\n}\n\n.tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const T=v},25460:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0F4A85;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.hc-light .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px #0F4A85;\n\tbox-shadow: none;\n\tcolor: #292929;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n",""]);const T=v},66793:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n/* The hc-black theme is already high contrast optimized */\n.monaco-editor.hc-black,\n.monaco-editor.hc-light {\n\t-ms-high-contrast-adjust: none;\n}\n/* In case the browser goes into high contrast mode and the editor is not configured with the hc-black theme */\n@media screen and (-ms-high-contrast:active) {\n\n\t/* current line highlight */\n\t.monaco-editor.vs .view-overlays .current-line,\n\t.monaco-editor.vs-dark .view-overlays .current-line {\n\t\tborder-color: windowtext !important;\n\t\tborder-left: 0;\n\t\tborder-right: 0;\n\t}\n\n\t/* view cursors */\n\t.monaco-editor.vs .cursor,\n\t.monaco-editor.vs-dark .cursor {\n\t\tbackground-color: windowtext !important;\n\t}\n\t/* dnd target */\n\t.monaco-editor.vs .dnd-target,\n\t.monaco-editor.vs-dark .dnd-target {\n\t\tborder-color: windowtext !important;\n\t}\n\n\t/* selected text background */\n\t.monaco-editor.vs .selected-text,\n\t.monaco-editor.vs-dark .selected-text {\n\t\tbackground-color: highlight !important;\n\t}\n\n\t/* allow the text to have a transparent background. */\n\t.monaco-editor.vs .view-line,\n\t.monaco-editor.vs-dark .view-line {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* text color */\n\t.monaco-editor.vs .view-line span,\n\t.monaco-editor.vs-dark .view-line span {\n\t\tcolor: windowtext !important;\n\t}\n\t/* selected text color */\n\t.monaco-editor.vs .view-line span.inline-selected-text,\n\t.monaco-editor.vs-dark .view-line span.inline-selected-text {\n\t\tcolor: highlighttext !important;\n\t}\n\n\t/* allow decorations */\n\t.monaco-editor.vs .view-overlays,\n\t.monaco-editor.vs-dark .view-overlays {\n\t\t-ms-high-contrast-adjust: none;\n\t}\n\n\t/* various decorations */\n\t.monaco-editor.vs .selectionHighlight,\n\t.monaco-editor.vs-dark .selectionHighlight,\n\t.monaco-editor.vs .wordHighlight,\n\t.monaco-editor.vs-dark .wordHighlight,\n\t.monaco-editor.vs .wordHighlightStrong,\n\t.monaco-editor.vs-dark .wordHighlightStrong,\n\t.monaco-editor.vs .reference-decoration,\n\t.monaco-editor.vs-dark .reference-decoration {\n\t\tborder: 2px dotted highlight !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .rangeHighlight,\n\t.monaco-editor.vs-dark .rangeHighlight {\n\t\tbackground: transparent !important;\n\t\tborder: 1px dotted activeborder !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .bracket-match,\n\t.monaco-editor.vs-dark .bracket-match {\n\t\tborder-color: windowtext !important;\n\t\tbackground: transparent !important;\n\t}\n\n\t/* find widget */\n\t.monaco-editor.vs .findMatch,\n\t.monaco-editor.vs-dark .findMatch,\n\t.monaco-editor.vs .currentFindMatch,\n\t.monaco-editor.vs-dark .currentFindMatch {\n\t\tborder: 2px dotted activeborder !important;\n\t\tbackground: transparent !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .find-widget,\n\t.monaco-editor.vs-dark .find-widget {\n\t\tborder: 1px solid windowtext;\n\t}\n\n\t/* list - used by suggest widget */\n\t.monaco-editor.vs .monaco-list .monaco-list-row,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row.focused,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused {\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-list .monaco-list-row:hover,\n\t.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* scrollbars */\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: background !important;\n\t\tborder: 1px solid windowtext;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider {\n\t\tbackground: windowtext !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider:hover,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\tbackground: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-scrollable-element > .scrollbar > .slider.active,\n\t.monaco-editor.vs-dark .monaco-scrollable-element > .scrollbar > .slider.active {\n\t\tbackground: highlight !important;\n\t}\n\n\t/* overview ruler */\n\t.monaco-editor.vs .decorationsOverviewRuler,\n\t.monaco-editor.vs-dark .decorationsOverviewRuler {\n\t\topacity: 0;\n\t}\n\n\t/* minimap */\n\t.monaco-editor.vs .minimap,\n\t.monaco-editor.vs-dark .minimap {\n\t\tdisplay: none;\n\t}\n\n\t/* squiggles */\n\t.monaco-editor.vs .squiggly-d-error,\n\t.monaco-editor.vs-dark .squiggly-d-error {\n\t\tbackground: transparent !important;\n\t\tborder-bottom: 4px double #E47777;\n\t}\n\t.monaco-editor.vs .squiggly-c-warning,\n\t.monaco-editor.vs-dark .squiggly-c-warning {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-b-info,\n\t.monaco-editor.vs-dark .squiggly-b-info {\n\t\tborder-bottom: 4px double #71B771;\n\t}\n\t.monaco-editor.vs .squiggly-a-hint,\n\t.monaco-editor.vs-dark .squiggly-a-hint {\n\t\tborder-bottom: 4px double #6c6c6c;\n\t}\n\n\t/* contextmenu */\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tcolor: highlighttext !important;\n\t\tbackground-color: highlight !important;\n\t}\n\t.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,\n\t.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label {\n\t\t-ms-high-contrast-adjust: none;\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight;\n\t\tbox-sizing: border-box;\n\t}\n\n\t/* diff editor */\n\t.monaco-diff-editor.vs .diffOverviewRuler,\n\t.monaco-diff-editor.vs-dark .diffOverviewRuler {\n\t\tdisplay: none;\n\t}\n\t.monaco-editor.vs .line-insert,\n\t.monaco-editor.vs-dark .line-insert,\n\t.monaco-editor.vs .line-delete,\n\t.monaco-editor.vs-dark .line-delete {\n\t\tbackground: transparent !important;\n\t\tborder: 1px solid highlight !important;\n\t\tbox-sizing: border-box;\n\t}\n\t.monaco-editor.vs .char-insert,\n\t.monaco-editor.vs-dark .char-insert,\n\t.monaco-editor.vs .char-delete,\n\t.monaco-editor.vs-dark .char-delete {\n\t\tbackground: transparent !important;\n\t}\n}\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n',""]);const T=v},45355:(Et,X,e)=>{"use strict";e.d(X,{Z:()=>T});var d=e(35887),t=e.n(d),l=e(22521),v=e.n(l)()(t());v.push([Et.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const T=v},21955:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{CancellationTokenSource:()=>za,Emitter:()=>ys,KeyCode:()=>Wr,KeyMod:()=>Yr,MarkerSeverity:()=>xa,MarkerTag:()=>Vr,Position:()=>Gi,Range:()=>cs,Selection:()=>qo,SelectionDirection:()=>cr,Token:()=>Ta,Uri:()=>Ia,editor:()=>ur,languages:()=>jr});var d=e(54862),t=e(48885),l=e(57856),S=e.n(l),v=e(38470),T=e.n(v),C=e(43370),E=e.n(C),L=e(28458),_=e.n(L),s=e(71278),m=e.n(s),c=e(29488),n=e.n(c),a=e(66793),p={};p.styleTagTransform=n(),p.setAttributes=_(),p.insert=E().bind(null,"head"),p.domAPI=T(),p.insertStyleElement=m(),S()(a.Z,p);var b=e(80142),y=e(73879),D=e(15057),w=e(33745),I=e(94772),P=e(3778),O=e(6276),H=e(98570);const U={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class K extends b.JT{constructor(Pe,Ye={}){super(),this._onDidUpdate=this._register(new P.Q5),this._editor=Pe,this._options=O.jB(Ye,U,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(xt=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(xt=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(Pe){this.ranges=[],Pe&&Pe.forEach(Ye=>{!this._options.ignoreCharChanges&&Ye.charChanges?Ye.charChanges.forEach(xt=>{this.ranges.push({rhs:!0,range:new H.e(xt.modifiedStartLineNumber,xt.modifiedStartColumn,xt.modifiedEndLineNumber,xt.modifiedEndColumn)})}):this.ranges.push(0===Ye.modifiedEndLineNumber?{rhs:!0,range:new H.e(Ye.modifiedStartLineNumber,1,Ye.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new H.e(Ye.modifiedStartLineNumber,1,Ye.modifiedEndLineNumber+1,1)})}),this.ranges.sort((Ye,xt)=>H.e.compareRangesUsingStarts(Ye.range,xt.range)),this._onDidUpdate.fire(this)}_initIdx(Pe){let Ye=!1;const xt=this._editor.getPosition();if(xt){for(let Xt=0,pn=this.ranges.length;Xt<pn&&!Ye;Xt++)xt.isBeforeOrEqual(this.ranges[Xt].range.getStartPosition())&&(this.nextIdx=Xt+(Pe?0:-1),Ye=!0);Ye||(this.nextIdx=Pe?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(Pe,Ye){if(I.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(Pe):Pe?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const xt=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const Xt=xt.range.getStartPosition();this._editor.setPosition(Xt),this._editor.revealRangeInCenter(xt.range,Ye)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(Pe=0){this._move(!0,Pe)}previous(Pe=0){this._move(!1,Pe)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var F=e(44120),B=e(22859),z=e(47629),$=e(45337),j=e(94911),ne=e(88086),N=e(45358),V=e(59602),Z=e(30910),fe=e(72715);class Se extends Z.Q8{constructor(Pe,Ye,xt){super(Pe,xt.keepIdleModels||!1,xt.label,Ye),this._foreignModuleId=xt.moduleId,this._foreignModuleCreateData=xt.createData||null,this._foreignModuleHost=xt.host||null,this._foreignProxy=null}fhr(Pe,Ye){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[Pe])return Promise.reject(new Error("Missing method "+Pe+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[Pe].apply(this._foreignModuleHost,Ye))}catch(xt){return Promise.reject(xt)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(Pe=>{const Ye=this._foreignModuleHost?fe.$E(this._foreignModuleHost):[];return Pe.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,Ye).then(xt=>{this._foreignModuleCreateData=null;const Xt=(kn,Xn)=>Pe.fmr(kn,Xn),pn=(kn,Xn)=>function(){const Zn=Array.prototype.slice.call(arguments,0);return Xn(kn,Zn)},bn={};for(const kn of xt)bn[kn]=pn(kn,Xt);return bn})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(Pe){return this._withSyncedResources(Pe).then(Ye=>this.getProxy())}}var Ee=e(98104),Le=e(71513),Ne=e(27131),oe=e(38232);function xe(zt){return!function we(zt){return Array.isArray(zt)}(zt)}function pe(zt){return"string"==typeof zt}function Te(zt){return!pe(zt)}function de(zt){return!zt}function ke(zt,Pe){return zt.ignoreCase&&Pe?Pe.toLowerCase():Pe}function ze(zt){return zt.replace(/[&<>'"_]/g,"-")}function $e(zt,Pe){console.log(`${zt.languageId}: ${Pe}`)}function ce(zt,Pe){return new Error(`${zt.languageId}: ${Pe}`)}function Ue(zt,Pe,Ye,xt,Xt){let bn=null;return Pe.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(kn,Xn,Zn,qn,ri,Mi,Ni,Vi,Xi){return de(Zn)?de(qn)?!de(ri)&&ri<xt.length?ke(zt,xt[ri]):!de(Ni)&&zt&&"string"==typeof zt[Ni]?zt[Ni]:(null===bn&&(bn=Xt.split("."),bn.unshift(Xt)),!de(Mi)&&Mi<bn.length?ke(zt,bn[Mi]):""):ke(zt,Ye):"$"})}function nt(zt,Pe){let Ye=Pe;for(;Ye&&Ye.length>0;){const xt=zt.tokenizer[Ye];if(xt)return xt;const Xt=Ye.lastIndexOf(".");Ye=Xt<0?null:Ye.substr(0,Xt)}return null}var Lt=e(94667);class he{constructor(Pe){this._maxCacheDepth=Pe,this._entries=Object.create(null)}static create(Pe,Ye){return this._INSTANCE.create(Pe,Ye)}create(Pe,Ye){if(null!==Pe&&Pe.depth>=this._maxCacheDepth)return new le(Pe,Ye);let xt=le.getStackElementId(Pe);xt.length>0&&(xt+="|"),xt+=Ye;let Xt=this._entries[xt];return Xt||(Xt=new le(Pe,Ye),this._entries[xt]=Xt,Xt)}}he._INSTANCE=new he(5);class le{constructor(Pe,Ye){this.parent=Pe,this.state=Ye,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(Pe){let Ye="";for(;null!==Pe;)Ye.length>0&&(Ye+="|"),Ye+=Pe.state,Pe=Pe.parent;return Ye}static _equals(Pe,Ye){for(;null!==Pe&&null!==Ye;){if(Pe===Ye)return!0;if(Pe.state!==Ye.state)return!1;Pe=Pe.parent,Ye=Ye.parent}return null===Pe&&null===Ye}equals(Pe){return le._equals(this,Pe)}push(Pe){return he.create(this,Pe)}pop(){return this.parent}popall(){let Pe=this;for(;Pe.parent;)Pe=Pe.parent;return Pe}switchTo(Pe){return he.create(this.parent,Pe)}}class Q{constructor(Pe,Ye){this.languageId=Pe,this.state=Ye}equals(Pe){return this.languageId===Pe.languageId&&this.state.equals(Pe.state)}clone(){return this.state.clone()===this.state?this:new Q(this.languageId,this.state)}}class ve{constructor(Pe){this._maxCacheDepth=Pe,this._entries=Object.create(null)}static create(Pe,Ye){return this._INSTANCE.create(Pe,Ye)}create(Pe,Ye){if(null!==Ye)return new Ae(Pe,Ye);if(null!==Pe&&Pe.depth>=this._maxCacheDepth)return new Ae(Pe,Ye);const xt=le.getStackElementId(Pe);let Xt=this._entries[xt];return Xt||(Xt=new Ae(Pe,null),this._entries[xt]=Xt,Xt)}}ve._INSTANCE=new ve(5);class Ae{constructor(Pe,Ye){this.stack=Pe,this.embeddedLanguageData=Ye}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:ve.create(this.stack,this.embeddedLanguageData)}equals(Pe){return!!(Pe instanceof Ae&&this.stack.equals(Pe.stack))&&(null===this.embeddedLanguageData&&null===Pe.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==Pe.embeddedLanguageData&&this.embeddedLanguageData.equals(Pe.embeddedLanguageData))}}class dt{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(Pe){this._languageId=Pe}emit(Pe,Ye){this._lastTokenType===Ye&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=Ye,this._lastTokenLanguage=this._languageId,this._tokens.push(new $.WU(Pe,Ye,this._languageId)))}nestedLanguageTokenize(Pe,Ye,xt,Xt){const pn=xt.languageId,bn=xt.state,kn=$.RW.get(pn);if(!kn)return this.enterLanguage(pn),this.emit(Xt,""),bn;const Xn=kn.tokenize(Pe,Ye,bn);if(0!==Xt)for(const Zn of Xn.tokens)this._tokens.push(new $.WU(Zn.offset+Xt,Zn.type,Zn.language));else this._tokens=this._tokens.concat(Xn.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,Xn.endState}finalize(Pe){return new $.hG(this._tokens,Pe)}}class st{constructor(Pe,Ye){this._languageService=Pe,this._theme=Ye,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(Pe){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(Pe)}emit(Pe,Ye){const xt=this._theme.match(this._currentLanguageId,Ye);this._lastTokenMetadata!==xt&&(this._lastTokenMetadata=xt,this._tokens.push(Pe),this._tokens.push(xt))}static _merge(Pe,Ye,xt){const Xt=null!==Pe?Pe.length:0,pn=Ye.length,bn=null!==xt?xt.length:0;if(0===Xt&&0===pn&&0===bn)return new Uint32Array(0);if(0===Xt&&0===pn)return xt;if(0===pn&&0===bn)return Pe;const kn=new Uint32Array(Xt+pn+bn);null!==Pe&&kn.set(Pe);for(let Xn=0;Xn<pn;Xn++)kn[Xt+Xn]=Ye[Xn];return null!==xt&&kn.set(xt,Xt+pn),kn}nestedLanguageTokenize(Pe,Ye,xt,Xt){const pn=xt.languageId,bn=xt.state,kn=$.RW.get(pn);if(!kn)return this.enterLanguage(pn),this.emit(Xt,""),bn;const Xn=kn.tokenizeEncoded(Pe,Ye,bn);if(0!==Xt)for(let Zn=0,qn=Xn.tokens.length;Zn<qn;Zn+=2)Xn.tokens[Zn]+=Xt;return this._prependTokens=st._merge(this._prependTokens,this._tokens,Xn.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,Xn.endState}finalize(Pe){return new $.DI(st._merge(this._prependTokens,this._tokens,null),Pe)}}let et=class Cu{constructor(Pe,Ye,xt,Xt,pn){this._configurationService=pn,this._languageService=Pe,this._standaloneThemeService=Ye,this._languageId=xt,this._lexer=Xt,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let bn=!1;this._tokenizationRegistryListener=$.RW.onDidChange(kn=>{if(bn)return;let Xn=!1;for(let Zn=0,qn=kn.changedLanguages.length;Zn<qn;Zn++)if(this._embeddedLanguages[kn.changedLanguages[Zn]]){Xn=!0;break}Xn&&(bn=!0,$.RW.fire([this._languageId]),bn=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(kn=>{kn.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const Pe=[];for(const Ye in this._embeddedLanguages){const xt=$.RW.get(Ye);if(xt){if(xt instanceof Cu){const Xt=xt.getLoadStatus();!1===Xt.loaded&&Pe.push(Xt.promise)}}else $.RW.isResolved(Ye)||Pe.push($.RW.getOrCreate(Ye))}return 0===Pe.length?{loaded:!0}:{loaded:!1,promise:Promise.all(Pe).then(Ye=>{})}}getInitialState(){const Pe=he.create(null,this._lexer.start);return ve.create(Pe,null)}tokenize(Pe,Ye,xt){if(Pe.length>=this._maxTokenizationLineLength)return(0,ne.Ri)(this._languageId,xt);const Xt=new dt,pn=this._tokenize(Pe,Ye,xt,Xt);return Xt.finalize(pn)}tokenizeEncoded(Pe,Ye,xt){if(Pe.length>=this._maxTokenizationLineLength)return(0,ne.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),xt);const Xt=new st(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),pn=this._tokenize(Pe,Ye,xt,Xt);return Xt.finalize(pn)}_tokenize(Pe,Ye,xt,Xt){return xt.embeddedLanguageData?this._nestedTokenize(Pe,Ye,xt,0,Xt):this._myTokenize(Pe,Ye,xt,0,Xt)}_findLeavingNestedLanguageOffset(Pe,Ye){let xt=this._lexer.tokenizer[Ye.stack.state];if(!xt&&(xt=nt(this._lexer,Ye.stack.state),!xt))throw ce(this._lexer,"tokenizer state is not defined: "+Ye.stack.state);let Xt=-1,pn=!1;for(const bn of xt){if(!Te(bn.action)||"@pop"!==bn.action.nextEmbedded)continue;pn=!0;let kn=bn.regex;const Xn=bn.regex.source;if("^(?:"===Xn.substr(0,4)&&")"===Xn.substr(Xn.length-1,1)){const qn=(kn.ignoreCase?"i":"")+(kn.unicode?"u":"");kn=new RegExp(Xn.substr(4,Xn.length-5),qn)}const Zn=Pe.search(kn);-1===Zn||0!==Zn&&bn.matchOnlyAtLineStart||(-1===Xt||Zn<Xt)&&(Xt=Zn)}if(!pn)throw ce(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+Ye.stack.state);return Xt}_nestedTokenize(Pe,Ye,xt,Xt,pn){const bn=this._findLeavingNestedLanguageOffset(Pe,xt);if(-1===bn){const Zn=pn.nestedLanguageTokenize(Pe,Ye,xt.embeddedLanguageData,Xt);return ve.create(xt.stack,new Q(xt.embeddedLanguageData.languageId,Zn))}const kn=Pe.substring(0,bn);kn.length>0&&pn.nestedLanguageTokenize(kn,!1,xt.embeddedLanguageData,Xt);const Xn=Pe.substring(bn);return this._myTokenize(Xn,Ye,xt,Xt+bn,pn)}_safeRuleName(Pe){return Pe?Pe.name:"(unknown)"}_myTokenize(Pe,Ye,xt,Xt,pn){pn.enterLanguage(this._languageId);const bn=Pe.length,kn=Ye&&this._lexer.includeLF?Pe+"\n":Pe,Xn=kn.length;let Zn=xt.embeddedLanguageData,qn=xt.stack,ri=0,Mi=null,Ni=!0;for(;Ni||ri<Xn;){const Vi=ri,Xi=qn.depth,po=Mi?Mi.groups.length:0,Io=qn.state;let Ao=null,Eo=null,lo=null,$o=null,Fo=null;if(Mi){Ao=Mi.matches;const Lo=Mi.groups.shift();Eo=Lo.matched,lo=Lo.action,$o=Mi.rule,0===Mi.groups.length&&(Mi=null)}else{if(!Ni&&ri>=Xn)break;Ni=!1;let Lo=this._lexer.tokenizer[Io];if(!Lo&&(Lo=nt(this._lexer,Io),!Lo))throw ce(this._lexer,"tokenizer state is not defined: "+Io);const zo=kn.substr(ri);for(const Zo of Lo)if((0===ri||!Zo.matchOnlyAtLineStart)&&(Ao=zo.match(Zo.regex),Ao)){Eo=Ao[0],lo=Zo.action;break}}if(Ao||(Ao=[""],Eo=""),lo||(ri<Xn&&(Ao=[kn.charAt(ri)],Eo=Ao[0]),lo=this._lexer.defaultToken),null===Eo)break;for(ri+=Eo.length;xe(lo)&&Te(lo)&&lo.test;)lo=lo.test(Eo,Ao,Io,ri===Xn);let So=null;if("string"==typeof lo||Array.isArray(lo))So=lo;else if(lo.group)So=lo.group;else if(null!=lo.token){if(So=lo.tokenSubst?Ue(this._lexer,lo.token,Eo,Ao,Io):lo.token,lo.nextEmbedded)if("@pop"===lo.nextEmbedded){if(!Zn)throw ce(this._lexer,"cannot pop embedded language if not inside one");Zn=null}else{if(Zn)throw ce(this._lexer,"cannot enter embedded language from within an embedded language");Fo=Ue(this._lexer,lo.nextEmbedded,Eo,Ao,Io)}if(lo.goBack&&(ri=Math.max(0,ri-lo.goBack)),lo.switchTo&&"string"==typeof lo.switchTo){let Lo=Ue(this._lexer,lo.switchTo,Eo,Ao,Io);if("@"===Lo[0]&&(Lo=Lo.substr(1)),!nt(this._lexer,Lo))throw ce(this._lexer,"trying to switch to a state '"+Lo+"' that is undefined in rule: "+this._safeRuleName($o));qn=qn.switchTo(Lo)}else{if(lo.transform&&"function"==typeof lo.transform)throw ce(this._lexer,"action.transform not supported");if(lo.next)if("@push"===lo.next){if(qn.depth>=this._lexer.maxStack)throw ce(this._lexer,"maximum tokenizer stack size reached: ["+qn.state+","+qn.parent.state+",...]");qn=qn.push(Io)}else if("@pop"===lo.next){if(qn.depth<=1)throw ce(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName($o));qn=qn.pop()}else if("@popall"===lo.next)qn=qn.popall();else{let Lo=Ue(this._lexer,lo.next,Eo,Ao,Io);if("@"===Lo[0]&&(Lo=Lo.substr(1)),!nt(this._lexer,Lo))throw ce(this._lexer,"trying to set a next state '"+Lo+"' that is undefined in rule: "+this._safeRuleName($o));qn=qn.push(Lo)}}lo.log&&"string"==typeof lo.log&&$e(this._lexer,this._lexer.languageId+": "+Ue(this._lexer,lo.log,Eo,Ao,Io))}if(null===So)throw ce(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName($o));const io=Lo=>{const zo=this._languageService.getLanguageIdByLanguageName(Lo)||this._languageService.getLanguageIdByMimeType(Lo)||Lo,Zo=this._getNestedEmbeddedLanguageData(zo);if(ri<Xn){const ns=Pe.substr(ri);return this._nestedTokenize(ns,Ye,ve.create(qn,Zo),Xt+ri,pn)}return ve.create(qn,Zo)};if(Array.isArray(So)){if(Mi&&Mi.groups.length>0)throw ce(this._lexer,"groups cannot be nested: "+this._safeRuleName($o));if(Ao.length!==So.length+1)throw ce(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName($o));let Lo=0;for(let zo=1;zo<Ao.length;zo++)Lo+=Ao[zo].length;if(Lo!==Eo.length)throw ce(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName($o));Mi={rule:$o,matches:Ao,groups:[]};for(let zo=0;zo<So.length;zo++)Mi.groups[zo]={action:So[zo],matched:Ao[zo+1]};ri-=Eo.length}else{{if("@rematch"===So&&(ri-=Eo.length,Eo="",Ao=null,So="",null!==Fo))return io(Fo);if(0===Eo.length){if(0===Xn||Xi!==qn.depth||Io!==qn.state||(Mi?Mi.groups.length:0)!==po)continue;throw ce(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName($o))}let Lo=null;if(pe(So)&&0===So.indexOf("@brackets")){const zo=So.substr(9),Zo=Qe(this._lexer,Eo);if(!Zo)throw ce(this._lexer,"@brackets token returned but no bracket defined as: "+Eo);Lo=ze(Zo.token+zo)}else Lo=ze(""===So?"":So+this._lexer.tokenPostfix);Vi<bn&&pn.emit(Vi+Xt,Lo)}if(null!==Fo)return io(Fo)}}return ve.create(qn,Zn)}_getNestedEmbeddedLanguageData(Pe){if(!this._languageService.isRegisteredLanguageId(Pe))return new Q(Pe,ne.TJ);Pe!==this._languageId&&($.RW.getOrCreate(Pe),this._embeddedLanguages[Pe]=!0);const Ye=$.RW.get(Pe);return new Q(Pe,Ye?Ye.getInitialState():ne.TJ)}};var Pe;function Qe(zt,Pe){if(!Pe)return null;Pe=ke(zt,Pe);const Ye=zt.brackets;for(const xt of Ye){if(xt.open===Pe)return{token:xt.token,bracketType:1};if(xt.close===Pe)return{token:xt.token,bracketType:-1}}return null}et=function(zt,Pe,Ye,xt){var bn,Xt=arguments.length,pn=Xt<3?Pe:null===xt?xt=Object.getOwnPropertyDescriptor(Pe,Ye):xt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pn=Reflect.decorate(zt,Pe,Ye,xt);else for(var kn=zt.length-1;kn>=0;kn--)(bn=zt[kn])&&(pn=(Xt<3?bn(pn):Xt>3?bn(Pe,Ye,pn):bn(Pe,Ye))||pn);return Xt>3&&pn&&Object.defineProperty(Pe,Ye,pn),pn}([(4,Pe=Lt.Ui,function(Ye,xt){Pe(Ye,xt,4)})],et);var vt;const mt=null===(vt=window.trustedTypes)||void 0===vt?void 0:vt.createPolicy("standaloneColorizer",{createHTML:zt=>zt});class _t{static colorizeElement(Pe,Ye,xt,Xt){const pn=(Xt=Xt||{}).theme||"vs",bn=Xt.mimeType||xt.getAttribute("lang")||xt.getAttribute("data-lang");if(!bn)return console.error("Mode not detected"),Promise.resolve();const kn=Ye.getLanguageIdByMimeType(bn)||bn;Pe.setTheme(pn);const Xn=xt.firstChild?xt.firstChild.nodeValue:"";return xt.className+=" "+pn,this.colorize(Ye,Xn||"",kn,Xt).then(qn=>{var ri;const Mi=null!==(ri=mt?.createHTML(qn))&&void 0!==ri?ri:qn;xt.innerHTML=Mi},qn=>console.error(qn))}static colorize(Pe,Ye,xt,Xt){return function(zt,Pe,Ye,xt){return new(Ye||(Ye=Promise))(function(pn,bn){function kn(qn){try{Zn(xt.next(qn))}catch(ri){bn(ri)}}function Xn(qn){try{Zn(xt.throw(qn))}catch(ri){bn(ri)}}function Zn(qn){qn.done?pn(qn.value):function Xt(pn){return pn instanceof Ye?pn:new Ye(function(bn){bn(pn)})}(qn.value).then(kn,Xn)}Zn((xt=xt.apply(zt,Pe||[])).next())})}(this,void 0,void 0,function*(){const pn=Pe.languageIdCodec;let bn=4;Xt&&"number"==typeof Xt.tabSize&&(bn=Xt.tabSize),y.uS(Ye)&&(Ye=Ye.substr(1));const kn=y.uq(Ye);if(!Pe.isRegisteredLanguageId(xt))return Bt(kn,bn,pn);const Xn=yield $.RW.getOrCreate(xt);return Xn?function Kt(zt,Pe,Ye,xt){return new Promise((Xt,pn)=>{const bn=()=>{const kn=function Ge(zt,Pe,Ye,xt){let Xt=[],pn=Ye.getInitialState();for(let bn=0,kn=zt.length;bn<kn;bn++){const Xn=zt[bn],Zn=Ye.tokenizeEncoded(Xn,!0,pn);Le.A.convertToEndOffset(Zn.tokens,Xn.length);const qn=new Le.A(Zn.tokens,Xn,xt),ri=oe.wA.isBasicASCII(Xn,!0),Mi=oe.wA.containsRTL(Xn,ri,!0),Ni=(0,Ne.tF)(new Ne.IJ(!1,!0,Xn,!1,ri,Mi,0,qn.inflate(),[],Pe,0,0,0,0,-1,"none",!1,!1,null));Xt=Xt.concat(Ni.html),Xt.push("<br/>"),pn=Zn.endState}return Xt.join("")}(zt,Pe,Ye,xt);if(Ye instanceof et){const Xn=Ye.getLoadStatus();if(!1===Xn.loaded)return void Xn.promise.then(bn,pn)}Xt(kn)};bn()})}(kn,bn,Xn,pn):Bt(kn,bn,pn)})}static colorizeLine(Pe,Ye,xt,Xt,pn=4){const bn=oe.wA.isBasicASCII(Pe,Ye),kn=oe.wA.containsRTL(Pe,bn,xt);return(0,Ne.tF)(new Ne.IJ(!1,!0,Pe,!1,bn,kn,0,Xt,[],pn,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(Pe,Ye,xt=4){const Xt=Pe.getLineContent(Ye);Pe.tokenization.forceTokenization(Ye);const bn=Pe.tokenization.getLineTokens(Ye).inflate();return this.colorizeLine(Xt,Pe.mightContainNonBasicASCII(),Pe.mightContainRTL(),bn,xt)}}function Bt(zt,Pe,Ye){let xt=[];const pn=new Uint32Array(2);pn[0]=0,pn[1]=33587200;for(let bn=0,kn=zt.length;bn<kn;bn++){const Xn=zt[bn];pn[0]=Xn.length;const Zn=new Le.A(pn,Xn,Ye),qn=oe.wA.isBasicASCII(Xn,!0),ri=oe.wA.containsRTL(Xn,qn,!0),Mi=(0,Ne.tF)(new Ne.IJ(!1,!0,Xn,!1,qn,ri,0,Zn,[],Pe,0,0,0,0,-1,"none",!1,!1,null));xt=xt.concat(Mi.html),xt.push("<br/>")}return xt.join("")}var ut=e(59797),Ut=e(85421),hn=e(9324),Dn={};Dn.styleTagTransform=n(),Dn.setAttributes=_(),Dn.insert=E().bind(null,"head"),Dn.domAPI=T(),Dn.insertStyleElement=m(),S()(hn.Z,Dn);var ye=e(55197),Me=e(98463),ue=e(12226),be=e(84075),qe=e(48648),Fe=e(44716),ot=e(46780),bt=e(55704),Ht={};Ht.styleTagTransform=n(),Ht.setAttributes=_(),Ht.insert=E().bind(null,"head"),Ht.domAPI=T(),Ht.insertStyleElement=m(),S()(bt.Z,Ht);var si,Ct=e(65065),fn=e(3067),Vn=e(827),yn=e(26845),zn=e(18723),li=e(43944),oi=e(16468),Li=e(4062),so=e(40902),oo=e(58783),xo=e(66287);class pt{constructor(Pe,Ye,xt,Xt){this.originalLineStart=Pe,this.originalLineEnd=Ye,this.modifiedLineStart=xt,this.modifiedLineEnd=Xt}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class ft{constructor(Pe){this.entries=Pe}}const jt=(0,xo.q5)("diff-review-insert",oo.lA.add,ye.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),en=(0,xo.q5)("diff-review-remove",oo.lA.remove,ye.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),rn=(0,xo.q5)("diff-review-close",oo.lA.close,ye.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let gn=class Nl extends b.JT{constructor(Pe,Ye){super(),this._languageService=Ye,this._width=0,this._diffEditor=Pe,this._isVisible=!1,this.shadow=(0,ue.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,ue.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Ct.o(this.actionBarContainer.domNode)),this._actionBar.push(new Vn.aU("diffreview.close",ye.NC("label.close","Close"),"close-diff-review "+so.kS.asClassName(rn),!0,()=>function(zt,Pe,Ye,xt){return new(Ye||(Ye=Promise))(function(pn,bn){function kn(qn){try{Zn(xt.next(qn))}catch(ri){bn(ri)}}function Xn(qn){try{Zn(xt.throw(qn))}catch(ri){bn(ri)}}function Zn(qn){qn.done?pn(qn.value):function Xt(pn){return pn instanceof Ye?pn:new Ye(function(bn){bn(pn)})}(qn.value).then(kn,Xn)}Zn((xt=xt.apply(zt,Pe||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,ue.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,ue.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new fn.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(Pe.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(Pe.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Me.mu(this.domNode.domNode,"click",xt=>{xt.preventDefault();const Xt=Me.Fx(xt.target,"diff-review-row");Xt&&this._goToRow(Xt)})),this._register(Me.mu(this.domNode.domNode,"keydown",xt=>{(xt.equals(18)||xt.equals(2066)||xt.equals(530))&&(xt.preventDefault(),this._goToRow(this._getNextRow())),(xt.equals(16)||xt.equals(2064)||xt.equals(528))&&(xt.preventDefault(),this._goToRow(this._getPrevRow())),(xt.equals(9)||xt.equals(2057)||xt.equals(521)||xt.equals(1033))&&(xt.preventDefault(),this.hide()),(xt.equals(10)||xt.equals(3))&&(xt.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let Pe=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let xt=-1;for(let Xt=0,pn=this._diffs.length;Xt<pn;Xt++)if(this._diffs[Xt]===this._currentDiff){xt=Xt;break}Pe=this._diffs.length+xt-1}else Pe=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Pe%=this._diffs.length;const Ye=this._diffs[Pe].entries;this._diffEditor.setPosition(new zn.L(Ye[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ye[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ye[Ye.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let Pe=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let xt=-1;for(let Xt=0,pn=this._diffs.length;Xt<pn;Xt++)if(this._diffs[Xt]===this._currentDiff){xt=Xt;break}Pe=xt+1}else Pe=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;Pe%=this._diffs.length;const Ye=this._diffs[Pe].entries;this._diffEditor.setPosition(new zn.L(Ye[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ye[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ye[Ye.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let Pe=-1;const Ye=this._getCurrentFocusedRow();if(Ye){const xt=parseInt(Ye.getAttribute("data-line"),10);isNaN(xt)||(Pe=xt)}this.hide(),-1!==Pe&&(this._diffEditor.setPosition(new zn.L(Pe,1)),this._diffEditor.revealPosition(new zn.L(Pe,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const Pe=this._getCurrentFocusedRow();return Pe?Pe.previousElementSibling?Pe.previousElementSibling:Pe:this._getFirstRow()}_getNextRow(){const Pe=this._getCurrentFocusedRow();return Pe?Pe.nextElementSibling?Pe.nextElementSibling:Pe:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const Pe=document.activeElement;return Pe&&/diff-review-row/.test(Pe.className)?Pe:null}_goToRow(Pe){const Ye=this._getCurrentFocusedRow();Pe.tabIndex=0,Pe.focus(),Ye&&Ye!==Pe&&(Ye.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(Pe,Ye,xt){this._width=Ye,this.shadow.setTop(Pe-6),this.shadow.setWidth(Ye),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Pe),this.domNode.setWidth(Ye),this.domNode.setHeight(xt),this._content.setHeight(xt),this._content.setWidth(Ye),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const Pe=this._diffEditor.getLineChanges();if(!Pe||0===Pe.length)return[];const Ye=this._diffEditor.getOriginalEditor().getModel(),xt=this._diffEditor.getModifiedEditor().getModel();return Ye&&xt?Nl._mergeAdjacent(Pe,Ye.getLineCount(),xt.getLineCount()):[]}static _mergeAdjacent(Pe,Ye,xt){if(!Pe||0===Pe.length)return[];const Xt=[];let pn=0;for(let Zn=0,qn=Pe.length;Zn<qn;Zn++){const ri=Pe[Zn],Mi=ri.originalStartLineNumber,Ni=ri.originalEndLineNumber,Vi=ri.modifiedStartLineNumber,Xi=ri.modifiedEndLineNumber,po=[];let Io=0;{const Ao=0===Ni?Mi:Mi-1,Eo=0===Xi?Vi:Vi-1;let lo=1,$o=1;if(Zn>0){const io=Pe[Zn-1];lo=0===io.originalEndLineNumber?io.originalStartLineNumber+1:io.originalEndLineNumber+1,$o=0===io.modifiedEndLineNumber?io.modifiedStartLineNumber+1:io.modifiedEndLineNumber+1}let Fo=Ao-3+1,So=Eo-3+1;if(Fo<lo){const io=lo-Fo;Fo+=io,So+=io}if(So<$o){const io=$o-So;Fo+=io,So+=io}po[Io++]=new pt(Fo,Ao,So,Eo)}0!==Ni&&(po[Io++]=new pt(Mi,Ni,0,0)),0!==Xi&&(po[Io++]=new pt(0,0,Vi,Xi));{const Ao=0===Ni?Mi+1:Ni+1,Eo=0===Xi?Vi+1:Xi+1;let lo=Ye,$o=xt;if(Zn+1<qn){const io=Pe[Zn+1];lo=0===io.originalEndLineNumber?io.originalStartLineNumber:io.originalStartLineNumber-1,$o=0===io.modifiedEndLineNumber?io.modifiedStartLineNumber:io.modifiedStartLineNumber-1}let Fo=Ao+3-1,So=Eo+3-1;if(Fo>lo){const io=lo-Fo;Fo+=io,So+=io}if(So>$o){const io=$o-So;Fo+=io,So+=io}po[Io++]=new pt(Ao,Fo,Eo,So)}Xt[pn++]=new ft(po)}let bn=Xt[0].entries;const kn=[];let Xn=0;for(let Zn=1,qn=Xt.length;Zn<qn;Zn++){const ri=Xt[Zn].entries,Mi=bn[bn.length-1],Ni=ri[0];0===Mi.getType()&&0===Ni.getType()&&Ni.originalLineStart<=Mi.originalLineEnd?(bn[bn.length-1]=new pt(Mi.originalLineStart,Ni.originalLineEnd,Mi.modifiedLineStart,Ni.modifiedLineEnd),bn=bn.concat(ri.slice(1))):(kn[Xn++]=new ft(bn),bn=ri)}return kn[Xn++]=new ft(bn),kn}_findDiffIndex(Pe){const Ye=Pe.lineNumber;for(let xt=0,Xt=this._diffs.length;xt<Xt;xt++){const pn=this._diffs[xt].entries;if(Ye<=pn[pn.length-1].modifiedLineEnd)return xt}return 0}_render(){const Pe=this._diffEditor.getOriginalEditor().getOptions(),Ye=this._diffEditor.getModifiedEditor().getOptions(),xt=this._diffEditor.getOriginalEditor().getModel(),Xt=this._diffEditor.getModifiedEditor().getModel(),pn=xt.getOptions(),bn=Xt.getOptions();if(!this._isVisible||!xt||!Xt)return Me.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const kn=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[kn]===this._currentDiff)return;this._currentDiff=this._diffs[kn];const Xn=this._diffs[kn].entries,Zn=document.createElement("div");Zn.className="diff-review-table",Zn.setAttribute("role","list"),Zn.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,Fe.N)(Zn,Ye.get(46));let qn=0,ri=0,Mi=0,Ni=0;for(let So=0,io=Xn.length;So<io;So++){const Lo=Xn[So],zo=Lo.originalLineStart,Zo=Lo.originalLineEnd,ns=Lo.modifiedLineStart,To=Lo.modifiedLineEnd;0!==zo&&(0===qn||zo<qn)&&(qn=zo),0!==Zo&&(0===ri||Zo>ri)&&(ri=Zo),0!==ns&&(0===Mi||ns<Mi)&&(Mi=ns),0!==To&&(0===Ni||To>Ni)&&(Ni=To)}const Vi=document.createElement("div");Vi.className="diff-review-row";const Xi=document.createElement("div");Xi.className="diff-review-cell diff-review-summary";const po=ri-qn+1,Io=Ni-Mi+1;Xi.appendChild(document.createTextNode(`${kn+1}/${this._diffs.length}: @@ -${qn},${po} +${Mi},${Io} @@`)),Vi.setAttribute("data-line",String(Mi));const Ao=So=>0===So?ye.NC("no_lines_changed","no lines changed"):1===So?ye.NC("one_line_changed","1 line changed"):ye.NC("more_lines_changed","{0} lines changed",So),Eo=Ao(po),lo=Ao(Io);Vi.setAttribute("aria-label",ye.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",kn+1,this._diffs.length,qn,Eo,Mi,lo)),Vi.appendChild(Xi),Vi.setAttribute("role","listitem"),Zn.appendChild(Vi);const $o=Ye.get(61);let Fo=Mi;for(let So=0,io=Xn.length;So<io;So++){const Lo=Xn[So];Nl._renderSection(Zn,Lo,Fo,$o,this._width,Pe,xt,pn,Ye,Xt,bn,this._languageService.languageIdCodec),0!==Lo.modifiedLineStart&&(Fo=Lo.modifiedLineEnd)}Me.PO(this._content.domNode),this._content.domNode.appendChild(Zn),this.scrollbar.scanDomNode()}static _renderSection(Pe,Ye,xt,Xt,pn,bn,kn,Xn,Zn,qn,ri,Mi){const Ni=Ye.getType();let Vi="diff-review-row",Xi="",Io=null;switch(Ni){case 1:Vi="diff-review-row line-insert",Xi=" char-insert",Io=jt;break;case 2:Vi="diff-review-row line-delete",Xi=" char-delete",Io=en}const Ao=Ye.originalLineStart,lo=Ye.modifiedLineStart,Fo=Math.max(Ye.modifiedLineEnd-lo,Ye.originalLineEnd-Ao),So=bn.get(133),io=So.glyphMarginWidth+So.lineNumbersWidth,Lo=Zn.get(133),zo=10+Lo.glyphMarginWidth+Lo.lineNumbersWidth;for(let Zo=0;Zo<=Fo;Zo++){const ns=0===Ao?0:Ao+Zo,To=0===lo?0:lo+Zo,as=document.createElement("div");as.style.minWidth=pn+"px",as.className=Vi,as.setAttribute("role","listitem"),0!==To&&(xt=To),as.setAttribute("data-line",String(xt));const zs=document.createElement("div");zs.className="diff-review-cell",zs.style.height=`${Xt}px`,as.appendChild(zs);const es=document.createElement("span");es.style.width=io+"px",es.style.minWidth=io+"px",es.className="diff-review-line-number"+Xi,0!==ns?es.appendChild(document.createTextNode(String(ns))):es.innerText="\xa0",zs.appendChild(es);const Gs=document.createElement("span");Gs.style.width=zo+"px",Gs.style.minWidth=zo+"px",Gs.style.paddingRight="10px",Gs.className="diff-review-line-number"+Xi,0!==To?Gs.appendChild(document.createTextNode(String(To))):Gs.innerText="\xa0",zs.appendChild(Gs);const Ks=document.createElement("span");if(Ks.className="diff-review-spacer",Io){const Ii=document.createElement("span");Ii.className=so.kS.asClassName(Io),Ii.innerText="\xa0\xa0",Ks.appendChild(Ii)}else Ks.innerText="\xa0\xa0";let Bo;if(zs.appendChild(Ks),0!==To){let Ii=this._renderLine(qn,Zn,ri.tabSize,To,Mi);Nl._ttPolicy&&(Ii=Nl._ttPolicy.createHTML(Ii)),zs.insertAdjacentHTML("beforeend",Ii),Bo=qn.getLineContent(To)}else{let Ii=this._renderLine(kn,bn,Xn.tabSize,ns,Mi);Nl._ttPolicy&&(Ii=Nl._ttPolicy.createHTML(Ii)),zs.insertAdjacentHTML("beforeend",Ii),Bo=kn.getLineContent(ns)}0===Bo.length&&(Bo=ye.NC("blankLine","blank"));let ws="";switch(Ni){case 0:ws=ns===To?ye.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Bo,ns):ye.NC("equalLine","{0} original line {1} modified line {2}",Bo,ns,To);break;case 1:ws=ye.NC("insertLine","+ {0} modified line {1}",Bo,To);break;case 2:ws=ye.NC("deleteLine","- {0} original line {1}",Bo,ns)}as.setAttribute("aria-label",ws),Pe.appendChild(as)}}static _renderLine(Pe,Ye,xt,Xt,pn){const bn=Pe.getLineContent(Xt),kn=Ye.get(46),Xn=Le.A.createEmpty(bn,pn),Zn=oe.wA.isBasicASCII(bn,Pe.mightContainNonBasicASCII()),qn=oe.wA.containsRTL(bn,Zn,Pe.mightContainRTL());return(0,Ne.tF)(new Ne.IJ(kn.isMonospace&&!Ye.get(29),kn.canUseHalfwidthRightwardsArrow,bn,!1,Zn,qn,0,Xn,[],xt,0,kn.spaceWidth,kn.middotWidth,kn.wsmiddotWidth,Ye.get(107),Ye.get(90),Ye.get(85),Ye.get(47)!==d.n0.OFF,null)).html}};function Qn(zt){const Pe=zt.get(w.$),Ye=Pe.listDiffEditors(),xt=Pe.getActiveCodeEditor();if(!xt)return null;for(let Xt=0,pn=Ye.length;Xt<pn;Xt++){const bn=Ye[Xt];if(bn.getModifiedEditor().getId()===xt.getId()||bn.getOriginalEditor().getId()===xt.getId())return bn}return null}gn._ttPolicy=null===(si=window.trustedTypes)||void 0===si?void 0:si.createPolicy("diffReview",{createHTML:zt=>zt}),gn=function(zt,Pe,Ye,xt){var bn,Xt=arguments.length,pn=Xt<3?Pe:null===xt?xt=Object.getOwnPropertyDescriptor(Pe,Ye):xt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pn=Reflect.decorate(zt,Pe,Ye,xt);else for(var kn=zt.length-1;kn>=0;kn--)(bn=zt[kn])&&(pn=(Xt<3?bn(pn):Xt>3?bn(Pe,Ye,pn):bn(Pe,Ye))||pn);return Xt>3&&pn&&Object.defineProperty(Pe,Ye,pn),pn}([function(zt,Pe){return function(Ye,xt){Pe(Ye,xt,1)}}(0,N.O)],gn),(0,so.Ic)((zt,Pe)=>{const Ye=zt.getColor(li.hw);Ye&&Pe.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Ye}; }`);const xt=zt.getColor(Li._wn);xt&&Pe.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${xt} 0 -6px 6px -6px inset; }`)}),(0,yn.Qr)(class An extends yn.R6{constructor(){super({id:"editor.action.diffReview.next",label:ye.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:oi.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(Pe,Ye){const xt=Qn(Pe);xt&&xt.diffReviewNext()}}),(0,yn.Qr)(class jn extends yn.R6{constructor(){super({id:"editor.action.diffReview.prev",label:ye.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:oi.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(Pe,Ye){const xt=Qn(Pe);xt&&xt.diffReviewPrev()}});var wi=e(8680),xi=e(59758),no=e(81534),Oi=e(18632),Ki=e(56110),ji=e(9265),co=e(62706),yo=e(54436),Go=e(50703),Po=function(zt,Pe,Ye,xt){return new(Ye||(Ye=Promise))(function(pn,bn){function kn(qn){try{Zn(xt.next(qn))}catch(ri){bn(ri)}}function Xn(qn){try{Zn(xt.throw(qn))}catch(ri){bn(ri)}}function Zn(qn){qn.done?pn(qn.value):function Xt(pn){return pn instanceof Ye?pn:new Ye(function(bn){bn(pn)})}(qn.value).then(kn,Xn)}Zn((xt=xt.apply(zt,Pe||[])).next())})};class wo extends b.JT{constructor(Pe,Ye,xt,Xt,pn,bn){super(),this._viewZoneId=Pe,this._marginDomNode=Ye,this.editor=xt,this.diff=Xt,this._contextMenuService=pn,this._clipboardService=bn,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=oo.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const kn=xt.getOption(61),Xn=xt.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${kn}px`,this._diffActions.style.lineHeight=`${kn}px`,this._marginDomNode.appendChild(this._diffActions);const Zn=[],qn=0===Xt.modifiedEndLineNumber;Zn.push(new Vn.aU("diff.clipboard.copyDeletedContent",qn?Xt.originalEndLineNumber>Xt.modifiedStartLineNumber?ye.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):ye.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Xt.originalEndLineNumber>Xt.modifiedStartLineNumber?ye.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):ye.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>Po(this,void 0,void 0,function*(){const Xi=new H.e(Xt.originalStartLineNumber,1,Xt.originalEndLineNumber+1,1),po=Xt.originalModel.getValueInRange(Xi);yield this._clipboardService.writeText(po)})));let Mi,ri=0;Xt.originalEndLineNumber>Xt.modifiedStartLineNumber&&(Mi=new Vn.aU("diff.clipboard.copyDeletedLineContent",qn?ye.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Xt.originalStartLineNumber):ye.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Xt.originalStartLineNumber),void 0,!0,()=>Po(this,void 0,void 0,function*(){const Xi=Xt.originalModel.getLineContent(Xt.originalStartLineNumber+ri);if(""===Xi){const po=Xt.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===po?"\n":"\r\n")}else yield this._clipboardService.writeText(Xi)})),Zn.push(Mi)),xt.getOption(83)||Zn.push(new Vn.aU("diff.inline.revertChange",ye.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>Po(this,void 0,void 0,function*(){const Xi=new H.e(Xt.originalStartLineNumber,1,Xt.originalEndLineNumber,Xt.originalModel.getLineMaxColumn(Xt.originalEndLineNumber)),po=Xt.originalModel.getValueInRange(Xi);if(0===Xt.modifiedEndLineNumber){const Io=xt.getModel().getLineMaxColumn(Xt.modifiedStartLineNumber);xt.executeEdits("diffEditor",[{range:new H.e(Xt.modifiedStartLineNumber,Io,Xt.modifiedStartLineNumber,Io),text:Xn+po}])}else{const Io=xt.getModel().getLineMaxColumn(Xt.modifiedEndLineNumber);xt.executeEdits("diffEditor",[{range:new H.e(Xt.modifiedStartLineNumber,1,Xt.modifiedEndLineNumber,Io),text:po}])}})));const Vi=(Xi,po)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:Xi,y:po}),getActions:()=>(Mi&&(Mi.label=qn?ye.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Xt.originalStartLineNumber+ri):ye.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Xt.originalStartLineNumber+ri)),Zn),autoSelectFirstItem:!0})};this._register(Me.mu(this._diffActions,"mousedown",Xi=>{const{top:po,height:Io}=Me.i(this._diffActions),Ao=Math.floor(kn/3);Xi.preventDefault(),Vi(Xi.posx,po+Io+Ao)})),this._register(xt.onMouseMove(Xi=>{8!==Xi.target.type&&5!==Xi.target.type||Xi.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,ri=this._updateLightBulbPosition(this._marginDomNode,Xi.event.browserEvent.y,kn))})),this._register(xt.onMouseDown(Xi=>{!Xi.event.rightButton||(8===Xi.target.type||5===Xi.target.type)&&Xi.target.detail.viewZoneId===this._viewZoneId&&(Xi.event.preventDefault(),ri=this._updateLightBulbPosition(this._marginDomNode,Xi.event.browserEvent.y,kn),Vi(Xi.event.posx,Xi.event.posy+kn))}))}get visibility(){return this._visibility}set visibility(Pe){this._visibility!==Pe&&(this._visibility=Pe,this._diffActions.style.visibility=Pe?"visible":"hidden")}_updateLightBulbPosition(Pe,Ye,xt){const{top:Xt}=Me.i(Pe),bn=Math.floor((Ye-Xt)/xt);if(this._diffActions.style.top=bn*xt+"px",this.diff.viewLineCounts){let Xn=0;for(let Zn=0;Zn<this.diff.viewLineCounts.length;Zn++)if(Xn+=this.diff.viewLineCounts[Zn],bn<Xn)return Zn}return bn}}var On,Do=e(25787),to=e(4125),vo=e(55538),Oo=e(93972),ai=e(92273),Yt=e(18034),ln=function(zt,Pe){return function(Ye,xt){Pe(Ye,xt,zt)}};class Fn{constructor(Pe,Ye){this._contextMenuService=Pe,this._clipboardService=Ye,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Pe){return Pe.filter(Ye=>!this._zonesMap[String(Ye.id)])}clean(Pe){this._zones.length>0&&Pe.changeViewZones(Ye=>{for(const xt of this._zones)Ye.removeZone(xt)}),this._zones=[],this._zonesMap={},Pe.changeDecorations(Ye=>{this._decorations=Ye.deltaDecorations(this._decorations,[])})}apply(Pe,Ye,xt,Xt){const pn=Xt?ot.Z.capture(Pe):null;Pe.changeViewZones(bn=>{var kn;for(const Xn of this._zones)bn.removeZone(Xn);for(const Xn of this._inlineDiffMargins)Xn.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Xn=0,Zn=xt.zones.length;Xn<Zn;Xn++){const qn=xt.zones[Xn];qn.suppressMouseDown=!0;const ri=bn.addZone(qn);this._zones.push(ri),this._zonesMap[String(ri)]=!0,xt.zones[Xn].diff&&qn.marginDomNode&&(qn.suppressMouseDown=!1,0!==(null===(kn=xt.zones[Xn].diff)||void 0===kn?void 0:kn.originalModel.getValueLength())&&this._inlineDiffMargins.push(new wo(ri,qn.marginDomNode,Pe,xt.zones[Xn].diff,this._contextMenuService,this._clipboardService)))}}),pn?.restore(Pe),Pe.changeDecorations(bn=>{this._decorations=bn.deltaDecorations(this._decorations,xt.decorations)}),Ye?.setZones(xt.overviewZones)}}let dn=0;const gt=(0,xo.q5)("diff-insert",oo.lA.add,ye.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),sn=(0,xo.q5)("diff-remove",oo.lA.remove,ye.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),nn=null===(On=window.trustedTypes)||void 0===On?void 0:On.createPolicy("diffEditorWidget",{createHTML:zt=>zt});let xn=class gr extends b.JT{constructor(Pe,Ye,xt,Xt,pn,bn,kn,Xn,Zn,qn,ri,Mi){super(),this._editorProgressService=Mi,this._onDidDispose=this._register(new P.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new P.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new P.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=pn,this._codeEditorService=Xn,this._contextKeyService=this._register(bn.createScoped(Pe)),this._instantiationService=kn.createChild(new co.y([oi.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Zn,this._notificationService=qn,this._id=++dn,this._state=0,this._updatingDiffProgress=null,this._domElement=Pe,this._options=me(Ye=Ye||{},{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),this._contextKeyService.createKey("isInEmbeddedDiffEditor",typeof Ye.isInEmbeddedEditor<"u"&&Ye.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new qe.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=gr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,ue.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Me.mu(this._overviewDomElement,Me.tw.POINTER_DOWN,Vi=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(Vi)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Fn(ri,Xt),this._modifiedEditorState=new Fn(ri,Xt),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Oo.I(this._containerDomElement,Ye.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ye.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ye,xt.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ye,xt.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=kn.createInstance(gn,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new Zt(this._createDataSource(),this._options.enableSplitViewResizing):new Re(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Zn.onDidColorThemeChange(Vi=>{this._strategy&&this._strategy.applyColors(Vi)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=gr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Ni=yn.Uc.getDiffEditorContributions();for(const Vi of Ni)try{this._register(kn.createInstance(Vi.ctor,this))}catch(Xi){(0,to.dL)(Xi)}this._codeEditorService.addDiffEditor(this)}_setState(Pe){this._state!==Pe&&(this._state=Pe,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Pe,Ye){let xt="monaco-diff-editor monaco-editor-background ";return Ye&&(xt+="side-by-side "),xt+=(0,so.m6)(Pe.type),xt}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(I.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Pe,Ye){const xt=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Pe),Ye);this._register(xt.onDidScrollChange(pn=>{this._isHandlingScrollEvent||!pn.scrollTopChanged&&!pn.scrollLeftChanged&&!pn.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:pn.scrollLeft,scrollTop:pn.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(xt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(xt.onDidChangeConfiguration(pn=>{!xt.getModel()||(pn.hasChanged(46)&&this._updateDecorationsRunner.schedule(),pn.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(xt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(xt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Xt=this._contextKeyService.createKey("isInDiffLeftEditor",xt.hasWidgetFocus());return this._register(xt.onDidFocusEditorWidget(()=>Xt.set(!0))),this._register(xt.onDidBlurEditorWidget(()=>Xt.set(!1))),this._register(xt.onDidContentSizeChange(pn=>{const bn=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+gr.ONE_OVERVIEW_WIDTH,kn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:kn,contentWidth:bn,contentHeightChanged:pn.contentHeightChanged,contentWidthChanged:pn.contentWidthChanged})})),xt}_createRightHandSideEditor(Pe,Ye){const xt=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Pe),Ye);this._register(xt.onDidScrollChange(pn=>{this._isHandlingScrollEvent||!pn.scrollTopChanged&&!pn.scrollLeftChanged&&!pn.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:pn.scrollLeft,scrollTop:pn.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(xt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(xt.onDidChangeConfiguration(pn=>{!xt.getModel()||(pn.hasChanged(46)&&this._updateDecorationsRunner.schedule(),pn.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(xt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(xt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(xt.onDidChangeModelOptions(pn=>{pn.tabSize&&this._updateDecorationsRunner.schedule()}));const Xt=this._contextKeyService.createKey("isInDiffRightEditor",xt.hasWidgetFocus());return this._register(xt.onDidFocusEditorWidget(()=>Xt.set(!0))),this._register(xt.onDidBlurEditorWidget(()=>Xt.set(!1))),this._register(xt.onDidContentSizeChange(pn=>{const bn=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+gr.ONE_OVERVIEW_WIDTH,kn=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:kn,contentWidth:bn,contentHeightChanged:pn.contentHeightChanged,contentWidthChanged:pn.contentWidthChanged})})),this._register(xt.onMouseDown(pn=>{var bn,kn;if(!pn.event.rightButton&&pn.target.position&&(null===(bn=pn.target.element)||void 0===bn?void 0:bn.className.includes("arrow-revert-change"))){const Xn=pn.target.position.lineNumber,Zn=null===(kn=this._diffComputationResult)||void 0===kn?void 0:kn.changes.find(qn=>qn.modifiedStartLineNumber===Xn-1||qn.modifiedStartLineNumber===Xn);return Zn&&this.revertChange(Zn),pn.event.stopPropagation(),void this._updateDecorations()}})),xt}revertChange(Pe){const Ye=this._modifiedEditor,xt=this._originalEditor.getModel(),Xt=this._modifiedEditor.getModel();if(!xt||!Xt||!Ye)return;const pn=Pe.originalEndLineNumber>0?new H.e(Pe.originalStartLineNumber,1,Pe.originalEndLineNumber,xt.getLineMaxColumn(Pe.originalEndLineNumber)):null,bn=pn?xt.getValueInRange(pn):null,kn=Pe.modifiedEndLineNumber>0?new H.e(Pe.modifiedStartLineNumber,1,Pe.modifiedEndLineNumber,Xt.getLineMaxColumn(Pe.modifiedEndLineNumber)):null,Xn=Xt.getEOL();if(0===Pe.originalEndLineNumber&&kn){let Zn=kn;Pe.modifiedStartLineNumber>1?Zn=kn.setStartPosition(Pe.modifiedStartLineNumber-1,Xt.getLineMaxColumn(Pe.modifiedStartLineNumber-1)):Pe.modifiedEndLineNumber<Xt.getLineCount()&&(Zn=kn.setEndPosition(Pe.modifiedEndLineNumber+1,1)),Ye.executeEdits("diffEditor",[{range:Zn,text:""}])}else if(0===Pe.modifiedEndLineNumber&&null!==bn){const Zn=Pe.modifiedStartLineNumber<Xt.getLineCount()?new zn.L(Pe.modifiedStartLineNumber+1,1):new zn.L(Pe.modifiedStartLineNumber,Xt.getLineMaxColumn(Pe.modifiedStartLineNumber));Ye.executeEdits("diffEditor",[{range:H.e.fromPositions(Zn,Zn),text:Pe.modifiedStartLineNumber<Xt.getLineCount()?bn+Xn:Xn+bn}])}else kn&&null!==bn&&Ye.executeEdits("diffEditor",[{range:kn,text:bn}])}_createInnerEditor(Pe,Ye,xt,Xt){return Pe.createInstance(Ut.Gm,Ye,xt,Xt)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return B.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Pe){const Ye=me(Pe,this._options),xt=function Ke(zt,Pe){return{enableSplitViewResizing:zt.enableSplitViewResizing!==Pe.enableSplitViewResizing,renderSideBySide:zt.renderSideBySide!==Pe.renderSideBySide,renderMarginRevertIcon:zt.renderMarginRevertIcon!==Pe.renderMarginRevertIcon,maxComputationTime:zt.maxComputationTime!==Pe.maxComputationTime,maxFileSize:zt.maxFileSize!==Pe.maxFileSize,ignoreTrimWhitespace:zt.ignoreTrimWhitespace!==Pe.ignoreTrimWhitespace,renderIndicators:zt.renderIndicators!==Pe.renderIndicators,originalEditable:zt.originalEditable!==Pe.originalEditable,diffCodeLens:zt.diffCodeLens!==Pe.diffCodeLens,renderOverviewRuler:zt.renderOverviewRuler!==Pe.renderOverviewRuler,diffWordWrap:zt.diffWordWrap!==Pe.diffWordWrap}}(this._options,Ye);this._options=Ye;const pn=this._isVisible&&(xt.maxComputationTime||xt.maxFileSize);xt.ignoreTrimWhitespace||xt.renderIndicators||xt.renderMarginRevertIcon?this._beginUpdateDecorations():pn&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Pe)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Pe)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),xt.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new Zt(this._createDataSource(),this._options.enableSplitViewResizing):new Re(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=gr._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),xt.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Pe){if(Pe&&(!Pe.original||!Pe.modified))throw new Error(Pe.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(Pe?Pe.original:null),this._modifiedEditor.setModel(Pe?Pe.modified:null),this._updateDecorationsRunner.cancel(),Pe&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Pe&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(Pe){return this._modifiedEditor.getVisibleColumnFromPosition(Pe)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Pe,Ye="api"){this._modifiedEditor.setPosition(Pe,Ye)}revealLine(Pe,Ye=0){this._modifiedEditor.revealLine(Pe,Ye)}revealLineInCenter(Pe,Ye=0){this._modifiedEditor.revealLineInCenter(Pe,Ye)}revealLineInCenterIfOutsideViewport(Pe,Ye=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Pe,Ye)}revealLineNearTop(Pe,Ye=0){this._modifiedEditor.revealLineNearTop(Pe,Ye)}revealPosition(Pe,Ye=0){this._modifiedEditor.revealPosition(Pe,Ye)}revealPositionInCenter(Pe,Ye=0){this._modifiedEditor.revealPositionInCenter(Pe,Ye)}revealPositionInCenterIfOutsideViewport(Pe,Ye=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Pe,Ye)}revealPositionNearTop(Pe,Ye=0){this._modifiedEditor.revealPositionNearTop(Pe,Ye)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Pe,Ye="api"){this._modifiedEditor.setSelection(Pe,Ye)}setSelections(Pe,Ye="api"){this._modifiedEditor.setSelections(Pe,Ye)}revealLines(Pe,Ye,xt=0){this._modifiedEditor.revealLines(Pe,Ye,xt)}revealLinesInCenter(Pe,Ye,xt=0){this._modifiedEditor.revealLinesInCenter(Pe,Ye,xt)}revealLinesInCenterIfOutsideViewport(Pe,Ye,xt=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Pe,Ye,xt)}revealLinesNearTop(Pe,Ye,xt=0){this._modifiedEditor.revealLinesNearTop(Pe,Ye,xt)}revealRange(Pe,Ye=0,xt=!1,Xt=!0){this._modifiedEditor.revealRange(Pe,Ye,xt,Xt)}revealRangeInCenter(Pe,Ye=0){this._modifiedEditor.revealRangeInCenter(Pe,Ye)}revealRangeInCenterIfOutsideViewport(Pe,Ye=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Pe,Ye)}revealRangeNearTop(Pe,Ye=0){this._modifiedEditor.revealRangeNearTop(Pe,Ye)}revealRangeNearTopIfOutsideViewport(Pe,Ye=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Pe,Ye)}revealRangeAtTop(Pe,Ye=0){this._modifiedEditor.revealRangeAtTop(Pe,Ye)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(Pe){if(Pe&&Pe.original&&Pe.modified){const Ye=Pe;this._originalEditor.restoreViewState(Ye.original),this._modifiedEditor.restoreViewState(Ye.modified)}}layout(Pe){this._elementSizeObserver.observe(Pe)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Pe,Ye,xt){this._modifiedEditor.trigger(Pe,Ye,xt)}createDecorationsCollection(Pe){return this._modifiedEditor.createDecorationsCollection(Pe)}changeDecorations(Pe){return this._modifiedEditor.changeDecorations(Pe)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Pe=this._elementSizeObserver.getHeight(),Ye=this._getReviewHeight(),xt=gr.ENTIRE_DIFF_OVERVIEW_WIDTH-2*gr.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:gr.ONE_OVERVIEW_WIDTH,right:xt+gr.ONE_OVERVIEW_WIDTH,height:Pe-Ye}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:gr.ONE_OVERVIEW_WIDTH,height:Pe-Ye}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),gr.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Pe,Ye){return!Pe&&!Ye||!(!Pe||!Ye)&&Pe.toString()===Ye.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Pe=this._originalEditor.getModel(),Ye=this._modifiedEditor.getModel();if(!Pe||!Ye)return;this._diffComputationToken++;const xt=this._diffComputationToken,Xt=1024*this._options.maxFileSize*1024,pn=bn=>{const kn=bn.getValueLength();return 0===Xt||kn<=Xt};pn(Pe)&&pn(Ye)?(this._setState(1),this._editorWorkerService.computeDiff(Pe.uri,Ye.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(bn=>{xt===this._diffComputationToken&&Pe===this._originalEditor.getModel()&&Ye===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=bn,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},bn=>{xt===this._diffComputationToken&&Pe===this._originalEditor.getModel()&&Ye===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!gr._equals(Pe.uri,this._lastOriginalWarning)||!gr._equals(Ye.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Pe.uri,this._lastModifiedWarning=Ye.uri,this._notificationService.warn(ye.NC("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Pe=this._diffComputationResult?this._diffComputationResult.changes:[],Ye=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),xt=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Xt=this._strategy.getEditorsDiffDecorations(Pe,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,Ye,xt);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Xt.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Xt.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Pe){const Ye=Object.assign({},Pe);return Ye.inDiffEditor=!0,Ye.automaticLayout=!1,Ye.scrollbar=Object.assign({},Ye.scrollbar||{}),Ye.scrollbar.vertical="visible",Ye.folding=!1,Ye.codeLens=this._options.diffCodeLens,Ye.fixedOverflowWidgets=!0,Ye.minimap=Object.assign({},Ye.minimap||{}),Ye.minimap.enabled=!1,Ye}_adjustOptionsForLeftHandSide(Pe){const Ye=this._adjustOptionsForSubEditor(Pe);return this._options.renderSideBySide?Ye.wordWrapOverride1=this._options.diffWordWrap:(Ye.wordWrapOverride1="off",Ye.wordWrapOverride2="off"),Pe.originalAriaLabel&&(Ye.ariaLabel=Pe.originalAriaLabel),Ye.readOnly=!this._options.originalEditable,Ye.dropIntoEditor={enabled:!Ye.readOnly},Ye.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ye),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Pe){const Ye=this._adjustOptionsForSubEditor(Pe);return Pe.modifiedAriaLabel&&(Ye.ariaLabel=Pe.modifiedAriaLabel),Ye.wordWrapOverride1=this._options.diffWordWrap,Ye.revealHorizontalRightPadding=d.BH.revealHorizontalRightPadding.defaultValue+gr.ENTIRE_DIFF_OVERVIEW_WIDTH,Ye.scrollbar.verticalHasArrows=!1,Ye.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ye),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Pe=this._elementSizeObserver.getWidth(),Ye=this._elementSizeObserver.getHeight(),xt=this._getReviewHeight(),Xt=this._strategy.layout();this._originalDomNode.style.width=Xt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Pe-Xt+"px",this._modifiedDomNode.style.left=Xt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ye-xt+"px",this._overviewDomElement.style.width=gr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Pe-gr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(gr.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Xt,height:Ye-xt}),this._modifiedEditor.layout({width:Pe-Xt-(this._options.renderOverviewRuler?gr.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ye-xt}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ye-xt,Pe,xt),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Pe=this._computeOverviewViewport();Pe?(this._overviewViewportDomElement.setTop(Pe.top),this._overviewViewportDomElement.setHeight(Pe.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Pe=this._modifiedEditor.getLayoutInfo();if(!Pe)return null;const Ye=this._modifiedEditor.getScrollTop(),xt=this._modifiedEditor.getScrollHeight(),Xt=Math.max(0,Pe.height),pn=Math.max(0,Xt-0),bn=xt>0?pn/xt:0;return{height:Math.max(0,Math.floor(Pe.height*bn)),top:Math.floor(Ye*bn)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Pe){this._strategy&&this._strategy.dispose(),this._strategy=Pe,Pe.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Pe,Ye){const xt=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===xt.length||Pe<Ye(xt[0]))return null;let Xt=0,pn=xt.length-1;for(;Xt<pn;){const bn=Math.floor((Xt+pn)/2),kn=Ye(xt[bn]),Xn=bn+1<=pn?Ye(xt[bn+1]):1073741824;Pe<kn?pn=bn-1:Pe>=Xn?Xt=bn+1:(Xt=bn,pn=bn)}return xt[Xt]}_getEquivalentLineForOriginalLineNumber(Pe){const Ye=this._getLineChangeAtOrBeforeLineNumber(Pe,Xn=>Xn.originalStartLineNumber);if(!Ye)return Pe;const Xt=Ye.modifiedStartLineNumber+(Ye.modifiedEndLineNumber>0?-1:0),pn=Ye.originalEndLineNumber>0?Ye.originalEndLineNumber-Ye.originalStartLineNumber+1:0,bn=Ye.modifiedEndLineNumber>0?Ye.modifiedEndLineNumber-Ye.modifiedStartLineNumber+1:0,kn=Pe-(Ye.originalStartLineNumber+(Ye.originalEndLineNumber>0?-1:0));return kn<=pn?Xt+Math.min(kn,bn):Xt+bn-pn+kn}_getEquivalentLineForModifiedLineNumber(Pe){const Ye=this._getLineChangeAtOrBeforeLineNumber(Pe,Xn=>Xn.modifiedStartLineNumber);if(!Ye)return Pe;const xt=Ye.originalStartLineNumber+(Ye.originalEndLineNumber>0?-1:0),pn=Ye.originalEndLineNumber>0?Ye.originalEndLineNumber-Ye.originalStartLineNumber+1:0,bn=Ye.modifiedEndLineNumber>0?Ye.modifiedEndLineNumber-Ye.modifiedStartLineNumber+1:0,kn=Pe-(Ye.modifiedStartLineNumber+(Ye.modifiedEndLineNumber>0?-1:0));return kn<=bn?xt+Math.min(kn,pn):xt+pn-bn+kn}getDiffLineInformationForOriginal(Pe){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Pe)}:null}getDiffLineInformationForModified(Pe){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Pe)}:null}};xn.ONE_OVERVIEW_WIDTH=15,xn.ENTIRE_DIFF_OVERVIEW_WIDTH=30,xn.UPDATE_DIFF_DECORATIONS_DELAY=200,xn=function(zt,Pe,Ye,xt){var bn,Xt=arguments.length,pn=Xt<3?Pe:null===xt?xt=Object.getOwnPropertyDescriptor(Pe,Ye):xt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pn=Reflect.decorate(zt,Pe,Ye,xt);else for(var kn=zt.length-1;kn>=0;kn--)(bn=zt[kn])&&(pn=(Xt<3?bn(pn):Xt>3?bn(Pe,Ye,pn):bn(Pe,Ye))||pn);return Xt>3&&pn&&Object.defineProperty(Pe,Ye,pn),pn}([ln(3,Do.p),ln(4,no.p),ln(5,oi.i6),ln(6,ji.TG),ln(7,w.$),ln(8,so.XE),ln(9,yo.lT),ln(10,Go.i),ln(11,vo.ek)],xn);class Pn extends b.JT{constructor(Pe){super(),this._dataSource=Pe,this._insertColor=null,this._removeColor=null}applyColors(Pe){const Ye=Pe.getColor(Li.P6Y)||(Pe.getColor(Li.ypS)||Li.CzK).transparent(2),xt=Pe.getColor(Li.F9q)||(Pe.getColor(Li.P4M)||Li.keg).transparent(2),Xt=!Ye.equals(this._insertColor)||!xt.equals(this._removeColor);return this._insertColor=Ye,this._removeColor=xt,Xt}getEditorsDiffDecorations(Pe,Ye,xt,Xt,pn,bn){bn=bn.sort((qn,ri)=>qn.afterLineNumber-ri.afterLineNumber),pn=pn.sort((qn,ri)=>qn.afterLineNumber-ri.afterLineNumber);const kn=this._getViewZones(Pe,pn,bn,xt),Xn=this._getOriginalEditorDecorations(kn,Pe,Ye,xt),Zn=this._getModifiedEditorDecorations(kn,Pe,Ye,xt,Xt);return{original:{decorations:Xn.decorations,overviewZones:Xn.overviewZones,zones:kn.original},modified:{decorations:Zn.decorations,overviewZones:Zn.overviewZones,zones:kn.modified}}}}class En{constructor(Pe){this._source=Pe,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class ht{constructor(Pe,Ye,xt,Xt,pn){this._lineChanges=Pe,this._originalForeignVZ=Ye,this._modifiedForeignVZ=xt,this._originalEditor=Xt,this._modifiedEditor=pn}static _getViewLineCount(Pe,Ye,xt){const Xt=Pe.getModel(),pn=Pe._getViewModel();if(Xt&&pn){const bn=q(Xt,pn,Ye,xt);return bn.endLineNumber-bn.startLineNumber+1}return xt-Ye+1}getViewZones(){const Pe=this._originalEditor.getOption(61),Ye=this._modifiedEditor.getOption(61),xt=-1!==this._originalEditor.getOption(134).wrappingColumn,Xt=-1!==this._modifiedEditor.getOption(134).wrappingColumn,pn=xt||Xt,bn=this._originalEditor.getModel(),kn=this._originalEditor._getViewModel().coordinatesConverter,Xn=this._modifiedEditor._getViewModel().coordinatesConverter,Zn_original=[],Zn_modified=[];let qn=0,ri=0,Mi=0,Ni=0,Vi=0,Xi=0;const po=(Fo,So)=>Fo.afterLineNumber-So.afterLineNumber,Io=(Fo,So)=>{if(null===So.domNode&&Fo.length>0){const io=Fo[Fo.length-1];if(io.afterLineNumber===So.afterLineNumber&&null===io.domNode)return void(io.heightInLines+=So.heightInLines)}Fo.push(So)},Ao=new En(this._modifiedForeignVZ),Eo=new En(this._originalForeignVZ);let lo=1,$o=1;for(let Fo=0,So=this._lineChanges.length;Fo<=So;Fo++){const io=Fo<So?this._lineChanges[Fo]:null;null!==io?(Mi=io.originalStartLineNumber+(io.originalEndLineNumber>0?-1:0),Ni=io.modifiedStartLineNumber+(io.modifiedEndLineNumber>0?-1:0),ri=io.originalEndLineNumber>0?ht._getViewLineCount(this._originalEditor,io.originalStartLineNumber,io.originalEndLineNumber):0,qn=io.modifiedEndLineNumber>0?ht._getViewLineCount(this._modifiedEditor,io.modifiedStartLineNumber,io.modifiedEndLineNumber):0,Vi=Math.max(io.originalStartLineNumber,io.originalEndLineNumber),Xi=Math.max(io.modifiedStartLineNumber,io.modifiedEndLineNumber)):(Mi+=1e7+ri,Ni+=1e7+qn,Vi=Mi,Xi=Ni);let Lo=[],zo=[];if(pn){let To;To=io?io.originalEndLineNumber>0?io.originalStartLineNumber-lo:io.modifiedStartLineNumber-$o:bn.getLineCount()-lo+1;for(let as=0;as<To;as++){const zs=lo+as,es=$o+as,Gs=kn.getModelLineViewLineCount(zs),Ks=Xn.getModelLineViewLineCount(es);Gs<Ks?Lo.push({afterLineNumber:zs,heightInLines:Ks-Gs,domNode:null,marginDomNode:null}):Gs>Ks&&zo.push({afterLineNumber:es,heightInLines:Gs-Ks,domNode:null,marginDomNode:null})}io&&(lo=(io.originalEndLineNumber>0?io.originalEndLineNumber:io.originalStartLineNumber)+1,$o=(io.modifiedEndLineNumber>0?io.modifiedEndLineNumber:io.modifiedStartLineNumber)+1)}for(;Ao.current&&Ao.current.afterLineNumber<=Xi;){let To;To=Ao.current.afterLineNumber<=Ni?Mi-Ni+Ao.current.afterLineNumber:Vi;let as=null;io&&io.modifiedStartLineNumber<=Ao.current.afterLineNumber&&Ao.current.afterLineNumber<=io.modifiedEndLineNumber&&(as=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Lo.push({afterLineNumber:To,heightInLines:Ao.current.height/Ye,domNode:null,marginDomNode:as}),Ao.advance()}for(;Eo.current&&Eo.current.afterLineNumber<=Vi;){let To;To=Eo.current.afterLineNumber<=Mi?Ni-Mi+Eo.current.afterLineNumber:Xi,zo.push({afterLineNumber:To,heightInLines:Eo.current.height/Pe,domNode:null}),Eo.advance()}if(null!==io&&Hn(io)){const To=this._produceOriginalFromDiff(io,ri,qn);To&&Lo.push(To)}if(null!==io&&Ai(io)){const To=this._produceModifiedFromDiff(io,ri,qn);To&&zo.push(To)}let Zo=0,ns=0;for(Lo=Lo.sort(po),zo=zo.sort(po);Zo<Lo.length&&ns<zo.length;){const To=Lo[Zo],as=zo[ns],zs=To.afterLineNumber-Mi,es=as.afterLineNumber-Ni;zs<es?(Io(Zn_original,To),Zo++):es<zs?(Io(Zn_modified,as),ns++):To.shouldNotShrink?(Io(Zn_original,To),Zo++):as.shouldNotShrink?(Io(Zn_modified,as),ns++):To.heightInLines>=as.heightInLines?(To.heightInLines-=as.heightInLines,ns++):(as.heightInLines-=To.heightInLines,Zo++)}for(;Zo<Lo.length;)Io(Zn_original,Lo[Zo]),Zo++;for(;ns<zo.length;)Io(Zn_modified,zo[ns]),ns++}return{original:ht._ensureDomNodes(Zn_original),modified:ht._ensureDomNodes(Zn_modified)}}static _ensureDomNodes(Pe){return Pe.map(Ye=>(Ye.domNode||(Ye.domNode=Ft()),Ye))}}function Rt(zt,Pe,Ye,xt,Xt){return{range:new H.e(zt,Pe,Ye,xt),options:Xt}}const Vt={arrowRevertChange:xi.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+so.kS.asClassName(oo.lA.arrowRight)}),charDelete:xi.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:xi.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:xi.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:xi.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:xi.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:xi.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+so.kS.asClassName(gt),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:xi.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:xi.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+so.kS.asClassName(sn),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:xi.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};let Zt=(()=>{class zt extends Pn{constructor(Ye,xt){super(Ye),this._disableSash=!1===xt,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new be.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(Xt=>this._onSashDrag(Xt)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Ye){const xt=!1===Ye;this._disableSash!==xt&&(this._disableSash=xt,this._sash.state=this._disableSash?0:3)}layout(Ye=this._sashRatio){const Xt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?xn.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let pn=Math.floor((Ye||.5)*Xt);const bn=Math.floor(.5*Xt);return pn=this._disableSash?bn:pn||bn,Xt>2*zt.MINIMUM_EDITOR_WIDTH?(pn<zt.MINIMUM_EDITOR_WIDTH&&(pn=zt.MINIMUM_EDITOR_WIDTH),pn>Xt-zt.MINIMUM_EDITOR_WIDTH&&(pn=Xt-zt.MINIMUM_EDITOR_WIDTH)):pn=bn,this._sashPosition!==pn&&(this._sashPosition=pn),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Ye){const Xt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?xn.ENTIRE_DIFF_OVERVIEW_WIDTH:0),pn=this.layout((this._startSashPosition+(Ye.currentX-Ye.startX))/Xt);this._sashRatio=pn/Xt,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Ye){return 0}getVerticalSashLeft(Ye){return this._sashPosition}getVerticalSashHeight(Ye){return this._dataSource.getHeight()}_getViewZones(Ye,xt,Xt){const pn=this._dataSource.getOriginalEditor(),bn=this._dataSource.getModifiedEditor();return new Cn(Ye,xt,Xt,pn,bn).getViewZones()}_getOriginalEditorDecorations(Ye,xt,Xt,pn){const bn=this._dataSource.getOriginalEditor(),kn=String(this._removeColor),Xn={decorations:[],overviewZones:[]},Zn=bn.getModel(),qn=bn._getViewModel();for(const ri of xt)if(Ai(ri)){Xn.decorations.push({range:new H.e(ri.originalStartLineNumber,1,ri.originalEndLineNumber,1073741824),options:pn?Vt.lineDeleteWithSign:Vt.lineDelete}),(!Hn(ri)||!ri.charChanges)&&Xn.decorations.push(Rt(ri.originalStartLineNumber,1,ri.originalEndLineNumber,1073741824,Vt.charDeleteWholeLine));const Mi=q(Zn,qn,ri.originalStartLineNumber,ri.originalEndLineNumber);if(Xn.overviewZones.push(new Oi.EY(Mi.startLineNumber,Mi.endLineNumber,0,kn)),ri.charChanges)for(const Ni of ri.charChanges)if(di(Ni))if(Xt)for(let Vi=Ni.originalStartLineNumber;Vi<=Ni.originalEndLineNumber;Vi++){let Xi,po;Xi=Vi===Ni.originalStartLineNumber?Ni.originalStartColumn:Zn.getLineFirstNonWhitespaceColumn(Vi),po=Vi===Ni.originalEndLineNumber?Ni.originalEndColumn:Zn.getLineLastNonWhitespaceColumn(Vi),Xn.decorations.push(Rt(Vi,Xi,Vi,po,Vt.charDelete))}else Xn.decorations.push(Rt(Ni.originalStartLineNumber,Ni.originalStartColumn,Ni.originalEndLineNumber,Ni.originalEndColumn,Vt.charDelete))}return Xn}_getModifiedEditorDecorations(Ye,xt,Xt,pn,bn){const kn=this._dataSource.getModifiedEditor(),Xn=String(this._insertColor),Zn={decorations:[],overviewZones:[]},qn=kn.getModel(),ri=kn._getViewModel();for(const Mi of xt){if(bn)if(Mi.modifiedEndLineNumber>0)Zn.decorations.push({range:new H.e(Mi.modifiedStartLineNumber,1,Mi.modifiedStartLineNumber,1),options:Vt.arrowRevertChange});else{const Ni=Ye.modified.find(Vi=>Vi.afterLineNumber===Mi.modifiedStartLineNumber);Ni&&(Ni.marginDomNode=R())}if(Hn(Mi)){Zn.decorations.push({range:new H.e(Mi.modifiedStartLineNumber,1,Mi.modifiedEndLineNumber,1073741824),options:pn?Vt.lineInsertWithSign:Vt.lineInsert}),(!Ai(Mi)||!Mi.charChanges)&&Zn.decorations.push(Rt(Mi.modifiedStartLineNumber,1,Mi.modifiedEndLineNumber,1073741824,Vt.charInsertWholeLine));const Ni=q(qn,ri,Mi.modifiedStartLineNumber,Mi.modifiedEndLineNumber);if(Zn.overviewZones.push(new Oi.EY(Ni.startLineNumber,Ni.endLineNumber,0,Xn)),Mi.charChanges)for(const Vi of Mi.charChanges)if(yi(Vi))if(Xt)for(let Xi=Vi.modifiedStartLineNumber;Xi<=Vi.modifiedEndLineNumber;Xi++){let po,Io;po=Xi===Vi.modifiedStartLineNumber?Vi.modifiedStartColumn:qn.getLineFirstNonWhitespaceColumn(Xi),Io=Xi===Vi.modifiedEndLineNumber?Vi.modifiedEndColumn:qn.getLineLastNonWhitespaceColumn(Xi),Zn.decorations.push(Rt(Xi,po,Xi,Io,Vt.charInsert))}else Zn.decorations.push(Rt(Vi.modifiedStartLineNumber,Vi.modifiedStartColumn,Vi.modifiedEndLineNumber,Vi.modifiedEndColumn,Vt.charInsert))}}return Zn}}return zt.MINIMUM_EDITOR_WIDTH=100,zt})();class Cn extends ht{constructor(Pe,Ye,xt,Xt,pn){super(Pe,Ye,xt,Xt,pn)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Pe,Ye,xt){return xt>Ye?{afterLineNumber:Math.max(Pe.originalStartLineNumber,Pe.originalEndLineNumber),heightInLines:xt-Ye,domNode:null}:null}_produceModifiedFromDiff(Pe,Ye,xt){return Ye>xt?{afterLineNumber:Math.max(Pe.modifiedStartLineNumber,Pe.modifiedEndLineNumber),heightInLines:Ye-xt,domNode:null}:null}}class Re extends Pn{constructor(Pe,Ye){super(Pe),this._decorationsLeft=Pe.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Pe.getOriginalEditor().onDidLayoutChange(xt=>{this._decorationsLeft!==xt.decorationsLeft&&(this._decorationsLeft=xt.decorationsLeft,Pe.relayoutEditors())}))}setEnableSplitViewResizing(Pe){}_getViewZones(Pe,Ye,xt,Xt){const pn=this._dataSource.getOriginalEditor(),bn=this._dataSource.getModifiedEditor();return new ct(Pe,Ye,xt,pn,bn,Xt).getViewZones()}_getOriginalEditorDecorations(Pe,Ye,xt,Xt){const pn=String(this._removeColor),bn={decorations:[],overviewZones:[]},kn=this._dataSource.getOriginalEditor(),Xn=kn.getModel(),Zn=kn._getViewModel();let qn=0;for(const ri of Ye)if(Ai(ri)){for(bn.decorations.push({range:new H.e(ri.originalStartLineNumber,1,ri.originalEndLineNumber,1073741824),options:Vt.lineDeleteMargin});qn<Pe.modified.length;){const Vi=Pe.modified[qn];if(Vi.diff&&Vi.diff.originalStartLineNumber>=ri.originalStartLineNumber)break;qn++}let Mi=0;if(qn<Pe.modified.length){const Vi=Pe.modified[qn];Vi.diff&&Vi.diff.originalStartLineNumber===ri.originalStartLineNumber&&Vi.diff.originalEndLineNumber===ri.originalEndLineNumber&&Vi.diff.modifiedStartLineNumber===ri.modifiedStartLineNumber&&Vi.diff.modifiedEndLineNumber===ri.modifiedEndLineNumber&&(Mi=Vi.heightInLines)}const Ni=q(Xn,Zn,ri.originalStartLineNumber,ri.originalEndLineNumber);bn.overviewZones.push(new Oi.EY(Ni.startLineNumber,Ni.endLineNumber,Mi,pn))}return bn}_getModifiedEditorDecorations(Pe,Ye,xt,Xt,pn){const bn=this._dataSource.getModifiedEditor(),kn=String(this._insertColor),Xn={decorations:[],overviewZones:[]},Zn=bn.getModel(),qn=bn._getViewModel();for(const ri of Ye)if(Hn(ri)){Xn.decorations.push({range:new H.e(ri.modifiedStartLineNumber,1,ri.modifiedEndLineNumber,1073741824),options:Xt?Vt.lineInsertWithSign:Vt.lineInsert});const Mi=q(Zn,qn,ri.modifiedStartLineNumber,ri.modifiedEndLineNumber);if(Xn.overviewZones.push(new Oi.EY(Mi.startLineNumber,Mi.endLineNumber,0,kn)),ri.charChanges){for(const Ni of ri.charChanges)if(yi(Ni))if(xt)for(let Vi=Ni.modifiedStartLineNumber;Vi<=Ni.modifiedEndLineNumber;Vi++){let Xi,po;Xi=Vi===Ni.modifiedStartLineNumber?Ni.modifiedStartColumn:Zn.getLineFirstNonWhitespaceColumn(Vi),po=Vi===Ni.modifiedEndLineNumber?Ni.modifiedEndColumn:Zn.getLineLastNonWhitespaceColumn(Vi),Xn.decorations.push(Rt(Vi,Xi,Vi,po,Vt.charInsert))}else Xn.decorations.push(Rt(Ni.modifiedStartLineNumber,Ni.modifiedStartColumn,Ni.modifiedEndLineNumber,Ni.modifiedEndColumn,Vt.charInsert))}else Xn.decorations.push(Rt(ri.modifiedStartLineNumber,1,ri.modifiedEndLineNumber,1073741824,Vt.charInsertWholeLine))}return Xn}layout(){return Math.max(5,this._decorationsLeft)}}class ct extends ht{constructor(Pe,Ye,xt,Xt,pn,bn){super(Pe,Ye,xt,Xt,pn),this._originalModel=Xt.getModel(),this._renderIndicators=bn,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Pe=super.getViewZones();return this._finalize(Pe),Pe}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Pe=document.createElement("div");return Pe.className="inline-added-margin-view-zone",Pe}_produceOriginalFromDiff(Pe,Ye,xt){const Xt=document.createElement("div");return Xt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Pe.originalStartLineNumber,Pe.originalEndLineNumber),heightInLines:xt,domNode:document.createElement("div"),marginDomNode:Xt}}_produceModifiedFromDiff(Pe,Ye,xt){const Xt=document.createElement("div");Xt.className=`view-lines line-delete ${ai.S}`;const pn=document.createElement("div");pn.className="inline-deleted-margin-view-zone";const bn={shouldNotShrink:!0,afterLineNumber:0===Pe.modifiedEndLineNumber?Pe.modifiedStartLineNumber:Pe.modifiedStartLineNumber-1,heightInLines:Ye,minWidthInPx:0,domNode:Xt,marginDomNode:pn,diff:{originalStartLineNumber:Pe.originalStartLineNumber,originalEndLineNumber:Pe.originalEndLineNumber,modifiedStartLineNumber:Pe.modifiedStartLineNumber,modifiedEndLineNumber:Pe.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let kn=Pe.originalStartLineNumber;kn<=Pe.originalEndLineNumber;kn++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(kn),null,null);return this._pendingLineChange.push(Pe),this._pendingViewZones.push(bn),bn}_finalize(Pe){const Ye=this._modifiedEditor.getOptions(),xt=this._modifiedEditor.getModel().getOptions().tabSize,Xt=Ye.get(46),pn=Ye.get(29),bn=Xt.typicalHalfwidthCharacterWidth,kn=Ye.get(95),Xn=this._originalModel.mightContainNonBasicASCII(),Zn=this._originalModel.mightContainRTL(),qn=Ye.get(61),Mi=Ye.get(133).decorationsWidth,Ni=Ye.get(107),Vi=Ye.get(90),Xi=Ye.get(85),po=Ye.get(47),Io=this._lineBreaksComputer.finalize();let Ao=0;for(let Eo=0;Eo<this._pendingLineChange.length;Eo++){const lo=this._pendingLineChange[Eo],$o=this._pendingViewZones[Eo],Fo=$o.domNode;(0,Fe.N)(Fo,Xt);const So=$o.marginDomNode;(0,Fe.N)(So,Xt);const io=[];if(lo.charChanges)for(const es of lo.charChanges)di(es)&&io.push(new oe.$t(new H.e(es.originalStartLineNumber,es.originalStartColumn,es.originalEndLineNumber,es.originalEndColumn),"char-delete",0));const Lo=io.length>0,zo=(0,wi.l$)(1e4);let Zo=0,ns=0,To=null;for(let es=lo.originalStartLineNumber;es<=lo.originalEndLineNumber;es++){const Gs=es-lo.originalStartLineNumber,Ks=this._originalModel.tokenization.getLineTokens(es),Bo=Ks.getLineContent(),ws=Io[Ao++],Ii=Ki.Kp.filter(io,es,1,Bo.length+1);if(ws){let Mr=0;for(const ls of ws.breakOffsets){const tl=Ks.sliceAndInflate(Mr,ls,0),Ma=Bo.substring(Mr,ls);Zo=Math.max(Zo,this._renderOriginalLine(ns++,Ma,tl,Ki.Kp.extractWrapped(Ii,Mr,ls),Lo,Xn,Zn,Xt,pn,qn,Mi,Ni,Vi,Xi,po,xt,zo,So)),Mr=ls}for(To||(To=[]);To.length<Gs;)To[To.length]=1;To[Gs]=ws.breakOffsets.length,$o.heightInLines+=ws.breakOffsets.length-1;const _r=document.createElement("div");_r.className="gutter-delete",Pe.original.push({afterLineNumber:es,afterColumn:0,heightInLines:ws.breakOffsets.length-1,domNode:Ft(),marginDomNode:_r})}else Zo=Math.max(Zo,this._renderOriginalLine(ns++,Bo,Ks,Ii,Lo,Xn,Zn,Xt,pn,qn,Mi,Ni,Vi,Xi,po,xt,zo,So))}Zo+=kn;const as=zo.build(),zs=nn?nn.createHTML(as):as;if(Fo.innerHTML=zs,$o.minWidthInPx=Zo*bn,To){const es=lo.originalEndLineNumber-lo.originalStartLineNumber;for(;To.length<=es;)To[To.length]=1}$o.diff.viewLineCounts=To}Pe.original.sort((Eo,lo)=>Eo.afterLineNumber-lo.afterLineNumber)}_renderOriginalLine(Pe,Ye,xt,Xt,pn,bn,kn,Xn,Zn,qn,ri,Mi,Ni,Vi,Xi,po,Io,Ao){Io.appendASCIIString('<div class="view-line'),pn||Io.appendASCIIString(" char-delete"),Io.appendASCIIString('" style="top:'),Io.appendASCIIString(String(Pe*qn)),Io.appendASCIIString('px;width:1000000px;">');const Eo=oe.wA.isBasicASCII(Ye,bn),lo=oe.wA.containsRTL(Ye,Eo,kn),$o=(0,Ne.d1)(new Ne.IJ(Xn.isMonospace&&!Zn,Xn.canUseHalfwidthRightwardsArrow,Ye,!1,Eo,lo,0,xt,Xt,po,0,Xn.spaceWidth,Xn.middotWidth,Xn.wsmiddotWidth,Mi,Ni,Vi,Xi!==d.n0.OFF,null),Io);if(Io.appendASCIIString("</div>"),this._renderIndicators){const Fo=document.createElement("div");Fo.className=`delete-sign ${so.kS.asClassName(sn)}`,Fo.setAttribute("style",`position:absolute;top:${Pe*qn}px;width:${ri}px;height:${qn}px;right:0;`),Ao.appendChild(Fo)}return $o.characterMapping.getHorizontalOffset($o.characterMapping.length)}}function _n(zt,Pe){return(0,d.NY)(zt,Pe,["off","on","inherit"])}function Hn(zt){return zt.modifiedEndLineNumber>0}function Ai(zt){return zt.originalEndLineNumber>0}function yi(zt){return zt.modifiedStartLineNumber===zt.modifiedEndLineNumber?zt.modifiedEndColumn-zt.modifiedStartColumn>0:zt.modifiedEndLineNumber-zt.modifiedStartLineNumber>0}function di(zt){return zt.originalStartLineNumber===zt.originalEndLineNumber?zt.originalEndColumn-zt.originalStartColumn>0:zt.originalEndLineNumber-zt.originalStartLineNumber>0}function Ft(){const zt=document.createElement("div");return zt.className="diagonal-fill",zt}function R(){const zt=document.createElement("div");return zt.className="arrow-revert-change "+so.kS.asClassName(oo.lA.arrowRight),Me.$("div",{},zt)}function q(zt,Pe,Ye,xt){const Xt=zt.getLineCount();return Ye=Math.min(Xt,Math.max(1,Ye)),xt=Math.min(Xt,Math.max(1,xt)),Pe.coordinatesConverter.convertModelRangeToViewRange(new H.e(Ye,zt.getLineMinColumn(Ye),xt,zt.getLineMaxColumn(xt)))}function me(zt,Pe){return{enableSplitViewResizing:(0,d.O7)(zt.enableSplitViewResizing,Pe.enableSplitViewResizing),renderSideBySide:(0,d.O7)(zt.renderSideBySide,Pe.renderSideBySide),renderMarginRevertIcon:(0,d.O7)(zt.renderMarginRevertIcon,Pe.renderMarginRevertIcon),maxComputationTime:(0,d.Zc)(zt.maxComputationTime,Pe.maxComputationTime,0,1073741824),maxFileSize:(0,d.Zc)(zt.maxFileSize,Pe.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,d.O7)(zt.ignoreTrimWhitespace,Pe.ignoreTrimWhitespace),renderIndicators:(0,d.O7)(zt.renderIndicators,Pe.renderIndicators),originalEditable:(0,d.O7)(zt.originalEditable,Pe.originalEditable),diffCodeLens:(0,d.O7)(zt.diffCodeLens,Pe.diffCodeLens),renderOverviewRuler:(0,d.O7)(zt.renderOverviewRuler,Pe.renderOverviewRuler),diffWordWrap:_n(zt.diffWordWrap,Pe.diffWordWrap)}}(0,so.Ic)((zt,Pe)=>{const Ye=zt.getColor(Li.ypS);Ye&&Pe.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Ye}; }`);const xt=zt.getColor(Li.hzo)||Ye;xt&&Pe.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${xt}; }`);const Xt=zt.getColor(Li.j51)||xt;Xt&&(Pe.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${Xt}; }`),Pe.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${Xt}; }`));const pn=zt.getColor(Li.P4M);pn&&Pe.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${pn}; }`);const bn=zt.getColor(Li.xi6)||pn;bn&&Pe.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${bn}; }`);const kn=zt.getColor(Li.zOm)||bn;kn&&(Pe.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${kn}; }`),Pe.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${kn}; }`));const Xn=zt.getColor(Li.XL$);Xn&&Pe.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,Yt.c3)(zt.type)?"dashed":"solid"} ${Xn}; }`);const Zn=zt.getColor(Li.mHy);Zn&&Pe.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,Yt.c3)(zt.type)?"dashed":"solid"} ${Zn}; }`);const qn=zt.getColor(Li._wn);qn&&Pe.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${qn}; }`);const ri=zt.getColor(Li.LLc);ri&&Pe.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${ri}; }`);const Mi=zt.getColor(Li.etL);Mi&&Pe.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${Mi};\n\t\t\t}\n\t\t`);const Ni=zt.getColor(Li.ABB);Ni&&Pe.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${Ni};\n\t\t\t}\n\t\t`);const Vi=zt.getColor(Li.ynu);Vi&&Pe.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${Vi};\n\t\t\t}\n\t\t`);const Xi=zt.getColor(Li.L_t);Pe.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${Xi} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${Xi} 50%, ${Xi} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)});var Xe=e(58397),at=e(53559),tn=e(55503),Jt=e(74918),Sn=e(66549),Tn=e(14759),Bn=e(64280),Kn=e(74982),ti=e(55843),fi=e(72188),hi=e(90790),Ot=function(zt,Pe,Ye,xt){var bn,Xt=arguments.length,pn=Xt<3?Pe:null===xt?xt=Object.getOwnPropertyDescriptor(Pe,Ye):xt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pn=Reflect.decorate(zt,Pe,Ye,xt);else for(var kn=zt.length-1;kn>=0;kn--)(bn=zt[kn])&&(pn=(Xt<3?bn(pn):Xt>3?bn(Pe,Ye,pn):bn(Pe,Ye))||pn);return Xt>3&&pn&&Object.defineProperty(Pe,Ye,pn),pn},te=function(zt,Pe){return function(Ye,xt){Pe(Ye,xt,zt)}};let ge=0,it=!1,qt=class extends Ut.Gm{constructor(Pe,Ye,xt,Xt,pn,bn,kn,Xn,Zn,qn,ri,Mi){const Ni=Object.assign({},Ye);Ni.ariaLabel=Ni.ariaLabel||Kn.B8.editorViewAccessibleLabel,Ni.ariaLabel=Ni.ariaLabel+";"+Kn.B8.accessibilityHelpMessage,super(Pe,Ni,{},xt,Xt,pn,bn,Xn,Zn,qn,ri,Mi),this._standaloneKeybindingService=kn instanceof at.zC?kn:null,function Tt(zt){if(!zt){if(it)return;it=!0}ut.wW(zt||document.body)}(Ni.ariaContainerElement)}addCommand(Pe,Ye,xt){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Xt="DYNAMIC_"+ ++ge,pn=oi.Ao.deserialize(xt);return this._standaloneKeybindingService.addDynamicKeybinding(Xt,Pe,Ye,pn),Xt}createContextKey(Pe,Ye){return this._contextKeyService.createKey(Pe,Ye)}addAction(Pe){if("string"!=typeof Pe.id||"string"!=typeof Pe.label||"function"!=typeof Pe.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),b.JT.None;const Ye=Pe.id,xt=Pe.label,Xt=oi.Ao.and(oi.Ao.equals("editorId",this.getId()),oi.Ao.deserialize(Pe.precondition)),pn=Pe.keybindings,bn=oi.Ao.and(Xt,oi.Ao.deserialize(Pe.keybindingContext)),kn=Pe.contextMenuGroupId||null,Xn=Pe.contextMenuOrder||0,Zn=(Ni,...Vi)=>Promise.resolve(Pe.run(this,...Vi)),qn=new b.SL,ri=this.getId()+":"+Ye;if(qn.add(Sn.P0.registerCommand(ri,Zn)),kn&&qn.add(Jt.BH.appendMenuItem(Jt.eH.EditorContext,{command:{id:ri,title:xt},when:Xt,group:kn,order:Xn})),Array.isArray(pn))for(const Ni of pn)qn.add(this._standaloneKeybindingService.addDynamicKeybinding(ri,Ni,Zn,bn));const Mi=new Xe.p(ri,xt,xt,Xt,Zn,this._contextKeyService);return this._actions[Ye]=Mi,qn.add((0,b.OF)(()=>{delete this._actions[Ye]})),qn}_triggerCommand(Pe,Ye){if(this._codeEditorService instanceof ti.B)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(Pe,Ye)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(Pe,Ye)}};qt=Ot([te(2,ji.TG),te(3,w.$),te(4,Sn.Hy),te(5,oi.i6),te(6,Tn.d),te(7,so.XE),te(8,yo.lT),te(9,Bn.F),te(10,j.c_),te(11,hi.p)],qt);let Mt=class extends qt{constructor(Pe,Ye,xt,Xt,pn,bn,kn,Xn,Zn,qn,ri,Mi,Ni,Vi,Xi){const po=Object.assign({},Ye);(0,at.XZ)(qn,po,!1);const Io=Xn.registerEditorContainer(Pe);"string"==typeof po.theme&&Xn.setTheme(po.theme),typeof po.autoDetectHighContrast<"u"&&Xn.setAutoDetectHighContrast(Boolean(po.autoDetectHighContrast));const Ao=po.model;let Eo;if(delete po.model,super(Pe,po,xt,Xt,pn,bn,kn,Xn,Zn,ri,Vi,Xi),this._configurationService=qn,this._standaloneThemeService=Xn,this._register(Io),typeof Ao>"u"){const lo=Ni.getLanguageIdByMimeType(po.language)||po.language||fi.bd;Eo=Ie(Mi,Ni,po.value||"",lo,void 0),this._ownsModel=!0}else Eo=Ao,this._ownsModel=!1;this._attachModel(Eo),Eo&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:Eo.uri})}dispose(){super.dispose()}updateOptions(Pe){(0,at.XZ)(this._configurationService,Pe,!1),"string"==typeof Pe.theme&&this._standaloneThemeService.setTheme(Pe.theme),typeof Pe.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(Pe.autoDetectHighContrast)),super.updateOptions(Pe)}_postDetachModelCleanup(Pe){super._postDetachModelCleanup(Pe),Pe&&this._ownsModel&&(Pe.dispose(),this._ownsModel=!1)}};Mt=Ot([te(2,ji.TG),te(3,w.$),te(4,Sn.Hy),te(5,oi.i6),te(6,Tn.d),te(7,tn.Z),te(8,yo.lT),te(9,Lt.Ui),te(10,Bn.F),te(11,V.q),te(12,N.O),te(13,j.c_),te(14,hi.p)],Mt);let ee=class extends xn{constructor(Pe,Ye,xt,Xt,pn,bn,kn,Xn,Zn,qn,ri,Mi){const Ni=Object.assign({},Ye);(0,at.XZ)(Zn,Ni,!0);const Vi=kn.registerEditorContainer(Pe);"string"==typeof Ni.theme&&kn.setTheme(Ni.theme),typeof Ni.autoDetectHighContrast<"u"&&kn.setAutoDetectHighContrast(Boolean(Ni.autoDetectHighContrast)),super(Pe,Ni,{},Mi,pn,Xt,xt,bn,kn,Xn,qn,ri),this._configurationService=Zn,this._standaloneThemeService=kn,this._register(Vi)}dispose(){super.dispose()}updateOptions(Pe){(0,at.XZ)(this._configurationService,Pe,!0),"string"==typeof Pe.theme&&this._standaloneThemeService.setTheme(Pe.theme),typeof Pe.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(Pe.autoDetectHighContrast)),super.updateOptions(Pe)}_createInnerEditor(Pe,Ye,xt){return Pe.createInstance(qt,Ye,xt)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(Pe,Ye,xt){return this.getModifiedEditor().addCommand(Pe,Ye,xt)}createContextKey(Pe,Ye){return this.getModifiedEditor().createContextKey(Pe,Ye)}addAction(Pe){return this.getModifiedEditor().addAction(Pe)}};function Ie(zt,Pe,Ye,xt,Xt){if(Ye=Ye||"",!xt){const pn=Ye.indexOf("\n");let bn=Ye;return-1!==pn&&(bn=Ye.substring(0,pn)),rt(zt,Ye,Pe.createByFilepathOrFirstLine(Xt||null,bn),Xt)}return rt(zt,Ye,Pe.createById(xt),Xt)}function rt(zt,Pe,Ye,xt){return zt.createModel(Pe,Ye,xt)}ee=Ot([te(2,ji.TG),te(3,oi.i6),te(4,no.p),te(5,w.$),te(6,tn.Z),te(7,yo.lT),te(8,Lt.Ui),te(9,Go.i),te(10,vo.ek),te(11,Do.p)],ee);var $t=e(58177);function cn(zt,Pe,Ye){return at.IO.initialize(Ye||{}).createInstance(Mt,zt,Pe)}function Ln(zt){return at.IO.get(w.$).onCodeEditorAdd(Ye=>{zt(Ye)})}function In(zt){return at.IO.get(w.$).onDiffEditorAdd(Ye=>{zt(Ye)})}function ni(){return at.IO.get(w.$).listCodeEditors()}function Jn(){return at.IO.get(w.$).listDiffEditors()}function gi(zt,Pe,Ye){return at.IO.initialize(Ye||{}).createInstance(ee,zt,Pe)}function vi(zt,Pe){return new K(zt,Pe)}function bi(zt){if("string"!=typeof zt.id||"function"!=typeof zt.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Sn.P0.registerCommand(zt.id,zt.run)}function Pi(zt){if("string"!=typeof zt.id||"string"!=typeof zt.label||"function"!=typeof zt.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const Pe=oi.Ao.deserialize(zt.precondition),xt=new b.SL;if(xt.add(Sn.P0.registerCommand(zt.id,(Xt,...pn)=>yn._l.runEditorCommand(Xt,pn,Pe,(bn,kn,Xn)=>Promise.resolve(zt.run(kn,...Xn))))),zt.contextMenuGroupId&&xt.add(Jt.BH.appendMenuItem(Jt.eH.EditorContext,{command:{id:zt.id,title:zt.label},when:Pe,group:zt.contextMenuGroupId,order:zt.contextMenuOrder||0})),Array.isArray(zt.keybindings)){const Xt=at.IO.get(Tn.d);if(Xt instanceof at.zC){const pn=oi.Ao.and(Pe,oi.Ao.deserialize(zt.keybindingContext));xt.add(Xt.addDynamicKeybindings(zt.keybindings.map(bn=>({keybinding:bn,command:zt.id,when:pn}))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return xt}function Wi(zt){return Yi([zt])}function Yi(zt){const Pe=at.IO.get(Tn.d);return Pe instanceof at.zC?Pe.addDynamicKeybindings(zt.map(Ye=>({keybinding:Ye.keybinding,command:Ye.command,commandArgs:Ye.commandArgs,when:oi.Ao.deserialize(Ye.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),b.JT.None)}function $i(zt,Pe,Ye){const xt=at.IO.get(N.O),Xt=xt.getLanguageIdByMimeType(Pe)||Pe;return Ie(at.IO.get(V.q),xt,zt,Xt,Ye)}function Co(zt,Pe){const Ye=at.IO.get(N.O);at.IO.get(V.q).setMode(zt,Ye.createById(Pe))}function Ho(zt,Pe,Ye){zt&&at.IO.get($t.lT).changeOne(Pe,zt.uri,Ye)}function Ro(zt){at.IO.get($t.lT).changeAll(zt,[])}function is(zt){return at.IO.get($t.lT).read(zt)}function nr(zt){return at.IO.get($t.lT).onMarkerChanged(zt)}function Ls(zt){return at.IO.get(V.q).getModel(zt)}function Yo(){return at.IO.get(V.q).getModels()}function Ko(zt){return at.IO.get(V.q).onModelAdded(zt)}function Nr(zt){return at.IO.get(V.q).onModelRemoved(zt)}function Ps(zt){return at.IO.get(V.q).onModelLanguageChanged(Ye=>{zt({model:Ye.model,oldLanguage:Ye.oldLanguageId})})}function Lr(zt){return function M(zt,Pe,Ye){return new Se(zt,Pe,Ye)}(at.IO.get(V.q),at.IO.get(j.c_),zt)}function sa(zt,Pe){const Ye=at.IO.get(N.O),xt=at.IO.get(tn.Z);return xt.registerEditorContainer(zt),_t.colorizeElement(xt,Ye,zt,Pe)}function mr(zt,Pe,Ye){const xt=at.IO.get(N.O);return at.IO.get(tn.Z).registerEditorContainer(document.body),_t.colorize(xt,zt,Pe,Ye)}function $s(zt,Pe,Ye=4){return at.IO.get(tn.Z).registerEditorContainer(document.body),_t.colorizeModelLine(zt,Pe,Ye)}function Rr(zt,Pe){$.RW.getOrCreate(Pe);const Ye=function Zs(zt){return $.RW.get(zt)||{getInitialState:()=>ne.TJ,tokenize:(Ye,xt,Xt)=>(0,ne.Ri)(zt,Xt)}}(Pe),xt=(0,y.uq)(zt),Xt=[];let pn=Ye.getInitialState();for(let bn=0,kn=xt.length;bn<kn;bn++){const Zn=Ye.tokenize(xt[bn],!0,pn);Xt[bn]=Zn.tokens,pn=Zn.endState}return Xt}function er(zt,Pe){at.IO.get(tn.Z).defineTheme(zt,Pe)}function Or(zt){at.IO.get(tn.Z).setTheme(zt)}function Qs(){D.g.clearAllFontInfos()}function js(zt,Pe){return Sn.P0.registerCommand({id:zt,handler:Pe})}var ks=e(69355);function ir(zt,Pe){return"boolean"==typeof zt?zt:Pe}function Fs(zt,Pe){return"string"==typeof zt?zt:Pe}function xr(zt,Pe=!1){Pe&&(zt=zt.map(function(xt){return xt.toLowerCase()}));const Ye=function Jo(zt){const Pe={};for(const Ye of zt)Pe[Ye]=!0;return Pe}(zt);return Pe?function(xt){return void 0!==Ye[xt.toLowerCase()]&&Ye.hasOwnProperty(xt.toLowerCase())}:function(xt){return void 0!==Ye[xt]&&Ye.hasOwnProperty(xt)}}function or(zt,Pe){Pe=Pe.replace(/@@/g,"\x01");let xt,Ye=0;do{xt=!1,Pe=Pe.replace(/@(\w+)/g,function(pn,bn){xt=!0;let kn="";if("string"==typeof zt[bn])kn=zt[bn];else{if(!(zt[bn]&&zt[bn]instanceof RegExp))throw ce(zt,void 0===zt[bn]?"language definition does not contain attribute '"+bn+"', used at: "+Pe:"attribute reference '"+bn+"' must be a string, used at: "+Pe);kn=zt[bn].source}return de(kn)?"":"(?:"+kn+")"}),Ye++}while(xt&&Ye<5);return Pe=Pe.replace(/\x01/g,"@"),new RegExp(Pe,(zt.ignoreCase?"i":"")+(zt.unicode?"u":""))}function Bs(zt,Pe,Ye,xt){let Xt=-1,pn=Ye,bn=Ye.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);bn&&(bn[3]&&(Xt=parseInt(bn[3]),bn[2]&&(Xt+=100)),pn=bn[4]);let Zn,kn="~",Xn=pn;if(pn&&0!==pn.length?/^\w*$/.test(Xn)?kn="==":(bn=pn.match(/^(@|!@|~|!~|==|!=)(.*)$/),bn&&(kn=bn[1],Xn=bn[2])):(kn="!=",Xn=""),"~"!==kn&&"!~"!==kn||!/^(\w|\|)*$/.test(Xn))if("@"===kn||"!@"===kn){const qn=zt[Xn];if(!qn)throw ce(zt,"the @ match target '"+Xn+"' is not defined, in rule: "+Pe);if(!function pr(zt,Pe){if(!Pe||!Array.isArray(Pe))return!1;for(const Ye of Pe)if(!zt(Ye))return!1;return!0}(function(Mi){return"string"==typeof Mi},qn))throw ce(zt,"the @ match target '"+Xn+"' must be an array of strings, in rule: "+Pe);const ri=xr(qn,zt.ignoreCase);Zn=function(Mi){return"@"===kn?ri(Mi):!ri(Mi)}}else if("~"===kn||"!~"===kn)if(Xn.indexOf("$")<0){const qn=or(zt,"^"+Xn+"$");Zn=function(ri){return"~"===kn?qn.test(ri):!qn.test(ri)}}else Zn=function(qn,ri,Mi,Ni){return or(zt,"^"+Ue(zt,Xn,ri,Mi,Ni)+"$").test(qn)};else if(Xn.indexOf("$")<0){const qn=ke(zt,Xn);Zn=function(ri){return"=="===kn?ri===qn:ri!==qn}}else{const qn=ke(zt,Xn);Zn=function(ri,Mi,Ni,Vi,Xi){const po=Ue(zt,qn,Mi,Ni,Vi);return"=="===kn?ri===po:ri!==po}}else{const qn=xr(Xn.split("|"),zt.ignoreCase);Zn=function(ri){return"~"===kn?qn(ri):!qn(ri)}}return-1===Xt?{name:Ye,value:xt,test:function(qn,ri,Mi,Ni){return Zn(qn,qn,ri,Mi,Ni)}}:{name:Ye,value:xt,test:function(qn,ri,Mi,Ni){const Vi=function kr(zt,Pe,Ye,xt){if(xt<0)return zt;if(xt<Pe.length)return Pe[xt];if(xt>=100){xt-=100;const Xt=Ye.split(".");if(Xt.unshift(Ye),xt<Xt.length)return Xt[xt]}return null}(qn,ri,Mi,Xt);return Zn(Vi||"",qn,ri,Mi,Ni)}}}function fs(zt,Pe,Ye){if(Ye){if("string"==typeof Ye)return Ye;if(Ye.token||""===Ye.token){if("string"!=typeof Ye.token)throw ce(zt,"a 'token' attribute must be of type string, in rule: "+Pe);{const xt={token:Ye.token};if(Ye.token.indexOf("$")>=0&&(xt.tokenSubst=!0),"string"==typeof Ye.bracket)if("@open"===Ye.bracket)xt.bracket=1;else{if("@close"!==Ye.bracket)throw ce(zt,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+Pe);xt.bracket=-1}if(Ye.next){if("string"!=typeof Ye.next)throw ce(zt,"the next state must be a string value in rule: "+Pe);{let Xt=Ye.next;if(!/^(@pop|@push|@popall)$/.test(Xt)&&("@"===Xt[0]&&(Xt=Xt.substr(1)),Xt.indexOf("$")<0&&!function Dt(zt,Pe){let Ye=Pe;for(;Ye&&Ye.length>0;){if(zt.stateNames[Ye])return!0;const Xt=Ye.lastIndexOf(".");Ye=Xt<0?null:Ye.substr(0,Xt)}return!1}(zt,Ue(zt,Xt,"",[],""))))throw ce(zt,"the next state '"+Ye.next+"' is not defined in rule: "+Pe);xt.next=Xt}}return"number"==typeof Ye.goBack&&(xt.goBack=Ye.goBack),"string"==typeof Ye.switchTo&&(xt.switchTo=Ye.switchTo),"string"==typeof Ye.log&&(xt.log=Ye.log),"string"==typeof Ye.nextEmbedded&&(xt.nextEmbedded=Ye.nextEmbedded,zt.usesEmbedded=!0),xt}}if(Array.isArray(Ye)){const xt=[];for(let Xt=0,pn=Ye.length;Xt<pn;Xt++)xt[Xt]=fs(zt,Pe,Ye[Xt]);return{group:xt}}if(Ye.cases){const xt=[];for(const pn in Ye.cases)if(Ye.cases.hasOwnProperty(pn)){const bn=fs(zt,Pe,Ye.cases[pn]);xt.push("@default"===pn||"@"===pn||""===pn?{test:void 0,value:bn,name:pn}:"@eos"===pn?{test:function(kn,Xn,Zn,qn){return qn},value:bn,name:pn}:Bs(zt,Pe,pn,bn))}const Xt=zt.defaultToken;return{test:function(pn,bn,kn,Xn){for(const Zn of xt)if(!Zn.test||Zn.test(pn,bn,kn,Xn))return Zn.value;return Xt}}}throw ce(zt,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+Pe)}return{token:""}}class ar{constructor(Pe){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=Pe}setRegex(Pe,Ye){let xt;if("string"==typeof Ye)xt=Ye;else{if(!(Ye instanceof RegExp))throw ce(Pe,"rules must start with a match string or regular expression: "+this.name);xt=Ye.source}this.matchOnlyAtLineStart=xt.length>0&&"^"===xt[0],this.name=this.name+": "+xt,this.regex=or(Pe,"^(?:"+(this.matchOnlyAtLineStart?xt.substr(1):xt)+")")}setAction(Pe,Ye){this.action=fs(Pe,this.name,Ye)}}function lr(zt,Pe){if(!Pe||"object"!=typeof Pe)throw new Error("Monarch: expecting a language definition object");const Ye={};Ye.languageId=zt,Ye.includeLF=ir(Pe.includeLF,!1),Ye.noThrow=!1,Ye.maxStack=100,Ye.start="string"==typeof Pe.start?Pe.start:null,Ye.ignoreCase=ir(Pe.ignoreCase,!1),Ye.unicode=ir(Pe.unicode,!1),Ye.tokenPostfix=Fs(Pe.tokenPostfix,"."+Ye.languageId),Ye.defaultToken=Fs(Pe.defaultToken,"source"),Ye.usesEmbedded=!1;const xt=Pe;function Xt(bn,kn,Xn){for(const Zn of Xn){let qn=Zn.include;if(qn){if("string"!=typeof qn)throw ce(Ye,"an 'include' attribute must be a string at: "+bn);if("@"===qn[0]&&(qn=qn.substr(1)),!Pe.tokenizer[qn])throw ce(Ye,"include target '"+qn+"' is not defined at: "+bn);Xt(bn+"."+qn,kn,Pe.tokenizer[qn])}else{const ri=new ar(bn);if(Array.isArray(Zn)&&Zn.length>=1&&Zn.length<=3)if(ri.setRegex(xt,Zn[0]),Zn.length>=3)if("string"==typeof Zn[1])ri.setAction(xt,{token:Zn[1],next:Zn[2]});else{if("object"!=typeof Zn[1])throw ce(Ye,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+bn);{const Mi=Zn[1];Mi.next=Zn[2],ri.setAction(xt,Mi)}}else ri.setAction(xt,Zn[1]);else{if(!Zn.regex)throw ce(Ye,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+bn);Zn.name&&"string"==typeof Zn.name&&(ri.name=Zn.name),Zn.matchOnlyAtStart&&(ri.matchOnlyAtLineStart=ir(Zn.matchOnlyAtLineStart,!1)),ri.setRegex(xt,Zn.regex),ri.setAction(xt,Zn.action)}kn.push(ri)}}}if(xt.languageId=zt,xt.includeLF=Ye.includeLF,xt.ignoreCase=Ye.ignoreCase,xt.unicode=Ye.unicode,xt.noThrow=Ye.noThrow,xt.usesEmbedded=Ye.usesEmbedded,xt.stateNames=Pe.tokenizer,xt.defaultToken=Ye.defaultToken,!Pe.tokenizer||"object"!=typeof Pe.tokenizer)throw ce(Ye,"a language definition must define the 'tokenizer' attribute as an object");Ye.tokenizer=[];for(const bn in Pe.tokenizer)if(Pe.tokenizer.hasOwnProperty(bn)){Ye.start||(Ye.start=bn);const kn=Pe.tokenizer[bn];Ye.tokenizer[bn]=new Array,Xt("tokenizer."+bn,Ye.tokenizer[bn],kn)}if(Ye.usesEmbedded=xt.usesEmbedded,Pe.brackets){if(!Array.isArray(Pe.brackets))throw ce(Ye,"the 'brackets' attribute must be defined as an array")}else Pe.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const pn=[];for(const bn of Pe.brackets){let kn=bn;if(kn&&Array.isArray(kn)&&3===kn.length&&(kn={token:kn[2],open:kn[0],close:kn[1]}),kn.open===kn.close)throw ce(Ye,"open and close brackets in a 'brackets' attribute must be different: "+kn.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof kn.open||"string"!=typeof kn.token||"string"!=typeof kn.close)throw ce(Ye,"every element in the 'brackets' array must be a '{open,close,token}' object or array");pn.push({token:kn.token+Ye.tokenPostfix,open:ke(Ye,kn.open),close:ke(Ye,kn.close)})}return Ye.brackets=pn,Ye.noThrow=!0,Ye}function Zr(zt){fi.dQ.registerLanguage(zt)}function Ys(){let zt=[];return zt=zt.concat(fi.dQ.getLanguages()),zt}function Ws(zt){return at.IO.get(N.O).languageIdCodec.encodeLanguageId(zt)}function qi(zt,Pe){const xt=at.IO.get(N.O).onDidEncounterLanguage(Xt=>{Xt===zt&&(xt.dispose(),Pe())});return xt}function dr(zt,Pe){if(!at.IO.get(N.O).isRegisteredLanguageId(zt))throw new Error(`Cannot set configuration for unknown language ${zt}`);return at.IO.get(j.c_).register(zt,Pe,100)}class yr{constructor(Pe,Ye){this._languageId=Pe,this._actual=Ye}getInitialState(){return this._actual.getInitialState()}tokenize(Pe,Ye,xt){if("function"==typeof this._actual.tokenize)return sr.adaptTokenize(this._languageId,this._actual,Pe,xt);throw new Error("Not supported!")}tokenizeEncoded(Pe,Ye,xt){const Xt=this._actual.tokenizeEncoded(Pe,xt);return new $.DI(Xt.tokens,Xt.endState)}}class sr{constructor(Pe,Ye,xt,Xt){this._languageId=Pe,this._actual=Ye,this._languageService=xt,this._standaloneThemeService=Xt}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(Pe,Ye){const xt=[];let Xt=0;for(let pn=0,bn=Pe.length;pn<bn;pn++){const kn=Pe[pn];let Xn=kn.startIndex;0===pn?Xn=0:Xn<Xt&&(Xn=Xt),xt[pn]=new $.WU(Xn,kn.scopes,Ye),Xt=Xn}return xt}static adaptTokenize(Pe,Ye,xt,Xt){const pn=Ye.tokenize(xt,Xt),bn=sr._toClassicTokens(pn.tokens,Pe);let kn;return kn=pn.endState.equals(Xt)?Xt:pn.endState,new $.hG(bn,kn)}tokenize(Pe,Ye,xt){return sr.adaptTokenize(this._languageId,this._actual,Pe,xt)}_toBinaryTokens(Pe,Ye){const xt=Pe.encodeLanguageId(this._languageId),Xt=this._standaloneThemeService.getColorTheme().tokenTheme,pn=[];let bn=0,kn=0;for(let Zn=0,qn=Ye.length;Zn<qn;Zn++){const ri=Ye[Zn],Mi=Xt.match(xt,ri.scopes);if(bn>0&&pn[bn-1]===Mi)continue;let Ni=ri.startIndex;0===Zn?Ni=0:Ni<kn&&(Ni=kn),pn[bn++]=Ni,pn[bn++]=Mi,kn=Ni}const Xn=new Uint32Array(bn);for(let Zn=0;Zn<bn;Zn++)Xn[Zn]=pn[Zn];return Xn}tokenizeEncoded(Pe,Ye,xt){const Xt=this._actual.tokenize(Pe,xt),pn=this._toBinaryTokens(this._languageService.languageIdCodec,Xt.tokens);let bn;return bn=Xt.endState.equals(xt)?xt:Xt.endState,new $.DI(pn,bn)}}function wr(zt){return zt&&"function"==typeof zt.then}function Br(zt){const Pe=at.IO.get(tn.Z);if(zt){const Ye=[null];for(let xt=1,Xt=zt.length;xt<Xt;xt++)Ye[xt]=ks.Il.fromHex(zt[xt]);Pe.setColorMapOverride(Ye)}else Pe.setColorMapOverride(null)}function ho(zt,Pe){return function Sr(zt){return"tokenizeEncoded"in zt}(Pe)?new yr(zt,Pe):new sr(zt,Pe,at.IO.get(N.O),at.IO.get(tn.Z))}function ko(zt,Pe){return $.RW.registerFactory(zt,{createTokenizationSupport:()=>function(zt,Pe,Ye,xt){return new(Ye||(Ye=Promise))(function(pn,bn){function kn(qn){try{Zn(xt.next(qn))}catch(ri){bn(ri)}}function Xn(qn){try{Zn(xt.throw(qn))}catch(ri){bn(ri)}}function Zn(qn){qn.done?pn(qn.value):function Xt(pn){return pn instanceof Ye?pn:new Ye(function(bn){bn(pn)})}(qn.value).then(kn,Xn)}Zn((xt=xt.apply(zt,Pe||[])).next())})}(this,void 0,void 0,function*(){const xt=yield Promise.resolve(Pe.create());return xt?function Vs(zt){return"function"==typeof zt.getInitialState}(xt)?ho(zt,xt):new et(at.IO.get(N.O),at.IO.get(tn.Z),zt,lr(zt,xt),at.IO.get(Lt.Ui)):null})})}function gs(zt,Pe){if(!at.IO.get(N.O).isRegisteredLanguageId(zt))throw new Error(`Cannot set tokens provider for unknown language ${zt}`);return wr(Pe)?ko(zt,{create:()=>Pe}):$.RW.register(zt,ho(zt,Pe))}function rs(zt,Pe){return wr(Pe)?ko(zt,{create:()=>Pe}):$.RW.register(zt,(xt=Pe,new et(at.IO.get(N.O),at.IO.get(tn.Z),zt,lr(zt,xt),at.IO.get(Lt.Ui))));var xt}function xs(zt,Pe){return at.IO.get(hi.p).referenceProvider.register(zt,Pe)}function ms(zt,Pe){return at.IO.get(hi.p).renameProvider.register(zt,Pe)}function Hs(zt,Pe){return at.IO.get(hi.p).signatureHelpProvider.register(zt,Pe)}function Ns(zt,Pe){return at.IO.get(hi.p).hoverProvider.register(zt,{provideHover:(xt,Xt,pn)=>{const bn=xt.getWordAtPosition(Xt);return Promise.resolve(Pe.provideHover(xt,Xt,pn)).then(kn=>{if(kn)return!kn.range&&bn&&(kn.range=new H.e(Xt.lineNumber,bn.startColumn,Xt.lineNumber,bn.endColumn)),kn.range||(kn.range=new H.e(Xt.lineNumber,Xt.column,Xt.lineNumber,Xt.column)),kn})}})}function Ur(zt,Pe){return at.IO.get(hi.p).documentSymbolProvider.register(zt,Pe)}function ra(zt,Pe){return at.IO.get(hi.p).documentHighlightProvider.register(zt,Pe)}function tr(zt,Pe){return at.IO.get(hi.p).linkedEditingRangeProvider.register(zt,Pe)}function Nn(zt,Pe){return at.IO.get(hi.p).definitionProvider.register(zt,Pe)}function se(zt,Pe){return at.IO.get(hi.p).implementationProvider.register(zt,Pe)}function Ce(zt,Pe){return at.IO.get(hi.p).typeDefinitionProvider.register(zt,Pe)}function Ve(zt,Pe){return at.IO.get(hi.p).codeLensProvider.register(zt,Pe)}function It(zt,Pe,Ye){return at.IO.get(hi.p).codeActionProvider.register(zt,{providedCodeActionKinds:Ye?.providedCodeActionKinds,documentation:Ye?.documentation,provideCodeActions:(Xt,pn,bn,kn)=>{const Zn=at.IO.get($t.lT).read({resource:Xt.uri}).filter(qn=>H.e.areIntersectingOrTouching(qn,pn));return Pe.provideCodeActions(Xt,pn,{markers:Zn,only:bn.only,trigger:bn.trigger},kn)},resolveCodeAction:Pe.resolveCodeAction})}function Pt(zt,Pe){return at.IO.get(hi.p).documentFormattingEditProvider.register(zt,Pe)}function on(zt,Pe){return at.IO.get(hi.p).documentRangeFormattingEditProvider.register(zt,Pe)}function wn(zt,Pe){return at.IO.get(hi.p).onTypeFormattingEditProvider.register(zt,Pe)}function ii(zt,Pe){return at.IO.get(hi.p).linkProvider.register(zt,Pe)}function Ci(zt,Pe){return at.IO.get(hi.p).completionProvider.register(zt,Pe)}function ki(zt,Pe){return at.IO.get(hi.p).colorProvider.register(zt,Pe)}function Mo(zt,Pe){return at.IO.get(hi.p).foldingRangeProvider.register(zt,Pe)}function ts(zt,Pe){return at.IO.get(hi.p).declarationProvider.register(zt,Pe)}function jo(zt,Pe){return at.IO.get(hi.p).selectionRangeProvider.register(zt,Pe)}function Xs(zt,Pe){return at.IO.get(hi.p).documentSemanticTokensProvider.register(zt,Pe)}function Qr(zt,Pe){return at.IO.get(hi.p).documentRangeSemanticTokensProvider.register(zt,Pe)}function Ir(zt,Pe){return at.IO.get(hi.p).inlineCompletionsProvider.register(zt,Pe)}function aa(zt,Pe){return at.IO.get(hi.p).inlayHintsProvider.register(zt,Pe)}var Tr,Rl=e(8841),La=e(25541);d.BH.wrappingIndent.defaultValue=0,d.BH.glyphMargin.defaultValue=!1,d.BH.autoIndent.defaultValue=3,d.BH.overviewRulerLanes.defaultValue=2,La.xC.setFormatterSelector((zt,Pe,Ye)=>Promise.resolve(zt[0]));const Js=(0,t.O)();Js.editor=function br(){return{create:cn,getEditors:ni,getDiffEditors:Jn,onDidCreateEditor:Ln,onDidCreateDiffEditor:In,createDiffEditor:gi,createDiffNavigator:vi,addCommand:bi,addEditorAction:Pi,addKeybindingRule:Wi,addKeybindingRules:Yi,createModel:$i,setModelLanguage:Co,setModelMarkers:Ho,getModelMarkers:is,removeAllMarkers:Ro,onDidChangeMarkers:nr,getModels:Yo,getModel:Ls,onDidCreateModel:Ko,onWillDisposeModel:Nr,onDidChangeModelLanguage:Ps,createWebWorker:Lr,colorizeElement:sa,colorize:mr,colorizeModelLine:$s,tokenize:Rr,defineTheme:er,setTheme:Or,remeasureFonts:Qs,registerCommand:js,AccessibilitySupport:Ee.ao,ContentWidgetPositionPreference:Ee.r3,CursorChangeReason:Ee.Vi,DefaultEndOfLine:Ee._x,EditorAutoIndentStrategy:Ee.rf,EditorOption:Ee.wT,EndOfLinePreference:Ee.gm,EndOfLineSequence:Ee.jl,MinimapPosition:Ee.F5,MouseTargetType:Ee.MG,OverlayWidgetPositionPreference:Ee.E$,OverviewRulerLane:Ee.sh,RenderLineNumbersType:Ee.Lu,RenderMinimap:Ee.vQ,ScrollbarVisibility:Ee.g_,ScrollType:Ee.g4,TextEditorCursorBlinkingStyle:Ee.In,TextEditorCursorStyle:Ee.d2,TrackedRangeStickiness:Ee.OI,WrappingIndent:Ee.up,InjectedTextCursorStops:Ee.RM,PositionAffinity:Ee.py,ConfigurationChangedEvent:d.Bb,BareFontInfo:F.E4,FontInfo:F.pR,TextModelResolvedOptions:z.dJ,FindMatch:z.tk,ApplyUpdateResult:d.rk,EditorType:B.g,EditorOptions:d.BH}}(),Js.languages=function fa(){return{register:Zr,getLanguages:Ys,onLanguage:qi,getEncodedLanguageId:Ws,setLanguageConfiguration:dr,setColorMap:Br,registerTokensProviderFactory:ko,setTokensProvider:gs,setMonarchTokensProvider:rs,registerReferenceProvider:xs,registerRenameProvider:ms,registerCompletionItemProvider:Ci,registerSignatureHelpProvider:Hs,registerHoverProvider:Ns,registerDocumentSymbolProvider:Ur,registerDocumentHighlightProvider:ra,registerLinkedEditingRangeProvider:tr,registerDefinitionProvider:Nn,registerImplementationProvider:se,registerTypeDefinitionProvider:Ce,registerCodeLensProvider:Ve,registerCodeActionProvider:It,registerDocumentFormattingEditProvider:Pt,registerDocumentRangeFormattingEditProvider:on,registerOnTypeFormattingEditProvider:wn,registerLinkProvider:ii,registerColorProvider:ki,registerFoldingRangeProvider:Mo,registerDeclarationProvider:ts,registerSelectionRangeProvider:jo,registerDocumentSemanticTokensProvider:Xs,registerDocumentRangeSemanticTokensProvider:Qr,registerInlineCompletionsProvider:Ir,registerInlayHintsProvider:aa,DocumentHighlightKind:Ee.MY,CompletionItemKind:Ee.cm,CompletionItemTag:Ee.we,CompletionItemInsertTextRule:Ee.a7,SymbolKind:Ee.cR,SymbolTag:Ee.r4,IndentAction:Ee.wU,CompletionTriggerKind:Ee.Ij,SignatureHelpTriggerKind:Ee.WW,InlayHintKind:Ee.gl,InlineCompletionTriggerKind:Ee.bw,CodeActionTriggerType:Ee.np,FoldingRangeKind:$.AD}}();const za=Js.CancellationTokenSource,ys=Js.Emitter,Wr=Js.KeyCode,Yr=Js.KeyMod,Gi=Js.Position,cs=Js.Range,qo=Js.Selection,cr=Js.SelectionDirection,xa=Js.MarkerSeverity,Vr=Js.MarkerTag,Ia=Js.Uri,Ta=Js.Token,ur=Js.editor,jr=Js.languages;((null===(Tr=Rl.li.MonacoEnvironment)||void 0===Tr?void 0:Tr.globalAPI)||"function"==typeof define&&e.amdO)&&(self.monaco=Js),typeof self.require<"u"&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},3247:(Et,X,e)=>{"use strict";var d=e(57856),t=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(27651),n={};n.styleTagTransform=m(),n.setAttributes=E(),n.insert=T().bind(null,"head"),n.domAPI=S(),n.insertStyleElement=_(),t()(c.Z,n)},51426:(Et,X,e)=>{"use strict";var d=e(57856),t=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(4316),n={};n.styleTagTransform=m(),n.setAttributes=E(),n.insert=T().bind(null,"head"),n.domAPI=S(),n.insertStyleElement=_(),t()(c.Z,n)},57948:(Et,X,e)=>{"use strict";var d=e(57856),t=e.n(d),l=e(38470),S=e.n(l),v=e(43370),T=e.n(v),C=e(28458),E=e.n(C),L=e(71278),_=e.n(L),s=e(29488),m=e.n(s),c=e(87253),n={};n.styleTagTransform=m(),n.setAttributes=E(),n.insert=T().bind(null,"head"),n.domAPI=S(),n.insertStyleElement=_(),t()(c.Z,n)},57856:Et=>{"use strict";var X=[];function e(l){for(var S=-1,v=0;v<X.length;v++)if(X[v].identifier===l){S=v;break}return S}function d(l,S){for(var v={},T=[],C=0;C<l.length;C++){var E=l[C],L=S.base?E[0]+S.base:E[0],_=v[L]||0,s="".concat(L," ").concat(_);v[L]=_+1;var m=e(s),c={css:E[1],media:E[2],sourceMap:E[3],supports:E[4],layer:E[5]};if(-1!==m)X[m].references++,X[m].updater(c);else{var n=t(c,S);S.byIndex=C,X.splice(C,0,{identifier:s,updater:n,references:1})}T.push(s)}return T}function t(l,S){var v=S.domAPI(S);return v.update(l),function(E){if(E){if(E.css===l.css&&E.media===l.media&&E.sourceMap===l.sourceMap&&E.supports===l.supports&&E.layer===l.layer)return;v.update(l=E)}else v.remove()}}Et.exports=function(l,S){var v=d(l=l||[],S=S||{});return function(C){C=C||[];for(var E=0;E<v.length;E++){var _=e(v[E]);X[_].references--}for(var s=d(C,S),m=0;m<v.length;m++){var n=e(v[m]);0===X[n].references&&(X[n].updater(),X.splice(n,1))}v=s}}},43370:Et=>{"use strict";var X={};Et.exports=function d(t,l){var S=function e(t){if(typeof X[t]>"u"){var l=document.querySelector(t);if(window.HTMLIFrameElement&&l instanceof window.HTMLIFrameElement)try{l=l.contentDocument.head}catch{l=null}X[t]=l}return X[t]}(t);if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(l)}},71278:Et=>{"use strict";Et.exports=function X(e){var d=document.createElement("style");return e.setAttributes(d,e.attributes),e.insert(d,e.options),d}},28458:(Et,X,e)=>{"use strict";Et.exports=function d(t){var l=e.nc;l&&t.setAttribute("nonce",l)}},38470:Et=>{"use strict";Et.exports=function d(t){var l=t.insertStyleElement(t);return{update:function(v){!function X(t,l,S){var v="";S.supports&&(v+="@supports (".concat(S.supports,") {")),S.media&&(v+="@media ".concat(S.media," {"));var T=typeof S.layer<"u";T&&(v+="@layer".concat(S.layer.length>0?" ".concat(S.layer):""," {")),v+=S.css,T&&(v+="}"),S.media&&(v+="}"),S.supports&&(v+="}");var C=S.sourceMap;C&&typeof btoa<"u"&&(v+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),l.styleTagTransform(v,t,l.options)}(l,t,v)},remove:function(){!function e(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(l)}}}},29488:Et=>{"use strict";Et.exports=function X(e,d){if(d.styleSheet)d.styleSheet.cssText=e;else{for(;d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(e))}}},78708:(Et,X,e)=>{"use strict";e.r(X),e.d(X,{Breakpoint:()=>xu,CallHierarchyIncomingCall:()=>Iu,CallHierarchyItem:()=>Tu,CallHierarchyOutgoingCall:()=>Mu,CancellationError:()=>Au,CancellationTokenSource:()=>Pu,CodeAction:()=>Nu,CodeActionKind:()=>Ru,CodeActionTriggerKind:()=>Ou,CodeLens:()=>ku,Color:()=>Fu,ColorInformation:()=>Bu,ColorPresentation:()=>Wu,ColorThemeKind:()=>Vu,CommentMode:()=>Hu,CommentThreadCollapsibleState:()=>Uu,CompletionItem:()=>ju,CompletionItemKind:()=>zu,CompletionItemTag:()=>Ku,CompletionList:()=>$u,CompletionTriggerKind:()=>Gu,ConfigurationTarget:()=>Zu,CustomExecution:()=>Qu,DataTransfer:()=>Gf,DataTransferItem:()=>Zf,DebugAdapterExecutable:()=>Yu,DebugAdapterInlineImplementation:()=>Xu,DebugAdapterNamedPipeServer:()=>Ju,DebugAdapterServer:()=>qu,DebugConfigurationProviderTriggerKind:()=>eh,DebugConsoleMode:()=>th,DecorationRangeBehavior:()=>nh,Diagnostic:()=>ih,DiagnosticRelatedInformation:()=>oh,DiagnosticSeverity:()=>sh,DiagnosticTag:()=>rh,Disposable:()=>ah,DocumentDropEdit:()=>lg,DocumentHighlight:()=>lh,DocumentHighlightKind:()=>dh,DocumentLink:()=>ch,DocumentSymbol:()=>uh,EndOfLine:()=>hh,EnvironmentVariableMutatorType:()=>fh,EvaluatableExpression:()=>gh,EventEmitter:()=>vh,ExtensionKind:()=>Ch,ExtensionMode:()=>bh,FileChangeType:()=>yh,FileDecoration:()=>Sh,FilePermission:()=>Eh,FileSystemError:()=>wh,FileType:()=>Dh,FoldingRange:()=>Lh,FoldingRangeKind:()=>xh,FunctionBreakpoint:()=>Ih,Hover:()=>Th,IndentAction:()=>Mh,InlayHint:()=>Mf,InlayHintKind:()=>Pf,InlayHintLabelPart:()=>Af,InlineCompletionItem:()=>ag,InlineCompletionList:()=>sg,InlineCompletionTriggerKind:()=>rg,InlineValueEvaluatableExpression:()=>_h,InlineValueText:()=>mh,InlineValueVariableLookup:()=>ph,InputBoxValidationSeverity:()=>og,LanguageStatusSeverity:()=>Qf,LinkedEditingRanges:()=>Uf,Location:()=>Ah,MarkdownString:()=>Ph,NotebookCellData:()=>Of,NotebookCellKind:()=>Rf,NotebookCellOutput:()=>Bf,NotebookCellOutputItem:()=>Wf,NotebookCellStatusBarAlignment:()=>Ff,NotebookCellStatusBarItem:()=>Vf,NotebookControllerAffinity:()=>Hf,NotebookData:()=>kf,NotebookEditorRevealType:()=>dg,NotebookRange:()=>Nf,OverviewRulerLane:()=>Nh,ParameterInformation:()=>Rh,Position:()=>Oh,ProcessExecution:()=>kh,ProgressLocation:()=>Fh,QuickInputButtons:()=>Bh,QuickPickItemKind:()=>Yf,Range:()=>Wh,RelativePattern:()=>Vh,Selection:()=>Hh,SelectionRange:()=>Uh,SemanticTokens:()=>jh,SemanticTokensBuilder:()=>zh,SemanticTokensEdit:()=>Kh,SemanticTokensEdits:()=>$h,SemanticTokensLegend:()=>Gh,ShellExecution:()=>Zh,ShellQuoting:()=>Qh,SignatureHelp:()=>Yh,SignatureHelpTriggerKind:()=>Xh,SignatureInformation:()=>Jh,SnippetString:()=>qh,SourceBreakpoint:()=>ef,StatusBarAlignment:()=>tf,SymbolInformation:()=>nf,SymbolKind:()=>of,SymbolTag:()=>sf,TabInputCustom:()=>qf,TabInputNotebook:()=>eg,TabInputNotebookDiff:()=>tg,TabInputTerminal:()=>ig,TabInputText:()=>Xf,TabInputTextDiff:()=>Jf,TabInputWebview:()=>ng,Task:()=>rf,TaskGroup:()=>af,TaskPanelKind:()=>lf,TaskRevealKind:()=>df,TaskScope:()=>cf,TerminalLink:()=>uf,TerminalLocation:()=>hf,TerminalProfile:()=>ff,TestMessage:()=>zf,TestRunProfileKind:()=>$f,TestRunRequest:()=>jf,TestTag:()=>Kf,TextDocumentChangeReason:()=>bf,TextDocumentSaveReason:()=>gf,TextEdit:()=>mf,TextEditorCursorStyle:()=>pf,TextEditorLineNumbersStyle:()=>_f,TextEditorRevealType:()=>vf,TextEditorSelectionChangeKind:()=>Cf,ThemeColor:()=>yf,ThemeIcon:()=>Sf,TreeItem:()=>wf,TreeItemCollapsibleState:()=>Df,TypeHierarchyItem:()=>Ef,UIKind:()=>Lf,Uri:()=>xf,ViewColumn:()=>If,WorkspaceEdit:()=>Tf,authentication:()=>mc,commands:()=>wu,comments:()=>Id,debug:()=>gl,env:()=>Su,extensions:()=>Pr,languages:()=>Lu,notebooks:()=>Cs,scm:()=>Er,tasks:()=>ds,tests:()=>pc,version:()=>Ds,window:()=>Du,workspace:()=>Eu});var d=e(17374),t=e(61699),l=e(67044),S=e(4496),v=e(39021),T=e(4125),C=e(59547),E=e(64023),L=e(15067),_=e(72715),s=e(73879),m=e(34189),c=e(5067),n=e(48701),a=e(26662),p=e(89982),u=e(58177),g=e(61408),b=e(6276),y=e(92192),D=e(32068),w=e(9265),I=e(93979),P=e(29693),O=e(80142),H=e(34042),U=e(66549),K=e(59310),F=e(40734),B=e(3778),z=e(55197),$=e(48648),j=e(73888),ne=e(98950),N=e(94772),V=e(50894),Z=e(50819),fe=e(40902),M=e(54436),Se=e(24596),Ee=e(73622),Le=e(78610),Ne=e(827),oe=e(55538),we=e(65484),xe=e(1149),pe=e(45358),Te=e(59602),de=e(81534),ke=e(84575),ze=e(27386),$e=e(1999),ce=e(61283),Ue=e(15240),nt=e(8841),Dt=e(47629),Lt=e(61254),Ze=e(31583),ae=e(18623),_e=e(54862),he=e(33745),le=e(25787),Q=e(91353),ve=e(24131),Ae=e(37188),dt=e(61560),st=e(44827),et=e(45802),Qe=e(45337),tt=e(631),vt=e(46090),mt=e(94911),_t=e(90790),Kt=e(1187),Bt=e(15945),Ge=e(29093),ut=e(94667),Ut=e(4259),hn=e(7886),Dn=e(99775),wt=e(53559);function je(ie){return(0,C.q)(ie,!0)}const Me=new class ye{constructor(o){this._ignorePathCasing=o}compare(o,f,A=!1){return o===f?0:(0,s.qu)(this.getComparisonKey(o,A),this.getComparisonKey(f,A))}isEqual(o,f,A=!1){return o===f||!(!o||!f)&&this.getComparisonKey(o,A)===this.getComparisonKey(f,A)}getComparisonKey(o,f=!1){return o.with({path:this._ignorePathCasing(o)?o.path.toLowerCase():void 0,fragment:f?null:void 0}).toString()}ignorePathCasing(o){return this._ignorePathCasing(o)}isEqualOrParent(o,f,A=!1){if(o.scheme===f.scheme){if(o.scheme===K.lg.file)return(0,Ue.KM)(je(o),je(f),this._ignorePathCasing(o))&&o.query===f.query&&(A||o.fragment===f.fragment);if(be(o.authority,f.authority))return(0,Ue.KM)(o.path,f.path,this._ignorePathCasing(o),"/")&&o.query===f.query&&(A||o.fragment===f.fragment)}return!1}joinPath(o,...f){return C.o.joinPath(o,...f)}basenameOrAuthority(o){return ue(o)||o.authority}basename(o){return ce.KR.basename(o.path)}extname(o){return ce.KR.extname(o.path)}dirname(o){if(0===o.path.length)return o;let f;return o.scheme===K.lg.file?f=C.o.file((0,ce.XX)(je(o))).path:(f=ce.KR.dirname(o.path),o.authority&&f.length&&47!==f.charCodeAt(0)&&(console.error(`dirname("${o.toString})) resulted in a relative path`),f="/")),o.with({path:f})}normalizePath(o){if(!o.path.length)return o;let f;return f=o.scheme===K.lg.file?C.o.file((0,ce.Fv)(je(o))).path:ce.KR.normalize(o.path),o.with({path:f})}relativePath(o,f){if(o.scheme!==f.scheme||!be(o.authority,f.authority))return;if(o.scheme===K.lg.file){const re=(0,ce.Gf)(je(o),je(f));return nt.ED?(0,Ue.ej)(re):re}let A=o.path||"/";const G=f.path||"/";if(this._ignorePathCasing(o)){let re=0;for(const Oe=Math.min(A.length,G.length);re<Oe&&(A.charCodeAt(re)===G.charCodeAt(re)||A.charAt(re).toLowerCase()===G.charAt(re).toLowerCase());re++);A=G.substr(0,re)+A.substr(re)}return ce.KR.relative(A,G)}resolvePath(o,f){if(o.scheme===K.lg.file){const A=C.o.file((0,ce.DB)(je(o),f));return o.with({authority:A.authority,path:A.path})}return f=(0,Ue.fn)(f),o.with({path:ce.KR.resolve(o.path,f)})}isAbsolutePath(o){return!!o.path&&"/"===o.path[0]}isEqualAuthority(o,f){return o===f||void 0!==o&&void 0!==f&&(0,s.qq)(o,f)}hasTrailingPathSeparator(o,f=ce.ir){if(o.scheme===K.lg.file){const A=je(o);return A.length>(0,Ue.yj)(A).length&&A[A.length-1]===f}{const A=o.path;return A.length>1&&47===A.charCodeAt(A.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(o.fsPath)}}removeTrailingPathSeparator(o,f=ce.ir){return qe(o,f)?o.with({path:o.path.substr(0,o.path.length-1)}):o}addTrailingPathSeparator(o,f=ce.ir){let A=!1;if(o.scheme===K.lg.file){const G=je(o);A=void 0!==G&&G.length===(0,Ue.yj)(G).length&&G[G.length-1]===f}else{f="/";const G=o.path;A=1===G.length&&47===G.charCodeAt(G.length-1)}return A||qe(o,f)?o:o.with({path:o.path+"/"})}}(()=>!1);Me.isEqual.bind(Me),Me.isEqualOrParent.bind(Me),Me.getComparisonKey.bind(Me),Me.basenameOrAuthority.bind(Me);const ue=Me.basename.bind(Me);Me.extname.bind(Me),Me.dirname.bind(Me),Me.joinPath.bind(Me),Me.normalizePath.bind(Me),Me.relativePath.bind(Me),Me.resolvePath.bind(Me),Me.isAbsolutePath.bind(Me);const be=Me.isEqualAuthority.bind(Me),qe=Me.hasTrailingPathSeparator.bind(Me);Me.removeTrailingPathSeparator.bind(Me),Me.addTrailingPathSeparator.bind(Me);const ot=p.Range,bt=p.languages.FoldingRangeKind,vn="vscode://schemas/settings/resourceLanguage",Ct=Ut.B.as(hn.I.JSONContribution),Vn="\\[([^\\]]+)\\]",yn=new RegExp(Vn,"g"),li=new RegExp(`^(${Vn})+$`);function oi(ie){const o=[];if(li.test(ie)){let f=yn.exec(ie);for(;f?.length;){const A=f[1].trim();A&&o.push(A),f=yn.exec(ie)}}return(0,E.EB)(o)}const so=new class fn{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new l.E,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new l.E,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:(0,z.NC)("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},Ct.registerSchema(vn,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(o,f=!0){this.registerConfigurations([o],f)}registerConfigurations(o,f=!0){const A=this.doRegisterConfigurations(o,f);Ct.registerSchema(vn,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:A})}deregisterConfigurations(o){const f=this.doDeregisterConfigurations(o);Ct.registerSchema(vn,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:f})}updateConfigurations({add:o,remove:f}){const A=[];A.push(...this.doDeregisterConfigurations(f)),A.push(...this.doRegisterConfigurations(o,!1)),Ct.registerSchema(vn,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:(0,E.EB)(A)})}registerDefaultConfigurations(o){const f=[],A=[];for(const{overrides:G,source:re}of o)for(const Oe in G)if(f.push(Oe),li.test(Oe)){const Je=this.configurationDefaultsOverrides.get(Oe),At=Je?.valuesSources??new Map;if(re)for(const Ei of Object.keys(G[Oe]))At.set(Ei,re);const mn={...Je?.value||{},...G[Oe]};this.configurationDefaultsOverrides.set(Oe,{source:re,value:mn,valuesSources:At});const Un=(0,ut.UI)(Oe),ui={type:"object",default:mn,description:(0,z.NC)("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",Un),$ref:vn,defaultDefaultValue:mn,source:(0,_.HD)(re)?void 0:re,defaultValueSource:re};A.push(...oi(Oe)),this.configurationProperties[Oe]=ui,this.defaultLanguageConfigurationOverridesNode.properties[Oe]=ui}else{this.configurationDefaultsOverrides.set(Oe,{value:G[Oe],source:re});const Je=this.configurationProperties[Oe];Je&&(this.updatePropertyDefaultValue(Oe,Je),this.updateSchema(Oe,Je))}this.registerOverrideIdentifiers(A),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:f,defaultsOverrides:!0})}deregisterDefaultConfigurations(o){const f=[];for(const{overrides:A,source:G}of o)for(const re in A){const Oe=this.configurationDefaultsOverrides.get(re);if(((0,_.HD)(G)?G:G?.id)===((0,_.HD)(Oe?.source)?Oe?.source:Oe?.source?.id))if(f.push(re),this.configurationDefaultsOverrides.delete(re),li.test(re))delete this.configurationProperties[re],delete this.defaultLanguageConfigurationOverridesNode.properties[re];else{const mn=this.configurationProperties[re];mn&&(this.updatePropertyDefaultValue(re,mn),this.updateSchema(re,mn))}}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:f,defaultsOverrides:!0})}notifyConfigurationSchemaUpdated(...o){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(o){for(const f of o)this.overrideIdentifiers.add(f);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(o,f){const A=[];return o.forEach(G=>{A.push(...this.validateAndRegisterProperties(G,f,G.extensionInfo,G.restrictedProperties)),this.configurationContributors.push(G),this.registerJSONConfiguration(G)}),A}doDeregisterConfigurations(o){const f=[],A=G=>{if(G.properties)for(const re in G.properties){f.push(re);const Oe=this.configurationProperties[re];Oe?.policy?.name&&this.policyConfigurations.delete(Oe.policy.name),delete this.configurationProperties[re],this.removeFromSchema(re,G.properties[re])}G.allOf?.forEach(re=>A(re))};for(const G of o){A(G);const re=this.configurationContributors.indexOf(G);-1!==re&&this.configurationContributors.splice(re,1)}return f}validateAndRegisterProperties(o,f=!0,A,G,re=3){re=(0,_.Jp)(o.scope)?re:o.scope;const Oe=[],Je=o.properties;if(Je)for(const mn in Je){const Un=Je[mn];f&&oo(mn,Un)?delete Je[mn]:(Un.source=A,Un.defaultDefaultValue=Je[mn].default,this.updatePropertyDefaultValue(mn,Un),li.test(mn)?Un.scope=void 0:(Un.scope=(0,_.Jp)(Un.scope)?re:Un.scope,Un.restricted=(0,_.Jp)(Un.restricted)?!!G?.includes(mn):Un.restricted),!Je[mn].hasOwnProperty("included")||Je[mn].included?(this.configurationProperties[mn]=Je[mn],Je[mn].policy?.name&&this.policyConfigurations.set(Je[mn].policy.name,mn),!Je[mn].deprecationMessage&&Je[mn].markdownDeprecationMessage&&(Je[mn].deprecationMessage=Je[mn].markdownDeprecationMessage),Oe.push(mn)):(this.excludedConfigurationProperties[mn]=Je[mn],delete Je[mn]))}const At=o.allOf;if(At)for(const mn of At)Oe.push(...this.validateAndRegisterProperties(mn,f,A,G,re));return Oe}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getConfigurationDefaultsOverrides(){return this.configurationDefaultsOverrides}registerJSONConfiguration(o){const f=A=>{const G=A.properties;if(G)for(const Oe in G)this.updateSchema(Oe,G[Oe]);A.allOf?.forEach(f)};f(o)}updateSchema(o,f){switch(f.scope){case 1:case 2:case 6:case 3:case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[o]=f}}removeFromSchema(o,f){switch(f.scope){case 1:case 2:case 6:case 3:break;case 4:case 5:delete this.resourceLanguageSettingsSchema.properties[o]}}updateOverridePropertyPatternKey(){for(const o of this.overrideIdentifiers.values()){const f=`[${o}]`,A={type:"object",description:(0,z.NC)("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:(0,z.NC)("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:vn};this.updatePropertyDefaultValue(f,A)}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){this._onDidSchemaChange.fire()}updatePropertyDefaultValue(o,f){const A=this.configurationDefaultsOverrides.get(o);let G=A?.value,re=A?.source;(0,_.o8)(G)&&(G=f.defaultDefaultValue,re=void 0),(0,_.o8)(G)&&(G=function Li(ie){switch(Array.isArray(ie)?ie[0]:ie){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(f.type)),f.default=G,f.defaultValueSource=re}};function oo(ie,o){return ie.trim()?li.test(ie)?(0,z.NC)("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",ie):void 0!==so.getConfigurationProperties()[ie]?(0,z.NC)("config.property.duplicate","Cannot register '{0}'. This property is already registered.",ie):o.policy?.name&&void 0!==so.getPolicyConfigurations().get(o.policy?.name)?(0,z.NC)("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",ie,o.policy?.name,so.getPolicyConfigurations().get(o.policy?.name)):null:(0,z.NC)("config.property.empty","Cannot register an empty property")}const ro=p.Position,si=/^(.+)\/(.+?)(;.+)?$/;function Qt(ie,o){const f=si.exec(ie);return f?`${f[1].toLowerCase()}/${f[2].toLowerCase()}${f[3]??""}`:o?void 0:ie}const pt=a.T.marked;class en{constructor(){this._next=0}getNext(){return this._next++}}var rn,gn,An,jn,Qn,wi,xi,no,Oi,Ki,ji,co,yo,Go,Po,wo,Do,to,vo,Oo,ai,Yt;function kt(ie){function o(){return Reflect.construct(ie,arguments,this.constructor)}return Object.defineProperty(o,"name",Object.getOwnPropertyDescriptor(ie,"name")),Object.setPrototypeOf(o,ie),Object.setPrototypeOf(o.prototype,ie.prototype),o}let ln=wi=class{constructor(o){rn.set(this,void 0),(0,l.b)(this,rn,o,"f")}static from(...o){let f=o;return new wi(function(){if(f){for(const A of f)A&&"function"==typeof A.dispose&&A.dispose();f=void 0}})}dispose(){"function"==typeof(0,l.c)(this,rn,"f")&&((0,l.c)(this,rn,"f").call(this),(0,l.b)(this,rn,void 0,"f"))}};rn=new WeakMap,ln=wi=(0,l._)([kt],ln);let On=xi=class{constructor(o,f){if(o<0)throw(0,T.b1)("line must be non-negative");if(f<0)throw(0,T.b1)("character must be non-negative");this._line=o,this._character=f}static Min(...o){if(0===o.length)throw new TypeError;let f=o[0];for(let A=1;A<o.length;A++){const G=o[A];G.isBefore(f)&&(f=G)}return f}static Max(...o){if(0===o.length)throw new TypeError;let f=o[0];for(let A=1;A<o.length;A++){const G=o[A];G.isAfter(f)&&(f=G)}return f}static isPosition(o){if(!o)return!1;if(o instanceof xi)return!0;const{line:f,character:A}=o;return"number"==typeof f&&"number"==typeof A}static of(o){if(o instanceof xi)return o;if(this.isPosition(o))return new xi(o.line,o.character);throw new Error("Invalid argument, is NOT a position-like object")}get line(){return this._line}get character(){return this._character}isBefore(o){return this._line<o._line||!(o._line<this._line)&&this._character<o._character}isBeforeOrEqual(o){return this._line<o._line||!(o._line<this._line)&&this._character<=o._character}isAfter(o){return!this.isBeforeOrEqual(o)}isAfterOrEqual(o){return!this.isBefore(o)}isEqual(o){return this._line===o._line&&this._character===o._character}compareTo(o){return this._line<o._line?-1:this._line>o.line?1:this._character<o._character?-1:this._character>o._character?1:0}translate(o,f=0){if(null===o||null===f)throw(0,T.b1)();let A;return typeof o>"u"?A=0:"number"==typeof o?A=o:(A="number"==typeof o.lineDelta?o.lineDelta:0,f="number"==typeof o.characterDelta?o.characterDelta:0),0===A&&0===f?this:new xi(this.line+A,this.character+f)}with(o,f=this.character){if(null===o||null===f)throw(0,T.b1)();let A;return typeof o>"u"?A=this.line:"number"==typeof o?A=o:(A="number"==typeof o.line?o.line:this.line,f="number"==typeof o.character?o.character:this.character),A===this.line&&f===this.character?this:new xi(A,f)}toJSON(){return{line:this.line,character:this.character}}};On=xi=(0,l._)([kt],On);let Fn=no=class{constructor(o,f,A,G){let re,Oe;if("number"==typeof o&&"number"==typeof f&&"number"==typeof A&&"number"==typeof G?(re=new On(o,f),Oe=new On(A,G)):On.isPosition(o)&&On.isPosition(f)&&(re=On.of(o),Oe=On.of(f)),!re||!Oe)throw new Error("Invalid arguments");re.isBefore(Oe)?(this._start=re,this._end=Oe):(this._start=Oe,this._end=re)}static isRange(o){return o instanceof no||!!o&&On.isPosition(o.start)&&On.isPosition(o.end)}static of(o){if(o instanceof no)return o;if(this.isRange(o))return new no(o.start,o.end);throw new Error("Invalid argument, is NOT a range-like object")}get start(){return this._start}get end(){return this._end}contains(o){return no.isRange(o)?this.contains(o.start)&&this.contains(o.end):!!On.isPosition(o)&&!(On.of(o).isBefore(this._start)||this._end.isBefore(o))}isEqual(o){return this._start.isEqual(o._start)&&this._end.isEqual(o._end)}intersection(o){const f=On.Max(o.start,this._start),A=On.Min(o.end,this._end);if(!f.isAfter(A))return new no(f,A)}union(o){if(this.contains(o))return this;if(o.contains(this))return o;const f=On.Min(o.start,this._start),A=On.Max(o.end,this.end);return new no(f,A)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(o,f=this.end){if(null===o||null===f)throw(0,T.b1)();let A;return o?On.isPosition(o)?A=o:(A=o.start||this.start,f=o.end||this.end):A=this.start,A.isEqual(this._start)&&f.isEqual(this.end)?this:new no(A,f)}toJSON(){return[this.start,this.end]}};Fn=no=(0,l._)([kt],Fn);let dn=Oi=class extends Fn{constructor(o,f,A,G){let re,Oe;if("number"==typeof o&&"number"==typeof f&&"number"==typeof A&&"number"==typeof G?(re=new On(o,f),Oe=new On(A,G)):On.isPosition(o)&&On.isPosition(f)&&(re=On.of(o),Oe=On.of(f)),!re||!Oe)throw new Error("Invalid arguments");super(re,Oe),this._anchor=re,this._active=Oe}static isSelection(o){return o instanceof Oi||!!o&&Fn.isRange(o)&&On.isPosition(o.anchor)&&On.isPosition(o.active)&&"boolean"==typeof o.isReversed}get anchor(){return this._anchor}get active(){return this._active}get isReversed(){return this._anchor===this._end}toJSON(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}}};dn=Oi=(0,l._)([kt],dn);var gt=(()=>{return(ie=gt||(gt={}))[ie.LF=1]="LF",ie[ie.CRLF=2]="CRLF",gt;var ie})(),sn=(()=>{return(ie=sn||(sn={}))[ie.Replace=1]="Replace",ie[ie.Append=2]="Append",ie[ie.Prepend=3]="Prepend",sn;var ie})();let nn=Ki=class{constructor(o,f){this._range=o,this._newText=f}static isTextEdit(o){return o instanceof Ki||!!o&&Fn.isRange(o)&&"string"==typeof o.newText}static replace(o,f){return new Ki(o,f)}static insert(o,f){return Ki.replace(new Fn(o,o),f)}static delete(o){return Ki.replace(o,"")}static setEndOfLine(o){const f=new Ki(new Fn(new On(0,0),new On(0,0)),"");return f.newEol=o,f}get range(){return this._range}set range(o){if(o&&!Fn.isRange(o))throw(0,T.b1)("range");this._range=o}get newText(){return this._newText||""}set newText(o){if(o&&"string"!=typeof o)throw(0,T.b1)("newText");this._newText=o}get newEol(){return this._newEol}set newEol(o){if(o&&"number"!=typeof o)throw(0,T.b1)("newEol");this._newEol=o}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};nn=Ki=(0,l._)([kt],nn);let xn=ji=class{constructor(o,f){this.range=o,this.newCells=f}static isNotebookCellEdit(o){return o instanceof ji||!!o&&Ns.isNotebookRange(o)&&Array.isArray(o.newCells)}static replaceCells(o,f){return new ji(o,f)}static insertCells(o,f){return new ji(new Ns(o,o),f)}static deleteCells(o){return new ji(o,[])}static updateCellMetadata(o,f){const A=new ji(new Ns(o,o),[]);return A.newCellMetadata=f,A}static updateNotebookMetadata(o){const f=new ji(new Ns(0,0),[]);return f.newNotebookMetadata=o,f}};xn=ji=(0,l._)([kt],xn);let Pn=class{constructor(){this._edits=[]}_allEntries(){return this._edits}renameFile(o,f,A,G){this._edits.push({_type:1,from:o,to:f,options:A,metadata:G})}createFile(o,f,A){this._edits.push({_type:1,from:void 0,to:o,options:f,metadata:A})}deleteFile(o,f,A){this._edits.push({_type:1,from:o,to:void 0,options:f,metadata:A})}replaceNotebookMetadata(o,f,A){this._edits.push({_type:3,metadata:A,uri:o,edit:{editType:5,metadata:f},notebookMetadata:f})}replaceNotebookCells(o,f,A,G,re){let Oe,Je,mn,At=[];if(Ns.isNotebookRange(f)&&Ur.isNotebookCellDataArray(A)&&!Ur.isNotebookCellDataArray(G)?(Oe=f.start,Je=f.end,At=A,mn=G):"number"==typeof f&&"number"==typeof A&&Ur.isNotebookCellDataArray(G)&&(Oe=f,Je=A,At=G,mn=re),void 0===Oe||void 0===Je)throw new Error("Invalid arguments");(Oe!==Je||At.length>0)&&this._edits.push({_type:5,uri:o,index:Oe,count:Je-Oe,cells:At,metadata:mn})}replaceNotebookCellMetadata(o,f,A,G){this._edits.push({_type:3,metadata:G,uri:o,edit:{editType:8,index:f,metadata:A}})}replace(o,f,A,G){this._edits.push("string"==typeof A?{_type:2,uri:o,edit:new nn(f,A),metadata:G}:{_type:6,uri:o,range:f,edit:A,metadata:G})}insert(o,f,A,G){this.replace(o,new Fn(f,f),A,G)}delete(o,f,A){this.replace(o,f,"",A)}has(o){return this._edits.some(f=>2===f._type&&f.uri.toString()===o.toString())}set(o,f){if(f)for(const A of f)A&&(xn.isNotebookCellEdit(A)?A.newCellMetadata?this.replaceNotebookCellMetadata(o,A.range.start,A.newCellMetadata):A.newNotebookMetadata?this.replaceNotebookMetadata(o,A.newNotebookMetadata):this.replaceNotebookCells(o,A.range,A.newCells):this._edits.push({_type:2,uri:o,edit:A}));else{for(let A=0;A<this._edits.length;A++){const G=this._edits[A];2===G._type&&G.uri.toString()===o.toString()&&(this._edits[A]=void 0)}(0,l.d)(this._edits)}}get(o){const f=[];for(const A of this._edits)2===A._type&&A.uri.toString()===o.toString()&&f.push(A.edit);return f}entries(){const o=new c.Y9;for(const f of this._edits)if(2===f._type){let A=o.get(f.uri);A||(A=[f.uri,[]],o.set(f.uri,A)),A[1].push(f.edit)}return[...o.values()]}get size(){return this.entries().length}toJSON(){return this.entries()}};Pn=(0,l._)([kt],Pn);let En=co=class{constructor(o){this._tabstop=1,this.value=o||""}static isSnippetString(o){return o instanceof co||!!o&&"string"==typeof o.value}static _escape(o){return o.replace(/\$|}|\\/g,"\\$&")}appendText(o){return this.value+=co._escape(o),this}appendTabstop(o=this._tabstop++){return this.value+="$",this.value+=o,this}appendPlaceholder(o,f=this._tabstop++){if("function"==typeof o){const A=new co;A._tabstop=this._tabstop,o(A),this._tabstop=A._tabstop,o=A.value}else o=co._escape(o);return this.value+="${",this.value+=f,this.value+=":",this.value+=o,this.value+="}",this}appendChoice(o,f=this._tabstop++){const A=o.map(G=>G.replace(/\$|}|\\|,/g,"\\$&")).join(",");return this.value+="${",this.value+=f,this.value+="|",this.value+=A,this.value+="|}",this}appendVariable(o,f){if("function"==typeof f){const A=new co;A._tabstop=this._tabstop,f(A),this._tabstop=A._tabstop,f=A.value}else"string"==typeof f&&(f=f.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=o,f&&(this.value+=":",this.value+=f),this.value+="}",this}};En=co=(0,l._)([kt],En);var ht=(()=>{return(ie=ht||(ht={}))[ie.Unnecessary=1]="Unnecessary",ie[ie.Deprecated=2]="Deprecated",ht;var ie})(),Rt=(()=>{return(ie=Rt||(Rt={}))[ie.Hint=3]="Hint",ie[ie.Information=2]="Information",ie[ie.Warning=1]="Warning",ie[ie.Error=0]="Error",Rt;var ie})();let Vt=yo=class{constructor(o,f){if(this.uri=o,f)if(Fn.isRange(f))this.range=Fn.of(f);else{if(!On.isPosition(f))throw new Error("Illegal argument");this.range=new Fn(f,f)}}static isLocation(o){return o instanceof yo||!!o&&Fn.isRange(o.range)&&C.o.isUri(o.uri)}toJSON(){return{uri:this.uri,range:this.range}}};Vt=yo=(0,l._)([kt],Vt);let Zt=class{constructor(o,f){this.location=o,this.message=f}static is(o){return!!o&&"string"==typeof o.message&&o.location&&Fn.isRange(o.location.range)&&C.o.isUri(o.location.uri)}static isEqual(o,f){return o===f||!(!o||!f)&&o.message===f.message&&o.location.range.isEqual(f.location.range)&&o.location.uri.toString()===f.location.uri.toString()}};Zt=(0,l._)([kt],Zt);let Cn=class{constructor(o,f,A=Rt.Error){if(!Fn.isRange(o))throw new TypeError("range must be set");if(!f)throw new TypeError("message must be set");this.range=o,this.message=f,this.severity=A}toJSON(){return{severity:Rt[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}}static isEqual(o,f){return o===f||!(!o||!f)&&o.message===f.message&&o.severity===f.severity&&o.code===f.code&&o.severity===f.severity&&o.source===f.source&&o.range.isEqual(f.range)&&(0,E.fS)(o.tags,f.tags)&&(0,E.fS)(o.relatedInformation,f.relatedInformation,Zt.isEqual)}};Cn=(0,l._)([kt],Cn);let Re=class{constructor(o,f){if(!o)throw new Error("Illegal argument, contents must be defined");this.contents=Array.isArray(o)?o:[o],this.range=f}};Re=(0,l._)([kt],Re);var ct=(()=>{return(ie=ct||(ct={}))[ie.Text=0]="Text",ie[ie.Read=1]="Read",ie[ie.Write=2]="Write",ct;var ie})();let _n=class{constructor(o,f=ct.Text){this.range=o,this.kind=f}toJSON(){return{range:this.range,kind:ct[this.kind]}}};_n=(0,l._)([kt],_n);var Hn=(()=>{return(ie=Hn||(Hn={}))[ie.File=0]="File",ie[ie.Module=1]="Module",ie[ie.Namespace=2]="Namespace",ie[ie.Package=3]="Package",ie[ie.Class=4]="Class",ie[ie.Method=5]="Method",ie[ie.Property=6]="Property",ie[ie.Field=7]="Field",ie[ie.Constructor=8]="Constructor",ie[ie.Enum=9]="Enum",ie[ie.Interface=10]="Interface",ie[ie.Function=11]="Function",ie[ie.Variable=12]="Variable",ie[ie.Constant=13]="Constant",ie[ie.String=14]="String",ie[ie.Number=15]="Number",ie[ie.Boolean=16]="Boolean",ie[ie.Array=17]="Array",ie[ie.Object=18]="Object",ie[ie.Key=19]="Key",ie[ie.Null=20]="Null",ie[ie.EnumMember=21]="EnumMember",ie[ie.Struct=22]="Struct",ie[ie.Event=23]="Event",ie[ie.Operator=24]="Operator",ie[ie.TypeParameter=25]="TypeParameter",Hn;var ie})(),Ai=(()=>{return(ie=Ai||(Ai={}))[ie.Deprecated=1]="Deprecated",Ai;var ie})();let yi=Go=class{constructor(o,f,A,G,re){this.name=o,this.kind=f,this.containerName=re,"string"==typeof A&&(this.containerName=A),G instanceof Vt?this.location=G:A instanceof Fn&&(this.location=new Vt(G,A)),Go.validate(this)}static validate(o){if(!o.name)throw new Error("name must not be falsy")}toJSON(){return{name:this.name,kind:Hn[this.kind],location:this.location,containerName:this.containerName}}};yi=Go=(0,l._)([kt],yi);let di=Po=class{constructor(o,f,A,G,re){this.name=o,this.detail=f,this.kind=A,this.range=G,this.selectionRange=re,this.children=[],Po.validate(this)}static validate(o){if(!o.name)throw new Error("name must not be falsy");if(!o.range.contains(o.selectionRange))throw new Error("selectionRange must be contained in fullRange");o.children?.forEach(Po.validate)}};di=Po=(0,l._)([kt],di);var Ft=(()=>{return(ie=Ft||(Ft={}))[ie.Invoke=1]="Invoke",ie[ie.Automatic=2]="Automatic",Ft;var ie})();let R=class{constructor(o,f){this.title=o,this.kind=f}};R=(0,l._)([kt],R);let q=wo=class{constructor(o){this.value=o}append(o){return new wo(this.value?this.value+wo.sep+o:o)}intersects(o){return this.contains(o)||o.contains(this)}contains(o){return this.value===o.value||o.value.startsWith(this.value+wo.sep)}};q.sep=".",q=wo=(0,l._)([kt],q),q.Empty=new q(""),q.QuickFix=q.Empty.append("quickfix"),q.Refactor=q.Empty.append("refactor"),q.RefactorExtract=q.Refactor.append("extract"),q.RefactorInline=q.Refactor.append("inline"),q.RefactorRewrite=q.Refactor.append("rewrite"),q.Source=q.Empty.append("source"),q.SourceOrganizeImports=q.Source.append("organizeImports"),q.SourceFixAll=q.Source.append("fixAll");let me=class{constructor(o,f){if(this.range=o,this.parent=f,f&&!f.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}};me=(0,l._)([kt],me);let Ke=class{constructor(o,f,A,G,re,Oe){this.kind=o,this.name=f,this.detail=A,this.uri=G,this.range=re,this.selectionRange=Oe}};var tn=(()=>{return(ie=tn||(tn={}))[ie.Information=0]="Information",ie[ie.Warning=1]="Warning",ie[ie.Error=2]="Error",tn;var ie})();let Jt=class{constructor(o,f){this.range=o,this.command=f}get isResolved(){return!!this.command}};Jt=(0,l._)([kt],Jt);let Sn=Do=class{constructor(o,f=!1){gn.set(this,void 0),(0,l.b)(this,gn,new n.W5(o,{supportThemeIcons:f}),"f")}static isMarkdownString(o){return o instanceof Do||o&&o.appendCodeblock&&o.appendMarkdown&&o.appendText&&void 0!==o.value}get value(){return(0,l.c)(this,gn,"f").value}set value(o){(0,l.c)(this,gn,"f").value=o}get isTrusted(){return(0,l.c)(this,gn,"f").isTrusted}set isTrusted(o){(0,l.c)(this,gn,"f").isTrusted=o}get supportThemeIcons(){return(0,l.c)(this,gn,"f").supportThemeIcons}set supportThemeIcons(o){(0,l.c)(this,gn,"f").supportThemeIcons=o}get supportHtml(){return(0,l.c)(this,gn,"f").supportHtml}set supportHtml(o){(0,l.c)(this,gn,"f").supportHtml=o}get baseUri(){return(0,l.c)(this,gn,"f").baseUri}set baseUri(o){(0,l.c)(this,gn,"f").baseUri=o}appendText(o){return(0,l.c)(this,gn,"f").appendText(o),this}appendMarkdown(o){return(0,l.c)(this,gn,"f").appendMarkdown(o),this}appendCodeblock(o,f){return(0,l.c)(this,gn,"f").appendCodeblock(f??"",o),this}};gn=new WeakMap,Sn=Do=(0,l._)([kt],Sn);let Tn=class{constructor(o,f){this.label=o,this.documentation=f}};Tn=(0,l._)([kt],Tn);let Bn=class{constructor(o,f){this.label=o,this.documentation=f,this.parameters=[]}};Bn=(0,l._)([kt],Bn);let Kn=class{constructor(){this.activeSignature=0,this.activeParameter=0,this.signatures=[]}};Kn=(0,l._)([kt],Kn);var ti=(()=>{return(ie=ti||(ti={}))[ie.Invoke=1]="Invoke",ie[ie.TriggerCharacter=2]="TriggerCharacter",ie[ie.ContentChange=3]="ContentChange",ti;var ie})(),fi=(()=>{return(ie=fi||(fi={}))[ie.Type=1]="Type",ie[ie.Parameter=2]="Parameter",fi;var ie})();let hi=class{constructor(o){this.value=o}};hi=(0,l._)([kt],hi);let Ot=class{constructor(o,f,A){this.position=o,this.label=f,this.kind=A}};Ot=(0,l._)([kt],Ot);var te=(()=>{return(ie=te||(te={}))[ie.Invoke=0]="Invoke",ie[ie.TriggerCharacter=1]="TriggerCharacter",ie[ie.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",te;var ie})(),ge=(()=>{return(ie=ge||(ge={}))[ie.Text=0]="Text",ie[ie.Method=1]="Method",ie[ie.Function=2]="Function",ie[ie.Constructor=3]="Constructor",ie[ie.Field=4]="Field",ie[ie.Variable=5]="Variable",ie[ie.Class=6]="Class",ie[ie.Interface=7]="Interface",ie[ie.Module=8]="Module",ie[ie.Property=9]="Property",ie[ie.Unit=10]="Unit",ie[ie.Value=11]="Value",ie[ie.Enum=12]="Enum",ie[ie.Keyword=13]="Keyword",ie[ie.Snippet=14]="Snippet",ie[ie.Color=15]="Color",ie[ie.File=16]="File",ie[ie.Reference=17]="Reference",ie[ie.Folder=18]="Folder",ie[ie.EnumMember=19]="EnumMember",ie[ie.Constant=20]="Constant",ie[ie.Struct=21]="Struct",ie[ie.Event=22]="Event",ie[ie.Operator=23]="Operator",ie[ie.TypeParameter=24]="TypeParameter",ie[ie.User=25]="User",ie[ie.Issue=26]="Issue",ge;var ie})(),it=(()=>{return(ie=it||(it={}))[ie.Deprecated=1]="Deprecated",it;var ie})();let Tt=class{constructor(o,f){this.label=o,this.kind=f}toJSON(){return{label:this.label,kind:this.kind&&ge[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}}};Tt=(0,l._)([kt],Tt);let qt=class{constructor(o=[],f=!1){this.items=o,this.isIncomplete=f}};qt=(0,l._)([kt],qt);let Mt=class{constructor(o,f,A){this.insertText=o,this.range=f,this.command=A}};Mt=(0,l._)([kt],Mt);let ee=class{constructor(o){this.commands=void 0,this.items=o}};ee=(0,l._)([kt],ee);var ie,Ie=(()=>{return(ie=Ie||(Ie={}))[ie.Active=-1]="Active",ie[ie.Beside=-2]="Beside",ie[ie.One=1]="One",ie[ie.Two=2]="Two",ie[ie.Three=3]="Three",ie[ie.Four=4]="Four",ie[ie.Five=5]="Five",ie[ie.Six=6]="Six",ie[ie.Seven=7]="Seven",ie[ie.Eight=8]="Eight",ie[ie.Nine=9]="Nine",Ie;var ie})(),rt=(()=>{return(ie=rt||(rt={}))[ie.Left=1]="Left",ie[ie.Right=2]="Right",rt;var ie})(),$t=(()=>{return(ie=$t||($t={}))[ie.Off=0]="Off",ie[ie.On=1]="On",ie[ie.Relative=2]="Relative",$t;var ie})(),cn=(()=>{return(ie=cn||(cn={}))[ie.Manual=1]="Manual",ie[ie.AfterDelay=2]="AfterDelay",ie[ie.FocusOut=3]="FocusOut",cn;var ie})(),Ln=(()=>{return(ie=Ln||(Ln={}))[ie.Default=0]="Default",ie[ie.InCenter=1]="InCenter",ie[ie.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",ie[ie.AtTop=3]="AtTop",Ln;var ie})(),In=(()=>{return(ie=In||(In={}))[ie.Keyboard=1]="Keyboard",ie[ie.Mouse=2]="Mouse",ie[ie.Command=3]="Command",In;var ie})(),ni=(()=>{return(ie=ni||(ni={}))[ie.Undo=1]="Undo",ie[ie.Redo=2]="Redo",ni;var ie})(),Jn=(()=>{return(ie=Jn||(Jn={}))[ie.OpenOpen=0]="OpenOpen",ie[ie.ClosedClosed=1]="ClosedClosed",ie[ie.OpenClosed=2]="OpenClosed",ie[ie.ClosedOpen=3]="ClosedOpen",Jn;var ie})();(ie=In||(In={})).fromValue=function o(f){switch(f){case"keyboard":return ie.Keyboard;case"mouse":return ie.Mouse;case"api":return ie.Command}};let gi=class{constructor(o,f){if(f&&!C.o.isUri(f))throw(0,T.b1)("target");if(!Fn.isRange(o)||o.isEmpty)throw(0,T.b1)("range");this.range=o,this.target=f}};gi=(0,l._)([kt],gi);let vi=class{constructor(o,f,A,G){this.red=o,this.green=f,this.blue=A,this.alpha=G}};vi=(0,l._)([kt],vi);let bi=class{constructor(o,f){if(f&&!(f instanceof vi))throw(0,T.b1)("color");if(!Fn.isRange(o)||o.isEmpty)throw(0,T.b1)("range");this.range=o,this.color=f}};bi=(0,l._)([kt],bi);let Pi=class{constructor(o){if(!o||"string"!=typeof o)throw(0,T.b1)("label");this.label=o}};Pi=(0,l._)([kt],Pi);var Yi=(()=>(function(ie){ie[ie.Panel=1]="Panel",ie[ie.Editor=2]="Editor"}(Yi||(Yi={})),Yi))(),Co=(()=>(function(ie){ie[ie.Always=1]="Always",ie[ie.Silent=2]="Silent",ie[ie.Never=3]="Never"}(Co||(Co={})),Co))(),Ho=(()=>(function(ie){ie[ie.Shared=1]="Shared",ie[ie.Dedicated=2]="Dedicated",ie[ie.New=3]="New"}(Ho||(Ho={})),Ho))();let Ro=to=class{constructor(o,f){if(this.label=f,"string"!=typeof o||"string"!=typeof f)throw(0,T.b1)("name");this._id=o}static from(o){switch(o){case"clean":return to.Clean;case"build":return to.Build;case"rebuild":return to.Rebuild;case"test":return to.Test;default:return}}get id(){return this._id}};function is(ie){let o="";for(let f=0;f<ie.length;f++)o+=ie[f].replace(/,/g,",,")+",";return o}Ro.Clean=new to("clean","Clean"),Ro.Build=new to("build","Build"),Ro.Rebuild=new to("rebuild","Rebuild"),Ro.Test=new to("test","Test"),Ro=to=(0,l._)([kt],Ro);let nr=class{constructor(o,f,A){if("string"!=typeof o)throw(0,T.b1)("process");this._args=[],this._process=o,void 0!==f&&(Array.isArray(f)?(this._args=f,this._options=A):this._options=f)}get process(){return this._process}set process(o){if("string"!=typeof o)throw(0,T.b1)("process");this._process=o}get args(){return this._args}set args(o){Array.isArray(o)||(o=[]),this._args=o}get options(){return this._options}set options(o){this._options=o}computeId(){const o=[];if(o.push("process"),void 0!==this._process&&o.push(this._process),this._args&&this._args.length>0)for(const f of this._args)o.push(f);return is(o)}};nr=(0,l._)([kt],nr);let Ls=class{constructor(o,f,A){if(this._args=[],Array.isArray(f)){if(!o)throw(0,T.b1)("command can't be undefined or null");if("string"!=typeof o&&"string"!=typeof o.value)throw(0,T.b1)("command");this._command=o,this._args=f,this._options=A}else{if("string"!=typeof o)throw(0,T.b1)("commandLine");this._commandLine=o,this._options=f}}get commandLine(){return this._commandLine}set commandLine(o){if("string"!=typeof o)throw(0,T.b1)("commandLine");this._commandLine=o}get command(){return this._command?this._command:""}set command(o){if("string"!=typeof o&&"string"!=typeof o.value)throw(0,T.b1)("command");this._command=o}get args(){return this._args}set args(o){this._args=o||[]}get options(){return this._options}set options(o){this._options=o}computeId(){const o=[];if(o.push("shell"),void 0!==this._commandLine&&o.push(this._commandLine),void 0!==this._command&&o.push("string"==typeof this._command?this._command:this._command.value),this._args&&this._args.length>0)for(const f of this._args)o.push("string"==typeof f?f:f.value);return is(o)}};Ls=(0,l._)([kt],Ls);var Yo=(()=>(function(ie){ie[ie.Escape=1]="Escape",ie[ie.Strong=2]="Strong",ie[ie.Weak=3]="Weak"}(Yo||(Yo={})),Yo))(),Ko=(()=>(function(ie){ie[ie.Global=1]="Global",ie[ie.Workspace=2]="Workspace"}(Ko||(Ko={})),Ko))();class Nr{constructor(o){this._callback=o}computeId(){return"customExecution"+(0,L.R)()}set callback(o){this._callback=o}get callback(){return this._callback}}let Ps=vo=class{constructor(o,f,A,G,re,Oe){let Je;this.__deprecated=!1,this._definition=this.definition=o,"string"==typeof f?(this._name=this.name=f,this._source=this.source=A,this.execution=G,Je=re,this.__deprecated=!0):(this.target=f,this._name=this.name=A,this._source=this.source=G,this.execution=re,Je=Oe),"string"==typeof Je?(this._problemMatchers=[Je],this._hasDefinedMatchers=!0):Array.isArray(Je)?(this._problemMatchers=Je,this._hasDefinedMatchers=!0):(this._problemMatchers=[],this._hasDefinedMatchers=!1),this._isBackground=!1,this._presentationOptions=Object.create(null),this._runOptions=Object.create(null)}get _id(){return this.__id}set _id(o){this.__id=o}get _deprecated(){return this.__deprecated}clear(){void 0!==this.__id&&(this.__id=void 0,this._scope=void 0,this.computeDefinitionBasedOnExecution())}computeDefinitionBasedOnExecution(){this._definition=this._execution instanceof nr?{type:vo.ProcessType,id:this._execution.computeId()}:this._execution instanceof Ls?{type:vo.ShellType,id:this._execution.computeId()}:this._execution instanceof Nr?{type:vo.ExtensionCallbackType,id:this._execution.computeId()}:{type:vo.EmptyType,id:(0,L.R)()}}get definition(){return this._definition}set definition(o){if(null==o)throw(0,T.b1)("Kind can't be undefined or null");this.clear(),this._definition=o}get scope(){return this._scope}set target(o){this.clear(),this._scope=o}get name(){return this._name}set name(o){if("string"!=typeof o)throw(0,T.b1)("name");this.clear(),this._name=o}get execution(){return this._execution}set execution(o){null===o&&(o=void 0),this.clear(),this._execution=o;const f=this._definition.type;(vo.EmptyType===f||vo.ProcessType===f||vo.ShellType===f||vo.ExtensionCallbackType===f)&&this.computeDefinitionBasedOnExecution()}get problemMatchers(){return this._problemMatchers}set problemMatchers(o){if(!Array.isArray(o))return this.clear(),this._problemMatchers=[],void(this._hasDefinedMatchers=!1);this.clear(),this._problemMatchers=o,this._hasDefinedMatchers=!0}get hasDefinedMatchers(){return this._hasDefinedMatchers}get isBackground(){return this._isBackground}set isBackground(o){!0!==o&&!1!==o&&(o=!1),this.clear(),this._isBackground=o}get source(){return this._source}set source(o){if("string"!=typeof o||0===o.length)throw(0,T.b1)("source must be a string of length > 0");this.clear(),this._source=o}get group(){return this._group}set group(o){null===o&&(o=void 0),this.clear(),this._group=o}get detail(){return this._detail}set detail(o){null===o&&(o=void 0),this._detail=o}get presentationOptions(){return this._presentationOptions}set presentationOptions(o){null==o&&(o=Object.create(null)),this.clear(),this._presentationOptions=o}get runOptions(){return this._runOptions}set runOptions(o){null==o&&(o=Object.create(null)),this.clear(),this._runOptions=o}};Ps.ExtensionCallbackType="customExecution",Ps.ProcessType="process",Ps.ShellType="shell",Ps.EmptyType="$empty",Ps=vo=(0,l._)([kt],Ps);var Lr=(()=>(function(ie){ie[ie.SourceControl=1]="SourceControl",ie[ie.Window=10]="Window",ie[ie.Notification=15]="Notification"}(Lr||(Lr={})),Lr))();let sa=Oo=class{constructor(o,f=mr.None){this.collapsibleState=f,C.o.isUri(o)?this.resourceUri=o:this.label=o}static isTreeItem(o){if(o instanceof Oo)return!0;const f=o;return void 0===f.label||(0,_.HD)(f.label)||f.label.label?void 0===f.id||(0,_.HD)(f.id)?void 0===f.iconPath||(0,_.HD)(f.iconPath)||C.o.isUri(f.iconPath)||(0,_.HD)(f.iconPath.id)?void 0===f.description||(0,_.HD)(f.description)||"boolean"==typeof f.description?void 0===f.resourceUri||C.o.isUri(f.resourceUri)?void 0===f.tooltip||(0,_.HD)(f.tooltip)||f.tooltip instanceof Sn?void 0===f.command||f.command.command?void 0!==f.collapsibleState&&f.collapsibleState<mr.None&&f.collapsibleState>mr.Expanded?(console.log("INVALID tree item, invalid collapsibleState",f.collapsibleState),!1):void 0===f.contextValue||(0,_.HD)(f.contextValue)?!(void 0!==f.accessibilityInformation&&!f.accessibilityInformation.label&&(console.log("INVALID tree item, invalid accessibilityInformation",f.accessibilityInformation),1)):(console.log("INVALID tree item, invalid contextValue",f.contextValue),!1):(console.log("INVALID tree item, invalid command",f.command),!1):(console.log("INVALID tree item, invalid tooltip",f.tooltip),!1):(console.log("INVALID tree item, invalid resourceUri",f.resourceUri),!1):(console.log("INVALID tree item, invalid description",f.description),!1):(console.log("INVALID tree item, invalid iconPath",f.iconPath),!1):(console.log("INVALID tree item, invalid id",f.id),!1):(console.log("INVALID tree item, invalid label",f.label),!1)}};sa=Oo=(0,l._)([kt],sa);var mr=(()=>(function(ie){ie[ie.None=0]="None",ie[ie.Collapsed=1]="Collapsed",ie[ie.Expanded=2]="Expanded"}(mr||(mr={})),mr))();let $s=class{constructor(o){this.value=o}asString(){var o=this;return(0,d.Z)(function*(){return"string"==typeof o.value?o.value:JSON.stringify(o.value)})()}asFile(){}};$s=(0,l._)([kt],$s);let Zs=class{constructor(o){An.set(this,new Map);for(const[f,A]of o??[]){const G=(0,l.c)(this,An,"f").get(f);G?G.push(A):(0,l.c)(this,An,"f").set(f,[A])}}get(o){return(0,l.c)(this,An,"f").get(o)?.[0]}set(o,f){(0,l.c)(this,An,"f").set(o,[f])}forEach(o,f){for(const[A,G]of(0,l.c)(this,An,"f"))for(const re of G)o.call(f,re,A,this)}*[(An=new WeakMap,Symbol.iterator)](){for(const[o,f]of(0,l.c)(this,An,"f"))for(const A of f)yield[o,A]}};Zs=(0,l._)([kt],Zs);let Rr=class{constructor(o){this.insertText=o}};Rr=(0,l._)([kt],Rr);let er=class{constructor(o,f){this.id=o,this.color=f}};er=(0,l._)([kt],er),er.File=new er("file"),er.Folder=new er("folder");let Or=class{constructor(o){this.id=o}};Or=(0,l._)([kt],Or);var Qs=(()=>(function(ie){ie[ie.Global=1]="Global",ie[ie.Workspace=2]="Workspace",ie[ie.WorkspaceFolder=3]="WorkspaceFolder"}(Qs||(Qs={})),Qs))();let js=class{constructor(o,f){if("string"!=typeof o&&(!o||!C.o.isUri(o)&&!C.o.isUri(o.uri)))throw(0,T.b1)("base");if("string"!=typeof f)throw(0,T.b1)("pattern");this.baseUri="string"==typeof o?C.o.file(o):C.o.isUri(o)?o:o.uri,this.pattern=f}get base(){return this._base}set base(o){this._base=o,this._baseUri=C.o.file(o)}get baseUri(){return this._baseUri}set baseUri(o){this._baseUri=o,this._base=o.fsPath}toJSON(){return{pattern:this.pattern,base:this.base,baseUri:this.baseUri.toJSON()}}};js=(0,l._)([kt],js);let br=class{constructor(o,f,A,G){this.enabled="boolean"!=typeof o||o,"string"==typeof f&&(this.condition=f),"string"==typeof A&&(this.hitCondition=A),"string"==typeof G&&(this.logMessage=G)}get id(){return this._id||(this._id=(0,L.R)()),this._id}};br=(0,l._)([kt],br);let ks=class extends br{constructor(o,f,A,G,re){if(super(f,A,G,re),null===o)throw(0,T.b1)("location");this.location=o}};ks=(0,l._)([kt],ks);let pr=class extends br{constructor(o,f,A,G,re){super(f,A,G,re),this.functionName=o}};pr=(0,l._)([kt],pr);let ir=class{constructor(o,f,A){this.command=o,this.args=f||[],this.options=A}};ir=(0,l._)([kt],ir);let Fs=class{constructor(o,f){this.port=o,this.host=f}};Fs=(0,l._)([kt],Fs);let Jo=class{constructor(o){this.path=o}};Jo=(0,l._)([kt],Jo);let xr=class{constructor(o){this.implementation=o}};xr=(0,l._)([kt],xr);let or=class{constructor(o,f){this.range=o,this.expression=f}};or=(0,l._)([kt],or);var kr=(()=>(function(ie){ie[ie.Invoke=0]="Invoke",ie[ie.Automatic=1]="Automatic"}(kr||(kr={})),kr))(),Bs=(()=>(function(ie){ie[ie.Invoke=0]="Invoke",ie[ie.Automatic=1]="Automatic"}(Bs||(Bs={})),Bs))();let fs=class{constructor(o,f){this.range=o,this.text=f}};fs=(0,l._)([kt],fs);let ar=class{constructor(o,f,A=!0){this.range=o,this.variableName=f,this.caseSensitiveLookup=A}};ar=(0,l._)([kt],ar);let lr=class{constructor(o,f){this.range=o,this.expression=f}};lr=(0,l._)([kt],lr);let Fr=class{constructor(o,f){this.frameId=o,this.stoppedLocation=f}};Fr=(0,l._)([kt],Fr);var Zr=(()=>(function(ie){ie[ie.Changed=1]="Changed",ie[ie.Created=2]="Created",ie[ie.Deleted=3]="Deleted"}(Zr||(Zr={})),Zr))();let Ys=ai=class extends Error{constructor(o,f=S.d.Unknown,A){super(C.o.isUri(o)?o.toString(!0):o),this.code=A?.name??"Unknown",(0,S.m)(this,f),"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,ai.prototype),"function"==typeof Error.captureStackTrace&&"function"==typeof A&&Error.captureStackTrace(this,A)}static FileExists(o){return new ai(o,S.d.FileExists,ai.FileExists)}static FileNotFound(o){return new ai(o,S.d.FileNotFound,ai.FileNotFound)}static FileNotADirectory(o){return new ai(o,S.d.FileNotADirectory,ai.FileNotADirectory)}static FileIsADirectory(o){return new ai(o,S.d.FileIsADirectory,ai.FileIsADirectory)}static NoPermissions(o){return new ai(o,S.d.NoPermissions,ai.NoPermissions)}static Unavailable(o){return new ai(o,S.d.Unavailable,ai.Unavailable)}};Ys=ai=(0,l._)([kt],Ys);let Ws=class{constructor(o,f,A){this.start=o,this.end=f,this.kind=A}};Ws=(0,l._)([kt],Ws);var qi=(()=>(function(ie){ie[ie.Comment=1]="Comment",ie[ie.Imports=2]="Imports",ie[ie.Region=3]="Region"}(qi||(qi={})),qi))(),dr=(()=>(function(ie){ie[ie.Collapsed=0]="Collapsed",ie[ie.Expanded=1]="Expanded"}(dr||(dr={})),dr))(),yr=(()=>(function(ie){ie[ie.Editing=0]="Editing",ie[ie.Preview=1]="Preview"}(yr||(yr={})),yr))();class Sr{constructor(o){if(this._prevLine=0,this._prevChar=0,this._dataIsSortedAndDeltaEncoded=!0,this._data=[],this._dataLen=0,this._tokenTypeStrToInt=new Map,this._tokenModifierStrToInt=new Map,this._hasLegend=!1,o){this._hasLegend=!0;for(let f=0,A=o.tokenTypes.length;f<A;f++)this._tokenTypeStrToInt.set(o.tokenTypes[f],f);for(let f=0,A=o.tokenModifiers.length;f<A;f++)this._tokenModifierStrToInt.set(o.tokenModifiers[f],f)}}push(o,f,A,G,re){if("number"==typeof o&&"number"==typeof f&&"number"==typeof A&&"number"==typeof G&&("number"==typeof re||typeof re>"u"))return typeof re>"u"&&(re=0),this._pushEncoded(o,f,A,G,re);if(Fn.isRange(o)&&"string"==typeof f&&function Vs(ie){return typeof ie>"u"||(0,v.i)(ie)}(A))return this._push(o,f,A);throw(0,T.b1)()}_push(o,f,A){if(!this._hasLegend)throw new Error("Legend must be provided in constructor");if(o.start.line!==o.end.line)throw new Error("`range` cannot span multiple lines");if(!this._tokenTypeStrToInt.has(f))throw new Error("`tokenType` is not in the provided legend");const G=o.start.line,re=o.start.character,Oe=o.end.character-o.start.character,Je=this._tokenTypeStrToInt.get(f);let At=0;if(A)for(const mn of A){if(!this._tokenModifierStrToInt.has(mn))throw new Error("`tokenModifier` is not in the provided legend");At|=1<<this._tokenModifierStrToInt.get(mn)>>>0}this._pushEncoded(G,re,Oe,Je,At)}_pushEncoded(o,f,A,G,re){if(this._dataIsSortedAndDeltaEncoded&&(o<this._prevLine||o===this._prevLine&&f<this._prevChar)){this._dataIsSortedAndDeltaEncoded=!1;const At=this._data.length/5|0;let mn=0,Un=0;for(let ui=0;ui<At;ui++){let Ei=this._data[5*ui],ei=this._data[5*ui+1];0===Ei?(Ei=mn,ei+=Un):Ei+=mn,this._data[5*ui]=Ei,this._data[5*ui+1]=ei,mn=Ei,Un=ei}}let Oe=o,Je=f;this._dataIsSortedAndDeltaEncoded&&this._dataLen>0&&(Oe-=this._prevLine,0===Oe&&(Je-=this._prevChar)),this._data[this._dataLen++]=Oe,this._data[this._dataLen++]=Je,this._data[this._dataLen++]=A,this._data[this._dataLen++]=G,this._data[this._dataLen++]=re,this._prevLine=o,this._prevChar=f}static _sortAndDeltaEncode(o){const f=[],A=o.length/5|0;for(let Je=0;Je<A;Je++)f[Je]=Je;f.sort((Je,At)=>{const mn=o[5*Je],Un=o[5*At];return mn===Un?o[5*Je+1]-o[5*At+1]:mn-Un});const G=new Uint32Array(o.length);let re=0,Oe=0;for(let Je=0;Je<A;Je++){const At=5*f[Je],mn=o[At+0],Un=o[At+1],ui=o[At+2],Ei=o[At+3],ei=o[At+4],_i=mn-re,Ri=0===_i?Un-Oe:Un,Bi=5*Je;G[Bi+0]=_i,G[Bi+1]=Ri,G[Bi+2]=ui,G[Bi+3]=Ei,G[Bi+4]=ei,re=mn,Oe=Un}return G}build(o){return new wr(this._dataIsSortedAndDeltaEncoded?new Uint32Array(this._data):Sr._sortAndDeltaEncode(this._data),o)}}class wr{constructor(o,f){this.resultId=f,this.data=o}}class Br{constructor(o,f,A){this.start=o,this.deleteCount=f,this.data=A}}class ho{constructor(o,f){this.resultId=f,this.edits=o}}var ko=(()=>(function(ie){ie[ie.Separate=0]="Separate",ie[ie.MergeWithParent=1]="MergeWithParent"}(ko||(ko={})),ko))();let gs=class{constructor(){}};gs.Back={iconPath:new er("arrow-left")},gs=(0,l._)([kt],gs);var rs=(()=>(function(ie){ie[ie.Separator=-1]="Separator",ie[ie.Default=0]="Default"}(rs||(rs={})),rs))(),xs=(()=>(function(ie){ie[ie.Info=1]="Info",ie[ie.Warning=2]="Warning",ie[ie.Error=3]="Error"}(xs||(xs={})),xs))(),ms=(()=>(function(ie){ie[ie.UI=1]="UI",ie[ie.Workspace=2]="Workspace"}(ms||(ms={})),ms))();let Ns=class{constructor(o,f){if(o<0)throw(0,T.b1)("start must be positive");if(f<0)throw(0,T.b1)("end must be positive");o<=f?(this._start=o,this._end=f):(this._start=f,this._end=o)}static isNotebookRange(o){return o instanceof Ns||!!o&&"number"==typeof o.start&&"number"==typeof o.end}get start(){return this._start}get end(){return this._end}get isEmpty(){return this._start===this._end}with(o){let f=this._start,A=this._end;return void 0!==o.start&&(f=o.start),void 0!==o.end&&(A=o.end),f===this._start&&A===this._end?this:new Ns(f,A)}},Ur=class{constructor(o,f,A,G,re,Oe,Je){this.kind=o,this.value=f,this.languageId=A,this.mime=G,this.outputs=re??[],this.metadata=Oe,this.executionSummary=Je,Ur.validate(this)}static validate(o){if("number"!=typeof o.kind)throw new Error("NotebookCellData MUST have 'kind' property");if("string"!=typeof o.value)throw new Error("NotebookCellData MUST have 'value' property");if("string"!=typeof o.languageId)throw new Error("NotebookCellData MUST have 'languageId' property")}static isNotebookCellDataArray(o){return Array.isArray(o)&&o.every(f=>Ur.isNotebookCellData(f))}static isNotebookCellData(o){return!0}},tr=class{constructor(o,f){this.data=o,this.mime=f;const A=Qt(f,!0);if(!A)throw new Error(`INVALID mime type: ${f}. Must be in the format "type/subtype[;optionalparameter]"`);this.mime=A}static isNotebookCellOutputItem(o){return o instanceof tr||!!o&&"string"==typeof o.mime&&o.data instanceof Uint8Array}static error(o){return tr.json({name:o.name,message:o.message,stack:o.stack},"application/vnd.code.notebook.error")}static stdout(o){return tr.text(o,"application/vnd.code.notebook.stdout")}static stderr(o){return tr.text(o,"application/vnd.code.notebook.stderr")}static bytes(o,f="application/octet-stream"){return new tr(o,f)}static text(o,f=m.v.text){const A=(0,l.c)(tr,jn,"f",Qn).encode(String(o));return new tr(A,f)}static json(o,f="text/x-json"){const A=JSON.stringify(o,void 0,"\t");return tr.text(A,f)}};jn=tr,Qn={value:new TextEncoder};let Nn=class{constructor(o,f,A){this.items=Nn.ensureUniqueMimeTypes(o,!0),"string"==typeof f?(this.id=f,this.metadata=A):(this.id=(0,L.R)(),this.metadata=f??A)}static isNotebookCellOutput(o){return o instanceof Nn||!(!o||"object"!=typeof o)&&"string"==typeof o.id&&(0,_.kJ)(o.items)}static ensureUniqueMimeTypes(o,f=!1){const A=new Set,G=new Set;for(let re=0;re<o.length;re++){const Oe=o[re],Je=Qt(Oe.mime);A.has(Je)?(G.add(re),f&&console.warn(`DUPLICATED mime type '${Oe.mime}' will be dropped`)):A.add(Je)}return 0===G.size?o:o.filter((re,Oe)=>!G.has(Oe))}};var se=(()=>(function(ie){ie[ie.Markup=1]="Markup",ie[ie.Code=2]="Code"}(se||(se={})),se))(),Ce=(()=>(function(ie){ie[ie.Left=1]="Left",ie[ie.Right=2]="Right"}(Ce||(Ce={})),Ce))(),Ve=(()=>(function(ie){ie[ie.Default=0]="Default",ie[ie.InCenter=1]="InCenter",ie[ie.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",ie[ie.AtTop=3]="AtTop"}(Ve||(Ve={})),Ve))(),Pt=(()=>(function(ie){ie[ie.Default=1]="Default",ie[ie.Preferred=2]="Preferred"}(Pt||(Pt={})),Pt))(),on=(()=>(function(ie){ie[ie.Production=1]="Production",ie[ie.Development=2]="Development",ie[ie.Test=3]="Test"}(on||(on={})),on))(),wn=(()=>(function(ie){ie[ie.Other=0]="Other",ie[ie.Comment=1]="Comment",ie[ie.String=2]="String",ie[ie.RegEx=3]="RegEx"}(wn||(wn={})),wn))(),Ci=(()=>(function(ie){ie[ie.Run=1]="Run",ie[ie.Debug=2]="Debug",ie[ie.Coverage=3]="Coverage"}(Ci||(Ci={})),Ci))();let ki=class{constructor(o,f,A){this.include=o,this.exclude=f,this.profile=A}};ki=(0,l._)([kt],ki);let Mo=Yt=class{constructor(o){this.message=o}static diff(o,f,A){const G=new Yt(o);return G.expectedOutput=f,G.actualOutput=A,G}};Mo=Yt=(0,l._)([kt],Mo);let ts=class{constructor(o){this.id=o}};ts=(0,l._)([kt],ts);let jo=class{constructor(o,f,A,G,re,Oe){this.kind=o,this.name=f,this.detail=A,this.uri=G,this.range=re,this.selectionRange=Oe}};var Yr,Gi,cs,qo,cr,xa,Vr,Ia,Ta,ur,Pe,Xt,pn,bn,kn,Xn,Zn,qn,ri,Mi,Ni,Vi,Xi,po,Io,Ao,Eo,lo,$o,Fo,So,io,Lo,zo,Zo,ns,To,as,zs,es,Gs,Ks,Bo,ws,Ii,Mr,_r,ls,tl,Ma,nl,Aa,ml,pl,_l,Ol,ga,zr,La=(()=>(function(ie){ie[ie.Desktop=1]="Desktop",ie[ie.Web=2]="Web"}(La||(La={})),La))(),Tr=(()=>(function(ie){ie[ie.Line=1]="Line",ie[ie.Block=2]="Block",ie[ie.Underline=3]="Underline",ie[ie.LineThin=4]="LineThin",ie[ie.BlockOutline=5]="BlockOutline",ie[ie.UnderlineThin=6]="UnderlineThin"}(Tr||(Tr={})),Tr))(),za=(()=>(function(ie){ie[ie.ACTIVATE=1]="ACTIVATE",ie[ie.RESTORE=2]="RESTORE",ie[ie.PRESERVE=3]="PRESERVE"}(za||(za={})),za))(),ys=(()=>(function(ie){ie[ie.PICK=0]="PICK",ie[ie.DISABLED=1]="DISABLED",ie[ie.EXCLUSIVE_ONLY=2]="EXCLUSIVE_ONLY"}(ys||(ys={})),ys))(),Wr=(()=>(function(ie){ie[ie.Markup=1]="Markup",ie[ie.Code=2]="Code"}(Wr||(Wr={})),Wr))();function zt(ie){return 0===ie.length||!!function jr(ie){return typeof ie.range<"u"}(ie[0])}function xt(ie){return typeof ie>"u"?ie:"string"==typeof ie?C.o.file(ie):ie}!function(ie){ie.to=function o(A){const{selectionStartLineNumber:G,selectionStartColumn:re,positionLineNumber:Oe,positionColumn:Je}=A,At=new On(G-1,re-1),mn=new On(Oe-1,Je-1);return new dn(At,mn)},ie.from=function f(A){const{anchor:G,active:re}=A;return{selectionStartLineNumber:G.line+1,selectionStartColumn:G.character+1,positionLineNumber:re.line+1,positionColumn:re.character+1}}}(Yr||(Yr={})),function(ie){ie.from=function o(A){if(!A)return;const{start:G,end:re}=A;return{startLineNumber:G.line+1,startColumn:G.character+1,endLineNumber:re.line+1,endColumn:re.character+1}},ie.to=function f(A){if(!A)return;const{startLineNumber:G,startColumn:re,endLineNumber:Oe,endColumn:Je}=A;return new Fn(G-1,re-1,Oe-1,Je-1)}}(Gi||(Gi={})),function(ie){ie.to=function o(f){switch(f){case 1:return wn.Comment;case 0:return wn.Other;case 3:return wn.RegEx;case 2:return wn.String}}}(cs||(cs={})),function(ie){ie.to=function o(A){return new On(A.lineNumber-1,A.column-1)},ie.from=function f(A){return{lineNumber:A.line+1,column:A.character+1}}}(qo||(qo={})),function(ie){function A(G,re){return re&&"string"==typeof G?re.transformOutgoingScheme(G):G}ie.from=function o(G,re){return(0,E.kX)((0,E._2)(G).map(Oe=>function f(G,re){return"string"==typeof G?{$serialized:!0,language:G}:G?{$serialized:!0,language:G.language,scheme:A(G.scheme,re),pattern:_r.from(G.pattern)??void 0,exclusive:G.exclusive,notebookType:G.notebookType}:void 0}(Oe,re)))}}(cr||(cr={})),function(ie){ie.from=function o(A){switch(A){case ht.Unnecessary:return 1;case ht.Deprecated:return 2}},ie.to=function f(A){switch(A){case 1:return ht.Unnecessary;case 2:return ht.Deprecated;default:return}}}(xa||(xa={})),function(ie){ie.from=function o(A){let G;return A.code&&(G=(0,_.HD)(A.code)||(0,_.hj)(A.code)?String(A.code):{value:String(A.code.value),target:A.code.target}),{...Gi.from(A.range),message:A.message,source:A.source,code:G,severity:Ta.from(A.severity),relatedInformation:A.relatedInformation&&A.relatedInformation.map(Ia.from),tags:Array.isArray(A.tags)?(0,E.kX)(A.tags.map(xa.from)):void 0}},ie.to=function f(A){const G=new Cn(Gi.to(A),A.message,Ta.to(A.severity));return G.source=A.source,G.code=(0,_.HD)(A.code)?A.code:A.code?.value,G.relatedInformation=A.relatedInformation&&A.relatedInformation.map(Ia.to),G.tags=A.tags&&(0,E.kX)(A.tags.map(xa.to)),G}}(Vr||(Vr={})),function(ie){ie.from=function o(A){return{...Gi.from(A.location.range),message:A.message,resource:A.location.uri}},ie.to=function f(A){return new Zt(new Vt(A.resource,Gi.to(A)),A.message)}}(Ia||(Ia={})),function(ie){ie.from=function o(A){switch(A){case Rt.Error:return u.ZL.Error;case Rt.Warning:return u.ZL.Warning;case Rt.Information:return u.ZL.Info;case Rt.Hint:return u.ZL.Hint}return u.ZL.Error},ie.to=function f(A){switch(A){case u.ZL.Info:return Rt.Information;case u.ZL.Warning:return Rt.Warning;case u.ZL.Error:return Rt.Error;case u.ZL.Hint:return Rt.Hint;default:return Rt.Error}}}(Ta||(Ta={})),function(ie){ie.from=function o(A){return"number"==typeof A&&A>=Ie.One?A-1:A===Ie.Beside?S.e:S.A},ie.to=function f(A){if("number"==typeof A&&A>=0)return A+1;throw new Error("invalid 'EditorGroupColumn'")}}(ur||(ur={})),function(ie){function G(Je,At){if(!Je)return Je;let mn;try{mn=(0,g.Q)(Je)}catch{}if(!mn)return Je;let Un=!1;return mn=(0,b.rs)(mn,ui=>{if(C.o.isUri(ui)){const Ei=`__uri_${Math.random().toString(16).slice(2,8)}`;return At[Ei]=ui,Un=!0,Ei}}),Un?JSON.stringify(mn):Je}ie.fromMany=function o(Je){return Je.map(ie.from)},ie.from=function A(Je){let At;if(function f(Je){return Je&&"object"==typeof Je&&"string"==typeof Je.language&&"string"==typeof Je.value}(Je)){const{language:Ei,value:ei}=Je;At={value:"```"+Ei+"\n"+ei+"\n```\n"}}else At=Sn.isMarkdownString(Je)?{value:Je.value,isTrusted:Je.isTrusted,supportThemeIcons:Je.supportThemeIcons,supportHtml:Je.supportHtml,baseUri:Je.baseUri}:"string"==typeof Je?{value:Je}:{value:""};const mn=Object.create(null);At.uris=mn;const Un=Ei=>{try{let ei=C.o.parse(Ei,!0);ei=ei.with({query:G(ei.query,mn)}),mn[Ei]=ei}catch{}return""},ui=new pt.Renderer;return ui.link=Un,ui.image=Ei=>"string"==typeof Ei?Un((0,n.v1)(Ei).href):"",pt(At.value,{renderer:ui}),At},ie.to=function re(Je){const At=new Sn(Je.value,Je.supportThemeIcons);return At.isTrusted=Je.isTrusted,At.supportHtml=Je.supportHtml,At.baseUri=Je.baseUri?C.o.from(Je.baseUri):void 0,At},ie.fromStrict=function Oe(Je){if(Je)return"string"==typeof Je?Je:ie.from(Je)}}(Pe||(Pe={})),function(ie){ie.from=function o(f){return typeof f>"u"?f:{contentText:f.contentText,contentIconPath:f.contentIconPath?xt(f.contentIconPath):void 0,border:f.border,borderColor:f.borderColor,fontStyle:f.fontStyle,fontWeight:f.fontWeight,textDecoration:f.textDecoration,color:f.color,backgroundColor:f.backgroundColor,margin:f.margin,width:f.width,height:f.height}}}(Xt||(Xt={})),function(ie){ie.from=function o(f){return typeof f>"u"?f:{backgroundColor:f.backgroundColor,outline:f.outline,outlineColor:f.outlineColor,outlineStyle:f.outlineStyle,outlineWidth:f.outlineWidth,border:f.border,borderColor:f.borderColor,borderRadius:f.borderRadius,borderSpacing:f.borderSpacing,borderStyle:f.borderStyle,borderWidth:f.borderWidth,fontStyle:f.fontStyle,fontWeight:f.fontWeight,textDecoration:f.textDecoration,cursor:f.cursor,color:f.color,opacity:f.opacity,letterSpacing:f.letterSpacing,gutterIconPath:f.gutterIconPath?xt(f.gutterIconPath):void 0,gutterIconSize:f.gutterIconSize,overviewRulerColor:f.overviewRulerColor,before:f.before?Xt.from(f.before):void 0,after:f.after?Xt.from(f.after):void 0}}}(pn||(pn={})),function(ie){ie.from=function o(f){if(typeof f>"u")return f;switch(f){case Jn.OpenOpen:return 0;case Jn.ClosedClosed:return 1;case Jn.OpenClosed:return 2;case Jn.ClosedOpen:return 3}}}(bn||(bn={})),function(ie){ie.from=function o(f){return{isWholeLine:f.isWholeLine,rangeBehavior:f.rangeBehavior?bn.from(f.rangeBehavior):void 0,overviewRulerLane:f.overviewRulerLane,light:f.light?pn.from(f.light):void 0,dark:f.dark?pn.from(f.dark):void 0,backgroundColor:f.backgroundColor,outline:f.outline,outlineColor:f.outlineColor,outlineStyle:f.outlineStyle,outlineWidth:f.outlineWidth,border:f.border,borderColor:f.borderColor,borderRadius:f.borderRadius,borderSpacing:f.borderSpacing,borderStyle:f.borderStyle,borderWidth:f.borderWidth,fontStyle:f.fontStyle,fontWeight:f.fontWeight,textDecoration:f.textDecoration,cursor:f.cursor,color:f.color,opacity:f.opacity,letterSpacing:f.letterSpacing,gutterIconPath:f.gutterIconPath?xt(f.gutterIconPath):void 0,gutterIconSize:f.gutterIconSize,overviewRulerColor:f.overviewRulerColor,before:f.before?Xt.from(f.before):void 0,after:f.after?Xt.from(f.after):void 0}}}(kn||(kn={})),function(ie){ie.from=function o(A){return{text:A.newText,eol:A.newEol&&Bo.from(A.newEol),range:Gi.from(A.range)}},ie.to=function f(A){const G=new nn(Gi.to(A.range),A.text);return G.newEol=typeof A.eol>"u"?void 0:Bo.to(A.eol),G}}(Xn||(Xn={})),function(ie){ie.from=function o(A,G,re){const Oe={edits:[]};if(A instanceof Pn){const Je=new t.R;for(const At of A._allEntries())1===At._type&&C.o.isUri(At.to)&&void 0===At.from&&Je.add(At.to);for(const At of A._allEntries())if(1===At._type)Oe.edits.push({oldResource:At.from,newResource:At.to,options:At.options,metadata:At.metadata});else if(2===At._type)Oe.edits.push({resource:At.uri,textEdit:Xn.from(At.edit),versionId:Je.has(At.uri)?void 0:G?.getTextDocumentVersion(At.uri),metadata:At.metadata});else if(6===At._type){if(!re){console.warn("DROPPING snippet text edit because proposal IS NOT ENABLED",At);continue}Oe.edits.push({resource:At.uri,textEdit:{range:Gi.from(At.range),text:At.edit.value,insertAsSnippet:!0},versionId:Je.has(At.uri)?void 0:G?.getTextDocumentVersion(At.uri),metadata:At.metadata})}else 3===At._type?Oe.edits.push({metadata:At.metadata,resource:At.uri,cellEdit:At.edit,notebookMetadata:At.notebookMetadata,notebookVersionId:G?.getNotebookDocumentVersion(At.uri)}):5===At._type&&Oe.edits.push({metadata:At.metadata,resource:At.uri,notebookVersionId:G?.getNotebookDocumentVersion(At.uri),cellEdit:{editType:1,index:At.index,count:At.count,cells:At.cells.map(Aa.from)}})}return Oe},ie.to=function f(A){const G=new Pn;for(const re of A.edits)re.textEdit?G.replace(C.o.revive(re.resource),Gi.to(re.textEdit.range),re.textEdit.text):G.renameFile(C.o.revive(re.oldResource),C.o.revive(re.newResource),re.options);return G}}(Zn||(Zn={})),function(ie){const o=Object.create(null);o[Hn.File]=0,o[Hn.Module]=1,o[Hn.Namespace]=2,o[Hn.Package]=3,o[Hn.Class]=4,o[Hn.Method]=5,o[Hn.Property]=6,o[Hn.Field]=7,o[Hn.Constructor]=8,o[Hn.Enum]=9,o[Hn.Interface]=10,o[Hn.Function]=11,o[Hn.Variable]=12,o[Hn.Constant]=13,o[Hn.String]=14,o[Hn.Number]=15,o[Hn.Boolean]=16,o[Hn.Array]=17,o[Hn.Object]=18,o[Hn.Key]=19,o[Hn.Null]=20,o[Hn.EnumMember]=21,o[Hn.Struct]=22,o[Hn.Event]=23,o[Hn.Operator]=24,o[Hn.TypeParameter]=25,ie.from=function f(G){return"number"==typeof o[G]?o[G]:6},ie.to=function A(G){for(const re in o)if(o[re]===G)return Number(re);return Hn.Property}}(qn||(qn={})),function(ie){ie.from=function o(A){if(A===Ai.Deprecated)return 1},ie.to=function f(A){if(1===A)return Ai.Deprecated}}(ri||(ri={})),function(ie){ie.from=function o(A){return{name:A.name,kind:qn.from(A.kind),tags:A.tags&&A.tags.map(ri.from),containerName:A.containerName,location:Xi.from(A.location)}},ie.to=function f(A){const G=new yi(A.name,qn.to(A.kind),A.containerName,Xi.to(A.location));return G.tags=A.tags&&A.tags.map(ri.to),G}}(Mi||(Mi={})),function(ie){ie.from=function o(A){const G={name:A.name||"!!MISSING: name!!",detail:A.detail,range:Gi.from(A.range),selectionRange:Gi.from(A.selectionRange),kind:qn.from(A.kind),tags:A.tags?.map(ri.from)??[]};return A.children&&(G.children=A.children.map(o)),G},ie.to=function f(A){const G=new di(A.name,A.detail,qn.to(A.kind),Gi.to(A.range),Gi.to(A.selectionRange));return(0,E.Of)(A.tags)&&(G.tags=A.tags.map(ri.to)),A.children&&(G.children=A.children.map(f)),G}}(Ni||(Ni={})),function(ie){ie.to=function o(A){const G=new Ke(qn.to(A.kind),A.name,A.detail||"",C.o.revive(A.uri),Gi.to(A.range),Gi.to(A.selectionRange));return G._sessionId=A._sessionId,G._itemId=A._itemId,G},ie.from=function f(A,G,re){if(re=re??A._itemId,void 0===(G=G??A._sessionId)||void 0===re)throw new Error("invalid item");return{_sessionId:G,_itemId:re,name:A.name,detail:A.detail,kind:qn.from(A.kind),uri:A.uri,range:Gi.from(A.range),selectionRange:Gi.from(A.selectionRange),tags:A.tags?.map(ri.from)}}}(Vi||(Vi={})),function(ie){ie.from=function o(A){return{range:A.range&&Gi.from(A.range),uri:A.uri}},ie.to=function f(A){return new Vt(C.o.revive(A.uri),Gi.to(A.range))}}(Xi||(Xi={})),function(ie){ie.from=function o(A){const G=A,re=A;return{originSelectionRange:G.originSelectionRange?Gi.from(G.originSelectionRange):void 0,uri:G.targetUri?G.targetUri:re.uri,range:Gi.from(G.targetRange?G.targetRange:re.range),targetSelectionRange:G.targetSelectionRange?Gi.from(G.targetSelectionRange):void 0}},ie.to=function f(A){return{targetUri:C.o.revive(A.uri),targetRange:Gi.to(A.range),targetSelectionRange:A.targetSelectionRange?Gi.to(A.targetSelectionRange):void 0,originSelectionRange:A.originSelectionRange?Gi.to(A.originSelectionRange):void 0}}}(po||(po={})),function(ie){ie.from=function o(A){return{range:Gi.from(A.range),contents:Pe.fromMany(A.contents)}},ie.to=function f(A){return new Re(A.contents.map(Pe.to),Gi.to(A.range))}}(Io||(Io={})),function(ie){ie.from=function o(A){return{range:Gi.from(A.range),expression:A.expression}},ie.to=function f(A){return new or(Gi.to(A.range),A.expression)}}(Ao||(Ao={})),function(ie){ie.from=function o(A){if(A instanceof fs)return{type:"text",range:Gi.from(A.range),text:A.text};if(A instanceof ar)return{type:"variable",range:Gi.from(A.range),variableName:A.variableName,caseSensitiveLookup:A.caseSensitiveLookup};if(A instanceof lr)return{type:"expression",range:Gi.from(A.range),expression:A.expression};throw new Error("Unknown 'InlineValue' type")},ie.to=function f(A){switch(A.type){case"text":return{range:Gi.to(A.range),text:A.text};case"variable":return{range:Gi.to(A.range),variableName:A.variableName,caseSensitiveLookup:A.caseSensitiveLookup};case"expression":return{range:Gi.to(A.range),expression:A.expression}}}}(Eo||(Eo={})),function(ie){ie.from=function o(A){return{frameId:A.frameId,stoppedLocation:Gi.from(A.stoppedLocation)}},ie.to=function f(A){return new Fr(A.frameId,Gi.to(A.stoppedLocation))}}(lo||(lo={})),function(ie){ie.from=function o(A){return{range:Gi.from(A.range),kind:A.kind}},ie.to=function f(A){return new _n(Gi.to(A.range),A.kind)}}($o||($o={})),function(ie){ie.to=function o(f){switch(f){case 1:return te.TriggerCharacter;case 2:return te.TriggerForIncompleteCompletions;default:return te.Invoke}}}(Fo||(Fo={})),function(ie){ie.to=function o(f){return{triggerKind:Fo.to(f.triggerKind),triggerCharacter:f.triggerCharacter}}}(So||(So={})),function(ie){ie.from=function o(A){if(A===it.Deprecated)return 1},ie.to=function f(A){if(1===A)return it.Deprecated}}(io||(io={})),function(ie){const o=new Map([[ge.Method,0],[ge.Function,1],[ge.Constructor,2],[ge.Field,3],[ge.Variable,4],[ge.Class,5],[ge.Interface,7],[ge.Struct,6],[ge.Module,8],[ge.Property,9],[ge.Unit,12],[ge.Value,13],[ge.Constant,14],[ge.Enum,15],[ge.EnumMember,16],[ge.Keyword,17],[ge.Snippet,27],[ge.Text,18],[ge.Color,19],[ge.File,20],[ge.Reference,21],[ge.Folder,23],[ge.Event,10],[ge.Operator,11],[ge.TypeParameter,24],[ge.Issue,26],[ge.User,25]]);ie.from=function f(re){return o.get(re)??9};const A=new Map([[0,ge.Method],[1,ge.Function],[2,ge.Constructor],[3,ge.Field],[4,ge.Variable],[5,ge.Class],[7,ge.Interface],[6,ge.Struct],[8,ge.Module],[9,ge.Property],[12,ge.Unit],[13,ge.Value],[14,ge.Constant],[15,ge.Enum],[16,ge.EnumMember],[17,ge.Keyword],[27,ge.Snippet],[18,ge.Text],[19,ge.Color],[20,ge.File],[21,ge.Reference],[23,ge.Folder],[10,ge.Event],[11,ge.Operator],[24,ge.TypeParameter],[25,ge.User],[26,ge.Issue]]);ie.to=function G(re){return A.get(re)??ge.Property}}(Lo||(Lo={})),function(ie){ie.from=function o(A){return{label:A.label,documentation:Pe.fromStrict(A.documentation)}},ie.to=function f(A){return{label:A.label,documentation:(0,n.Fr)(A.documentation)?Pe.to(A.documentation):A.documentation}}}(zo||(zo={})),function(ie){ie.from=function o(A){return{label:A.label,documentation:Pe.fromStrict(A.documentation),parameters:Array.isArray(A.parameters)?A.parameters.map(zo.from):[],activeParameter:A.activeParameter}},ie.to=function f(A){return{label:A.label,documentation:(0,n.Fr)(A.documentation)?Pe.to(A.documentation):A.documentation,parameters:Array.isArray(A.parameters)?A.parameters.map(zo.to):[],activeParameter:A.activeParameter}}}(Zo||(Zo={})),function(ie){ie.from=function o(A){return{activeSignature:A.activeSignature,activeParameter:A.activeParameter,signatures:Array.isArray(A.signatures)?A.signatures.map(Zo.from):[]}},ie.to=function f(A){return{activeSignature:A.activeSignature,activeParameter:A.activeParameter,signatures:Array.isArray(A.signatures)?A.signatures.map(Zo.to):[]}}}(ns||(ns={})),function(ie){ie.from=function o(A){return A},ie.to=function f(A){return A}}(To||(To={})),function(ie){ie.from=function o(A){return{range:Gi.from(A.range),url:A.target,tooltip:A.tooltip}},ie.to=function f(A){let G;if(A.url)try{G="string"==typeof A.url?C.o.parse(A.url,!0):C.o.revive(A.url)}catch{}return new gi(Gi.to(A.range),G)}}(as||(as={})),function(ie){ie.to=function o(A){const G=new Pi(A.label);return A.textEdit&&(G.textEdit=Xn.to(A.textEdit)),A.additionalTextEdits&&(G.additionalTextEdits=A.additionalTextEdits.map(re=>Xn.to(re))),G},ie.from=function f(A){return{label:A.label,textEdit:A.textEdit?Xn.from(A.textEdit):void 0,additionalTextEdits:A.additionalTextEdits?A.additionalTextEdits.map(G=>Xn.from(G)):void 0}}}(zs||(zs={})),function(ie){ie.to=function o(A){return new vi(A[0],A[1],A[2],A[3])},ie.from=function f(A){return[A.red,A.green,A.blue,A.alpha]}}(es||(es={})),function(ie){ie.from=function o(A){return{range:Gi.from(A.range)}},ie.to=function f(A){return new me(Gi.to(A.range))}}(Gs||(Gs={})),function(ie){ie.from=function o(A){switch(A){case $t.Off:return 0;case $t.Relative:return 2;default:return 1}},ie.to=function f(A){switch(A){case 0:return $t.Off;case 2:return $t.Relative;default:return $t.On}}}(Ks||(Ks={})),function(ie){ie.from=function o(A){return A===gt.CRLF?1:A===gt.LF?0:void 0},ie.to=function f(A){return 1===A?gt.CRLF:0===A?gt.LF:void 0}}(Bo||(Bo={})),function(ie){ie.from=function o(f){if("object"==typeof f)return f.viewId;switch(f){case Lr.SourceControl:return 3;case Lr.Window:return 10;case Lr.Notification:return 15}throw new Error("Unknown 'ProgressLocation'")}}(ws||(ws={})),function(ie){ie.from=function o(f){const A={start:f.start+1,end:f.end+1};return f.kind&&(A.kind=Mr.from(f.kind)),A}}(Ii||(Ii={})),function(ie){ie.from=function o(f){if(f)switch(f){case qi.Comment:return bt.Comment;case qi.Imports:return bt.Imports;case qi.Region:return bt.Region}}}(Mr||(Mr={})),function(ie){ie.from=function o(re){return re instanceof js?re.toJSON():"string"==typeof re?re:function f(re){const Oe=re;return!!Oe&&C.o.isUri(Oe.baseUri)&&"string"==typeof Oe.pattern}(re)||function A(re){return!!re&&"string"==typeof re.base&&"string"==typeof re.pattern}(re)?new js(re.baseUri??re.base,re.pattern).toJSON():re},ie.to=function G(re){return"string"==typeof re?re:new js(C.o.revive(re.baseUri),re.pattern)}}(_r||(_r={})),function(ie){ie.from=function o(f){if(f){if(Array.isArray(f))return f.map(o);if("string"==typeof f)return f;{const A=f;return{language:A.language,scheme:A.scheme,pattern:_r.from(A.pattern),exclusive:A.exclusive,notebookType:A.notebookType}}}}}(ls||(ls={})),function(ie){ie.from=function o(A){return{start:A.start,end:A.end}},ie.to=function f(A){return new Ns(A.start,A.end)}}(tl||(tl={})),function(ie){ie.to=function o(A){return{timing:"number"==typeof A.runStartTime&&"number"==typeof A.runEndTime?{startTime:A.runStartTime,endTime:A.runEndTime}:void 0,executionOrder:A.executionOrder,success:A.lastRunSuccess}},ie.from=function f(A){return{lastRunSuccess:A.success,runStartTime:A.timing?.startTime,runEndTime:A.timing?.endTime,executionOrder:A.executionOrder}}}(Ma||(Ma={})),function(ie){ie.from=function o(A){return A===se.Markup?Wr.Markup:Wr.Code},ie.to=function f(A){return A===Wr.Markup?se.Markup:se.Code}}(nl||(nl={})),function(ie){ie.from=function o(A){return{cellKind:nl.from(A.kind),language:A.languageId,mime:A.mime,source:A.value,metadata:A.metadata,internalMetadata:Ma.from(A.executionSummary??{}),outputs:A.outputs?A.outputs.map(pl.from):[]}},ie.to=function f(A){return new Ur(nl.to(A.cellKind),A.source,A.language,A.mime,A.outputs?A.outputs.map(pl.to):void 0,A.metadata,A.internalMetadata?Ma.to(A.internalMetadata):void 0)}}(Aa||(Aa={})),function(ie){ie.from=function o(A){return{mime:A.mime,valueBytes:D.KN.wrap(A.data)}},ie.to=function f(A){return new tr(A.valueBytes.buffer,A.mime)}}(ml||(ml={})),function(ie){ie.from=function o(A){return{outputId:A.id,items:A.items.map(ml.from),metadata:A.metadata}},ie.to=function f(A){const G=A.items.map(ml.to);return new Nn(G,A.outputId,A.metadata)}}(pl||(pl={})),function(ie){ie.to=function o(f){switch(f){case 1:return Ft.Invoke;case 2:return Ft.Automatic}}}(_l||(_l={})),function(ie){ie.to=function o(A){const G=new jo(qn.to(A.kind),A.name,A.detail||"",C.o.revive(A.uri),Gi.to(A.range),Gi.to(A.selectionRange));return G._sessionId=A._sessionId,G._itemId=A._itemId,G},ie.from=function f(A,G,re){if(re=re??A._itemId,void 0===(G=G??A._sessionId)||void 0===re)throw new Error("invalid item");return{_sessionId:G,_itemId:re,kind:qn.from(A.kind),name:A.name,detail:A.detail??"",uri:A.uri,range:Gi.from(A.range),selectionRange:Gi.from(A.selectionRange),tags:A.tags?.map(ri.from)}}}(Ol||(Ol={})),function(ie){ie.toDataTransferItem=function o(f,A){const G=f.fileData;return G?new class extends $s{asFile(){return{name:G.name,uri:C.o.revive(G.uri),data:(0,y.I)(()=>A())}}}(""):new $s(f.asString)}}(ga||(ga={})),function(ie){function A(){return(A=(0,d.Z)(function*(G){const re={items:[]},Oe=[];return G.forEach((Je,At)=>{Oe.push((0,d.Z)(function*(){const mn=yield Je.asString(),Un=Je.asFile();re.items.push([At,{asString:mn,fileData:Un?{name:Un.name,uri:Un.uri}:void 0}])})())}),yield Promise.all(Oe),re})).apply(this,arguments)}ie.toDataTransfer=function o(G,re){const Oe=G.items.map(([Je,At],mn)=>[Je,ga.toDataTransferItem(At,()=>re(mn))]);return new Zs(Oe)},ie.toDataTransferDTO=function f(G){return A.apply(this,arguments)}}(zr||(zr={}));let Hr=(()=>{class ie{constructor(f){this._proxyIdentifierBrand=void 0,this.sid=f,this.nid=++ie.count}}return ie.count=0,ie})();const il=[];function Fi(ie){const o=new Hr(ie);return il[o.nid]=o,o}function ol(ie){return il[ie].sid}class Xr{constructor(o){this.value=o}}var Pa=(()=>(function(ie){ie[ie.Default=0]="Default",ie[ie.InCenter=1]="InCenter",ie[ie.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",ie[ie.AtTop=3]="AtTop"}(Pa||(Pa={})),Pa))();function Is(ie){return ie&&ie.edits&&(0,g.w)(ie),ie}const Vo={MainThreadAuthentication:Fi("MainThreadAuthentication"),MainThreadBulkEdits:Fi("MainThreadBulkEdits"),MainThreadClipboard:Fi("MainThreadClipboard"),MainThreadCommands:Fi("MainThreadCommands"),MainThreadComments:Fi("MainThreadComments"),MainThreadConfiguration:Fi("MainThreadConfiguration"),MainThreadConsole:Fi("MainThreadConsole"),MainThreadDebugService:Fi("MainThreadDebugService"),MainThreadDecorations:Fi("MainThreadDecorations"),MainThreadDiagnostics:Fi("MainThreadDiagnostics"),MainThreadDialogs:Fi("MainThreadDiaglogs"),MainThreadDocuments:Fi("MainThreadDocuments"),MainThreadDocumentContentProviders:Fi("MainThreadDocumentContentProviders"),MainThreadTextEditors:Fi("MainThreadTextEditors"),MainThreadEditorInsets:Fi("MainThreadEditorInsets"),MainThreadEditorTabs:Fi("MainThreadEditorTabs"),MainThreadErrors:Fi("MainThreadErrors"),MainThreadTreeViews:Fi("MainThreadTreeViews"),MainThreadDownloadService:Fi("MainThreadDownloadService"),MainThreadKeytar:Fi("MainThreadKeytar"),MainThreadLanguageFeatures:Fi("MainThreadLanguageFeatures"),MainThreadLanguages:Fi("MainThreadLanguages"),MainThreadLogger:Fi("MainThreadLogger"),MainThreadMessageService:Fi("MainThreadMessageService"),MainThreadOutputService:Fi("MainThreadOutputService"),MainThreadProgress:Fi("MainThreadProgress"),MainThreadQuickOpen:Fi("MainThreadQuickOpen"),MainThreadStatusBar:Fi("MainThreadStatusBar"),MainThreadSecretState:Fi("MainThreadSecretState"),MainThreadStorage:Fi("MainThreadStorage"),MainThreadTelemetry:Fi("MainThreadTelemetry"),MainThreadTerminalService:Fi("MainThreadTerminalService"),MainThreadWebviews:Fi("MainThreadWebviews"),MainThreadWebviewPanels:Fi("MainThreadWebviewPanels"),MainThreadWebviewViews:Fi("MainThreadWebviewViews"),MainThreadCustomEditors:Fi("MainThreadCustomEditors"),MainThreadUrls:Fi("MainThreadUrls"),MainThreadUriOpeners:Fi("MainThreadUriOpeners"),MainThreadWorkspace:Fi("MainThreadWorkspace"),MainThreadFileSystem:Fi("MainThreadFileSystem"),MainThreadExtensionService:Fi("MainThreadExtensionService"),MainThreadSCM:Fi("MainThreadSCM"),MainThreadSearch:Fi("MainThreadSearch"),MainThreadTask:Fi("MainThreadTask"),MainThreadWindow:Fi("MainThreadWindow"),MainThreadLabelService:Fi("MainThreadLabelService"),MainThreadNotebook:Fi("MainThreadNotebook"),MainThreadNotebookDocuments:Fi("MainThreadNotebookDocumentsShape"),MainThreadNotebookEditors:Fi("MainThreadNotebookEditorsShape"),MainThreadNotebookKernels:Fi("MainThreadNotebookKernels"),MainThreadNotebookRenderers:Fi("MainThreadNotebookRenderers"),MainThreadInteractive:Fi("MainThreadInteractive"),MainThreadTheming:Fi("MainThreadTheming"),MainThreadTunnelService:Fi("MainThreadTunnelService"),MainThreadTimeline:Fi("MainThreadTimeline"),MainThreadTesting:Fi("MainThreadTesting")},_s={ExtHostCommands:Fi("ExtHostCommands"),ExtHostConfiguration:Fi("ExtHostConfiguration"),ExtHostDiagnostics:Fi("ExtHostDiagnostics"),ExtHostDebugService:Fi("ExtHostDebugService"),ExtHostDecorations:Fi("ExtHostDecorations"),ExtHostDocumentsAndEditors:Fi("ExtHostDocumentsAndEditors"),ExtHostDocuments:Fi("ExtHostDocuments"),ExtHostDocumentContentProviders:Fi("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:Fi("ExtHostDocumentSaveParticipant"),ExtHostEditors:Fi("ExtHostEditors"),ExtHostTreeViews:Fi("ExtHostTreeViews"),ExtHostFileSystem:Fi("ExtHostFileSystem"),ExtHostFileSystemInfo:Fi("ExtHostFileSystemInfo"),ExtHostFileSystemEventService:Fi("ExtHostFileSystemEventService"),ExtHostLanguages:Fi("ExtHostLanguages"),ExtHostLanguageFeatures:Fi("ExtHostLanguageFeatures"),ExtHostQuickOpen:Fi("ExtHostQuickOpen"),ExtHostExtensionService:Fi("ExtHostExtensionService"),ExtHostLogLevelServiceShape:Fi("ExtHostLogLevelServiceShape"),ExtHostTerminalService:Fi("ExtHostTerminalService"),ExtHostSCM:Fi("ExtHostSCM"),ExtHostSearch:Fi("ExtHostSearch"),ExtHostTask:Fi("ExtHostTask"),ExtHostWorkspace:Fi("ExtHostWorkspace"),ExtHostWindow:Fi("ExtHostWindow"),ExtHostWebviews:Fi("ExtHostWebviews"),ExtHostWebviewPanels:Fi("ExtHostWebviewPanels"),ExtHostCustomEditors:Fi("ExtHostCustomEditors"),ExtHostWebviewViews:Fi("ExtHostWebviewViews"),ExtHostEditorInsets:Fi("ExtHostEditorInsets"),ExtHostEditorTabs:Fi("ExtHostEditorTabs"),ExtHostProgress:Fi("ExtHostProgress"),ExtHostComments:Fi("ExtHostComments"),ExtHostSecretState:Fi("ExtHostSecretState"),ExtHostStorage:Fi("ExtHostStorage"),ExtHostUrls:Fi("ExtHostUrls"),ExtHostUriOpeners:Fi("ExtHostUriOpeners"),ExtHostOutputService:Fi("ExtHostOutputService"),ExtHosLabelService:Fi("ExtHostLabelService"),ExtHostNotebook:Fi("ExtHostNotebook"),ExtHostNotebookDocuments:Fi("ExtHostNotebookDocuments"),ExtHostNotebookEditors:Fi("ExtHostNotebookEditors"),ExtHostNotebookKernels:Fi("ExtHostNotebookKernels"),ExtHostNotebookRenderers:Fi("ExtHostNotebookRenderers"),ExtHostInteractive:Fi("ExtHostInteractive"),ExtHostTheming:Fi("ExtHostTheming"),ExtHostTunnelService:Fi("ExtHostTunnelService"),ExtHostAuthentication:Fi("ExtHostAuthentication"),ExtHostTimeline:Fi("ExtHostTimeline"),ExtHostTesting:Fi("ExtHostTesting"),ExtHostTelemetry:Fi("ExtHostTelemetry")},hr=(0,w.yh)("IExtHostRpcService");var la,sl;let Ka=class{constructor(o,f){la.set(this,void 0),this._commands=new Map,this._apiCommands=new Map,sl.set(this,void 0),(0,l.b)(this,la,o.getProxy(Vo.MainThreadCommands),"f"),this._logService=f,(0,l.b)(this,sl,o.getProxy(Vo.MainThreadTelemetry),"f"),this.converter=new Od(this,A=>{const G=this._apiCommands.get(A);return G?.result===kl.Void?G:void 0},f),this._argumentProcessors=[{processArgument:A=>(0,g.w)(A)},{processArgument:A=>(0,b.rs)(A,function(G){return ot.isIRange(G)?Gi.to(G):ro.isIPosition(G)?qo.to(G):ot.isIRange(G.range)&&C.o.isUri(G.uri)?Xi.to(G):G instanceof D.KN?G.buffer.buffer:Array.isArray(G)?void 0:G})}]}registerArgumentProcessor(o){this._argumentProcessors.push(o)}registerApiCommand(o){var f=this;const A=this.registerCommand(!1,o.id,(0,d.Z)(function*(...G){const re=o.args.map((Je,At)=>{if(!Je.validate(G[At]))throw new Error(`Invalid argument '${Je.name}' when running '${o.id}', received: ${G[At]}`);return Je.convert(G[At])}),Oe=yield f.executeCommand(o.internalId,...re);return o.result.convert(Oe,G,f.converter)}),void 0,{description:o.description,args:o.args,returns:o.result.description});return this._apiCommands.set(o.id,o),new ln(()=>{A.dispose(),this._apiCommands.delete(o.id)})}registerCommand(o,f,A,G,re,Oe){if(this._logService.trace("ExtHostCommands#registerCommand",f),!f.trim().length)throw new Error("invalid id");if(this._commands.has(f))throw new Error(`command '${f}' already exists`);return this._commands.set(f,{callback:A,thisArg:G,description:re,extension:Oe}),o&&(0,l.c)(this,la,"f").$registerCommand(f),new ln(()=>{this._commands.delete(f)&&o&&(0,l.c)(this,la,"f").$unregisterCommand(f)})}executeCommand(o,...f){return this._logService.trace("ExtHostCommands#executeCommand",o),this._doExecuteCommand(o,f,!0)}_doExecuteCommand(o,f,A){var G=this;return(0,d.Z)(function*(){if(G._commands.has(o))return(0,l.c)(G,la,"f").$fireCommandActivationEvent(o),G._executeContributedCommand(o,f,!1);{let re=!1;const Oe=(0,b.rs)(f,function(Je){return Je instanceof On?qo.from(Je):Je instanceof Fn?Gi.from(Je):Je instanceof Vt?Xi.from(Je):Ns.isNotebookRange(Je)?tl.from(Je):Je instanceof ArrayBuffer?(re=!0,D.KN.wrap(new Uint8Array(Je))):Je instanceof Uint8Array?(re=!0,D.KN.wrap(Je)):Je instanceof D.KN?(re=!0,Je):Array.isArray(Je)?void 0:Je});try{const Je=yield(0,l.c)(G,la,"f").$executeCommand(o,re?new Xr(Oe):Oe,A);return(0,g.w)(Je)}catch(Je){if(Je instanceof Error&&"$executeCommand:retry"===Je.message)return G._doExecuteCommand(o,f,!1);throw Je}}})()}_executeContributedCommand(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._commands.get(o);if(!re)throw new Error("Unknown command");G._reportTelemetry(re,o);const{callback:Oe,thisArg:Je,description:At}=re;if(At)for(let mn=0;mn<At.args.length;mn++)try{(0,_.Nf)(f[mn],At.args[mn].constraint)}catch{throw new Error(`Running the contributed command: '${o}' failed. Illegal argument '${At.args[mn].name}' - ${At.args[mn].description}`)}try{return yield Oe.apply(Je,f)}catch(mn){if(o===G.converter.delegatingCommandId){const Un=G.converter.getActualCommand(...f);Un&&(o=Un.command)}throw G._logService.error(mn,o,re.extension?.identifier),A?new class extends Error{constructor(){super((0,I.y)(mn)),this.id=o,this.source=re.extension?.displayName??re.extension?.name}}:mn}})()}_reportTelemetry(o,f){!o.extension||o.extension.isBuiltin||(0,l.c)(this,sl,"f").$publicLog2("Extension:ActionExecuted",{extensionId:o.extension.identifier.value,id:f})}$executeContributedCommand(o,...f){return this._logService.trace("ExtHostCommands#$executeContributedCommand",o),this._commands.has(o)?(f=f.map(A=>this._argumentProcessors.reduce((G,re)=>re.processArgument(G),A)),this._executeContributedCommand(o,f,!0)):Promise.reject(new Error(`Contributed command '${o}' does not exist.`))}getCommands(o=!1){return this._logService.trace("ExtHostCommands#getCommands",o),(0,l.c)(this,la,"f").$getCommands().then(f=>(o&&(f=f.filter(A=>"_"!==A[0])),f))}$getContributedCommandHandlerDescriptions(){const o=Object.create(null);for(const[f,A]of this._commands){const{description:G}=A;G&&(o[f]=G)}return Promise.resolve(o)}};la=new WeakMap,sl=new WeakMap,Ka=(0,l._)([(0,l.a)(0,hr),(0,l.a)(1,P.VZ)],Ka);class Od{constructor(o,f,A){this._commands=o,this._lookupApiCommand=f,this._logService=A,this.delegatingCommandId=`_vscode_delegate_cmd_${Date.now().toString(36)}`,this._cache=new Map,this._cachIdPool=0,this._commands.registerCommand(!0,this.delegatingCommandId,this._executeConvertedCommand,this)}toInternal(o,f){if(!o)return;const A={$ident:void 0,id:o.command,title:o.title,tooltip:o.tooltip};if(!o.command)return A;const G=this._lookupApiCommand(o.command);if(G)A.id=G.internalId,A.arguments=G.args.map((re,Oe)=>re.convert(o.arguments&&o.arguments[Oe]));else if((0,E.Of)(o.arguments)){const re=++this._cachIdPool;this._cache.set(re,o),f.add((0,O.OF)(()=>{this._cache.delete(re),this._logService.trace("CommandsConverter#DISPOSE",re)})),A.$ident=re,A.id=this.delegatingCommandId,A.arguments=[re],this._logService.trace("CommandsConverter#CREATE",o.command,re)}return A}fromInternal(o){return"number"==typeof o.$ident?this._cache.get(o.$ident):{command:o.id,title:o.title,arguments:o.arguments}}getActualCommand(...o){return this._cache.get(o[0])}_executeConvertedCommand(...o){const f=this.getActualCommand(...o);return this._logService.trace("CommandsConverter#EXECUTE",o[0],f?f.command:"MISSING"),f?this._commands.executeCommand(f.command,...f.arguments||[]):Promise.reject("actual command NOT FOUND")}}class kl{constructor(o,f){this.description=o,this.convert=f}}function rr(ie){return function(o){vl.INSTANCE.registerNamedCustomer(ie,o)}}kl.Void=new kl("no result",ie=>ie);class vl{constructor(){this._namedCustomers=[],this._customers=[]}registerNamedCustomer(o,f){this._namedCustomers.push([o,f])}getNamedCustomers(){return this._namedCustomers}registerCustomer(o){this._customers.push(o)}getCustomers(){return this._customers}}vl.INSTANCE=new vl;let $a=class{constructor(o,f,A){this._commandService=f,this._extensionService=A,this._commandRegistrations=new Map,this._proxy=o.getProxy(_s.ExtHostCommands),this._generateCommandsDocumentationRegistration=U.P0.registerCommand("_generateCommandsDocumentation",()=>this._generateCommandsDocumentation())}dispose(){(0,O.B9)(this._commandRegistrations.values()),this._commandRegistrations.clear(),this._generateCommandsDocumentationRegistration.dispose()}_generateCommandsDocumentation(){var o=this;return(0,d.Z)(function*(){const f=yield o._proxy.$getContributedCommandHandlerDescriptions(),A=U.P0.getCommands();for(const[re,Oe]of A)Oe.description&&(f[re]=Oe.description);const G=[];for(const re in f)G.push("`"+re+"` - "+Fl(f[re]));console.log(G.join("\n"))})()}$registerCommand(o){this._commandRegistrations.set(o,U.P0.registerCommand(o,(f,...A)=>this._proxy.$executeContributedCommand(o,...A).then(G=>(0,g.w)(G))))}$unregisterCommand(o){const f=this._commandRegistrations.get(o);f&&(f.dispose(),this._commandRegistrations.delete(o))}$fireCommandActivationEvent(o){const f=`onCommand:${o}`;this._extensionService.activationEventIsDone(f)||this._extensionService.activateByEvent(f)}$executeCommand(o,f,A){var G=this;return(0,d.Z)(function*(){f instanceof Xr&&(f=f.value);for(let re=0;re<f.length;re++)f[re]=(0,g.w)(f[re]);if(A&&f.length>0&&!U.P0.getCommand(o))throw yield G._extensionService.activateByEvent(`onCommand:${o}`),new Error("$executeCommand:retry");return G._commandService.executeCommand(o,...f)})()}$getCommands(){return Promise.resolve([...U.P0.getCommands().keys()])}};function Fl(ie){if("string"==typeof ie)return ie;{const o=[ie.description];if(o.push("\n\n"),ie.args)for(const f of ie.args)o.push(`* _${f.name}_ - ${f.description||""}\n`);return ie.returns&&o.push(`* _(returns)_ - ${ie.returns}`),o.push("\n\n"),o.join("")}}$a=(0,l._)([rr(Vo.MainThreadCommands),(0,l.a)(1,U.Hy),(0,l.a)(2,H.I)],$a);let os=class{constructor(o,f){this._extHostLogService=f,this._reportedUsages=new Set,this._telemetryShape=o.getProxy(Vo.MainThreadTelemetry)}report(o,f,A){const G=this.getUsageKey(o,f);this._reportedUsages.has(G)||(this._reportedUsages.add(G),f.isUnderDevelopment&&this._extHostLogService.warn(`[Deprecation Warning] '${o}' is deprecated. ${A}`),this._telemetryShape.$publicLog2("extHostDeprecatedApiUsage",{extensionId:f.identifier.value,apiId:o}))}getUsageKey(o,f){return`${o}-${f.identifier.value}`}};os=(0,l._)([(0,l.a)(0,hr),(0,l.a)(1,P.VZ)],os);class ma{constructor(){this._systemSchemes=new Set(Object.keys(K.lg)),this._providerInfo=new Map,this.extUri=new F.U9(o=>{const f=this._providerInfo.get(o.scheme);return!(void 0===f||1024&f)})}$acceptProviderInfos(o,f){null===f?this._providerInfo.delete(o.scheme):this._providerInfo.set(o.scheme,f)}isFreeScheme(o){return!this._providerInfo.has(o)&&!this._systemSchemes.has(o)}getCapabilities(o){return this._providerInfo.get(o)}}const us=(0,w.yh)("IExtHostFileSystemInfo");var Zi,da,Rs;class Ga{constructor(o,f,A,G,re,Oe){this._name=o,this._owner=f,this._maxDiagnosticsPerFile=A,Zi.set(this,void 0),da.set(this,void 0),Rs.set(this,void 0),this._isDisposed=!1,(0,l.b)(this,Rs,new c.Y9(Je=>G.getComparisonKey(Je)),"f"),(0,l.b)(this,Zi,re,"f"),(0,l.b)(this,da,Oe,"f")}dispose(){this._isDisposed||((0,l.c)(this,da,"f").fire([...(0,l.c)(this,Rs,"f").keys()]),(0,l.c)(this,Zi,"f")?.$clear(this._owner),(0,l.c)(this,Rs,"f").clear(),this._isDisposed=!0)}get name(){return this._checkDisposed(),this._name}set(o,f){if(!o)return void this.clear();this._checkDisposed();let A=[];if(C.o.isUri(o)){if(!f)return void this.delete(o);(0,l.c)(this,Rs,"f").set(o,f.slice()),A=[o]}else if(Array.isArray(o)){let re;A=[],o=[...o].sort(Ga._compareIndexedTuplesByUri);for(const Oe of o){const[Je,At]=Oe;if((!re||Je.toString()!==re.toString())&&(re&&0===(0,l.c)(this,Rs,"f").get(re).length&&(0,l.c)(this,Rs,"f").delete(re),re=Je,A.push(Je),(0,l.c)(this,Rs,"f").set(Je,[])),At)(0,l.c)(this,Rs,"f").get(Je)?.push(...At);else{const mn=(0,l.c)(this,Rs,"f").get(Je);mn&&(mn.length=0)}}}if((0,l.c)(this,da,"f").fire(A),!(0,l.c)(this,Zi,"f"))return;const G=[];for(const re of A){let Oe=[];const Je=(0,l.c)(this,Rs,"f").get(re);if(Je)if(Je.length>this._maxDiagnosticsPerFile){Oe=[];const At=[Rt.Error,Rt.Warning,Rt.Information,Rt.Hint];e:for(let mn=0;mn<4;mn++)for(const Un of Je)if(Un.severity===At[mn]&&Oe.push(Vr.from(Un))===this._maxDiagnosticsPerFile)break e;Oe.push({severity:u.ZL.Info,message:(0,z.NC)({key:"limitHit",comment:["amount of errors/warning skipped due to limits"]},"Not showing {0} further errors and warnings.",Je.length-this._maxDiagnosticsPerFile),startLineNumber:Oe[Oe.length-1].startLineNumber,startColumn:Oe[Oe.length-1].startColumn,endLineNumber:Oe[Oe.length-1].endLineNumber,endColumn:Oe[Oe.length-1].endColumn})}else Oe=Je.map(At=>Vr.from(At));G.push([re,Oe])}(0,l.c)(this,Zi,"f").$changeMany(this._owner,G)}delete(o){this._checkDisposed(),(0,l.c)(this,da,"f").fire([o]),(0,l.c)(this,Rs,"f").delete(o),(0,l.c)(this,Zi,"f")?.$changeMany(this._owner,[[o,void 0]])}clear(){this._checkDisposed(),(0,l.c)(this,da,"f").fire([...(0,l.c)(this,Rs,"f").keys()]),(0,l.c)(this,Rs,"f").clear(),(0,l.c)(this,Zi,"f")?.$clear(this._owner)}forEach(o,f){this._checkDisposed();for(const[A,G]of this)o.call(f,A,G,this)}*[(Zi=new WeakMap,da=new WeakMap,Rs=new WeakMap,Symbol.iterator)](){this._checkDisposed();for(const o of(0,l.c)(this,Rs,"f").keys())yield[o,this.get(o)]}get(o){this._checkDisposed();const f=(0,l.c)(this,Rs,"f").get(o);return Array.isArray(f)?Object.freeze(f.slice(0)):[]}has(o){return this._checkDisposed(),Array.isArray((0,l.c)(this,Rs,"f").get(o))}_checkDisposed(){if(this._isDisposed)throw new Error("illegal state - object is disposed")}static _compareIndexedTuplesByUri(o,f){return o[0].toString()<f[0].toString()?-1:o[0].toString()>f[0].toString()?1:0}}let Us=class sd{constructor(o,f,A){this._logService=f,this._fileSystemInfoService=A,this._collections=new Map,this._onDidChangeDiagnostics=new B.D0({merge:G=>G.flat(),delay:50}),this.onDidChangeDiagnostics=B.ju.map(this._onDidChangeDiagnostics.event,sd._mapper),this._proxy=o.getProxy(Vo.MainThreadDiagnostics)}static _mapper(o){const f=new c.Y9;for(const A of o)f.set(A,A);return{uris:Object.freeze(Array.from(f.values()))}}createDiagnosticCollection(o,f){const{_collections:A,_proxy:G,_onDidChangeDiagnostics:re,_logService:Oe,_fileSystemInfoService:Je}=this,At=new class{$changeMany(ui,Ei){G.$changeMany(ui,Ei),Oe.trace("[DiagnosticCollection] change many (extension, owner, uris)",o.value,ui,0===Ei.length?"CLEARING":Ei)}$clear(ui){G.$clear(ui),Oe.trace("[DiagnosticCollection] remove all (extension, owner)",o.value,ui)}dispose(){G.dispose()}};let mn;if(f)if(A.has(f)){this._logService.warn(`DiagnosticCollection with name '${f}' does already exist.`);do{mn=f+sd._idPool++}while(A.has(mn))}else mn=f;else f="_generated_diagnostic_collection_name_#"+sd._idPool++,mn=f;return new class extends Ga{constructor(){super(f,mn,sd._maxDiagnosticsPerFile,Je.extUri,At,re),A.set(mn,this)}dispose(){super.dispose(),A.delete(mn)}}}getDiagnostics(o){if(o)return this._getDiagnostics(o);{const f=new Map,A=[];for(const G of this._collections.values())G.forEach((re,Oe)=>{let Je=f.get(re.toString());typeof Je>"u"&&(Je=A.length,f.set(re.toString(),Je),A.push([re,[]])),A[Je][1]=A[Je][1].concat(...Oe)});return A}}_getDiagnostics(o){let f=[];for(const A of this._collections.values())A.has(o)&&(f=f.concat(A.get(o)));return f}$acceptMarkersChange(o){if(!this._mirrorCollection){const f="_generated_mirror",A=new Ga(f,f,sd._maxDiagnosticsPerFile,this._fileSystemInfoService.extUri,void 0,this._onDidChangeDiagnostics);this._collections.set(f,A),this._mirrorCollection=A}for(const[f,A]of o)this._mirrorCollection.set(C.o.revive(f),A.map(Vr.to))}};function Ti(ie,o,f,A){if(!ie||A>200)return null;if("object"==typeof ie){if(1===ie.$mid)return f?C.o.revive(o.transformIncoming(ie)):o.transformIncoming(ie);for(const G in ie)if(Object.hasOwnProperty.call(ie,G)){const re=Ti(ie[G],o,f,A+1);null!==re&&(ie[G]=re)}}return null}function ca(ie,o){const f=Ti(ie,o,!1,0);return null===f?ie:f}Us._idPool=0,Us._maxDiagnosticsPerFile=1e3,Us=(0,l._)([(0,l.a)(1,P.VZ),(0,l.a)(2,us)],Us);class pa{constructor(){this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null}get[Symbol.toStringTag](){return this.toString()}_ensureActual(){return this._actual||(this._actual=new Promise((o,f)=>{this._actualOk=o,this._actualErr=f,this._hasValue&&this._actualOk(this._value),this._hasErr&&this._actualErr(this._err)})),this._actual}resolveOk(o){this._hasValue||this._hasErr||(this._hasValue=!0,this._value=o,this._actual&&this._actualOk(o))}resolveErr(o){this._hasValue||this._hasErr||(this._hasErr=!0,this._err=o,this._actual?this._actualErr(o):(0,T.dL)(o))}then(o,f){return this._ensureActual().then(o,f)}catch(o){return this._ensureActual().then(void 0,o)}finally(o){return this._ensureActual().finally(o)}}class Cl extends pa{constructor(){super(),this._hasErr=!0,this._err=new T.FU}}var rl;function ao(ie,o){try{return JSON.stringify(ie,o)}catch{return"null"}}const _a="$$ref$$",al={[_a]:-1};function Jr(ie,o=null,f=!1){const A=[];return{jsonString:(f?ao:JSON.stringify)(ie,(re,Oe)=>{if(typeof Oe>"u")return al;if("object"==typeof Oe){if(Oe instanceof D.KN){const Je=A.push(Oe)-1;return{[_a]:Je}}if(o)return o(re,Oe)}return Oe}),referencedBuffers:A}}function Na(ie,o,f){return JSON.parse(ie,(A,G)=>{if(G){const re=G[_a];if("number"==typeof re)return o[re];if(f&&1===G.$mid)return f.transformIncoming(G)}return G})}function Ra(ie,o){return JSON.stringify(ie,o)}const Bl=()=>{},kd=Symbol.for("rpcProtocol"),Wl=Symbol.for("rpcProxy");class va extends O.JT{constructor(o,f=null,A=null){super(),this[rl]=!0,this._onDidChangeResponsiveState=this._register(new l.E),this.onDidChangeResponsiveState=this._onDidChangeResponsiveState.event,this._protocol=o,this._logger=f,this._uriTransformer=A,this._uriReplacer=function bl(ie){return ie?(o,f)=>f&&1===f.$mid?ie.transformOutgoing(f):f:null}(this._uriTransformer),this._isDisposed=!1,this._locals=[],this._proxies=[];for(let G=0,re=Hr.count;G<re;G++)this._locals[G]=null,this._proxies[G]=null;this._lastMessageId=0,this._cancelInvokedHandlers=Object.create(null),this._pendingRPCReplies={},this._responsiveState=0,this._unacknowledgedCount=0,this._unresponsiveTime=0,this._asyncCheckUresponsive=this._register(new $.pY(()=>this._checkUnresponsive(),1e3)),this._protocol.onMessage(G=>this._receiveOneMessage(G))}dispose(){this._isDisposed=!0,Object.keys(this._pendingRPCReplies).forEach(o=>{this._pendingRPCReplies[o].resolveErr((0,T.F0)())})}drain(){return"function"==typeof this._protocol.drain?this._protocol.drain():Promise.resolve()}_onWillSendRequest(o){0===this._unacknowledgedCount&&(this._unresponsiveTime=Date.now()+va.UNRESPONSIVE_TIME),this._unacknowledgedCount++,this._asyncCheckUresponsive.isScheduled()||this._asyncCheckUresponsive.schedule()}_onDidReceiveAcknowledge(o){this._unresponsiveTime=Date.now()+va.UNRESPONSIVE_TIME,this._unacknowledgedCount--,0===this._unacknowledgedCount&&this._asyncCheckUresponsive.cancel(),this._setResponsiveState(0)}_checkUnresponsive(){0!==this._unacknowledgedCount&&(Date.now()>this._unresponsiveTime?this._setResponsiveState(1):this._asyncCheckUresponsive.schedule())}_setResponsiveState(o){this._responsiveState!==o&&(this._responsiveState=o,this._onDidChangeResponsiveState.fire(this._responsiveState))}get responsiveState(){return this._responsiveState}transformIncomingURIs(o){return this._uriTransformer?ca(o,this._uriTransformer):o}getProxy(o){const{nid:f,sid:A}=o;return this._proxies[f]||(this._proxies[f]=this._createProxy(f,A)),this._proxies[f]}_createProxy(o,f){const A={get:(G,re)=>("string"==typeof re&&!G[re]&&36===re.charCodeAt(0)&&(G[re]=(...Oe)=>this._remoteCall(o,re,Oe)),re===Wl?f:G[re])};return new Proxy(Object.create(null),A)}set(o,f){return this._locals[o.nid]=f,f}assertRegistered(o){for(let f=0,A=o.length;f<A;f++){const G=o[f];if(!this._locals[G.nid])throw new Error(`Missing proxy instance ${G.sid}`)}}_receiveOneMessage(o){if(this._isDisposed)return;const f=o.byteLength,A=Ss.read(o,0),G=A.readUInt8(),re=A.readUInt32();switch(G){case 1:case 2:{let{rpcId:Oe,method:Je,args:At}=fr.deserializeRequestJSONArgs(A);this._uriTransformer&&(At=ca(At,this._uriTransformer)),this._receiveRequest(f,re,Oe,Je,At,2===G);break}case 3:case 4:{let{rpcId:Oe,method:Je,args:At}=fr.deserializeRequestMixedArgs(A);this._uriTransformer&&(At=ca(At,this._uriTransformer)),this._receiveRequest(f,re,Oe,Je,At,4===G);break}case 5:this._logger?.logIncoming(f,re,0,"ack"),this._onDidReceiveAcknowledge(re);break;case 6:this._receiveCancel(f,re);break;case 7:this._receiveReply(f,re,void 0);break;case 9:{let Oe=fr.deserializeReplyOKJSON(A);this._uriTransformer&&(Oe=ca(Oe,this._uriTransformer)),this._receiveReply(f,re,Oe);break}case 10:{const Oe=fr.deserializeReplyOKJSONWithBuffers(A,this._uriTransformer);this._receiveReply(f,re,Oe);break}case 8:{const Oe=fr.deserializeReplyOKVSBuffer(A);this._receiveReply(f,re,Oe);break}case 11:{let Oe=fr.deserializeReplyErrError(A);this._uriTransformer&&(Oe=ca(Oe,this._uriTransformer)),this._receiveReplyErr(f,re,Oe);break}case 12:this._receiveReplyErr(f,re,void 0);break;default:console.error("received unexpected message"),console.error(o)}}_receiveRequest(o,f,A,G,re,Oe){this._logger?.logIncoming(o,f,1,`receiveRequest ${ol(A)}.${G}(`,re);const Je=String(f);let At,mn;if(Oe){const ui=new S.C;re.push(ui.token),At=this._invokeHandler(A,G,re),mn=()=>ui.cancel()}else At=this._invokeHandler(A,G,re),mn=Bl;this._cancelInvokedHandlers[Je]=mn;const Un=fr.serializeAcknowledged(f);this._logger?.logOutgoing(Un.byteLength,f,1,"ack"),this._protocol.send(Un),At.then(ui=>{delete this._cancelInvokedHandlers[Je];const Ei=fr.serializeReplyOK(f,ui,this._uriReplacer);this._logger?.logOutgoing(Ei.byteLength,f,1,"reply:",ui),this._protocol.send(Ei)},ui=>{delete this._cancelInvokedHandlers[Je];const Ei=fr.serializeReplyErr(f,ui);this._logger?.logOutgoing(Ei.byteLength,f,1,"replyErr:",ui),this._protocol.send(Ei)})}_receiveCancel(o,f){this._logger?.logIncoming(o,f,1,"receiveCancel");const A=String(f);this._cancelInvokedHandlers[A]?.()}_receiveReply(o,f,A){this._logger?.logIncoming(o,f,0,"receiveReply:",A);const G=String(f);if(!this._pendingRPCReplies.hasOwnProperty(G))return;const re=this._pendingRPCReplies[G];delete this._pendingRPCReplies[G],re.resolveOk(A)}_receiveReplyErr(o,f,A){this._logger?.logIncoming(o,f,0,"receiveReplyErr:",A);const G=String(f);if(!this._pendingRPCReplies.hasOwnProperty(G))return;const re=this._pendingRPCReplies[G];let Oe;delete this._pendingRPCReplies[G],A&&(A.$isError?(Oe=new Error,Oe.name=A.name,Oe.message=A.message,Oe.stack=A.stack):Oe=A),re.resolveErr(Oe)}_invokeHandler(o,f,A){try{return Promise.resolve(this._doInvokeHandler(o,f,A))}catch(G){return Promise.reject(G)}}_doInvokeHandler(o,f,A){const G=this._locals[o];if(!G)throw new Error("Unknown actor "+ol(o));const re=G[f];if("function"!=typeof re)throw new Error("Unknown method "+f+" on actor "+ol(o));return re.apply(G,A)}_remoteCall(o,f,A){if(this._isDisposed)return new Cl;let G=null;if(A.length>0&&j.T.isCancellationToken(A[A.length-1])&&(G=A.pop()),G&&G.isCancellationRequested)return Promise.reject((0,T.F0)());const re=fr.serializeRequestArguments(A,this._uriReplacer),Oe=++this._lastMessageId,Je=String(Oe),At=new pa;G&&G.onCancellationRequested(()=>{const Un=fr.serializeCancel(Oe);this._logger?.logOutgoing(Un.byteLength,Oe,0,"cancel"),this._protocol.send(fr.serializeCancel(Oe))}),this._pendingRPCReplies[Je]=At,this._onWillSendRequest(Oe);const mn=fr.serializeRequest(Oe,o,f,re,!!G);return this._logger?.logOutgoing(mn.byteLength,Oe,0,`request: ${ol(o)}.${f}(`,A),this._protocol.send(mn),At}}rl=kd,va.UNRESPONSIVE_TIME=3e3;let Ss=(()=>{class ie{constructor(f,A){this._buff=f,this._offset=A}static alloc(f,A,G){const re=new ie(D.KN.alloc(G+1+4),0);return re.writeUInt8(f),re.writeUInt32(A),re}static read(f,A){return new ie(f,A)}get buffer(){return this._buff}static sizeUInt8(){return 1}writeUInt8(f){this._buff.writeUInt8(f,this._offset),this._offset+=1}readUInt8(){const f=this._buff.readUInt8(this._offset);return this._offset+=1,f}writeUInt32(f){this._buff.writeUInt32BE(f,this._offset),this._offset+=4}readUInt32(){const f=this._buff.readUInt32BE(this._offset);return this._offset+=4,f}static sizeShortString(f){return 1+f.byteLength}writeShortString(f){this._buff.writeUInt8(f.byteLength,this._offset),this._offset+=1,this._buff.set(f,this._offset),this._offset+=f.byteLength}readShortString(){const f=this._buff.readUInt8(this._offset);this._offset+=1;const G=this._buff.slice(this._offset,this._offset+f).toString();return this._offset+=f,G}static sizeLongString(f){return 4+f.byteLength}writeLongString(f){this._buff.writeUInt32BE(f.byteLength,this._offset),this._offset+=4,this._buff.set(f,this._offset),this._offset+=f.byteLength}readLongString(){const f=this._buff.readUInt32BE(this._offset);this._offset+=4;const G=this._buff.slice(this._offset,this._offset+f).toString();return this._offset+=f,G}writeBuffer(f){this._buff.writeUInt32BE(f.byteLength,this._offset),this._offset+=4,this._buff.set(f,this._offset),this._offset+=f.byteLength}static sizeVSBuffer(f){return 4+f.byteLength}writeVSBuffer(f){this._buff.writeUInt32BE(f.byteLength,this._offset),this._offset+=4,this._buff.set(f,this._offset),this._offset+=f.byteLength}readVSBuffer(){const f=this._buff.readUInt32BE(this._offset);this._offset+=4;const A=this._buff.slice(this._offset,this._offset+f);return this._offset+=f,A}static sizeMixedArray(f){let A=0;A+=1;for(let G=0,re=f.length;G<re;G++){const Oe=f[G];switch(A+=1,Oe.type){case 1:A+=this.sizeLongString(Oe.value);break;case 2:A+=this.sizeVSBuffer(Oe.value);break;case 3:A+=this.sizeUInt32,A+=this.sizeLongString(Oe.value);for(let Je=0;Je<Oe.buffers.length;++Je)A+=this.sizeVSBuffer(Oe.buffers[Je])}}return A}writeMixedArray(f){this._buff.writeUInt8(f.length,this._offset),this._offset+=1;for(let A=0,G=f.length;A<G;A++){const re=f[A];switch(re.type){case 1:this.writeUInt8(1),this.writeLongString(re.value);break;case 2:this.writeUInt8(2),this.writeVSBuffer(re.value);break;case 3:this.writeUInt8(3),this.writeUInt32(re.buffers.length),this.writeLongString(re.value);for(let Oe=0;Oe<re.buffers.length;++Oe)this.writeBuffer(re.buffers[Oe]);break;case 4:this.writeUInt8(4)}}}readMixedArray(){const f=this._buff.readUInt8(this._offset);this._offset+=1;const A=new Array(f);for(let G=0;G<f;G++)switch(this.readUInt8()){case 1:A[G]=this.readLongString();break;case 2:A[G]=this.readVSBuffer();break;case 3:{const Oe=this.readUInt32(),Je=this.readLongString(),At=[];for(let mn=0;mn<Oe;++mn)At.push(this.readVSBuffer());A[G]=new Xr(Na(Je,At,null));break}case 4:A[G]=void 0}return A}}return ie.sizeUInt32=4,ie})();class fr{static _useMixedArgSerialization(o){for(let f=0,A=o.length;f<A;f++)if(o[f]instanceof D.KN||o[f]instanceof Xr||typeof o[f]>"u")return!0;return!1}static serializeRequestArguments(o,f){if(this._useMixedArgSerialization(o)){const A=[];for(let G=0,re=o.length;G<re;G++){const Oe=o[G];if(Oe instanceof D.KN)A[G]={type:2,value:Oe};else if(typeof Oe>"u")A[G]={type:4};else if(Oe instanceof Xr){const{jsonString:Je,referencedBuffers:At}=Jr(Oe.value,f);A[G]={type:3,value:D.KN.fromString(Je),buffers:At}}else A[G]={type:1,value:D.KN.fromString(Ra(Oe,f))}}return{type:1,args:A}}return{type:0,args:Ra(o,f)}}static serializeRequest(o,f,A,G,re){switch(G.type){case 0:return this._requestJSONArgs(o,f,A,G.args,re);case 1:return this._requestMixedArgs(o,f,A,G.args,re)}}static _requestJSONArgs(o,f,A,G,re){const Oe=D.KN.fromString(A),Je=D.KN.fromString(G);let At=0;At+=Ss.sizeUInt8(),At+=Ss.sizeShortString(Oe),At+=Ss.sizeLongString(Je);const mn=Ss.alloc(re?2:1,o,At);return mn.writeUInt8(f),mn.writeShortString(Oe),mn.writeLongString(Je),mn.buffer}static deserializeRequestJSONArgs(o){const f=o.readUInt8(),A=o.readShortString(),G=o.readLongString();return{rpcId:f,method:A,args:JSON.parse(G)}}static _requestMixedArgs(o,f,A,G,re){const Oe=D.KN.fromString(A);let Je=0;Je+=Ss.sizeUInt8(),Je+=Ss.sizeShortString(Oe),Je+=Ss.sizeMixedArray(G);const At=Ss.alloc(re?4:3,o,Je);return At.writeUInt8(f),At.writeShortString(Oe),At.writeMixedArray(G),At.buffer}static deserializeRequestMixedArgs(o){const f=o.readUInt8(),A=o.readShortString(),G=o.readMixedArray(),re=new Array(G.length);for(let Oe=0,Je=G.length;Oe<Je;Oe++){const At=G[Oe];re[Oe]="string"==typeof At?JSON.parse(At):At}return{rpcId:f,method:A,args:re}}static serializeAcknowledged(o){return Ss.alloc(5,o,0).buffer}static serializeCancel(o){return Ss.alloc(6,o,0).buffer}static serializeReplyOK(o,f,A){if(typeof f>"u")return this._serializeReplyOKEmpty(o);if(f instanceof D.KN)return this._serializeReplyOKVSBuffer(o,f);if(f instanceof Xr){const{jsonString:G,referencedBuffers:re}=Jr(f.value,A,!0);return this._serializeReplyOKJSONWithBuffers(o,G,re)}return this._serializeReplyOKJSON(o,ao(f,A))}static _serializeReplyOKEmpty(o){return Ss.alloc(7,o,0).buffer}static _serializeReplyOKVSBuffer(o,f){let A=0;A+=Ss.sizeVSBuffer(f);const G=Ss.alloc(8,o,A);return G.writeVSBuffer(f),G.buffer}static deserializeReplyOKVSBuffer(o){return o.readVSBuffer()}static _serializeReplyOKJSON(o,f){const A=D.KN.fromString(f);let G=0;G+=Ss.sizeLongString(A);const re=Ss.alloc(9,o,G);return re.writeLongString(A),re.buffer}static _serializeReplyOKJSONWithBuffers(o,f,A){const G=D.KN.fromString(f);let re=0;re+=Ss.sizeUInt32,re+=Ss.sizeLongString(G);for(const Je of A)re+=Ss.sizeVSBuffer(Je);const Oe=Ss.alloc(10,o,re);Oe.writeUInt32(A.length),Oe.writeLongString(G);for(const Je of A)Oe.writeBuffer(Je);return Oe.buffer}static deserializeReplyOKJSON(o){const f=o.readLongString();return JSON.parse(f)}static deserializeReplyOKJSONWithBuffers(o,f){const A=o.readUInt32(),G=o.readLongString(),re=[];for(let Oe=0;Oe<A;++Oe)re.push(o.readVSBuffer());return new Xr(Na(G,re,f))}static serializeReplyErr(o,f){const A=f?ao((0,T.ri)(f),null):void 0;if("string"!=typeof A)return this._serializeReplyErrEmpty(o);const G=D.KN.fromString(A);let re=0;re+=Ss.sizeLongString(G);const Oe=Ss.alloc(11,o,re);return Oe.writeLongString(G),Oe.buffer}static deserializeReplyErrError(o){const f=o.readLongString();return JSON.parse(f)}static _serializeReplyErrEmpty(o){return Ss.alloc(12,o,0).buffer}}var Ar=(()=>(function(ie){ie[ie.Undefined=0]="Undefined",ie[ie.String=1]="String",ie[ie.Buffer=2]="Buffer",ie[ie.VSBuffer=3]="VSBuffer",ie[ie.Array=4]="Array",ie[ie.Object=5]="Object"}(Ar||(Ar={})),Ar))();function Ca(ie){const o=D.KN.alloc(1);return o.writeUInt8(ie,0),o}Ca(Ar.Undefined),Ca(Ar.String),Ca(Ar.Buffer),Ca(Ar.VSBuffer),Ca(Ar.Array),Ca(Ar.Object);class Za{constructor(){this._hasListeners=!1,this._isDeliveringMessages=!1,this._bufferedMessages=[],this._emitter=new l.E({onFirstListenerAdd:()=>{this._hasListeners=!0,queueMicrotask(()=>this._deliverMessages())},onLastListenerRemove:()=>{this._hasListeners=!1}}),this.event=this._emitter.event}_deliverMessages(){if(!this._isDeliveringMessages){for(this._isDeliveringMessages=!0;this._hasListeners&&this._bufferedMessages.length>0;)this._emitter.fire(this._bufferedMessages.shift());this._isDeliveringMessages=!1}}fire(o){this._hasListeners?this._bufferedMessages.length>0?this._bufferedMessages.push(o):this._emitter.fire(o):this._bufferedMessages.push(o)}flushBuffer(){this._bufferedMessages=[]}}const ba=new Map;class ld extends ne.v{constructor(o,f,A,G,re,Oe,Je,At){super(f,A,G,re),this._proxy=o,this._languageId=Oe,this._isDirty=Je,this.notebook=At,this._isDisposed=!1}dispose(){(0,N.ok)(!this._isDisposed),this._isDisposed=!0,this._isDirty=!1}equalLines(o){return(0,E.fS)(this._lines,o)}get document(){if(!this._document){const o=this;this._document={get uri(){return o._uri},get fileName(){return o._uri.fsPath},get isUntitled(){return o._uri.scheme===K.lg.untitled},get languageId(){return o._languageId},get version(){return o._versionId},get isClosed(){return o._isDisposed},get isDirty(){return o._isDirty},save:()=>o._save(),getText:f=>f?o._getTextInRange(f):o.getText(),get eol(){return"\n"===o._eol?gt.LF:gt.CRLF},get lineCount(){return o._lines.length},lineAt:f=>o._lineAt(f),offsetAt:f=>o._offsetAt(f),positionAt:f=>o._positionAt(f),validateRange:f=>o._validateRange(f),validatePosition:f=>o._validatePosition(f),getWordRangeAtPosition:(f,A)=>o._getWordRangeAtPosition(f,A)}}return Object.freeze(this._document)}_acceptLanguageId(o){(0,N.ok)(!this._isDisposed),this._languageId=o}_acceptIsDirty(o){(0,N.ok)(!this._isDisposed),this._isDirty=o}_save(){return this._isDisposed?Promise.reject(new Error("Document has been closed")):this._proxy.$trySaveDocument(this._uri)}_getTextInRange(o){const f=this._validateRange(o);if(f.isEmpty)return"";if(f.isSingleLine)return this._lines[f.start.line].substring(f.start.character,f.end.character);const A=this._eol,G=f.start.line,re=f.end.line,Oe=[];Oe.push(this._lines[G].substring(f.start.character));for(let Je=G+1;Je<re;Je++)Oe.push(this._lines[Je]);return Oe.push(this._lines[re].substring(0,f.end.character)),Oe.join(A)}_lineAt(o){let f;if(o instanceof On?f=o.line:"number"==typeof o&&(f=o),"number"!=typeof f||f<0||f>=this._lines.length||Math.floor(f)!==f)throw new Error("Illegal value for `line`");return new dd(f,this._lines[f],f===this._lines.length-1)}_offsetAt(o){return o=this._validatePosition(o),this._ensureLineStarts(),this._lineStarts.getPrefixSum(o.line-1)+o.character}_positionAt(o){o=Math.floor(o),o=Math.max(0,o),this._ensureLineStarts();const f=this._lineStarts.getIndexOf(o);return new On(f.index,Math.min(f.remainder,this._lines[f.index].length))}_validateRange(o){if(!(o instanceof Fn))throw new Error("Invalid argument");const f=this._validatePosition(o.start),A=this._validatePosition(o.end);return f===o.start&&A===o.end?o:new Fn(f.line,f.character,A.line,A.character)}_validatePosition(o){if(!(o instanceof On))throw new Error("Invalid argument");if(0===this._lines.length)return o.with(0,0);let{line:f,character:A}=o,G=!1;if(f<0)f=0,A=0,G=!0;else if(f>=this._lines.length)f=this._lines.length-1,A=this._lines[f].length,G=!0;else{const re=this._lines[f].length;A<0?(A=0,G=!0):A>re&&(A=re,G=!0)}return G?new On(f,A):o}_getWordRangeAtPosition(o,f){const A=this._validatePosition(o);if(f){if((0,s.IO)(f))throw new Error(`[getWordRangeAtPosition]: ignoring custom regexp '${f.source}' because it matches the empty string.`)}else f=function ad(ie){return ba.get(ie)}(this._languageId);const G=(0,V.t2)(A.character+1,(0,V.eq)(f),this._lines[A.line],0);if(G)return new Fn(A.line,G.startColumn-1,A.line,G.endColumn-1)}}class dd{constructor(o,f,A){this._line=o,this._text=f,this._isLastLine=A}get lineNumber(){return this._line}get text(){return this._text}get range(){return new Fn(this._line,0,this._line,this._text.length)}get rangeIncludingLineBreak(){return this._isLastLine?this.range:new Fn(this._line,0,this._line+1,0)}get firstNonWhitespaceCharacterIndex(){return/^(\s*)/.exec(this._text)[1].length}get isEmptyOrWhitespace(){return this.firstNonWhitespaceCharacterIndex===this._text.length}}class Oa{constructor(o,f){this._onDidAddDocument=new l.E,this._onDidRemoveDocument=new l.E,this._onDidChangeDocument=new l.E,this._onDidSaveDocument=new l.E,this.onDidAddDocument=this._onDidAddDocument.event,this.onDidRemoveDocument=this._onDidRemoveDocument.event,this.onDidChangeDocument=this._onDidChangeDocument.event,this.onDidSaveDocument=this._onDidSaveDocument.event,this._toDispose=new O.SL,this._documentLoader=new Map,this._proxy=o.getProxy(Vo.MainThreadDocuments),this._documentsAndEditors=f,this._documentsAndEditors.onDidRemoveDocuments(A=>{for(const G of A)this._onDidRemoveDocument.fire(G.document)},void 0,this._toDispose),this._documentsAndEditors.onDidAddDocuments(A=>{for(const G of A)this._onDidAddDocument.fire(G.document)},void 0,this._toDispose)}dispose(){this._toDispose.dispose()}getAllDocumentData(){return[...this._documentsAndEditors.allDocuments()]}getDocumentData(o){if(!o)return;return this._documentsAndEditors.getDocument(o)||void 0}getDocument(o){const f=this.getDocumentData(o);if(!f?.document)throw new Error(`Unable to retrieve document from URI '${o}'`);return f.document}ensureDocumentData(o){const f=this._documentsAndEditors.getDocument(o);if(f)return Promise.resolve(f);let A=this._documentLoader.get(o.toString());return A||(A=this._proxy.$tryOpenDocument(o).then(G=>{this._documentLoader.delete(o.toString());const re=C.o.revive(G);return(0,_.cW)(this._documentsAndEditors.getDocument(re))},G=>(this._documentLoader.delete(o.toString()),Promise.reject(G))),this._documentLoader.set(o.toString(),A)),A}createDocumentData(o){return this._proxy.$tryCreateDocument(o).then(f=>C.o.revive(f))}$acceptModelLanguageChanged(o,f){const A=C.o.revive(o),G=this._documentsAndEditors.getDocument(A);if(!G)throw new Error("unknown document");this._onDidRemoveDocument.fire(G.document),G._acceptLanguageId(f),this._onDidAddDocument.fire(G.document)}$acceptModelSaved(o){const f=C.o.revive(o),A=this._documentsAndEditors.getDocument(f);if(!A)throw new Error("unknown document");this.$acceptDirtyStateChanged(o,!1),this._onDidSaveDocument.fire(A.document)}$acceptDirtyStateChanged(o,f){const A=C.o.revive(o),G=this._documentsAndEditors.getDocument(A);if(!G)throw new Error("unknown document");G._acceptIsDirty(f),this._onDidChangeDocument.fire({document:G.document,contentChanges:[],reason:void 0})}$acceptModelChanged(o,f,A){const G=C.o.revive(o),re=this._documentsAndEditors.getDocument(G);if(!re)throw new Error("unknown document");let Oe;re._acceptIsDirty(A),re.onEvents(f),f.isUndoing?Oe=ni.Undo:f.isRedoing&&(Oe=ni.Redo),this._onDidChangeDocument.fire((0,b._A)({document:re.document,contentChanges:f.changes.map(Je=>({range:Gi.to(Je.range),rangeOffset:Je.rangeOffset,rangeLength:Je.rangeLength,text:Je.text})),reason:Oe}))}setWordDefinitionFor(o,f){!function qr(ie,o){o?ba.set(ie,o):ba.delete(ie)}(o,f)}}const cd=(0,w.yh)("IExtHostInitDataService");function Qa(ie,o,f){return new F.U9(A=>ka(A,f)).isEqual(ie,o)}function hd(ie,o,f){return Qa(ie.uri,o.uri,f)?0:(0,s.qu)(ie.uri.toString(),o.uri.toString())}function ll(ie,o,f){return ie.index!==o.index?ie.index<o.index?-1:1:Qa(ie.uri,o.uri,f)?(0,s.qu)(ie.name,o.name):(0,s.qu)(ie.uri.toString(),o.uri.toString())}function Hl(ie,o,f,A){const G=ie.slice(0).sort((Oe,Je)=>f(Oe,Je,A)),re=o.slice(0).sort((Oe,Je)=>f(Oe,Je,A));return(0,l.e)(G,re,(Oe,Je)=>f(Oe,Je,A))}function ka(ie,o){const f=o.getCapabilities(ie.scheme);return!(f&&1024&f)}class ya extends Se.j${constructor(o,f,A,G,re,Oe,Je){super(o,A.map(At=>new Se.md(At)),G,re,Je),this._name=f,this._isUntitled=Oe,this._workspaceFolders=[],this._structure=c.Id.forUris(Je),A.forEach(At=>{this._workspaceFolders.push(At),this._structure.set(At.uri,At)})}static toExtHostWorkspace(o,f,A,G){if(!o)return{workspace:null,added:[],removed:[]};const{id:re,name:Oe,folders:Je,configuration:At,transient:mn,isUntitled:Un}=o,ui=[],Ei=f;f?Je.forEach((Bi,bs)=>{const As=C.o.revive(Bi.uri),Cr=ya._findFolder(A||f,As,G);Cr?(Cr.name=Bi.name,Cr.index=Bi.index,ui.push(Cr)):ui.push({uri:As,name:Bi.name,index:bs})}):ui.push(...Je.map(({uri:Bi,name:bs,index:As})=>({uri:C.o.revive(Bi),name:bs,index:As}))),ui.sort((Bi,bs)=>Bi.index<bs.index?-1:1);const ei=new ya(re,Oe,ui,!!mn,At?C.o.revive(At):null,!!Un,Bi=>ka(Bi,G)),{added:_i,removed:Ri}=Hl(Ei?Ei.workspaceFolders:[],ei.workspaceFolders,hd,G);return{workspace:ei,added:_i,removed:Ri}}static _findFolder(o,f,A){for(let G=0;G<o.folders.length;G++){const re=o.workspaceFolders[G];if(Qa(re.uri,f,A))return re}}get name(){return this._name}get isUntitled(){return this._isUntitled}get workspaceFolders(){return this._workspaceFolders.slice(0)}getWorkspaceFolder(o,f){return f&&this._structure.get(o)&&(o=(0,F.XX)(o)),this._structure.findSubstr(o)}resolveWorkspaceFolder(o){return this._structure.get(o)}}let yl=class{constructor(o,f,A,G){this._onDidChangeWorkspace=new l.E,this.onDidChangeWorkspace=this._onDidChangeWorkspace.event,this._onDidGrantWorkspaceTrust=new l.E,this.onDidGrantWorkspaceTrust=this._onDidGrantWorkspaceTrust.event,this._activeSearchCallbacks=[],this._trusted=!1,this._logService=G,this._extHostFileSystemInfo=A,this._requestIdProvider=new en,this._barrier=new H.B,this._proxy=o.getProxy(Vo.MainThreadWorkspace),this._messageService=o.getProxy(Vo.MainThreadMessageService);const re=f.workspace;this._confirmedWorkspace=re?new ya(re.id,re.name,[],!!re.transient,re.configuration?C.o.revive(re.configuration):null,!!re.isUntitled,Oe=>ka(Oe,A)):void 0}$initializeWorkspace(o,f){this._trusted=f,this.$acceptWorkspaceData(o),this._barrier.open()}waitForInitializeCall(){return this._barrier.wait()}get workspace(){return this._actualWorkspace}get name(){return this._actualWorkspace?this._actualWorkspace.name:void 0}get workspaceFile(){if(this._actualWorkspace&&this._actualWorkspace.configuration)return this._actualWorkspace.isUntitled?C.o.from({scheme:K.lg.untitled,path:(0,F.EZ)((0,F.XX)(this._actualWorkspace.configuration))}):this._actualWorkspace.configuration}get _actualWorkspace(){return this._unconfirmedWorkspace||this._confirmedWorkspace}getWorkspaceFolders(){if(this._actualWorkspace)return this._actualWorkspace.workspaceFolders.slice(0)}getWorkspaceFolders2(){var o=this;return(0,d.Z)(function*(){if(yield o._barrier.wait(),o._actualWorkspace)return o._actualWorkspace.workspaceFolders.slice(0)})()}updateWorkspaceFolders(o,f,A,...G){const re=[];if(Array.isArray(G)&&G.forEach(Un=>{C.o.isUri(Un.uri)&&!re.some(ui=>Qa(ui.uri,Un.uri,this._extHostFileSystemInfo))&&re.push({uri:Un.uri,name:Un.name||(0,F.Hx)(Un.uri)})}),this._unconfirmedWorkspace||[f,A].some(Un=>"number"!=typeof Un||Un<0)||0===A&&0===re.length)return!1;const Oe=this._actualWorkspace?this._actualWorkspace.workspaceFolders:[];if(f+A>Oe.length)return!1;const Je=Oe.slice(0);Je.splice(f,A,...re.map(Un=>({uri:Un.uri,name:Un.name||(0,F.Hx)(Un.uri),index:void 0})));for(let Un=0;Un<Je.length;Un++){const ui=Je[Un];if(Je.some((Ei,ei)=>ei!==Un&&Qa(ui.uri,Ei.uri,this._extHostFileSystemInfo)))return!1}Je.forEach((Un,ui)=>Un.index=ui);const{added:At,removed:mn}=Hl(Oe,Je,ll,this._extHostFileSystemInfo);if(0===At.length&&0===mn.length)return!1;if(this._proxy){const Un=o.displayName||o.name;this._proxy.$updateWorkspaceFolders(Un,f,A,re).then(void 0,ui=>{this._unconfirmedWorkspace=void 0;const Ei={source:{identifier:o.identifier,label:o.displayName||o.name}};this._messageService.$showMessage(M.zb.Error,(0,z.NC)("updateerror","Extension '{0}' failed to update workspace folders: {1}",Un,ui.toString()),Ei,[])})}return this.trySetWorkspaceFolders(Je),!0}getWorkspaceFolder(o,f){if(this._actualWorkspace)return this._actualWorkspace.getWorkspaceFolder(o,f)}getWorkspaceFolder2(o,f){var A=this;return(0,d.Z)(function*(){if(yield A._barrier.wait(),A._actualWorkspace)return A._actualWorkspace.getWorkspaceFolder(o,f)})()}resolveWorkspaceFolder(o){var f=this;return(0,d.Z)(function*(){if(yield f._barrier.wait(),f._actualWorkspace)return f._actualWorkspace.resolveWorkspaceFolder(o)})()}getPath(){if(!this._actualWorkspace)return;const{folders:o}=this._actualWorkspace;return 0!==o.length?o[0].uri.fsPath:void 0}getRelativePath(o,f){let A,G="";if("string"==typeof o?(A=C.o.file(o),G=o):typeof o<"u"&&(A=o,G=o.fsPath),!A)return G;const re=this.getWorkspaceFolder(A,!0);if(!re)return G;typeof f>"u"&&this._actualWorkspace&&(f=this._actualWorkspace.folders.length>1);let Oe=(0,F.lX)(re.uri,A);return f&&re.name&&(Oe=`${re.name}/${Oe}`),Oe}trySetWorkspaceFolders(o){this._actualWorkspace&&(this._unconfirmedWorkspace=ya.toExtHostWorkspace({id:this._actualWorkspace.id,name:this._actualWorkspace.name,configuration:this._actualWorkspace.configuration,folders:o,isUntitled:this._actualWorkspace.isUntitled},this._actualWorkspace,void 0,this._extHostFileSystemInfo).workspace||void 0)}$acceptWorkspaceData(o){const{workspace:f,added:A,removed:G}=ya.toExtHostWorkspace(o,this._confirmedWorkspace,this._unconfirmedWorkspace,this._extHostFileSystemInfo);this._confirmedWorkspace=f||void 0,this._unconfirmedWorkspace=void 0,this._onDidChangeWorkspace.fire(Object.freeze({added:A,removed:G}))}findFiles(o,f,A,G,re=j.T.None){let Oe;if(this._logService.trace(`extHostWorkspace#findFiles: fileSearch, extension: ${G.value}, entryPoint: findFiles`),null===f?Oe=!1:f&&(Oe="string"==typeof f?f:f.pattern),re&&re.isCancellationRequested)return Promise.resolve([]);const{includePattern:Je,folder:At}=Wt(_r.from(o));return this._proxy.$startFileSearch((0,v.w)(Je),(0,v.w)(At),(0,v.w)(Oe),(0,v.w)(A),re).then(mn=>Array.isArray(mn)?mn.map(Un=>C.o.revive(Un)):[])}findTextInFiles(o,f,A,G,re=j.T.None){var Oe=this;return(0,d.Z)(function*(){Oe._logService.trace(`extHostWorkspace#findTextInFiles: textSearch, extension: ${G.value}, entryPoint: findTextInFiles`);const Je=Oe._requestIdProvider.getNext(),At=typeof f.previewOptions>"u"?{matchLines:100,charsPerLine:1e4}:f.previewOptions,{includePattern:mn,folder:Un}=Wt(_r.from(f.include)),Ei={ignoreSymlinks:"boolean"==typeof f.followSymlinks?!f.followSymlinks:void 0,disregardIgnoreFiles:"boolean"==typeof f.useIgnoreFiles?!f.useIgnoreFiles:void 0,disregardGlobalIgnoreFiles:"boolean"==typeof f.useGlobalIgnoreFiles?!f.useGlobalIgnoreFiles:void 0,disregardParentIgnoreFiles:"boolean"==typeof f.useParentIgnoreFiles?!f.useParentIgnoreFiles:void 0,disregardExcludeSettings:"boolean"!=typeof f.useDefaultExcludes||!f.useDefaultExcludes,fileEncoding:f.encoding,maxResults:f.maxResults,previewOptions:At,afterContext:f.afterContext,beforeContext:f.beforeContext,includePattern:mn,excludePattern:"string"==typeof f.exclude?f.exclude:f.exclude?f.exclude.pattern:void 0};if(Oe._activeSearchCallbacks[Je]=ei=>{const _i=C.o.revive(ei.resource);ei.results.forEach(Ri=>{!function ud(ie){return!!ie.preview}(Ri)?A({uri:_i,text:Ri.text,lineNumber:Ri.lineNumber}):A({uri:_i,preview:{text:Ri.preview.text,matches:(0,l.m)(Ri.preview.matches,Bi=>new Fn(Bi.startLineNumber,Bi.startColumn,Bi.endLineNumber,Bi.endColumn))},ranges:(0,l.m)(Ri.ranges,Bi=>new Fn(Bi.startLineNumber,Bi.startColumn,Bi.endLineNumber,Bi.endColumn))})})},re.isCancellationRequested)return{};try{const ei=yield Oe._proxy.$startTextSearch(o,(0,v.w)(Un),Ei,Je,re);return delete Oe._activeSearchCallbacks[Je],ei||{}}catch(ei){throw delete Oe._activeSearchCallbacks[Je],ei}})()}$handleTextSearchResult(o,f){this._activeSearchCallbacks[f]?.(o)}saveAll(o){return this._proxy.$saveAll(o)}resolveProxy(o){return this._proxy.$resolveProxy(o)}get trusted(){return this._trusted}requestWorkspaceTrust(o){return this._proxy.$requestWorkspaceTrust(o)}$onDidGrantWorkspaceTrust(){this._trusted||(this._trusted=!0,this._onDidGrantWorkspaceTrust.fire())}};yl=(0,l._)([(0,l.a)(0,hr),(0,l.a)(1,cd),(0,l.a)(2,us),(0,l.a)(3,P.VZ)],yl);const fd=(0,w.yh)("IExtHostWorkspace");function Wt(ie){let o,f;return ie&&("string"==typeof ie?o=ie:(o=ie.pattern,f=C.o.revive(ie.baseUri))),{includePattern:o,folder:f}}function i(ie){ie.dark=C.o.revive(ie.dark),ie.light&&(ie.light=C.o.revive(ie.light))}let r=class{constructor(o,f){this._items={},this.sessions=new Map,this._proxy=o.getProxy(_s.ExtHostQuickOpen),this._quickInputService=f}dispose(){}$show(o,f,A){const G=new Promise((re,Oe)=>{this._items[o]={resolve:re,reject:Oe}});return(f={...f,onDidFocus:re=>{re&&this._proxy.$onItemSelected(re.handle)}}).canPickMany?this._quickInputService.pick(G,f,A).then(re=>{if(re)return re.map(Oe=>Oe.handle)}):this._quickInputService.pick(G,f,A).then(re=>{if(re)return re.handle})}$setItems(o,f){return this._items[o]&&(this._items[o].resolve(f),delete this._items[o]),Promise.resolve()}$setError(o,f){return this._items[o]&&(this._items[o].reject(f),delete this._items[o]),Promise.resolve()}$input(o,f,A){const G=Object.create(null);return o&&(G.title=o.title,G.password=o.password,G.placeHolder=o.placeHolder,G.valueSelection=o.valueSelection,G.prompt=o.prompt,G.value=o.value,G.ignoreFocusLost=o.ignoreFocusOut),f&&(G.validateInput=re=>this._proxy.$validateInput(re)),this._quickInputService.input(G,A)}$createOrUpdate(o){const f=o.id;let A=this.sessions.get(f);if(!A){const Oe="quickPick"===o.type?this._quickInputService.createQuickPick():this._quickInputService.createInputBox();if(Oe.onDidAccept(()=>{this._proxy.$onDidAccept(f)}),Oe.onDidTriggerButton(Je=>{this._proxy.$onDidTriggerButton(f,Je.handle)}),Oe.onDidChangeValue(Je=>{this._proxy.$onDidChangeValue(f,Je)}),Oe.onDidHide(()=>{this._proxy.$onDidHide(f)}),"quickPick"===o.type){const Je=Oe;Je.onDidChangeActive(At=>{this._proxy.$onDidChangeActive(f,At.map(mn=>mn.handle))}),Je.onDidChangeSelection(At=>{this._proxy.$onDidChangeSelection(f,At.map(mn=>mn.handle))}),Je.onDidTriggerItemButton(At=>{this._proxy.$onDidTriggerItemButton(f,At.item.handle,At.button.handle)})}A={input:Oe,handlesToItems:new Map},this.sessions.set(f,A)}const{input:G,handlesToItems:re}=A;for(const Oe in o)"id"===Oe||"type"===Oe||("visible"===Oe?o.visible?G.show():G.hide():"items"===Oe?(re.clear(),o[Oe].forEach(Je=>{"separator"!==Je.type&&(Je.buttons&&(Je.buttons=Je.buttons.map(At=>(At.iconPath&&i(At.iconPath),At))),re.set(Je.handle,Je))}),G[Oe]=o[Oe]):G[Oe]="activeItems"===Oe||"selectedItems"===Oe?o[Oe].filter(Je=>re.has(Je)).map(Je=>re.get(Je)):"buttons"===Oe?o.buttons.map(Je=>-1===Je.handle?this._quickInputService.backButton:(Je.iconPath&&i(Je.iconPath),Je)):o[Oe]);return Promise.resolve(void 0)}$dispose(o){const f=this.sessions.get(o);return f&&(f.input.dispose(),this.sessions.delete(o)),Promise.resolve(void 0)}};r=(0,l._)([rr(Vo.MainThreadQuickOpen),(0,l.a)(1,Ee.eJ)],r);let W=class{constructor(o,f){this._logService=f,this._proxy=o.getProxy(Vo.MainThreadMessageService)}showMessage(o,f,A,G,re){const Oe={source:{identifier:o.identifier,label:o.displayName||o.name}};let Je;"string"==typeof G||function x(ie){return ie&&ie.title}(G)?Je=[G,...re]:(Oe.modal=G?.modal,Oe.useCustom=G?.useCustom,Oe.detail=G?.detail,Je=re),Oe.useCustom&&(0,H.c)(o,"resolvers");const At=[];for(let mn=0;mn<Je.length;mn++){const Un=Je[mn];if("string"==typeof Un)At.push({title:Un,handle:mn,isCloseAffordance:!1});else if("object"==typeof Un){const{title:ui,isCloseAffordance:Ei}=Un;At.push({title:ui,isCloseAffordance:!!Ei,handle:mn})}else this._logService.warn("Invalid message item:",Un)}return this._proxy.$showMessage(f,A,Oe,At).then(mn=>{if("number"==typeof mn)return Je[mn]})}};W=(0,l._)([(0,l.a)(1,P.VZ)],W);let J=class{constructor(o,f,A,G){this._notificationService=f,this._commandService=A,this._dialogService=G}dispose(){}$showMessage(o,f,A,G){return A.modal?this._showModalMessage(o,f,A.detail,G,A.useCustom):this._showMessage(o,f,G,A)}_showMessage(o,f,A,G){return new Promise(re=>{const Oe=[];class Je extends Ne.aU{constructor(ei,_i,Ri){super(ei,_i,void 0,!0,()=>(re(Ri),Promise.resolve()))}}let mn;A.forEach(Ei=>{Oe.push(new Je("_extension_message_handle_"+Ei.handle,Ei.title,Ei.handle))}),G.source&&(mn={label:(0,z.NC)("extensionSource","{0} (Extension)",G.source.label),id:G.source.identifier.value}),mn||(mn=(0,z.NC)("defaultSource","Extension"));const Un=[];G.source&&Un.push(new class At extends Ne.aU{constructor(ei,_i,Ri){super(ei.value,_i,void 0,!0,()=>Ri.executeCommand("_extensions.manage",ei.value))}}(G.source.identifier,(0,z.NC)("manageExtension","Manage Extension"),this._commandService));const ui=this._notificationService.notify({severity:o,message:f,actions:{primary:Oe,secondary:Un},source:mn});B.ju.once(ui.onDidClose)(()=>{(0,O.B9)(Oe),(0,O.B9)(Un),re(void 0)})})}_showModalMessage(o,f,A,G,re){var Oe=this;return(0,d.Z)(function*(){let Je;const At=G.map((Un,ui)=>(!0===Un.isCloseAffordance&&(Je=ui),Un.title));void 0===Je&&(At.push(At.length>0?(0,z.NC)("cancel","Cancel"):(0,z.NC)("ok","OK")),Je=At.length-1);const{choice:mn}=yield Oe._dialogService.show(o,f,At,{cancelId:Je,custom:re,detail:A});return mn===G.length?void 0:G[mn].handle})()}};J=(0,l._)([rr(Vo.MainThreadMessageService),(0,l.a)(1,M.lT),(0,l.a)(2,U.Hy),(0,l.a)(3,Le.S)],J);class De{constructor(o){this._handles=0,this._mapHandleToCancellationSource=new Map,this._proxy=o}withProgress(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._handles++,{title:Oe,location:Je,cancellable:At}=f,mn={label:(0,z.NC)("extensionSource","{0} (Extension)",o.displayName||o.name),id:o.identifier.value};return G._proxy.$startProgress(re,{location:ws.from(Je),title:Oe,source:mn,cancellable:At},o.isUnderDevelopment?void 0:o.identifier.value).catch(T.Cp),G._withProgress(re,A,!!At)})()}_withProgress(o,f,A){let G;A&&(G=new S.C,this._mapHandleToCancellationSource.set(o,G));const re=Je=>{this._proxy.$progressEnd(Je),this._mapHandleToCancellationSource.delete(Je),G&&G.dispose()};let Oe;try{Oe=f(new We(this._proxy,o),A&&G?G.token:j.T.None)}catch(Je){throw re(o),Je}return Oe.then(Je=>re(o),Je=>re(o)),Oe}$acceptProgressCanceled(o){const f=this._mapHandleToCancellationSource.get(o);f&&(f.cancel(),this._mapHandleToCancellationSource.delete(o))}}class We extends oe.Ex{constructor(o,f){super(A=>this.throttledReport(A)),this._proxy=o,this._handle=f}throttledReport(o){this._proxy.$progressReport(this._handle,o)}}class lt extends Ne.aU{constructor(o,f,A){super(o,f,void 0,!0,()=>A.executeCommand("_extensions.manage",o))}}let yt=class{constructor(o,f,A){this._commandService=A,this._progress=new Map,this._proxy=o.getProxy(_s.ExtHostProgress),this._progressService=f}dispose(){this._progress.forEach(o=>o.resolve()),this._progress.clear()}$startProgress(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._createTask(o);15===f.location&&A&&(f={...f,location:15,secondaryActions:[new lt(A,(0,z.NC)("manageExtension","Manage Extension"),G._commandService)]}),G._progressService.withProgress(f,re,()=>G._proxy.$acceptProgressCanceled(o))})()}$progressReport(o,f){this._progress.get(o)?.progress.report(f)}$progressEnd(o){const f=this._progress.get(o);f&&(f.resolve(),this._progress.delete(o))}_createTask(o){return f=>new Promise(A=>{this._progress.set(o,{resolve:A,progress:f})})}};yt=(0,l._)([rr(Vo.MainThreadProgress),(0,l.a)(1,oe.R9),(0,l.a)(2,U.Hy)],yt);let Nt=class{constructor(o,f,A,G,re){this._textModelResolverService=f,this._languageService=A,this._modelService=G,this._editorWorkerService=re,this._resourceContentProvider=new Map,this._pendingUpdate=new Map,this._proxy=o.getProxy(_s.ExtHostDocumentContentProviders)}dispose(){(0,O.B9)(this._resourceContentProvider.values()),(0,O.B9)(this._pendingUpdate.values())}$registerTextContentProvider(o,f){const A=this._textModelResolverService.registerTextModelContentProvider(f,{provideTextContent:G=>this._proxy.$provideTextDocumentContent(o,G).then(re=>{if("string"==typeof re){const Oe=re.substr(0,1+re.search(/\r?\n/)),Je=this._languageService.createByFilepathOrFirstLine(G,Oe);return this._modelService.createModel(re,Je,G)}return null})});this._resourceContentProvider.set(o,A)}$unregisterTextContentProvider(o){const f=this._resourceContentProvider.get(o);f&&(f.dispose(),this._resourceContentProvider.delete(o))}$onVirtualDocumentChange(o,f){const A=this._modelService.getModel(C.o.revive(o));if(!A)return;const G=this._pendingUpdate.get(A.id);G&&G.cancel();const re=new S.C;this._pendingUpdate.set(A.id,re),this._editorWorkerService.computeMoreMinimalEdits(A.uri,[{text:f,range:A.getFullModelRange()}]).then(Oe=>{this._pendingUpdate.delete(A.id),!re.token.isCancellationRequested&&Oe&&Oe.length>0&&A.applyEdits(Oe.map(Je=>we.h.replace(ot.lift(Je.range),Je.text)))}).catch(T.dL)}};Nt=(0,l._)([rr(Vo.MainThreadDocumentContentProviders),(0,l.a)(1,xe.S),(0,l.a)(2,pe.O),(0,l.a)(3,Te.q),(0,l.a)(4,de.p)],Nt);let Gt=(()=>{class ie{constructor(f,A,G){this._documentsAndEditors=A,this._logService=G,this._documentContentProviders=new Map,this._proxy=f.getProxy(Vo.MainThreadDocumentContentProviders)}registerTextDocumentContentProvider(f,A){if(Object.keys(K.lg).indexOf(f)>=0)throw new Error(`scheme '${f}' already registered`);const G=ie._handlePool++;let re;return this._documentContentProviders.set(G,A),this._proxy.$registerTextContentProvider(G,f),"function"==typeof A.onDidChange&&(re=A.onDidChange(Oe=>{Oe.scheme===f?this._documentsAndEditors.getDocument(Oe)&&this.$provideTextDocumentContent(G,Oe).then(Je=>{if(!Je&&"string"!=typeof Je)return;const At=this._documentsAndEditors.getDocument(Oe);if(!At)return;const mn=(0,s.uq)(Je);return At.equalLines(mn)?void 0:this._proxy.$onVirtualDocumentChange(Oe,Je)},T.dL):this._logService.warn(`Provider for scheme '${f}' is firing event for schema '${Oe.scheme}' which will be IGNORED`)})),new ln(()=>{this._documentContentProviders.delete(G)&&this._proxy.$unregisterTextContentProvider(G),re&&(re.dispose(),re=void 0)})}$provideTextDocumentContent(f,A){const G=this._documentContentProviders.get(f);return G?Promise.resolve(G.provideTextDocumentContent(C.o.revive(A),j.T.None)):Promise.reject(new Error(`unsupported uri-scheme: ${A.scheme}`))}}return ie._handlePool=0,ie})();class an{constructor(o,f,A){const G=an._Keys.nextId();o.$registerTextEditorDecorationType(f.identifier,G,kn.from(A)),this.value=Object.freeze({key:G,dispose(){o.$removeTextEditorDecorationType(G)}})}}an._Keys=new ke.R("TextEditorDecorationType");class un{constructor(o,f){this._collectedEdits=[],this._setEndOfLine=void 0,this._finalized=!1,this._document=o,this._documentVersionId=o.version,this._undoStopBefore=f.undoStopBefore,this._undoStopAfter=f.undoStopAfter}finalize(){return this._finalized=!0,{documentVersionId:this._documentVersionId,edits:this._collectedEdits,setEndOfLine:this._setEndOfLine,undoStopBefore:this._undoStopBefore,undoStopAfter:this._undoStopAfter}}_throwIfFinalized(){if(this._finalized)throw new Error("Edit is only valid while callback runs")}replace(o,f){this._throwIfFinalized();let A=null;if(o instanceof On)A=new Fn(o,o);else{if(!(o instanceof Fn))throw new Error("Unrecognized location");A=o}this._pushEdit(A,f,!1)}insert(o,f){this._throwIfFinalized(),this._pushEdit(new Fn(o,o),f,!0)}delete(o){this._throwIfFinalized();let f=null;if(!(o instanceof Fn))throw new Error("Unrecognized location");f=o,this._pushEdit(f,null,!0)}_pushEdit(o,f,A){const G=this._document.validateRange(o);this._collectedEdits.push({range:G,text:f,forceMoveMarkers:A})}setEndOfLine(o){if(this._throwIfFinalized(),o!==gt.LF&&o!==gt.CRLF)throw(0,T.b1)("endOfLine");this._setEndOfLine=o}}class Wn{constructor(o,f,A,G){this._proxy=o,this._id=f,this._accept(A),this._logService=G;const re=this;this.value={get tabSize(){return re._tabSize},set tabSize(Oe){re._setTabSize(Oe)},get insertSpaces(){return re._insertSpaces},set insertSpaces(Oe){re._setInsertSpaces(Oe)},get cursorStyle(){return re._cursorStyle},set cursorStyle(Oe){re._setCursorStyle(Oe)},get lineNumbers(){return re._lineNumbers},set lineNumbers(Oe){re._setLineNumbers(Oe)}}}_accept(o){this._tabSize=o.tabSize,this._insertSpaces=o.insertSpaces,this._cursorStyle=o.cursorStyle,this._lineNumbers=Ks.to(o.lineNumbers)}_validateTabSize(o){if("auto"===o)return"auto";if("number"==typeof o){const f=Math.floor(o);return f>0?f:null}if("string"==typeof o){const f=parseInt(o,10);return isNaN(f)?null:f>0?f:null}return null}_setTabSize(o){const f=this._validateTabSize(o);if(null!==f){if("number"==typeof f){if(this._tabSize===f)return;this._tabSize=f}this._warnOnError("setTabSize",this._proxy.$trySetOptions(this._id,{tabSize:f}))}}_validateInsertSpaces(o){return"auto"===o?"auto":"false"!==o&&Boolean(o)}_setInsertSpaces(o){const f=this._validateInsertSpaces(o);if("boolean"==typeof f){if(this._insertSpaces===f)return;this._insertSpaces=f}this._warnOnError("setInsertSpaces",this._proxy.$trySetOptions(this._id,{insertSpaces:f}))}_setCursorStyle(o){this._cursorStyle!==o&&(this._cursorStyle=o,this._warnOnError("setCursorStyle",this._proxy.$trySetOptions(this._id,{cursorStyle:o})))}_setLineNumbers(o){this._lineNumbers!==o&&(this._lineNumbers=o,this._warnOnError("setLineNumbers",this._proxy.$trySetOptions(this._id,{lineNumbers:Ks.from(o)})))}assign(o){const f={};let A=!1;if(typeof o.tabSize<"u"){const G=this._validateTabSize(o.tabSize);"auto"===G?(A=!0,f.tabSize=G):"number"==typeof G&&this._tabSize!==G&&(this._tabSize=G,A=!0,f.tabSize=G)}if(typeof o.insertSpaces<"u"){const G=this._validateInsertSpaces(o.insertSpaces);"auto"===G?(A=!0,f.insertSpaces=G):this._insertSpaces!==G&&(this._insertSpaces=G,A=!0,f.insertSpaces=G)}typeof o.cursorStyle<"u"&&this._cursorStyle!==o.cursorStyle&&(this._cursorStyle=o.cursorStyle,A=!0,f.cursorStyle=o.cursorStyle),typeof o.lineNumbers<"u"&&this._lineNumbers!==o.lineNumbers&&(this._lineNumbers=o.lineNumbers,A=!0,f.lineNumbers=Ks.from(o.lineNumbers)),A&&this._warnOnError("setOptions",this._proxy.$trySetOptions(this._id,f))}_warnOnError(o,f){f.catch(A=>{this._logService.warn(`ExtHostTextEditorOptions '${o}' failed:'`),this._logService.warn(A)})}}class $n{constructor(o,f,A,G,re,Oe,Je,At){this.id=o,this._proxy=f,this._logService=A,this._disposed=!1,this._hasDecorationsForKey=new Set,this._selections=re,this._options=new Wn(this._proxy,this.id,Oe,A),this._visibleRanges=Je,this._viewColumn=At;const mn=this;this.value=Object.freeze({get document(){return G.getValue()},set document(Un){throw(0,t.r)("document")},get selection(){return mn._selections&&mn._selections[0]},set selection(Un){if(!(Un instanceof dn))throw(0,T.b1)("selection");mn._selections=[Un],mn._trySetSelection()},get selections(){return mn._selections},set selections(Un){if(!Array.isArray(Un)||Un.some(ui=>!(ui instanceof dn)))throw(0,T.b1)("selections");mn._selections=Un,mn._trySetSelection()},get visibleRanges(){return mn._visibleRanges},set visibleRanges(Un){throw(0,t.r)("visibleRanges")},get options(){return mn._options.value},set options(Un){mn._disposed||mn._options.assign(Un)},get viewColumn(){return mn._viewColumn},set viewColumn(Un){throw(0,t.r)("viewColumn")},edit(Un,ui={undoStopBefore:!0,undoStopAfter:!0}){if(mn._disposed)return Promise.reject(new Error("TextEditor#edit not possible on closed editors"));const Ei=new un(G.getValue(),ui);return Un(Ei),mn._applyEdit(Ei)},insertSnippet(Un,ui,Ei={undoStopBefore:!0,undoStopAfter:!0}){if(mn._disposed)return Promise.reject(new Error("TextEditor#insertSnippet not possible on closed editors"));let ei;if(!ui||Array.isArray(ui)&&0===ui.length)ei=mn._selections.map(_i=>Gi.from(_i));else if(ui instanceof On){const{lineNumber:_i,column:Ri}=qo.from(ui);ei=[{startLineNumber:_i,startColumn:Ri,endLineNumber:_i,endColumn:Ri}]}else if(ui instanceof Fn)ei=[Gi.from(ui)];else{ei=[];for(const _i of ui)if(_i instanceof Fn)ei.push(Gi.from(_i));else{const{lineNumber:Ri,column:Bi}=qo.from(_i);ei.push({startLineNumber:Ri,startColumn:Bi,endLineNumber:Ri,endColumn:Bi})}}return f.$tryInsertSnippet(o,G.getValue().version,Un.value,ei,Ei)},setDecorations(Un,ui){const Ei=0===ui.length;Ei&&!mn._hasDecorationsForKey.has(Un.key)||(Ei?mn._hasDecorationsForKey.delete(Un.key):mn._hasDecorationsForKey.add(Un.key),mn._runOnProxy(()=>{if(zt(ui))return f.$trySetDecorations(o,Un.key,function Ye(ie){return zt(ie)?ie.map(o=>({range:Gi.from(o.range),hoverMessage:Array.isArray(o.hoverMessage)?Pe.fromMany(o.hoverMessage):o.hoverMessage?Pe.from(o.hoverMessage):void 0,renderOptions:o.renderOptions})):ie.map(o=>({range:Gi.from(o)}))}(ui));{const ei=new Array(4*ui.length);for(let _i=0,Ri=ui.length;_i<Ri;_i++){const Bi=ui[_i];ei[4*_i]=Bi.start.line+1,ei[4*_i+1]=Bi.start.character+1,ei[4*_i+2]=Bi.end.line+1,ei[4*_i+3]=Bi.end.character+1}return f.$trySetDecorationsFast(o,Un.key,ei)}}))},revealRange(Un,ui){mn._runOnProxy(()=>f.$tryRevealRange(o,Gi.from(Un),ui||Ln.Default))},show(Un){f.$tryShowEditor(o,ur.from(Un))},hide(){f.$tryHideEditor(o)}})}dispose(){(0,N.ok)(!this._disposed),this._disposed=!0}_acceptOptions(o){(0,N.ok)(!this._disposed),this._options._accept(o)}_acceptVisibleRanges(o){(0,N.ok)(!this._disposed),this._visibleRanges=o}_acceptViewColumn(o){(0,N.ok)(!this._disposed),this._viewColumn=o}_acceptSelections(o){(0,N.ok)(!this._disposed),this._selections=o}_trySetSelection(){var o=this;return(0,d.Z)(function*(){const f=o._selections.map(Yr.from);return yield o._runOnProxy(()=>o._proxy.$trySetSelections(o.id,f)),o.value})()}_applyEdit(o){const f=o.finalize();if(0===f.edits.length&&!f.setEndOfLine)return Promise.resolve(!0);const A=f.edits.map(re=>re.range);A.sort((re,Oe)=>re.end.line===Oe.end.line?re.end.character===Oe.end.character?re.start.line===Oe.start.line?re.start.character-Oe.start.character:re.start.line-Oe.start.line:re.end.character-Oe.end.character:re.end.line-Oe.end.line);for(let re=0,Oe=A.length-1;re<Oe;re++)if(A[re+1].start.isBefore(A[re].end))return Promise.reject(new Error("Overlapping ranges are not allowed!"));const G=f.edits.map(re=>({range:Gi.from(re.range),text:re.text,forceMoveMarkers:re.forceMoveMarkers}));return this._proxy.$tryApplyEdits(this.id,f.documentVersionId,G,{setEndOfLine:"number"==typeof f.setEndOfLine?Bo.from(f.setEndOfLine):void 0,undoStopBefore:f.undoStopBefore,undoStopAfter:f.undoStopAfter})}_runOnProxy(o){return this._disposed?(this._logService.warn("TextEditor is closed/disposed"),Promise.resolve(void 0)):o().then(()=>this,f=>(f instanceof Error&&"DISPOSED"===f.name||this._logService.warn(f),null))}}class Gn{constructor(o){this.value=o,this._count=0}ref(){this._count++}unref(){return 0==--this._count}}let ci=class{constructor(o,f){this._extHostRpc=o,this._logService=f,this._activeEditorId=null,this._editors=new Map,this._documents=new c.Y9,this._onDidAddDocuments=new l.E,this._onDidRemoveDocuments=new l.E,this._onDidChangeVisibleTextEditors=new l.E,this._onDidChangeActiveTextEditor=new l.E,this.onDidAddDocuments=this._onDidAddDocuments.event,this.onDidRemoveDocuments=this._onDidRemoveDocuments.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event}$acceptDocumentsAndEditorsDelta(o){this.acceptDocumentsAndEditorsDelta(o)}acceptDocumentsAndEditorsDelta(o){const f=[],A=[],G=[];if(o.removedDocuments)for(const re of o.removedDocuments){const Oe=C.o.revive(re),Je=this._documents.get(Oe);Je?.unref()&&(this._documents.delete(Oe),f.push(Je.value))}if(o.addedDocuments)for(const re of o.addedDocuments){const Oe=C.o.revive(re.uri);let Je=this._documents.get(Oe);if(Je&&Oe.scheme!==K.lg.vscodeNotebookCell&&Oe.scheme!==K.lg.vscodeInteractiveInput)throw new Error(`document '${Oe} already exists!'`);Je||(Je=new Gn(new ld(this._extHostRpc.getProxy(Vo.MainThreadDocuments),Oe,re.lines,re.EOL,re.versionId,re.languageId,re.isDirty,re.notebook)),this._documents.set(Oe,Je),A.push(Je.value)),Je.ref()}if(o.removedEditors)for(const re of o.removedEditors){const Oe=this._editors.get(re);this._editors.delete(re),Oe&&G.push(Oe)}if(o.addedEditors)for(const re of o.addedEditors){const Oe=C.o.revive(re.documentUri);(0,N.ok)(this._documents.has(Oe),`document '${Oe}' does not exist`),(0,N.ok)(!this._editors.has(re.id),`editor '${re.id}' already exists!`);const Je=this._documents.get(Oe).value,At=new $n(re.id,this._extHostRpc.getProxy(Vo.MainThreadTextEditors),this._logService,new ze.o(()=>Je.document),re.selections.map(Yr.to),re.options,re.visibleRanges.map(mn=>Gi.to(mn)),"number"==typeof re.editorPosition?ur.to(re.editorPosition):void 0);this._editors.set(re.id,At)}void 0!==o.newActiveEditor&&((0,N.ok)(null===o.newActiveEditor||this._editors.has(o.newActiveEditor),`active editor '${o.newActiveEditor}' does not exist`),this._activeEditorId=o.newActiveEditor),(0,O.B9)(f),(0,O.B9)(G),o.removedDocuments&&this._onDidRemoveDocuments.fire(f),o.addedDocuments&&this._onDidAddDocuments.fire(A),(o.removedEditors||o.addedEditors)&&this._onDidChangeVisibleTextEditors.fire(this.allEditors().map(re=>re.value)),void 0!==o.newActiveEditor&&this._onDidChangeActiveTextEditor.fire(this.activeEditor())}getDocument(o){return this._documents.get(o)?.value}allDocuments(){return $e.$.map(this._documents.values(),o=>o.value)}getEditor(o){return this._editors.get(o)}activeEditor(o){if(!this._activeEditorId)return;const f=this._editors.get(this._activeEditorId);return o?f:f?.value}allEditors(){return[...this._editors.values()]}};ci=(0,l._)([(0,l.a)(0,hr),(0,l.a)(1,P.VZ)],ci);class mi{constructor(o,f){this._extHostDocumentsAndEditors=f,this._onDidChangeTextEditorSelection=new l.E,this._onDidChangeTextEditorOptions=new l.E,this._onDidChangeTextEditorVisibleRanges=new l.E,this._onDidChangeTextEditorViewColumn=new l.E,this._onDidChangeActiveTextEditor=new l.E,this._onDidChangeVisibleTextEditors=new l.E,this.onDidChangeTextEditorSelection=this._onDidChangeTextEditorSelection.event,this.onDidChangeTextEditorOptions=this._onDidChangeTextEditorOptions.event,this.onDidChangeTextEditorVisibleRanges=this._onDidChangeTextEditorVisibleRanges.event,this.onDidChangeTextEditorViewColumn=this._onDidChangeTextEditorViewColumn.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this._proxy=o.getProxy(Vo.MainThreadTextEditors),this._extHostDocumentsAndEditors.onDidChangeVisibleTextEditors(A=>this._onDidChangeVisibleTextEditors.fire(A)),this._extHostDocumentsAndEditors.onDidChangeActiveTextEditor(A=>this._onDidChangeActiveTextEditor.fire(A))}getActiveTextEditor(){return this._extHostDocumentsAndEditors.activeEditor()}getVisibleTextEditors(o){const f=this._extHostDocumentsAndEditors.allEditors();return o?f:f.map(A=>A.value)}showTextDocument(o,f,A){var G=this;return(0,d.Z)(function*(){let re;re="number"==typeof f?{position:ur.from(f),preserveFocus:A}:"object"==typeof f?{position:ur.from(f.viewColumn),preserveFocus:f.preserveFocus,selection:"object"==typeof f.selection?Gi.from(f.selection):void 0,pinned:"boolean"==typeof f.preview?!f.preview:void 0}:{preserveFocus:!1};const Oe=yield G._proxy.$tryShowTextDocument(o.uri,re),Je=Oe&&G._extHostDocumentsAndEditors.getEditor(Oe);if(Je)return Je.value;throw Oe?new Error(`Could NOT open editor for "${o.uri.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${o.uri.toString()}".`)})()}createTextEditorDecorationType(o,f){return new an(this._proxy,o,f).value}$acceptEditorPropertiesChanged(o,f){const A=this._extHostDocumentsAndEditors.getEditor(o);if(!A)throw new Error("unknown text editor");if(f.options&&A._acceptOptions(f.options),f.selections){const G=f.selections.selections.map(Yr.to);A._acceptSelections(G)}if(f.visibleRanges){const G=(0,E.kX)(f.visibleRanges.map(Gi.to));A._acceptVisibleRanges(G)}if(f.options&&this._onDidChangeTextEditorOptions.fire({textEditor:A.value,options:{...f.options,lineNumbers:Ks.to(f.options.lineNumbers)}}),f.selections){const G=In.fromValue(f.selections.source),re=f.selections.selections.map(Yr.to);this._onDidChangeTextEditorSelection.fire({textEditor:A.value,selections:re,kind:G})}if(f.visibleRanges){const G=(0,E.kX)(f.visibleRanges.map(Gi.to));this._onDidChangeTextEditorVisibleRanges.fire({textEditor:A.value,visibleRanges:G})}}$acceptEditorPositionData(o){for(const f in o){const A=this._extHostDocumentsAndEditors.getEditor(f);if(!A)throw new Error("Unknown text editor");const G=ur.to(o[f]);A.value.viewColumn!==G&&(A._acceptViewColumn(G),this._onDidChangeTextEditorViewColumn.fire({textEditor:A.value,viewColumn:G}))}}getDiffInformation(o){return Promise.resolve(this._proxy.$getDiffInformation(o))}}class Di{constructor(o,f=18e4,A=83886080,G=50){this._extUri=o,this._maxAge=f,this._maxLength=A,this._maxSize=G,this._data=new Array,this._length=0}dispose(){this._data=(0,O.B9)(this._data)}remove(o){for(const f of[...this._data])this._extUri.isEqualOrParent(f.uri,o)&&f.dispose()}add(o,f,A=0){const G=()=>{const Je=this._data.indexOf(Oe);Je>=0&&(this._length-=A,f.dispose(),clearTimeout(re),this._data.splice(Je,1))},re=setTimeout(G,this._maxAge),Oe={uri:o,length:A,dispose:G};this._data.push(Oe),this._length+=A,this._cleanup()}_cleanup(){for(;this._length>this._maxLength;)this._data[0].dispose();const o=Math.ceil(1.2*this._maxSize);this._data.length>=o&&(0,O.B9)(this._data.slice(0,o-this._maxSize))}}class Ui extends O.JT{constructor(o,f,A,G){super(),this._model=o,this._onIsCaughtUpWithContentChanges=f,this._proxy=A,this._textFileService=G,this._knownVersionId=this._model.getVersionId(),this._store.add(this._model.onDidChangeContent(re=>{this._knownVersionId=re.versionId,this._proxy.$acceptModelChanged(this._model.uri,re,this._textFileService.isDirty(this._model.uri)),this.isCaughtUpWithContentChanges()&&this._onIsCaughtUpWithContentChanges.fire(this._model.uri)}))}isCaughtUpWithContentChanges(){return this._model.getVersionId()===this._knownVersionId}}let eo=class extends O.JT{constructor(o,f,A,G,re,Oe,Je,At,mn){super(),this._modelService=f,this._textFileService=A,this._fileService=G,this._textModelResolverService=re,this._environmentService=Oe,this._uriIdentityService=Je,this._pathService=mn,this._onIsCaughtUpWithContentChanges=this._store.add(new l.E),this.onIsCaughtUpWithContentChanges=this._onIsCaughtUpWithContentChanges.event,this._modelTrackers=new c.Y9,this._modelReferenceCollection=this._store.add(new Di(Je.extUri)),this._proxy=o.getProxy(_s.ExtHostDocuments),this._store.add(f.onModelLanguageChanged(this._onModelModeChanged,this)),this._store.add(A.files.onDidSave(Un=>{this._shouldHandleFileEvent(Un.model.resource)&&this._proxy.$acceptModelSaved(Un.model.resource)})),this._store.add(A.files.onDidChangeDirty(Un=>{this._shouldHandleFileEvent(Un.resource)&&this._proxy.$acceptDirtyStateChanged(Un.resource,Un.isDirty())})),this._store.add(At.onDidRunWorkingCopyFileOperation(Un=>{const ui=2===Un.operation;if(ui||1===Un.operation)for(const Ei of Un.files){const ei=ui?Ei.source:Ei.target;ei&&this._modelReferenceCollection.remove(ei)}}))}dispose(){(0,O.B9)(this._modelTrackers.values()),this._modelTrackers.clear(),super.dispose()}isCaughtUpWithContentChanges(o){const f=this._modelTrackers.get(o);return!f||f.isCaughtUpWithContentChanges()}_shouldHandleFileEvent(o){const f=this._modelService.getModel(o);return!!f&&(0,Dt.pt)(f)}handleModelAdded(o){!(0,Dt.pt)(o)||this._modelTrackers.set(o.uri,new Ui(o,this._onIsCaughtUpWithContentChanges,this._proxy,this._textFileService))}_onModelModeChanged(o){const{model:f}=o;!this._modelTrackers.has(f.uri)||this._proxy.$acceptModelLanguageChanged(f.uri,f.getLanguageId())}handleModelRemoved(o){!this._modelTrackers.has(o)||(this._modelTrackers.get(o).dispose(),this._modelTrackers.delete(o))}$trySaveDocument(o){var f=this;return(0,d.Z)(function*(){const A=yield f._textFileService.save(C.o.revive(o));return Boolean(A)})()}$tryOpenDocument(o){var f=this;return(0,d.Z)(function*(){const A=C.o.revive(o);if(!A.scheme||!A.fsPath&&!A.authority)throw new Error("Invalid uri. Scheme and authority or path must be set.");const G=f._uriIdentityService.asCanonicalUri(A);let re,Oe;re=G.scheme===K.lg.untitled?f._handleUntitledScheme(G):f._handleAsResourceInput(G);try{Oe=yield re}catch(Je){throw new Error(`cannot open ${G.toString()}. Detail: ${(0,I.y)(Je)}`)}if(Oe){if(F.SF.isEqual(Oe,G)){if(f._modelTrackers.has(G))return G;throw new Error(`cannot open ${G.toString()}. Detail: Files above 50MB cannot be synchronized with extensions.`)}throw new Error(`cannot open ${G.toString()}. Detail: Actual document opened as ${Oe.toString()}`)}throw new Error(`cannot open ${G.toString()}`)})()}$tryCreateDocument(o){return this._doCreateUntitled(void 0,o?o.language:void 0,o?o.content:void 0)}_handleAsResourceInput(o){var f=this;return(0,d.Z)(function*(){const A=yield f._textModelResolverService.createModelReference(o);return f._modelReferenceCollection.add(o,A,A.object.textEditorModel.getValueLength()),A.object.textEditorModel.uri})()}_handleUntitledScheme(o){var f=this;return(0,d.Z)(function*(){const A=function Fe(ie,o,f){if(o){let A=ie.path;return A&&A[0]!==ce.KR.sep&&(A=ce.KR.sep+A),ie.with({scheme:f,authority:o,path:A})}return ie.with({scheme:f})}(o,f._environmentService.remoteAuthority,f._pathService.defaultUriScheme);return(yield f._fileService.exists(A))?Promise.reject(new Error("file already exists")):yield f._doCreateUntitled(Boolean(o.path)?o:void 0)})()}_doCreateUntitled(o,f,A){var G=this;return(0,d.Z)(function*(){const Oe=(yield G._textFileService.untitled.resolve({associatedResource:o,languageId:f,initialValue:A})).resource;if(!G._modelTrackers.has(Oe))throw new Error(`expected URI ${Oe.toString()} to have come to LIFE`);return G._proxy.$acceptDirtyStateChanged(Oe,!0),Oe})()}};eo=(0,l._)([(0,l.a)(1,Te.q),(0,l.a)(2,S.h),(0,l.a)(3,S.i),(0,l.a)(4,xe.S),(0,l.a)(5,S.j),(0,l.a)(6,S.f),(0,l.a)(7,S.k),(0,l.a)(8,S.l)],eo);const zi=p.Selection;class Ji{constructor(o,f,A){this.selections=o,this.options=f,this.visibleRanges=A}static readFromEditor(o,f,A){const G=Ji._readSelectionsFromCodeEditor(o,A),re=Ji._readOptionsFromCodeEditor(o,f,A),Oe=Ji._readVisibleRangesFromCodeEditor(o,A);return new Ji(G,re,Oe)}static _readSelectionsFromCodeEditor(o,f){let A=null;return f&&(A=f.getSelections()),!A&&o&&(A=o.selections),A||(A=[new zi(1,1,1,1)]),A}static _readOptionsFromCodeEditor(o,f,A){if(f.isDisposed()){if(o)return o.options;throw new Error("No valid properties")}let G,re;if(A){const Je=A.getOptions(),At=Je.get(62);G=Je.get(24),re=At.renderType}else o?(G=o.options.cursorStyle,re=o.options.lineNumbers):(G=_e.d2.Line,re=1);const Oe=f.getOptions();return{insertSpaces:Oe.insertSpaces,tabSize:Oe.tabSize,cursorStyle:G,lineNumbers:re}}static _readVisibleRangesFromCodeEditor(o,f){return f?f.getVisibleRanges():[]}generateDelta(o,f){const A={options:null,selections:null,visibleRanges:null};return(!o||!Ji._selectionsEqual(o.selections,this.selections))&&(A.selections={selections:this.selections,source:(0,_.f6)(f)}),(!o||!Ji._optionsEqual(o.options,this.options))&&(A.options=this.options),(!o||!Ji._rangesEqual(o.visibleRanges,this.visibleRanges))&&(A.visibleRanges=this.visibleRanges),A.selections||A.options||A.visibleRanges?A:null}static _selectionsEqual(o,f){return(0,E.fS)(o,f,(A,G)=>A.equalsSelection(G))}static _rangesEqual(o,f){return(0,E.fS)(o,f,(A,G)=>A.equalsRange(G))}static _optionsEqual(o,f){return!(o&&!f||!o&&f)&&(!o&&!f||o.tabSize===f.tabSize&&o.insertSpaces===f.insertSpaces&&o.cursorStyle===f.cursorStyle&&o.lineNumbers===f.lineNumbers)}}class Qi{constructor(o,f,A,G,re,Oe,Je){this._modelListeners=new O.SL,this._codeEditorListeners=new O.SL,this._id=o,this._model=f,this._codeEditor=null,this._properties=null,this._focusTracker=G,this._mainThreadDocuments=re,this._modelService=Oe,this._clipboardService=Je,this._onPropertiesChanged=new l.E,this._modelListeners.add(this._model.onDidChangeOptions(At=>{this._updatePropertiesNow(null)})),this.setCodeEditor(A),this._updatePropertiesNow(null)}dispose(){this._modelListeners.dispose(),this._codeEditor=null,this._codeEditorListeners.dispose()}_updatePropertiesNow(o){this._setProperties(Ji.readFromEditor(this._properties,this._model,this._codeEditor),o)}_setProperties(o,f){const A=o.generateDelta(this._properties,f);this._properties=o,A&&this._onPropertiesChanged.fire(A)}getId(){return this._id}getModel(){return this._model}getCodeEditor(){return this._codeEditor}hasCodeEditor(o){return this._codeEditor===o}setCodeEditor(o){if(!this.hasCodeEditor(o)&&(this._codeEditorListeners.clear(),this._codeEditor=o,this._codeEditor)){this._codeEditorListeners.add(this._codeEditor.onDidChangeModel(()=>{this.setCodeEditor(null)})),this._codeEditorListeners.add(this._codeEditor.onDidFocusEditorWidget(()=>{this._focusTracker.onGainedFocus()})),this._codeEditorListeners.add(this._codeEditor.onDidBlurEditorWidget(()=>{this._focusTracker.onLostFocus()}));let f=null;this._codeEditorListeners.add(this._mainThreadDocuments.onIsCaughtUpWithContentChanges(re=>{if(re.toString()===this._model.uri.toString()){const Oe=f;f=null,this._updatePropertiesNow(Oe)}}));const A=()=>this._codeEditor&&this._codeEditor.getModel()===this._model,G=re=>{this._mainThreadDocuments.isCaughtUpWithContentChanges(this._model.uri)?(f=null,this._updatePropertiesNow(re)):f=re};this._codeEditorListeners.add(this._codeEditor.onDidChangeCursorSelection(re=>{!A()||G(re.source)})),this._codeEditorListeners.add(this._codeEditor.onDidChangeConfiguration(re=>{!A()||G(null)})),this._codeEditorListeners.add(this._codeEditor.onDidLayoutChange(()=>{!A()||G(null)})),this._codeEditorListeners.add(this._codeEditor.onDidScrollChange(()=>{!A()||G(null)})),this._updatePropertiesNow(null)}}isVisible(){return!!this._codeEditor}getProperties(){return this._properties}get onPropertiesChanged(){return this._onPropertiesChanged.event}setSelections(o){if(this._codeEditor)return void this._codeEditor.setSelections(o);const f=o.map(zi.liftSelection);this._setProperties(new Ji(f,this._properties.options,this._properties.visibleRanges),null)}_setIndentConfiguration(o){const f=this._modelService.getCreationOptions(this._model.getLanguageId(),this._model.uri,this._model.isForSimpleWidget);if("auto"===o.tabSize||"auto"===o.insertSpaces){let G=f.insertSpaces,re=f.tabSize;return"auto"!==o.insertSpaces&&typeof o.insertSpaces<"u"&&(G=o.insertSpaces),"auto"!==o.tabSize&&typeof o.tabSize<"u"&&(re=o.tabSize),void this._model.detectIndentation(G,re)}const A={};typeof o.insertSpaces<"u"&&(A.insertSpaces=o.insertSpaces),typeof o.tabSize<"u"&&(A.tabSize=o.tabSize),this._model.updateOptions(A)}setConfiguration(o){if(this._setIndentConfiguration(o),this._codeEditor){if(o.cursorStyle){const f=function Js(ie){switch(ie){case Tr.Line:return"line";case Tr.Block:return"block";case Tr.Underline:return"underline";case Tr.LineThin:return"line-thin";case Tr.BlockOutline:return"block-outline";case Tr.UnderlineThin:return"underline-thin"}}(o.cursorStyle);this._codeEditor.updateOptions({cursorStyle:f})}if(typeof o.lineNumbers<"u"){let f;switch(o.lineNumbers){case 1:f="on";break;case 2:f="relative";break;default:f="off"}this._codeEditor.updateOptions({lineNumbers:f})}}}setDecorations(o,f){!this._codeEditor||this._codeEditor.setDecorationsByType("exthost-api",o,f)}setDecorationsFast(o,f){if(!this._codeEditor)return;const A=[];for(let G=0,re=Math.floor(f.length/4);G<re;G++)A[G]=new ot(f[4*G],f[4*G+1],f[4*G+2],f[4*G+3]);this._codeEditor.setDecorationsByTypeFast(o,A)}revealRange(o,f){if(this._codeEditor)switch(f){case Pa.Default:this._codeEditor.revealRange(o,0);break;case Pa.InCenter:this._codeEditor.revealRangeInCenter(o,0);break;case Pa.InCenterIfOutsideViewport:this._codeEditor.revealRangeInCenterIfOutsideViewport(o,0);break;case Pa.AtTop:this._codeEditor.revealRangeAtTop(o,0);break;default:console.warn(`Unknown revealType: ${f}`)}}isFocused(){return!!this._codeEditor&&this._codeEditor.hasTextFocus()}matches(o){return!!o&&o.getControl()===this._codeEditor}applyEdits(o,f,A){if(this._model.getVersionId()!==o||!this._codeEditor)return!1;typeof A.setEndOfLine<"u"&&this._model.pushEOL(A.setEndOfLine);const G=f.map(re=>({range:ot.lift(re.range),text:re.text,forceMoveMarkers:re.forceMoveMarkers}));return A.undoStopBefore&&this._codeEditor.pushUndoStop(),this._codeEditor.executeEdits("MainThreadTextEditor",G),A.undoStopAfter&&this._codeEditor.pushUndoStop(),!0}insertSnippet(o,f,A,G){var re=this;return(0,d.Z)(function*(){if(!re._codeEditor||!re._codeEditor.hasModel())return!1;let Oe;if(Lt.Yj.guessNeedsClipboard(f)){const Un=new ae.yy(re._codeEditor,5);if(Oe=yield re._clipboardService.readText(),!Un.validate(re._codeEditor))return!1}re._codeEditor.getModel().getVersionId();const At=Ze.SnippetController2.get(re._codeEditor);if(!At)return!1;const mn=A.map(Un=>new zi(Un.startLineNumber,Un.startColumn,Un.endLineNumber,Un.endColumn));return re._codeEditor.setSelections(mn),re._codeEditor.focus(),At.insert(f,{overwriteBefore:0,overwriteAfter:0,undoStopBefore:G.undoStopBefore,undoStopAfter:G.undoStopAfter,clipboardText:Oe}),!0})()}}function fo(ie,o){if("number"!=typeof o||o===S.A||1===ie.count&&ie.activeGroup.isEmpty)return S.A;if(o===S.e)return S.e;const f=ie.getGroups(2)[o];return f?f.id:S.e}function No(ie,o){const f="number"==typeof o?ie.getGroup(o):o;return ie.getGroups(2).indexOf(f??ie.activeGroup)}let bo=class bu{constructor(o,f,A,G,re){this._editorLocator=o,this._codeEditorService=A,this._editorService=G,this._editorGroupService=re,this._toDispose=new O.SL,this._instanceId=String(++bu.INSTANCE_COUNT),this._proxy=f.getProxy(_s.ExtHostEditors),this._textEditorsListenersMap=Object.create(null),this._editorPositionData=null,this._toDispose.add(this._editorService.onDidVisibleEditorsChange(()=>this._updateActiveAndVisibleTextEditors())),this._toDispose.add(this._editorGroupService.onDidRemoveGroup(()=>this._updateActiveAndVisibleTextEditors())),this._toDispose.add(this._editorGroupService.onDidMoveGroup(()=>this._updateActiveAndVisibleTextEditors())),this._registeredDecorationTypes=Object.create(null)}dispose(){Object.keys(this._textEditorsListenersMap).forEach(o=>{(0,O.B9)(this._textEditorsListenersMap[o])}),this._textEditorsListenersMap=Object.create(null),this._toDispose.dispose();for(const o in this._registeredDecorationTypes)this._codeEditorService.removeDecorationType(o);this._registeredDecorationTypes=Object.create(null)}handleTextEditorAdded(o){const f=o.getId(),A=[];A.push(o.onPropertiesChanged(G=>{this._proxy.$acceptEditorPropertiesChanged(f,G)})),this._textEditorsListenersMap[f]=A}handleTextEditorRemoved(o){(0,O.B9)(this._textEditorsListenersMap[o]),delete this._textEditorsListenersMap[o]}_updateActiveAndVisibleTextEditors(){const o=this._getTextEditorPositionData();(0,b.fS)(this._editorPositionData,o)||(this._editorPositionData=o,this._proxy.$acceptEditorPositionData(this._editorPositionData))}_getTextEditorPositionData(){const o=Object.create(null);for(const f of this._editorService.visibleEditorPanes){const A=this._editorLocator.findTextEditorIdFor(f);A&&(o[A]=No(this._editorGroupService,f.group))}return o}$tryShowTextDocument(o,f){var A=this;return(0,d.Z)(function*(){const Oe={resource:C.o.revive(o),options:{preserveFocus:f.preserveFocus,pinned:f.pinned,selection:f.selection,activation:f.preserveFocus?za.RESTORE:void 0,override:ys.DISABLED}},Je=yield A._editorService.openEditor(Oe,fo(A._editorGroupService,f.position));if(Je)return A._editorLocator.findTextEditorIdFor(Je)})()}$tryShowEditor(o,f){var A=this;return(0,d.Z)(function*(){const G=A._editorLocator.getEditor(o);if(G){const re=G.getModel();yield A._editorService.openEditor({resource:re.uri,options:{preserveFocus:!1}},fo(A._editorGroupService,f))}})()}$tryHideEditor(o){var f=this;return(0,d.Z)(function*(){const A=f._editorLocator.getEditor(o);if(A){const G=f._editorService.visibleEditorPanes;for(const re of G)if(A.matches(re))return void(yield re.group.closeEditor(re.input))}})()}$trySetSelections(o,f){const A=this._editorLocator.getEditor(o);return A?(A.setSelections(f),Promise.resolve(void 0)):Promise.reject((0,t.d)(`TextEditor(${o})`))}$trySetDecorations(o,f,A){f=`${this._instanceId}-${f}`;const G=this._editorLocator.getEditor(o);return G?(G.setDecorations(f,A),Promise.resolve(void 0)):Promise.reject((0,t.d)(`TextEditor(${o})`))}$trySetDecorationsFast(o,f,A){f=`${this._instanceId}-${f}`;const G=this._editorLocator.getEditor(o);return G?(G.setDecorationsFast(f,A),Promise.resolve(void 0)):Promise.reject((0,t.d)(`TextEditor(${o})`))}$tryRevealRange(o,f,A){const G=this._editorLocator.getEditor(o);return G?(G.revealRange(f,A),Promise.resolve()):Promise.reject((0,t.d)(`TextEditor(${o})`))}$trySetOptions(o,f){const A=this._editorLocator.getEditor(o);return A?(A.setConfiguration(f),Promise.resolve(void 0)):Promise.reject((0,t.d)(`TextEditor(${o})`))}$tryApplyEdits(o,f,A,G){const re=this._editorLocator.getEditor(o);return re?Promise.resolve(re.applyEdits(f,A,G)):Promise.reject((0,t.d)(`TextEditor(${o})`))}$tryInsertSnippet(o,f,A,G,re){const Oe=this._editorLocator.getEditor(o);return Oe?Promise.resolve(Oe.insertSnippet(f,A,G,re)):Promise.reject((0,t.d)(`TextEditor(${o})`))}$registerTextEditorDecorationType(o,f,A){this._registeredDecorationTypes[f=`${this._instanceId}-${f}`]=!0,this._codeEditorService.registerDecorationType(`exthost-api-${o}`,f,A)}$removeTextEditorDecorationType(o){delete this._registeredDecorationTypes[o=`${this._instanceId}-${o}`],this._codeEditorService.removeDecorationType(o)}$getDiffInformation(o){const f=this._editorLocator.getEditor(o);if(!f)return Promise.reject(new Error("No such TextEditor"));const A=f.getCodeEditor();if(!A)return Promise.reject(new Error("No such CodeEditor"));const G=A.getId(),re=this._codeEditorService.listDiffEditors(),[Oe]=re.filter(At=>At.getOriginalEditor().getId()===G||At.getModifiedEditor().getId()===G);if(Oe)return Promise.resolve(Oe.getLineChanges()||[]);const Je=A.getContribution("editor.contrib.dirtydiff");return Promise.resolve(Je?Je.getChanges():[])}};bo.INSTANCE_COUNT=0,bo=(0,l._)([(0,l.a)(2,he.$),(0,l.a)(3,S.I),(0,l.a)(4,S.b)],bo);class ps{}class ss{constructor(o){this.editor=o,this.id=`${o.getId()},${o.getModel().id}`}}class vs{constructor(o,f,A,G,re,Oe){this.removedDocuments=o,this.addedDocuments=f,this.removedEditors=A,this.addedEditors=G,this.oldActiveEditor=re,this.newActiveEditor=Oe,this.isEmpty=0===this.removedDocuments.length&&0===this.addedDocuments.length&&0===this.removedEditors.length&&0===this.addedEditors.length&&re===Oe}toString(){let o="DocumentAndEditorStateDelta\n";return o+=`\tRemoved Documents: [${this.removedDocuments.map(f=>f.uri.toString(!0)).join(", ")}]\n`,o+=`\tAdded Documents: [${this.addedDocuments.map(f=>f.uri.toString(!0)).join(", ")}]\n`,o+=`\tRemoved Editors: [${this.removedEditors.map(f=>f.id).join(", ")}]\n`,o+=`\tAdded Editors: [${this.addedEditors.map(f=>f.id).join(", ")}]\n`,o+=`\tNew Active Editor: ${this.newActiveEditor}\n`,o}}class Qo{constructor(o,f,A){this.documents=o,this.textEditors=f,this.activeEditor=A}static compute(o,f){if(!o)return new vs([],[...f.documents.values()],[],[...f.textEditors.values()],void 0,f.activeEditor);const A=function ft(ie,o){const f=[],A=[];for(const G of ie)o.has(G)||f.push(G);for(const G of o)ie.has(G)||A.push(G);return{removed:f,added:A}}(o.documents,f.documents),G=function jt(ie,o){const f=[],A=[];for(const[G,re]of ie)o.has(G)||f.push(re);for(const[G,re]of o)ie.has(G)||A.push(re);return{removed:f,added:A}}(o.textEditors,f.textEditors);return new vs(A.removed,A.added,G.removed,G.added,o.activeEditor!==f.activeEditor?o.activeEditor:void 0,o.activeEditor!==f.activeEditor?f.activeEditor:void 0)}}let Os=class{constructor(o,f,A,G,re){this._onDidChangeState=o,this._modelService=f,this._codeEditorService=A,this._editorService=G,this._paneCompositeService=re,this._toDispose=new O.SL,this._toDisposeOnEditorRemove=new Map,this._activeEditorOrder=0,this._modelService.onModelAdded(this._updateStateOnModelAdd,this,this._toDispose),this._modelService.onModelRemoved(Oe=>this._updateState(),this,this._toDispose),this._editorService.onDidActiveEditorChange(Oe=>this._updateState(),this,this._toDispose),this._codeEditorService.onCodeEditorAdd(this._onDidAddEditor,this,this._toDispose),this._codeEditorService.onCodeEditorRemove(this._onDidRemoveEditor,this,this._toDispose),this._codeEditorService.listCodeEditors().forEach(this._onDidAddEditor,this),B.ju.filter(this._paneCompositeService.onDidPaneCompositeOpen,Oe=>1===Oe.viewContainerLocation)(Oe=>this._activeEditorOrder=1,void 0,this._toDispose),B.ju.filter(this._paneCompositeService.onDidPaneCompositeClose,Oe=>1===Oe.viewContainerLocation)(Oe=>this._activeEditorOrder=0,void 0,this._toDispose),this._editorService.onDidVisibleEditorsChange(Oe=>this._activeEditorOrder=0,void 0,this._toDispose),this._updateState()}dispose(){this._toDispose.dispose()}_onDidAddEditor(o){this._toDisposeOnEditorRemove.set(o.getId(),(0,O.F8)(o.onDidChangeModel(()=>this._updateState()),o.onDidFocusEditorText(()=>this._updateState()),o.onDidFocusEditorWidget(()=>this._updateState(o)))),this._updateState()}_onDidRemoveEditor(o){const f=this._toDisposeOnEditorRemove.get(o.getId());f&&(this._toDisposeOnEditorRemove.delete(o.getId()),f.dispose(),this._updateState())}_updateStateOnModelAdd(o){if((0,Dt.pt)(o)){if(!this._currentState)return void this._updateState();this._currentState=new Qo(this._currentState.documents.add(o),this._currentState.textEditors,this._currentState.activeEditor),this._onDidChangeState(new vs([],[o],[],[],void 0,void 0))}}_updateState(o){const f=new Set;for(const Je of this._modelService.getModels())(0,Dt.pt)(Je)&&f.add(Je);const A=new Map;let G=null;for(const Je of this._codeEditorService.listCodeEditors()){if(Je.isSimpleWidget)continue;const At=Je.getModel();if(Je.hasModel()&&At&&(0,Dt.pt)(At)&&!At.isDisposed()&&Boolean(this._modelService.getModel(At.uri))){const mn=new ss(Je);A.set(mn.id,mn),(Je.hasTextFocus()||o===Je&&Je.hasWidgetFocus())&&(G=mn.id)}}if(!G){let Je;if(Je=0===this._activeEditorOrder?this._getActiveEditorFromEditorPart()||this._getActiveEditorFromPanel():this._getActiveEditorFromPanel()||this._getActiveEditorFromEditorPart(),Je)for(const At of A.values())Je===At.editor&&(G=At.id)}const re=new Qo(f,A,G),Oe=Qo.compute(this._currentState,re);Oe.isEmpty||(this._currentState=re,this._onDidChangeState(Oe))}_getActiveEditorFromPanel(){const o=this._paneCompositeService.getActivePaneComposite(1);if(o instanceof ps){const f=o.getControl();if((0,Q.CL)(f))return f}}_getActiveEditorFromEditorPart(){let o=this._editorService.activeTextEditorControl;return(0,Q.QI)(o)&&(o=o.getModifiedEditor()),o}};Os=(0,l._)([(0,l.a)(1,Te.q),(0,l.a)(2,he.$),(0,l.a)(3,S.I),(0,l.a)(4,S.g)],Os);let Ts=class{constructor(o,f,A,G,re,Oe,Je,At,mn,Un,ui,Ei,ei,_i,Ri){this._modelService=f,this._textFileService=A,this._editorService=G,this._editorGroupService=At,this._clipboardService=ei,this._toDispose=new O.SL,this._textEditors=new Map,this._proxy=o.getProxy(_s.ExtHostDocumentsAndEditors),this._mainThreadDocuments=this._toDispose.add(new eo(o,this._modelService,this._textFileService,Oe,Je,Un,Ei,ui,_i)),o.set(Vo.MainThreadDocuments,this._mainThreadDocuments),this._mainThreadEditors=this._toDispose.add(new bo(this,o,re,this._editorService,this._editorGroupService)),o.set(Vo.MainThreadTextEditors,this._mainThreadEditors),this._toDispose.add(new Os(Bi=>this._onDelta(Bi),f,re,this._editorService,mn))}dispose(){this._toDispose.dispose()}_onDelta(o){const f=[],A=[],G=o.removedDocuments.map(Je=>Je.uri);for(const Je of o.addedEditors){const At=new Qi(Je.id,Je.editor.getModel(),Je.editor,{onGainedFocus(){},onLostFocus(){}},this._mainThreadDocuments,this._modelService,this._clipboardService);this._textEditors.set(Je.id,At),A.push(At)}for(const{id:Je}of o.removedEditors){const At=this._textEditors.get(Je);At&&(At.dispose(),this._textEditors.delete(Je),f.push(Je))}const re=Object.create(null);let Oe=!0;void 0!==o.newActiveEditor&&(Oe=!1,re.newActiveEditor=o.newActiveEditor),G.length>0&&(Oe=!1,re.removedDocuments=G),f.length>0&&(Oe=!1,re.removedEditors=f),o.addedDocuments.length>0&&(Oe=!1,re.addedDocuments=o.addedDocuments.map(Je=>this._toModelAddData(Je))),o.addedEditors.length>0&&(Oe=!1,re.addedEditors=A.map(Je=>this._toTextEditorAddData(Je))),Oe||(this._proxy.$acceptDocumentsAndEditorsDelta(re),G.forEach(this._mainThreadDocuments.handleModelRemoved,this._mainThreadDocuments),o.addedDocuments.forEach(this._mainThreadDocuments.handleModelAdded,this._mainThreadDocuments),f.forEach(this._mainThreadEditors.handleTextEditorRemoved,this._mainThreadEditors),A.forEach(this._mainThreadEditors.handleTextEditorAdded,this._mainThreadEditors))}_toModelAddData(o){return{uri:o.uri,versionId:o.getVersionId(),lines:o.getLinesContent(),EOL:o.getEOL(),languageId:o.getLanguageId(),isDirty:this._textFileService.isDirty(o.uri)}}_toTextEditorAddData(o){const f=o.getProperties();return{id:o.getId(),documentUri:o.getModel().uri,options:f.options,selections:f.selections,visibleRanges:f.visibleRanges,editorPosition:this._findEditorPosition(o)}}_findEditorPosition(o){for(const f of this._editorService.visibleEditorPanes)if(o.matches(f))return No(this._editorGroupService,f.group)}findTextEditorIdFor(o){for(const[f,A]of this._textEditors)if(A.matches(o))return f}getIdOfCodeEditor(o){for(const[f,A]of this._textEditors)if(A.getCodeEditor()===o)return f}getEditor(o){return this._textEditors.get(o)}};Ts=(0,l._)([function rd(ie){vl.INSTANCE.registerCustomer(ie)},(0,l.a)(1,Te.q),(0,l.a)(2,S.h),(0,l.a)(3,S.I),(0,l.a)(4,he.$),(0,l.a)(5,S.i),(0,l.a)(6,xe.S),(0,l.a)(7,S.b),(0,l.a)(8,S.g),(0,l.a)(9,S.j),(0,l.a)(10,S.k),(0,l.a)(11,S.f),(0,l.a)(12,le.p),(0,l.a)(13,S.l),(0,l.a)(14,w.TG)],Ts);let Ms=class{constructor(o,f,A){this._markerService=f,this._uriIdentService=A,this._activeOwners=new Set,this._proxy=o.getProxy(_s.ExtHostDiagnostics),this._markerListener=this._markerService.onMarkerChanged(this._forwardMarkers,this)}dispose(){this._markerListener.dispose(),this._activeOwners.forEach(o=>this._markerService.changeAll(o,[])),this._activeOwners.clear()}_forwardMarkers(o){const f=[];for(const A of o){const G=this._markerService.read({resource:A});if(0===G.length)f.push([A,[]]);else{const re=G.filter(Oe=>!this._activeOwners.has(Oe.owner));re.length>0&&f.push([A,re])}}f.length>0&&this._proxy.$acceptMarkersChange(f)}$changeMany(o,f){for(const A of f){const[G,re]=A;if(re)for(const Oe of re){if(Oe.relatedInformation)for(const Je of Oe.relatedInformation)Je.resource=C.o.revive(Je.resource);Oe.code&&"string"!=typeof Oe.code&&(Oe.code.target=C.o.revive(Oe.code.target))}this._markerService.changeOne(o,this._uriIdentService.asCanonicalUri(C.o.revive(G)),re)}this._activeOwners.add(o)}$clear(o){this._markerService.changeAll(o,[]),this._activeOwners.delete(o)}};function Dr(ie,o){return!(o.disableTelemetry||!ie.enableTelemetry||o.extensionTestsLocationURI)}var gd;Ms=(0,l._)([rr(Vo.MainThreadDiagnostics),(0,l.a)(1,u.lT),(0,l.a)(2,S.f)],Ms);let ua=gd=class extends O.JT{constructor(o,f,A,G){super(),this._telemetryService=f,this._environmentService=A,this._productService=G,this._proxy=o.getProxy(_s.ExtHostTelemetry),Dr(this._productService,this._environmentService)&&this._register(f.telemetryLevel.onDidChange(re=>{this._proxy.$onDidChangeTelemetryLevel(re)})),this._proxy.$initializeTelemetryLevel(this.telemetryLevel,this._productService.enabledTelemetryLevels)}get telemetryLevel(){return Dr(this._productService,this._environmentService)?this._telemetryService.telemetryLevel.value:0}$publicLog(o,f=Object.create(null)){f[gd._name]=!0,this._telemetryService.publicLog(o,f)}$publicLog2(o,f){this.$publicLog(o,f)}};ua._name="pluginHostTelemetry",ua=gd=(0,l._)([rr(Vo.MainThreadTelemetry),(0,l.a)(1,ve.b),(0,l.a)(2,Ae.Y),(0,l.a)(3,S.c)],ua);let md=class{constructor(o,f){this._proxy=o.getProxy(Vo.MainThreadBulkEdits),this._versionInformationProvider={getTextDocumentVersion:A=>f.getDocument(A)?.version,getNotebookDocumentVersion:()=>{}}}applyWorkspaceEdit(o,f){const A=(0,H.i)(f,"snippetWorkspaceEdit"),G=Zn.from(o,this._versionInformationProvider,A);return this._proxy.$tryApplyWorkspaceEdit(G)}};md=(0,l._)([(0,l.a)(0,hr)],md);class dl extends dt.fo{constructor(o,f,A,G){super(G),this.resource=o,this.cellEdit=f,this.notebookVersionId=A}static is(o){return o instanceof dl||C.o.isUri(o.resource)&&(0,_.Kn)(o.cellEdit)}static lift(o){return o instanceof dl?o:new dl(o.resource,o.cellEdit,o.notebookVersionId,o.metadata)}}let pd=class{constructor(o,f,A){this._bulkEditService=f,this._logService=A}dispose(){}$tryApplyWorkspaceEdit(o,f){const A=function Sl(ie){const o=Is(ie)?.edits;return o?o.map(f=>{if(dt.Gl.is(f))return dt.Gl.lift(f);if(dt.pH.is(f))return dt.pH.lift(f);if(dl.is(f))return dl.lift(f);throw new Error("Unsupported edit")}):[]}(o);return this._bulkEditService.apply(A,{undoRedoGroupId:f}).then(()=>!0,G=>(this._logService.warn("IGNORING workspace edit",G),!1))}};pd=(0,l._)([rr(Vo.MainThreadBulkEdits),(0,l.a)(1,dt.vu),(0,l.a)(2,P.VZ)],pd);class qd{constructor(o,f,A,G){this._documents=f,this._commands=A,this._uriTransformer=G,this._languageIds=[],this._handlePool=0,this._ids=new Set,this._proxy=o.getProxy(Vo.MainThreadLanguages)}$acceptLanguageIds(o){this._languageIds=o}getLanguages(){var o=this;return(0,d.Z)(function*(){return o._languageIds.slice(0)})()}changeLanguage(o,f){var A=this;return(0,d.Z)(function*(){yield A._proxy.$changeLanguage(o,f);const G=A._documents.getDocumentData(o);if(!G)throw new Error(`document '${o.toString()}' NOT found`);return G.document})()}tokenAtPosition(o,f){var A=this;return(0,d.Z)(function*(){const G=o.version,re=qo.from(f),Oe=yield A._proxy.$tokensAtPosition(o.uri,re),Je={type:wn.Other,range:o.getWordRangeAtPosition(f)??new Fn(f.line,f.character,f.line,f.character)};if(!Oe)return Je;const At={range:Gi.to(Oe.range),type:cs.to(Oe.type)};return At.range.contains(f)&&G===o.version?At:Je})()}createLanguageStatusItem(o,f,A){const G=this._handlePool++,re=this._proxy,Oe=this._ids,Je=`${o.identifier.value}/${f}`;if(Oe.has(Je))throw new Error(`LanguageStatusItem with id '${f}' ALREADY exists`);Oe.add(Je);const At={selector:A,id:f,name:o.displayName??o.name,severity:tn.Information,command:void 0,text:"",detail:"",busy:!1};let mn;const Un=new O.SL,ui=()=>{mn?.dispose(),mn=(0,$.Vg)(()=>{Un.clear(),this._proxy.$setLanguageStatus(G,{id:Je,name:At.name??o.displayName??o.name,source:o.displayName??o.name,selector:cr.from(At.selector,this._uriTransformer),label:At.text,detail:At.detail??"",severity:At.severity===tn.Error?Z.Z.Error:At.severity===tn.Warning?Z.Z.Warning:Z.Z.Info,command:At.command&&this._commands.toInternal(At.command,Un),accessibilityInfo:At.accessibilityInformation,busy:At.busy})},0)},Ei={dispose(){Un.dispose(),mn?.dispose(),re.$removeLanguageStatus(G),Oe.delete(Je)},get id(){return At.id},get name(){return At.name},set name(ei){At.name=ei,ui()},get selector(){return At.selector},set selector(ei){At.selector=ei,ui()},get text(){return At.text},set text(ei){At.text=ei,ui()},get detail(){return At.detail},set detail(ei){At.detail=ei,ui()},get severity(){return At.severity},set severity(ei){At.severity=ei,ui()},get accessibilityInformation(){return At.accessibilityInformation},set accessibilityInformation(ei){At.accessibilityInformation=ei,ui()},get command(){return At.command},set command(ei){At.command=ei,ui()},get busy(){return At.busy},set busy(ei){At.busy=ei,ui()}};return ui(),Ei}}let _d=class{constructor(o,f,A,G,re){this._languageService=f,this._modelService=A,this._resolverService=G,this._languageStatusService=re,this._disposables=new O.SL,this._status=new Map,this._proxy=o.getProxy(_s.ExtHostLanguages),this._proxy.$acceptLanguageIds(f.getRegisteredLanguageIds()),this._disposables.add(f.onDidChange(Oe=>{this._proxy.$acceptLanguageIds(f.getRegisteredLanguageIds())}))}dispose(){this._disposables.dispose();for(const o of this._status.values())o.dispose();this._status.clear()}$changeLanguage(o,f){var A=this;return(0,d.Z)(function*(){if(!A._languageService.isRegisteredLanguageId(f))return Promise.reject(new Error(`Unknown language id: ${f}`));const G=C.o.revive(o),re=yield A._resolverService.createModelReference(G);try{A._modelService.setMode(re.object.textEditorModel,A._languageService.createById(f))}finally{re.dispose()}})()}$tokensAtPosition(o,f){var A=this;return(0,d.Z)(function*(){const G=C.o.revive(o),re=A._modelService.getModel(G);if(!re)return;re.tokenization.tokenizeIfCheap(f.lineNumber);const Oe=re.tokenization.getLineTokens(f.lineNumber),Je=Oe.findTokenIndexAtOffset(f.column-1);return{type:Oe.getStandardTokenType(Je),range:new ot(f.lineNumber,1+Oe.getStartOffset(Je),f.lineNumber,1+Oe.getEndOffset(Je))}})()}$setLanguageStatus(o,f){this._status.get(o)?.dispose(),this._status.set(o,this._languageStatusService.addStatus(f))}$removeLanguageStatus(o){this._status.get(o)?.dispose()}};_d=(0,l._)([rr(Vo.MainThreadLanguages),(0,l.a)(1,pe.O),(0,l.a)(2,Te.q),(0,l.a)(3,xe.S),(0,l.a)(4,S.n)],_d);class ec{constructor(o){o?(this.transformIncoming=o.transformIncoming.bind(o),this.transformOutgoing=o.transformOutgoing.bind(o),this.transformOutgoingURI=o.transformOutgoingURI.bind(o),this.transformOutgoingScheme=o.transformOutgoingScheme.bind(o)):(this.transformIncoming=f=>f,this.transformOutgoing=f=>f,this.transformOutgoingURI=f=>f,this.transformOutgoingScheme=f=>f)}}let Ul=class yu{constructor(o){this._onDidChangeWindowState=new l.E,this.onDidChangeWindowState=this._onDidChangeWindowState.event,this._state=yu.InitialState,this._proxy=o.getProxy(Vo.MainThreadWindow),this._proxy.$getWindowVisibility().then(f=>this.$onDidChangeWindowFocus(f))}get state(){return this._state}$onDidChangeWindowFocus(o){o!==this._state.focused&&(this._state={...this._state,focused:o},this._onDidChangeWindowState.fire(this._state))}openUri(o,f){let A;if("string"==typeof o){A=o;try{o=C.o.parse(o)}catch{return Promise.reject(`Invalid uri - '${o}'`)}}return(0,s.m5)(o.scheme)?Promise.reject("Invalid scheme - cannot be empty"):o.scheme===K.lg.command?Promise.reject(`Invalid scheme '${o.scheme}'`):this._proxy.$openUri(o,A,f)}asExternalUri(o,f){var A=this;return(0,d.Z)(function*(){if((0,s.m5)(o.scheme))return Promise.reject("Invalid scheme - cannot be empty");const G=yield A._proxy.$asExternalUri(o,f);return C.o.from(G)})()}};Ul.InitialState={focused:!0},Ul=(0,l._)([(0,l.a)(0,hr)],Ul);let vd=class{constructor(o,f,A){this.hostService=f,this.openerService=A,this.disposables=new O.SL,this.resolved=new Map,this.proxy=o.getProxy(_s.ExtHostWindow),B.ju.latch(f.onDidChangeFocus)(this.proxy.$onDidChangeWindowFocus,this.proxy,this.disposables)}dispose(){this.disposables.dispose();for(const o of this.resolved.values())o.dispose();this.resolved.clear()}$getWindowVisibility(){return Promise.resolve(this.hostService.hasFocus)}$openUri(o,f,A){var G=this;return(0,d.Z)(function*(){const re=C.o.from(o);let Oe;return Oe=f&&C.o.parse(f).toString()===re.toString()?f:re,G.openerService.open(Oe,{openExternal:!0,allowTunneling:A.allowTunneling,allowContributedOpeners:A.allowContributedOpeners})})()}$asExternalUri(o,f){var A=this;return(0,d.Z)(function*(){return(yield A.openerService.resolveExternalUri(C.o.revive(o),f)).resolved})()}};vd=(0,l._)([rr(Vo.MainThreadWindow),(0,l.a)(1,S.o),(0,l.a)(2,st.v4)],vd);let Cd=class{constructor(o,f){this._clipboardService=f}dispose(){}$readText(){return this._clipboardService.readText()}$writeText(o){return this._clipboardService.writeText(o)}};Cd=(0,l._)([rr(Vo.MainThreadClipboard),(0,l.a)(1,le.p)],Cd);class tc{constructor(o){const f=o.getProxy(Vo.MainThreadClipboard);this.value=Object.freeze({readText:()=>f.$readText(),writeText:A=>f.$writeText(A)})}}class jl{constructor(){this._onDidChangeTelemetryEnabled=new l.E,this.onDidChangeTelemetryEnabled=this._onDidChangeTelemetryEnabled.event,this._onDidChangeTelemetryConfiguration=new l.E,this.onDidChangeTelemetryConfiguration=this._onDidChangeTelemetryConfiguration.event,this._productConfig={usage:!0,error:!0},this._level=0}getTelemetryConfiguration(){return 3===this._level}getTelemetryDetails(){return{isCrashEnabled:this._level>=1,isErrorsEnabled:!!this._productConfig.error&&this._level>=2,isUsageEnabled:!!this._productConfig.usage&&this._level>=3}}$initializeTelemetryLevel(o,f){this._level=o,this._productConfig=f||{usage:!0,error:!0}}$onDidChangeTelemetryLevel(o){this._oldTelemetryEnablement=this.getTelemetryConfiguration(),this._level=o,this._oldTelemetryEnablement!==this.getTelemetryConfiguration()&&this._onDidChangeTelemetryEnabled.fire(this.getTelemetryConfiguration()),this._onDidChangeTelemetryConfiguration.fire(this.getTelemetryDetails())}}function zl(ie){const o=function nc(ie){const o=ie.buffer;if((0,nt.r)()||function bd(ie){for(let o=0,f=ie.length;o<f;o+=4){const A=ie[o+0],G=ie[o+1],re=ie[o+2];ie[o+0]=ie[o+3],ie[o+1]=re,ie[o+2]=G,ie[o+3]=A}}(o),o.byteOffset%4==0)return new Uint32Array(o.buffer,o.byteOffset,o.length/4);{const f=new Uint8Array(o.byteLength);return f.set(o),new Uint32Array(f.buffer,f.byteOffset,f.length/4)}}(ie);let f=0;const A=o[f++];if(1===o[f++]){const Je=o[f++],At=o.subarray(f,f+Je);return f+=Je,{id:A,type:"full",data:At}}const re=o[f++],Oe=[];for(let Je=0;Je<re;Je++){const At=o[f++],mn=o[f++],Un=o[f++];let ui;Un>0&&(ui=o.subarray(f,f+Un),f+=Un),Oe[Je]={start:At,deleteCount:mn,data:ui}}return{id:A,type:"delta",deltas:Oe}}let ea=(()=>{class ie{constructor(f){this.id=f,this._data=new Map,this._idPool=1}add(f){const A=this._idPool++;return this._data.set(A,f),this.logDebugInfo(),A}get(f,A){return this._data.has(f)?this._data.get(f)[A]:void 0}delete(f){this._data.delete(f),this.logDebugInfo()}logDebugInfo(){!ie.enableDebugLogging||console.log(`${this.id} cache size - ${this._data.size}`)}}return ie.enableDebugLogging=!1,ie})();class Kl{constructor(o,f){this._documents=o,this._provider=f}provideDocumentSymbols(o,f){var A=this;return(0,d.Z)(function*(){const G=A._documents.getDocument(o),re=yield A._provider.provideDocumentSymbols(G,f);if(!(0,E.XY)(re))return re[0]instanceof di?re.map(Ni.from):Kl._asDocumentSymbolTree(re)})()}static _asDocumentSymbolTree(o){o=o.slice(0).sort((G,re)=>{let Oe=G.location.range.start.compareTo(re.location.range.start);return 0===Oe&&(Oe=re.location.range.end.compareTo(G.location.range.end)),Oe});const f=[],A=[];for(const G of o){const re={name:G.name||"!!MISSING: name!!",kind:qn.from(G.kind),tags:G.tags?.map(ri.from)||[],detail:"",containerName:G.containerName,range:Gi.from(G.location.range),selectionRange:Gi.from(G.location.range),children:[]};for(;;){if(0===A.length){A.push(re),f.push(re);break}const Oe=A[A.length-1];if(ot.containsRange(Oe.range,re.range)&&!ot.equalsRange(Oe.range,re.range)){Oe.children?.push(re),A.push(re);break}A.pop()}}return f}}let $l=(()=>{class ie{constructor(f,A,G){this._documents=f,this._commands=A,this._provider=G,this._cache=new ea("CodeLens"),this._disposables=new Map}provideCodeLenses(f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(f),Oe=yield G._provider.provideCodeLenses(re,A);if(!Oe||A.isCancellationRequested)return;const Je=G._cache.add(Oe),At=new O.SL;G._disposables.set(Je,At);const mn={cacheId:Je,lenses:[]};for(let Un=0;Un<Oe.length;Un++)mn.lenses.push({cacheId:[Je,Un],range:Gi.from(Oe[Un].range),command:G._commands.toInternal(Oe[Un].command,At)});return mn})()}resolveCodeLens(f,A){var G=this;return(0,d.Z)(function*(){const re=f.cacheId&&G._cache.get(...f.cacheId);if(!re)return;let Oe;if(Oe="function"!=typeof G._provider.resolveCodeLens||re.isResolved?re:yield G._provider.resolveCodeLens(re,A),Oe||(Oe=re),A.isCancellationRequested)return;const Je=f.cacheId&&G._disposables.get(f.cacheId[0]);return Je?(f.command=G._commands.toInternal(Oe.command??ie._badCmd,Je),f):void 0})()}releaseCodeLenses(f){this._disposables.get(f)?.dispose(),this._disposables.delete(f),this._cache.delete(f)}}return ie._badCmd={command:"missing",title:"!!MISSING: command!!"},ie})();function cl(ie){return Array.isArray(ie)?ie.map(po.from):ie?[po.from(ie)]:[]}class Gl{constructor(o,f){this._documents=o,this._provider=f}provideDefinition(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f);return cl(yield G._provider.provideDefinition(re,Oe,A))})()}}class ic{constructor(o,f){this._documents=o,this._provider=f}provideDeclaration(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f);return cl(yield G._provider.provideDeclaration(re,Oe,A))})()}}class ta{constructor(o,f){this._documents=o,this._provider=f}provideImplementation(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f);return cl(yield G._provider.provideImplementation(re,Oe,A))})()}}class wl{constructor(o,f){this._documents=o,this._provider=f}provideTypeDefinition(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f);return cl(yield G._provider.provideTypeDefinition(re,Oe,A))})()}}class Sa{constructor(o,f){this._documents=o,this._provider=f}provideHover(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f),Je=yield G._provider.provideHover(re,Oe,A);if(Je&&!(0,E.XY)(Je.contents))return Je.range||(Je.range=re.getWordRangeAtPosition(Oe)),Je.range||(Je.range=new Fn(Oe,Oe)),Io.from(Je)})()}}class Kr{constructor(o,f){this._documents=o,this._provider=f}provideEvaluatableExpression(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f),Je=yield G._provider.provideEvaluatableExpression(re,Oe,A);if(Je)return Ao.from(Je)})()}}class Fd{constructor(o,f){this._documents=o,this._provider=f}provideInlineValues(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Je=yield re._provider.provideInlineValues(Oe,Gi.to(f),lo.to(A),G);if(Array.isArray(Je))return Je.map(At=>Eo.from(At))})()}}class Dl{constructor(o,f){this._documents=o,this._provider=f}provideDocumentHighlights(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f),Je=yield G._provider.provideDocumentHighlights(re,Oe,A);if(Array.isArray(Je))return Je.map($o.from)})()}}class yd{constructor(o,f){this._documents=o,this._provider=f}provideLinkedEditingRanges(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f),Je=yield G._provider.provideLinkedEditingRanges(re,Oe,A);if(Je&&Array.isArray(Je.ranges))return{ranges:(0,E.kX)(Je.ranges.map(Gi.from)),wordPattern:Je.wordPattern}})()}}class Bd{constructor(o,f){this._documents=o,this._provider=f}provideReferences(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Je=qo.to(f),At=yield re._provider.provideReferences(Oe,Je,A,G);if(Array.isArray(At))return At.map(Xi.from)})()}}let Zl=(()=>{class ie{constructor(f,A,G,re,Oe,Je,At){this._documents=f,this._commands=A,this._diagnostics=G,this._provider=re,this._logService=Oe,this._extension=Je,this._apiDeprecation=At,this._cache=new ea("CodeAction"),this._disposables=new Map}provideCodeActions(f,A,G,re){var Oe=this;return(0,d.Z)(function*(){const Je=Oe._documents.getDocument(f),At=zi.isISelection(A)?Yr.to(A):Gi.to(A),mn=[];for(const Ri of Oe._diagnostics.getDiagnostics(f))if(At.intersection(Ri.range)&&mn.push(Ri)>ie._maxCodeActionsPerFile)break;const Un={diagnostics:mn,only:G.only?new q(G.only):void 0,triggerKind:_l.to(G.trigger)},ui=yield Oe._provider.provideCodeActions(Je,At,Un,re);if(!(0,E.Of)(ui)||re.isCancellationRequested)return;const Ei=Oe._cache.add(ui),ei=new O.SL;Oe._disposables.set(Ei,ei);const _i=[];for(let Ri=0;Ri<ui.length;Ri++){const Bi=ui[Ri];!Bi||(ie._isCommand(Bi)?(Oe._apiDeprecation.report("CodeActionProvider.provideCodeActions - return commands",Oe._extension,"Return 'CodeAction' instances instead."),_i.push({_isSynthetic:!0,title:Bi.title,command:Oe._commands.toInternal(Bi,ei)})):(Un.only&&(Bi.kind?Un.only.contains(Bi.kind)||Oe._logService.warn(`${Oe._extension.identifier.value} - Code actions of kind '${Un.only.value} 'requested but returned code action is of kind '${Bi.kind.value}'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code actions.`):Oe._logService.warn(`${Oe._extension.identifier.value} - Code actions of kind '${Un.only.value} 'requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'.`)),_i.push({cacheId:[Ei,Ri],title:Bi.title,command:Bi.command&&Oe._commands.toInternal(Bi.command,ei),diagnostics:Bi.diagnostics&&Bi.diagnostics.map(Vr.from),edit:Bi.edit&&Zn.from(Bi.edit,void 0,(0,H.i)(Oe._extension,"snippetWorkspaceEdit")),kind:Bi.kind&&Bi.kind.value,isPreferred:Bi.isPreferred,disabled:Bi.disabled?.reason})))}return{cacheId:Ei,actions:_i}})()}resolveCodeAction(f,A){var G=this;return(0,d.Z)(function*(){const[re,Oe]=f,Je=G._cache.get(re,Oe);if(!Je||ie._isCommand(Je)||!G._provider.resolveCodeAction)return;const At=(yield G._provider.resolveCodeAction(Je,A))??Je;return At?.edit?Zn.from(At.edit,void 0,(0,H.i)(G._extension,"snippetWorkspaceEdit")):void 0})()}releaseCodeActions(f){this._disposables.get(f)?.dispose(),this._disposables.delete(f),this._cache.delete(f)}static _isCommand(f){return"string"==typeof f.command&&"string"==typeof f.title}}return ie._maxCodeActionsPerFile=1e3,ie})();class Sd{constructor(o,f,A,G){this._proxy=o,this._documents=f,this._provider=A,this._handle=G}prepareDocumentPaste(o,f,A,G){var re=this;return(0,d.Z)(function*(){if(!re._provider.prepareDocumentPaste)return;const Oe=re._documents.getDocument(o),Je=f.map(mn=>Gi.to(mn)),At=zr.toDataTransfer(A,()=>{throw new t.N});return yield re._provider.prepareDocumentPaste(Oe,Je,At,G),zr.toDataTransferDTO(At)})()}providePasteEdits(o,f,A,G,re){var Oe=this;return(0,d.Z)(function*(){const Je=Oe._documents.getDocument(f),At=A.map(ui=>Gi.to(ui)),mn=zr.toDataTransfer(G,function(){var ui=(0,d.Z)(function*(Ei){return(yield Oe._proxy.$resolvePasteFileData(Oe._handle,o,Ei)).buffer});return function(Ei){return ui.apply(this,arguments)}}()),Un=yield Oe._provider.provideDocumentPasteEdits(Je,At,mn,re);if(Un)return{insertText:"string"==typeof Un.insertText?Un.insertText:{snippet:Un.insertText.value},additionalEdit:Un.additionalEdit?Zn.from(Un.additionalEdit,void 0,!0):void 0}})()}}class Wd{constructor(o,f){this._documents=o,this._provider=f}provideDocumentFormattingEdits(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=yield G._provider.provideDocumentFormattingEdits(re,f,A);if(Array.isArray(Oe))return Oe.map(Xn.from)})()}}class Vd{constructor(o,f){this._documents=o,this._provider=f}provideDocumentRangeFormattingEdits(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Je=Gi.to(f),At=yield re._provider.provideDocumentRangeFormattingEdits(Oe,Je,A,G);if(Array.isArray(At))return At.map(Xn.from)})()}}class Ql{constructor(o,f){this._documents=o,this._provider=f,this.autoFormatTriggerCharacters=[]}provideOnTypeFormattingEdits(o,f,A,G,re){var Oe=this;return(0,d.Z)(function*(){const Je=Oe._documents.getDocument(o),At=qo.to(f),mn=yield Oe._provider.provideOnTypeFormattingEdits(Je,At,A,G,re);if(Array.isArray(mn))return mn.map(Xn.from)})()}}class ul{constructor(o,f){this._provider=o,this._logService=f,this._cache=new ea("WorkspaceSymbols")}provideWorkspaceSymbols(o,f){var A=this;return(0,d.Z)(function*(){const G=yield A._provider.provideWorkspaceSymbols(o,f);if(!(0,E.Of)(G))return{symbols:[]};const re=A._cache.add(G),Oe={cacheId:re,symbols:[]};for(let Je=0;Je<G.length;Je++){const At=G[Je];At&&At.name?Oe.symbols.push({...Mi.from(At),cacheId:[re,Je]}):A._logService.warn("INVALID SymbolInformation",At)}return Oe})()}resolveWorkspaceSymbol(o,f){var A=this;return(0,d.Z)(function*(){if("function"!=typeof A._provider.resolveWorkspaceSymbol||!o.cacheId)return o;const G=A._cache.get(...o.cacheId);if(G){const re=yield A._provider.resolveWorkspaceSymbol(G,f);return re&&(0,b.jB)(o,Mi.from(re),!0)}})()}releaseWorkspaceSymbols(o){this._cache.delete(o)}}class Ya{constructor(o,f,A){this._documents=o,this._provider=f,this._logService=A}static supportsResolving(o){return"function"==typeof o.prepareRename}provideRenameEdits(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Je=qo.to(f);try{const At=yield re._provider.provideRenameEdits(Oe,Je,A,G);return At?Zn.from(At):void 0}catch(At){const mn=Ya._asMessage(At);return mn?{rejectReason:mn,edits:void 0}:Promise.reject(At)}})()}resolveRenameLocation(o,f,A){var G=this;return(0,d.Z)(function*(){if("function"!=typeof G._provider.prepareRename)return Promise.resolve(void 0);const re=G._documents.getDocument(o),Oe=qo.to(f);try{const Je=yield G._provider.prepareRename(re,Oe,A);let At,mn;if(Fn.isRange(Je)?(At=Je,mn=re.getText(Je)):(0,_.Kn)(Je)&&(At=Je.range,mn=Je.placeholder),!At||!mn)return;return At.start.line>Oe.line||At.end.line<Oe.line?void G._logService.warn("INVALID rename location: position line must be within range start/end lines"):{range:Gi.from(At),text:mn}}catch(Je){const At=Ya._asMessage(Je);return At?{rejectReason:At,range:void 0,text:void 0}:Promise.reject(Je)}})()}static _asMessage(o){return"string"==typeof o?o:o instanceof Error&&"string"==typeof o.message?o.message:void 0}}class El{constructor(o,f){this.resultId=o,this.tokens=f}}class vr{constructor(o,f){this._documents=o,this._provider=f,this._nextResultId=1,this._previousResults=new Map}provideDocumentSemanticTokens(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=0!==f?G._previousResults.get(f):null;let Je="string"==typeof Oe?.resultId&&"function"==typeof G._provider.provideDocumentSemanticTokensEdits?yield G._provider.provideDocumentSemanticTokensEdits(re,Oe.resultId,A):yield G._provider.provideDocumentSemanticTokens(re,A);return Oe&&G._previousResults.delete(f),Je?(Je=vr._fixProvidedSemanticTokens(Je),G._send(vr._convertToEdits(Oe,Je),Je)):null})()}releaseDocumentSemanticColoring(o){var f=this;return(0,d.Z)(function*(){f._previousResults.delete(o)})()}static _fixProvidedSemanticTokens(o){return vr._isSemanticTokens(o)?vr._isCorrectSemanticTokens(o)?o:new wr(new Uint32Array(o.data),o.resultId):vr._isSemanticTokensEdits(o)?vr._isCorrectSemanticTokensEdits(o)?o:new ho(o.edits.map(f=>new Br(f.start,f.deleteCount,f.data?new Uint32Array(f.data):f.data)),o.resultId):o}static _isSemanticTokens(o){return o&&!!o.data}static _isCorrectSemanticTokens(o){return o.data instanceof Uint32Array}static _isSemanticTokensEdits(o){return o&&Array.isArray(o.edits)}static _isCorrectSemanticTokensEdits(o){for(const f of o.edits)if(!(f.data instanceof Uint32Array))return!1;return!0}static _convertToEdits(o,f){if(!vr._isSemanticTokens(f)||!o||!o.tokens)return f;const A=o.tokens,G=A.length,re=f.data,Oe=re.length;let Je=0;const At=Math.min(G,Oe);for(;Je<At&&A[Je]===re[Je];)Je++;if(Je===G&&Je===Oe)return new ho([],f.resultId);let mn=0;const Un=At-Je;for(;mn<Un&&A[G-mn-1]===re[Oe-mn-1];)mn++;return new ho([{start:Je,deleteCount:G-Je-mn,data:re.subarray(Je,Oe-mn)}],f.resultId)}_send(o,f){if(vr._isSemanticTokens(o)){const A=this._nextResultId++;return this._previousResults.set(A,new El(o.resultId,o.data)),(0,et.C)({id:A,type:"full",data:o.data})}if(vr._isSemanticTokensEdits(o)){const A=this._nextResultId++;return vr._isSemanticTokens(f)?this._previousResults.set(A,new El(f.resultId,f.data)):this._previousResults.set(A,new El(o.resultId)),(0,et.C)({id:A,type:"delta",deltas:(o.edits||[]).map(G=>({start:G.start,deleteCount:G.deleteCount,data:G.data}))})}return null}}class Yl{constructor(o,f){this._documents=o,this._provider=f}provideDocumentRangeSemanticTokens(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=yield G._provider.provideDocumentRangeSemanticTokens(re,Gi.to(f),A);return Oe?G._send(Oe):null})()}_send(o){return(0,et.C)({id:0,type:"full",data:o.data})}}class Xa{constructor(o,f,A,G,re){this._documents=o,this._commands=f,this._provider=A,this._apiDeprecation=G,this._extension=re,this._cache=new ea("CompletionItem"),this._disposables=new Map}static supportsResolving(o){return"function"==typeof o.resolveCompletionItem}provideCompletionItems(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Je=qo.to(f),At=Oe.getWordRangeAtPosition(Je)||new Fn(Je,Je),mn=At.with({end:Je}),Un=new tt.G(!0),ui=yield re._provider.provideCompletionItems(Oe,Je,G,So.to(A));if(!ui||G.isCancellationRequested)return;const Ei=Array.isArray(ui)?new qt(ui):ui,ei=Xa.supportsResolving(re._provider)?re._cache.add(Ei.items):re._cache.add([]),_i=new O.SL;re._disposables.set(ei,_i);const Ri=[],Bi={x:ei,b:Ri,a:{replace:Gi.from(At),insert:Gi.from(mn)},c:Ei.isIncomplete||void 0,d:Un.elapsed()};for(let bs=0;bs<Ei.items.length;bs++){const Cr=re._convertCompletionItem(Ei.items[bs],[ei,bs],mn,At);Ri.push(Cr)}return Bi})()}resolveCompletionItem(o,f){var A=this;return(0,d.Z)(function*(){if("function"!=typeof A._provider.resolveCompletionItem)return;const G=A._cache.get(...o);if(!G)return;const re=yield A._provider.resolveCompletionItem(G,f);return re?A._convertCompletionItem(re,o):void 0})()}releaseCompletionItems(o){this._disposables.get(o)?.dispose(),this._disposables.delete(o),this._cache.delete(o)}_convertCompletionItem(o,f,A,G){const re=this._disposables.get(f[0]);if(!re)throw Error("DisposableStore is missing...");const Oe={x:f,a:o.label,b:void 0!==o.kind?Lo.from(o.kind):void 0,n:o.tags&&o.tags.map(io.from),c:o.detail,d:typeof o.documentation>"u"?void 0:Pe.fromStrict(o.documentation),e:o.sortText!==o.label?o.sortText:void 0,f:o.filterText!==o.label?o.filterText:void 0,g:o.preselect||void 0,i:o.keepWhitespace?1:0,k:o.commitCharacters,l:o.additionalTextEdits&&o.additionalTextEdits.map(Xn.from),m:this._commands.toInternal(o.command,re)};let Je;return o.textEdit?(this._apiDeprecation.report("CompletionItem.textEdit",this._extension,"Use 'CompletionItem.insertText' and 'CompletionItem.range' instead."),Oe.h=o.textEdit.newText):"string"==typeof o.insertText?Oe.h=o.insertText:o.insertText instanceof En&&(Oe.h=o.insertText.value,Oe.i|=4),o.textEdit?Je=o.textEdit.range:o.range&&(Je=o.range),Fn.isRange(Je)?Oe.j=Gi.from(Je):Je&&(!A?.isEqual(Je.inserting)||!G?.isEqual(Je.replacing))&&(Oe.j={insert:Gi.from(Je.inserting),replace:Gi.from(Je.replacing)}),Oe}}class Ll{provideInlineCompletions(o,f,A,G){return(0,d.Z)(function*(){})()}disposeCompletions(o){}handleDidShowCompletionItem(o,f){}}class oc extends Ll{constructor(o,f,A,G){super(),this._extension=o,this._documents=f,this._provider=A,this._commands=G,this._references=new Hd,this._isAdditionsProposedApiEnabled=(0,H.i)(this._extension,"inlineCompletionsAdditions"),this.languageTriggerKindToVSCodeTriggerKind={[Qe.bw.Automatic]:kr.Automatic,[Qe.bw.Explicit]:kr.Invoke}}get supportsHandleDidShowCompletionItem(){return(0,H.i)(this._extension,"inlineCompletionsAdditions")&&"function"==typeof this._provider.handleDidShowCompletionItem}provideInlineCompletions(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Je=qo.to(f),At=yield re._provider.provideInlineCompletionItems(Oe,Je,{selectedCompletionInfo:A.selectedSuggestionInfo?{range:Gi.to(A.selectedSuggestionInfo.range),text:A.selectedSuggestionInfo.text}:void 0,triggerKind:re.languageTriggerKindToVSCodeTriggerKind[A.triggerKind]},G);if(!At||G.isCancellationRequested)return;const mn=(0,_.kJ)(At)?At:At.items,Un=re._isAdditionsProposedApiEnabled?(0,_.kJ)(At)?[]:At.commands||[]:[];let ui;return{pid:re._references.createReferenceId({dispose(){ui&&ui.dispose()},items:mn}),items:mn.map((ei,_i)=>{let Ri;ei.command&&(ui||(ui=new O.SL),Ri=re._commands.toInternal(ei.command,ui));const Bi=ei.insertText;return{insertText:"string"==typeof Bi?Bi:{snippet:Bi.value},filterText:ei.filterText,range:ei.range?Gi.from(ei.range):void 0,command:Ri,idx:_i,completeBracketPairs:!!re._isAdditionsProposedApiEnabled&&ei.completeBracketPairs}}),commands:Un.map(ei=>(ui||(ui=new O.SL),re._commands.toInternal(ei,ui)))}})()}disposeCompletions(o){this._references.disposeReferenceId(o)?.dispose()}handleDidShowCompletionItem(o,f){const A=this._references.get(o)?.items[f];A&&this._provider.handleDidShowCompletionItem&&this._isAdditionsProposedApiEnabled&&this._provider.handleDidShowCompletionItem(A)}}class sc extends Ll{constructor(o,f,A,G){super(),this.extension=o,this._documents=f,this._provider=A,this._commands=G,this._references=new Hd,this.isAdditionProposedApiEnabled=(0,H.i)(this.extension,"inlineCompletionsAdditions"),this.languageTriggerKindToVSCodeTriggerKind={[Qe.bw.Automatic]:Bs.Automatic,[Qe.bw.Explicit]:Bs.Invoke}}provideInlineCompletions(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Je=qo.to(f),At=yield re._provider.provideInlineCompletionItems(Oe,Je,{selectedCompletionInfo:A.selectedSuggestionInfo?{range:Gi.to(A.selectedSuggestionInfo.range),text:A.selectedSuggestionInfo.text}:void 0,triggerKind:re.languageTriggerKindToVSCodeTriggerKind[A.triggerKind]},G);if(!At||G.isCancellationRequested)return;const mn=(0,_.kJ)(At)?At:At.items,Un=(0,_.kJ)(At)?[]:At.commands||[];let ui;return{pid:re._references.createReferenceId({dispose(){ui&&ui.dispose()},items:mn}),items:mn.map((ei,_i)=>{let Ri;ei.command&&(ui||(ui=new O.SL),Ri=re._commands.toInternal(ei.command,ui));const Bi=ei.insertText;return{insertText:"string"==typeof Bi?Bi:{snippet:Bi.value},filterText:ei.filterText,range:ei.range?Gi.from(ei.range):void 0,command:Ri,idx:_i,completeBracketPairs:!!re.isAdditionProposedApiEnabled&&ei.completeBracketPairs}}),commands:Un.map(ei=>(ui||(ui=new O.SL),re._commands.toInternal(ei,ui)))}})()}disposeCompletions(o){this._references.disposeReferenceId(o)?.dispose()}handleDidShowCompletionItem(o,f){const A=this._references.get(o)?.items[f];A&&this._provider.handleDidShowCompletionItem&&this.isAdditionProposedApiEnabled&&this._provider.handleDidShowCompletionItem(A)}}class Hd{constructor(){this._references=new Map,this._idPool=1}createReferenceId(o){const f=this._idPool++;return this._references.set(f,o),f}disposeReferenceId(o){const f=this._references.get(o);return this._references.delete(o),f}get(o){return this._references.get(o)}}class wd{constructor(o,f){this._documents=o,this._provider=f,this._cache=new ea("SignatureHelp")}provideSignatureHelp(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re._documents.getDocument(o),Je=qo.to(f),At=re.reviveContext(A),mn=yield re._provider.provideSignatureHelp(Oe,Je,G,At);if(mn){const Un=re._cache.add([mn]);return{...ns.from(mn),id:Un}}})()}reviveContext(o){let f;if(o.activeSignatureHelp){const A=ns.to(o.activeSignatureHelp),G=this._cache.get(o.activeSignatureHelp.id,0);G?(f=G,f.activeSignature=A.activeSignature,f.activeParameter=A.activeParameter):f=A}return{...o,activeSignatureHelp:f}}releaseSignatureHelp(o){this._cache.delete(o)}}class Xl{constructor(o,f,A,G,re){this._documents=o,this._commands=f,this._provider=A,this._logService=G,this._extension=re,this._cache=new ea("InlayHints"),this._disposables=new Map}provideInlayHints(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Gi.to(f),Je=yield G._provider.provideInlayHints(re,Oe,A);if(!Array.isArray(Je)||0===Je.length)return void G._logService.trace(`[InlayHints] NO inlay hints from '${G._extension.identifier.value}' for ${f}`);if(A.isCancellationRequested)return;const At=G._cache.add(Je);G._disposables.set(At,new O.SL);const mn={hints:[],cacheId:At};for(let Un=0;Un<Je.length;Un++)G._isValidInlayHint(Je[Un],Oe)&&mn.hints.push(G._convertInlayHint(Je[Un],[At,Un]));return G._logService.trace(`[InlayHints] ${mn.hints.length} inlay hints from '${G._extension.identifier.value}' for ${f}`),mn})()}resolveInlayHint(o,f){var A=this;return(0,d.Z)(function*(){if("function"!=typeof A._provider.resolveInlayHint)return;const G=A._cache.get(...o);if(!G)return;const re=yield A._provider.resolveInlayHint(G,f);return re&&A._isValidInlayHint(re)?A._convertInlayHint(re,o):void 0})()}releaseHints(o){this._disposables.get(o)?.dispose(),this._disposables.delete(o),this._cache.delete(o)}_isValidInlayHint(o,f){return 0===o.label.length||Array.isArray(o.label)&&o.label.every(A=>0===A.value.length)?(console.log("INVALID inlay hint, empty label",o),!1):!(f&&!f.contains(o.position))}_convertInlayHint(o,f){const A=this._disposables.get(f[0]);if(!A)throw Error("DisposableStore is missing...");const G={label:"",cacheId:f,tooltip:Pe.fromStrict(o.tooltip),position:qo.from(o.position),textEdits:o.textEdits&&o.textEdits.map(Xn.from),kind:o.kind&&To.from(o.kind),paddingLeft:o.paddingLeft,paddingRight:o.paddingRight};return G.label="string"==typeof o.label?o.label:o.label.map(re=>{const Oe={label:re.value};return Oe.tooltip=Pe.fromStrict(re.tooltip),Vt.isLocation(re.location)&&(Oe.location=Xi.from(re.location)),re.command&&(Oe.command=this._commands.toInternal(re.command,A)),Oe}),G}}class Fa{constructor(o,f){this._documents=o,this._provider=f,this._cache=new ea("DocumentLink")}provideLinks(o,f){var A=this;return(0,d.Z)(function*(){const G=A._documents.getDocument(o),re=yield A._provider.provideDocumentLinks(G,f);if(Array.isArray(re)&&0!==re.length&&!f.isCancellationRequested){if("function"!=typeof A._provider.resolveDocumentLink)return{links:re.filter(Fa._validateLink).map(as.from)};{const Oe=A._cache.add(re),Je={links:[],cacheId:Oe};for(let At=0;At<re.length;At++){if(!Fa._validateLink(re[At]))continue;const mn=as.from(re[At]);mn.cacheId=[Oe,At],Je.links.push(mn)}return Je}}})()}static _validateLink(o){return!(o.target&&o.target.path.length>5e4&&(console.warn("DROPPING link because it is too long"),1))}resolveLink(o,f){var A=this;return(0,d.Z)(function*(){if("function"!=typeof A._provider.resolveDocumentLink)return;const G=A._cache.get(...o);if(!G)return;const re=yield A._provider.resolveDocumentLink(G,f);return re&&Fa._validateLink(re)?as.from(re):void 0})()}releaseLinks(o){this._cache.delete(o)}}class wa{constructor(o,f){this._documents=o,this._provider=f}provideColors(o,f){var A=this;return(0,d.Z)(function*(){const G=A._documents.getDocument(o),re=yield A._provider.provideDocumentColors(G,f);return Array.isArray(re)?re.map(Je=>({color:es.from(Je.color),range:Gi.from(Je.range)})):[]})()}provideColorPresentations(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=Gi.to(f.range),Je=es.to(f.color),At=yield G._provider.provideColorPresentations(Je,{document:re,range:Oe},A);if(Array.isArray(At))return At.map(zs.from)})()}}class Ba{constructor(o,f){this._documents=o,this._provider=f}provideFoldingRanges(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=yield G._provider.provideFoldingRanges(re,f,A);if(Array.isArray(Oe))return Oe.map(Ii.from)})()}}class Wa{constructor(o,f,A){this._documents=o,this._provider=f,this._logService=A}provideSelectionRanges(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=f.map(qo.to),Je=yield G._provider.provideSelectionRanges(re,Oe,A);if(!(0,E.Of)(Je))return[];if(Je.length!==Oe.length)return G._logService.warn("BAD selection ranges, provider must return ranges for each position"),[];const At=[];for(let mn=0;mn<Oe.length;mn++){const Un=[];At.push(Un);let ui=Oe[mn],Ei=Je[mn];for(;;){if(!Ei.range.contains(ui))throw new Error("INVALID selection range, must contain the previous range");if(Un.push(Gs.from(Ei)),!Ei.parent)break;ui=Ei.range,Ei=Ei.parent}}return At})()}}class na{constructor(o,f){this._documents=o,this._provider=f,this._idPool=new ke.R(""),this._cache=new Map}prepareSession(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f),Je=yield G._provider.prepareCallHierarchy(re,Oe,A);if(!Je)return;const At=G._idPool.nextId();return G._cache.set(At,new Map),Array.isArray(Je)?Je.map(mn=>G._cacheAndConvertItem(At,mn)):[G._cacheAndConvertItem(At,Je)]})()}provideCallsTo(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._itemFromCache(o,f);if(!re)throw new Error("missing call hierarchy item");const Oe=yield G._provider.provideCallHierarchyIncomingCalls(re,A);if(Oe)return Oe.map(Je=>({from:G._cacheAndConvertItem(o,Je.from),fromRanges:Je.fromRanges.map(At=>Gi.from(At))}))})()}provideCallsFrom(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._itemFromCache(o,f);if(!re)throw new Error("missing call hierarchy item");const Oe=yield G._provider.provideCallHierarchyOutgoingCalls(re,A);if(Oe)return Oe.map(Je=>({to:G._cacheAndConvertItem(o,Je.to),fromRanges:Je.fromRanges.map(At=>Gi.from(At))}))})()}releaseSession(o){this._cache.delete(o)}_cacheAndConvertItem(o,f){const A=this._cache.get(o),G=Vi.from(f,o,A.size.toString(36));return A.set(G._itemId,f),G}_itemFromCache(o,f){return this._cache.get(o)?.get(f)}}class ia{constructor(o,f){this._documents=o,this._provider=f,this._idPool=new ke.R(""),this._cache=new Map}prepareSession(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documents.getDocument(o),Oe=qo.to(f),Je=yield G._provider.prepareTypeHierarchy(re,Oe,A);if(!Je)return;const At=G._idPool.nextId();return G._cache.set(At,new Map),Array.isArray(Je)?Je.map(mn=>G._cacheAndConvertItem(At,mn)):[G._cacheAndConvertItem(At,Je)]})()}provideSupertypes(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._itemFromCache(o,f);if(!re)throw new Error("missing type hierarchy item");const Oe=yield G._provider.provideTypeHierarchySupertypes(re,A);if(Oe)return Oe.map(Je=>G._cacheAndConvertItem(o,Je))})()}provideSubtypes(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._itemFromCache(o,f);if(!re)throw new Error("missing type hierarchy item");const Oe=yield G._provider.provideTypeHierarchySubtypes(re,A);if(Oe)return Oe.map(Je=>G._cacheAndConvertItem(o,Je))})()}releaseSession(o){this._cache.delete(o)}_cacheAndConvertItem(o,f){const A=this._cache.get(o),G=Ol.from(f,o,A.size.toString(36));return A.set(G._itemId,f),G}_itemFromCache(o,f){return this._cache.get(o)?.get(f)}}class Va{constructor(o,f,A,G){this._proxy=o,this._documents=f,this._provider=A,this._handle=G}provideDocumentOnDropEdits(o,f,A,G,re){var Oe=this;return(0,d.Z)(function*(){const Je=Oe._documents.getDocument(f),At=qo.to(A),mn=zr.toDataTransfer(G,function(){var ui=(0,d.Z)(function*(Ei){return(yield Oe._proxy.$resolveDocumentOnDropFileData(Oe._handle,o,Ei)).buffer});return function(Ei){return ui.apply(this,arguments)}}()),Un=yield Oe._provider.provideDocumentDropEdits(Je,At,mn,re);if(Un)return{insertText:"string"==typeof Un.insertText?Un.insertText:{snippet:Un.insertText.value},additionalEdit:Un.additionalEdit?Zn.from(Un.additionalEdit,void 0,!0):void 0}})()}}class ha{constructor(o,f){this.adapter=o,this.extension=f}}let Ja=(()=>{class ie{constructor(f,A,G,re,Oe,Je,At){this._adapter=new Map,this._uriTransformer=A,this._proxy=f.getProxy(Vo.MainThreadLanguageFeatures),this._documents=G,this._commands=re,this._diagnostics=Oe,this._logService=Je,this._apiDeprecation=At}_transformDocumentSelector(f){return cr.from(f,this._uriTransformer)}_createDisposable(f){return new ln(()=>{this._adapter.delete(f),this._proxy.$unregister(f)})}_nextHandle(){return ie._handlePool++}_withAdapter(f,A,G,re,Oe,Je=!1){var At=this;return(0,d.Z)(function*(){const mn=At._adapter.get(f);if(!(mn&&mn.adapter instanceof A))return re;const Un=Date.now();Je||At._logService.trace(`[${mn.extension.identifier.value}] INVOKE provider '${G.toString().replace(/[\r\n]/g,"")}'`);const ui=G(mn.adapter,mn.extension);return Promise.resolve(ui).catch(Ei=>{(0,T.n2)(Ei)||(At._logService.error(`[${mn.extension.identifier.value}] provider FAILED`),At._logService.error(Ei))}).finally(()=>{Je||At._logService.trace(`[${mn.extension.identifier.value}] provider DONE after ${Date.now()-Un}ms`)}),j.T.isCancellationToken(Oe)?(0,H.r)(ui,Oe):ui})()}_addNewAdapter(f,A){const G=this._nextHandle();return this._adapter.set(G,new ha(f,A)),G}static _extLabel(f){return f.displayName||f.name}registerDocumentSymbolProvider(f,A,G,re){const Oe=this._addNewAdapter(new Kl(this._documents,G),f),Je=re&&re.label||ie._extLabel(f);return this._proxy.$registerDocumentSymbolProvider(Oe,this._transformDocumentSelector(A),Je),this._createDisposable(Oe)}$provideDocumentSymbols(f,A,G){return this._withAdapter(f,Kl,re=>re.provideDocumentSymbols(C.o.revive(A),G),void 0,G)}registerCodeLensProvider(f,A,G){const re=this._nextHandle(),Oe="function"==typeof G.onDidChangeCodeLenses?this._nextHandle():void 0;this._adapter.set(re,new ha(new $l(this._documents,this._commands.converter,G),f)),this._proxy.$registerCodeLensSupport(re,this._transformDocumentSelector(A),Oe);let Je=this._createDisposable(re);if(void 0!==Oe){const At=G.onDidChangeCodeLenses(mn=>this._proxy.$emitCodeLensEvent(Oe));Je=ln.from(Je,At)}return Je}$provideCodeLenses(f,A,G){return this._withAdapter(f,$l,re=>re.provideCodeLenses(C.o.revive(A),G),void 0,G)}$resolveCodeLens(f,A,G){return this._withAdapter(f,$l,re=>re.resolveCodeLens(A,G),void 0,void 0)}$releaseCodeLenses(f,A){this._withAdapter(f,$l,G=>Promise.resolve(G.releaseCodeLenses(A)),void 0,void 0)}registerDefinitionProvider(f,A,G){const re=this._addNewAdapter(new Gl(this._documents,G),f);return this._proxy.$registerDefinitionSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDefinition(f,A,G,re){return this._withAdapter(f,Gl,Oe=>Oe.provideDefinition(C.o.revive(A),G,re),[],re)}registerDeclarationProvider(f,A,G){const re=this._addNewAdapter(new ic(this._documents,G),f);return this._proxy.$registerDeclarationSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDeclaration(f,A,G,re){return this._withAdapter(f,ic,Oe=>Oe.provideDeclaration(C.o.revive(A),G,re),[],re)}registerImplementationProvider(f,A,G){const re=this._addNewAdapter(new ta(this._documents,G),f);return this._proxy.$registerImplementationSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideImplementation(f,A,G,re){return this._withAdapter(f,ta,Oe=>Oe.provideImplementation(C.o.revive(A),G,re),[],re)}registerTypeDefinitionProvider(f,A,G){const re=this._addNewAdapter(new wl(this._documents,G),f);return this._proxy.$registerTypeDefinitionSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideTypeDefinition(f,A,G,re){return this._withAdapter(f,wl,Oe=>Oe.provideTypeDefinition(C.o.revive(A),G,re),[],re)}registerHoverProvider(f,A,G,re){const Oe=this._addNewAdapter(new Sa(this._documents,G),f);return this._proxy.$registerHoverProvider(Oe,this._transformDocumentSelector(A)),this._createDisposable(Oe)}$provideHover(f,A,G,re){return this._withAdapter(f,Sa,Oe=>Oe.provideHover(C.o.revive(A),G,re),void 0,re)}registerEvaluatableExpressionProvider(f,A,G,re){const Oe=this._addNewAdapter(new Kr(this._documents,G),f);return this._proxy.$registerEvaluatableExpressionProvider(Oe,this._transformDocumentSelector(A)),this._createDisposable(Oe)}$provideEvaluatableExpression(f,A,G,re){return this._withAdapter(f,Kr,Oe=>Oe.provideEvaluatableExpression(C.o.revive(A),G,re),void 0,re)}registerInlineValuesProvider(f,A,G,re){const Oe="function"==typeof G.onDidChangeInlineValues?this._nextHandle():void 0,Je=this._addNewAdapter(new Fd(this._documents,G),f);this._proxy.$registerInlineValuesProvider(Je,this._transformDocumentSelector(A),Oe);let At=this._createDisposable(Je);if(void 0!==Oe){const mn=G.onDidChangeInlineValues(Un=>this._proxy.$emitInlineValuesEvent(Oe));At=ln.from(At,mn)}return At}$provideInlineValues(f,A,G,re,Oe){return this._withAdapter(f,Fd,Je=>Je.provideInlineValues(C.o.revive(A),G,re,Oe),void 0,Oe)}registerDocumentHighlightProvider(f,A,G){const re=this._addNewAdapter(new Dl(this._documents,G),f);return this._proxy.$registerDocumentHighlightProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDocumentHighlights(f,A,G,re){return this._withAdapter(f,Dl,Oe=>Oe.provideDocumentHighlights(C.o.revive(A),G,re),void 0,re)}registerLinkedEditingRangeProvider(f,A,G){const re=this._addNewAdapter(new yd(this._documents,G),f);return this._proxy.$registerLinkedEditingRangeProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideLinkedEditingRanges(f,A,G,re){return this._withAdapter(f,yd,function(){var Oe=(0,d.Z)(function*(Je){const At=yield Je.provideLinkedEditingRanges(C.o.revive(A),G,re);if(At)return{ranges:At.ranges,wordPattern:At.wordPattern?ie._serializeRegExp(At.wordPattern):void 0}});return function(Je){return Oe.apply(this,arguments)}}(),void 0,re)}registerReferenceProvider(f,A,G){const re=this._addNewAdapter(new Bd(this._documents,G),f);return this._proxy.$registerReferenceSupport(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideReferences(f,A,G,re,Oe){return this._withAdapter(f,Bd,Je=>Je.provideReferences(C.o.revive(A),G,re,Oe),void 0,Oe)}registerCodeActionProvider(f,A,G,re){const Oe=new O.SL,Je=this._addNewAdapter(new Zl(this._documents,this._commands.converter,this._diagnostics,G,this._logService,f,this._apiDeprecation),f);return this._proxy.$registerQuickFixSupport(Je,this._transformDocumentSelector(A),{providedKinds:re?.providedCodeActionKinds?.map(At=>At.value),documentation:re?.documentation?.map(At=>({kind:At.kind.value,command:this._commands.converter.toInternal(At.command,Oe)}))},ie._extLabel(f),Boolean(G.resolveCodeAction)),Oe.add(this._createDisposable(Je)),Oe}$provideCodeActions(f,A,G,re,Oe){return this._withAdapter(f,Zl,Je=>Je.provideCodeActions(C.o.revive(A),G,re,Oe),void 0,Oe)}$resolveCodeAction(f,A,G){return this._withAdapter(f,Zl,re=>re.resolveCodeAction(A,G),void 0,void 0)}$releaseCodeActions(f,A){this._withAdapter(f,Zl,G=>Promise.resolve(G.releaseCodeActions(A)),void 0,void 0)}registerDocumentFormattingEditProvider(f,A,G){const re=this._addNewAdapter(new Wd(this._documents,G),f);return this._proxy.$registerDocumentFormattingSupport(re,this._transformDocumentSelector(A),f.identifier,f.displayName||f.name),this._createDisposable(re)}$provideDocumentFormattingEdits(f,A,G,re){return this._withAdapter(f,Wd,Oe=>Oe.provideDocumentFormattingEdits(C.o.revive(A),G,re),void 0,re)}registerDocumentRangeFormattingEditProvider(f,A,G){const re=this._addNewAdapter(new Vd(this._documents,G),f);return this._proxy.$registerRangeFormattingSupport(re,this._transformDocumentSelector(A),f.identifier,f.displayName||f.name),this._createDisposable(re)}$provideDocumentRangeFormattingEdits(f,A,G,re,Oe){return this._withAdapter(f,Vd,Je=>Je.provideDocumentRangeFormattingEdits(C.o.revive(A),G,re,Oe),void 0,Oe)}registerOnTypeFormattingEditProvider(f,A,G,re){const Oe=this._addNewAdapter(new Ql(this._documents,G),f);return this._proxy.$registerOnTypeFormattingSupport(Oe,this._transformDocumentSelector(A),re,f.identifier),this._createDisposable(Oe)}$provideOnTypeFormattingEdits(f,A,G,re,Oe,Je){return this._withAdapter(f,Ql,At=>At.provideOnTypeFormattingEdits(C.o.revive(A),G,re,Oe,Je),void 0,Je)}registerWorkspaceSymbolProvider(f,A){const G=this._addNewAdapter(new ul(A,this._logService),f);return this._proxy.$registerNavigateTypeSupport(G,"function"==typeof A.resolveWorkspaceSymbol),this._createDisposable(G)}$provideWorkspaceSymbols(f,A,G){return this._withAdapter(f,ul,re=>re.provideWorkspaceSymbols(A,G),{symbols:[]},G)}$resolveWorkspaceSymbol(f,A,G){return this._withAdapter(f,ul,re=>re.resolveWorkspaceSymbol(A,G),void 0,void 0)}$releaseWorkspaceSymbols(f,A){this._withAdapter(f,ul,G=>G.releaseWorkspaceSymbols(A),void 0,void 0)}registerRenameProvider(f,A,G){const re=this._addNewAdapter(new Ya(this._documents,G,this._logService),f);return this._proxy.$registerRenameSupport(re,this._transformDocumentSelector(A),Ya.supportsResolving(G)),this._createDisposable(re)}$provideRenameEdits(f,A,G,re,Oe){return this._withAdapter(f,Ya,Je=>Je.provideRenameEdits(C.o.revive(A),G,re,Oe),void 0,Oe)}$resolveRenameLocation(f,A,G,re){return this._withAdapter(f,Ya,Oe=>Oe.resolveRenameLocation(C.o.revive(A),G,re),void 0,re)}registerDocumentSemanticTokensProvider(f,A,G,re){const Oe=this._addNewAdapter(new vr(this._documents,G),f),Je="function"==typeof G.onDidChangeSemanticTokens?this._nextHandle():void 0;this._proxy.$registerDocumentSemanticTokensProvider(Oe,this._transformDocumentSelector(A),re,Je);let At=this._createDisposable(Oe);if(Je){const mn=G.onDidChangeSemanticTokens(Un=>this._proxy.$emitDocumentSemanticTokensEvent(Je));At=ln.from(At,mn)}return At}$provideDocumentSemanticTokens(f,A,G,re){return this._withAdapter(f,vr,Oe=>Oe.provideDocumentSemanticTokens(C.o.revive(A),G,re),null,re)}$releaseDocumentSemanticTokens(f,A){this._withAdapter(f,vr,G=>G.releaseDocumentSemanticColoring(A),void 0,void 0)}registerDocumentRangeSemanticTokensProvider(f,A,G,re){const Oe=this._addNewAdapter(new Yl(this._documents,G),f);return this._proxy.$registerDocumentRangeSemanticTokensProvider(Oe,this._transformDocumentSelector(A),re),this._createDisposable(Oe)}$provideDocumentRangeSemanticTokens(f,A,G,re){return this._withAdapter(f,Yl,Oe=>Oe.provideDocumentRangeSemanticTokens(C.o.revive(A),G,re),null,re)}registerCompletionItemProvider(f,A,G,re){const Oe=this._addNewAdapter(new Xa(this._documents,this._commands.converter,G,this._apiDeprecation,f),f);return this._proxy.$registerCompletionsProvider(Oe,this._transformDocumentSelector(A),re,Xa.supportsResolving(G),`${f.identifier.value}(${re.join("")})`),this._createDisposable(Oe)}$provideCompletionItems(f,A,G,re,Oe){return this._withAdapter(f,Xa,Je=>Je.provideCompletionItems(C.o.revive(A),G,re,Oe),void 0,Oe)}$resolveCompletionItem(f,A,G){return this._withAdapter(f,Xa,re=>re.resolveCompletionItem(A,G),void 0,G)}$releaseCompletionItems(f,A){this._withAdapter(f,Xa,G=>G.releaseCompletionItems(A),void 0,void 0)}registerInlineCompletionsProvider(f,A,G){const re=new oc(f,this._documents,G,this._commands.converter),Oe=this._addNewAdapter(re,f);return this._proxy.$registerInlineCompletionsSupport(Oe,this._transformDocumentSelector(A),re.supportsHandleDidShowCompletionItem),this._createDisposable(Oe)}registerInlineCompletionsProviderNew(f,A,G){const re=this._addNewAdapter(new sc(f,this._documents,G,this._commands.converter),f);return this._proxy.$registerInlineCompletionsSupport(re,this._transformDocumentSelector(A),!0),this._createDisposable(re)}$provideInlineCompletions(f,A,G,re,Oe){return this._withAdapter(f,Ll,Je=>Je.provideInlineCompletions(C.o.revive(A),G,re,Oe),void 0,Oe)}$handleInlineCompletionDidShow(f,A,G){this._withAdapter(f,Ll,function(){var re=(0,d.Z)(function*(Oe){Oe.handleDidShowCompletionItem(A,G)});return function(Oe){return re.apply(this,arguments)}}(),void 0,void 0)}$freeInlineCompletionsList(f,A){this._withAdapter(f,Ll,function(){var G=(0,d.Z)(function*(re){re.disposeCompletions(A)});return function(re){return G.apply(this,arguments)}}(),void 0,void 0)}registerSignatureHelpProvider(f,A,G,re){const Oe=Array.isArray(re)?{triggerCharacters:re,retriggerCharacters:[]}:re,Je=this._addNewAdapter(new wd(this._documents,G),f);return this._proxy.$registerSignatureHelpProvider(Je,this._transformDocumentSelector(A),Oe),this._createDisposable(Je)}$provideSignatureHelp(f,A,G,re,Oe){return this._withAdapter(f,wd,Je=>Je.provideSignatureHelp(C.o.revive(A),G,re,Oe),void 0,Oe)}$releaseSignatureHelp(f,A){this._withAdapter(f,wd,G=>G.releaseSignatureHelp(A),void 0,void 0)}registerInlayHintsProvider(f,A,G){const re="function"==typeof G.onDidChangeInlayHints?this._nextHandle():void 0,Oe=this._addNewAdapter(new Xl(this._documents,this._commands.converter,G,this._logService,f),f);this._proxy.$registerInlayHintsProvider(Oe,this._transformDocumentSelector(A),"function"==typeof G.resolveInlayHint,re,ie._extLabel(f));let Je=this._createDisposable(Oe);if(void 0!==re){const At=G.onDidChangeInlayHints(mn=>this._proxy.$emitInlayHintsEvent(re));Je=ln.from(Je,At)}return Je}$provideInlayHints(f,A,G,re){return this._withAdapter(f,Xl,Oe=>Oe.provideInlayHints(C.o.revive(A),G,re),void 0,re)}$resolveInlayHint(f,A,G){return this._withAdapter(f,Xl,re=>re.resolveInlayHint(A,G),void 0,G)}$releaseInlayHints(f,A){this._withAdapter(f,Xl,G=>G.releaseHints(A),void 0,void 0)}registerDocumentLinkProvider(f,A,G){const re=this._addNewAdapter(new Fa(this._documents,G),f);return this._proxy.$registerDocumentLinkProvider(re,this._transformDocumentSelector(A),"function"==typeof G.resolveDocumentLink),this._createDisposable(re)}$provideDocumentLinks(f,A,G){return this._withAdapter(f,Fa,re=>re.provideLinks(C.o.revive(A),G),void 0,G,"output"===A.scheme)}$resolveDocumentLink(f,A,G){return this._withAdapter(f,Fa,re=>re.resolveLink(A,G),void 0,void 0,!0)}$releaseDocumentLinks(f,A){this._withAdapter(f,Fa,G=>G.releaseLinks(A),void 0,void 0,!0)}registerColorProvider(f,A,G){const re=this._addNewAdapter(new wa(this._documents,G),f);return this._proxy.$registerDocumentColorProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDocumentColors(f,A,G){return this._withAdapter(f,wa,re=>re.provideColors(C.o.revive(A),G),[],G)}$provideColorPresentations(f,A,G,re){return this._withAdapter(f,wa,Oe=>Oe.provideColorPresentations(C.o.revive(A),G,re),void 0,re)}registerFoldingRangeProvider(f,A,G){const re=this._nextHandle(),Oe="function"==typeof G.onDidChangeFoldingRanges?this._nextHandle():void 0;this._adapter.set(re,new ha(new Ba(this._documents,G),f)),this._proxy.$registerFoldingRangeProvider(re,this._transformDocumentSelector(A),Oe);let Je=this._createDisposable(re);if(void 0!==Oe){const At=G.onDidChangeFoldingRanges(()=>this._proxy.$emitFoldingRangeEvent(Oe));Je=ln.from(Je,At)}return Je}$provideFoldingRanges(f,A,G,re){return this._withAdapter(f,Ba,Oe=>Oe.provideFoldingRanges(C.o.revive(A),G,re),void 0,re)}registerSelectionRangeProvider(f,A,G){const re=this._addNewAdapter(new Wa(this._documents,G,this._logService),f);return this._proxy.$registerSelectionRangeProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideSelectionRanges(f,A,G,re){return this._withAdapter(f,Wa,Oe=>Oe.provideSelectionRanges(C.o.revive(A),G,re),[],re)}registerCallHierarchyProvider(f,A,G){const re=this._addNewAdapter(new na(this._documents,G),f);return this._proxy.$registerCallHierarchyProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$prepareCallHierarchy(f,A,G,re){return this._withAdapter(f,na,Oe=>Promise.resolve(Oe.prepareSession(C.o.revive(A),G,re)),void 0,re)}$provideCallHierarchyIncomingCalls(f,A,G,re){return this._withAdapter(f,na,Oe=>Oe.provideCallsTo(A,G,re),void 0,re)}$provideCallHierarchyOutgoingCalls(f,A,G,re){return this._withAdapter(f,na,Oe=>Oe.provideCallsFrom(A,G,re),void 0,re)}$releaseCallHierarchy(f,A){this._withAdapter(f,na,G=>Promise.resolve(G.releaseSession(A)),void 0,void 0)}registerTypeHierarchyProvider(f,A,G){const re=this._addNewAdapter(new ia(this._documents,G),f);return this._proxy.$registerTypeHierarchyProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$prepareTypeHierarchy(f,A,G,re){return this._withAdapter(f,ia,Oe=>Promise.resolve(Oe.prepareSession(C.o.revive(A),G,re)),void 0,re)}$provideTypeHierarchySupertypes(f,A,G,re){return this._withAdapter(f,ia,Oe=>Oe.provideSupertypes(A,G,re),void 0,re)}$provideTypeHierarchySubtypes(f,A,G,re){return this._withAdapter(f,ia,Oe=>Oe.provideSubtypes(A,G,re),void 0,re)}$releaseTypeHierarchy(f,A){this._withAdapter(f,ia,G=>Promise.resolve(G.releaseSession(A)),void 0,void 0)}registerDocumentOnDropEditProvider(f,A,G){const re=this._nextHandle();return this._adapter.set(re,new ha(new Va(this._proxy,this._documents,G,re),f)),this._proxy.$registerDocumentOnDropEditProvider(re,this._transformDocumentSelector(A)),this._createDisposable(re)}$provideDocumentOnDropEdits(f,A,G,re,Oe,Je){return this._withAdapter(f,Va,At=>Promise.resolve(At.provideDocumentOnDropEdits(A,C.o.revive(G),re,Oe,Je)),void 0,void 0)}registerDocumentPasteEditProvider(f,A,G,re){const Oe=this._nextHandle();return this._adapter.set(Oe,new ha(new Sd(this._proxy,this._documents,G,Oe),f)),this._proxy.$registerPasteEditProvider(Oe,this._transformDocumentSelector(A),!!G.prepareDocumentPaste,re.pasteMimeTypes),this._createDisposable(Oe)}$prepareDocumentPaste(f,A,G,re,Oe){return this._withAdapter(f,Sd,Je=>Je.prepareDocumentPaste(C.o.revive(A),G,re,Oe),void 0,Oe)}$providePasteEdits(f,A,G,re,Oe,Je){return this._withAdapter(f,Sd,At=>At.providePasteEdits(A,C.o.revive(G),re,Oe,Je),void 0,Je)}static _serializeRegExp(f){return{pattern:f.source,flags:(0,s.mr)(f)}}static _serializeIndentationRule(f){return{decreaseIndentPattern:ie._serializeRegExp(f.decreaseIndentPattern),increaseIndentPattern:ie._serializeRegExp(f.increaseIndentPattern),indentNextLinePattern:f.indentNextLinePattern?ie._serializeRegExp(f.indentNextLinePattern):void 0,unIndentedLinePattern:f.unIndentedLinePattern?ie._serializeRegExp(f.unIndentedLinePattern):void 0}}static _serializeOnEnterRule(f){return{beforeText:ie._serializeRegExp(f.beforeText),afterText:f.afterText?ie._serializeRegExp(f.afterText):void 0,previousLineText:f.previousLineText?ie._serializeRegExp(f.previousLineText):void 0,action:f.action}}static _serializeOnEnterRules(f){return f.map(ie._serializeOnEnterRule)}setLanguageConfiguration(f,A,G){const{wordPattern:re}=G;if(re&&(0,s.IO)(re))throw new Error(`Invalid language configuration: wordPattern '${re}' is not allowed to match the empty string.`);this._documents.setWordDefinitionFor(A,re||void 0),G.__electricCharacterSupport&&this._apiDeprecation.report("LanguageConfiguration.__electricCharacterSupport",f,"Do not use."),G.__characterPairSupport&&this._apiDeprecation.report("LanguageConfiguration.__characterPairSupport",f,"Do not use.");const Oe=this._nextHandle(),Je={comments:G.comments,brackets:G.brackets,wordPattern:G.wordPattern?ie._serializeRegExp(G.wordPattern):void 0,indentationRules:G.indentationRules?ie._serializeIndentationRule(G.indentationRules):void 0,onEnterRules:G.onEnterRules?ie._serializeOnEnterRules(G.onEnterRules):void 0,__electricCharacterSupport:G.__electricCharacterSupport,__characterPairSupport:G.__characterPairSupport};return this._proxy.$setLanguageConfiguration(Oe,A,Je),this._createDisposable(Oe)}$setWordDefinitions(f){for(const A of f)this._documents.setWordDefinitionFor(A.languageId,new RegExp(A.regexSource,A.regexFlags))}}return ie._handlePool=0,ie})();class xl{constructor(){this.requestIdPool=0,this.dataTransfers=new Map}add(o){const f=this.requestIdPool++;return this.dataTransfers.set(f,[...o.values()]),{id:f,dispose:()=>{this.dataTransfers.delete(f)}}}resolveDropFileData(o,f){var A=this;return(0,d.Z)(function*(){const G=A.dataTransfers.get(o);if(!G)throw new Error("No data transfer found");const re=G[f]?.asFile();if(!re)throw new Error("No file item found in data transfer");return D.KN.wrap(yield re.data())})()}dispose(){this.dataTransfers.clear()}}const rc=new vt.c;var Jl;!function(ie){const o=[];ie.register=function f(G){let re=G;return re&&o.push(re),{dispose(){if(re){const Oe=o.indexOf(re);Oe>=0&&(o.splice(Oe,1),re=void 0)}}}},ie.all=function A(){return o.slice(0)}}(Jl||(Jl={}));const Il=new vt.c;var Xo;let hl=Xo=class extends O.JT{constructor(o,f,A,G){if(super(),this._languageService=f,this._languageConfigurationService=A,this._languageFeaturesService=G,this._registrations=new Map,this._pasteEditProviders=new Map,this._documentOnDropEditProviders=new Map,this._proxy=o.getProxy(_s.ExtHostLanguageFeatures),this._languageService){const re=()=>{const Oe=[];for(const Je of f.getRegisteredLanguageIds()){const At=this._languageConfigurationService.getLanguageConfiguration(Je).getWordDefinition();Oe.push({languageId:Je,regexSource:At.source,regexFlags:At.flags})}this._proxy.$setWordDefinitions(Oe)};this._languageConfigurationService.onDidChange(Oe=>{if(Oe.languageId){const Je=this._languageConfigurationService.getLanguageConfiguration(Oe.languageId).getWordDefinition();this._proxy.$setWordDefinitions([{languageId:Oe.languageId,regexSource:Je.source,regexFlags:Je.flags}])}else re()}),re()}}dispose(){for(const o of this._registrations.values())o.dispose();this._registrations.clear(),super.dispose()}$unregister(o){const f=this._registrations.get(o);f&&(f.dispose(),this._registrations.delete(o))}static _reviveLocationDto(o){return o&&(Array.isArray(o)?(o.forEach(f=>Xo._reviveLocationDto(f)),o):(o.uri=C.o.revive(o.uri),o))}static _reviveLocationLinkDto(o){return o&&(Array.isArray(o)?(o.forEach(f=>Xo._reviveLocationLinkDto(f)),o):(o.uri=C.o.revive(o.uri),o))}static _reviveWorkspaceSymbolDto(o){return o&&(Array.isArray(o)?(o.forEach(Xo._reviveWorkspaceSymbolDto),o):(o.location=Xo._reviveLocationDto(o.location),o))}static _reviveCodeActionDto(o){return o?.forEach(f=>Is(f.edit)),o}static _reviveLinkDTO(o){return o.url&&"string"!=typeof o.url&&(o.url=C.o.revive(o.url)),o}static _reviveCallHierarchyItemDto(o){return o&&(o.uri=C.o.revive(o.uri)),o}static _reviveTypeHierarchyItemDto(o){return o&&(o.uri=C.o.revive(o.uri)),o}$registerDocumentSymbolProvider(o,f,A){this._registrations.set(o,this._languageFeaturesService.documentSymbolProvider.register(f,{displayName:A,provideDocumentSymbols:(G,re)=>this._proxy.$provideDocumentSymbols(o,G.uri,re)}))}$registerCodeLensSupport(o,f,A){var G=this;const re={provideCodeLenses:(Oe=(0,d.Z)(function*(Je,At){const mn=yield G._proxy.$provideCodeLenses(o,Je.uri,At);if(mn)return{lenses:mn.lenses,dispose:()=>mn.cacheId&&G._proxy.$releaseCodeLenses(o,mn.cacheId)}}),function(At,mn){return Oe.apply(this,arguments)}),resolveCodeLens:(Oe,Je,At)=>this._proxy.$resolveCodeLens(o,Je,At)};var Oe;if("number"==typeof A){const Oe=new l.E;this._registrations.set(A,Oe),re.onDidChange=Oe.event}this._registrations.set(o,this._languageFeaturesService.codeLensProvider.register(f,re))}$emitCodeLensEvent(o,f){const A=this._registrations.get(o);A instanceof l.E&&A.fire(f)}$registerDefinitionSupport(o,f){this._registrations.set(o,this._languageFeaturesService.definitionProvider.register(f,{provideDefinition:(A,G,re)=>this._proxy.$provideDefinition(o,A.uri,G,re).then(Xo._reviveLocationLinkDto)}))}$registerDeclarationSupport(o,f){this._registrations.set(o,this._languageFeaturesService.declarationProvider.register(f,{provideDeclaration:(A,G,re)=>this._proxy.$provideDeclaration(o,A.uri,G,re).then(Xo._reviveLocationLinkDto)}))}$registerImplementationSupport(o,f){this._registrations.set(o,this._languageFeaturesService.implementationProvider.register(f,{provideImplementation:(A,G,re)=>this._proxy.$provideImplementation(o,A.uri,G,re).then(Xo._reviveLocationLinkDto)}))}$registerTypeDefinitionSupport(o,f){this._registrations.set(o,this._languageFeaturesService.typeDefinitionProvider.register(f,{provideTypeDefinition:(A,G,re)=>this._proxy.$provideTypeDefinition(o,A.uri,G,re).then(Xo._reviveLocationLinkDto)}))}$registerHoverProvider(o,f){this._registrations.set(o,this._languageFeaturesService.hoverProvider.register(f,{provideHover:(A,G,re)=>this._proxy.$provideHover(o,A.uri,G,re)}))}$registerEvaluatableExpressionProvider(o,f){this._registrations.set(o,this._languageFeaturesService.evaluatableExpressionProvider.register(f,{provideEvaluatableExpression:(A,G,re)=>this._proxy.$provideEvaluatableExpression(o,A.uri,G,re)}))}$registerInlineValuesProvider(o,f,A){const G={provideInlineValues:(re,Oe,Je,At)=>this._proxy.$provideInlineValues(o,re.uri,Oe,Je,At)};if("number"==typeof A){const re=new l.E;this._registrations.set(A,re),G.onDidChangeInlineValues=re.event}this._registrations.set(o,this._languageFeaturesService.inlineValuesProvider.register(f,G))}$emitInlineValuesEvent(o,f){const A=this._registrations.get(o);A instanceof l.E&&A.fire(f)}$registerDocumentHighlightProvider(o,f){this._registrations.set(o,this._languageFeaturesService.documentHighlightProvider.register(f,{provideDocumentHighlights:(A,G,re)=>this._proxy.$provideDocumentHighlights(o,A.uri,G,re)}))}$registerLinkedEditingRangeProvider(o,f){var G,A=this;this._registrations.set(o,this._languageFeaturesService.linkedEditingRangeProvider.register(f,{provideLinkedEditingRanges:(G=(0,d.Z)(function*(re,Oe,Je){const At=yield A._proxy.$provideLinkedEditingRanges(o,re.uri,Oe,Je);if(At)return{ranges:At.ranges,wordPattern:At.wordPattern?Xo._reviveRegExp(At.wordPattern):void 0}}),function(Oe,Je,At){return G.apply(this,arguments)})}))}$registerReferenceSupport(o,f){this._registrations.set(o,this._languageFeaturesService.referenceProvider.register(f,{provideReferences:(A,G,re,Oe)=>this._proxy.$provideReferences(o,A.uri,G,re,Oe).then(Xo._reviveLocationDto)}))}$registerQuickFixSupport(o,f,A,G,re){var Oe=this;const Je={provideCodeActions:(At=(0,d.Z)(function*(mn,Un,ui,Ei){const ei=yield Oe._proxy.$provideCodeActions(o,mn.uri,Un,ui,Ei);if(ei)return{actions:Xo._reviveCodeActionDto(ei.actions),dispose:()=>{"number"==typeof ei.cacheId&&Oe._proxy.$releaseCodeActions(o,ei.cacheId)}}}),function(Un,ui,Ei,ei){return At.apply(this,arguments)}),providedCodeActionKinds:A.providedKinds,documentation:A.documentation,displayName:G};var At;re&&(Je.resolveCodeAction=function(){var At=(0,d.Z)(function*(mn,Un){const ui=yield Oe._proxy.$resolveCodeAction(o,mn.cacheId,Un);return mn.edit=Is(ui),mn});return function(mn,Un){return At.apply(this,arguments)}}()),this._registrations.set(o,this._languageFeaturesService.codeActionProvider.register(f,Je))}$registerPasteEditProvider(o,f,A,G){const re=new $r(o,this._proxy,A,G);this._pasteEditProviders.set(o,re),this._registrations.set(o,(0,O.F8)(this._languageFeaturesService.documentPasteEditProvider.register(f,re),(0,O.OF)(()=>this._pasteEditProviders.delete(o))))}$resolvePasteFileData(o,f,A){const G=this._pasteEditProviders.get(o);if(!G)throw new Error("Could not find provider");return G.resolveFileData(f,A)}$registerDocumentFormattingSupport(o,f,A,G){this._registrations.set(o,this._languageFeaturesService.documentFormattingEditProvider.register(f,{extensionId:A,displayName:G,provideDocumentFormattingEdits:(re,Oe,Je)=>this._proxy.$provideDocumentFormattingEdits(o,re.uri,Oe,Je)}))}$registerRangeFormattingSupport(o,f,A,G){this._registrations.set(o,this._languageFeaturesService.documentRangeFormattingEditProvider.register(f,{extensionId:A,displayName:G,provideDocumentRangeFormattingEdits:(re,Oe,Je,At)=>this._proxy.$provideDocumentRangeFormattingEdits(o,re.uri,Oe,Je,At)}))}$registerOnTypeFormattingSupport(o,f,A,G){this._registrations.set(o,this._languageFeaturesService.onTypeFormattingEditProvider.register(f,{extensionId:G,autoFormatTriggerCharacters:A,provideOnTypeFormattingEdits:(re,Oe,Je,At,mn)=>this._proxy.$provideOnTypeFormattingEdits(o,re.uri,Oe,Je,At,mn)}))}$registerNavigateTypeSupport(o,f){var A=this;let G;const re={provideWorkspaceSymbols:(Oe=(0,d.Z)(function*(Je,At){const mn=yield A._proxy.$provideWorkspaceSymbols(o,Je,At);return void 0!==G&&A._proxy.$releaseWorkspaceSymbols(o,G),G=mn.cacheId,Xo._reviveWorkspaceSymbolDto(mn.symbols)}),function(At,mn){return Oe.apply(this,arguments)})};var Oe;f&&(re.resolveWorkspaceSymbol=function(){var Oe=(0,d.Z)(function*(Je,At){const mn=yield A._proxy.$resolveWorkspaceSymbol(o,Je,At);return mn&&Xo._reviveWorkspaceSymbolDto(mn)});return function(Je,At){return Oe.apply(this,arguments)}}()),this._registrations.set(o,Jl.register(re))}$registerRenameSupport(o,f,A){this._registrations.set(o,this._languageFeaturesService.renameProvider.register(f,{provideRenameEdits:(G,re,Oe,Je)=>this._proxy.$provideRenameEdits(o,G.uri,re,Oe,Je).then(Is),resolveRenameLocation:A?(G,re,Oe)=>this._proxy.$resolveRenameLocation(o,G.uri,re,Oe):void 0}))}$registerDocumentSemanticTokensProvider(o,f,A,G){let re;if("number"==typeof G){const Oe=new l.E;this._registrations.set(G,Oe),re=Oe.event}this._registrations.set(o,this._languageFeaturesService.documentSemanticTokensProvider.register(f,new ql(this._proxy,o,A,re)))}$emitDocumentSemanticTokensEvent(o){const f=this._registrations.get(o);f instanceof l.E&&f.fire(void 0)}$registerDocumentRangeSemanticTokensProvider(o,f,A){this._registrations.set(o,this._languageFeaturesService.documentRangeSemanticTokensProvider.register(f,new ac(this._proxy,o,A)))}static _inflateSuggestDto(o,f){const A=f.a;return{label:A,kind:f.b??9,tags:f.n,detail:f.c,documentation:f.d,sortText:f.e,filterText:f.f,preselect:f.g,insertText:f.h??("string"==typeof A?A:A.label),range:f.j??o,insertTextRules:f.i,commitCharacters:f.k,additionalTextEdits:f.l,command:f.m,_id:f.x}}$registerCompletionsProvider(o,f,A,G,re){var Oe=this;const Je={triggerCharacters:A,_debugDisplayName:re,provideCompletionItems:(At=(0,d.Z)(function*(mn,Un,ui,Ei){const ei=yield Oe._proxy.$provideCompletionItems(o,mn.uri,Un,ui,Ei);return ei&&{suggestions:ei.b.map(_i=>Xo._inflateSuggestDto(ei.a,_i)),incomplete:ei.c||!1,duration:ei.d,dispose:()=>{"number"==typeof ei.x&&Oe._proxy.$releaseCompletionItems(o,ei.x)}}}),function(Un,ui,Ei,ei){return At.apply(this,arguments)})};var At;G&&(Je.resolveCompletionItem=(At,mn)=>this._proxy.$resolveCompletionItem(o,At._id,mn).then(Un=>{if(!Un)return At;const ui=Xo._inflateSuggestDto(At.range,Un);return(0,b.jB)(At,ui,!0)})),this._registrations.set(o,this._languageFeaturesService.completionProvider.register(f,Je))}$registerInlineCompletionsSupport(o,f,A){var G=this;const re={provideInlineCompletions:(Oe=(0,d.Z)(function*(Je,At,mn,Un){return G._proxy.$provideInlineCompletions(o,Je.uri,At,mn,Un)}),function(At,mn,Un,ui){return Oe.apply(this,arguments)}),handleItemDidShow:function(){var Oe=(0,d.Z)(function*(Je,At){A&&(yield G._proxy.$handleInlineCompletionDidShow(o,Je.pid,At.idx))});return function(At,mn){return Oe.apply(this,arguments)}}(),freeInlineCompletions:Oe=>{this._proxy.$freeInlineCompletionsList(o,Oe.pid)}};var Oe;this._registrations.set(o,this._languageFeaturesService.inlineCompletionsProvider.register(f,re))}$registerSignatureHelpProvider(o,f,A){var re,G=this;this._registrations.set(o,this._languageFeaturesService.signatureHelpProvider.register(f,{signatureHelpTriggerCharacters:A.triggerCharacters,signatureHelpRetriggerCharacters:A.retriggerCharacters,provideSignatureHelp:(re=(0,d.Z)(function*(Oe,Je,At,mn){const Un=yield G._proxy.$provideSignatureHelp(o,Oe.uri,Je,mn,At);if(Un)return{value:Un,dispose:()=>{G._proxy.$releaseSignatureHelp(o,Un.id)}}}),function(Je,At,mn,Un){return re.apply(this,arguments)})}))}$registerInlayHintsProvider(o,f,A,G,re){var Oe=this;const Je={displayName:re,provideInlayHints:(At=(0,d.Z)(function*(mn,Un,ui){const Ei=yield Oe._proxy.$provideInlayHints(o,mn.uri,Un,ui);if(Ei)return{hints:(0,g.w)(Ei.hints),dispose:()=>{Ei.cacheId&&Oe._proxy.$releaseInlayHints(o,Ei.cacheId)}}}),function(Un,ui,Ei){return At.apply(this,arguments)})};var At;if(A&&(Je.resolveInlayHint=function(){var At=(0,d.Z)(function*(mn,Un){const ui=mn;if(!ui.cacheId)return mn;const Ei=yield Oe._proxy.$resolveInlayHint(o,ui.cacheId,Un);if(Un.isCancellationRequested)throw new T.FU;return Ei?{...mn,tooltip:Ei.tooltip,label:(0,g.w)(Ei.label)}:mn});return function(mn,Un){return At.apply(this,arguments)}}()),"number"==typeof G){const At=new l.E;this._registrations.set(G,At),Je.onDidChangeInlayHints=At.event}this._registrations.set(o,this._languageFeaturesService.inlayHintsProvider.register(f,Je))}$emitInlayHintsEvent(o){const f=this._registrations.get(o);f instanceof l.E&&f.fire(void 0)}$registerDocumentLinkProvider(o,f,A){const G={provideLinks:(re,Oe)=>this._proxy.$provideDocumentLinks(o,re.uri,Oe).then(Je=>{if(Je)return{links:Je.links.map(Xo._reviveLinkDTO),dispose:()=>{"number"==typeof Je.cacheId&&this._proxy.$releaseDocumentLinks(o,Je.cacheId)}}})};A&&(G.resolveLink=(re,Oe)=>re.cacheId?this._proxy.$resolveDocumentLink(o,re.cacheId,Oe).then(At=>At&&Xo._reviveLinkDTO(At)):re),this._registrations.set(o,this._languageFeaturesService.linkProvider.register(f,G))}$registerDocumentColorProvider(o,f){const A=this._proxy;this._registrations.set(o,this._languageFeaturesService.colorProvider.register(f,{provideDocumentColors:(G,re)=>A.$provideDocumentColors(o,G.uri,re).then(Oe=>Oe.map(Je=>{const[At,mn,Un,ui]=Je.color;return{color:{red:At,green:mn,blue:Un,alpha:ui},range:Je.range}})),provideColorPresentations:(G,re,Oe)=>A.$provideColorPresentations(o,G.uri,{color:[re.color.red,re.color.green,re.color.blue,re.color.alpha],range:re.range},Oe)}))}$registerFoldingRangeProvider(o,f,A){const G={provideFoldingRanges:(re,Oe,Je)=>this._proxy.$provideFoldingRanges(o,re.uri,Oe,Je)};if("number"==typeof A){const re=new l.E;this._registrations.set(A,re),G.onDidChange=re.event}this._registrations.set(o,this._languageFeaturesService.foldingRangeProvider.register(f,G))}$emitFoldingRangeEvent(o,f){const A=this._registrations.get(o);A instanceof l.E&&A.fire(f)}$registerSelectionRangeProvider(o,f){this._registrations.set(o,this._languageFeaturesService.selectionRangeProvider.register(f,{provideSelectionRanges:(A,G,re)=>this._proxy.$provideSelectionRanges(o,A.uri,G,re)}))}$registerCallHierarchyProvider(o,f){var G,A=this;this._registrations.set(o,rc.register(f,{prepareCallHierarchy:(G=(0,d.Z)(function*(re,Oe,Je){const At=yield A._proxy.$prepareCallHierarchy(o,re.uri,Oe,Je);if(At&&0!==At.length)return{dispose:()=>{for(const mn of At)A._proxy.$releaseCallHierarchy(o,mn._sessionId)},roots:At.map(Xo._reviveCallHierarchyItemDto)}}),function(Oe,Je,At){return G.apply(this,arguments)}),provideOutgoingCalls:function(){var G=(0,d.Z)(function*(re,Oe){const Je=yield A._proxy.$provideCallHierarchyOutgoingCalls(o,re._sessionId,re._itemId,Oe);return Je&&(Je.forEach(At=>{At.to=Xo._reviveCallHierarchyItemDto(At.to)}),Je)});return function(Oe,Je){return G.apply(this,arguments)}}(),provideIncomingCalls:function(){var G=(0,d.Z)(function*(re,Oe){const Je=yield A._proxy.$provideCallHierarchyIncomingCalls(o,re._sessionId,re._itemId,Oe);return Je&&(Je.forEach(At=>{At.from=Xo._reviveCallHierarchyItemDto(At.from)}),Je)});return function(Oe,Je){return G.apply(this,arguments)}}()}))}static _reviveRegExp(o){return new RegExp(o.pattern,o.flags)}static _reviveIndentationRule(o){return{decreaseIndentPattern:Xo._reviveRegExp(o.decreaseIndentPattern),increaseIndentPattern:Xo._reviveRegExp(o.increaseIndentPattern),indentNextLinePattern:o.indentNextLinePattern?Xo._reviveRegExp(o.indentNextLinePattern):void 0,unIndentedLinePattern:o.unIndentedLinePattern?Xo._reviveRegExp(o.unIndentedLinePattern):void 0}}static _reviveOnEnterRule(o){return{beforeText:Xo._reviveRegExp(o.beforeText),afterText:o.afterText?Xo._reviveRegExp(o.afterText):void 0,previousLineText:o.previousLineText?Xo._reviveRegExp(o.previousLineText):void 0,action:o.action}}static _reviveOnEnterRules(o){return o.map(Xo._reviveOnEnterRule)}$setLanguageConfiguration(o,f,A){const G={comments:A.comments,brackets:A.brackets,wordPattern:A.wordPattern?Xo._reviveRegExp(A.wordPattern):void 0,indentationRules:A.indentationRules?Xo._reviveIndentationRule(A.indentationRules):void 0,onEnterRules:A.onEnterRules?Xo._reviveOnEnterRules(A.onEnterRules):void 0,autoClosingPairs:void 0,surroundingPairs:void 0,__electricCharacterSupport:void 0};A.__characterPairSupport&&(G.autoClosingPairs=A.__characterPairSupport.autoClosingPairs),A.__electricCharacterSupport&&A.__electricCharacterSupport.docComment&&(G.__electricCharacterSupport={docComment:{open:A.__electricCharacterSupport.docComment.open,close:A.__electricCharacterSupport.docComment.close}}),this._languageService.isRegisteredLanguageId(f)&&this._registrations.set(o,this._languageConfigurationService.register(f,G,100))}$registerTypeHierarchyProvider(o,f){var G,A=this;this._registrations.set(o,Il.register(f,{prepareTypeHierarchy:(G=(0,d.Z)(function*(re,Oe,Je){const At=yield A._proxy.$prepareTypeHierarchy(o,re.uri,Oe,Je);if(At)return{dispose:()=>{for(const mn of At)A._proxy.$releaseTypeHierarchy(o,mn._sessionId)},roots:At.map(Xo._reviveTypeHierarchyItemDto)}}),function(Oe,Je,At){return G.apply(this,arguments)}),provideSupertypes:function(){var G=(0,d.Z)(function*(re,Oe){const Je=yield A._proxy.$provideTypeHierarchySupertypes(o,re._sessionId,re._itemId,Oe);return Je&&Je.map(Xo._reviveTypeHierarchyItemDto)});return function(Oe,Je){return G.apply(this,arguments)}}(),provideSubtypes:function(){var G=(0,d.Z)(function*(re,Oe){const Je=yield A._proxy.$provideTypeHierarchySubtypes(o,re._sessionId,re._itemId,Oe);return Je&&Je.map(Xo._reviveTypeHierarchyItemDto)});return function(Oe,Je){return G.apply(this,arguments)}}()}))}$registerDocumentOnDropEditProvider(o,f){const A=new Ha(o,this._proxy);this._documentOnDropEditProviders.set(o,A),this._registrations.set(o,(0,O.F8)(this._languageFeaturesService.documentOnDropEditProvider.register(f,A),(0,O.OF)(()=>this._documentOnDropEditProviders.delete(o))))}$resolveDocumentOnDropFileData(o,f,A){var G=this;return(0,d.Z)(function*(){const re=G._documentOnDropEditProviders.get(o);if(!re)throw new Error("Could not find provider");return re.resolveDocumentOnDropFileData(f,A)})()}};hl=Xo=(0,l._)([rr(Vo.MainThreadLanguageFeatures),(0,l.a)(1,pe.O),(0,l.a)(2,mt.c_),(0,l.a)(3,_t.p)],hl);class $r{constructor(o,f,A,G){var re=this;this.handle=o,this._proxy=f,this.dataTransfers=new xl,this.pasteMimeTypes=G,A&&(this.prepareDocumentPaste=function(){var Oe=(0,d.Z)(function*(Je,At,mn,Un){const ui=yield zr.toDataTransferDTO(mn);if(Un.isCancellationRequested)return;const Ei=yield re._proxy.$prepareDocumentPaste(o,Je.uri,At,ui,Un);if(!Ei)return;const ei=new Kt.Hl;return Ei.items.forEach(([_i,Ri])=>{ei.replace(_i,(0,Kt.ZO)(Ri.asString))}),ei});return function(Je,At,mn,Un){return Oe.apply(this,arguments)}}())}provideDocumentPasteEdits(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re.dataTransfers.add(A);try{const Je=yield zr.toDataTransferDTO(A),At=yield re._proxy.$providePasteEdits(re.handle,Oe.id,o.uri,f,Je,G);return At?{insertText:At.insertText,additionalEdit:At.additionalEdit?Is(At.additionalEdit):void 0}:void 0}finally{Oe.dispose()}})()}resolveFileData(o,f){return this.dataTransfers.resolveDropFileData(o,f)}}class Ha{constructor(o,f){this.handle=o,this._proxy=f,this.dataTransfers=new xl}provideDocumentOnDropEdits(o,f,A,G){var re=this;return(0,d.Z)(function*(){const Oe=re.dataTransfers.add(A);try{const Je=yield zr.toDataTransferDTO(A),At=yield re._proxy.$provideDocumentOnDropEdits(re.handle,Oe.id,o.uri,f,Je,G);return At?{insertText:At.insertText,additionalEdit:Is(At.additionalEdit)}:void 0}finally{Oe.dispose()}})()}resolveDocumentOnDropFileData(o,f){return this.dataTransfers.resolveDropFileData(o,f)}}class ql{constructor(o,f,A,G){this._proxy=o,this._handle=f,this._legend=A,this.onDidChange=G}releaseDocumentSemanticTokens(o){o&&this._proxy.$releaseDocumentSemanticTokens(this._handle,parseInt(o,10))}getLegend(){return this._legend}provideDocumentSemanticTokens(o,f,A){var G=this;return(0,d.Z)(function*(){const re=f?parseInt(f,10):0,Oe=yield G._proxy.$provideDocumentSemanticTokens(G._handle,o.uri,re,A);if(!Oe||A.isCancellationRequested)return null;const Je=zl(Oe);return"full"===Je.type?{resultId:String(Je.id),data:Je.data}:{resultId:String(Je.id),edits:Je.deltas}})()}}class ac{constructor(o,f,A){this._proxy=o,this._handle=f,this._legend=A}getLegend(){return this._legend}provideDocumentRangeSemanticTokens(o,f,A){var G=this;return(0,d.Z)(function*(){const re=yield G._proxy.$provideDocumentRangeSemanticTokens(G._handle,o.uri,f,A);if(!re||A.isCancellationRequested)return null;const Oe=zl(re);if("full"===Oe.type)return{resultId:String(Oe.id),data:Oe.data};throw new Error("Unexpected")})()}}function Ua(ie,o){if(o){const f=o.split(".");let A=ie;for(let G=0;A&&G<f.length;G++)A=A[f[G]];return A}}function Ud(ie){return function lc(ie){return ie instanceof C.o}(ie)?{resource:ie}:function dc(ie){return ie&&ie.uri instanceof C.o&&ie.languageId&&"string"==typeof ie.languageId}(ie)?{resource:ie.uri,overrideIdentifier:ie.languageId}:function cc(ie){return ie&&!ie.uri&&ie.languageId&&"string"==typeof ie.languageId}(ie)?{overrideIdentifier:ie.languageId}:function uc(ie){return ie&&ie.uri instanceof C.o&&(!ie.name||"string"==typeof ie.name)&&(!ie.index||"number"==typeof ie.index)}(ie)?{resource:ie.uri}:null===ie?{resource:null}:void 0}class Dd{constructor(o,f,A,G){this._onDidChangeConfiguration=new l.E,this._proxy=o,this._logService=G,this._extHostWorkspace=f,this._configuration=Bt.VK.parse(A),this._configurationScopes=this._toMap(A.configurationScopes)}get onDidChangeConfiguration(){return this._onDidChangeConfiguration&&this._onDidChangeConfiguration.event}$acceptConfigurationChanged(o,f){const A={data:this._configuration.toData(),workspace:this._extHostWorkspace.workspace};this._configuration=Bt.VK.parse(o),this._configurationScopes=this._toMap(o.configurationScopes),this._onDidChangeConfiguration.fire(this._toConfigurationChangeEvent(f,A))}getConfiguration(o,f,A){const G=Ud(f)||{},re=this._toReadonlyValue(o?Ua(this._configuration.getValue(void 0,G,this._extHostWorkspace.workspace),o):this._configuration.getValue(void 0,G,this._extHostWorkspace.workspace));o&&this._validateConfigurationAccess(o,G,A?.identifier);const Je={has:At=>typeof Ua(re,At)<"u",get:(At,mn)=>{this._validateConfigurationAccess(o?`${o}.${At}`:At,G,A?.identifier);let Un=Ua(re,At);if(typeof Un>"u")Un=mn;else{let ui;const Ei=(ei,_i)=>{let Ri;const Bi=()=>{ui=ui||(0,b.I8)(re),Ri=Ri||Ua(ui,_i)};return(0,_.Kn)(ei)?new Proxy(ei,{get:(bs,As)=>{if("string"==typeof As&&"tojson"===As.toLowerCase())return Bi(),()=>Ri;if(ui)return Ri=Ri||Ua(ui,_i),Ri[As];const Cr=bs[As];return"string"==typeof As?Ei(Cr,`${_i}.${As}`):Cr},set:(bs,As,Cr)=>(Bi(),Ri&&(Ri[As]=Cr),!0),deleteProperty:(bs,As)=>(Bi(),Ri&&delete Ri[As],!0),defineProperty:(bs,As,Cr)=>(Bi(),Ri&&Object.defineProperty(Ri,As,Cr),!0)}):ei};Un=Ei(Un,At)}return Un},update:(At,mn,Un,ui)=>{At=o?`${o}.${At}`:At;const Ei=function Oe(At){if(null==At)return null;if("boolean"==typeof At)return At?2:5;switch(At){case Qs.Global:return 2;case Qs.Workspace:return 5;case Qs.WorkspaceFolder:return 6}}(Un);return void 0!==mn?this._proxy.$updateConfigurationOption(Ei,At,mn,G,ui):this._proxy.$removeConfigurationOption(Ei,At,G,ui)},inspect:At=>{const mn=(0,b.I8)(this._configuration.inspect(At=o?`${o}.${At}`:At,G,this._extHostWorkspace.workspace));if(mn)return{key:At,defaultValue:mn.policy?.value??mn.default?.value,globalValue:mn.user?.value??mn.application?.value,workspaceValue:mn.workspace?.value,workspaceFolderValue:mn.workspaceFolder?.value,defaultLanguageValue:mn.default?.override,globalLanguageValue:mn.user?.override??mn.application?.override,workspaceLanguageValue:mn.workspace?.override,workspaceFolderLanguageValue:mn.workspaceFolder?.override,languageIds:mn.overrideIdentifiers}}};return"object"==typeof re&&(0,b.jB)(Je,re,!1),Object.freeze(Je)}_toReadonlyValue(o){const f=A=>(0,_.Kn)(A)?new Proxy(A,{get:(G,re)=>f(G[re]),set:(G,re,Oe)=>{throw new Error(`TypeError: Cannot assign to read only property '${String(re)}' of object`)},deleteProperty:(G,re)=>{throw new Error(`TypeError: Cannot delete read only property '${String(re)}' of object`)},defineProperty:(G,re)=>{throw new Error(`TypeError: Cannot define property '${String(re)}' for a readonly object`)},setPrototypeOf:G=>{throw new Error("TypeError: Cannot set prototype for a readonly object")},isExtensible:()=>!1,preventExtensions:()=>!0}):A;return f(o)}_validateConfigurationAccess(o,f,A){const G=Ge.eU.test(o)?4:this._configurationScopes.get(o),re=A?`[${A.value}] `:"";4!==G?3!==G||f?.resource&&this._logService.warn(`${re}Accessing a window scoped configuration for a resource is not expected. To associate '${o}' to a resource, define its scope to 'resource' in configuration contributions in 'package.json'.`):typeof f?.resource>"u"&&this._logService.warn(`${re}Accessing a resource scoped configuration without providing a resource is not expected. To get the effective value for '${o}', provide the URI of a resource or 'null' for any resource.`)}_toConfigurationChangeEvent(o,f){const A=new Bt.YX(o,f,this._configuration,this._extHostWorkspace.workspace);return Object.freeze({affectsConfiguration:(G,re)=>A.affectsConfiguration(G,Ud(re))})}_toMap(o){return o.reduce((f,A)=>(f.set(A[0],A[1]),f),new Map)}}let Ed=class{constructor(o,f,A,G){this._workspaceContextService=f,this.configurationService=A,this._environmentService=G;const re=o.getProxy(_s.ExtHostConfiguration);re.$initializeConfiguration(this._getConfigurationData()),this._configurationListener=A.onDidChangeConfiguration(Oe=>{re.$acceptConfigurationChanged(this._getConfigurationData(),Oe.change)})}_getConfigurationData(){const o={...this.configurationService.getConfigurationData(),configurationScopes:[]};return(!this._environmentService.isBuilt||this._environmentService.isExtensionDevelopment)&&(o.configurationScopes=function xo(){const ie=[],o=so.getConfigurationProperties();for(const f of Object.keys(o))ie.push([f,o[f].scope]);return ie.push(["launch",4]),ie.push(["task",4]),ie}()),o}dispose(){this._configurationListener.dispose()}$updateConfigurationOption(o,f,A,G,re){return G={resource:G?.resource?C.o.revive(G.resource):void 0,overrideIdentifier:G?.overrideIdentifier},this.writeConfiguration(o,f,A,G,re)}$removeConfigurationOption(o,f,A,G){return A={resource:A?.resource?C.o.revive(A.resource):void 0,overrideIdentifier:A?.overrideIdentifier},this.writeConfiguration(o,f,void 0,A,G)}writeConfiguration(o,f,A,G,re){o=o??this.deriveConfigurationTarget(f,G);const Oe=this.configurationService.inspect(f,G);switch(o){case 8:return this._updateValue(f,A,o,Oe?.memory?.override,G,re);case 6:return this._updateValue(f,A,o,Oe?.workspaceFolder?.override,G,re);case 5:return this._updateValue(f,A,o,Oe?.workspace?.override,G,re);case 4:return this._updateValue(f,A,o,Oe?.userRemote?.override,G,re);default:return this._updateValue(f,A,o,Oe?.userLocal?.override,G,re)}}_updateValue(o,f,A,G,re,Oe){return this.configurationService.updateValue(o,f,re=!0===Oe?re:!1===Oe?{resource:re.resource}:re.overrideIdentifier&&void 0!==G?re:{resource:re.resource},A,!0)}deriveConfigurationTarget(o,f){if(f.resource&&3===this._workspaceContextService.getWorkbenchState()){const A=Ut.B.as(Ge.IP.Configuration).getConfigurationProperties();if(A[o]&&(4===A[o].scope||5===A[o].scope))return 6}return 5}};Ed=(0,l._)([rr(Vo.MainThreadConfiguration),(0,l.a)(1,Se.ec),(0,l.a)(2,ut.Ui),(0,l.a)(3,Ae.Y)],Ed);const Uo={identifier:new Dn.k("monaco"),isBuiltin:!0,isUserBuiltin:!0,isUnderDevelopment:!1,extensionLocation:C.o.from({scheme:"extension",path:"/"}),name:"monaco",publisher:"microsoft",version:"1.0.0",engines:{vscode:"1.69.0"},targetPlatform:"web"};class hc{constructor(){this._onMessage=new Za,this.onMessage=this._onMessage.event}send(o){this._onMessage.fire(o)}}class fc extends J{constructor(){super(...arguments),this.$showMessage=(o,f,A,G)=>{const re={...A,source:void 0};return super.$showMessage(o,f,re,G)}}}let xd,Ld=class{constructor(o,f,A){this._proxy=o.getProxy(Vo.MainThreadConfiguration),this._extHostWorkspace=f,this._logService=A,this._actual=null}getConfigProvider(){return this._actual}$initializeConfiguration(o){this._actual=new Dd(this._proxy,this._extHostWorkspace,o,this._logService)}$acceptConfigurationChanged(o,f){this.getConfigProvider().$acceptConfigurationChanged(o,f)}};function uo(){return null==xd&&(xd=function Tl(){const ie=wt.IO.get(U.Hy),o=wt.IO.get(M.lT),f=wt.IO.get(Le.S),A=wt.IO.get(xe.S),G=wt.IO.get(Te.q),re=wt.IO.get(pe.O),Oe=wt.IO.get(de.p),Je=wt.IO.get(Ee.eJ),At=wt.IO.get(he.$),mn=wt.IO.get(u.lT),Un=wt.IO.get(le.p),ui=wt.IO.get(S.I),Ei=wt.IO.get(S.f),ei=wt.IO.get(S.g),_i=wt.IO.get(S.h),Ri=wt.IO.get(S.i),Bi=wt.IO.get(S.b),bs=wt.IO.get(S.j),As=wt.IO.get(S.k),Cr=wt.IO.get(S.l),_c=wt.IO.get(oe.R9),Ml=wt.IO.get(ve.b),Al=wt.IO.get(S.c),ed=wt.IO.get(dt.vu),Gr=wt.IO.get(S.n),oa=wt.IO.get(st.v4),cg=wt.IO.get(S.o),ug=wt.IO.get(mt.c_),hg=wt.IO.get(_t.p),fg=wt.IO.get(ut.Ui),gg=wt.IO.get(Se.ec),mg=wt.IO.get(H.I),pg=wt.IO.get(w.TG),_g=new hc,hs=new va(_g),Oc=new ma,Es={_serviceBrand:void 0,remoteAuthority:null,extensionHostKind:1,getProxy:function(Md){return hs.getProxy(Md)},set:function(Md,Mg){return hs.set(Md,Mg)},assertRegistered:function(Md){hs.assertRegistered(Md)},drain:function(){return hs.drain()},dispose(){hs.dispose()}},vg={_serviceBrand:void 0,version:"1.0.0",parentPid:0,get environment(){return(0,H.u)()},allExtensions:[S.S.get().extension??Uo],myExtensions:[(S.S.get().extension??Uo).identifier],consoleForward:{includeStack:!1,logNative:!1},get telemetryInfo(){return(0,H.u)()},logLevel:P.in.Trace,get logsLocation(){return(0,H.u)()},get logFile(){return(0,H.u)()},autoStart:!1,remote:{isRemote:!1,authority:void 0,connectionData:null},uiKind:La.Web},Ea=new P.$V(new t.C),kc=new os(Es,Ea),Cg=new W(Es,Ea),Fc=new ec(null);hs.set(Vo.MainThreadWindow,new vd(Es,cg,oa)),hs.set(Vo.MainThreadCommands,new $a(Es,ie,mg));const jd=hs.set(_s.ExtHostCommands,new Ka(Es,Ea)),Td=hs.set(_s.ExtHostDocumentsAndEditors,new ci(Es,Ea)),vc=hs.set(_s.ExtHostDocuments,new Oa(Es,Td)),bg=hs.set(_s.ExtHostLanguages,new qd(Es,vc,jd.converter,Fc)),yg=hs.set(_s.ExtHostWindow,new Ul(Es)),Sg=hs.set(_s.ExtHostQuickOpen,function Vl(ie,o,f){const A=ie.getProxy(Vo.MainThreadQuickOpen);let re=(()=>{class Ei{constructor(_i,Ri){this._extensionId=_i,this._onDidDispose=Ri,this._id=Un._nextId++,this._visible=!1,this._expectingHide=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!0,this._value="",this._buttons=[],this._handlesToButtons=new Map,this._onDidAcceptEmitter=new l.E,this._onDidChangeValueEmitter=new l.E,this._onDidTriggerButtonEmitter=new l.E,this._onDidHideEmitter=new l.E,this._pendingUpdate={id:this._id},this._disposed=!1,this._disposables=[this._onDidTriggerButtonEmitter,this._onDidHideEmitter,this._onDidAcceptEmitter,this._onDidChangeValueEmitter],this.onDidChangeValue=this._onDidChangeValueEmitter.event,this.onDidAccept=this._onDidAcceptEmitter.event,this.onDidTriggerButton=this._onDidTriggerButtonEmitter.event,this.onDidHide=this._onDidHideEmitter.event}get title(){return this._title}set title(_i){this._title=_i,this.update({title:_i})}get step(){return this._steps}set step(_i){this._steps=_i,this.update({step:_i})}get totalSteps(){return this._totalSteps}set totalSteps(_i){this._totalSteps=_i,this.update({totalSteps:_i})}get enabled(){return this._enabled}set enabled(_i){this._enabled=_i,this.update({enabled:_i})}get busy(){return this._busy}set busy(_i){this._busy=_i,this.update({busy:_i})}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(_i){this._ignoreFocusOut=_i,this.update({ignoreFocusOut:_i})}get value(){return this._value}set value(_i){this._value=_i,this.update({value:_i})}get placeholder(){return this._placeholder}set placeholder(_i){this._placeholder=_i,this.update({placeholder:_i})}get buttons(){return this._buttons}set buttons(_i){this._buttons=_i.slice(),this._handlesToButtons.clear(),_i.forEach((Ri,Bi)=>{this._handlesToButtons.set(Ri===gs.Back?-1:Bi,Ri)}),this.update({buttons:_i.map((Ri,Bi)=>({...mn(Ri),tooltip:Ri.tooltip,handle:Ri===gs.Back?-1:Bi}))})}show(){this._visible=!0,this._expectingHide=!0,this.update({visible:!0})}hide(){this._visible=!1,this.update({visible:!1})}_fireDidAccept(){this._onDidAcceptEmitter.fire()}_fireDidChangeValue(_i){this._value=_i,this._onDidChangeValueEmitter.fire(_i)}_fireDidTriggerButton(_i){const Ri=this._handlesToButtons.get(_i);Ri&&this._onDidTriggerButtonEmitter.fire(Ri)}_fireDidHide(){this._expectingHide&&(this._expectingHide=this._visible,this._onDidHideEmitter.fire())}dispose(){this._disposed||(this._disposed=!0,this._fireDidHide(),this._disposables=(0,O.B9)(this._disposables),this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this._onDidDispose(),A.$dispose(this._id))}update(_i){if(!this._disposed){for(const Ri of Object.keys(_i)){const Bi=_i[Ri];this._pendingUpdate[Ri]=void 0===Bi?null:Bi}"visible"in this._pendingUpdate?(this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this.dispatchUpdate()):this._visible&&!this._updateTimeout&&(this._updateTimeout=setTimeout(()=>{this._updateTimeout=void 0,this.dispatchUpdate()},0))}}dispatchUpdate(){A.$createOrUpdate(this._pendingUpdate),this._pendingUpdate={id:this._id}}}return Ei._nextId=1,Ei})();function mn(Ei){const ei=function Oe(Ei){if(Ei instanceof er)return{id:Ei.id};const ei=function At(Ei){return"object"==typeof Ei&&"dark"in Ei?Ei.dark:Ei}(Ei),_i=function Je(Ei){return"object"==typeof Ei&&"light"in Ei?Ei.light:Ei}(Ei);return{dark:"string"==typeof ei?C.o.file(ei):ei,light:"string"==typeof _i?C.o.file(_i):_i}}(Ei.iconPath);let _i,Ri;return"id"in ei?Ri=fe.kS.asClassName(ei):_i=ei,{iconPath:_i,iconClass:Ri}}class Un extends re{constructor(ei,_i){super(ei.identifier,_i),this._items=[],this._handlesToItems=new Map,this._itemsToHandles=new Map,this._canSelectMany=!1,this._matchOnDescription=!0,this._matchOnDetail=!0,this._sortByLabel=!0,this._keepScrollPosition=!1,this._activeItems=[],this._onDidChangeActiveEmitter=new l.E,this._selectedItems=[],this._onDidChangeSelectionEmitter=new l.E,this._onDidTriggerItemButtonEmitter=new l.E,this.onDidChangeActive=this._onDidChangeActiveEmitter.event,this.onDidChangeSelection=this._onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this._onDidTriggerItemButtonEmitter.event,this._disposables.push(this._onDidChangeActiveEmitter,this._onDidChangeSelectionEmitter,this._onDidTriggerItemButtonEmitter),this.update({type:"quickPick"})}get items(){return this._items}set items(ei){this._items=ei.slice(),this._handlesToItems.clear(),this._itemsToHandles.clear(),ei.forEach((Ri,Bi)=>{this._handlesToItems.set(Bi,Ri),this._itemsToHandles.set(Ri,Bi)});const _i=[];for(let Ri=0;Ri<ei.length;Ri++){const Bi=ei[Ri];_i.push(Bi.kind===rs.Separator?{type:"separator",label:Bi.label}:{handle:Ri,label:Bi.label,description:Bi.description,detail:Bi.detail,picked:Bi.picked,alwaysShow:Bi.alwaysShow,buttons:Bi.buttons?.map((bs,As)=>({...mn(bs),tooltip:bs.tooltip,handle:As}))})}this.update({items:_i})}get canSelectMany(){return this._canSelectMany}set canSelectMany(ei){this._canSelectMany=ei,this.update({canSelectMany:ei})}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(ei){this._matchOnDescription=ei,this.update({matchOnDescription:ei})}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(ei){this._matchOnDetail=ei,this.update({matchOnDetail:ei})}get sortByLabel(){return this._sortByLabel}set sortByLabel(ei){this._sortByLabel=ei,this.update({sortByLabel:ei})}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(ei){this._keepScrollPosition=ei,this.update({keepScrollPosition:ei})}get activeItems(){return this._activeItems}set activeItems(ei){this._activeItems=ei.filter(_i=>this._itemsToHandles.has(_i)),this.update({activeItems:this._activeItems.map(_i=>this._itemsToHandles.get(_i))})}get selectedItems(){return this._selectedItems}set selectedItems(ei){this._selectedItems=ei.filter(_i=>this._itemsToHandles.has(_i)),this.update({selectedItems:this._selectedItems.map(_i=>this._itemsToHandles.get(_i))})}_fireDidChangeActive(ei){const _i=(0,E.kX)(ei.map(Ri=>this._handlesToItems.get(Ri)));this._activeItems=_i,this._onDidChangeActiveEmitter.fire(_i)}_fireDidChangeSelection(ei){const _i=(0,E.kX)(ei.map(Ri=>this._handlesToItems.get(Ri)));this._selectedItems=_i,this._onDidChangeSelectionEmitter.fire(_i)}_fireDidTriggerItemButton(ei,_i){const Ri=this._handlesToItems.get(ei);if(!Ri||!Ri.buttons||!Ri.buttons.length)return;const Bi=Ri.buttons[_i];Bi&&this._onDidTriggerItemButtonEmitter.fire({button:Bi,item:Ri})}}class ui extends re{constructor(ei,_i){super(ei.identifier,_i),this._password=!1,this.update({type:"inputBox"})}get password(){return this._password}set password(ei){this._password=ei,this.update({password:ei})}get prompt(){return this._prompt}set prompt(ei){this._prompt=ei,this.update({prompt:ei})}get validationMessage(){return this._validationMessage}set validationMessage(ei){this._validationMessage=ei,this.update(ei?"string"==typeof ei?{validationMessage:ei,severity:Z.Z.Error}:{validationMessage:ei.message,severity:ei.severity??Z.Z.Error}:{validationMessage:void 0,severity:Z.Z.Ignore})}}return new class G{constructor(ei,_i){this._sessions=new Map,this._instances=0,this._workspace=ei,this._commands=_i}showQuickPick(ei,_i,Ri=j.T.None){this._onDidSelectItem=void 0;const Bi=Promise.resolve(ei),bs=++this._instances,As=A.$show(bs,{title:_i?.title,placeHolder:_i?.placeHolder,matchOnDescription:_i?.matchOnDescription,matchOnDetail:_i?.matchOnDetail,ignoreFocusLost:_i?.ignoreFocusOut,canPickMany:_i?.canPickMany},Ri),Cr={},_c=As.then(()=>Cr);return Promise.race([_c,Bi]).then(Ml=>{if(Ml!==Cr)return Bi.then(Al=>{const ed=[];for(let Gr=0;Gr<Al.length;Gr++){const oa=Al[Gr];ed.push("string"==typeof oa?{label:oa,handle:Gr}:oa.kind===rs.Separator?{type:"separator",label:oa.label}:{label:oa.label,description:oa.description,detail:oa.detail,picked:oa.picked,alwaysShow:oa.alwaysShow,handle:Gr})}return _i&&"function"==typeof _i.onDidSelectItem&&(this._onDidSelectItem=Gr=>{_i.onDidSelectItem(Al[Gr])}),A.$setItems(bs,ed),As.then(Gr=>"number"==typeof Gr?Al[Gr]:Array.isArray(Gr)?Gr.map(oa=>Al[oa]):void 0)})}).then(void 0,Ml=>{if(!(0,T.n2)(Ml))return A.$setError(bs,Ml),Promise.reject(Ml)})}$onItemSelected(ei){this._onDidSelectItem?.(ei)}showInput(ei,_i=j.T.None){return this._validateInput=ei?.validateInput,A.$input(ei,"function"==typeof this._validateInput,_i).then(void 0,Ri=>{if(!(0,T.n2)(Ri))return Promise.reject(Ri)})}$validateInput(ei){var _i=this;return(0,d.Z)(function*(){if(!_i._validateInput)return;const Ri=yield _i._validateInput(ei);if(!Ri||"string"==typeof Ri)return Ri;let Bi;switch(Ri.severity){case xs.Info:Bi=Z.Z.Info;break;case xs.Warning:Bi=Z.Z.Warning;break;case xs.Error:Bi=Z.Z.Error;break;default:Bi=Ri.message?Z.Z.Error:Z.Z.Ignore}return{content:Ri.message,severity:Bi}})()}showWorkspaceFolderPick(ei,_i=j.T.None){var Ri=this;return(0,d.Z)(function*(){const Bi=yield Ri._commands.executeCommand("_workbench.pickWorkspaceFolder",[ei]);if(!Bi)return;const bs=yield Ri._workspace.getWorkspaceFolders2();return bs?bs.find(As=>As.uri.toString()===Bi.uri.toString()):void 0})()}createQuickPick(ei){const _i=new Un(ei,()=>this._sessions.delete(_i._id));return this._sessions.set(_i._id,_i),_i}createInputBox(ei){const _i=new ui(ei,()=>this._sessions.delete(_i._id));return this._sessions.set(_i._id,_i),_i}$onDidChangeValue(ei,_i){this._sessions.get(ei)?._fireDidChangeValue(_i)}$onDidAccept(ei){const _i=this._sessions.get(ei);_i&&_i._fireDidAccept()}$onDidChangeActive(ei,_i){const Ri=this._sessions.get(ei);Ri instanceof Un&&Ri._fireDidChangeActive(_i)}$onDidChangeSelection(ei,_i){const Ri=this._sessions.get(ei);Ri instanceof Un&&Ri._fireDidChangeSelection(_i)}$onDidTriggerButton(ei,_i){this._sessions.get(ei)?._fireDidTriggerButton(_i)}$onDidTriggerItemButton(ei,_i,Ri){const Bi=this._sessions.get(ei);Bi instanceof Un&&Bi._fireDidTriggerItemButton(_i,Ri)}$onDidHide(ei){const _i=this._sessions.get(ei);_i&&_i._fireDidHide()}}(o,f)}(Es,null,jd)),Bc=hs.set(_s.ExtHostDiagnostics,new Us(Es,Ea,Oc)),wg=hs.set(_s.ExtHostProgress,new De(hs.getProxy(Vo.MainThreadProgress))),Dg=hs.set(_s.ExtHostDocumentContentProviders,new Gt(Es,Td,Ea)),Eg=hs.set(_s.ExtHostEditors,new mi(Es,Td)),Lg=new tc(Es),xg=hs.set(_s.ExtHostLanguageFeatures,new Ja(hs,Fc,vc,jd,Bc,Ea,kc)),Wc=hs.set(_s.ExtHostWorkspace,new yl(Es,vg,Oc,Ea)),Ig=hs.set(_s.ExtHostConfiguration,new Ld(Es,Wc,Ea));return hs.set(_s.ExtHostTelemetry,new jl),hs.set(Vo.MainThreadMessageService,new fc(Es,o,ie,f)),hs.set(Vo.MainThreadDiagnostics,new Ms(Es,mn,Ei)),hs.set(Vo.MainThreadQuickOpen,new r(Es,Je)),hs.set(Vo.MainThreadTelemetry,new ua(Es,Ml,bs,Al)),hs.set(Vo.MainThreadProgress,new yt(Es,_c,ie)),hs.set(Vo.MainThreadDocumentContentProviders,new Nt(Es,A,re,G,Oe)),hs.set(Vo.MainThreadBulkEdits,new pd(Es,ed,Ea)),hs.set(Vo.MainThreadLanguages,new _d(Es,re,G,A,Gr)),hs.set(Vo.MainThreadClipboard,new Cd(Es,Un)),hs.set(Vo.MainThreadLanguageFeatures,new hl(Es,re,ug,hg)),hs.set(Vo.MainThreadConfiguration,new Ed(Es,gg,fg,bs)),new Ts(Es,G,_i,ui,At,Ri,A,Bi,ei,bs,As,Ei,Un,Cr,pg),{extHostLogService:Ea,extHostApiDeprecationService:kc,extHostMessageService:Cg,extHostDocumentsAndEditors:Td,extHostBulkEdits:new md(Es,Td),extHostDocuments:vc,extHostDocumentContentProviders:Dg,extHostQuickOpen:Sg,extHostProgress:wg,extHostDiagnostics:Bc,extHostEditors:Eg,extHostCommands:jd,extHostLanguages:bg,extHostWindow:yg,extHostClipboard:Lg,extHostLanguageFeatures:xg,extHostWorkspace:Wc,extHostConfiguration:Ig}}()),xd}Ld=(0,l._)([(0,l.a)(0,hr),(0,l.a)(1,fd),(0,l.a)(2,P.VZ)],Ld);var gc=e(38224),fl=e(63331),Da=(()=>(function(ie){ie[ie.Initial=1]="Initial",ie[ie.Dynamic=2]="Dynamic"}(Da||(Da={})),Da))();const k={createDiagnosticCollection(ie){const{extHostDiagnostics:o}=uo(),f=S.S.get().extension??Uo;return o.createDiagnosticCollection(f.identifier,ie)},get onDidChangeDiagnostics(){const{extHostDiagnostics:ie}=uo();return ie.onDidChangeDiagnostics},getDiagnostics:ie=>{const{extHostDiagnostics:o}=uo();return o.getDiagnostics(ie)},getLanguages(){const{extHostLanguages:ie}=uo();return ie.getLanguages()},setTextDocumentLanguage(ie,o){const{extHostLanguages:f}=uo();return f.changeLanguage(ie.uri,o)},match:(ie,o)=>(0,gc.G)(ls.from(ie),o.uri,o.languageId,!0,void 0,void 0),registerCodeActionsProvider(ie,o,f){const{extHostLanguageFeatures:A}=uo(),G=S.S.get().extension??Uo;return A.registerCodeActionProvider(G,ie,o,f)},registerCodeLensProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerCodeLensProvider(A,ie,o)},registerDefinitionProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerDefinitionProvider(A,ie,o)},registerDeclarationProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerDeclarationProvider(A,ie,o)},registerImplementationProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerImplementationProvider(A,ie,o)},registerTypeDefinitionProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerTypeDefinitionProvider(A,ie,o)},registerHoverProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerHoverProvider(A,ie,o,A.identifier)},registerEvaluatableExpressionProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerEvaluatableExpressionProvider(A,ie,o,A.identifier)},registerInlineValuesProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerInlineValuesProvider(A,ie,o,A.identifier)},registerDocumentHighlightProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerDocumentHighlightProvider(A,ie,o)},registerLinkedEditingRangeProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerLinkedEditingRangeProvider(A,ie,o)},registerReferenceProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerReferenceProvider(A,ie,o)},registerRenameProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerRenameProvider(A,ie,o)},registerDocumentSymbolProvider(ie,o,f){const{extHostLanguageFeatures:A}=uo(),G=S.S.get().extension??Uo;return A.registerDocumentSymbolProvider(G,ie,o,f)},registerWorkspaceSymbolProvider(ie){const{extHostLanguageFeatures:o}=uo(),f=S.S.get().extension??Uo;return o.registerWorkspaceSymbolProvider(f,ie)},registerDocumentFormattingEditProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerDocumentFormattingEditProvider(A,ie,o)},registerDocumentRangeFormattingEditProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerDocumentRangeFormattingEditProvider(A,ie,o)},registerOnTypeFormattingEditProvider(ie,o,f,...A){const{extHostLanguageFeatures:G}=uo(),re=S.S.get().extension??Uo;return G.registerOnTypeFormattingEditProvider(re,ie,o,[f].concat(A))},registerDocumentSemanticTokensProvider(ie,o,f){const{extHostLanguageFeatures:A}=uo(),G=S.S.get().extension??Uo;return A.registerDocumentSemanticTokensProvider(G,ie,o,f)},registerDocumentRangeSemanticTokensProvider(ie,o,f){const{extHostLanguageFeatures:A}=uo(),G=S.S.get().extension??Uo;return A.registerDocumentRangeSemanticTokensProvider(G,ie,o,f)},registerSignatureHelpProvider(ie,o,f,...A){const{extHostLanguageFeatures:G}=uo(),re=S.S.get().extension??Uo;return G.registerSignatureHelpProvider(re,ie,o,"object"==typeof f?f:typeof f>"u"?[]:[f,...A])},registerCompletionItemProvider(ie,o,...f){const{extHostLanguageFeatures:A}=uo(),G=S.S.get().extension??Uo;return A.registerCompletionItemProvider(G,ie,o,f)},registerDocumentLinkProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerDocumentLinkProvider(A,ie,o)},registerColorProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerColorProvider(A,ie,o)},registerFoldingRangeProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerFoldingRangeProvider(A,ie,o)},registerSelectionRangeProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerSelectionRangeProvider(A,ie,o)},registerCallHierarchyProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerCallHierarchyProvider(A,ie,o)},registerTypeHierarchyProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerTypeHierarchyProvider(A,ie,o)},setLanguageConfiguration:(ie,o)=>{const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.setLanguageConfiguration(A,ie,o)},registerInlayHintsProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerInlayHintsProvider(A,ie,o)},createLanguageStatusItem(ie,o){const{extHostLanguages:f}=uo(),A=S.S.get().extension??Uo;return f.createLanguageStatusItem(A,ie,o)},registerInlineCompletionItemProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerInlineCompletionsProvider(A,ie,o)},registerDocumentDropEditProvider(ie,o){const{extHostLanguageFeatures:f}=uo(),A=S.S.get().extension??Uo;return f.registerDocumentOnDropEditProvider(A,ie,o)}},Y={registerCommand(ie,o,f){const{extHostCommands:A}=uo();return A.registerCommand(!0,ie,o,f,void 0,S.S.get().extension??Uo)},registerTextEditorCommand(ie,o,f){const{extHostCommands:A,extHostEditors:G,extHostLogService:re}=uo();return A.registerCommand(!0,ie,(...Oe)=>{const Je=G.getActiveTextEditor();if(null!=Je)return Je.edit(At=>{o.apply(f,[Je,At,...Oe])}).then(At=>{At||re.warn("Edits from command "+ie+" were not applied.")},At=>{re.warn("An error occurred while running command "+ie,At)});re.warn("Cannot execute "+ie+" because there is no active text editor.")},void 0,void 0,S.S.get().extension??Uo)},executeCommand(ie,...o){const{extHostCommands:f}=uo();return f.executeCommand(ie,...o)},getCommands(ie=!1){const{extHostCommands:o}=uo();return o.getCommands(ie)}},St={fs:new class Be{constructor(){this.stat=H.u}isWritableFileSystem(){return!1}readDirectory(){return Promise.resolve([])}createDirectory(){return Promise.resolve()}readFile(){return Promise.resolve(new Uint8Array(0))}writeFile(){return Promise.resolve()}delete(){return Promise.resolve()}rename(){return Promise.resolve()}copy(){return Promise.resolve()}},workspaceFile:void 0,createFileSystemWatcher(ie,o,f,A){const{workspace:G}=S.S.get();return null!=G?.createFileSystemWatcher?G.createFileSystemWatcher(ie,o,f,A):{ignoreCreateEvents:o??!1,ignoreChangeEvents:f??!1,ignoreDeleteEvents:A??!1,onDidCreate:B.ju.None,onDidChange:B.ju.None,onDidDelete:B.ju.None,dispose:()=>{}}},applyEdit:function(){var ie=(0,d.Z)(function*(o){const{extHostBulkEdits:f}=uo(),A=S.S.get().extension??Uo;return f.applyWorkspaceEdit(o,A)});return function(f){return ie.apply(this,arguments)}}(),getConfiguration:(ie,o)=>{const{extHostConfiguration:f}=uo();return f.getConfigProvider().getConfiguration(ie,o,S.S.get().extension??Uo)},onDidChangeConfiguration(ie,o,f){const{extHostConfiguration:A}=uo();return A.getConfigProvider().onDidChangeConfiguration(ie,o,f)},get rootPath(){const{workspace:ie}=S.S.get();return ie?.rootPath},get workspaceFolders(){const{workspace:ie}=S.S.get();if(null==ie)return;if("workspaceFolders"in ie)return ie.workspaceFolders;const o=ie.rootPath;if(null==o)return;const f=C.o.file(o);return[{uri:f,index:0,name:f.toString()}]},getWorkspaceFolder(ie){return this.workspaceFolders?.find(o=>ie.path.startsWith(o.uri.path))},get onDidChangeWorkspaceFolders(){const{workspace:ie}=S.S.get();return ie?.onDidChangeWorkspaceFolders??B.ju.None},get textDocuments(){const{extHostDocuments:ie}=uo();return Array.from(ie.getAllDocumentData().map(o=>o.document))},get onDidOpenTextDocument(){const{extHostDocuments:ie}=uo();return ie.onDidAddDocument},get onDidCloseTextDocument(){const{extHostDocuments:ie}=uo();return ie.onDidRemoveDocument},get onDidChangeTextDocument(){const{extHostDocuments:ie}=uo();return ie.onDidChangeDocument},get onWillSaveTextDocument(){const{workspace:ie}=S.S.get();return ie?.onWillSaveTextDocument??B.ju.None},get onDidSaveTextDocument(){const{workspace:ie}=S.S.get();return ie?.onDidSaveTextDocument??B.ju.None},get onWillCreateFiles(){return B.ju.None},get onDidCreateFiles(){return B.ju.None},get onWillDeleteFiles(){return B.ju.None},get onDidDeleteFiles(){return B.ju.None},get onWillRenameFiles(){return B.ju.None},get onDidRenameFiles(){return B.ju.None},get onDidGrantWorkspaceTrust(){return B.ju.None},asRelativePath:H.u,updateWorkspaceFolders(ie,o,...f){const{workspace:A}=S.S.get();return null!=A?.updateWorkspaceFolders&&A.updateWorkspaceFolders(ie,o,...f)},findFiles:H.u,saveAll:H.u,openTextDocument(ie){const{extHostDocuments:o}=uo();let f;const A=ie;if("string"==typeof ie)f=Promise.resolve(C.o.file(ie));else if(C.o.isUri(ie))f=Promise.resolve(ie);else{if(null!=A&&"object"!=typeof A)throw new Error("illegal argument - uriOrFileNameOrOptions");f=o.createDocumentData(A)}return f.then(G=>o.ensureDocumentData(G).then(re=>re.document))},registerTextDocumentContentProvider(ie,o){const{extHostDocumentContentProviders:f}=uo();return f.registerTextDocumentContentProvider(ie,o)},registerTaskProvider:H.u,registerFileSystemProvider:H.u,openNotebookDocument:H.u,registerNotebookSerializer:H.u,notebookDocuments:[],onDidOpenNotebookDocument:H.u,onDidCloseNotebookDocument:H.u,isTrusted:!0,name:void 0,onDidChangeNotebookDocument:H.u,onDidSaveNotebookDocument:H.u};class Rn{constructor(o){this.uri=o}}function Yn(ie,o){return{label:ie.uri.fsPath,group:o,get isActive(){return ie.isAttachedToEditor()},isDirty:!1,isPinned:!1,isPreview:!1,input:new Rn(ie.uri)}}const pi={isActive:!0,activeTab:void 0,viewColumn:Ie.One,get tabs(){return wt.IO.get(Te.q).getModels().map(o=>Yn(o,pi))}},Si={showInformationMessage(ie,...o){const{extHostMessageService:f}=uo();return f.showMessage(S.S.get().extension??Uo,Z.Z.Info,ie,o[0],o.slice(1))},showWarningMessage(ie,...o){const{extHostMessageService:f}=uo();return f.showMessage(S.S.get().extension??Uo,Z.Z.Warning,ie,o[0],o.slice(1))},showErrorMessage(ie,...o){const{extHostMessageService:f}=uo();return f.showMessage(S.S.get().extension??Uo,Z.Z.Error,ie,o[0],o.slice(1))},createOutputChannel(ie){const{window:o}=S.S.get();return o?.createOutputChannel?.call(o,ie)??{name:ie,append:()=>{},appendLine:()=>{},clear:H.u,show:()=>{},hide:H.u,replace:H.u,dispose:()=>{}}},withScmProgress(ie){const{extHostProgress:o}=uo();return o.withProgress(S.S.get().extension??Uo,{location:Lr.SourceControl},()=>ie({report(){}}))},withProgress(ie,o){const{extHostProgress:f}=uo();return f.withProgress(S.S.get().extension??Uo,ie,o)},showTextDocument:function(){var ie=(0,d.Z)(function*(o,f,A){const{extHostEditors:G}=uo(),re=yield C.o.isUri(o)?Promise.resolve(St.openTextDocument(o)):Promise.resolve(o);return G.showTextDocument(re,f,A)});return function(f,A,G){return ie.apply(this,arguments)}}(),createQuickPick(){const{extHostQuickOpen:ie}=uo();return ie.createQuickPick(S.S.get().extension??Uo)},showQuickPick(ie,o,f){const{extHostQuickOpen:A}=uo();return A.showQuickPick(ie,o,f)},createInputBox(){const{extHostQuickOpen:ie}=uo(),o=S.S.get().extension??Uo;return ie.createInputBox(o)},showInputBox(ie,o){const{extHostQuickOpen:f}=uo();return f.showInput(ie,o)},createTextEditorDecorationType:H.u,showWorkspaceFolderPick:H.u,showOpenDialog:H.u,showSaveDialog:H.u,createWebviewPanel:H.u,setStatusBarMessage:H.u,createStatusBarItem:H.u,createTerminal:H.u,registerTreeDataProvider:H.u,createTreeView:H.u,registerWebviewPanelSerializer:H.u,get activeTextEditor(){const{extHostEditors:ie}=uo();return ie.getActiveTextEditor()},get visibleTextEditors(){const{extHostEditors:ie}=uo();return ie.getVisibleTextEditors()},onDidChangeActiveTextEditor(ie,o,f){const{extHostEditors:A}=uo();return A.onDidChangeActiveTextEditor(ie,o,f)},onDidChangeVisibleTextEditors(ie,o,f){const{extHostEditors:A}=uo();return A.onDidChangeVisibleTextEditors(ie,o,f)},onDidChangeTextEditorSelection(ie,o,f){const{extHostEditors:A}=uo();return A.onDidChangeTextEditorSelection(ie,o,f)},onDidChangeTextEditorVisibleRanges(ie,o,f){const{extHostEditors:A}=uo();return A.onDidChangeTextEditorVisibleRanges(ie,o,f)},onDidChangeTextEditorOptions(ie,o,f){const{extHostEditors:A}=uo();return A.onDidChangeTextEditorOptions(ie,o,f)},onDidChangeTextEditorViewColumn(ie,o,f){const{extHostEditors:A}=uo();return A.onDidChangeTextEditorViewColumn(ie,o,f)},get terminals(){return(0,H.u)()},get activeTerminal(){return(0,H.u)()},onDidChangeActiveTerminal:B.ju.None,onDidOpenTerminal:B.ju.None,onDidCloseTerminal:B.ju.None,get state(){return(0,H.u)()},onDidChangeWindowState:B.ju.None,registerUriHandler:H.u,registerWebviewViewProvider:H.u,registerCustomEditorProvider:H.u,registerTerminalLinkProvider:H.u,get activeColorTheme(){return(0,H.u)()},onDidChangeActiveColorTheme:B.ju.None,registerFileDecorationProvider:H.u,registerTerminalProfileProvider:H.u,onDidChangeTerminalState:B.ju.None,tabGroups:{get all(){return[pi]},activeTabGroup:pi,onDidChangeTabGroups:B.ju.None,onDidChangeTabs(ie){const o=wt.IO.get(Te.q),f=new O.SL;return f.add(o.onModelAdded(A=>{ie({opened:[Yn(A,pi)],closed:[],changed:[]})})),f.add(o.onModelRemoved(A=>{ie({opened:[],closed:[Yn(A,pi)],changed:[]})})),f},close:H.u},showNotebookDocument:H.u,visibleNotebookEditors:[],onDidChangeVisibleNotebookEditors:B.ju.None,activeNotebookEditor:void 0,onDidChangeActiveNotebookEditor:B.ju.None,onDidChangeNotebookEditorSelection:B.ju.None,onDidChangeNotebookEditorVisibleRanges:B.ju.None},Hi={appName:"Monaco",appRoot:"",language:window.navigator.language??"en-US",get uriScheme(){return(0,H.u)()},get clipboard(){const{extHostClipboard:ie}=uo();return ie.value},get machineId(){return(0,H.u)()},get sessionId(){return(0,H.u)()},remoteName:void 0,shell:"",uiKind:La.Web,asExternalUri:ie=>(0,d.Z)(function*(){const{extHostWindow:o}=uo();try{return yield o.asExternalUri(ie,{allowTunneling:!1})}catch(f){if((0,st.xn)(ie,K.lg.http)||(0,st.xn)(ie,K.lg.https))return ie;throw f}})(),openExternal:function(){var ie=(0,d.Z)(function*(o,f){const{extHostWindow:A}=uo();return A.openUri(o,{allowTunneling:!1,allowContributedOpeners:f?.allowContributedOpeners})});return function(f,A){return ie.apply(this,arguments)}}(),appHost:"web",isNewAppInstall:!1,isTelemetryEnabled:!1,onDidChangeTelemetryEnabled:B.ju.None},go=void 0,Wo={version:"1.69.0",tasks:go,notebooks:go,scm:go,debug:go,extensions:go,comments:go,authentication:go,tests:go,env:Hi,commands:Y,window:Si,workspace:St,languages:k,Breakpoint:br,CallHierarchyIncomingCall:class Xe{constructor(o,f){this.fromRanges=f,this.from=o}},CallHierarchyItem:Ke,CallHierarchyOutgoingCall:class at{constructor(o,f){this.fromRanges=f,this.to=o}},CancellationError:T.FU,CancellationTokenSource:S.C,CodeAction:R,CodeActionKind:q,CodeActionTriggerKind:Ft,CodeLens:Jt,Color:vi,ColorInformation:bi,ColorPresentation:Pi,ColorThemeKind:go,CommentMode:yr,CommentThreadCollapsibleState:dr,CompletionItem:Tt,CompletionItemKind:ge,CompletionItemTag:it,CompletionList:qt,CompletionTriggerKind:te,ConfigurationTarget:Qs,CustomExecution:Nr,DebugAdapterExecutable:ir,DebugAdapterInlineImplementation:xr,DebugAdapterNamedPipeServer:Jo,DebugAdapterServer:Fs,DebugConfigurationProviderTriggerKind:Da,DebugConsoleMode:ko,DecorationRangeBehavior:Jn,Diagnostic:Cn,DiagnosticRelatedInformation:Zt,DiagnosticSeverity:Rt,DiagnosticTag:ht,Disposable:ln,DocumentHighlight:_n,DocumentHighlightKind:ct,DocumentLink:gi,DocumentSymbol:di,EndOfLine:gt,EnvironmentVariableMutatorType:sn,EvaluatableExpression:or,InlineValueText:fs,InlineValueVariableLookup:ar,InlineValueEvaluatableExpression:lr,EventEmitter:l.E,ExtensionKind:ms,ExtensionMode:on,FileChangeType:Zr,FileDecoration:class Hs{constructor(o,f,A){this.badge=o,this.tooltip=f,this.color=A}static validate(o){if(o.badge){let f=(0,s.vH)(o.badge,0);if(f<o.badge.length&&(f+=(0,s.vH)(o.badge,f)),o.badge.length>f)throw new Error("The 'badge'-property must be undefined or a short character")}if(!o.color&&!o.badge&&!o.tooltip)throw new Error("The decoration is empty");return!0}},FileSystemError:Ys,FileType:S.F,FilePermission:S.a,FoldingRange:Ws,FoldingRangeKind:qi,FunctionBreakpoint:pr,Hover:Re,IndentAction:fl.wU,Location:Vt,MarkdownString:Sn,OverviewRulerLane:Dt.sh,ParameterInformation:Tn,Position:On,ProcessExecution:nr,ProgressLocation:Lr,QuickInputButtons:gs,Range:Fn,RelativePattern:js,Selection:dn,SelectionRange:me,SemanticTokens:wr,SemanticTokensBuilder:Sr,SemanticTokensEdit:Br,SemanticTokensEdits:ho,SemanticTokensLegend:class sr{constructor(o,f=[]){this.tokenTypes=o,this.tokenModifiers=f}},ShellExecution:Ls,ShellQuoting:Yo,SignatureHelp:Kn,SignatureHelpTriggerKind:ti,SignatureInformation:Bn,SnippetString:En,SourceBreakpoint:ks,StatusBarAlignment:rt,SymbolInformation:yi,SymbolKind:Hn,SymbolTag:Ai,Task:Ps,TaskGroup:Ro,TaskPanelKind:Ho,TaskRevealKind:Co,TaskScope:Ko,TerminalLink:class Wi{constructor(o,f,A){if(this.startIndex=o,this.length=f,this.tooltip=A,"number"!=typeof o||o<0)throw(0,T.b1)("startIndex");if("number"!=typeof f||f<1)throw(0,T.b1)("length");if(void 0!==A&&"string"!=typeof A)throw(0,T.b1)("tooltip")}},TerminalLocation:Yi,TerminalProfile:class $i{constructor(o){if(this.options=o,"object"!=typeof o)throw(0,T.b1)("options")}},TextDocumentSaveReason:cn,TextEdit:nn,TextEditorCursorStyle:_e.d2,TextEditorLineNumbersStyle:$t,TextEditorRevealType:Ln,TextEditorSelectionChangeKind:In,TextDocumentChangeReason:ni,ThemeColor:Or,ThemeIcon:er,TreeItem:sa,TreeItemCollapsibleState:mr,TypeHierarchyItem:jo,UIKind:La,Uri:C.o,ViewColumn:Ie,WorkspaceEdit:Pn,InlayHint:Ot,InlayHintLabelPart:hi,InlayHintKind:fi,NotebookRange:Ns,NotebookCellKind:se,NotebookCellData:Ur,NotebookData:class ra{constructor(o){this.cells=o}},NotebookCellStatusBarAlignment:Ce,NotebookCellOutput:Nn,NotebookCellOutputItem:tr,NotebookCellStatusBarItem:class It{constructor(o,f){this.text=o,this.alignment=f}},NotebookControllerAffinity:Pt,LinkedEditingRanges:class ii{constructor(o,f){this.ranges=o,this.wordPattern=f}},TestRunRequest:ki,TestMessage:Mo,TestTag:ts,TestRunProfileKind:Ci,DataTransfer:go,DataTransferItem:go,LanguageStatusSeverity:tn,QuickPickItemKind:rs,TabInputText:Rn,TabInputTextDiff:class Xs{constructor(o,f){this.original=o,this.modified=f}},TabInputCustom:class Qr{constructor(o,f){this.uri=o,this.viewType=f}},TabInputNotebook:class aa{constructor(o,f){this.uri=o,this.notebookType=f}},TabInputNotebookDiff:class fa{constructor(o,f,A){this.original=o,this.modified=f,this.notebookType=A}},TabInputWebview:class Ir{constructor(o){this.viewType=o}},TabInputTerminal:class Rl{constructor(){}},InputBoxValidationSeverity:xs,InlineCompletionList:ee,InlineCompletionTriggerKind:kr,InlineCompletionItem:Mt,DocumentDropEdit:Rr,NotebookEditorRevealType:Ve},{version:Ds,tasks:ds,notebooks:Cs,scm:Er,debug:gl,extensions:Pr,comments:Id,authentication:mc,tests:pc,env:Su,commands:wu,window:Du,workspace:Eu,languages:Lu,Breakpoint:xu,CallHierarchyIncomingCall:Iu,CallHierarchyItem:Tu,CallHierarchyOutgoingCall:Mu,CancellationError:Au,CancellationTokenSource:Pu,CodeAction:Nu,CodeActionKind:Ru,CodeActionTriggerKind:Ou,CodeLens:ku,Color:Fu,ColorInformation:Bu,ColorPresentation:Wu,ColorThemeKind:Vu,CommentMode:Hu,CommentThreadCollapsibleState:Uu,CompletionItem:ju,CompletionItemKind:zu,CompletionItemTag:Ku,CompletionList:$u,CompletionTriggerKind:Gu,ConfigurationTarget:Zu,CustomExecution:Qu,DebugAdapterExecutable:Yu,DebugAdapterInlineImplementation:Xu,DebugAdapterNamedPipeServer:Ju,DebugAdapterServer:qu,DebugConfigurationProviderTriggerKind:eh,DebugConsoleMode:th,DecorationRangeBehavior:nh,Diagnostic:ih,DiagnosticRelatedInformation:oh,DiagnosticSeverity:sh,DiagnosticTag:rh,Disposable:ah,DocumentHighlight:lh,DocumentHighlightKind:dh,DocumentLink:ch,DocumentSymbol:uh,EndOfLine:hh,EnvironmentVariableMutatorType:fh,EvaluatableExpression:gh,InlineValueText:mh,InlineValueVariableLookup:ph,InlineValueEvaluatableExpression:_h,EventEmitter:vh,ExtensionKind:Ch,ExtensionMode:bh,FileChangeType:yh,FileDecoration:Sh,FileSystemError:wh,FileType:Dh,FilePermission:Eh,FoldingRange:Lh,FoldingRangeKind:xh,FunctionBreakpoint:Ih,Hover:Th,IndentAction:Mh,Location:Ah,MarkdownString:Ph,OverviewRulerLane:Nh,ParameterInformation:Rh,Position:Oh,ProcessExecution:kh,ProgressLocation:Fh,QuickInputButtons:Bh,Range:Wh,RelativePattern:Vh,Selection:Hh,SelectionRange:Uh,SemanticTokens:jh,SemanticTokensBuilder:zh,SemanticTokensEdit:Kh,SemanticTokensEdits:$h,SemanticTokensLegend:Gh,ShellExecution:Zh,ShellQuoting:Qh,SignatureHelp:Yh,SignatureHelpTriggerKind:Xh,SignatureInformation:Jh,SnippetString:qh,SourceBreakpoint:ef,StatusBarAlignment:tf,SymbolInformation:nf,SymbolKind:of,SymbolTag:sf,Task:rf,TaskGroup:af,TaskPanelKind:lf,TaskRevealKind:df,TaskScope:cf,TerminalLink:uf,TerminalLocation:hf,TerminalProfile:ff,TextDocumentSaveReason:gf,TextEdit:mf,TextEditorCursorStyle:pf,TextEditorLineNumbersStyle:_f,TextEditorRevealType:vf,TextEditorSelectionChangeKind:Cf,TextDocumentChangeReason:bf,ThemeColor:yf,ThemeIcon:Sf,TreeItem:wf,TreeItemCollapsibleState:Df,TypeHierarchyItem:Ef,UIKind:Lf,Uri:xf,ViewColumn:If,WorkspaceEdit:Tf,InlayHint:Mf,InlayHintLabelPart:Af,InlayHintKind:Pf,NotebookRange:Nf,NotebookCellKind:Rf,NotebookCellData:Of,NotebookData:kf,NotebookCellStatusBarAlignment:Ff,NotebookCellOutput:Bf,NotebookCellOutputItem:Wf,NotebookCellStatusBarItem:Vf,NotebookControllerAffinity:Hf,LinkedEditingRanges:Uf,TestRunRequest:jf,TestMessage:zf,TestTag:Kf,TestRunProfileKind:$f,DataTransfer:Gf,DataTransferItem:Zf,LanguageStatusSeverity:Qf,QuickPickItemKind:Yf,TabInputText:Xf,TabInputTextDiff:Jf,TabInputCustom:qf,TabInputNotebook:eg,TabInputNotebookDiff:tg,TabInputWebview:ng,TabInputTerminal:ig,InputBoxValidationSeverity:og,InlineCompletionList:sg,InlineCompletionTriggerKind:rg,InlineCompletionItem:ag,DocumentDropEdit:lg,NotebookEditorRevealType:dg}=Wo},34042:(Et,X,e)=>{"use strict";e.d(X,{B:()=>we,I:()=>Lt,a:()=>de,b:()=>he,c:()=>ae,i:()=>Ze,r:()=>Ne,u:()=>be});var M,d=e(17374),t=e(67044),l=e(4496),S=e(9265),v=e(73879),T=e(3778),C=e(99775),E=e(51915),L=e(37451),c=(e(61699),e(15067),e(32068),e(4259)),n=e(27386),a=e(71664),p=e(80142),u=e(48648),g=e(55197),b=e(59547),y=e(37188),D=e(16468),w=e(8841),I=e(40734),P=e(4125),O=e(7886),U=(e(50819),e(66287)),K=e(58783),F=e(37428),B=e(38980),z=e(47494),$=e(53559),j=e(33745),ne=e(59310),N=e(55538),V=e(46090),Z=e(98463),fe=e(75366);class Le{constructor(yn){this.confusableDictionary=yn}static getInstance(yn){return Le.cache.get(Array.from(yn))}static getLocales(){return Le._locales.getValue()}isAmbiguous(yn){return this.confusableDictionary.has(yn)}getPrimaryConfusable(yn){return this.confusableDictionary.get(yn)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}function Ne(Vn,yn){return new Promise((zn,li)=>{const oi=yn.onCancellationRequested(()=>{oi.dispose(),li(new P.FU)});Vn.then(zn,li).finally(()=>oi.dispose())})}M=Le,Le.ambiguousCharacterData=new n.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Le.cache=new a.t(Vn=>{function yn(ro){const _o=new Map;for(let mo=0;mo<ro.length;mo+=2)_o.set(ro[mo],ro[mo+1]);return _o}function li(ro,_o){if(!ro)return _o;const mo=new Map;for(const[si,Qt]of ro)_o.has(si)&&mo.set(si,Qt);return mo}const oi=M.ambiguousCharacterData.getValue();let so,Li=Vn.filter(ro=>!ro.startsWith("_")&&ro in oi);0===Li.length&&(Li=["_default"]);for(const ro of Li)so=li(so,yn(oi[ro]));const xo=function zn(ro,_o){const mo=new Map(ro);for(const[si,Qt]of _o)mo.set(si,Qt);return mo}(yn(oi._common),so);return new Le(xo)}),Le._locales=new n.o(()=>Object.keys(Le.ambiguousCharacterData.getValue()).filter(Vn=>!Vn.startsWith("_")));class we{constructor(){this._isOpen=!1,this._promise=new Promise((yn,zn)=>{this._completePromise=yn})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}class de{constructor(yn,zn=(()=>Date.now())){this.interval=yn,this.nowFn=zn,this.lastIncrementTime=0,this.value=0}increment(){const yn=this.nowFn();return yn-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=yn,this.value=0),this.value++,this.value}}const ce=(0,S.yh)("policy"),Dt="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",Lt=(0,S.yh)("extensionService");function Ze(Vn,yn){return!!Vn.enabledApiProposals&&Vn.enabledApiProposals.includes(yn)}function ae(Vn,yn){if(!Ze(Vn,yn))throw new Error(`Extension '${Vn.identifier.value}' CANNOT use API proposal: ${yn}.\nIts package.json#enabledApiProposals-property declares: ${Vn.enabledApiProposals?.join(", ")??"[]"} but NOT ${yn}.\n The missing proposal MUST be added and you must start in extension development mode or use the following command line switch: --enable-proposed-api ${Vn.identifier.value}`)}const he=(0,S.yh)("lifecycleService"),le=(0,S.yh)("ILanguageDetectionService"),Q=(0,S.yh)("keyboardLayoutService");class ve{constructor(yn){this._OS=yn}dumpDebugInfo(){return"FallbackKeyboardMapper dispatching on keyCode"}resolveKeybinding(yn){return[new E.j(yn,this._OS)]}resolveKeyboardEvent(yn){const zn=new L.QC(yn.ctrlKey,yn.shiftKey,yn.altKey,yn.metaKey,yn.keyCode);return new E.j(zn.toChord(),this._OS)}resolveUserBinding(yn){return E.j.resolveUserBinding(yn,this._OS)}}const st=(0,l.s)(y.Y),et=Object.freeze({authSession:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts",badges:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.badges.d.ts",commentsResolvedState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.commentsResolvedState.d.ts",contribEditSessions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts",contribLabelFormatterWorkspaceTooltip:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts",contribMenuBarHome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts",contribMergeEditorToolbar:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorToolbar.d.ts",contribRemoteHelp:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts",contribShareMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts",contribViewSize:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewSize.d.ts",contribViewsRemote:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts",contribViewsWelcome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts",contribWebviewContext:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribWebviewContext.d.ts",customEditorMove:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts",diffCommand:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts",documentFiltersExclusive:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts",documentPaste:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts",editorInsets:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts",extensionRuntime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts",extensionsAny:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts",externalUriOpener:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts",fileSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts",findTextInFiles:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts",fsChunks:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts",idToken:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts",inlineCompletionsAdditions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts",inlineCompletionsNew:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsNew.d.ts",interactiveWindow:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts",ipc:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts",notebookCellExecutionState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts",notebookContentProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookContentProvider.d.ts",notebookControllerKind:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerKind.d.ts",notebookDebugOptions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDebugOptions.d.ts",notebookDeprecated:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts",notebookEditor:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookEditor.d.ts",notebookEditorEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookEditorEdit.d.ts",notebookKernelSource:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts",notebookLiveShare:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts",notebookMessaging:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts",notebookMime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts",notebookWorkspaceEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookWorkspaceEdit.d.ts",portsAttributes:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts",quickPickSortByLabel:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts",resolvers:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts",scmActionButton:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts",scmSelectedProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts",scmValidation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts",snippetWorkspaceEdit:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.snippetWorkspaceEdit.d.ts",tabInputTextMerge:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts",taskPresentationGroup:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts",telemetry:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts",terminalDataWriteEvent:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts",terminalDimensions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts",terminalExitReason:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalExitReason.d.ts",testCoverage:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testCoverage.d.ts",testObserver:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts",textSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts",timeline:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts",tokenInformation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts",treeViewReveal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts",workspaceTrust:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"}),Qe=c.B.as(O.I.JSONContribution);class vt{constructor(yn,zn){this.added=yn,this.removed=zn}static _toSet(yn){const zn=new Set;for(let li=0,oi=yn.length;li<oi;li++)zn.add(C.k.toKey(yn[li].description.identifier));return zn}static compute(yn,zn){if(!yn||!yn.length)return new vt(zn,[]);if(!zn||!zn.length)return new vt([],yn);const li=this._toSet(yn),oi=this._toSet(zn),Li=zn.filter(oo=>!li.has(C.k.toKey(oo.description.identifier))),so=yn.filter(oo=>!oi.has(C.k.toKey(oo.description.identifier)));return new vt(Li,so)}}class mt{constructor(yn,zn){this.name=yn,this.defaultExtensionKind=zn,this._handler=null,this._users=null,this._delta=null}setHandler(yn){if(null!==this._handler)throw new Error("Handler already set!");this._handler=yn,this._handle()}acceptUsers(yn){this._delta=vt.compute(this._users,yn),this._users=yn,this._handle()}_handle(){if(null!==this._handler&&null!==this._users&&null!==this._delta)try{this._handler(this._users,this._delta)}catch(yn){(0,P.dL)(yn)}}}const _t={type:"string",enum:["ui","workspace"],enumDescriptions:[(0,g.NC)("ui","UI extension kind. In a remote window, such extensions are enabled only when available on the local machine."),(0,g.NC)("workspace","Workspace extension kind. In a remote window, such extensions are enabled only when available on the remote.")]},Kt="vscode://schemas/vscode-extensions",Bt={properties:{engines:{type:"object",description:(0,g.NC)("vscode.extension.engines","Engine compatibility."),properties:{vscode:{type:"string",description:(0,g.NC)("vscode.extension.engines.vscode","For VS Code extensions, specifies the VS Code version that the extension is compatible with. Cannot be *. For example: ^0.10.5 indicates compatibility with a minimum VS Code version of 0.10.5."),default:"^1.22.0"}}},publisher:{description:(0,g.NC)("vscode.extension.publisher","The publisher of the VS Code extension."),type:"string"},displayName:{description:(0,g.NC)("vscode.extension.displayName","The display name for the extension used in the VS Code gallery."),type:"string"},categories:{description:(0,g.NC)("vscode.extension.categories","The categories used by the VS Code gallery to categorize the extension."),type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"]},{type:"string",const:"Languages",deprecationMessage:(0,g.NC)("vscode.extension.category.languages.deprecated","Use 'Programming  Languages' instead")}]}},galleryBanner:{type:"object",description:(0,g.NC)("vscode.extension.galleryBanner","Banner used in the VS Code marketplace."),properties:{color:{description:(0,g.NC)("vscode.extension.galleryBanner.color","The banner color on the VS Code marketplace page header."),type:"string"},theme:{description:(0,g.NC)("vscode.extension.galleryBanner.theme","The color theme for the font used in the banner."),type:"string",enum:["dark","light"]}}},contributes:{description:(0,g.NC)("vscode.extension.contributes","All contributions of the VS Code extension represented by this package."),type:"object",properties:{},default:{}},preview:{type:"boolean",description:(0,g.NC)("vscode.extension.preview","Sets the extension to be flagged as a Preview in the Marketplace.")},enableProposedApi:{type:"boolean",deprecationMessage:(0,g.NC)("vscode.extension.enableProposedApi.deprecated","Use `enabledApiProposals` instead.")},enabledApiProposals:{markdownDescription:(0,g.NC)("vscode.extension.enabledApiProposals","Enable API proposals to try them out. Only valid **during development**. Extensions **cannot be published** with this property. For more details visit: https://code.visualstudio.com/api/advanced-topics/using-proposed-api"),type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(et),markdownEnumDescriptions:Object.values(et)}},activationEvents:{description:(0,g.NC)("vscode.extension.activationEvents","Activation events for the VS Code extension."),type:"array",items:{type:"string",defaultSnippets:[{label:"onWebviewPanel",description:(0,g.NC)("vscode.extension.activationEvents.onWebviewPanel","An activation event emmited when a webview is loaded of a certain viewType"),body:"onWebviewPanel:viewType"},{label:"onLanguage",description:(0,g.NC)("vscode.extension.activationEvents.onLanguage","An activation event emitted whenever a file that resolves to the specified language gets opened."),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:(0,g.NC)("vscode.extension.activationEvents.onCommand","An activation event emitted whenever the specified command gets invoked."),body:"onCommand:${2:commandId}"},{label:"onDebug",description:(0,g.NC)("vscode.extension.activationEvents.onDebug","An activation event emitted whenever a user is about to start debugging or about to setup debug configurations."),body:"onDebug"},{label:"onDebugInitialConfigurations",description:(0,g.NC)("vscode.extension.activationEvents.onDebugInitialConfigurations",'An activation event emitted whenever a "launch.json" needs to be created (and all provideDebugConfigurations methods need to be called).'),body:"onDebugInitialConfigurations"},{label:"onDebugDynamicConfigurations",description:(0,g.NC)("vscode.extension.activationEvents.onDebugDynamicConfigurations",'An activation event emitted whenever a list of all debug configurations needs to be created (and all provideDebugConfigurations methods for the "dynamic" scope need to be called).'),body:"onDebugDynamicConfigurations"},{label:"onDebugResolve",description:(0,g.NC)("vscode.extension.activationEvents.onDebugResolve","An activation event emitted whenever a debug session with the specific type is about to be launched (and a corresponding resolveDebugConfiguration method needs to be called)."),body:"onDebugResolve:${6:type}"},{label:"onDebugAdapterProtocolTracker",description:(0,g.NC)("vscode.extension.activationEvents.onDebugAdapterProtocolTracker","An activation event emitted whenever a debug session with the specific type is about to be launched and a debug protocol tracker might be needed."),body:"onDebugAdapterProtocolTracker:${6:type}"},{label:"workspaceContains",description:(0,g.NC)("vscode.extension.activationEvents.workspaceContains","An activation event emitted whenever a folder is opened that contains at least a file matching the specified glob pattern."),body:"workspaceContains:${4:filePattern}"},{label:"onStartupFinished",description:(0,g.NC)("vscode.extension.activationEvents.onStartupFinished","An activation event emitted after the start-up finished (after all `*` activated extensions have finished activating)."),body:"onStartupFinished"},{label:"onTaskType",description:(0,g.NC)("vscode.extension.activationEvents.onTaskType","An activation event emitted whenever tasks of a certain type need to be listed or resolved."),body:"onTaskType:${1:taskType}"},{label:"onFileSystem",description:(0,g.NC)("vscode.extension.activationEvents.onFileSystem","An activation event emitted whenever a file or folder is accessed with the given scheme."),body:"onFileSystem:${1:scheme}"},{label:"onSearch",description:(0,g.NC)("vscode.extension.activationEvents.onSearch","An activation event emitted whenever a search is started in the folder with the given scheme."),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:(0,g.NC)("vscode.extension.activationEvents.onView","An activation event emitted whenever the specified view is expanded.")},{label:"onIdentity",body:"onIdentity:${8:identity}",description:(0,g.NC)("vscode.extension.activationEvents.onIdentity","An activation event emitted whenever the specified user identity.")},{label:"onUri",body:"onUri",description:(0,g.NC)("vscode.extension.activationEvents.onUri","An activation event emitted whenever a system-wide Uri directed towards this extension is open.")},{label:"onOpenExternalUri",body:"onOpenExternalUri",description:(0,g.NC)("vscode.extension.activationEvents.onOpenExternalUri","An activation event emitted whenever a external uri (such as an http or https link) is being opened.")},{label:"onCustomEditor",body:"onCustomEditor:${9:viewType}",description:(0,g.NC)("vscode.extension.activationEvents.onCustomEditor","An activation event emitted whenever the specified custom editor becomes visible.")},{label:"onNotebook",body:"onNotebook:${1:type}",description:(0,g.NC)("vscode.extension.activationEvents.onNotebook","An activation event emitted whenever the specified notebook document is opened.")},{label:"onAuthenticationRequest",body:"onAuthenticationRequest:${11:authenticationProviderId}",description:(0,g.NC)("vscode.extension.activationEvents.onAuthenticationRequest","An activation event emitted whenever sessions are requested from the specified authentication provider.")},{label:"onRenderer",description:(0,g.NC)("vscode.extension.activationEvents.onRenderer","An activation event emitted whenever a notebook output renderer is used."),body:"onRenderer:${11:rendererId}"},{label:"onTerminalProfile",body:"onTerminalProfile:${1:terminalId}",description:(0,g.NC)("vscode.extension.activationEvents.onTerminalProfile","An activation event emitted when a specific terminal profile is launched.")},{label:"onWalkthrough",body:"onWalkthrough:${1:walkthroughID}",description:(0,g.NC)("vscode.extension.activationEvents.onWalkthrough","An activation event emitted when a specified walkthrough is opened.")},{label:"*",description:(0,g.NC)("vscode.extension.activationEvents.star","An activation event emitted on VS Code startup. To ensure a great end user experience, please use this activation event in your extension only when no other activation events combination works in your use-case."),body:"*"}]}},badges:{type:"array",description:(0,g.NC)("vscode.extension.badges","Array of badges to display in the sidebar of the Marketplace's extension page."),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:(0,g.NC)("vscode.extension.badges.url","Badge image URL.")},href:{type:"string",description:(0,g.NC)("vscode.extension.badges.href","Badge link.")},description:{type:"string",description:(0,g.NC)("vscode.extension.badges.description","Badge description.")}}}},markdown:{type:"string",description:(0,g.NC)("vscode.extension.markdown","Controls the Markdown rendering engine used in the Marketplace. Either github (default) or standard."),enum:["github","standard"],default:"github"},qna:{default:"marketplace",description:(0,g.NC)("vscode.extension.qna","Controls the Q&A link in the Marketplace. Set to marketplace to enable the default Marketplace Q & A site. Set to a string to provide the URL of a custom Q & A site. Set to false to disable Q & A altogether."),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:(0,g.NC)("vscode.extension.extensionDependencies","Dependencies to other extensions. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:Dt}},extensionPack:{description:(0,g.NC)("vscode.extension.contributes.extensionPack","A set of extensions that can be installed together. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp."),type:"array",uniqueItems:!0,items:{type:"string",pattern:Dt}},extensionKind:{description:(0,g.NC)("extensionKind","Define the kind of an extension. `ui` extensions are installed and run on the local machine while `workspace` extensions run on the remote."),type:"array",items:_t,default:["workspace"],defaultSnippets:[{body:["ui"],description:(0,g.NC)("extensionKind.ui","Define an extension which can run only on the local machine when connected to remote window.")},{body:["workspace"],description:(0,g.NC)("extensionKind.workspace","Define an extension which can run only on the remote machine when connected remote window.")},{body:["ui","workspace"],description:(0,g.NC)("extensionKind.ui-workspace","Define an extension which can run on either side, with a preference towards running on the local machine.")},{body:["workspace","ui"],description:(0,g.NC)("extensionKind.workspace-ui","Define an extension which can run on either side, with a preference towards running on the remote machine.")},{body:[],description:(0,g.NC)("extensionKind.empty","Define an extension which cannot run in a remote context, neither on the local, nor on the remote machine.")}]},capabilities:{description:(0,g.NC)("vscode.extension.capabilities","Declare the set of supported capabilities by the extension."),type:"object",properties:{virtualWorkspaces:{description:(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces","Declares whether the extension should be enabled in virtual workspaces. A virtual workspace is a workspace which is not backed by any on-disk resources. When false, this extension will be automatically disabled in virtual workspaces. Default is true."),type:["boolean","object"],defaultSnippets:[{label:"limited",body:{supported:"${1:limited}",description:"${2}"}},{label:"false",body:{supported:!1,description:"${2}"}}],default:(!0).valueOf,properties:{supported:{markdownDescription:(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.supported","Declares the level of support for virtual workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.limited","The extension will be enabled in virtual workspaces with some functionality disabled."),(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.true","The extension will be enabled in virtual workspaces with all functionality enabled."),(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.supported.false","The extension will not be enabled in virtual workspaces.")]},description:{type:"string",markdownDescription:(0,g.NC)("vscode.extension.capabilities.virtualWorkspaces.description","A description of how virtual workspaces affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}},untrustedWorkspaces:{description:(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces","Declares how the extension should be handled in untrusted workspaces."),type:"object",required:["supported"],defaultSnippets:[{body:{supported:"${1:limited}",description:"${2}"}}],properties:{supported:{markdownDescription:(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported","Declares the level of support for untrusted workspaces by the extension."),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.limited","The extension will be enabled in untrusted workspaces with some functionality disabled."),(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.true","The extension will be enabled in untrusted workspaces with all functionality enabled."),(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.supported.false","The extension will not be enabled in untrusted workspaces.")]},restrictedConfigurations:{description:(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.restrictedConfigurations","A list of configuration keys contributed by the extension that should not use workspace values in untrusted workspaces."),type:"array",items:{type:"string"}},description:{type:"string",markdownDescription:(0,g.NC)("vscode.extension.capabilities.untrustedWorkspaces.description","A description of how workspace trust affects the extensions behavior and why it is needed. This only applies when `supported` is not `true`.")}}}}},sponsor:{description:(0,g.NC)("vscode.extension.contributes.sponsor","Specify the location from where users can sponsor your extension."),type:"object",defaultSnippets:[{body:{url:"${1:https:}"}}],properties:{url:{description:(0,g.NC)("vscode.extension.contributes.sponsor.url","URL from where users can sponsor your extension. It must be a valid URL with a HTTP or HTTPS protocol. Example value: https://github.com/sponsors/nvaccess"),type:"string"}}},scripts:{type:"object",properties:{"vscode:prepublish":{description:(0,g.NC)("vscode.extension.scripts.prepublish","Script executed before the package is published as a VS Code extension."),type:"string"},"vscode:uninstall":{description:(0,g.NC)("vscode.extension.scripts.uninstall","Uninstall hook for VS Code extension. Script that gets executed when the extension is completely uninstalled from VS Code which is when VS Code is restarted (shutdown and start) after the extension is uninstalled. Only Node scripts are supported."),type:"string"}}},icon:{type:"string",description:(0,g.NC)("vscode.extension.icon","The path to a 128x128 pixel icon.")}}};c.B.add("ExtensionsRegistry",new class Ge{constructor(){this._extensionPoints=new Map}registerExtensionPoint(yn){if(this._extensionPoints.has(yn.extensionPoint))throw new Error("Duplicate extension point: "+yn.extensionPoint);const zn=new mt(yn.extensionPoint,yn.defaultExtensionKind);return this._extensionPoints.set(yn.extensionPoint,zn),Bt.properties.contributes.properties[yn.extensionPoint]=yn.jsonSchema,Qe.registerSchema(Kt,Bt),zn}getExtensionPoints(){return Array.from(this._extensionPoints.values())}}),c.B.as("ExtensionsRegistry"),Qe.registerSchema(Kt,Bt),Qe.registerSchema(l.p,{properties:{extensionEnabledApiProposals:{description:(0,g.NC)("product.extensionEnabledApiProposals","API proposals that the respective extensions can freely use."),type:"object",properties:{},additionalProperties:{anyOf:[{type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(et),markdownEnumDescriptions:Object.values(et)}}]}}}}),(0,U.q5)("settings-sync-view-icon",K.lA.sync,(0,g.NC)("syncViewIcon","View icon of the Settings Sync view."));const hn=(0,S.yh)("IUserDataInitializationService"),Dn=(0,S.yh)("hostColorSchemeService"),je=(0,S.yh)("preferencesService"),ye=(0,S.yh)("textMateService"),Me=(0,S.yh)("IUserDataProfileService");D.Ao.and(B.j_.notEqualsTo("stable"),D.SI.create(`config.${l.P}`));let ue=class extends p.JT{constructor(yn,zn){super(),this._onDidChangeCurrentProfile=this._register(new t.E),this.onDidChangeCurrentProfile=this._onDidChangeCurrentProfile.event,this._onDidUpdateCurrentProfile=this._register(new t.E),this.onDidUpdateCurrentProfile=this._onDidUpdateCurrentProfile.event,this._currentProfile=yn,this._register(zn.onDidChangeProfiles(li=>{if(this._currentProfile.isDefault)return void(this._currentProfile=zn.defaultProfile);const oi=li.updated.find(Li=>this._currentProfile.id===Li.id);oi&&(this._currentProfile=oi,this._onDidUpdateCurrentProfile.fire())}))}get currentProfile(){return this._currentProfile}updateCurrentProfile(yn,zn){var li=this;return(0,d.Z)(function*(){if(li._currentProfile.id===yn.id)return;const oi=li._currentProfile;li._currentProfile=yn;const Li=[];li._onDidChangeCurrentProfile.fire({preserveData:zn,previous:oi,profile:yn,join(so){Li.push(so)}}),yield u.jT.settled(Li)})()}};function be(){throw new Error("unsupported")}ue=(0,t._)([(0,t.a)(1,l.q)],ue),(0,z.z)(l.I,class{constructor(){this._serviceBrand=void 0,this.onDidActiveEditorChange=T.ju.None,this.onDidVisibleEditorsChange=T.ju.None,this.onDidEditorsChange=T.ju.None,this.onDidCloseEditor=T.ju.None,this.activeEditorPane=void 0,this.activeEditor=void 0,this.activeTextEditorLanguageId=void 0,this.visibleEditorPanes=[],this.visibleEditors=[],this.visibleTextEditorControls=[],this.editors=[],this.count=0,this.getEditors=()=>[],this.openEditor=be,this.openEditors=be,this.replaceEditors=(0,d.Z)(function*(){}),this.isOpened=()=>!1,this.isVisible=()=>!1,this.closeEditor=(0,d.Z)(function*(){}),this.closeEditors=(0,d.Z)(function*(){}),this.findEditors=()=>[],this.save=(0,d.Z)(function*(){return!1}),this.saveAll=(0,d.Z)(function*(){return!1}),this.revert=(0,d.Z)(function*(){return!1}),this.revertAll=(0,d.Z)(function*(){return!1})}get activeTextEditorControl(){return $.IO.get(j.$).getFocusedCodeEditor()??void 0}}),(0,z.z)(l.g,class{constructor(){this._serviceBrand=void 0,this.onDidPaneCompositeOpen=T.ju.None,this.onDidPaneCompositeClose=T.ju.None,this.openPaneComposite=be,this.getActivePaneComposite=()=>{},this.getPaneComposite=()=>{},this.getPaneComposites=()=>[],this.getPinnedPaneCompositeIds=()=>[],this.getVisiblePaneCompositeIds=()=>[],this.getProgressIndicator=()=>{},this.hideActivePaneComposite=()=>{},this.getLastActivePaneCompositeId=be,this.showActivity=be}}),(0,z.z)(l.f,class{constructor(){this._serviceBrand=void 0,this.extUri=new I.U9(()=>!1)}asCanonicalUri(yn){return yn}});const qe=new t.E;class Fe{constructor(){this.onDidCreate=T.ju.None,this.onDidResolve=T.ju.None,this.onDidChangeDirty=T.ju.None,this.onDidChangeReadonly=T.ju.None,this.onDidRemove=T.ju.None,this.onDidChangeOrphaned=T.ju.None,this.onDidChangeEncoding=T.ju.None,this.onDidSaveError=T.ju.None,this.onDidSave=qe.event,this.onDidRevert=T.ju.None,this.models=[],this.saveErrorHandler={onSaveError:be},this.get=()=>{},this.resolve=be,this.addSaveParticipant=be,this.runSaveParticipants=be}canDispose(){return!0}}(0,z.z)(l.h,class{constructor(){this._serviceBrand=void 0,this.files=new Fe,this.isDirty=()=>!1,this.save=be,this.saveAs=be,this.revert=be,this.read=be,this.readStream=be,this.write=be,this.create=be,this.getEncodedReadable=be,this.getDecodedStream=be}get untitled(){return be()}get encoding(){return be()}dispose(){}}),(0,z.z)(l.i,class{constructor(){this._serviceBrand=void 0,this.onDidChangeFileSystemProviderRegistrations=T.ju.None,this.onDidChangeFileSystemProviderCapabilities=T.ju.None,this.onWillActivateFileSystemProvider=T.ju.None,this.registerProvider=be,this.getProvider=function(){},this.activateProvider=(0,d.Z)(function*(){}),this.canHandleResource=(0,d.Z)(function*(){return!1}),this.hasProvider=()=>!1,this.hasCapability=()=>!1,this.listCapabilities=()=>[],this.onDidFilesChange=T.ju.None,this.onDidRunOperation=T.ju.None,this.resolve=be,this.resolveAll=be,this.stat=be,this.exists=(0,d.Z)(function*(){return!1}),this.readFile=be,this.readFileStream=be,this.writeFile=be,this.move=be,this.canMove=be,this.copy=be,this.canCopy=be,this.cloneFile=be,this.createFile=be,this.canCreateFile=be,this.createFolder=be,this.del=be,this.canDelete=be,this.onDidWatchError=T.ju.None,this.watch=be}dispose(){}});class ot{constructor(){this.onDidModelChange=T.ju.None,this.onWillDispose=T.ju.None,this.onDidActiveEditorChange=T.ju.None,this.onWillCloseEditor=T.ju.None,this.onDidCloseEditor=T.ju.None,this.onWillMoveEditor=T.ju.None,this.onWillOpenEditor=T.ju.None,this.id=0,this.index=0,this.label="main",this.ariaLabel="main",this.activeEditorPane=void 0,this.activeEditor=null,this.previewEditor=null,this.count=0,this.isEmpty=!1,this.isLocked=!1,this.stickyCount=0,this.editors=[],this.getEditors=be,this.findEditors=be,this.getEditorByIndex=be,this.getIndexOfEditor=be,this.openEditor=be,this.openEditors=be,this.isPinned=be,this.isSticky=be,this.isActive=be,this.contains=be,this.moveEditor=be,this.moveEditors=be,this.copyEditor=be,this.copyEditors=be,this.closeEditor=be,this.closeEditors=be,this.closeAllEditors=be,this.replaceEditors=be,this.pinEditor=be,this.stickEditor=be,this.unstickEditor=be,this.lock=be,this.isFirst=()=>!0,this.isLast=()=>!0}get scopedContextKeyService(){return $.IO.get(D.i6)}focus(){}}(0,z.z)(l.b,class{constructor(){this._serviceBrand=void 0,this.onDidChangeActiveGroup=T.ju.None,this.onDidAddGroup=T.ju.None,this.onDidRemoveGroup=T.ju.None,this.onDidMoveGroup=T.ju.None,this.onDidActivateGroup=T.ju.None,this.onDidLayout=T.ju.None,this.onDidScroll=T.ju.None,this.onDidChangeGroupIndex=T.ju.None,this.onDidChangeGroupLocked=T.ju.None,this.activeGroup=new ot,this.groups=[],this.count=0,this.orientation=0,this.isReady=!1,this.whenReady=Promise.resolve(),this.whenRestored=Promise.resolve(),this.hasRestorableState=!1,this.getGroups=()=>[],this.getGroup=()=>{},this.activateGroup=be,this.getSize=be,this.setSize=be,this.arrangeGroups=be,this.applyLayout=be,this.centerLayout=be,this.isLayoutCentered=()=>!1,this.setGroupOrientation=be,this.findGroup=()=>{},this.addGroup=be,this.removeGroup=be,this.moveGroup=be,this.mergeGroup=be,this.mergeAllGroups=be,this.copyGroup=be,this.onDidChangeEditorPartOptions=T.ju.None,this.enforcePartOptions=be}get contentDimension(){return be()}get sideGroup(){return be()}get partOptions(){return be()}});class bt{constructor(){this._serviceBrand=void 0,this.skipReleaseNotes=!0,this.skipWelcome=!0,this.disableWorkspaceTrust=!0,this.debugRenderer=!1,this.sync=void 0,this.isExtensionDevelopment=!1,this.disableExtensions=!1,this.logsPath="",this.verbose=!1,this.isBuilt=!0,this.disableTelemetry=!1}get logFile(){return be()}get extHostLogsPath(){return be()}get webviewExternalEndpoint(){return be()}get userRoamingDataHome(){return be()}get keyboardLayoutResource(){return be()}get argvResource(){return be()}get snippetsHome(){return b.o.from({scheme:"user",path:"/snippets"})}get untitledWorkspacesHome(){return be()}get globalStorageHome(){return be()}get workspaceStorageHome(){return be()}get localHistoryHome(){return be()}get cacheHome(){return be()}get userDataSyncHome(){return be()}get userDataSyncLogResource(){return be()}get debugExtensionHost(){return be()}get telemetryLogResource(){return be()}get serviceMachineIdResource(){return be()}get stateResource(){return be()}get editSessionsLogResource(){return be()}}(0,z.z)(l.j,bt),(0,z.z)(y.Y,bt),(0,z.z)(st,bt),(0,z.z)(l.k,class{constructor(){this._serviceBrand=void 0,this.onWillRunWorkingCopyFileOperation=T.ju.None,this.onDidFailWorkingCopyFileOperation=T.ju.None,this.onDidRunWorkingCopyFileOperation=T.ju.None,this.addFileOperationParticipant=be,this.hasSaveParticipants=!1,this.addSaveParticipant=be,this.runSaveParticipants=be,this.create=be,this.createFolder=be,this.move=be,this.copy=be,this.delete=be,this.registerWorkingCopyProvider=be,this.getDirty=be}}),(0,z.z)(l.l,class{constructor(){this._serviceBrand=void 0,this.defaultUriScheme=ne.lg.file,this.userHome=be,this.hasValidBasename=be,this.resolvedUserHome=void 0}get path(){return be()}fileURI(yn){return(0,d.Z)(function*(){return b.o.file(yn)})()}}),(0,z.z)(N.R9,class{constructor(){this._serviceBrand=void 0}withProgress(yn,zn,li){const{window:oi}=l.S.get();return null!=oi?.withProgress?oi.withProgress(yn,zn,li):zn({report:()=>{}})}}),(0,z.z)(l.c,class{constructor(){this._serviceBrand=void 0,this.version="1.69.0",this.nameShort="Code - OSS Dev",this.nameLong="Code - OSS Dev",this.applicationName="code-oss",this.dataFolderName=".vscode-oss",this.urlProtocol="code-oss",this.reportIssueUrl="https://github.com/microsoft/vscode/issues/new",this.licenseName="MIT",this.licenseUrl="https://github.com/microsoft/vscode/blob/main/LICENSE.txt",this.serverApplicationName="code-server-oss"}}),(0,z.z)(l.n,class{constructor(){this._provider=new V.c,this.onDidChange=this._provider.onDidChange}addStatus(yn){return this._provider.register(yn.selector,yn)}getLanguageStatus(yn){return this._provider.ordered(yn).sort((zn,li)=>{let oi=li.severity-zn.severity;return 0===oi&&(oi=(0,v.qu)(zn.source,li.source)),0===oi&&(oi=(0,v.qu)(zn.id,li.id)),oi})}});const Ht=(0,Z.go)(window),vn=new fe.Y(window.document,"visibilitychange"),Mn=T.ju.latch(T.ju.any(T.ju.map(Ht.onDidFocus,()=>document.hasFocus()),T.ju.map(Ht.onDidBlur,()=>document.hasFocus()),T.ju.map(vn.event,()=>document.hasFocus())));(0,z.z)(l.o,class{constructor(){this.onDidChangeFocus=Mn,this.openWindow=be,this.restart=be,this.reload=be,this.close=be}get hasFocus(){return document.hasFocus()}hadLastFocus(){return(0,d.Z)(function*(){return!0})()}focus(){return(0,d.Z)(function*(){window.focus()})()}toggleFullScreen(){return(0,d.Z)(function*(){document.fullscreenEnabled?yield document.body.requestFullscreen():yield document.exitFullscreen()})()}}),(0,z.z)(he,class{constructor(){this.startupKind=1,this.phase=2,this.onBeforeShutdown=T.ju.None,this.onShutdownVeto=T.ju.None,this.onBeforeShutdownError=T.ju.None,this.onWillShutdown=T.ju.None,this.onDidShutdown=T.ju.None,this.shutdown=be}when(){return(0,d.Z)(function*(){})()}}),(0,z.z)(le,class{isEnabledForLanguage(){return!1}detectLanguage(){return(0,d.Z)(function*(){})()}}),(0,z.z)(Lt,class _e{constructor(){this.onDidRegisterExtensions=T.ju.None,this.onDidChangeExtensionsStatus=T.ju.None,this.onDidChangeExtensions=T.ju.None,this.onWillActivateByEvent=T.ju.None,this.onDidChangeResponsiveChange=T.ju.None}activateByEvent(yn){return Promise.resolve(void 0)}activationEventIsDone(yn){return!1}whenInstalledExtensionsRegistered(){return Promise.resolve(!0)}getExtensions(){return Promise.resolve([])}getExtension(){return Promise.resolve(void 0)}readExtensionPointContributions(yn){return Promise.resolve(Object.create(null))}getExtensionsStatus(){return Object.create(null)}getInspectPort(yn,zn){return Promise.resolve(0)}getInspectPorts(yn,zn){return Promise.resolve([])}stopExtensionHosts(){}restartExtensionHost(){return(0,d.Z)(function*(){})()}startExtensionHosts(){return(0,d.Z)(function*(){})()}setRemoteEnvironment(yn){return(0,d.Z)(function*(){})()}canAddExtension(){return!1}canRemoveExtension(){return!1}_activateById(yn,zn){return Promise.resolve()}}),(0,z.z)(Q,class{constructor(){this.onDidChangeKeyboardLayout=T.ju.None,this.getRawKeyboardMapping=()=>null,this.getCurrentKeyboardLayout=()=>null,this.getAllKeyboardLayouts=()=>[],this.getKeyboardMapper=()=>new ve(w.OS),this.validateCurrentKeyboardMapping=()=>{}}}),(0,z.z)(hn,class{requiresInitialization(){return(0,d.Z)(function*(){return!1})()}whenInitializationFinished(){return(0,d.Z)(function*(){})()}initializeRequiredResources(){return(0,d.Z)(function*(){})()}initializeInstalledExtensions(){return(0,d.Z)(function*(){})()}initializeOtherResources(){return(0,d.Z)(function*(){})()}}),(0,z.z)(Dn,class wt extends p.JT{constructor(){super(),this._onDidSchemeChangeEvent=this._register(new t.E),this.registerListeners()}registerListeners(){(0,F.addMatchMediaChangeListener)("(prefers-color-scheme: dark)",()=>{this._onDidSchemeChangeEvent.fire()}),(0,F.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onDidSchemeChangeEvent.fire()})}get onDidChangeColorScheme(){return this._onDidSchemeChangeEvent.event}get dark(){return!window.matchMedia("(prefers-color-scheme: light)").matches&&!!window.matchMedia("(prefers-color-scheme: dark)").matches}get highContrast(){return!!window.matchMedia("(forced-colors: active)").matches}}),(0,z.z)(je,class{constructor(){this.workspaceSettingsResource=null,this.getFolderSettingsResource=be,this.createPreferencesEditorModel=be,this.resolveModel=be,this.createSettings2EditorModel=be,this.openRawDefaultSettings=be,this.openSettings=be,this.openUserSettings=be,this.openRemoteSettings=be,this.openWorkspaceSettings=be,this.openFolderSettings=be,this.openGlobalKeybindingSettings=be,this.openDefaultKeybindingsFile=be,this.getEditableSettingsURI=be,this.createSplitJsonEditorInput=be,this.openApplicationSettings=be,this.openLanguageSpecificSettings=be}get userSettingsResource(){return be()}}),(0,z.z)(ye,class{constructor(){this.onDidEncounterLanguage=T.ju.None,this.createGrammar=be,this.startDebugMode=be}});const Ct={id:"default",isDefault:!0,name:"default",location:b.o.from({scheme:"user",path:"/profile.json"}),get globalStorageHome(){return be()},settingsResource:b.o.from({scheme:"user",path:"/settings.json"}),keybindingsResource:b.o.from({scheme:"user",path:"/keybindings.json"}),get tasksResource(){return be()},get snippetsHome(){return b.o.from({scheme:"user",path:"/snippets"})},extensionsResource:void 0};(0,z.z)(l.q,class{constructor(){this.defaultProfile=Ct,this.onDidChangeProfiles=T.ju.None,this.profiles=[Ct],this.createProfile=be,this.updateProfile=be,this.setProfileForWorkspace=be,this.getProfile=()=>Ct,this.removeProfile=be}get profilesHome(){return be()}});let fn=class extends ue{constructor(yn){super(Ct,yn)}};fn=(0,t._)([(0,t.a)(0,l.q)],fn),(0,z.z)(Me,fn),(0,z.z)(ce,class{constructor(){this.onDidChange=T.ju.None,this.registerPolicyDefinitions=be,this.getPolicyValue=()=>{},this.serialize=()=>{}}}),(0,z.z)(l.r,class{constructor(){this.getSnippetFiles=be,this.isEnabled=be,this.updateEnablement=be,this.updateUsageTimestamp=be,this.getSnippets=(0,d.Z)(function*(){return[]}),this.getSnippetsSync=be}})},61699:(Et,X,e)=>{"use strict";e.d(X,{C:()=>no,N:()=>ze,R:()=>pt,d:()=>ke,r:()=>de});var d=e(17374),t=e(32068),l=e(80142),S=e(4125),v=e(40902),T=e(24738),C=e(6276),E=e(48648),L=e(98463),_=e(72715),s=e(69355),m=e(64763),c=e(67044),n=e(98998),a=e(64023),p=e(72188),u=e(45337),g=e(54436),b=e(53559),y=e(15945),D=e(12084),w=e(59547),I=e(5067),P=e(73879),O=e(29093),H=e(94667),U=e(3778),K=e(4259),F=e(16468),B=e(14072),z=e(24596),$=e(25478),j=e(66127),ne=e(83256),N=e(75366),V=e(41140),Z=e(15175),fe=e(73455),M=e(8841),Se=e(59797),Ee=e(25715),Le=e(62922),Ne=e(29693),oe=e(61254),we=e(50342),xe=e(47494),pe=e(57585);function de(Ot){return Ot?new Error(`readonly property '${Ot} cannot be changed'`):new Error("readonly property cannot be changed")}function ke(Ot){const te=new Error(`${Ot} has been disposed`);return te.name="DISPOSED",te}class ze extends Error{constructor(te){super("NotImplemented"),te&&(this.message=te)}}class $e extends Error{constructor(te){super(te),this.name="ErrorNoTelemetry"}static fromError(te){if(te instanceof $e)return te;const ge=new $e;return ge.message=te.message,ge.stack=te.stack,ge}static isErrorNoTelemetry(te){return"ErrorNoTelemetry"===te.name}}const ve=typeof Buffer<"u";let Ae,dt;class st{constructor(te){this.buffer=te,this.byteLength=this.buffer.byteLength}static alloc(te){return new st(ve?Buffer.allocUnsafe(te):new Uint8Array(te))}static wrap(te){return ve&&!Buffer.isBuffer(te)&&(te=Buffer.from(te.buffer,te.byteOffset,te.byteLength)),new st(te)}static fromString(te,ge){return!ge?.dontUseNodeBuffer&&ve?new st(Buffer.from(te)):(Ae||(Ae=new TextEncoder),new st(Ae.encode(te)))}static fromByteArray(te){const ge=st.alloc(te.length);for(let it=0,Tt=te.length;it<Tt;it++)ge.buffer[it]=te[it];return ge}static concat(te,ge){if(typeof ge>"u"){ge=0;for(let qt=0,Mt=te.length;qt<Mt;qt++)ge+=te[qt].byteLength}const it=st.alloc(ge);let Tt=0;for(let qt=0,Mt=te.length;qt<Mt;qt++){const ee=te[qt];it.set(ee,Tt),Tt+=ee.byteLength}return it}clone(){const te=st.alloc(this.byteLength);return te.set(this),te}toString(){return ve?this.buffer.toString():(dt||(dt=new TextDecoder),dt.decode(this.buffer))}slice(te,ge){return new st(this.buffer.subarray(te,ge))}set(te,ge){if(te instanceof st)this.buffer.set(te.buffer,ge);else if(te instanceof Uint8Array)this.buffer.set(te,ge);else if(te instanceof ArrayBuffer)this.buffer.set(new Uint8Array(te),ge);else{if(!ArrayBuffer.isView(te))throw new Error("Unknown argument 'array'");this.buffer.set(new Uint8Array(te.buffer,te.byteOffset,te.byteLength),ge)}}readUInt32BE(te){return function et(Ot,te){return Ot[te]*2**24+65536*Ot[te+1]+256*Ot[te+2]+Ot[te+3]}(this.buffer,te)}writeUInt32BE(te,ge){!function Qe(Ot,te,ge){Ot[ge+3]=te,Ot[ge+2]=te>>>=8,Ot[ge+1]=te>>>=8,Ot[ge]=te>>>=8}(this.buffer,te,ge)}readUInt32LE(te){return function tt(Ot,te){return Ot[te+0]<<0>>>0|Ot[te+1]<<8>>>0|Ot[te+2]<<16>>>0|Ot[te+3]<<24>>>0}(this.buffer,te)}writeUInt32LE(te,ge){!function vt(Ot,te,ge){Ot[ge+0]=255&te,Ot[ge+1]=255&(te>>>=8),Ot[ge+2]=255&(te>>>=8),Ot[ge+3]=255&(te>>>=8)}(this.buffer,te,ge)}readUInt8(te){return function mt(Ot,te){return Ot[te]}(this.buffer,te)}writeUInt8(te,ge){!function _t(Ot,te,ge){Ot[ge]=te}(this.buffer,te,ge)}}const ye="done",Me="active",ue="infinite",be="infinite-long-running",qe="discrete",Fe={progressBarBackground:s.Il.fromHex("#0E70C0")};let ot=(()=>{class Ot extends l.JT{constructor(ge,it){super(),this.options=it||Object.create(null),(0,C.jB)(this.options,Fe,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new E.pY(()=>(0,L.$Z)(this.element),0)),this.longRunningScheduler=this._register(new E.pY(()=>this.infiniteLongRunning(),Ot.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(ge)}create(ge){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),ge.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(Me,ue,be,qe),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}done(){return this.doDone(!0)}stop(){return this.doDone(!1)}doDone(ge){return this.element.classList.add(ye),this.element.classList.contains(ue)?(this.bit.style.opacity="0",ge?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",ge?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(qe,ye,be),this.element.classList.add(Me,ue),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(be)}total(ge){return this.workedVal=0,this.totalWork=ge,this.element.setAttribute("aria-valuemax",ge.toString()),this}hasTotal(){return(0,_.hj)(this.totalWork)}worked(ge){return ge=Math.max(1,Number(ge)),this.doSetWorked(this.workedVal+ge)}setWorked(ge){return ge=Math.max(1,Number(ge)),this.doSetWorked(ge)}doSetWorked(ge){const it=this.totalWork||100;return this.workedVal=ge,this.workedVal=Math.min(it,this.workedVal),this.element.classList.remove(ue,be,ye),this.element.classList.add(Me,qe),this.element.setAttribute("aria-valuenow",ge.toString()),this.bit.style.width=this.workedVal/it*100+"%",this}getContainer(){return this.element}show(ge){this.showDelayedScheduler.cancel(),"number"==typeof ge?this.showDelayedScheduler.schedule(ge):(0,L.$Z)(this.element)}hide(){(0,L.Cp)(this.element),this.showDelayedScheduler.cancel()}style(ge){this.progressBarBackground=ge.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const ge=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=ge}}}return Ot.LONG_RUNNING_INFINITE_THRESHOLD=1e4,Ot})(),bt=(()=>{class Ot extends l.JT{constructor(ge=!1){super(),this._onDidEncounterLanguage=this._register(new c.E),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new c.E({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,Ot.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new n.t(!0,ge)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Ot.instanceCount--,super.dispose()}registerLanguage(ge){return this._registry.registerLanguage(ge)}isRegisteredLanguageId(ge){return this._registry.isRegisteredLanguageId(ge)}getRegisteredLanguageIds(){return this._registry.getRegisteredLanguageIds()}getSortedRegisteredLanguageNames(){return this._registry.getSortedRegisteredLanguageNames()}getLanguageName(ge){return this._registry.getLanguageName(ge)}getMimeType(ge){return this._registry.getMimeType(ge)}getIcon(ge){return this._registry.getIcon(ge)}getExtensions(ge){return this._registry.getExtensions(ge)}getFilenames(ge){return this._registry.getFilenames(ge)}getConfigurationFiles(ge){return this._registry.getConfigurationFiles(ge)}getLanguageIdByLanguageName(ge){return this._registry.getLanguageIdByLanguageName(ge)}getLanguageIdByMimeType(ge){return this._registry.getLanguageIdByMimeType(ge)}guessLanguageIdByFilepathOrFirstLine(ge,it){const Tt=this._registry.guessLanguageIdByFilepathOrFirstLine(ge,it);return(0,a.Xh)(Tt,null)}createById(ge){return new Ht(this.onDidChange,()=>this._createAndGetLanguageIdentifier(ge))}createByMimeType(ge){return new Ht(this.onDidChange,()=>{const it=this.getLanguageIdByMimeType(ge);return this._createAndGetLanguageIdentifier(it)})}createByFilepathOrFirstLine(ge,it){return new Ht(this.onDidChange,()=>{const Tt=this.guessLanguageIdByFilepathOrFirstLine(ge,it);return this._createAndGetLanguageIdentifier(Tt)})}_createAndGetLanguageIdentifier(ge){return(!ge||!this.isRegisteredLanguageId(ge))&&(ge=p.bd),this._encounteredLanguages.has(ge)||(this._encounteredLanguages.add(ge),u.RW.getOrCreate(ge),this._onDidEncounterLanguage.fire(ge)),ge}}return Ot.instanceCount=0,Ot})();class Ht{constructor(te,ge){this._onDidChangeLanguages=te,this._selector=ge,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new c.E({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const te=this._selector();te!==this.languageId&&(this.languageId=te,this._emitter?.fire(this.languageId))}}var oi,Li;class so{constructor(){this._value="",this._pos=0}reset(te){return this._value=te,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(te){return te.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class oo{constructor(te=!0){this._caseSensitive=te}reset(te){return this._value=te,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let te=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!te)break;this._from++}else te=!1;return this}cmp(te){return this._caseSensitive?(0,P.TT)(te,this._value,0,te.length,this._from,this._to):(0,P.j_)(te,this._value,0,te.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class xo{constructor(te=!0,ge=!0){this._splitOnBackslash=te,this._caseSensitive=ge}reset(te){this._from=0,this._to=0,this._value=te,this._valueLen=te.length;for(let ge=te.length-1;ge>=0;ge--,this._valueLen--){const it=this._value.charCodeAt(ge);if(!(47===it||this._splitOnBackslash&&92===it))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let te=!0;for(;this._to<this._valueLen;this._to++){const ge=this._value.charCodeAt(this._to);if(47===ge||this._splitOnBackslash&&92===ge){if(!te)break;this._from++}else te=!1}return this}cmp(te){return this._caseSensitive?(0,P.TT)(te,this._value,0,te.length,this._from,this._to):(0,P.j_)(te,this._value,0,te.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ro{constructor(te,ge){this._ignorePathCasing=te,this._ignoreQueryAndFragment=ge,this._states=[],this._stateIdx=0}reset(te){return this._value=te,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new xo(!1,!this._ignorePathCasing(te)),this._pathIterator.reset(te.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(te)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(te){if(1===this._states[this._stateIdx])return(0,P.zY)(te,this._value.scheme);if(2===this._states[this._stateIdx])return(0,P.zY)(te,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(te);if(4===this._states[this._stateIdx])return(0,P.qu)(te,this._value.query);if(5===this._states[this._stateIdx])return(0,P.qu)(te,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class _o{constructor(){this.height=1}isEmpty(){return!(this.left||this.mid||this.right||this.value)}rotateLeft(){const te=this.right;return this.right=te.left,te.left=this,this.updateHeight(),te.updateHeight(),te}rotateRight(){const te=this.left;return this.left=te.right,te.right=this,this.updateHeight(),te.updateHeight(),te}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}class mo{constructor(te){this._iter=te}static forUris(te=(()=>!1),ge=(()=>!1)){return new mo(new ro(te,ge))}static forPaths(te=!1){return new mo(new xo(void 0,!te))}static forStrings(){return new mo(new so)}static forConfigKeys(){return new mo(new oo)}clear(){this._root=void 0}fill(te,ge){if(ge){const it=ge.slice(0);(0,c.s)(it);for(const Tt of it)this.set(Tt,te)}else{const it=te.slice(0);(0,c.s)(it);for(const Tt of it)this.set(Tt[0],Tt[1])}}set(te,ge){const it=this._iter.reset(te);let Tt;this._root||(this._root=new _o,this._root.segment=it.value());const qt=[];for(Tt=this._root;;){const ee=it.cmp(Tt.segment);if(ee>0)Tt.left||(Tt.left=new _o,Tt.left.segment=it.value()),qt.push([-1,Tt]),Tt=Tt.left;else if(ee<0)Tt.right||(Tt.right=new _o,Tt.right.segment=it.value()),qt.push([1,Tt]),Tt=Tt.right;else{if(!it.hasNext())break;it.next(),Tt.mid||(Tt.mid=new _o,Tt.mid.segment=it.value()),qt.push([0,Tt]),Tt=Tt.mid}}const Mt=Tt.value;Tt.value=ge,Tt.key=te;for(let ee=qt.length-1;ee>=0;ee--){const Ie=qt[ee][1];Ie.updateHeight();const rt=Ie.balanceFactor();if(rt<-1||rt>1){const $t=qt[ee][0],cn=qt[ee+1][0];if(1===$t&&1===cn)qt[ee][1]=Ie.rotateLeft();else if(-1===$t&&-1===cn)qt[ee][1]=Ie.rotateRight();else if(1===$t&&-1===cn)Ie.right=qt[ee+1][1]=qt[ee+1][1].rotateRight(),qt[ee][1]=Ie.rotateLeft();else{if(-1!==$t||1!==cn)throw new Error;Ie.left=qt[ee+1][1]=qt[ee+1][1].rotateLeft(),qt[ee][1]=Ie.rotateRight()}if(ee>0)switch(qt[ee-1][0]){case-1:qt[ee-1][1].left=qt[ee][1];break;case 1:qt[ee-1][1].right=qt[ee][1];break;case 0:qt[ee-1][1].mid=qt[ee][1]}else this._root=qt[0][1]}}return Mt}get(te){return this._getNode(te)?.value}_getNode(te){const ge=this._iter.reset(te);let it=this._root;for(;it;){const Tt=ge.cmp(it.segment);if(Tt>0)it=it.left;else if(Tt<0)it=it.right;else{if(!ge.hasNext())break;ge.next(),it=it.mid}}return it}has(te){const ge=this._getNode(te);return!(void 0===ge?.value&&void 0===ge?.mid)}delete(te){return this._delete(te,!1)}deleteSuperstr(te){return this._delete(te,!0)}_delete(te,ge){const it=this._iter.reset(te),Tt=[];let qt=this._root;for(;qt;){const Mt=it.cmp(qt.segment);if(Mt>0)Tt.push([-1,qt]),qt=qt.left;else if(Mt<0)Tt.push([1,qt]),qt=qt.right;else{if(!it.hasNext())break;it.next(),Tt.push([0,qt]),qt=qt.mid}}if(qt){if(ge?(qt.left=void 0,qt.mid=void 0,qt.right=void 0,qt.height=1):(qt.key=void 0,qt.value=void 0),!qt.mid&&!qt.value)if(qt.left&&qt.right){const Mt=this._min(qt.right),{key:ee,value:Ie,segment:rt}=Mt;this._delete(Mt.key,!1),qt.key=ee,qt.value=Ie,qt.segment=rt}else{const Mt=qt.left??qt.right;if(Tt.length>0){const[ee,Ie]=Tt[Tt.length-1];switch(ee){case-1:Ie.left=Mt;break;case 0:Ie.mid=Mt;break;case 1:Ie.right=Mt}}else this._root=Mt}for(let Mt=Tt.length-1;Mt>=0;Mt--){const ee=Tt[Mt][1];ee.updateHeight();const Ie=ee.balanceFactor();if(Ie>1?(ee.right.balanceFactor()>=0||(ee.right=ee.right.rotateRight()),Tt[Mt][1]=ee.rotateLeft()):Ie<-1&&(ee.left.balanceFactor()<=0||(ee.left=ee.left.rotateLeft()),Tt[Mt][1]=ee.rotateRight()),Mt>0)switch(Tt[Mt-1][0]){case-1:Tt[Mt-1][1].left=Tt[Mt][1];break;case 1:Tt[Mt-1][1].right=Tt[Mt][1];break;case 0:Tt[Mt-1][1].mid=Tt[Mt][1]}else this._root=Tt[0][1]}}}_min(te){for(;te.left;)te=te.left;return te}findSubstr(te){const ge=this._iter.reset(te);let Tt,it=this._root;for(;it;){const qt=ge.cmp(it.segment);if(qt>0)it=it.left;else if(qt<0)it=it.right;else{if(!ge.hasNext())break;ge.next(),Tt=it.value||Tt,it=it.mid}}return it&&it.value||Tt}findSuperstr(te){const ge=this._iter.reset(te);let it=this._root;for(;it;){const Tt=ge.cmp(it.segment);if(Tt>0)it=it.left;else if(Tt<0)it=it.right;else{if(!ge.hasNext())return it.mid?this._entries(it.mid):void 0;ge.next(),it=it.mid}}}forEach(te){for(const[ge,it]of this)te(it,ge)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(te){const ge=[];return this._dfsEntries(te,ge),ge[Symbol.iterator]()}_dfsEntries(te,ge){!te||(te.left&&this._dfsEntries(te.left,ge),te.value&&ge.push([te.key,te.value]),te.mid&&this._dfsEntries(te.mid,ge),te.right&&this._dfsEntries(te.right,ge))}_isBalanced(){const te=ge=>{if(!ge)return!0;const it=ge.balanceFactor();return!(it<-1||it>1)&&te(ge.left)&&te(ge.right)};return te(this._root)}}class si{constructor(te,ge){this.uri=te,this.value=ge}}let Qt=(()=>{class Ot{constructor(ge,it){this[oi]="ResourceMap",ge instanceof Ot?(this.map=new Map(ge.map),this.toKey=it??Ot.defaultToKey):(this.map=new Map,this.toKey=ge??Ot.defaultToKey)}set(ge,it){return this.map.set(this.toKey(ge),new si(ge,it)),this}get(ge){return this.map.get(this.toKey(ge))?.value}has(ge){return this.map.has(this.toKey(ge))}get size(){return this.map.size}clear(){this.map.clear()}delete(ge){return this.map.delete(this.toKey(ge))}forEach(ge,it){typeof it<"u"&&(ge=ge.bind(it));for(const[Tt,qt]of this.map)ge(qt.value,qt.uri,this)}*values(){for(const ge of this.map.values())yield ge.value}*keys(){for(const ge of this.map.values())yield ge.uri}*entries(){for(const ge of this.map.values())yield[ge.uri,ge.value]}*[(oi=Symbol.toStringTag,Symbol.iterator)](){for(const[,ge]of this.map)yield[ge.uri,ge.value]}}return Ot.defaultToKey=te=>te.toString(),Ot})();class pt{constructor(te,ge){this[Li]="ResourceSet",te&&"function"!=typeof te?(this._map=new Qt(ge),te.forEach(this.add,this)):this._map=new Qt(te)}get size(){return this._map.size}add(te){return this._map.set(te,te),this}clear(){this._map.clear()}delete(te){return this._map.delete(te)}forEach(te,ge){this._map.forEach((it,Tt)=>te.call(ge,Tt,Tt,this))}has(te){return this._map.has(te)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(Li=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}class ft{constructor(te={},ge=[],it=[]){this._contents=te,this._keys=ge,this._overrides=it,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}isFrozen(){return this.frozen}getValue(te){return te?(0,H.Mt)(this.contents,te):this.contents}getOverrideValue(te,ge){const it=this.getContentsForOverrideIdentifer(ge);return it?te?(0,H.Mt)(it,te):it:void 0}getKeysForOverrideIdentifier(te){const ge=[];for(const it of this.overrides)it.identifiers.includes(te)&&ge.push(...it.keys);return(0,a.EB)(ge)}getAllOverrideIdentifiers(){const te=[];for(const ge of this.overrides)te.push(...ge.identifiers);return(0,a.EB)(te)}override(te){let ge=this.overrideConfigurations.get(te);return ge||(ge=this.createOverrideConfigurationModel(te),this.overrideConfigurations.set(te,ge)),ge}merge(...te){const ge=(0,C.I8)(this.contents),it=(0,C.I8)(this.overrides),Tt=[...this.keys];for(const qt of te)if(!qt.isEmpty()){this.mergeContents(ge,qt.contents);for(const Mt of qt.overrides){const[ee]=it.filter(Ie=>(0,a.fS)(Ie.identifiers,Mt.identifiers));ee?(this.mergeContents(ee.contents,Mt.contents),ee.keys.push(...Mt.keys),ee.keys=(0,a.EB)(ee.keys)):it.push((0,C.I8)(Mt))}for(const Mt of qt.keys)-1===Tt.indexOf(Mt)&&Tt.push(Mt)}return new ft(ge,Tt,it)}freeze(){return this.frozen=!0,this}clone(){return new ft((0,C.I8)(this.contents),[...this.keys],(0,C.I8)(this.overrides))}createOverrideConfigurationModel(te){const ge=this.getContentsForOverrideIdentifer(te);if(!ge||"object"!=typeof ge||!Object.keys(ge).length)return this;const it={};for(const Tt of(0,a.EB)([...Object.keys(this.contents),...Object.keys(ge)])){let qt=this.contents[Tt];const Mt=ge[Tt];Mt&&("object"==typeof qt&&"object"==typeof Mt?(qt=(0,C.I8)(qt),this.mergeContents(qt,Mt)):qt=Mt),it[Tt]=qt}return new ft(it,this.keys,this.overrides)}mergeContents(te,ge){for(const it of Object.keys(ge))it in te&&(0,_.Kn)(te[it])&&(0,_.Kn)(ge[it])?this.mergeContents(te[it],ge[it]):te[it]=(0,C.I8)(ge[it])}checkAndFreeze(te){return this.frozen&&!Object.isFrozen(te)?(0,C._A)(te):te}getContentsForOverrideIdentifer(te){let ge=null,it=null;const Tt=qt=>{qt&&(it?this.mergeContents(it,qt):it=(0,C.I8)(qt))};for(const qt of this.overrides)(0,a.fS)(qt.identifiers,[te])?ge=qt.contents:qt.identifiers.includes(te)&&Tt(qt.contents);return Tt(ge),it}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(te,ge){this.addKey(te),(0,H.KV)(this.contents,te,ge,it=>{throw new Error(it)})}removeValue(te){this.removeKey(te)&&(0,H.xL)(this.contents,te)}addKey(te){let ge=this.keys.length;for(let it=0;it<ge;it++)0===te.indexOf(this.keys[it])&&(ge=it);this.keys.splice(ge,1,te)}removeKey(te){const ge=this.keys.indexOf(te);return-1!==ge&&(this.keys.splice(ge,1),!0)}}class rn{constructor(te,ge,it,Tt,qt=new ft,Mt=new ft,ee=new I.Y9,Ie=new ft,rt=new I.Y9,$t=!0){this._defaultConfiguration=te,this._policyConfiguration=ge,this._applicationConfiguration=it,this._localUserConfiguration=Tt,this._remoteUserConfiguration=qt,this._workspaceConfiguration=Mt,this._folderConfigurations=ee,this._memoryConfiguration=Ie,this._memoryConfigurationByResource=rt,this._freeze=$t,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new I.Y9,this._userConfiguration=null}getValue(te,ge,it){return this.getConsolidatedConfigurationModel(te,ge,it).getValue(te)}updateValue(te,ge,it={}){let Tt;it.resource?(Tt=this._memoryConfigurationByResource.get(it.resource),Tt||(Tt=new ft,this._memoryConfigurationByResource.set(it.resource,Tt))):Tt=this._memoryConfiguration,void 0===ge?Tt.removeValue(te):Tt.setValue(te,ge),it.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(te,ge,it){const Tt=this.getConsolidatedConfigurationModel(te,ge,it),qt=this.getFolderConfigurationModelForResource(ge.resource,it),Mt=ge.resource&&this._memoryConfigurationByResource.get(ge.resource)||this._memoryConfiguration,ee=ge.overrideIdentifier?this._defaultConfiguration.freeze().override(ge.overrideIdentifier).getValue(te):this._defaultConfiguration.freeze().getValue(te),Ie=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(te),rt=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(te),$t=ge.overrideIdentifier?this.userConfiguration.freeze().override(ge.overrideIdentifier).getValue(te):this.userConfiguration.freeze().getValue(te),cn=ge.overrideIdentifier?this.localUserConfiguration.freeze().override(ge.overrideIdentifier).getValue(te):this.localUserConfiguration.freeze().getValue(te),Ln=ge.overrideIdentifier?this.remoteUserConfiguration.freeze().override(ge.overrideIdentifier).getValue(te):this.remoteUserConfiguration.freeze().getValue(te),In=it?ge.overrideIdentifier?this._workspaceConfiguration.freeze().override(ge.overrideIdentifier).getValue(te):this._workspaceConfiguration.freeze().getValue(te):void 0,ni=qt?ge.overrideIdentifier?qt.freeze().override(ge.overrideIdentifier).getValue(te):qt.freeze().getValue(te):void 0,Jn=ge.overrideIdentifier?Mt.override(ge.overrideIdentifier).getValue(te):Mt.getValue(te),gi=Tt.getValue(te),vi=(0,a.EB)(Tt.overrides.map(bi=>bi.identifiers).flat()).filter(bi=>void 0!==Tt.getOverrideValue(te,bi));return{defaultValue:ee,policyValue:Ie,applicationValue:rt,userValue:$t,userLocalValue:cn,userRemoteValue:Ln,workspaceValue:In,workspaceFolderValue:ni,memoryValue:Jn,value:gi,default:void 0!==ee?{value:this._defaultConfiguration.freeze().getValue(te),override:ge.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(te,ge.overrideIdentifier):void 0}:void 0,policy:void 0!==Ie?{value:Ie}:void 0,application:void 0!==rt?{value:rt,override:ge.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(te,ge.overrideIdentifier):void 0}:void 0,user:void 0!==$t?{value:this.userConfiguration.freeze().getValue(te),override:ge.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(te,ge.overrideIdentifier):void 0}:void 0,userLocal:void 0!==cn?{value:this.localUserConfiguration.freeze().getValue(te),override:ge.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(te,ge.overrideIdentifier):void 0}:void 0,userRemote:void 0!==Ln?{value:this.remoteUserConfiguration.freeze().getValue(te),override:ge.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(te,ge.overrideIdentifier):void 0}:void 0,workspace:void 0!==In?{value:this._workspaceConfiguration.freeze().getValue(te),override:ge.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(te,ge.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==ni?{value:qt?.freeze().getValue(te),override:ge.overrideIdentifier?qt?.freeze().getOverrideValue(te,ge.overrideIdentifier):void 0}:void 0,memory:void 0!==Jn?{value:Mt.getValue(te),override:ge.overrideIdentifier?Mt.getOverrideValue(te,ge.overrideIdentifier):void 0}:void 0,overrideIdentifiers:vi.length?vi:void 0}}keys(te){const ge=this.getFolderConfigurationModelForResource(void 0,te);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:ge?ge.freeze().keys:[]}}updateDefaultConfiguration(te){this._defaultConfiguration=te,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updatePolicyConfiguration(te){this._policyConfiguration=te}updateApplicationConfiguration(te){this._applicationConfiguration=te,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(te){this._localUserConfiguration=te,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(te){this._remoteUserConfiguration=te,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(te){this._workspaceConfiguration=te,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(te,ge){this._folderConfigurations.set(te,ge),this._foldersConsolidatedConfigurations.delete(te)}deleteFolderConfiguration(te){this.folderConfigurations.delete(te),this._foldersConsolidatedConfigurations.delete(te)}compareAndUpdateDefaultConfiguration(te,ge){const it=[];if(!ge){const{added:Tt,updated:qt,removed:Mt}=gn(this._defaultConfiguration,te);ge=[...Tt,...qt,...Mt]}for(const Tt of ge)for(const qt of(0,O.ny)(Tt)){const Mt=this._defaultConfiguration.getKeysForOverrideIdentifier(qt),ee=te.getKeysForOverrideIdentifier(qt),Ie=[...ee.filter(rt=>-1===Mt.indexOf(rt)),...Mt.filter(rt=>-1===ee.indexOf(rt)),...Mt.filter(rt=>!(0,C.fS)(this._defaultConfiguration.override(qt).getValue(rt),te.override(qt).getValue(rt)))];it.push([qt,Ie])}return this.updateDefaultConfiguration(te),{keys:ge,overrides:it}}compareAndUpdatePolicyConfiguration(te){const{added:ge,updated:it,removed:Tt}=gn(this._policyConfiguration,te),qt=[...ge,...it,...Tt];return qt.length&&this.updatePolicyConfiguration(te),{keys:qt,overrides:[]}}compareAndUpdateApplicationConfiguration(te){const{added:ge,updated:it,removed:Tt,overrides:qt}=gn(this.applicationConfiguration,te),Mt=[...ge,...it,...Tt];return Mt.length&&this.updateApplicationConfiguration(te),{keys:Mt,overrides:qt}}compareAndUpdateLocalUserConfiguration(te){const{added:ge,updated:it,removed:Tt,overrides:qt}=gn(this.localUserConfiguration,te),Mt=[...ge,...it,...Tt];return Mt.length&&this.updateLocalUserConfiguration(te),{keys:Mt,overrides:qt}}compareAndUpdateRemoteUserConfiguration(te){const{added:ge,updated:it,removed:Tt,overrides:qt}=gn(this.remoteUserConfiguration,te),Mt=[...ge,...it,...Tt];return Mt.length&&this.updateRemoteUserConfiguration(te),{keys:Mt,overrides:qt}}compareAndUpdateWorkspaceConfiguration(te){const{added:ge,updated:it,removed:Tt,overrides:qt}=gn(this.workspaceConfiguration,te),Mt=[...ge,...it,...Tt];return Mt.length&&this.updateWorkspaceConfiguration(te),{keys:Mt,overrides:qt}}compareAndUpdateFolderConfiguration(te,ge){const it=this.folderConfigurations.get(te),{added:Tt,updated:qt,removed:Mt,overrides:ee}=gn(it,ge),Ie=[...Tt,...qt,...Mt];return(Ie.length||!it)&&this.updateFolderConfiguration(te,ge),{keys:Ie,overrides:ee}}compareAndDeleteFolderConfiguration(te){const ge=this.folderConfigurations.get(te);if(!ge)throw new Error("Unknown folder");this.deleteFolderConfiguration(te);const{added:it,updated:Tt,removed:qt,overrides:Mt}=gn(ge,void 0);return{keys:[...it,...Tt,...qt],overrides:Mt}}get defaults(){return this._defaultConfiguration}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidatedConfigurationModel(te,ge,it){let Tt=this.getConsolidatedConfigurationModelForResource(ge,it);return ge.overrideIdentifier&&(Tt=Tt.override(ge.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(te)&&(Tt=Tt.merge(this._policyConfiguration)),Tt}getConsolidatedConfigurationModelForResource({resource:te},ge){let it=this.getWorkspaceConsolidatedConfiguration();if(ge&&te){const Tt=ge.getFolder(te);Tt&&(it=this.getFolderConsolidatedConfiguration(Tt.uri)||it);const qt=this._memoryConfigurationByResource.get(te);qt&&(it=it.merge(qt))}return it}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(te){let ge=this._foldersConsolidatedConfigurations.get(te);if(!ge){const it=this.getWorkspaceConsolidatedConfiguration(),Tt=this._folderConfigurations.get(te);Tt?(ge=it.merge(Tt),this._freeze&&(ge=ge.freeze()),this._foldersConsolidatedConfigurations.set(te,ge)):ge=it}return ge}getFolderConfigurationModelForResource(te,ge){if(ge&&te){const it=ge.getFolder(te);if(it)return this._folderConfigurations.get(it.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((te,ge)=>{const{contents:it,overrides:Tt,keys:qt}=this._folderConfigurations.get(ge);return te.push([ge,{contents:it,overrides:Tt,keys:qt}]),te},[])}}allKeys(){const te=new Set;return this._defaultConfiguration.freeze().keys.forEach(ge=>te.add(ge)),this.userConfiguration.freeze().keys.forEach(ge=>te.add(ge)),this._workspaceConfiguration.freeze().keys.forEach(ge=>te.add(ge)),this._folderConfigurations.forEach(ge=>ge.freeze().keys.forEach(it=>te.add(it))),[...te.values()]}allOverrideIdentifiers(){const te=new Set;return this._defaultConfiguration.freeze().getAllOverrideIdentifiers().forEach(ge=>te.add(ge)),this.userConfiguration.freeze().getAllOverrideIdentifiers().forEach(ge=>te.add(ge)),this._workspaceConfiguration.freeze().getAllOverrideIdentifiers().forEach(ge=>te.add(ge)),this._folderConfigurations.forEach(ge=>ge.freeze().getAllOverrideIdentifiers().forEach(it=>te.add(it))),[...te.values()]}getAllKeysForOverrideIdentifier(te){const ge=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(te).forEach(it=>ge.add(it)),this.userConfiguration.getKeysForOverrideIdentifier(te).forEach(it=>ge.add(it)),this._workspaceConfiguration.getKeysForOverrideIdentifier(te).forEach(it=>ge.add(it)),this._folderConfigurations.forEach(it=>it.getKeysForOverrideIdentifier(te).forEach(Tt=>ge.add(Tt))),[...ge.values()]}static parse(te){const ge=this.parseConfigurationModel(te.defaults),it=this.parseConfigurationModel(te.policy),Tt=this.parseConfigurationModel(te.application),qt=this.parseConfigurationModel(te.user),Mt=this.parseConfigurationModel(te.workspace),ee=te.folders.reduce((Ie,rt)=>(Ie.set(w.o.revive(rt[0]),this.parseConfigurationModel(rt[1])),Ie),new I.Y9);return new rn(ge,it,Tt,qt,new ft,Mt,ee,new ft,new I.Y9,!1)}static parseConfigurationModel(te){return new ft(te.contents,te.keys,te.overrides).freeze()}}function gn(Ot,te){const{added:ge,removed:it,updated:Tt}=An(te,Ot),qt=[],Mt=Ot?.getAllOverrideIdentifiers()||[],ee=te?.getAllOverrideIdentifiers()||[];if(te){const Ie=ee.filter(rt=>!Mt.includes(rt));for(const rt of Ie)qt.push([rt,te.getKeysForOverrideIdentifier(rt)])}if(Ot){const Ie=Mt.filter(rt=>!ee.includes(rt));for(const rt of Ie)qt.push([rt,Ot.getKeysForOverrideIdentifier(rt)])}if(te&&Ot)for(const Ie of Mt)if(ee.includes(Ie)){const rt=An({contents:Ot.getOverrideValue(void 0,Ie)||{},keys:Ot.getKeysForOverrideIdentifier(Ie)},{contents:te.getOverrideValue(void 0,Ie)||{},keys:te.getKeysForOverrideIdentifier(Ie)});qt.push([Ie,[...rt.added,...rt.removed,...rt.updated]])}return{added:ge,removed:it,updated:Tt,overrides:qt}}function An(Ot,te){const ge=Ot?te?Ot.keys.filter(qt=>-1===te.keys.indexOf(qt)):[...Ot.keys]:[],it=te?Ot?te.keys.filter(qt=>-1===Ot.keys.indexOf(qt)):[...te.keys]:[],Tt=[];if(Ot&&te)for(const qt of te.keys)if(-1!==Ot.keys.indexOf(qt)){const Mt=(0,H.Mt)(te.contents,qt),ee=(0,H.Mt)(Ot.contents,qt);(0,C.fS)(Mt,ee)||Tt.push(qt)}return{added:ge,removed:it,updated:Tt}}function jn(){return(new Date).toISOString()}var Qn=(()=>{return(Ot=Qn||(Qn={}))[Ot.Trace=0]="Trace",Ot[Ot.Debug=1]="Debug",Ot[Ot.Info=2]="Info",Ot[Ot.Warning=3]="Warning",Ot[Ot.Error=4]="Error",Ot[Ot.Critical=5]="Critical",Ot[Ot.Off=6]="Off",Qn;var Ot})();const wi=Qn.Info;class xi extends l.JT{constructor(){super(...arguments),this.level=wi,this._onDidChangeLogLevel=this._register(new c.E),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(te){this.level!==te&&(this.level=te,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class no extends xi{constructor(te=wi){super(),this.setLevel(te),this.useColors=!M.ED}trace(te,...ge){this.getLevel()<=Qn.Trace&&(this.useColors?console.log(`\x1b[90m[main ${jn()}]\x1b[0m`,te,...ge):console.log(`[main ${jn()}]`,te,...ge))}debug(te,...ge){this.getLevel()<=Qn.Debug&&(this.useColors?console.log(`\x1b[90m[main ${jn()}]\x1b[0m`,te,...ge):console.log(`[main ${jn()}]`,te,...ge))}info(te,...ge){this.getLevel()<=Qn.Info&&(this.useColors?console.log(`\x1b[90m[main ${jn()}]\x1b[0m`,te,...ge):console.log(`[main ${jn()}]`,te,...ge))}warn(te,...ge){this.getLevel()<=Qn.Warning&&(this.useColors?console.warn(`\x1b[93m[main ${jn()}]\x1b[0m`,te,...ge):console.warn(`[main ${jn()}]`,te,...ge))}error(te,...ge){this.getLevel()<=Qn.Error&&(this.useColors?console.error(`\x1b[91m[main ${jn()}]\x1b[0m`,te,...ge):console.error(`[main ${jn()}]`,te,...ge))}critical(te,...ge){this.getLevel()<=Qn.Critical&&(this.useColors?console.error(`\x1b[90m[main ${jn()}]\x1b[0m`,te,...ge):console.error(`[main ${jn()}]`,te,...ge))}dispose(){}flush(){}}function Ki(Ot){return Ot&&"object"==typeof Ot&&(!Ot.overrideIdentifier||"string"==typeof Ot.overrideIdentifier)&&(!Ot.resource||Ot.resource instanceof w.o)}const co=Object.prototype.hasOwnProperty,yo="vs.editor.nullLanguage";class Go{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(yo,0),this._register(p.bd,1),this._nextLanguageId=2}_register(te,ge){this._languageIdToLanguage[ge]=te,this._languageToLanguageId.set(te,ge)}register(te){if(this._languageToLanguageId.has(te))return;const ge=this._nextLanguageId++;this._register(te,ge)}encodeLanguageId(te){return this._languageToLanguageId.get(te)||0}decodeLanguageId(te){return this._languageIdToLanguage[te]||yo}}let Po=(()=>{class Ot extends l.JT{constructor(ge=!0,it=!1){super(),this._onDidChange=this._register(new c.E),this.onDidChange=this._onDidChange.event,Ot.instanceCount++,this._warnOnOverwrite=it,this.languageIdCodec=new Go,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},ge&&(this._initializeFromRegistry(),this._register(p.dQ.onDidChangeLanguages(Tt=>{this._initializeFromRegistry()})))}dispose(){Ot.instanceCount--,super.dispose()}setDynamicLanguages(ge){this._dynamicLanguages=ge,this._initializeFromRegistry()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,B.UU)();const ge=[].concat(p.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(ge)}registerLanguage(ge){return p.dQ.registerLanguage(ge)}_registerLanguages(ge){for(const it of ge)this._registerLanguage(it);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(it=>{const Tt=this._languages[it];Tt.name&&(this._nameMap[Tt.name]=Tt.identifier),Tt.aliases.forEach(qt=>{this._lowercaseNameMap[qt.toLowerCase()]=Tt.identifier}),Tt.mimetypes.forEach(qt=>{this._mimeTypesMap[qt]=Tt.identifier})}),K.B.as(O.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(ge){const it=ge.id;let Tt;co.call(this._languages,it)?Tt=this._languages[it]:(this.languageIdCodec.register(it),Tt={identifier:it,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[it]=Tt),this._mergeLanguage(Tt,ge)}_mergeLanguage(ge,it){const Tt=it.id;let qt=null;if(Array.isArray(it.mimetypes)&&it.mimetypes.length>0&&(ge.mimetypes.push(...it.mimetypes),qt=it.mimetypes[0]),qt||(qt=`text/x-${Tt}`,ge.mimetypes.push(qt)),Array.isArray(it.extensions)){ge.extensions=it.configuration?it.extensions.concat(ge.extensions):ge.extensions.concat(it.extensions);for(const Ie of it.extensions)(0,B.Jw)({id:Tt,mime:qt,extension:Ie},this._warnOnOverwrite)}if(Array.isArray(it.filenames))for(const Ie of it.filenames)(0,B.Jw)({id:Tt,mime:qt,filename:Ie},this._warnOnOverwrite),ge.filenames.push(Ie);if(Array.isArray(it.filenamePatterns))for(const Ie of it.filenamePatterns)(0,B.Jw)({id:Tt,mime:qt,filepattern:Ie},this._warnOnOverwrite);if("string"==typeof it.firstLine&&it.firstLine.length>0){let Ie=it.firstLine;"^"!==Ie.charAt(0)&&(Ie="^"+Ie);try{const rt=new RegExp(Ie);(0,P.IO)(rt)||(0,B.Jw)({id:Tt,mime:qt,firstline:rt},this._warnOnOverwrite)}catch(rt){(0,S.dL)(rt)}}ge.aliases.push(Tt);let Mt=null;if(typeof it.aliases<"u"&&Array.isArray(it.aliases)&&(Mt=0===it.aliases.length?[null]:it.aliases),null!==Mt)for(const Ie of Mt)!Ie||0===Ie.length||ge.aliases.push(Ie);const ee=null!==Mt&&Mt.length>0;if(!ee||null!==Mt[0]){const Ie=(ee?Mt[0]:null)||Tt;(ee||!ge.name)&&(ge.name=Ie)}it.configuration&&ge.configurationFiles.push(it.configuration),it.icon&&ge.icons.push(it.icon)}isRegisteredLanguageId(ge){return!!ge&&co.call(this._languages,ge)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getSortedRegisteredLanguageNames(){const ge=[];for(const it in this._nameMap)co.call(this._nameMap,it)&&ge.push({languageName:it,languageId:this._nameMap[it]});return ge.sort((it,Tt)=>(0,P.zY)(it.languageName,Tt.languageName)),ge}getLanguageName(ge){return co.call(this._languages,ge)?this._languages[ge].name:null}getMimeType(ge){return co.call(this._languages,ge)&&this._languages[ge].mimetypes[0]||null}getExtensions(ge){return co.call(this._languages,ge)?this._languages[ge].extensions:[]}getFilenames(ge){return co.call(this._languages,ge)?this._languages[ge].filenames:[]}getIcon(ge){return co.call(this._languages,ge)&&this._languages[ge].icons[0]||null}getConfigurationFiles(ge){return co.call(this._languages,ge)&&this._languages[ge].configurationFiles||[]}getLanguageIdByLanguageName(ge){const it=ge.toLowerCase();return co.call(this._lowercaseNameMap,it)?this._lowercaseNameMap[it]:null}getLanguageIdByMimeType(ge){return ge&&co.call(this._mimeTypesMap,ge)?this._mimeTypesMap[ge]:null}guessLanguageIdByFilepathOrFirstLine(ge,it){return ge||it?(0,B.ST)(ge,it):[]}}return Ot.instanceCount=0,Ot})();class wo{constructor(te){this.trait=te,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(te){return te}renderElement(te,ge,it){const Tt=this.renderedElements.findIndex(qt=>qt.templateData===it);if(Tt>=0){const qt=this.renderedElements[Tt];this.trait.unrender(it),qt.index=ge}else this.renderedElements.push({index:ge,templateData:it});this.trait.renderIndex(ge,it)}splice(te,ge,it){const Tt=[];for(const qt of this.renderedElements)qt.index<te?Tt.push(qt):qt.index>=te+ge&&Tt.push({index:qt.index+it-ge,templateData:qt.templateData});this.renderedElements=Tt}renderIndexes(te){for(const{index:ge,templateData:it}of this.renderedElements)te.indexOf(ge)>-1&&this.trait.renderIndex(ge,it)}disposeTemplate(te){const ge=this.renderedElements.findIndex(it=>it.templateData===te);ge<0||this.renderedElements.splice(ge,1)}}class Do{constructor(te){this._trait=te,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new c.E,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new wo(this)}splice(te,ge,it){ge=Math.max(0,Math.min(ge,this.length-te));const Tt=it.length-ge,qt=te+ge,Mt=[...this.sortedIndexes.filter(Ie=>Ie<te),...it.map((Ie,rt)=>Ie?rt+te:-1).filter(Ie=>-1!==Ie),...this.sortedIndexes.filter(Ie=>Ie>=qt).map(Ie=>Ie+Tt)],ee=this.length+Tt;if(this.sortedIndexes.length>0&&0===Mt.length&&ee>0){const Ie=this.sortedIndexes.find(rt=>rt>=te)??ee-1;Mt.push(Math.min(Ie,ee-1))}this.renderer.splice(te,ge,it.length),this._set(Mt,Mt),this.length=ee}renderIndex(te,ge){ge.classList.toggle(this._trait,this.contains(te))}unrender(te){te.classList.remove(this._trait)}set(te,ge){return this._set(te,[...te].sort(Re),ge)}_set(te,ge,it){const Tt=this.indexes,qt=this.sortedIndexes;this.indexes=te,this.sortedIndexes=ge;const Mt=Zt(qt,te);return this.renderer.renderIndexes(Mt),this._onChange.fire({indexes:te,browserEvent:it}),Tt}get(){return this.indexes}contains(te){return(0,a.ry)(this.sortedIndexes,te,Re)>=0}dispose(){(0,l.B9)(this._onChange)}}class to extends Do{constructor(te){super("selected"),this.setAriaSelected=te}renderIndex(te,ge){super.renderIndex(te,ge),this.setAriaSelected&&(this.contains(te)?ge.setAttribute("aria-selected","true"):ge.setAttribute("aria-selected","false"))}}class vo{constructor(te,ge,it){this.trait=te,this.view=ge,this.identityProvider=it}splice(te,ge,it){if(!this.identityProvider)return this.trait.splice(te,ge,it.map(()=>!1));const Tt=this.trait.get().map(Mt=>this.identityProvider.getId(this.view.element(Mt)).toString()),qt=it.map(Mt=>Tt.indexOf(this.identityProvider.getId(Mt).toString())>-1);this.trait.splice(te,ge,qt)}}function Oo(Ot){return"INPUT"===Ot.tagName||"TEXTAREA"===Ot.tagName}function ai(Ot){return!!Ot.classList.contains("monaco-editor")||!(Ot.classList.contains("monaco-list")||!Ot.parentElement)&&ai(Ot.parentElement)}class Yt{constructor(te,ge,it){this.list=te,this.view=ge,this.disposables=new l.SL,this.multipleSelectionDisposables=new l.SL,this.onKeyDown.filter(Tt=>3===Tt.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Tt=>16===Tt.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Tt=>18===Tt.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Tt=>11===Tt.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Tt=>12===Tt.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Tt=>9===Tt.keyCode).on(this.onEscape,this,this.disposables),!1!==it.multipleSelectionSupport&&this.onKeyDown.filter(Tt=>(M.dz?Tt.metaKey:Tt.ctrlKey)&&31===Tt.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(U.ju.chain(this.disposables.add(new N.Y(this.view.domNode,"keydown")).event).filter(te=>!Oo(te.target)).map(te=>new V.y(te)))}updateOptions(te){void 0!==te.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),te.multipleSelectionSupport&&this.onKeyDown.filter(ge=>(M.dz?ge.metaKey:ge.ctrlKey)&&31===ge.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(te){te.preventDefault(),te.stopPropagation(),this.list.setSelection(this.list.getFocus(),te.browserEvent)}onUpArrow(te){te.preventDefault(),te.stopPropagation(),this.list.focusPrevious(1,!1,te.browserEvent);const ge=this.list.getFocus()[0];this.list.setAnchor(ge),this.list.reveal(ge),this.view.domNode.focus()}onDownArrow(te){te.preventDefault(),te.stopPropagation(),this.list.focusNext(1,!1,te.browserEvent);const ge=this.list.getFocus()[0];this.list.setAnchor(ge),this.list.reveal(ge),this.view.domNode.focus()}onPageUpArrow(te){te.preventDefault(),te.stopPropagation(),this.list.focusPreviousPage(te.browserEvent);const ge=this.list.getFocus()[0];this.list.setAnchor(ge),this.list.reveal(ge),this.view.domNode.focus()}onPageDownArrow(te){te.preventDefault(),te.stopPropagation(),this.list.focusNextPage(te.browserEvent);const ge=this.list.getFocus()[0];this.list.setAnchor(ge),this.list.reveal(ge),this.view.domNode.focus()}onCtrlA(te){te.preventDefault(),te.stopPropagation(),this.list.setSelection((0,a.w6)(this.list.length),te.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(te){this.list.getSelection().length&&(te.preventDefault(),te.stopPropagation(),this.list.setSelection([],te.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}var kt=(()=>{return(Ot=kt||(kt={}))[Ot.Automatic=0]="Automatic",Ot[Ot.Trigger=1]="Trigger",kt;var Ot})(),ln=(()=>{return(Ot=ln||(ln={}))[Ot.Idle=0]="Idle",Ot[Ot.Typing=1]="Typing",ln;var Ot})();const On=new class{mightProducePrintableCharacter(Ot){return!(Ot.ctrlKey||Ot.metaKey||Ot.altKey)&&(Ot.keyCode>=31&&Ot.keyCode<=56||Ot.keyCode>=21&&Ot.keyCode<=30||Ot.keyCode>=93&&Ot.keyCode<=102||Ot.keyCode>=80&&Ot.keyCode<=90)}};class Fn{constructor(te,ge,it,Tt,qt){this.list=te,this.view=ge,this.keyboardNavigationLabelProvider=it,this.keyboardNavigationEventFilter=Tt,this.delegate=qt,this.enabled=!1,this.state=ln.Idle,this.mode=kt.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new l.SL,this.disposables=new l.SL,this.updateOptions(te.options)}updateOptions(te){te.typeNavigationEnabled??1?this.enable():this.disable(),this.mode=te.typeNavigationMode??kt.Automatic}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let te=!1;const ge=this.enabledDisposables.add(U.ju.chain(this.enabledDisposables.add(new N.Y(this.view.domNode,"keydown")).event)).filter(qt=>!Oo(qt.target)).filter(()=>this.mode===kt.Automatic||this.triggered).map(qt=>new V.y(qt)).filter(qt=>te||this.keyboardNavigationEventFilter(qt)).filter(qt=>this.delegate.mightProducePrintableCharacter(qt)).forEach(N.p).map(qt=>qt.browserEvent.key).event,it=U.ju.debounce(ge,()=>null,800,void 0,void 0,this.enabledDisposables);U.ju.reduce(U.ju.any(ge,it),(qt,Mt)=>null===Mt?null:(qt||"")+Mt,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),it(this.onClear,this,this.enabledDisposables),ge(()=>te=!0,void 0,this.enabledDisposables),it(()=>te=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){const te=this.list.getFocus();if(te.length>0&&te[0]===this.previouslyFocused){const ge=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(te[0]));ge&&(0,Se.Z9)(ge)}this.previouslyFocused=-1}onInput(te){if(!te)return this.state=ln.Idle,void(this.triggered=!1);const ge=this.list.getFocus(),it=ge.length>0?ge[0]:0,Tt=this.state===ln.Idle?1:0;this.state=ln.Typing;for(let qt=0;qt<this.list.length;qt++){const Mt=(it+qt+Tt)%this.list.length,ee=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Mt)),Ie=ee&&ee.toString();if(typeof Ie>"u"||(0,Ee.Ji)(te,Ie))return this.previouslyFocused=it,this.list.setFocus([Mt]),void this.list.reveal(Mt)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class dn{constructor(te,ge){this.list=te,this.view=ge,this.disposables=new l.SL,this.disposables.add(U.ju.chain(this.disposables.add(new N.Y(ge.domNode,"keydown")).event)).filter(Tt=>!Oo(Tt.target)).map(Tt=>new V.y(Tt)).filter(Tt=>!(2!==Tt.keyCode||Tt.ctrlKey||Tt.metaKey||Tt.shiftKey||Tt.altKey)).on(this.onTab,this,this.disposables)}onTab(te){if(te.target!==this.view.domNode)return;const ge=this.list.getFocus();if(0===ge.length)return;const it=this.view.domElement(ge[0]);if(!it)return;const Tt=it.querySelector("[tabIndex]");if(!(Tt&&Tt instanceof HTMLElement&&-1!==Tt.tabIndex))return;const qt=window.getComputedStyle(Tt);"hidden"===qt.visibility||"none"===qt.display||(te.preventDefault(),te.stopPropagation(),Tt.focus())}dispose(){this.disposables.dispose()}}const xn={isSelectionSingleChangeEvent:function gt(Ot){return M.dz?Ot.browserEvent.metaKey:Ot.browserEvent.ctrlKey},isSelectionRangeChangeEvent:function sn(Ot){return Ot.browserEvent.shiftKey}};class Pn{constructor(te){this.list=te,this.disposables=new l.SL,this._onPointer=new c.E,this.onPointer=this._onPointer.event,!1!==te.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||xn),this.mouseSupport=typeof te.options.mouseSupport>"u"||!!te.options.mouseSupport,this.mouseSupport&&(te.onMouseDown(this.onMouseDown,this,this.disposables),te.onContextMenu(this.onContextMenu,this,this.disposables),te.onMouseDblClick(this.onDoubleClick,this,this.disposables),te.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Le.o.addTarget(te.getHTMLElement()))),U.ju.any(te.onMouseClick,te.onMouseMiddleClick,te.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(te){void 0!==te.multipleSelectionSupport&&(this.multipleSelectionController=void 0,te.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||xn))}isSelectionSingleChangeEvent(te){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(te)}isSelectionRangeChangeEvent(te){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(te)}isSelectionChangeEvent(te){return this.isSelectionSingleChangeEvent(te)||this.isSelectionRangeChangeEvent(te)}onMouseDown(te){ai(te.browserEvent.target)||document.activeElement!==te.browserEvent.target&&this.list.domFocus()}onContextMenu(te){ai(te.browserEvent.target)||this.list.setFocus(typeof te.index>"u"?[]:[te.index],te.browserEvent)}onViewPointer(te){if(!this.mouseSupport||Oo(te.browserEvent.target)||ai(te.browserEvent.target))return;const ge=te.index;return typeof ge>"u"?(this.list.setFocus([],te.browserEvent),this.list.setSelection([],te.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionRangeChangeEvent(te)||this.isSelectionChangeEvent(te)?this.changeSelection(te):(this.list.setFocus([ge],te.browserEvent),this.list.setAnchor(ge),function nn(Ot){return Ot instanceof MouseEvent&&2===Ot.button}(te.browserEvent)||this.list.setSelection([ge],te.browserEvent),void this._onPointer.fire(te))}onDoubleClick(te){if(Oo(te.browserEvent.target)||ai(te.browserEvent.target)||this.isSelectionChangeEvent(te))return;const ge=this.list.getFocus();this.list.setSelection(ge,te.browserEvent)}changeSelection(te){const ge=te.index;let it=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(te)){typeof it>"u"&&(it=this.list.getFocus()[0]??ge,this.list.setAnchor(it));const Tt=Math.min(it,ge),qt=Math.max(it,ge),Mt=(0,a.w6)(Tt,qt+1),ee=this.list.getSelection(),Ie=function Vt(Ot,te){const ge=Ot.indexOf(te);if(-1===ge)return[];const it=[];let Tt=ge-1;for(;Tt>=0&&Ot[Tt]===te-(ge-Tt);)it.push(Ot[Tt--]);for(it.reverse(),Tt=ge;Tt<Ot.length&&Ot[Tt]===te+(Tt-ge);)it.push(Ot[Tt++]);return it}(Zt(ee,[it]),it);if(0===Ie.length)return;const rt=Zt(Mt,function Cn(Ot,te){const ge=[];let it=0,Tt=0;for(;it<Ot.length||Tt<te.length;)if(it>=Ot.length)ge.push(te[Tt++]);else if(Tt>=te.length)ge.push(Ot[it++]);else{if(Ot[it]===te[Tt]){it++,Tt++;continue}Ot[it]<te[Tt]?ge.push(Ot[it++]):Tt++}return ge}(ee,Ie));this.list.setSelection(rt,te.browserEvent),this.list.setFocus([ge],te.browserEvent)}else if(this.isSelectionSingleChangeEvent(te)){const Tt=this.list.getSelection(),qt=Tt.filter(Mt=>Mt!==ge);this.list.setFocus([ge]),this.list.setAnchor(ge),this.list.setSelection(Tt.length===qt.length?[...qt,ge]:qt,te.browserEvent)}}dispose(){this.disposables.dispose()}}class En{constructor(te,ge){this.styleElement=te,this.selectorSuffix=ge}style(te){const ge=this.selectorSuffix&&`.${this.selectorSuffix}`,it=[];te.listBackground&&(te.listBackground.isOpaque()?it.push(`.monaco-list${ge} .monaco-list-rows { background: ${te.listBackground}; }`):M.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),te.listFocusBackground&&(it.push(`.monaco-list${ge}:focus .monaco-list-row.focused { background-color: ${te.listFocusBackground}; }`),it.push(`.monaco-list${ge}:focus .monaco-list-row.focused:hover { background-color: ${te.listFocusBackground}; }`)),te.listFocusForeground&&it.push(`.monaco-list${ge}:focus .monaco-list-row.focused { color: ${te.listFocusForeground}; }`),te.listActiveSelectionBackground&&(it.push(`.monaco-list${ge}:focus .monaco-list-row.selected { background-color: ${te.listActiveSelectionBackground}; }`),it.push(`.monaco-list${ge}:focus .monaco-list-row.selected:hover { background-color: ${te.listActiveSelectionBackground}; }`)),te.listActiveSelectionForeground&&it.push(`.monaco-list${ge}:focus .monaco-list-row.selected { color: ${te.listActiveSelectionForeground}; }`),te.listActiveSelectionIconForeground&&it.push(`.monaco-list${ge}:focus .monaco-list-row.selected .codicon { color: ${te.listActiveSelectionIconForeground}; }`),te.listFocusAndSelectionOutline&&it.push(`.monaco-list${ge}:focus .monaco-list-row.selected { outline-color: ${te.listFocusAndSelectionOutline} !important; }`),te.listFocusAndSelectionBackground&&it.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ge}:focus .monaco-list-row.selected.focused { background-color: ${te.listFocusAndSelectionBackground}; }\n\t\t\t`),te.listFocusAndSelectionForeground&&it.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ge}:focus .monaco-list-row.selected.focused { color: ${te.listFocusAndSelectionForeground}; }\n\t\t\t`),te.listInactiveFocusForeground&&(it.push(`.monaco-list${ge} .monaco-list-row.focused { color:  ${te.listInactiveFocusForeground}; }`),it.push(`.monaco-list${ge} .monaco-list-row.focused:hover { color:  ${te.listInactiveFocusForeground}; }`)),te.listInactiveSelectionIconForeground&&it.push(`.monaco-list${ge} .monaco-list-row.focused .codicon { color:  ${te.listInactiveSelectionIconForeground}; }`),te.listInactiveFocusBackground&&(it.push(`.monaco-list${ge} .monaco-list-row.focused { background-color:  ${te.listInactiveFocusBackground}; }`),it.push(`.monaco-list${ge} .monaco-list-row.focused:hover { background-color:  ${te.listInactiveFocusBackground}; }`)),te.listInactiveSelectionBackground&&(it.push(`.monaco-list${ge} .monaco-list-row.selected { background-color:  ${te.listInactiveSelectionBackground}; }`),it.push(`.monaco-list${ge} .monaco-list-row.selected:hover { background-color:  ${te.listInactiveSelectionBackground}; }`)),te.listInactiveSelectionForeground&&it.push(`.monaco-list${ge} .monaco-list-row.selected { color: ${te.listInactiveSelectionForeground}; }`),te.listHoverBackground&&it.push(`.monaco-list${ge}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${te.listHoverBackground}; }`),te.listHoverForeground&&it.push(`.monaco-list${ge} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${te.listHoverForeground}; }`),te.listSelectionOutline&&it.push(`.monaco-list${ge} .monaco-list-row.selected { outline: 1px dotted ${te.listSelectionOutline}; outline-offset: -1px; }`),te.listFocusOutline&&it.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${ge}:focus .monaco-list-row.focused { outline: 1px solid ${te.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${ge}.last-focused .monaco-list-row.focused { outline: 1px solid ${te.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),te.listInactiveFocusOutline&&it.push(`.monaco-list${ge} .monaco-list-row.focused { outline: 1px dotted ${te.listInactiveFocusOutline}; outline-offset: -1px; }`),te.listHoverOutline&&it.push(`.monaco-list${ge} .monaco-list-row:hover { outline: 1px dashed ${te.listHoverOutline}; outline-offset: -1px; }`),te.listDropBackground&&it.push(`\n\t\t\t\t.monaco-list${ge}.drop-target,\n\t\t\t\t.monaco-list${ge} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${ge} .monaco-list-row.drop-target { background-color: ${te.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),te.tableColumnsBorder&&it.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${te.tableColumnsBorder};\n\t\t\t}`),te.tableOddRowsBackgroundColor&&it.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${te.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=it.join("\n")}}const ht={listFocusBackground:s.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:s.Il.fromHex("#0E639C"),listActiveSelectionForeground:s.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:s.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:s.Il.fromHex("#094771"),listFocusAndSelectionForeground:s.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:s.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:s.Il.fromHex("#FFFFFF"),listHoverBackground:s.Il.fromHex("#2A2D2E"),listDropBackground:s.Il.fromHex("#383B3D"),treeIndentGuidesStroke:s.Il.fromHex("#a9a9a9"),tableColumnsBorder:s.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:s.Il.fromHex("#cccccc").transparent(.04)},Rt={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function Zt(Ot,te){const ge=[];let it=0,Tt=0;for(;it<Ot.length||Tt<te.length;)if(it>=Ot.length)ge.push(te[Tt++]);else if(Tt>=te.length)ge.push(Ot[it++]);else{if(Ot[it]===te[Tt]){ge.push(Ot[it]),it++,Tt++;continue}ge.push(Ot[it]<te[Tt]?Ot[it++]:te[Tt++])}return ge}const Re=(Ot,te)=>Ot-te;class ct{constructor(te,ge){this._templateId=te,this.renderers=ge}get templateId(){return this._templateId}renderTemplate(te){return this.renderers.map(ge=>ge.renderTemplate(te))}renderElement(te,ge,it,Tt){let qt=0;for(const Mt of this.renderers)Mt.renderElement(te,ge,it[qt++],Tt)}disposeElement(te,ge,it,Tt){let qt=0;for(const Mt of this.renderers)Mt.disposeElement?.(te,ge,it[qt],Tt),qt+=1}disposeTemplate(te){let ge=0;for(const it of this.renderers)it.disposeTemplate(te[ge++])}}class _n{constructor(te){this.accessibilityProvider=te,this.templateId="a18n"}renderTemplate(te){return te}renderElement(te,ge,it){const Tt=this.accessibilityProvider.getAriaLabel(te);Tt?it.setAttribute("aria-label",Tt):it.removeAttribute("aria-label");const qt=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(te);"number"==typeof qt?it.setAttribute("aria-level",`${qt}`):it.removeAttribute("aria-level")}disposeTemplate(te){}}class Hn{constructor(te,ge){this.list=te,this.dnd=ge}getDragElements(te){const ge=this.list.getSelectedElements();return ge.indexOf(te)>-1?ge:[te]}getDragURI(te){return this.dnd.getDragURI(te)}getDragLabel(te,ge){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(te,ge)}onDragStart(te,ge){this.dnd.onDragStart?.(te,ge)}onDragOver(te,ge,it,Tt){return this.dnd.onDragOver(te,ge,it,Tt)}onDragLeave(te,ge,it,Tt){this.dnd.onDragLeave?.(te,ge,it,Tt)}onDragEnd(te){this.dnd.onDragEnd?.(te)}drop(te,ge,it,Tt){this.dnd.drop(te,ge,it,Tt)}}function yi(Ot,te){const ge=Math.pow(10,te);return Math.round(Ot*ge)/ge}class di{constructor(te,ge,it,Tt=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,te)),this.g=0|Math.min(255,Math.max(0,ge)),this.b=0|Math.min(255,Math.max(0,it)),this.a=yi(Math.max(Math.min(1,Tt),0),3)}static equals(te,ge){return te.r===ge.r&&te.g===ge.g&&te.b===ge.b&&te.a===ge.a}}class Ft{constructor(te,ge,it,Tt){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,te),0),this.s=yi(Math.max(Math.min(1,ge),0),3),this.l=yi(Math.max(Math.min(1,it),0),3),this.a=yi(Math.max(Math.min(1,Tt),0),3)}static equals(te,ge){return te.h===ge.h&&te.s===ge.s&&te.l===ge.l&&te.a===ge.a}static fromRGBA(te){const ge=te.r/255,it=te.g/255,Tt=te.b/255,qt=te.a,Mt=Math.max(ge,it,Tt),ee=Math.min(ge,it,Tt);let Ie=0,rt=0;const $t=(ee+Mt)/2,cn=Mt-ee;if(cn>0){switch(rt=Math.min($t<=.5?cn/(2*$t):cn/(2-2*$t),1),Mt){case ge:Ie=(it-Tt)/cn+(it<Tt?6:0);break;case it:Ie=(Tt-ge)/cn+2;break;case Tt:Ie=(ge-it)/cn+4}Ie*=60,Ie=Math.round(Ie)}return new Ft(Ie,rt,$t,qt)}static _hue2rgb(te,ge,it){return it<0&&(it+=1),it>1&&(it-=1),it<1/6?te+6*(ge-te)*it:it<.5?ge:it<2/3?te+(ge-te)*(2/3-it)*6:te}static toRGBA(te){const ge=te.h/360,{s:it,l:Tt,a:qt}=te;let Mt,ee,Ie;if(0===it)Mt=ee=Ie=Tt;else{const rt=Tt<.5?Tt*(1+it):Tt+it-Tt*it,$t=2*Tt-rt;Mt=Ft._hue2rgb($t,rt,ge+1/3),ee=Ft._hue2rgb($t,rt,ge),Ie=Ft._hue2rgb($t,rt,ge-1/3)}return new di(Math.round(255*Mt),Math.round(255*ee),Math.round(255*Ie),qt)}}class R{constructor(te,ge,it,Tt){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,te),0),this.s=yi(Math.max(Math.min(1,ge),0),3),this.v=yi(Math.max(Math.min(1,it),0),3),this.a=yi(Math.max(Math.min(1,Tt),0),3)}static equals(te,ge){return te.h===ge.h&&te.s===ge.s&&te.v===ge.v&&te.a===ge.a}static fromRGBA(te){const ge=te.r/255,it=te.g/255,Tt=te.b/255,qt=Math.max(ge,it,Tt),ee=qt-Math.min(ge,it,Tt),Ie=0===qt?0:ee/qt;let rt;return rt=0===ee?0:qt===ge?((it-Tt)/ee%6+6)%6:qt===it?(Tt-ge)/ee+2:(ge-it)/ee+4,new R(Math.round(60*rt),Ie,qt,te.a)}static toRGBA(te){const{h:ge,s:it,v:Tt,a:qt}=te,Mt=Tt*it,ee=Mt*(1-Math.abs(ge/60%2-1)),Ie=Tt-Mt;let[rt,$t,cn]=[0,0,0];return ge<60?(rt=Mt,$t=ee):ge<120?(rt=ee,$t=Mt):ge<180?($t=Mt,cn=ee):ge<240?($t=ee,cn=Mt):ge<300?(rt=ee,cn=Mt):ge<=360&&(rt=Mt,cn=ee),rt=Math.round(255*(rt+Ie)),$t=Math.round(255*($t+Ie)),cn=Math.round(255*(cn+Ie)),new di(rt,$t,cn,qt)}}class q{constructor(te){if(!te)throw new Error("Color needs a value");if(te instanceof di)this.rgba=te;else if(te instanceof Ft)this._hsla=te,this.rgba=Ft.toRGBA(te);else{if(!(te instanceof R))throw new Error("Invalid color ctor argument");this._hsva=te,this.rgba=R.toRGBA(te)}}static fromHex(te){return q.Format.CSS.parseHex(te)||q.red}get hsla(){return this._hsla?this._hsla:Ft.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:R.fromRGBA(this.rgba)}equals(te){return!!te&&di.equals(this.rgba,te.rgba)&&Ft.equals(this.hsla,te.hsla)&&R.equals(this.hsva,te.hsva)}getRelativeLuminance(){return yi(.2126*q._relativeLuminanceForComponent(this.rgba.r)+.7152*q._relativeLuminanceForComponent(this.rgba.g)+.0722*q._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(te){const ge=te/255;return ge<=.03928?ge/12.92:Math.pow((ge+.055)/1.055,2.4)}getContrastRatio(te){const ge=this.getRelativeLuminance(),it=te.getRelativeLuminance();return ge>it?(ge+.05)/(it+.05):(it+.05)/(ge+.05)}isDarker(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(te){return this.getRelativeLuminance()>te.getRelativeLuminance()}isDarkerThan(te){return this.getRelativeLuminance()<te.getRelativeLuminance()}lighten(te){return new q(new Ft(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*te,this.hsla.a))}darken(te){return new q(new Ft(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*te,this.hsla.a))}transparent(te){const{r:ge,g:it,b:Tt,a:qt}=this.rgba;return new q(new di(ge,it,Tt,qt*te))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new q(new di(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(te){const ge=te.rgba,it=this.rgba.a,Tt=ge.a,qt=it+Tt*(1-it);return qt<1e-6?q.transparent:new q(new di(this.rgba.r*it/qt+ge.r*Tt*(1-it)/qt,this.rgba.g*it/qt+ge.g*Tt*(1-it)/qt,this.rgba.b*it/qt+ge.b*Tt*(1-it)/qt,qt))}makeOpaque(te){if(this.isOpaque()||1!==te.rgba.a)return this;const{r:ge,g:it,b:Tt,a:qt}=this.rgba;return new q(new di(te.rgba.r-qt*(te.rgba.r-ge),te.rgba.g-qt*(te.rgba.g-it),te.rgba.b-qt*(te.rgba.b-Tt),1))}flatten(...te){const ge=te.reduceRight((it,Tt)=>q._flatten(Tt,it));return q._flatten(this,ge)}static _flatten(te,ge){const it=1-te.rgba.a;return new q(new di(it*ge.rgba.r+te.rgba.a*te.rgba.r,it*ge.rgba.g+te.rgba.a*te.rgba.g,it*ge.rgba.b+te.rgba.a*te.rgba.b))}toString(){return this._toString||(this._toString=q.Format.CSS.format(this)),this._toString}static getLighterColor(te,ge,it){if(te.isLighterThan(ge))return te;it=it||.5;const Tt=te.getRelativeLuminance(),qt=ge.getRelativeLuminance();return te.lighten(it=it*(qt-Tt)/qt)}static getDarkerColor(te,ge,it){if(te.isDarkerThan(ge))return te;it=it||.5;const Tt=te.getRelativeLuminance(),qt=ge.getRelativeLuminance();return te.darken(it=it*(Tt-qt)/Tt)}}var Ot,te,me,Ke;function Xe(Ot,te){Object.defineProperties(Ot,Object.getOwnPropertyDescriptors(te))}function at(Ot,te,ge,it){for(const Tt of Object.getOwnPropertyNames(te))Object.hasOwnProperty.call(Ot,Tt)||(Ot[Tt]=function(...qt){return ge(te[Tt].call(this,...qt.map(it)))})}q.white=new q(new di(255,255,255,1)),q.black=new q(new di(0,0,0,1)),q.red=new q(new di(255,0,0,1)),q.blue=new q(new di(0,0,255,1)),q.green=new q(new di(0,255,0,1)),q.cyan=new q(new di(0,255,255,1)),q.lightgrey=new q(new di(211,211,211,1)),q.transparent=new q(new di(0,0,0,0)),function(ge){function ee(In){const ni=In.toString(16);return 2!==ni.length?"0"+ni:ni}function Ln(In){switch(In){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}ge.formatRGB=function it(In){return 1===In.rgba.a?`rgb(${In.rgba.r}, ${In.rgba.g}, ${In.rgba.b})`:Ot.Format.CSS.formatRGBA(In)},ge.formatRGBA=function Tt(In){return`rgba(${In.rgba.r}, ${In.rgba.g}, ${In.rgba.b}, ${+In.rgba.a.toFixed(2)})`},ge.formatHSL=function qt(In){return 1===In.hsla.a?`hsl(${In.hsla.h}, ${(100*In.hsla.s).toFixed(2)}%, ${(100*In.hsla.l).toFixed(2)}%)`:Ot.Format.CSS.formatHSLA(In)},ge.formatHSLA=function Mt(In){return`hsla(${In.hsla.h}, ${(100*In.hsla.s).toFixed(2)}%, ${(100*In.hsla.l).toFixed(2)}%, ${In.hsla.a.toFixed(2)})`},ge.formatHex=function Ie(In){return`#${ee(In.rgba.r)}${ee(In.rgba.g)}${ee(In.rgba.b)}`},ge.formatHexA=function rt(In,ni=!1){return ni&&1===In.rgba.a?Ot.Format.CSS.formatHex(In):`#${ee(In.rgba.r)}${ee(In.rgba.g)}${ee(In.rgba.b)}${ee(Math.round(255*In.rgba.a))}`},ge.format=function $t(In){return In.isOpaque()?Ot.Format.CSS.formatHex(In):Ot.Format.CSS.formatRGBA(In)},ge.parseHex=function cn(In){const ni=In.length;if(0===ni||35!==In.charCodeAt(0))return null;if(7===ni){const Jn=16*Ln(In.charCodeAt(1))+Ln(In.charCodeAt(2)),gi=16*Ln(In.charCodeAt(3))+Ln(In.charCodeAt(4)),vi=16*Ln(In.charCodeAt(5))+Ln(In.charCodeAt(6));return new Ot(new di(Jn,gi,vi,1))}if(9===ni){const Jn=16*Ln(In.charCodeAt(1))+Ln(In.charCodeAt(2)),gi=16*Ln(In.charCodeAt(3))+Ln(In.charCodeAt(4)),vi=16*Ln(In.charCodeAt(5))+Ln(In.charCodeAt(6)),bi=16*Ln(In.charCodeAt(7))+Ln(In.charCodeAt(8));return new Ot(new di(Jn,gi,vi,bi/255))}if(4===ni){const Jn=Ln(In.charCodeAt(1)),gi=Ln(In.charCodeAt(2)),vi=Ln(In.charCodeAt(3));return new Ot(new di(16*Jn+Jn,16*gi+gi,16*vi+vi))}if(5===ni){const Jn=Ln(In.charCodeAt(1)),gi=Ln(In.charCodeAt(2)),vi=Ln(In.charCodeAt(3)),bi=Ln(In.charCodeAt(4));return new Ot(new di(16*Jn+Jn,16*gi+gi,16*vi+vi,(16*bi+bi)/255))}return null}}((te=(Ot=q||(q={})).Format||(Ot.Format={})).CSS||(te.CSS={})),null==oe.Yj.prototype.text?oe.Yj.prototype.text=function(Ot){return this.parse(Ot).toString()}:console.warn("Useless polyfill: SnippetParser"),Xe(Ne.$V.prototype,class Oi extends l.JT{constructor(te){super(),this.logger=te,this._register(te)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(te){this.logger.setLevel(te)}getLevel(){return this.logger.getLevel()}trace(te,...ge){this.logger.trace(te,...ge)}debug(te,...ge){this.logger.debug(te,...ge)}info(te,...ge){this.logger.info(te,...ge)}warn(te,...ge){this.logger.warn(te,...ge)}error(te,...ge){this.logger.error(te,...ge)}critical(te,...ge){this.logger.critical(te,...ge)}flush(){this.logger.flush()}}.prototype),Xe($.aV.prototype,class Ai{constructor(te,ge,it,Tt,qt=Rt){this.user=te,this._options=qt,this.focus=new Do("focused"),this.anchor=new Do("anchor"),this.eventBufferer=new U.E7,this._ariaLabel="",this.disposables=new l.SL,this._onDidDispose=new c.E,this.onDidDispose=this._onDidDispose.event;const Mt=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new to("listbox"!==Mt),(0,C.jB)(qt,ht,!1);const ee=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=qt.accessibilityProvider,this.accessibilityProvider&&(ee.push(new _n(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),Tt=Tt.map(rt=>new ct(rt.templateId,[...ee,rt]));const Ie={...qt,dnd:qt.dnd&&new Hn(this,qt.dnd)};if(this.view=new j.Bv(ge,it,Tt,Ie),this.view.domNode.setAttribute("role",Mt),qt.styleController)this.styleController=qt.styleController(this.view.domId);else{const rt=(0,L.dS)(this.view.domNode);this.styleController=new En(rt,this.view.domId)}this.spliceable=new ne.J([new vo(this.focus,this.view,qt.identityProvider),new vo(this.selection,this.view,qt.identityProvider),new vo(this.anchor,this.view,qt.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new dn(this,this.view)),("boolean"!=typeof qt.keyboardSupport||qt.keyboardSupport)&&(this.keyboardController=new Yt(this,this.view,qt),this.disposables.add(this.keyboardController)),qt.keyboardNavigationLabelProvider&&(this.typeNavigationController=new Fn(this,this.view,qt.keyboardNavigationLabelProvider,qt.keyboardNavigationEventFilter??(()=>!0),qt.keyboardNavigationDelegate||On),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(qt),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return U.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),te=>this.toListEvent(te),this.disposables)}get onDidChangeSelection(){return U.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),te=>this.toListEvent(te),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let te=!1;const ge=this.disposables.add(U.ju.chain(this.disposables.add(new N.Y(this.view.domNode,"keydown")).event)).map(qt=>new V.y(qt)).filter(qt=>te=58===qt.keyCode||qt.shiftKey&&68===qt.keyCode).map(N.p).filter(()=>!1).event,it=this.disposables.add(U.ju.chain(this.disposables.add(new N.Y(this.view.domNode,"keyup")).event)).forEach(()=>te=!1).map(qt=>new V.y(qt)).filter(qt=>58===qt.keyCode||qt.shiftKey&&68===qt.keyCode).map(N.p).map(({browserEvent:qt})=>{const Mt=this.getFocus(),ee=Mt.length?Mt[0]:void 0;return{index:ee,element:typeof ee<"u"?this.view.element(ee):void 0,anchor:typeof ee<"u"?this.view.domElement(ee):this.view.domNode,browserEvent:qt}}).event,Tt=this.disposables.add(U.ju.chain(this.view.onContextMenu)).filter(qt=>!te).map(({element:qt,index:Mt,browserEvent:ee})=>({element:qt,index:Mt,anchor:{x:ee.pageX+1,y:ee.pageY},browserEvent:ee})).event;return U.ju.any(ge,it,Tt)}get onKeyDown(){return this.disposables.add(new N.Y(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new N.Y(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new N.Y(this.view.domNode,"keypress")).event}get onDidFocus(){return U.ju.signal(this.disposables.add(new N.Y(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return U.ju.signal(this.disposables.add(new N.Y(this.view.domNode,"blur",!0)).event)}createMouseController(te){return new Pn(this)}updateOptions(te={}){this._options={...this._options,...te},this.typeNavigationController?.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(te),this.keyboardController?.updateOptions(te),this.view.updateOptions(te)}get options(){return this._options}splice(te,ge,it=[]){if(te<0||te>this.view.length)throw new Z.A(this.user,`Invalid start index: ${te}`);if(ge<0)throw new Z.A(this.user,`Invalid delete count: ${ge}`);0===ge&&0===it.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(te,ge,it))}updateWidth(te){this.view.updateWidth(te)}updateElementHeight(te,ge){this.view.updateElementHeight(te,ge,null)}rerender(){this.view.rerender()}element(te){return this.view.element(te)}indexOf(te){return this.view.indexOf(te)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(te){this.view.setScrollTop(te)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(te){this.view.setScrollLeft(te)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(te){this._ariaLabel=te,this.view.domNode.setAttribute("aria-label",te)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(te,ge){this.view.layout(te,ge)}triggerTypeNavigation(){this.typeNavigationController&&this.typeNavigationController.trigger()}setSelection(te,ge){for(const it of te)if(it<0||it>=this.length)throw new Z.A(this.user,`Invalid index ${it}`);this.selection.set(te,ge)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(te=>this.view.element(te))}setAnchor(te){if(typeof te>"u")this.anchor.set([]);else{if(te<0||te>=this.length)throw new Z.A(this.user,`Invalid index ${te}`);this.anchor.set([te])}}getAnchor(){return(0,a.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const te=this.getAnchor();return typeof te>"u"?void 0:this.element(te)}setFocus(te,ge){for(const it of te)if(it<0||it>=this.length)throw new Z.A(this.user,`Invalid index ${it}`);this.focus.set(te,ge)}focusNext(te=1,ge=!1,it,Tt){if(0===this.length)return;const qt=this.focus.get(),Mt=this.findNextIndex(qt.length>0?qt[0]+te:0,ge,Tt);Mt>-1&&this.setFocus([Mt],it)}focusPrevious(te=1,ge=!1,it,Tt){if(0===this.length)return;const qt=this.focus.get(),Mt=this.findPreviousIndex(qt.length>0?qt[0]-te:0,ge,Tt);Mt>-1&&this.setFocus([Mt],it)}focusNextPage(te,ge){var it=this;return(0,d.Z)(function*(){let Tt=it.view.indexAt(it.view.getScrollTop()+it.view.renderHeight);Tt=0===Tt?0:Tt-1;const qt=it.getFocus()[0];if(qt!==Tt&&(void 0===qt||Tt>qt)){const Mt=it.findPreviousIndex(Tt,!1,ge);it.setFocus(Mt>-1&&qt!==Mt?[Mt]:[Tt],te)}else{const Mt=it.view.getScrollTop();let ee=Mt+it.view.renderHeight;Tt>qt&&(ee-=it.view.elementHeight(Tt)),it.view.setScrollTop(ee),it.view.getScrollTop()!==Mt&&(it.setFocus([]),yield(0,E.Vs)(0),yield it.focusNextPage(te,ge))}})()}focusPreviousPage(te,ge){var it=this;return(0,d.Z)(function*(){let Tt;const qt=it.view.getScrollTop();Tt=0===qt?it.view.indexAt(qt):it.view.indexAfter(qt-1);const Mt=it.getFocus()[0];if(Mt!==Tt&&(void 0===Mt||Mt>=Tt)){const ee=it.findNextIndex(Tt,!1,ge);it.setFocus(ee>-1&&Mt!==ee?[ee]:[Tt],te)}else{const ee=qt;it.view.setScrollTop(qt-it.view.renderHeight),it.view.getScrollTop()!==ee&&(it.setFocus([]),yield(0,E.Vs)(0),yield it.focusPreviousPage(te,ge))}})()}focusLast(te,ge){if(0===this.length)return;const it=this.findPreviousIndex(this.length-1,!1,ge);it>-1&&this.setFocus([it],te)}focusFirst(te,ge){this.focusNth(0,te,ge)}focusNth(te,ge,it){if(0===this.length)return;const Tt=this.findNextIndex(te,!1,it);Tt>-1&&this.setFocus([Tt],ge)}findNextIndex(te,ge=!1,it){for(let Tt=0;Tt<this.length;Tt++){if(te>=this.length&&!ge)return-1;if(te%=this.length,!it||it(this.element(te)))return te;te++}return-1}findPreviousIndex(te,ge=!1,it){for(let Tt=0;Tt<this.length;Tt++){if(te<0&&!ge)return-1;if(te=(this.length+te%this.length)%this.length,!it||it(this.element(te)))return te;te--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(te=>this.view.element(te))}reveal(te,ge){if(te<0||te>=this.length)throw new Z.A(this.user,`Invalid index ${te}`);const it=this.view.getScrollTop(),Tt=this.view.elementTop(te),qt=this.view.elementHeight(te);if((0,_.hj)(ge))this.view.setScrollTop((qt-this.view.renderHeight)*(0,fe.uZ)(ge,0,1)+Tt);else{const Mt=Tt+qt,ee=it+this.view.renderHeight;Tt<it&&Mt>=ee||(Tt<it||Mt>=ee&&qt>=this.view.renderHeight?this.view.setScrollTop(Tt):Mt>=ee&&this.view.setScrollTop(Mt-this.view.renderHeight))}}getRelativeTop(te){if(te<0||te>=this.length)throw new Z.A(this.user,`Invalid index ${te}`);const ge=this.view.getScrollTop(),it=this.view.elementTop(te),Tt=this.view.elementHeight(te);return it<ge||it+Tt>ge+this.view.renderHeight?null:Math.abs((ge-it)/(Tt-this.view.renderHeight))}isDOMFocused(){return this.view.domNode===document.activeElement}getHTMLElement(){return this.view.domNode}getElementID(te){return this.view.getElementDomId(te)}style(te){this.styleController.style(te)}toListEvent({indexes:te,browserEvent:ge}){return{indexes:te,elements:te.map(it=>this.view.element(it)),browserEvent:ge}}_onFocusChange(){const te=this.focus.get();this.view.domNode.classList.toggle("element-focused",te.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){const te=this.focus.get();if(te.length>0){let ge;this.accessibilityProvider?.getActiveDescendantId&&(ge=this.accessibilityProvider.getActiveDescendantId(this.view.element(te[0]))),this.view.domNode.setAttribute("aria-activedescendant",ge||this.view.getElementDomId(te[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const te=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===te.length),this.view.domNode.classList.toggle("selection-single",1===te.length),this.view.domNode.classList.toggle("selection-multiple",te.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}.prototype),Xe(z.md.prototype,c.W.prototype),Xe(n.t.prototype,Po.prototype),Xe(S.qL.prototype,class Te{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(te){setTimeout(()=>{throw te.stack?$e.isErrorNoTelemetry(te)?new $e(te.message+"\n\n"+te.stack):new Error(te.message+"\n\n"+te.stack):te},0)}}addListener(te){return this.listeners.push(te),()=>{this._removeListener(te)}}emit(te){this.listeners.forEach(ge=>{ge(te)})}_removeListener(te){this.listeners.splice(this.listeners.indexOf(te),1)}setUnexpectedErrorHandler(te){this.unexpectedErrorHandler=te}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(te){this.unexpectedErrorHandler(te),this.emit(te)}onUnexpectedExternalError(te){this.unexpectedErrorHandler(te)}}.prototype),Xe(F.uy.prototype,c.R.prototype),Xe(y.VK.prototype,rn.prototype),Xe(I.Id.prototype,mo.prototype),Xe(b.AC.prototype,class ji{constructor(){this._onDidChangeConfiguration=new c.E,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new y.VK(new D.l,new y.VV,new y.VV,new y.VV)}getValue(te,ge){const it="string"==typeof te?te:void 0,Tt=Ki(te)?te:Ki(ge)?ge:{};return this._configuration.getValue(it,Tt,void 0)}updateValues(te){const ge={data:this._configuration.toData()},it=[];for(const Tt of te){const[qt,Mt]=Tt;this.getValue(qt)!==Mt&&(this._configuration.updateValue(qt,Mt),it.push(qt))}if(it.length>0){const Tt=new y.YX({keys:it,overrides:[]},ge,this._configuration);Tt.source=8,Tt.sourceConfig=null,this._onDidChangeConfiguration.fire(Tt)}return Promise.resolve()}updateValue(te,ge,it,Tt){return this.updateValues([[te,ge]])}inspect(te,ge={}){return this._configuration.inspect(te,ge,void 0)}keys(){return this._configuration.keys(void 0)}reloadConfiguration(){return Promise.resolve(void 0)}getConfigurationData(){const te={contents:{},keys:[],overrides:[]};return{defaults:te,policy:te,application:te,user:te,workspace:te,folders:[]}}}.prototype),Xe(m.T.prototype,bt.prototype),Xe(g.EO.prototype,c.N.prototype),Xe(v.bB.prototype,class wt extends l.JT{constructor(te){super(),this.themeService=te,this.theme=te.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(ge=>this.onThemeChange(ge)))}onThemeChange(te){this.theme=te,this.updateStyles()}updateStyles(){}getColor(te,ge){let it=this.theme.getColor(te);return it&&ge&&(it=ge(it,this.theme)),it?it.toString():null}}.prototype),Xe(T.k.prototype,ot.prototype);const tn=K.B.as("base.contributions.json");tn.getSchemaContributions??(tn.getSchemaContributions=()=>({schemas:tn.schemasById})),tn.onDidChangeSchema??(tn.onDidChangeSchema=tn._onDidChangeSchema.event);const Jt=K.B.as("base.contributions.theming");Jt.onThemingParticipantAdded??(Jt.onThemingParticipantAdded=Jt.onThemingParticipantAddedEmitter.event);const Sn=K.B.as(O.IP.Configuration);function Tn(Ot){return function(){const te=Ot.call(this);return te.onDidTriggerButton??(te.onDidTriggerButton=te.onDidTriggerButtonEmitter.event),te}}function Kn(Ot){return Ot instanceof t.KN?st.wrap(Ot.buffer):Ot}function ti(Ot){return Ot instanceof st?t.KN.wrap(Ot.buffer):Ot}Sn.onDidUpdateConfiguration??(Sn.onDidUpdateConfiguration=Sn._onDidUpdateConfiguration.event),Sn.onDidSchemaChange??(Sn.onDidSchemaChange=Sn._onDidSchemaChange.event),Sn.notifyConfigurationSchemaUpdated??(Sn.notifyConfigurationSchemaUpdated=()=>{Sn._onDidSchemaChange.fire()}),(me=g.EO.prototype).onDidClose??(me.onDidClose=U.ju.None),we.O.prototype.createQuickPick=Tn(we.O.prototype.createQuickPick),we.O.prototype.createInputBox=Tn(we.O.prototype.createInputBox),(Ke=(0,xe.d)().find(([Ot])=>Ot===pe.e)[1].ctor.prototype).onDidChangeFormatters??(Ke.onDidChangeFormatters=U.ju.None);for(const Ot of Object.getOwnPropertyNames(st))if(!Object.hasOwnProperty.call(t.KN,Ot)){const te=st[Ot];st[Ot]=t.KN[Ot]=function(...ge){return ti(te.call(t.KN,...ge.map(Kn)))}}at(t.KN.prototype,st.prototype,ti,Kn),at(s.Il.prototype,q.prototype,function fi(Ot){if(Ot instanceof q){const te=Ot.rgba;return new s.Il(new s.VS(te.r,te.g,te.g,te.a))}return Ot},function hi(Ot){if(Ot instanceof s.Il){const te=Ot.rgba;return new q(new di(te.r,te.g,te.g,te.a))}return Ot})},4496:(Et,X,e)=>{"use strict";e.d(X,{A:()=>he,C:()=>g,F:()=>y,I:()=>_e,P:()=>oe,S:()=>Bt,a:()=>D,b:()=>Ze,c:()=>Qe,d:()=>K,e:()=>le,f:()=>Le,g:()=>et,h:()=>ve,i:()=>b,j:()=>Ae,k:()=>dt,l:()=>st,m:()=>$,n:()=>vt,o:()=>mt,p:()=>tt,q:()=>we,r:()=>_t,s:()=>u});var d=e(17374),t=e(9265),l=e(37188),S=e(67044),v=e(24596),T=e(40734),C=e(59547),E=e(80142),L=e(29693),_=e(89982),s=e(55197),m=e(48648),c=e(5067),n=e(7626),a=e(15067);function u(Ge){return Ge}e(3778);const g=_.CancellationTokenSource,b=(0,t.yh)("fileService");var y=(()=>{return(Ge=y||(y={}))[Ge.Unknown=0]="Unknown",Ge[Ge.File=1]="File",Ge[Ge.Directory=2]="Directory",Ge[Ge.SymbolicLink=64]="SymbolicLink",y;var Ge})(),D=(()=>{return(Ge=D||(D={}))[Ge.Readonly=1]="Readonly",D;var Ge})(),K=(()=>{return(Ge=K||(K={})).FileExists="EntryExists",Ge.FileNotFound="EntryNotFound",Ge.FileNotADirectory="EntryNotADirectory",Ge.FileIsADirectory="EntryIsADirectory",Ge.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",Ge.FileTooLarge="EntryTooLarge",Ge.FileWriteLocked="EntryWriteLocked",Ge.NoPermissions="NoPermissions",Ge.Unavailable="Unavailable",Ge.Unknown="Unknown",K;var Ge})();class F extends Error{constructor(ut,Ut){super(ut),this.code=Ut}}function $(Ge,ut){return Ge.name=ut?`${ut} (FileSystemError)`:"FileSystemError",Ge}class Z extends Error{constructor(ut,Ut,hn){super(ut),this.fileOperationResult=Ut,this.options=hn}}const Le=(0,t.yh)("IUriIdentityService"),oe="workbench.experimental.settingsProfiles.enabled",we=(0,t.yh)("IUserDataProfilesService");function pe(Ge,ut,Ut){return{id:(0,n.vp)(ut.path).toString(16),name:Ge,location:ut,isDefault:!1,globalStorageHome:(0,T.Vo)(ut,"globalStorage"),settingsResource:(0,T.Vo)(ut,"settings.json"),keybindingsResource:(0,T.Vo)(ut,"keybindings.json"),tasksResource:(0,T.Vo)(ut,"tasks.json"),snippetsHome:(0,T.Vo)(ut,"snippets"),extensionsResource:(0,T.Vo)(ut,"extensions.json"),useDefaultFlags:Ut}}let Te=class extends E.JT{constructor(ut,Ut,hn,Dn){super(),this.environmentService=ut,this.fileService=Ut,this.uriIdentityService=hn,this.logService=Dn,this.enabled=!1,this.defaultProfileShouldIncludeExtensionsResourceAlways=!1,this._onDidChangeProfiles=this._register(new S.E),this.onDidChangeProfiles=this._onDidChangeProfiles.event,this._onWillCreateProfile=this._register(new S.E),this.onWillCreateProfile=this._onWillCreateProfile.event,this._onWillRemoveProfile=this._register(new S.E),this.onWillRemoveProfile=this._onWillRemoveProfile.event,this.profilesHome=(0,T.Vo)(this.environmentService.userRoamingDataHome,"profiles")}get defaultProfile(){return this.profiles[0]}get profiles(){return this.profilesObject.profiles}setEnablement(ut){this.enabled!==ut&&(this._profilesObject=void 0,this.enabled=ut)}get profilesObject(){if(!this._profilesObject){const ut=this.enabled?this.getStoredProfiles().map(wt=>pe(wt.name,wt.location,wt.useDefaultFlags)):[];let Ut;const hn=new c.Y9;if(ut.length){const wt=this.getStoredProfileAssociations();if(wt.workspaces)for(const[je,ye]of Object.entries(wt.workspaces)){const Me=C.o.parse(je),ue=C.o.parse(ye),be=ut.find(qe=>this.uriIdentityService.extUri.isEqual(qe.location,ue));be&&hn.set(Me,be)}if(wt.emptyWindow){const je=C.o.parse(wt.emptyWindow);Ut=ut.find(ye=>this.uriIdentityService.extUri.isEqual(ye.location,je))}}const Dn=pe((0,s.NC)("defaultProfile","Default"),this.environmentService.userRoamingDataHome);ut.unshift({...Dn,isDefault:!0,extensionsResource:this.defaultProfileShouldIncludeExtensionsResourceAlways||ut.length>0?Dn.extensionsResource:void 0}),this._profilesObject={profiles:ut,workspaces:hn,emptyWindow:Ut}}return this._profilesObject}getProfile(ut){const Ut=this.getWorkspace(ut);return(C.o.isUri(Ut)?this.profilesObject.workspaces.get(Ut):this.profilesObject.emptyWindow)??this.defaultProfile}getWorkspace(ut){return(0,v.eb)(ut)?ut.uri:(0,S.i)(ut)?ut.configPath:"empty-window"}createProfile(ut,Ut,hn){var Dn=this;return(0,d.Z)(function*(){if(!Dn.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);if(Dn.getStoredProfiles().some(ye=>ye.name===ut))throw new Error(`Profile with name ${ut} already exists`);const wt=pe(ut,(0,T.Vo)(Dn.profilesHome,(0,n.vp)((0,a.R)()).toString(16)),Ut);yield Dn.fileService.createFolder(wt.location);const je=[];return Dn._onWillCreateProfile.fire({profile:wt,join(ye){je.push(ye)}}),yield m.jT.settled(je),Dn.updateProfiles([wt],[],[]),hn&&(yield Dn.setProfileForWorkspace(wt,hn)),wt})()}updateProfile(ut,Ut,hn){var Dn=this;return(0,d.Z)(function*(){if(!Dn.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);let wt=Dn.profiles.find(je=>je.id===ut.id);if(!wt)throw new Error(`Profile '${ut.name}' does not exist`);return wt=pe(Ut,wt.location,hn),Dn.updateProfiles([],[],[wt]),wt})()}setProfileForWorkspace(ut,Ut){var hn=this;return(0,d.Z)(function*(){if(!hn.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);const Dn=hn.profiles.find(wt=>wt.id===ut.id);if(!Dn)throw new Error(`Profile '${ut.name}' does not exist`);hn.updateWorkspaceAssociation(Ut,Dn)})()}unsetWorkspace(ut){var Ut=this;return(0,d.Z)(function*(){if(!Ut.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);Ut.updateWorkspaceAssociation(ut)})()}removeProfile(ut){var Ut=this;return(0,d.Z)(function*(){if(!Ut.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${oe}' setting.`);if(ut.isDefault)throw new Error("Cannot remove default profile");const hn=Ut.profiles.find(wt=>wt.id===ut.id);if(!hn)throw new Error(`Profile '${ut.name}' does not exist`);const Dn=[];Ut._onWillRemoveProfile.fire({profile:hn,join(wt){Dn.push(wt)}}),yield m.jT.settled(Dn),hn.id===Ut.profilesObject.emptyWindow?.id&&(Ut.profilesObject.emptyWindow=void 0);for(const wt of[...Ut.profilesObject.workspaces.keys()])hn.id===Ut.profilesObject.workspaces.get(wt)?.id&&Ut.profilesObject.workspaces.delete(wt);Ut.updateStoredProfileAssociations(),Ut.updateProfiles([],[hn],[]);try{1===Ut.profiles.length?yield Ut.fileService.del(Ut.profilesHome,{recursive:!0}):yield Ut.fileService.del(hn.location,{recursive:!0})}catch(wt){Ut.logService.error(wt)}})()}updateProfiles(ut,Ut,hn){const Dn=[];for(let wt of[...this.profilesObject.profiles,...ut])wt.isDefault||Ut.some(je=>wt.id===je.id)||(wt=hn.find(je=>wt.id===je.id)??wt,Dn.push({location:wt.location,name:wt.name,useDefaultFlags:wt.useDefaultFlags}));this.saveStoredProfiles(Dn),this._profilesObject=void 0,this.triggerProfilesChanges(ut,Ut,hn)}triggerProfilesChanges(ut,Ut,hn){this._onDidChangeProfiles.fire({added:ut,removed:Ut,updated:hn,all:this.profiles})}updateWorkspaceAssociation(ut,Ut){const hn=this.getWorkspace(ut);C.o.isUri(hn)?(this.profilesObject.workspaces.delete(hn),Ut&&!Ut.isDefault&&this.profilesObject.workspaces.set(hn,Ut)):this.profilesObject.emptyWindow=Ut?.isDefault?void 0:Ut,this.updateStoredProfileAssociations()}updateStoredProfileAssociations(){const ut={};for(const[hn,Dn]of this.profilesObject.workspaces.entries())ut[hn.toString()]=Dn.location.toString();const Ut=this.profilesObject.emptyWindow?.location.toString();this.saveStoredProfileAssociations({workspaces:ut,emptyWindow:Ut}),this._profilesObject=void 0}getStoredProfiles(){return[]}saveStoredProfiles(ut){throw new Error("not implemented")}getStoredProfileAssociations(){return{}}saveStoredProfileAssociations(ut){throw new Error("not implemented")}};Te.PROFILES_KEY="userDataProfiles",Te.PROFILE_ASSOCIATIONS_KEY="profileAssociations",Te=(0,S._)([(0,S.a)(0,l.Y),(0,S.a)(1,b),(0,S.a)(2,Le),(0,S.a)(3,L.VZ)],Te);const Ze=(0,t.yh)("editorGroupsService"),_e=(0,t.yh)("editorService"),he=-1,le=-2,ve=(0,t.yh)("textFileService"),Ae=l.Y,dt=(0,t.yh)("workingCopyFileService"),st=(0,t.yh)("pathService"),et=(0,t.yh)("paneCompositePartService"),Qe=(0,t.yh)("productService"),tt="vscode://schemas/vscode-product",vt=(0,t.yh)("ILanguageStatusService"),mt=(0,t.yh)("hostService"),_t=(0,t.yh)("snippetService");let Kt;var Bt,Ge;(Ge=Bt||(Bt={})).get=()=>Kt??{},Ge.install=function ut(Ut){return null!=Kt&&console.warn("Services have been overridden"),Kt=Ut,{dispose:()=>{Kt===Ut&&(Kt=void 0)}}}},39021:(Et,X,e)=>{"use strict";function t(_){return Array.isArray(_)&&_.every(s=>function d(_){return"string"==typeof _}(s))}function v(_){return function S(_){return typeof _>"u"}(_)||null===_}function T(..._){const s=[];for(let m=0;m<_.length;m++){const c=_[m];if(v(c))throw new Error(`Assertion Failed: argument at index ${m} is undefined or null`);s.push(c)}return s}function L(_){return typeof _>"u"?null:_}e.d(X,{a:()=>T,i:()=>t,w:()=>L})},67044:(Et,X,e)=>{"use strict";e.d(X,{E:()=>T,N:()=>p,R:()=>B,W:()=>ne,_:()=>g,a:()=>b,b:()=>D,c:()=>y,d:()=>L,e:()=>E,f:()=>a,g:()=>n,i:()=>j,m:()=>c,s:()=>m});var d=e(89982),t=e(3778),l=e(8841),S=e(40734),v=e(59547);const T=d.Emitter;function E(N,V,Z){const fe=function C(N,V,Z){const fe=[];function M(Le,Ne,oe){if(0===Ne&&0===oe.length)return;const we=fe[fe.length-1];we&&we.start+we.deleteCount===Le?(we.deleteCount+=Ne,we.toInsert.push(...oe)):fe.push({start:Le,deleteCount:Ne,toInsert:oe})}let Se=0,Ee=0;for(;;){if(Se===N.length){M(Se,0,V.slice(Ee));break}if(Ee===V.length){M(Se,N.length-Se,[]);break}const Ne=V[Ee],oe=Z(N[Se],Ne);0===oe?(Se+=1,Ee+=1):oe<0?(M(Se,1,[]),Se+=1):oe>0&&(M(Se,0,[Ne]),Ee+=1)}return fe}(N,V,Z),M=[],Se=[];for(const Ee of fe)M.push(...N.slice(Ee.start,Ee.start+Ee.deleteCount)),Se.push(...Ee.toInsert);return{removed:M,added:Se}}function L(N){let V=0;for(let Z=0;Z<N.length;Z++)N[Z]&&(N[V]=N[Z],V+=1);N.length=V}function m(N,V){let Z;if("number"==typeof V){let fe=V;Z=()=>{const M=179426549*Math.sin(fe++);return M-Math.floor(M)}}else Z=Math.random;for(let fe=N.length-1;fe>0;fe-=1){const M=Math.floor(Z()*(fe+1)),Se=N[fe];N[fe]=N[M],N[M]=Se}}function c(N,V){return Array.isArray(N)?N.map(V):V(N)}var n=(()=>{return(N=n||(n={}))[N.WORKSPACE=0]="WORKSPACE",N[N.PROFILE=1]="PROFILE",N[N.APPLICATION=2]="APPLICATION",n;var N})(),a=(()=>{return(N=a||(a={}))[N.OFF=0]="OFF",N[N.SILENT=1]="SILENT",N[N.ERROR=2]="ERROR",a;var N})();class p{constructor(){this.progress=new u,this.onDidClose=t.ju.None,this.onDidChangeVisibility=t.ju.None}updateSeverity(V){}updateMessage(V){}updateActions(V){}close(){}}class u{infinite(){}done(){}total(V){}worked(V){}}function g(N,V,Z,fe){var Ee,M=arguments.length,Se=M<3?V:null===fe?fe=Object.getOwnPropertyDescriptor(V,Z):fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(N,V,Z,fe);else for(var Le=N.length-1;Le>=0;Le--)(Ee=N[Le])&&(Se=(M<3?Ee(Se):M>3?Ee(V,Z,Se):Ee(V,Z))||Se);return M>3&&Se&&Object.defineProperty(V,Z,Se),Se}function b(N,V){return function(Z,fe){V(Z,fe,N)}}function y(N,V,Z,fe){if("a"===Z&&!fe)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof V?N!==V||!fe:!V.has(N))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Z?fe:"a"===Z?fe.call(N):fe?fe.value:V.get(N)}function D(N,V,Z,fe,M){if("m"===fe)throw new TypeError("Private method is not writable");if("a"===fe&&!M)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof V?N!==V||!M:!V.has(N))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===fe?M.call(N,Z):M?M.value=Z:V.set(N,Z),Z}const w=new Map;w.set("false",!1),w.set("true",!0),w.set("isMac",l.dz),w.set("isLinux",l.IJ),w.set("isWindows",l.ED),w.set("isWeb",l.$L),w.set("isMacNative",l.dz&&!l.$L),w.set("isEdge",l.un),w.set("isFirefox",l.vU),w.set("isChrome",l.i7),w.set("isSafari",l.G6);class P{constructor(){this.type=0}cmp(V){return this.type-V.type}equals(V){return V.type===this.type}substituteConstants(){return this}evaluate(V){return!1}serialize(){return"false"}keys(){return[]}map(V){return this}negate(){return O.INSTANCE}}P.INSTANCE=new P;class O{constructor(){this.type=1}cmp(V){return this.type-V.type}equals(V){return V.type===this.type}substituteConstants(){return this}evaluate(V){return!0}serialize(){return"true"}keys(){return[]}map(V){return this}negate(){return P.INSTANCE}}O.INSTANCE=new O;class H{constructor(V,Z){this.key=V,this.negated=Z,this.type=2}static create(V,Z=null){const fe=w.get(V);return"boolean"==typeof fe?fe?O.INSTANCE:P.INSTANCE:new H(V,Z)}cmp(V){return V.type!==this.type?this.type-V.type:z(this.key,V.key)}equals(V){return V.type===this.type&&this.key===V.key}substituteConstants(){const V=w.get(this.key);return"boolean"==typeof V?V?O.INSTANCE:P.INSTANCE:this}evaluate(V){return!!V.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(V){return V.mapDefined(this.key)}negate(){return this.negated||(this.negated=F.create(this.key,this)),this.negated}}class U{constructor(V,Z,fe){this.key=V,this.value=Z,this.negated=fe,this.type=4}static create(V,Z,fe=null){if("boolean"==typeof Z)return Z?H.create(V,fe):F.create(V,fe);const M=w.get(V);return"boolean"==typeof M?Z===(M?"true":"false")?O.INSTANCE:P.INSTANCE:new U(V,Z,fe)}cmp(V){return V.type!==this.type?this.type-V.type:$(this.key,this.value,V.key,V.value)}equals(V){return V.type===this.type&&this.key===V.key&&this.value===V.value}substituteConstants(){const V=w.get(this.key);return"boolean"==typeof V?this.value===(V?"true":"false")?O.INSTANCE:P.INSTANCE:this}evaluate(V){return V.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(V){return V.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=K.create(this.key,this.value,this)),this.negated}}class K{constructor(V,Z,fe){this.key=V,this.value=Z,this.negated=fe,this.type=5}static create(V,Z,fe=null){if("boolean"==typeof Z)return Z?F.create(V,fe):H.create(V,fe);const M=w.get(V);return"boolean"==typeof M?Z===(M?"true":"false")?P.INSTANCE:O.INSTANCE:new K(V,Z,fe)}cmp(V){return V.type!==this.type?this.type-V.type:$(this.key,this.value,V.key,V.value)}equals(V){return V.type===this.type&&this.key===V.key&&this.value===V.value}substituteConstants(){const V=w.get(this.key);return"boolean"==typeof V?this.value===(V?"true":"false")?P.INSTANCE:O.INSTANCE:this}evaluate(V){return V.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(V){return V.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=U.create(this.key,this.value,this)),this.negated}}class F{constructor(V,Z){this.key=V,this.negated=Z,this.type=3}static create(V,Z=null){const fe=w.get(V);return"boolean"==typeof fe?fe?P.INSTANCE:O.INSTANCE:new F(V,Z)}cmp(V){return V.type!==this.type?this.type-V.type:z(this.key,V.key)}equals(V){return V.type===this.type&&this.key===V.key}substituteConstants(){const V=w.get(this.key);return"boolean"==typeof V?V?P.INSTANCE:O.INSTANCE:this}evaluate(V){return!V.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(V){return V.mapNot(this.key)}negate(){return this.negated||(this.negated=H.create(this.key,this)),this.negated}}let B=(()=>{class N extends H{constructor(Z,fe,M){super(Z,null),this._defaultValue=fe,"object"==typeof M?N._info.push({...M,key:Z}):!0!==M&&N._info.push({key:Z,description:M,type:null!=fe?typeof fe:void 0})}static all(){return N._info.values()}bindTo(Z){return Z.createKey(this.key,this._defaultValue)}getValue(Z){return Z.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(Z){return U.create(this.key,Z)}notEqualsTo(Z){return K.create(this.key,Z)}}return N._info=[],N})();function z(N,V){return N<V?-1:N>V?1:0}function $(N,V,Z,fe){return N<Z?-1:N>Z?1:V<fe?-1:V>fe?1:0}function j(N){return"string"==typeof N?.id&&v.o.isUri(N.configPath)}class ne{constructor(V,Z){this.raw=Z,this.uri=V.uri,this.index=V.index,this.name=V.name}toResource(V){return(0,S.Vo)(this.uri,V)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}},17374:(Et,X,e)=>{"use strict";function d(l,S,v,T,C,E,L){try{var _=l[E](L),s=_.value}catch(m){return void v(m)}_.done?S(s):Promise.resolve(s).then(T,C)}function t(l){return function(){var S=this,v=arguments;return new Promise(function(T,C){var E=l.apply(S,v);function L(s){d(E,T,C,L,_,"next",s)}function _(s){d(E,T,C,L,_,"throw",s)}L(void 0)})}}e.d(X,{Z:()=>t})},67519:(Et,X,e)=>{"use strict";function d(t,l,S){return l in t?Object.defineProperty(t,l,{value:S,enumerable:!0,configurable:!0,writable:!0}):t[l]=S,t}e.d(X,{Z:()=>d})}}]);