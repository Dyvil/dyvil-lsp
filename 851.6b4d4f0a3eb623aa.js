(()=>{"use strict";var k,we={15851:(k,s,y)=>{var r=y(23579);class R{constructor(e){this.connection=e,e.onInitialize(t=>{var n,d,h,D;const C=t.capabilities;this.hasConfigurationCapability=!(null===(n=C.workspace)||void 0===n||!n.configuration),this.hasWorkspaceFolderCapability=!(null===(d=C.workspace)||void 0===d||!d.workspaceFolders),this.hasDiagnosticRelatedInformationCapability=!(null===(D=null===(h=C.textDocument)||void 0===h?void 0:h.publishDiagnostics)||void 0===D||!D.relatedInformation);const u={capabilities:{textDocumentSync:r.TextDocumentSyncKind.Incremental,completionProvider:{triggerCharacters:["."]},renameProvider:{prepareProvider:!0},referencesProvider:!0,definitionProvider:!0,hoverProvider:!0,documentHighlightProvider:!0}};return this.hasWorkspaceFolderCapability&&(u.capabilities.workspace={workspaceFolders:{supported:!0}}),u}),e.onInitialized(()=>{this.hasConfigurationCapability&&e.client.register(r.DidChangeConfigurationNotification.type,void 0)})}}var i,o,w=y(53767),l=y(49932),m=function(o,e,t){if(t||2===arguments.length)for(var h,n=0,d=e.length;n<d;n++)(h||!(n in e))&&(h||(h=Array.prototype.slice.call(e,0,n)),h[n]=e[n]);return o.concat(h||Array.prototype.slice.call(e))},g=function(){function o(e,t,n,d){this._uri=e,this._languageId=t,this._version=n,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(o.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),o.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},o.prototype.update=function(e,t){for(var n=0,d=e;n<d.length;n++){var h=d[n];if(o.isIncremental(h)){var D=S(h.range),C=this.offsetAt(D.start),u=this.offsetAt(D.end);this._content=this._content.substring(0,C)+h.text+this._content.substring(u,this._content.length);var c=Math.max(D.start.line,0),b=Math.max(D.end.line,0),O=this._lineOffsets,q=v(h.text,!1,C);if(b-c===q.length)for(var j=0,z=q.length;j<z;j++)O[j+c+1]=q[j];else q.length<1e4?O.splice.apply(O,m([c+1,b-c],q,!1)):this._lineOffsets=O=O.slice(0,c+1).concat(q,O.slice(b+1));var B=h.text.length-(u-C);if(0!==B)for(j=c+1+q.length,z=O.length;j<z;j++)O[j]=O[j]+B}else{if(!o.isFull(h))throw new Error("Unknown change event received");this._content=h.text,this._lineOffsets=void 0}}this._version=t},o.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=v(this._content,!0)),this._lineOffsets},o.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,d=t.length;if(0===d)return{line:0,character:e};for(;n<d;){var h=Math.floor((n+d)/2);t[h]>e?d=h:n=h+1}var D=n-1;return{line:D,character:e-t[D]}},o.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line];return Math.max(Math.min(n+e.character,e.line+1<t.length?t[e.line+1]:this._content.length),n)},Object.defineProperty(o.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),o.isIncremental=function(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)},o.isFull=function(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength},o}();function p(o,e){if(o.length<=1)return o;var t=o.length/2|0,n=o.slice(0,t),d=o.slice(t);p(n,e),p(d,e);for(var h=0,D=0,C=0;h<n.length&&D<d.length;){var u=e(n[h],d[D]);o[C++]=u<=0?n[h++]:d[D++]}for(;h<n.length;)o[C++]=n[h++];for(;D<d.length;)o[C++]=d[D++];return o}function v(o,e,t){void 0===t&&(t=0);for(var n=e?[t]:[],d=0;d<o.length;d++){var h=o.charCodeAt(d);(13===h||10===h)&&(13===h&&d+1<o.length&&10===o.charCodeAt(d+1)&&d++,n.push(t+d+1))}return n}function S(o){var e=o.start,t=o.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:o}function P(o){var e=S(o.range);return e!==o.range?{newText:o.newText,range:e}:o}(o=i||(i={})).create=function e(d,h,D,C){return new g(d,h,D,C)},o.update=function t(d,h,D){if(d instanceof g)return d.update(h,D),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")},o.applyEdits=function n(d,h){for(var D=d.getText(),u=0,c=[],b=0,O=p(h.map(P),function(z,B){var Q=z.range.start.line-B.range.start.line;return 0===Q?z.range.start.character-B.range.start.character:Q});b<O.length;b++){var q=O[b],j=d.offsetAt(q.range.start);if(j<u)throw new Error("Overlapping edit");j>u&&c.push(D.substring(u,j)),q.newText.length&&c.push(q.newText),u=d.offsetAt(q.range.end)}return c.push(D.substr(u)),c.join("")};class x{constructor(e){this.connectionService=e,this.documents=new r.TextDocuments(i),this.astCache=new Map,this.documents.listen(this.connectionService.connection),this.documents.onDidChangeContent(t=>{this.astCache.has(t.document.uri)&&this.astCache.delete(t.document.uri)})}getAST(e){const t="string"==typeof e?e:e.uri,n=this.astCache.get(t);if(n)return n;const d="string"==typeof e?this.documents.get(t):e;return d?(0,l.V3)(d.getText(),t).resolve(new w._8([])):void 0}}function W(o){switch(o){case"keyword":return r.CompletionItemKind.Keyword;case"operator":return r.CompletionItemKind.Operator;case"class":return r.CompletionItemKind.Class;case"field":return r.CompletionItemKind.Field;case"method":return r.CompletionItemKind.Method;case"variable":case"parameter":return r.CompletionItemKind.Variable;default:return r.CompletionItemKind.Text}}class H{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onCompletion(n=>this.provideCompletionItems(n))}provideCompletionItems(e){const n=this.documentService.documents.get(e.textDocument.uri);if(!n)return[];const d=n.getText({start:{line:0,character:0},end:e.position}),h=n.getText({start:e.position,end:{line:n.lineCount,character:0}}),C=(0,l.V3)(`${d}\xa7${h}`).resolve(new w._8([])).diagnostics.find(u=>u.message.includes("input '\xa7' expecting"));return C&&C.expected?C.expected.map(u=>({kind:W(u.kind),label:u.label,labelDetails:{detail:u.signature,description:u.description},insertText:u.snippet,insertTextFormat:u.snippet?r.InsertTextFormat.Snippet:void 0})):[]}}function a(o){return{start:{line:o.start.line-1,character:o.start.column},end:{line:o.end.line-1,character:o.end.column}}}function _({severity:o,location:e,message:t}){return{severity:"error"===o?r.DiagnosticSeverity.Error:r.DiagnosticSeverity.Warning,range:a(e),message:t,source:"dyvil"}}class F{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onDidChangeConfiguration(()=>{this.documentService.documents.all().forEach(n=>this.validateTextDocument(n))}),this.documentService.documents.onDidChangeContent(n=>{this.validateTextDocument(n.document)})}validateTextDocument(e){return function G(o,e,t,n){return new(t||(t=Promise))(function(h,D){function C(b){try{c(n.next(b))}catch(O){D(O)}}function u(b){try{c(n.throw(b))}catch(O){D(O)}}function c(b){b.done?h(b.value):function d(h){return h instanceof t?h:new t(function(D){D(h)})}(b.value).then(C,u)}c((n=n.apply(o,e||[])).next())})}(this,void 0,void 0,function*(){const t=this.documentService.getAST(e);if(!t)return;const n=t.diagnostics.map(_);yield this.connectionService.connection.sendDiagnostics({uri:e.uri,diagnostics:n})})}}class f{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onPrepareRename(n=>this.prepareRename(n)),this.connectionService.connection.onRenameRequest(n=>this.rename(n)),this.connectionService.connection.onReferences(n=>this.references(n)),this.connectionService.connection.onDefinition(n=>this.definition(n)),this.connectionService.connection.onHover(n=>this.hover(n)),this.connectionService.connection.onDocumentHighlight(n=>this.highlight(n))}prepareRename(e){const t=this.findNode(e);if(!t)return;const n=t.references("rename");return n&&n.length?a(t.location):void 0}rename(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("rename");if(n&&n.length)return{changes:{[e.textDocument.uri]:n.map(d=>({range:a(d),newText:e.newName}))}}}references(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("definition");if(n&&n.length)return!e.context.includeDeclaration&&n.length&&n.shift(),n.map(d=>({uri:e.textDocument.uri,range:a(d)}))}definition(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("definition");if(n&&n.length)return{uri:e.textDocument.uri,range:a(n[0])}}hover(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.documentation();return n?{contents:{kind:"markdown",value:n}}:null}highlight(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references();if(n&&n.length)return n.map(d=>({range:a(d)}))}findNode(e){const t=e.textDocument.uri,n=new w.Ly(e.position.line+1,e.position.character),d=this.documentService.getAST(t);if(!d)return;const h=d.findByPosition(n);return h?h[h.length-1]:void 0}}var K=y(58657);console.log("Running Dyvil Language Server in Web Worker");const ee=new K.BrowserMessageReader(self),be=new K.BrowserMessageWriter(self),se=(0,K.createConnection)(ee,be);(function L(o){const e=new R(o),t=new x(e);new H(e,t),new F(e,t),new f(e,t)})(se),se.listen()},37722:(k,s,y)=>{k.exports=y(92470)},58657:(k,s,y)=>{k.exports=y(23579)},23579:function(k,s,y){var r=this&&this.__createBinding||(Object.create?function(i,p,v,S){void 0===S&&(S=v);var P=Object.getOwnPropertyDescriptor(p,v);(!P||("get"in P?!p.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(i,S,P)}:function(i,p,v,S){void 0===S&&(S=v),i[S]=p[v]}),R=this&&this.__exportStar||function(i,p){for(var v in i)"default"!==v&&!Object.prototype.hasOwnProperty.call(p,v)&&r(p,i,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.createConnection=void 0;const w=y(57066);R(y(37722),s),R(y(57066),s);let l=!1;const m={initialize:i=>{},get shutdownReceived(){return l},set shutdownReceived(i){l=i},exit:i=>{}};s.createConnection=function g(i,p,v,S){let P,x,W,H;return void 0!==i&&"features"===i.__brand&&(P=i,i=p,p=v,v=S),w.ConnectionStrategy.is(i)||w.ConnectionOptions.is(i)?H=i:(x=i,W=p,H=v),(0,w.createConnection)(J=>(0,w.createProtocolConnection)(x,W,J,H),m,P)}},57066:function(k,s,y){var r=this&&this.__createBinding||(Object.create?function(i,p,v,S){void 0===S&&(S=v);var P=Object.getOwnPropertyDescriptor(p,v);(!P||("get"in P?!p.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(i,S,P)}:function(i,p,v,S){void 0===S&&(S=v),i[S]=p[v]}),R=this&&this.__exportStar||function(i,p){for(var v in i)"default"!==v&&!Object.prototype.hasOwnProperty.call(p,v)&&r(p,i,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.ProposedFeatures=s.NotebookDocuments=s.TextDocuments=s.SemanticTokensBuilder=void 0;const w=y(7009);Object.defineProperty(s,"SemanticTokensBuilder",{enumerable:!0,get:function(){return w.SemanticTokensBuilder}}),R(y(92470),s);const l=y(41409);Object.defineProperty(s,"TextDocuments",{enumerable:!0,get:function(){return l.TextDocuments}});const m=y(15549);Object.defineProperty(s,"NotebookDocuments",{enumerable:!0,get:function(){return m.NotebookDocuments}}),R(y(64718),s),(s.ProposedFeatures||(s.ProposedFeatures={})).all={__brand:"features"}},17917:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CallHierarchyFeature=void 0;const r=y(92470);s.CallHierarchyFeature=w=>class extends w{get callHierarchy(){return{onPrepare:l=>this.connection.onRequest(r.CallHierarchyPrepareRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),void 0)),onIncomingCalls:l=>{const m=r.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))},onOutgoingCalls:l=>{const m=r.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))}}}}},36831:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ConfigurationFeature=void 0;const r=y(92470),R=y(91925);s.ConfigurationFeature=l=>class extends l{getConfiguration(m){return m?R.string(m)?this._getConfiguration({section:m}):this._getConfiguration(m):this._getConfiguration({})}_getConfiguration(m){let g={items:Array.isArray(m)?m:[m]};return this.connection.sendRequest(r.ConfigurationRequest.type,g).then(i=>Array.isArray(i)?Array.isArray(m)?i:i[0]:Array.isArray(m)?[]:null)}}},59495:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DiagnosticFeature=void 0;const r=y(92470);s.DiagnosticFeature=w=>class extends w{get diagnostics(){return{refresh:()=>this.connection.sendRequest(r.DiagnosticRefreshRequest.type),on:l=>this.connection.onRequest(r.DocumentDiagnosticRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),this.attachPartialResultProgress(r.DocumentDiagnosticRequest.partialResult,m))),onWorkspace:l=>this.connection.onRequest(r.WorkspaceDiagnosticRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),this.attachPartialResultProgress(r.WorkspaceDiagnosticRequest.partialResult,m)))}}}},98950:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FileOperationsFeature=void 0;const r=y(92470);s.FileOperationsFeature=w=>class extends w{onDidCreateFiles(l){return this.connection.onNotification(r.DidCreateFilesNotification.type,m=>{l(m)})}onDidRenameFiles(l){return this.connection.onNotification(r.DidRenameFilesNotification.type,m=>{l(m)})}onDidDeleteFiles(l){return this.connection.onNotification(r.DidDeleteFilesNotification.type,m=>{l(m)})}onWillCreateFiles(l){return this.connection.onRequest(r.WillCreateFilesRequest.type,(m,g)=>l(m,g))}onWillRenameFiles(l){return this.connection.onRequest(r.WillRenameFilesRequest.type,(m,g)=>l(m,g))}onWillDeleteFiles(l){return this.connection.onRequest(r.WillDeleteFilesRequest.type,(m,g)=>l(m,g))}}},47340:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InlayHintFeature=void 0;const r=y(92470);s.InlayHintFeature=w=>class extends w{get inlayHint(){return{refresh:()=>this.connection.sendRequest(r.InlayHintRefreshRequest.type),on:l=>this.connection.onRequest(r.InlayHintRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m))),resolve:l=>this.connection.onRequest(r.InlayHintResolveRequest.type,(m,g)=>l(m,g))}}}},17158:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InlineValueFeature=void 0;const r=y(92470);s.InlineValueFeature=w=>class extends w{get inlineValue(){return{refresh:()=>this.connection.sendRequest(r.InlineValueRefreshRequest.type),on:l=>this.connection.onRequest(r.InlineValueRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m)))}}}},28113:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkedEditingRangeFeature=void 0;const r=y(92470);s.LinkedEditingRangeFeature=w=>class extends w{onLinkedEditingRange(l){return this.connection.onRequest(r.LinkedEditingRangeRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),void 0))}}},90391:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MonikerFeature=void 0;const r=y(92470);s.MonikerFeature=w=>class extends w{get moniker(){return{on:l=>{const m=r.MonikerRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))}}}}},15549:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NotebookDocuments=s.NotebookSyncFeature=void 0;const r=y(92470),R=y(41409);s.NotebookSyncFeature=g=>class extends g{get synchronization(){return{onDidOpenNotebookDocument:i=>this.connection.onNotification(r.DidOpenNotebookDocumentNotification.type,p=>{i(p)}),onDidChangeNotebookDocument:i=>this.connection.onNotification(r.DidChangeNotebookDocumentNotification.type,p=>{i(p)}),onDidSaveNotebookDocument:i=>this.connection.onNotification(r.DidSaveNotebookDocumentNotification.type,p=>{i(p)}),onDidCloseNotebookDocument:i=>this.connection.onNotification(r.DidCloseNotebookDocumentNotification.type,p=>{i(p)})}}};class l{onDidOpenTextDocument(i){return this.openHandler=i,r.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(i){this.openHandler&&this.openHandler(i)}onDidChangeTextDocument(i){return this.changeHandler=i,r.Disposable.create(()=>{this.changeHandler=i})}changeTextDocument(i){this.changeHandler&&this.changeHandler(i)}onDidCloseTextDocument(i){return this.closeHandler=i,r.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(i){this.closeHandler&&this.closeHandler(i)}onWillSaveTextDocument(){return l.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return l.NULL_DISPOSE}onDidSaveTextDocument(){return l.NULL_DISPOSE}}l.NULL_DISPOSE=Object.freeze({dispose:()=>{}}),s.NotebookDocuments=class m{constructor(i){this._cellTextDocuments=i instanceof R.TextDocuments?i:new R.TextDocuments(i),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new r.Emitter,this._onDidChange=new r.Emitter,this._onDidSave=new r.Emitter,this._onDidClose=new r.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(i){return this._cellTextDocuments.get(i.document)}getNotebookDocument(i){return this.notebookDocuments.get(i)}getNotebookCell(i){const p=this.notebookCellMap.get(i);return p&&p[0]}findNotebookDocumentForCell(i){const v=this.notebookCellMap.get("string"==typeof i?i:i.document);return v&&v[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(i){const p=new l,v=[];return v.push(this.cellTextDocuments.listen(p)),v.push(i.notebooks.synchronization.onDidOpenNotebookDocument(S=>{this.notebookDocuments.set(S.notebookDocument.uri,S.notebookDocument);for(const P of S.cellTextDocuments)p.openTextDocument({textDocument:P});this.updateCellMap(S.notebookDocument),this._onDidOpen.fire(S.notebookDocument)})),v.push(i.notebooks.synchronization.onDidChangeNotebookDocument(S=>{const P=this.notebookDocuments.get(S.notebookDocument.uri);if(void 0===P)return;P.version=S.notebookDocument.version;const x=P.metadata;let W=!1;const H=S.change;void 0!==H.metadata&&(W=!0,P.metadata=H.metadata);const M=[],J=[],$=[],Y=[];if(void 0!==H.cells){const E=H.cells;if(void 0!==E.structure){const A=E.structure.array;if(P.cells.splice(A.start,A.deleteCount,...void 0!==A.cells?A.cells:[]),void 0!==E.structure.didOpen)for(const I of E.structure.didOpen)p.openTextDocument({textDocument:I}),M.push(I.uri);if(E.structure.didClose)for(const I of E.structure.didClose)p.closeTextDocument({textDocument:I}),J.push(I.uri)}if(void 0!==E.data){const A=new Map(E.data.map(I=>[I.document,I]));for(let I=0;I<=P.cells.length;I++){const G=A.get(P.cells[I].document);if(void 0!==G){const ne=P.cells.splice(I,1,G);if($.push({old:ne[0],new:G}),A.delete(G.document),0===A.size)break}}}if(void 0!==E.textContent)for(const A of E.textContent)p.changeTextDocument({textDocument:A.document,contentChanges:A.changes}),Y.push(A.document.uri)}this.updateCellMap(P);const X={notebookDocument:P};W&&(X.metadata={old:x,new:P.metadata});const Z=[];for(const E of M)Z.push(this.getNotebookCell(E));const te=[];for(const E of J)te.push(this.getNotebookCell(E));const U=[];for(const E of Y)U.push(this.getNotebookCell(E));(Z.length>0||te.length>0||$.length>0||U.length>0)&&(X.cells={added:Z,removed:te,changed:{data:$,textContent:U}}),(void 0!==X.metadata||void 0!==X.cells)&&this._onDidChange.fire(X)})),v.push(i.notebooks.synchronization.onDidSaveNotebookDocument(S=>{const P=this.notebookDocuments.get(S.notebookDocument.uri);void 0!==P&&this._onDidSave.fire(P)})),v.push(i.notebooks.synchronization.onDidCloseNotebookDocument(S=>{const P=this.notebookDocuments.get(S.notebookDocument.uri);if(void 0!==P){this._onDidClose.fire(P);for(const x of S.cellTextDocuments)p.closeTextDocument({textDocument:x});this.notebookDocuments.delete(S.notebookDocument.uri);for(const x of P.cells)this.notebookCellMap.delete(x.document)}})),r.Disposable.create(()=>{v.forEach(S=>S.dispose())})}updateCellMap(i){for(const p of i.cells)this.notebookCellMap.set(p.document,[p,i])}}},90550:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attachPartialResult=s.ProgressFeature=s.attachWorkDone=void 0;const r=y(92470),R=y(47058);class w{constructor(W,H){this._connection=W,this._token=H,w.Instances.set(this._token,this)}begin(W,H,M,J){this._connection.sendProgress(r.WorkDoneProgress.type,this._token,{kind:"begin",title:W,percentage:H,message:M,cancellable:J})}report(W,H){let M={kind:"report"};"number"==typeof W?(M.percentage=W,void 0!==H&&(M.message=H)):M.message=W,this._connection.sendProgress(r.WorkDoneProgress.type,this._token,M)}done(){w.Instances.delete(this._token),this._connection.sendProgress(r.WorkDoneProgress.type,this._token,{kind:"end"})}}w.Instances=new Map;class l extends w{constructor(W,H){super(W,H),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class m{constructor(){}begin(){}report(){}done(){}}class g extends m{constructor(){super(),this._source=new r.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}var v;s.attachWorkDone=function i(x,W){if(void 0===W||void 0===W.workDoneToken)return new m;const H=W.workDoneToken;return delete W.workDoneToken,new w(x,H)},s.ProgressFeature=x=>class extends x{constructor(){super(),this._progressSupported=!1}initialize(W){super.initialize(W),!0===W?.window?.workDoneProgress&&(this._progressSupported=!0,this.connection.onNotification(r.WorkDoneProgressCancelNotification.type,H=>{let M=w.Instances.get(H.token);(M instanceof l||M instanceof g)&&M.cancel()}))}attachWorkDoneProgress(W){return void 0===W?new m:new w(this.connection,W)}createWorkDoneProgress(){if(this._progressSupported){const W=(0,R.generateUuid)();return this.connection.sendRequest(r.WorkDoneProgressCreateRequest.type,{token:W}).then(()=>new l(this.connection,W))}return Promise.resolve(new g)}},(v||(v={})).type=new r.ProgressType;class S{constructor(W,H){this._connection=W,this._token=H}report(W){this._connection.sendProgress(v.type,this._token,W)}}s.attachPartialResult=function P(x,W){if(void 0===W||void 0===W.partialResultToken)return;const H=W.partialResultToken;return delete W.partialResultToken,new S(x,H)}},7009:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SemanticTokensBuilder=s.SemanticTokensDiff=s.SemanticTokensFeature=void 0;const r=y(92470);s.SemanticTokensFeature=m=>class extends m{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(r.SemanticTokensRefreshRequest.type),on:g=>{const i=r.SemanticTokensRequest.type;return this.connection.onRequest(i,(p,v)=>g(p,v,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(i,p)))},onDelta:g=>{const i=r.SemanticTokensDeltaRequest.type;return this.connection.onRequest(i,(p,v)=>g(p,v,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(i,p)))},onRange:g=>{const i=r.SemanticTokensRangeRequest.type;return this.connection.onRequest(i,(p,v)=>g(p,v,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(i,p)))}}}};class w{constructor(g,i){this.originalSequence=g,this.modifiedSequence=i}computeDiff(){const g=this.originalSequence.length,i=this.modifiedSequence.length;let p=0;for(;p<i&&p<g&&this.originalSequence[p]===this.modifiedSequence[p];)p++;if(p<i&&p<g){let v=g-1,S=i-1;for(;v>=p&&S>=p&&this.originalSequence[v]===this.modifiedSequence[S];)v--,S--;(v<p||S<p)&&(v++,S++);const P=v-p+1,x=this.modifiedSequence.slice(p,S+1);return 1===x.length&&x[0]===this.originalSequence[v]?[{start:p,deleteCount:P-1}]:[{start:p,deleteCount:P,data:x}]}return p<i?[{start:p,deleteCount:0,data:this.modifiedSequence.slice(p)}]:p<g?[{start:p,deleteCount:g-p}]:[]}}s.SemanticTokensDiff=w,s.SemanticTokensBuilder=class l{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(g,i,p,v,S){let P=g,x=i;this._dataLen>0&&(P-=this._prevLine,0===P&&(x-=this._prevChar)),this._data[this._dataLen++]=P,this._data[this._dataLen++]=x,this._data[this._dataLen++]=p,this._data[this._dataLen++]=v,this._data[this._dataLen++]=S,this._prevLine=g,this._prevChar=i}get id(){return this._id.toString()}previousResult(g){this.id===g&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){return void 0!==this._prevData?{resultId:this.id,edits:new w(this._prevData,this._data).computeDiff()}:this.build()}}},64718:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createConnection=s.combineFeatures=s.combineNotebooksFeatures=s.combineLanguagesFeatures=s.combineWorkspaceFeatures=s.combineWindowFeatures=s.combineClientFeatures=s.combineTracerFeatures=s.combineTelemetryFeatures=s.combineConsoleFeatures=s._NotebooksImpl=s._LanguagesImpl=s.BulkUnregistration=s.BulkRegistration=s.ErrorMessageTracker=void 0;const r=y(92470),R=y(91925),w=y(47058),l=y(90550),m=y(36831),g=y(24609),i=y(17917),p=y(7009),v=y(64279),S=y(98950),P=y(28113),x=y(30100),W=y(17158),H=y(47340),M=y(59495),J=y(15549),$=y(90391);function Y(T){if(null!==T)return T}s.ErrorMessageTracker=class X{constructor(){this._messages=Object.create(null)}add(a){let _=this._messages[a];_||(_=0),_++,this._messages[a]=_}sendErrors(a){Object.keys(this._messages).forEach(_=>{a.window.showErrorMessage(_)})}};class Z{constructor(){}rawAttach(a){this._rawConnection=a}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(a){}initialize(a){}error(a){this.send(r.MessageType.Error,a)}warn(a){this.send(r.MessageType.Warning,a)}info(a){this.send(r.MessageType.Info,a)}log(a){this.send(r.MessageType.Log,a)}send(a,_){this._rawConnection&&this._rawConnection.sendNotification(r.LogMessageNotification.type,{type:a,message:_}).catch(()=>{(0,r.RAL)().console.error("Sending log message failed")})}}const U=(0,v.ShowDocumentFeature)((0,l.ProgressFeature)(class te{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}showErrorMessage(a,..._){return this.connection.sendRequest(r.ShowMessageRequest.type,{type:r.MessageType.Error,message:a,actions:_}).then(Y)}showWarningMessage(a,..._){return this.connection.sendRequest(r.ShowMessageRequest.type,{type:r.MessageType.Warning,message:a,actions:_}).then(Y)}showInformationMessage(a,..._){return this.connection.sendRequest(r.ShowMessageRequest.type,{type:r.MessageType.Info,message:a,actions:_}).then(Y)}}));(s.BulkRegistration||(s.BulkRegistration={})).create=function a(){return new A};class A{constructor(){this._registrations=[],this._registered=new Set}add(a,_){const F=R.string(a)?a:a.method;if(this._registered.has(F))throw new Error(`${F} is already added to this registration`);const f=w.generateUuid();this._registrations.push({id:f,method:F,registerOptions:_||{}}),this._registered.add(F)}asRegistrationParams(){return{registrations:this._registrations}}}(s.BulkUnregistration||(s.BulkUnregistration={})).create=function a(){return new G(void 0,[])};class G{constructor(a,_){this._connection=a,this._unregistrations=new Map,_.forEach(F=>{this._unregistrations.set(F.method,F)})}get isAttached(){return!!this._connection}attach(a){this._connection=a}add(a){this._unregistrations.set(a.method,a)}dispose(){let a=[];for(let F of this._unregistrations.values())a.push(F);this._connection.sendRequest(r.UnregistrationRequest.type,{unregisterations:a}).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(a){const _=R.string(a)?a:a.method,F=this._unregistrations.get(_);return!!F&&(this._connection.sendRequest(r.UnregistrationRequest.type,{unregisterations:[F]}).then(()=>{this._unregistrations.delete(_)},L=>{this._connection.console.info(`Un-registering request handler for ${F.id} failed.`)}),!0)}}class ne{attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}register(a,_,F){return a instanceof A?this.registerMany(a):a instanceof G?this.registerSingle1(a,_,F):this.registerSingle2(a,_)}registerSingle1(a,_,F){const f=R.string(_)?_:_.method,L=w.generateUuid();let K={registrations:[{id:L,method:f,registerOptions:F||{}}]};return a.isAttached||a.attach(this.connection),this.connection.sendRequest(r.RegistrationRequest.type,K).then(ee=>(a.add({id:L,method:f}),a),ee=>(this.connection.console.info(`Registering request handler for ${f} failed.`),Promise.reject(ee)))}registerSingle2(a,_){const F=R.string(a)?a:a.method,f=w.generateUuid();return this.connection.sendRequest(r.RegistrationRequest.type,{registrations:[{id:f,method:F,registerOptions:_||{}}]}).then(K=>r.Disposable.create(()=>{this.unregisterSingle(f,F).catch(()=>{this.connection.console.info(`Un-registering capability with id ${f} failed.`)})}),K=>(this.connection.console.info(`Registering request handler for ${F} failed.`),Promise.reject(K)))}unregisterSingle(a,_){return this.connection.sendRequest(r.UnregistrationRequest.type,{unregisterations:[{id:a,method:_}]}).catch(()=>{this.connection.console.info(`Un-registering request handler for ${a} failed.`)})}registerMany(a){let _=a.asRegistrationParams();return this.connection.sendRequest(r.RegistrationRequest.type,_).then(()=>new G(this._connection,_.registrations.map(F=>({id:F.id,method:F.method}))),F=>(this.connection.console.info("Bulk registration failed."),Promise.reject(F)))}}const ae=(0,S.FileOperationsFeature)((0,g.WorkspaceFoldersFeature)((0,m.ConfigurationFeature)(class ie{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}applyEdit(a){let F=function _(f){return f&&!!f.edit}(a)?a:{edit:a};return this.connection.sendRequest(r.ApplyWorkspaceEditRequest.type,F)}})));class oe{constructor(){this._trace=r.Trace.Off}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}set trace(a){this._trace=a}log(a,_){this._trace!==r.Trace.Off&&this.connection.sendNotification(r.LogTraceNotification.type,{message:a,verbose:this._trace===r.Trace.Verbose?_:void 0}).catch(()=>{})}}class re{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}logEvent(a){this.connection.sendNotification(r.TelemetryEventNotification.type,a).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class ue{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}attachWorkDoneProgress(a){return(0,l.attachWorkDone)(this.connection,a)}attachPartialResultProgress(a,_){return(0,l.attachPartialResult)(this.connection,_)}}s._LanguagesImpl=ue;const le=(0,$.MonikerFeature)((0,M.DiagnosticFeature)((0,H.InlayHintFeature)((0,W.InlineValueFeature)((0,x.TypeHierarchyFeature)((0,P.LinkedEditingRangeFeature)((0,p.SemanticTokensFeature)((0,i.CallHierarchyFeature)(ue))))))));class de{constructor(){}attach(a){this._connection=a}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(a){}fillServerCapabilities(a){}attachWorkDoneProgress(a){return(0,l.attachWorkDone)(this.connection,a)}attachPartialResultProgress(a,_){return(0,l.attachPartialResult)(this.connection,_)}}s._NotebooksImpl=de;const V=(0,J.NotebookSyncFeature)(de);function he(T,a){return function(_){return a(T(_))}}function fe(T,a){return function(_){return a(T(_))}}function ge(T,a){return function(_){return a(T(_))}}function me(T,a){return function(_){return a(T(_))}}function pe(T,a){return function(_){return a(T(_))}}function ye(T,a){return function(_){return a(T(_))}}function _e(T,a){return function(_){return a(T(_))}}function ve(T,a){return function(_){return a(T(_))}}s.combineConsoleFeatures=he,s.combineTelemetryFeatures=fe,s.combineTracerFeatures=ge,s.combineClientFeatures=me,s.combineWindowFeatures=pe,s.combineWorkspaceFeatures=ye,s.combineLanguagesFeatures=_e,s.combineNotebooksFeatures=ve,s.combineFeatures=function De(T,a){function _(f,L,K){return f&&L?K(f,L):f||L}return{__brand:"features",console:_(T.console,a.console,he),tracer:_(T.tracer,a.tracer,ge),telemetry:_(T.telemetry,a.telemetry,fe),client:_(T.client,a.client,me),window:_(T.window,a.window,pe),workspace:_(T.workspace,a.workspace,ye),languages:_(T.languages,a.languages,_e),notebooks:_(T.notebooks,a.notebooks,ve)}},s.createConnection=function Re(T,a,_){const F=_&&_.console?new(_.console(Z)):new Z,f=T(F);F.rawAttach(f);const L=_&&_.tracer?new(_.tracer(oe)):new oe,K=_&&_.telemetry?new(_.telemetry(re)):new re,ee=_&&_.client?new(_.client(ne)):new ne,be=_&&_.window?new(_.window(U)):new U,se=_&&_.workspace?new(_.workspace(ae)):new ae,o=_&&_.languages?new(_.languages(le)):new le,e=_&&_.notebooks?new(_.notebooks(V)):new V,t=[F,L,K,ee,be,se,o,e];let d,h,D,C={listen:()=>f.listen(),sendRequest:(u,...c)=>f.sendRequest(R.string(u)?u:u.method,...c),onRequest:(u,c)=>f.onRequest(u,c),sendNotification:(u,c)=>{const b=R.string(u)?u:u.method;return 1===arguments.length?f.sendNotification(b):f.sendNotification(b,c)},onNotification:(u,c)=>f.onNotification(u,c),onProgress:f.onProgress,sendProgress:f.sendProgress,onInitialize:u=>(h=u,{dispose:()=>{h=void 0}}),onInitialized:u=>f.onNotification(r.InitializedNotification.type,u),onShutdown:u=>(d=u,{dispose:()=>{d=void 0}}),onExit:u=>(D=u,{dispose:()=>{D=void 0}}),get console(){return F},get telemetry(){return K},get tracer(){return L},get client(){return ee},get window(){return be},get workspace(){return se},get languages(){return o},get notebooks(){return e},onDidChangeConfiguration:u=>f.onNotification(r.DidChangeConfigurationNotification.type,u),onDidChangeWatchedFiles:u=>f.onNotification(r.DidChangeWatchedFilesNotification.type,u),__textDocumentSync:void 0,onDidOpenTextDocument:u=>f.onNotification(r.DidOpenTextDocumentNotification.type,u),onDidChangeTextDocument:u=>f.onNotification(r.DidChangeTextDocumentNotification.type,u),onDidCloseTextDocument:u=>f.onNotification(r.DidCloseTextDocumentNotification.type,u),onWillSaveTextDocument:u=>f.onNotification(r.WillSaveTextDocumentNotification.type,u),onWillSaveTextDocumentWaitUntil:u=>f.onRequest(r.WillSaveTextDocumentWaitUntilRequest.type,u),onDidSaveTextDocument:u=>f.onNotification(r.DidSaveTextDocumentNotification.type,u),sendDiagnostics:u=>f.sendNotification(r.PublishDiagnosticsNotification.type,u),onHover:u=>f.onRequest(r.HoverRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),void 0)),onCompletion:u=>f.onRequest(r.CompletionRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onCompletionResolve:u=>f.onRequest(r.CompletionResolveRequest.type,u),onSignatureHelp:u=>f.onRequest(r.SignatureHelpRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),void 0)),onDeclaration:u=>f.onRequest(r.DeclarationRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onDefinition:u=>f.onRequest(r.DefinitionRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onTypeDefinition:u=>f.onRequest(r.TypeDefinitionRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onImplementation:u=>f.onRequest(r.ImplementationRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onReferences:u=>f.onRequest(r.ReferencesRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onDocumentHighlight:u=>f.onRequest(r.DocumentHighlightRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onDocumentSymbol:u=>f.onRequest(r.DocumentSymbolRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onWorkspaceSymbol:u=>f.onRequest(r.WorkspaceSymbolRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onWorkspaceSymbolResolve:u=>f.onRequest(r.WorkspaceSymbolResolveRequest.type,u),onCodeAction:u=>f.onRequest(r.CodeActionRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onCodeActionResolve:u=>f.onRequest(r.CodeActionResolveRequest.type,(c,b)=>u(c,b)),onCodeLens:u=>f.onRequest(r.CodeLensRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onCodeLensResolve:u=>f.onRequest(r.CodeLensResolveRequest.type,(c,b)=>u(c,b)),onDocumentFormatting:u=>f.onRequest(r.DocumentFormattingRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),void 0)),onDocumentRangeFormatting:u=>f.onRequest(r.DocumentRangeFormattingRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),void 0)),onDocumentOnTypeFormatting:u=>f.onRequest(r.DocumentOnTypeFormattingRequest.type,(c,b)=>u(c,b)),onRenameRequest:u=>f.onRequest(r.RenameRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),void 0)),onPrepareRename:u=>f.onRequest(r.PrepareRenameRequest.type,(c,b)=>u(c,b)),onDocumentLinks:u=>f.onRequest(r.DocumentLinkRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onDocumentLinkResolve:u=>f.onRequest(r.DocumentLinkResolveRequest.type,(c,b)=>u(c,b)),onDocumentColor:u=>f.onRequest(r.DocumentColorRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onColorPresentation:u=>f.onRequest(r.ColorPresentationRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onFoldingRanges:u=>f.onRequest(r.FoldingRangeRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onSelectionRanges:u=>f.onRequest(r.SelectionRangeRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),(0,l.attachPartialResult)(f,c))),onExecuteCommand:u=>f.onRequest(r.ExecuteCommandRequest.type,(c,b)=>u(c,b,(0,l.attachWorkDone)(f,c),void 0)),dispose:()=>f.dispose()};for(let u of t)u.attach(C);return f.onRequest(r.InitializeRequest.type,u=>{a.initialize(u),R.string(u.trace)&&(L.trace=r.Trace.fromString(u.trace));for(let c of t)c.initialize(u.capabilities);if(h)return function n(u){return u instanceof Promise?u:R.thenable(u)?new Promise((c,b)=>{u.then(O=>c(O),O=>b(O))}):Promise.resolve(u)}(h(u,(new r.CancellationTokenSource).token,(0,l.attachWorkDone)(f,u),void 0)).then(b=>{if(b instanceof r.ResponseError)return b;let O=b;O||(O={capabilities:{}});let q=O.capabilities;q||(q={},O.capabilities=q),null==q.textDocumentSync?q.textDocumentSync=R.number(C.__textDocumentSync)?C.__textDocumentSync:r.TextDocumentSyncKind.None:!R.number(q.textDocumentSync)&&!R.number(q.textDocumentSync.change)&&(q.textDocumentSync.change=R.number(C.__textDocumentSync)?C.__textDocumentSync:r.TextDocumentSyncKind.None);for(let j of t)j.fillServerCapabilities(q);return O});{let c={capabilities:{textDocumentSync:r.TextDocumentSyncKind.None}};for(let b of t)b.fillServerCapabilities(c.capabilities);return c}}),f.onRequest(r.ShutdownRequest.type,()=>{if(a.shutdownReceived=!0,d)return d((new r.CancellationTokenSource).token)}),f.onNotification(r.ExitNotification.type,()=>{try{D&&D()}finally{a.exit(a.shutdownReceived?0:1)}}),f.onNotification(r.SetTraceNotification.type,u=>{L.trace=r.Trace.fromString(u.value)}),C}},64279:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ShowDocumentFeature=void 0;const r=y(92470);s.ShowDocumentFeature=w=>class extends w{showDocument(l){return this.connection.sendRequest(r.ShowDocumentRequest.type,l)}}},41409:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextDocuments=void 0;const r=y(92470);s.TextDocuments=class R{constructor(l){this._configuration=l,this._syncedDocuments=new Map,this._onDidChangeContent=new r.Emitter,this._onDidOpen=new r.Emitter,this._onDidClose=new r.Emitter,this._onDidSave=new r.Emitter,this._onWillSave=new r.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(l){this._willSaveWaitUntil=l}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(l){return this._syncedDocuments.get(l)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(l){l.__textDocumentSync=r.TextDocumentSyncKind.Incremental;const m=[];return m.push(l.onDidOpenTextDocument(g=>{const i=g.textDocument,p=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,p);const v=Object.freeze({document:p});this._onDidOpen.fire(v),this._onDidChangeContent.fire(v)})),m.push(l.onDidChangeTextDocument(g=>{const i=g.textDocument,p=g.contentChanges;if(0===p.length)return;const{version:v}=i;if(null==v)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let S=this._syncedDocuments.get(i.uri);void 0!==S&&(S=this._configuration.update(S,p,v),this._syncedDocuments.set(i.uri,S),this._onDidChangeContent.fire(Object.freeze({document:S})))})),m.push(l.onDidCloseTextDocument(g=>{let i=this._syncedDocuments.get(g.textDocument.uri);void 0!==i&&(this._syncedDocuments.delete(g.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),m.push(l.onWillSaveTextDocument(g=>{let i=this._syncedDocuments.get(g.textDocument.uri);void 0!==i&&this._onWillSave.fire(Object.freeze({document:i,reason:g.reason}))})),m.push(l.onWillSaveTextDocumentWaitUntil((g,i)=>{let p=this._syncedDocuments.get(g.textDocument.uri);return void 0!==p&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:p,reason:g.reason}),i):[]})),m.push(l.onDidSaveTextDocument(g=>{let i=this._syncedDocuments.get(g.textDocument.uri);void 0!==i&&this._onDidSave.fire(Object.freeze({document:i}))})),r.Disposable.create(()=>{m.forEach(g=>g.dispose())})}}},30100:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TypeHierarchyFeature=void 0;const r=y(92470);s.TypeHierarchyFeature=w=>class extends w{get typeHierarchy(){return{onPrepare:l=>this.connection.onRequest(r.TypeHierarchyPrepareRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),void 0)),onSupertypes:l=>{const m=r.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))},onSubtypes:l=>{const m=r.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))}}}}},91925:(k,s)=>{function r(v){return"string"==typeof v||v instanceof String}function l(v){return"function"==typeof v}function m(v){return Array.isArray(v)}Object.defineProperty(s,"__esModule",{value:!0}),s.thenable=s.typedArray=s.stringArray=s.array=s.func=s.error=s.number=s.string=s.boolean=void 0,s.boolean=function y(v){return!0===v||!1===v},s.string=r,s.number=function R(v){return"number"==typeof v||v instanceof Number},s.error=function w(v){return v instanceof Error},s.func=l,s.array=m,s.stringArray=function g(v){return m(v)&&v.every(S=>r(S))},s.typedArray=function i(v,S){return Array.isArray(v)&&v.every(S)},s.thenable=function p(v){return v&&l(v.then)}},47058:(k,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.generateUuid=s.parse=s.isUUID=s.v4=s.empty=void 0;class y{constructor(p){this._value=p}asHex(){return this._value}equals(p){return this.asHex()===p.asHex()}}let r=(()=>{class i extends y{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(v){return v[Math.floor(v.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}return i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],i})();function R(){return new r}s.empty=new y("00000000-0000-0000-0000-000000000000"),s.v4=R;const w=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function l(i){return w.test(i)}s.isUUID=l,s.parse=function m(i){if(!l(i))throw new Error("invalid uuid");return new y(i)},s.generateUuid=function g(){return R().asHex()}},24609:(k,s,y)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WorkspaceFoldersFeature=void 0;const r=y(92470);s.WorkspaceFoldersFeature=w=>class extends w{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(l){super.initialize(l);let m=l.workspace;m&&m.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new r.Emitter,this.connection.onNotification(r.DidChangeWorkspaceFoldersNotification.type,g=>{this._onDidChangeWorkspaceFolders.fire(g.event)}))}fillServerCapabilities(l){super.fillServerCapabilities(l);const m=l.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=!0===m||"string"==typeof m}getWorkspaceFolders(){return this.connection.sendRequest(r.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(r.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}}},ke={};function N(k){var s=ke[k];if(void 0!==s)return s.exports;var y=ke[k]={exports:{}};return we[k].call(y.exports,y,y.exports,N),y.exports}N.m=we,N.x=()=>{var k=N.O(void 0,[932,470],()=>N(15851));return N.O(k)},k=[],N.O=(s,y,r,R)=>{if(!y){var l=1/0;for(w=0;w<k.length;w++){for(var[y,r,R]=k[w],m=!0,g=0;g<y.length;g++)(!1&R||l>=R)&&Object.keys(N.O).every(x=>N.O[x](y[g]))?y.splice(g--,1):(m=!1,R<l&&(l=R));if(m){k.splice(w--,1);var i=r();void 0!==i&&(s=i)}}return s}R=R||0;for(var w=k.length;w>0&&k[w-1][2]>R;w--)k[w]=k[w-1];k[w]=[y,r,R]},N.d=(k,s)=>{for(var y in s)N.o(s,y)&&!N.o(k,y)&&Object.defineProperty(k,y,{enumerable:!0,get:s[y]})},N.f={},N.e=k=>Promise.all(Object.keys(N.f).reduce((s,y)=>(N.f[y](k,s),s),[])),N.u=k=>k+"."+{470:"72550912d5fd0bfa",932:"229fca4713ed5fa7"}[k]+".js",N.miniCssF=k=>{},N.o=(k,s)=>Object.prototype.hasOwnProperty.call(k,s),N.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},(()=>{var k;N.tt=()=>(void 0===k&&(k={createScriptURL:s=>s},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(k=trustedTypes.createPolicy("angular#bundler",k))),k)})(),N.tu=k=>N.tt().createScriptURL(k),N.p="",(()=>{var k={851:1};N.f.i=(R,w)=>{k[R]||importScripts(N.tu(N.p+N.u(R)))};var y=self.webpackChunkweb=self.webpackChunkweb||[],r=y.push.bind(y);y.push=R=>{var[w,l,m]=R;for(var g in l)N.o(l,g)&&(N.m[g]=l[g]);for(m&&m(N);w.length;)k[w.pop()]=1;r(R)}})(),(()=>{var k=N.x;N.x=()=>Promise.all([N.e(932),N.e(470)]).then(k)})(),N.x()})();