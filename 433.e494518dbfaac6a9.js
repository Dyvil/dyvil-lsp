(()=>{"use strict";var P,pe={99372:(P,e,p)=>{var n=p(40209);class v{constructor(t){this.connection=t,t.onInitialize(r=>{var c,d,f,w;const k=r.capabilities;this.hasConfigurationCapability=!(null===(c=k.workspace)||void 0===c||!c.configuration),this.hasWorkspaceFolderCapability=!(null===(d=k.workspace)||void 0===d||!d.workspaceFolders),this.hasDiagnosticRelatedInformationCapability=!(null===(w=null===(f=k.textDocument)||void 0===f?void 0:f.publishDiagnostics)||void 0===w||!w.relatedInformation);const W={capabilities:{textDocumentSync:n.TextDocumentSyncKind.Incremental,completionProvider:{triggerCharacters:["."]},renameProvider:{prepareProvider:!0},referencesProvider:!0,definitionProvider:!0,hoverProvider:!0,documentHighlightProvider:!0}};return this.hasWorkspaceFolderCapability&&(W.capabilities.workspace={workspaceFolders:{supported:!0}}),W}),t.onInitialized(()=>{this.hasConfigurationCapability&&t.client.register(n.DidChangeConfigurationNotification.type,void 0)})}}var o,i,D=p(43854),a=p(60262),g=function(i,t,r){if(r||2===arguments.length)for(var f,c=0,d=t.length;c<d;c++)(f||!(c in t))&&(f||(f=Array.prototype.slice.call(t,0,c)),f[c]=t[c]);return i.concat(f||Array.prototype.slice.call(t))},h=function(){function i(t,r,c,d){this._uri=t,this._languageId=r,this._version=c,this._content=d,this._lineOffsets=void 0}return Object.defineProperty(i.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),i.prototype.getText=function(t){if(t){var r=this.offsetAt(t.start),c=this.offsetAt(t.end);return this._content.substring(r,c)}return this._content},i.prototype.update=function(t,r){for(var c=0,d=t;c<d.length;c++){var f=d[c];if(i.isIncremental(f)){var w=T(f.range),k=this.offsetAt(w.start),W=this.offsetAt(w.end);this._content=this._content.substring(0,k)+f.text+this._content.substring(W,this._content.length);var S=Math.max(w.start.line,0),H=Math.max(w.end.line,0),A=this._lineOffsets,j=b(f.text,!1,k);if(H-S===j.length)for(var u=0,y=j.length;u<y;u++)A[u+S+1]=j[u];else j.length<1e4?A.splice.apply(A,g([S+1,H-S],j,!1)):this._lineOffsets=A=A.slice(0,S+1).concat(j,A.slice(H+1));var R=f.text.length-(W-k);if(0!==R)for(u=S+1+j.length,y=A.length;u<y;u++)A[u]=A[u]+R}else{if(!i.isFull(f))throw new Error("Unknown change event received");this._content=f.text,this._lineOffsets=void 0}}this._version=r},i.prototype.getLineOffsets=function(){return void 0===this._lineOffsets&&(this._lineOffsets=b(this._content,!0)),this._lineOffsets},i.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var r=this.getLineOffsets(),c=0,d=r.length;if(0===d)return{line:0,character:t};for(;c<d;){var f=Math.floor((c+d)/2);r[f]>t?d=f:c=f+1}var w=c-1;return{line:w,character:t-r[w]}},i.prototype.offsetAt=function(t){var r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;var c=r[t.line];return Math.max(Math.min(c+t.character,t.line+1<r.length?r[t.line+1]:this._content.length),c)},Object.defineProperty(i.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),i.isIncremental=function(t){return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},i.isFull=function(t){return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},i}();function l(i,t){if(i.length<=1)return i;var r=i.length/2|0,c=i.slice(0,r),d=i.slice(r);l(c,t),l(d,t);for(var f=0,w=0,k=0;f<c.length&&w<d.length;){var W=t(c[f],d[w]);i[k++]=W<=0?c[f++]:d[w++]}for(;f<c.length;)i[k++]=c[f++];for(;w<d.length;)i[k++]=d[w++];return i}function b(i,t,r){void 0===r&&(r=0);for(var c=t?[r]:[],d=0;d<i.length;d++){var f=i.charCodeAt(d);(13===f||10===f)&&(13===f&&d+1<i.length&&10===i.charCodeAt(d+1)&&d++,c.push(r+d+1))}return c}function T(i){var t=i.start,r=i.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:i}function C(i){var t=T(i.range);return t!==i.range?{newText:i.newText,range:t}:i}(i=o||(o={})).create=function t(d,f,w,k){return new h(d,f,w,k)},i.update=function r(d,f,w){if(d instanceof h)return d.update(f,w),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")},i.applyEdits=function c(d,f){for(var w=d.getText(),W=0,S=[],H=0,A=l(f.map(C),function(y,R){var K=y.range.start.line-R.range.start.line;return 0===K?y.range.start.character-R.range.start.character:K});H<A.length;H++){var j=A[H],u=d.offsetAt(j.range.start);if(u<W)throw new Error("Overlapping edit");u>W&&S.push(w.substring(W,u)),j.newText.length&&S.push(j.newText),W=d.offsetAt(j.range.end)}return S.push(w.substr(W)),S.join("")};class M{constructor(t){this.connectionService=t,this.documents=new n.TextDocuments(o),this.astCache=new Map,this.documents.listen(this.connectionService.connection),this.documents.onDidChangeContent(r=>{this.astCache.has(r.document.uri)&&this.astCache.delete(r.document.uri)})}getAST(t){const r="string"==typeof t?t:t.uri,c=this.astCache.get(r);if(c)return c;const d="string"==typeof t?this.documents.get(r):t;return d?(0,a.V3)(d.getText(),r).resolve(new D._8([])):void 0}}function F(i){switch(i){case"keyword":return n.CompletionItemKind.Keyword;case"operator":return n.CompletionItemKind.Operator;case"class":return n.CompletionItemKind.Class;case"field":return n.CompletionItemKind.Field;case"method":return n.CompletionItemKind.Method;case"variable":case"parameter":return n.CompletionItemKind.Variable;default:return n.CompletionItemKind.Text}}class E{constructor(t,r){this.connectionService=t,this.documentService=r,this.connectionService.connection.onCompletion(c=>this.provideCompletionItems(c))}provideCompletionItems(t){const c=this.documentService.documents.get(t.textDocument.uri);if(!c)return[];const d=c.getText({start:{line:0,character:0},end:t.position}),f=c.getText({start:t.position,end:{line:c.lineCount,character:0}}),k=(0,a.V3)(`${d}\xa7${f}`).resolve(new D._8([])).diagnostics.find(W=>W.message.includes("input '\xa7' expecting"));return k&&k.expected?k.expected.map(W=>({kind:F(W.kind),label:W.label,labelDetails:{detail:W.signature,description:W.description},insertText:W.snippet,insertTextFormat:W.snippet?n.InsertTextFormat.Snippet:void 0})):[]}}function X(i){return{start:{line:i.start.line-1,character:i.start.column},end:{line:i.end.line-1,character:i.end.column}}}function oe({severity:i,location:t,message:r}){return{severity:"error"===i?n.DiagnosticSeverity.Error:n.DiagnosticSeverity.Warning,range:X(t),message:r,source:"dyvil"}}class ye{constructor(t,r){this.connectionService=t,this.documentService=r,this.connectionService.connection.onDidChangeConfiguration(()=>{this.documentService.documents.all().forEach(c=>this.validateTextDocument(c))}),this.documentService.documents.onDidChangeContent(c=>{this.validateTextDocument(c.document)})}validateTextDocument(t){return function Z(i,t,r,c){return new(r||(r=Promise))(function(f,w){function k(H){try{S(c.next(H))}catch(A){w(A)}}function W(H){try{S(c.throw(H))}catch(A){w(A)}}function S(H){H.done?f(H.value):function d(f){return f instanceof r?f:new r(function(w){w(f)})}(H.value).then(k,W)}S((c=c.apply(i,t||[])).next())})}(this,void 0,void 0,function*(){const r=this.documentService.getAST(t);if(!r)return;const c=r.diagnostics.map(oe);yield this.connectionService.connection.sendDiagnostics({uri:t.uri,diagnostics:c})})}}class me{constructor(t,r){this.connectionService=t,this.documentService=r,this.connectionService.connection.onPrepareRename(c=>this.prepareRename(c)),this.connectionService.connection.onRenameRequest(c=>this.rename(c)),this.connectionService.connection.onReferences(c=>this.references(c)),this.connectionService.connection.onDefinition(c=>this.definition(c)),this.connectionService.connection.onHover(c=>this.hover(c)),this.connectionService.connection.onDocumentHighlight(c=>this.highlight(c))}prepareRename(t){const r=this.findNode(t);if(!r)return;const c=r.references("rename");return c&&c.length?X(r.location):void 0}rename(t){var r;const c=null===(r=this.findNode(t))||void 0===r?void 0:r.references("rename");if(c&&c.length)return{changes:{[t.textDocument.uri]:c.map(d=>({range:X(d),newText:t.newName}))}}}references(t){var r;const c=null===(r=this.findNode(t))||void 0===r?void 0:r.references("definition");if(c&&c.length)return!t.context.includeDeclaration&&c.length&&c.shift(),c.map(d=>({uri:t.textDocument.uri,range:X(d)}))}definition(t){var r;const c=null===(r=this.findNode(t))||void 0===r?void 0:r.references("definition");if(c&&c.length)return{uri:t.textDocument.uri,range:X(c[0])}}hover(t){var r;const c=null===(r=this.findNode(t))||void 0===r?void 0:r.documentation();return c?{contents:{kind:"markdown",value:c}}:null}highlight(t){var r;const c=null===(r=this.findNode(t))||void 0===r?void 0:r.references();if(c&&c.length)return c.map(d=>({range:X(d)}))}findNode(t){const r=t.textDocument.uri,c=new D.Ly(t.position.line+1,t.position.character),d=this.documentService.getAST(r);if(!d)return;const f=d.findByPosition(c);return f?f[f.length-1]:void 0}}var s=p(2136);console.log("Running Dyvil Language Server in Web Worker");const _=new s.BrowserMessageReader(self),q=new s.BrowserMessageWriter(self),m=(0,s.createConnection)(_,q);(function O(i){const t=new v(i),r=new M(t);new E(t,r),new ye(t,r),new me(t,r)})(m),m.listen()},49372:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFormat=e.TraceValues=e.Trace=e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=void 0;const n=p(24563);Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return n.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});const v=p(29362);Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return v.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return v.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return v.Touch}});const D=p(65597);Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return D.Disposable}});const a=p(45887);Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return a.Emitter}});const g=p(50250);Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return g.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return g.CancellationToken}});const h=p(22738);Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return h.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return h.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return h.ReadableStreamMessageReader}});const o=p(13386);Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return o.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return o.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return o.WriteableStreamMessageWriter}});const l=p(9652);Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});const b=p(12033);e.RAL=b.default},4938:(P,e,p)=>{P.exports=p(85055)},46057:function(P,e,p){var n=this&&this.__createBinding||(Object.create?function(g,h,o,l){void 0===l&&(l=o);var b=Object.getOwnPropertyDescriptor(h,o);(!b||("get"in b?!h.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return h[o]}}),Object.defineProperty(g,l,b)}:function(g,h,o,l){void 0===l&&(l=o),g[l]=h[o]}),v=this&&this.__exportStar||function(g,h){for(var o in g)"default"!==o&&!Object.prototype.hasOwnProperty.call(h,o)&&n(h,g,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,v(p(34154),e),v(p(20479),e),v(p(41500),e),v(p(25561),e);var g,D=p(27360);Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return D.createProtocolConnection}}),(g=e.LSPErrorCodes||(e.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,g.RequestFailed=-32803,g.ServerCancelled=-32802,g.ContentModified=-32801,g.RequestCancelled=-32800,g.lspReservedErrorRangeEnd=-32800},2136:(P,e,p)=>{P.exports=p(40209)},40209:function(P,e,p){var n=this&&this.__createBinding||(Object.create?function(o,l,b,T){void 0===T&&(T=b);var C=Object.getOwnPropertyDescriptor(l,b);(!C||("get"in C?!l.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return l[b]}}),Object.defineProperty(o,T,C)}:function(o,l,b,T){void 0===T&&(T=b),o[T]=l[b]}),v=this&&this.__exportStar||function(o,l){for(var b in o)"default"!==b&&!Object.prototype.hasOwnProperty.call(l,b)&&n(l,o,b)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const D=p(5373);v(p(4938),e),v(p(5373),e);let a=!1;const g={initialize:o=>{},get shutdownReceived(){return a},set shutdownReceived(o){a=o},exit:o=>{}};e.createConnection=function h(o,l,b,T){let C,M,F,E;return void 0!==o&&"features"===o.__brand&&(C=o,o=l,l=b,b=T),D.ConnectionStrategy.is(o)||D.ConnectionOptions.is(o)?E=o:(M=o,F=l,E=b),(0,D.createConnection)(Q=>(0,D.createProtocolConnection)(M,F,Q,E),g,C)}},5373:function(P,e,p){var n=this&&this.__createBinding||(Object.create?function(o,l,b,T){void 0===T&&(T=b);var C=Object.getOwnPropertyDescriptor(l,b);(!C||("get"in C?!l.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return l[b]}}),Object.defineProperty(o,T,C)}:function(o,l,b,T){void 0===T&&(T=b),o[T]=l[b]}),v=this&&this.__exportStar||function(o,l){for(var b in o)"default"!==b&&!Object.prototype.hasOwnProperty.call(l,b)&&n(l,o,b)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const D=p(55705);Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return D.SemanticTokensBuilder}}),v(p(85055),e);const a=p(75296);Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return a.TextDocuments}});const g=p(5942);Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return g.NotebookDocuments}}),v(p(55935),e),(e.ProposedFeatures||(e.ProposedFeatures={})).all={__brand:"features"}},55424:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyFeature=void 0;const n=p(85055);e.CallHierarchyFeature=D=>class extends D{get callHierarchy(){return{onPrepare:a=>this.connection.onRequest(n.CallHierarchyPrepareRequest.type,(g,h)=>a(g,h,this.attachWorkDoneProgress(g),void 0)),onIncomingCalls:a=>{const g=n.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(g,(h,o)=>a(h,o,this.attachWorkDoneProgress(h),this.attachPartialResultProgress(g,h)))},onOutgoingCalls:a=>{const g=n.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(g,(h,o)=>a(h,o,this.attachWorkDoneProgress(h),this.attachPartialResultProgress(g,h)))}}}}},16483:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationFeature=void 0;const n=p(85055),v=p(46214);e.ConfigurationFeature=a=>class extends a{getConfiguration(g){return g?v.string(g)?this._getConfiguration({section:g}):this._getConfiguration(g):this._getConfiguration({})}_getConfiguration(g){let h={items:Array.isArray(g)?g:[g]};return this.connection.sendRequest(n.ConfigurationRequest.type,h).then(o=>Array.isArray(o)?Array.isArray(g)?o:o[0]:Array.isArray(g)?[]:null)}}},23173:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticFeature=void 0;const n=p(85055);e.DiagnosticFeature=D=>class extends D{get diagnostics(){return{refresh:()=>this.connection.sendRequest(n.DiagnosticRefreshRequest.type),on:a=>this.connection.onRequest(n.DocumentDiagnosticRequest.type,(g,h)=>a(g,h,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(n.DocumentDiagnosticRequest.partialResult,g))),onWorkspace:a=>this.connection.onRequest(n.WorkspaceDiagnosticRequest.type,(g,h)=>a(g,h,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(n.WorkspaceDiagnosticRequest.partialResult,g)))}}}},74541:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FileOperationsFeature=void 0;const n=p(85055);e.FileOperationsFeature=D=>class extends D{onDidCreateFiles(a){return this.connection.onNotification(n.DidCreateFilesNotification.type,g=>{a(g)})}onDidRenameFiles(a){return this.connection.onNotification(n.DidRenameFilesNotification.type,g=>{a(g)})}onDidDeleteFiles(a){return this.connection.onNotification(n.DidDeleteFilesNotification.type,g=>{a(g)})}onWillCreateFiles(a){return this.connection.onRequest(n.WillCreateFilesRequest.type,(g,h)=>a(g,h))}onWillRenameFiles(a){return this.connection.onRequest(n.WillRenameFilesRequest.type,(g,h)=>a(g,h))}onWillDeleteFiles(a){return this.connection.onRequest(n.WillDeleteFilesRequest.type,(g,h)=>a(g,h))}}},71604:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintFeature=void 0;const n=p(85055);e.InlayHintFeature=D=>class extends D{get inlayHint(){return{refresh:()=>this.connection.sendRequest(n.InlayHintRefreshRequest.type),on:a=>this.connection.onRequest(n.InlayHintRequest.type,(g,h)=>a(g,h,this.attachWorkDoneProgress(g))),resolve:a=>this.connection.onRequest(n.InlayHintResolveRequest.type,(g,h)=>a(g,h))}}}},82586:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InlineValueFeature=void 0;const n=p(85055);e.InlineValueFeature=D=>class extends D{get inlineValue(){return{refresh:()=>this.connection.sendRequest(n.InlineValueRefreshRequest.type),on:a=>this.connection.onRequest(n.InlineValueRequest.type,(g,h)=>a(g,h,this.attachWorkDoneProgress(g)))}}}},17198:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeFeature=void 0;const n=p(85055);e.LinkedEditingRangeFeature=D=>class extends D{onLinkedEditingRange(a){return this.connection.onRequest(n.LinkedEditingRangeRequest.type,(g,h)=>a(g,h,this.attachWorkDoneProgress(g),void 0))}}},28053:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerFeature=void 0;const n=p(85055);e.MonikerFeature=D=>class extends D{get moniker(){return{on:a=>{const g=n.MonikerRequest.type;return this.connection.onRequest(g,(h,o)=>a(h,o,this.attachWorkDoneProgress(h),this.attachPartialResultProgress(g,h)))}}}}},5942:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NotebookDocuments=e.NotebookSyncFeature=void 0;const n=p(85055),v=p(75296);e.NotebookSyncFeature=h=>class extends h{get synchronization(){return{onDidOpenNotebookDocument:o=>this.connection.onNotification(n.DidOpenNotebookDocumentNotification.type,l=>{o(l)}),onDidChangeNotebookDocument:o=>this.connection.onNotification(n.DidChangeNotebookDocumentNotification.type,l=>{o(l)}),onDidSaveNotebookDocument:o=>this.connection.onNotification(n.DidSaveNotebookDocumentNotification.type,l=>{o(l)}),onDidCloseNotebookDocument:o=>this.connection.onNotification(n.DidCloseNotebookDocumentNotification.type,l=>{o(l)})}}};class a{onDidOpenTextDocument(o){return this.openHandler=o,n.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(o){this.openHandler&&this.openHandler(o)}onDidChangeTextDocument(o){return this.changeHandler=o,n.Disposable.create(()=>{this.changeHandler=o})}changeTextDocument(o){this.changeHandler&&this.changeHandler(o)}onDidCloseTextDocument(o){return this.closeHandler=o,n.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(o){this.closeHandler&&this.closeHandler(o)}onWillSaveTextDocument(){return a.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return a.NULL_DISPOSE}onDidSaveTextDocument(){return a.NULL_DISPOSE}}a.NULL_DISPOSE=Object.freeze({dispose:()=>{}}),e.NotebookDocuments=class g{constructor(o){this._cellTextDocuments=o instanceof v.TextDocuments?o:new v.TextDocuments(o),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new n.Emitter,this._onDidChange=new n.Emitter,this._onDidSave=new n.Emitter,this._onDidClose=new n.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(o){return this._cellTextDocuments.get(o.document)}getNotebookDocument(o){return this.notebookDocuments.get(o)}getNotebookCell(o){const l=this.notebookCellMap.get(o);return l&&l[0]}findNotebookDocumentForCell(o){const b=this.notebookCellMap.get("string"==typeof o?o:o.document);return b&&b[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(o){const l=new a,b=[];return b.push(this.cellTextDocuments.listen(l)),b.push(o.notebooks.synchronization.onDidOpenNotebookDocument(T=>{this.notebookDocuments.set(T.notebookDocument.uri,T.notebookDocument);for(const C of T.cellTextDocuments)l.openTextDocument({textDocument:C});this.updateCellMap(T.notebookDocument),this._onDidOpen.fire(T.notebookDocument)})),b.push(o.notebooks.synchronization.onDidChangeNotebookDocument(T=>{const C=this.notebookDocuments.get(T.notebookDocument.uri);if(void 0===C)return;C.version=T.notebookDocument.version;const M=C.metadata;let F=!1;const E=T.change;void 0!==E.metadata&&(F=!0,C.metadata=E.metadata);const I=[],Q=[],G=[],U=[];if(void 0!==E.cells){const L=E.cells;if(void 0!==L.structure){const z=L.structure.array;if(C.cells.splice(z.start,z.deleteCount,...void 0!==z.cells?z.cells:[]),void 0!==L.structure.didOpen)for(const B of L.structure.didOpen)l.openTextDocument({textDocument:B}),I.push(B.uri);if(L.structure.didClose)for(const B of L.structure.didClose)l.closeTextDocument({textDocument:B}),Q.push(B.uri)}if(void 0!==L.data){const z=new Map(L.data.map(B=>[B.document,B]));for(let B=0;B<=C.cells.length;B++){const $=z.get(C.cells[B].document);if(void 0!==$){const te=C.cells.splice(B,1,$);if(G.push({old:te[0],new:$}),z.delete($.document),0===z.size)break}}}if(void 0!==L.textContent)for(const z of L.textContent)l.changeTextDocument({textDocument:z.document,contentChanges:z.changes}),U.push(z.document.uri)}this.updateCellMap(C);const Y={notebookDocument:C};F&&(Y.metadata={old:M,new:C.metadata});const V=[];for(const L of I)V.push(this.getNotebookCell(L));const ee=[];for(const L of Q)ee.push(this.getNotebookCell(L));const Z=[];for(const L of U)Z.push(this.getNotebookCell(L));(V.length>0||ee.length>0||G.length>0||Z.length>0)&&(Y.cells={added:V,removed:ee,changed:{data:G,textContent:Z}}),(void 0!==Y.metadata||void 0!==Y.cells)&&this._onDidChange.fire(Y)})),b.push(o.notebooks.synchronization.onDidSaveNotebookDocument(T=>{const C=this.notebookDocuments.get(T.notebookDocument.uri);void 0!==C&&this._onDidSave.fire(C)})),b.push(o.notebooks.synchronization.onDidCloseNotebookDocument(T=>{const C=this.notebookDocuments.get(T.notebookDocument.uri);if(void 0!==C){this._onDidClose.fire(C);for(const M of T.cellTextDocuments)l.closeTextDocument({textDocument:M});this.notebookDocuments.delete(T.notebookDocument.uri);for(const M of C.cells)this.notebookCellMap.delete(M.document)}})),n.Disposable.create(()=>{b.forEach(T=>T.dispose())})}updateCellMap(o){for(const l of o.cells)this.notebookCellMap.set(l.document,[l,o])}}},66944:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.attachPartialResult=e.ProgressFeature=e.attachWorkDone=void 0;const n=p(85055),v=p(49536);class D{constructor(F,E){this._connection=F,this._token=E,D.Instances.set(this._token,this)}begin(F,E,I,Q){this._connection.sendProgress(n.WorkDoneProgress.type,this._token,{kind:"begin",title:F,percentage:E,message:I,cancellable:Q})}report(F,E){let I={kind:"report"};"number"==typeof F?(I.percentage=F,void 0!==E&&(I.message=E)):I.message=F,this._connection.sendProgress(n.WorkDoneProgress.type,this._token,I)}done(){D.Instances.delete(this._token),this._connection.sendProgress(n.WorkDoneProgress.type,this._token,{kind:"end"})}}D.Instances=new Map;class a extends D{constructor(F,E){super(F,E),this._source=new n.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class g{constructor(){}begin(){}report(){}done(){}}class h extends g{constructor(){super(),this._source=new n.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}var b;e.attachWorkDone=function o(M,F){if(void 0===F||void 0===F.workDoneToken)return new g;const E=F.workDoneToken;return delete F.workDoneToken,new D(M,E)},e.ProgressFeature=M=>class extends M{constructor(){super(),this._progressSupported=!1}initialize(F){super.initialize(F),!0===F?.window?.workDoneProgress&&(this._progressSupported=!0,this.connection.onNotification(n.WorkDoneProgressCancelNotification.type,E=>{let I=D.Instances.get(E.token);(I instanceof a||I instanceof h)&&I.cancel()}))}attachWorkDoneProgress(F){return void 0===F?new g:new D(this.connection,F)}createWorkDoneProgress(){if(this._progressSupported){const F=(0,v.generateUuid)();return this.connection.sendRequest(n.WorkDoneProgressCreateRequest.type,{token:F}).then(()=>new a(this.connection,F))}return Promise.resolve(new h)}},(b||(b={})).type=new n.ProgressType;class T{constructor(F,E){this._connection=F,this._token=E}report(F){this._connection.sendProgress(b.type,this._token,F)}}e.attachPartialResult=function C(M,F){if(void 0===F||void 0===F.partialResultToken)return;const E=F.partialResultToken;return delete F.partialResultToken,new T(M,E)}},55705:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensBuilder=e.SemanticTokensDiff=e.SemanticTokensFeature=void 0;const n=p(85055);e.SemanticTokensFeature=g=>class extends g{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(n.SemanticTokensRefreshRequest.type),on:h=>{const o=n.SemanticTokensRequest.type;return this.connection.onRequest(o,(l,b)=>h(l,b,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))},onDelta:h=>{const o=n.SemanticTokensDeltaRequest.type;return this.connection.onRequest(o,(l,b)=>h(l,b,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))},onRange:h=>{const o=n.SemanticTokensRangeRequest.type;return this.connection.onRequest(o,(l,b)=>h(l,b,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))}}}};class D{constructor(h,o){this.originalSequence=h,this.modifiedSequence=o}computeDiff(){const h=this.originalSequence.length,o=this.modifiedSequence.length;let l=0;for(;l<o&&l<h&&this.originalSequence[l]===this.modifiedSequence[l];)l++;if(l<o&&l<h){let b=h-1,T=o-1;for(;b>=l&&T>=l&&this.originalSequence[b]===this.modifiedSequence[T];)b--,T--;(b<l||T<l)&&(b++,T++);const C=b-l+1,M=this.modifiedSequence.slice(l,T+1);return 1===M.length&&M[0]===this.originalSequence[b]?[{start:l,deleteCount:C-1}]:[{start:l,deleteCount:C,data:M}]}return l<o?[{start:l,deleteCount:0,data:this.modifiedSequence.slice(l)}]:l<h?[{start:l,deleteCount:h-l}]:[]}}e.SemanticTokensDiff=D,e.SemanticTokensBuilder=class a{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(h,o,l,b,T){let C=h,M=o;this._dataLen>0&&(C-=this._prevLine,0===C&&(M-=this._prevChar)),this._data[this._dataLen++]=C,this._data[this._dataLen++]=M,this._data[this._dataLen++]=l,this._data[this._dataLen++]=b,this._data[this._dataLen++]=T,this._prevLine=h,this._prevChar=o}get id(){return this._id.toString()}previousResult(h){this.id===h&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){return void 0!==this._prevData?{resultId:this.id,edits:new D(this._prevData,this._data).computeDiff()}:this.build()}}},55935:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=e.combineFeatures=e.combineNotebooksFeatures=e.combineLanguagesFeatures=e.combineWorkspaceFeatures=e.combineWindowFeatures=e.combineClientFeatures=e.combineTracerFeatures=e.combineTelemetryFeatures=e.combineConsoleFeatures=e._NotebooksImpl=e._LanguagesImpl=e.BulkUnregistration=e.BulkRegistration=e.ErrorMessageTracker=void 0;const n=p(85055),v=p(46214),D=p(49536),a=p(66944),g=p(16483),h=p(65977),o=p(55424),l=p(55705),b=p(67786),T=p(74541),C=p(17198),M=p(47844),F=p(82586),E=p(71604),I=p(23173),Q=p(5942),G=p(28053);function U(O){if(null!==O)return O}e.ErrorMessageTracker=class Y{constructor(){this._messages=Object.create(null)}add(s){let _=this._messages[s];_||(_=0),_++,this._messages[s]=_}sendErrors(s){Object.keys(this._messages).forEach(_=>{s.window.showErrorMessage(_)})}};class V{constructor(){}rawAttach(s){this._rawConnection=s}attach(s){this._connection=s}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(s){}initialize(s){}error(s){this.send(n.MessageType.Error,s)}warn(s){this.send(n.MessageType.Warning,s)}info(s){this.send(n.MessageType.Info,s)}log(s){this.send(n.MessageType.Log,s)}send(s,_){this._rawConnection&&this._rawConnection.sendNotification(n.LogMessageNotification.type,{type:s,message:_}).catch(()=>{(0,n.RAL)().console.error("Sending log message failed")})}}const Z=(0,b.ShowDocumentFeature)((0,a.ProgressFeature)(class ee{constructor(){}attach(s){this._connection=s}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(s){}fillServerCapabilities(s){}showErrorMessage(s,..._){return this.connection.sendRequest(n.ShowMessageRequest.type,{type:n.MessageType.Error,message:s,actions:_}).then(U)}showWarningMessage(s,..._){return this.connection.sendRequest(n.ShowMessageRequest.type,{type:n.MessageType.Warning,message:s,actions:_}).then(U)}showInformationMessage(s,..._){return this.connection.sendRequest(n.ShowMessageRequest.type,{type:n.MessageType.Info,message:s,actions:_}).then(U)}}));(e.BulkRegistration||(e.BulkRegistration={})).create=function s(){return new z};class z{constructor(){this._registrations=[],this._registered=new Set}add(s,_){const q=v.string(s)?s:s.method;if(this._registered.has(q))throw new Error(`${q} is already added to this registration`);const m=D.generateUuid();this._registrations.push({id:m,method:q,registerOptions:_||{}}),this._registered.add(q)}asRegistrationParams(){return{registrations:this._registrations}}}(e.BulkUnregistration||(e.BulkUnregistration={})).create=function s(){return new $(void 0,[])};class ${constructor(s,_){this._connection=s,this._unregistrations=new Map,_.forEach(q=>{this._unregistrations.set(q.method,q)})}get isAttached(){return!!this._connection}attach(s){this._connection=s}add(s){this._unregistrations.set(s.method,s)}dispose(){let s=[];for(let q of this._unregistrations.values())s.push(q);this._connection.sendRequest(n.UnregistrationRequest.type,{unregisterations:s}).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(s){const _=v.string(s)?s:s.method,q=this._unregistrations.get(_);return!!q&&(this._connection.sendRequest(n.UnregistrationRequest.type,{unregisterations:[q]}).then(()=>{this._unregistrations.delete(_)},i=>{this._connection.console.info(`Un-registering request handler for ${q.id} failed.`)}),!0)}}class te{attach(s){this._connection=s}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(s){}fillServerCapabilities(s){}register(s,_,q){return s instanceof z?this.registerMany(s):s instanceof $?this.registerSingle1(s,_,q):this.registerSingle2(s,_)}registerSingle1(s,_,q){const m=v.string(_)?_:_.method,i=D.generateUuid();let t={registrations:[{id:i,method:m,registerOptions:q||{}}]};return s.isAttached||s.attach(this.connection),this.connection.sendRequest(n.RegistrationRequest.type,t).then(r=>(s.add({id:i,method:m}),s),r=>(this.connection.console.info(`Registering request handler for ${m} failed.`),Promise.reject(r)))}registerSingle2(s,_){const q=v.string(s)?s:s.method,m=D.generateUuid();return this.connection.sendRequest(n.RegistrationRequest.type,{registrations:[{id:m,method:q,registerOptions:_||{}}]}).then(t=>n.Disposable.create(()=>{this.unregisterSingle(m,q).catch(()=>{this.connection.console.info(`Un-registering capability with id ${m} failed.`)})}),t=>(this.connection.console.info(`Registering request handler for ${q} failed.`),Promise.reject(t)))}unregisterSingle(s,_){return this.connection.sendRequest(n.UnregistrationRequest.type,{unregisterations:[{id:s,method:_}]}).catch(()=>{this.connection.console.info(`Un-registering request handler for ${s} failed.`)})}registerMany(s){let _=s.asRegistrationParams();return this.connection.sendRequest(n.RegistrationRequest.type,_).then(()=>new $(this._connection,_.registrations.map(q=>({id:q.id,method:q.method}))),q=>(this.connection.console.info("Bulk registration failed."),Promise.reject(q)))}}const re=(0,T.FileOperationsFeature)((0,h.WorkspaceFoldersFeature)((0,g.ConfigurationFeature)(class _e{constructor(){}attach(s){this._connection=s}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(s){}fillServerCapabilities(s){}applyEdit(s){let q=function _(m){return m&&!!m.edit}(s)?s:{edit:s};return this.connection.sendRequest(n.ApplyWorkspaceEditRequest.type,q)}})));class ie{constructor(){this._trace=n.Trace.Off}attach(s){this._connection=s}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(s){}fillServerCapabilities(s){}set trace(s){this._trace=s}log(s,_){this._trace!==n.Trace.Off&&this.connection.sendNotification(n.LogTraceNotification.type,{message:s,verbose:this._trace===n.Trace.Verbose?_:void 0}).catch(()=>{})}}class x{constructor(){}attach(s){this._connection=s}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(s){}fillServerCapabilities(s){}logEvent(s){this.connection.sendNotification(n.TelemetryEventNotification.type,s).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class ce{constructor(){}attach(s){this._connection=s}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(s){}fillServerCapabilities(s){}attachWorkDoneProgress(s){return(0,a.attachWorkDone)(this.connection,s)}attachPartialResultProgress(s,_){return(0,a.attachPartialResult)(this.connection,_)}}e._LanguagesImpl=ce;const se=(0,G.MonikerFeature)((0,I.DiagnosticFeature)((0,E.InlayHintFeature)((0,F.InlineValueFeature)((0,M.TypeHierarchyFeature)((0,C.LinkedEditingRangeFeature)((0,l.SemanticTokensFeature)((0,o.CallHierarchyFeature)(ce))))))));class ae{constructor(){}attach(s){this._connection=s}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(s){}fillServerCapabilities(s){}attachWorkDoneProgress(s){return(0,a.attachWorkDone)(this.connection,s)}attachPartialResultProgress(s,_){return(0,a.attachPartialResult)(this.connection,_)}}e._NotebooksImpl=ae;const ue=(0,Q.NotebookSyncFeature)(ae);function ne(O,s){return function(_){return s(O(_))}}function le(O,s){return function(_){return s(O(_))}}function de(O,s){return function(_){return s(O(_))}}function fe(O,s){return function(_){return s(O(_))}}function he(O,s){return function(_){return s(O(_))}}function ge(O,s){return function(_){return s(O(_))}}function X(O,s){return function(_){return s(O(_))}}function oe(O,s){return function(_){return s(O(_))}}e.combineConsoleFeatures=ne,e.combineTelemetryFeatures=le,e.combineTracerFeatures=de,e.combineClientFeatures=fe,e.combineWindowFeatures=he,e.combineWorkspaceFeatures=ge,e.combineLanguagesFeatures=X,e.combineNotebooksFeatures=oe,e.combineFeatures=function ye(O,s){function _(m,i,t){return m&&i?t(m,i):m||i}return{__brand:"features",console:_(O.console,s.console,ne),tracer:_(O.tracer,s.tracer,de),telemetry:_(O.telemetry,s.telemetry,le),client:_(O.client,s.client,fe),window:_(O.window,s.window,he),workspace:_(O.workspace,s.workspace,ge),languages:_(O.languages,s.languages,X),notebooks:_(O.notebooks,s.notebooks,oe)}},e.createConnection=function me(O,s,_){const q=_&&_.console?new(_.console(V)):new V,m=O(q);q.rawAttach(m);const i=_&&_.tracer?new(_.tracer(ie)):new ie,t=_&&_.telemetry?new(_.telemetry(x)):new x,r=_&&_.client?new(_.client(te)):new te,c=_&&_.window?new(_.window(Z)):new Z,d=_&&_.workspace?new(_.workspace(re)):new re,f=_&&_.languages?new(_.languages(se)):new se,w=_&&_.notebooks?new(_.notebooks(ue)):new ue,k=[q,i,t,r,c,d,f,w];function W(u){return u instanceof Promise?u:v.thenable(u)?new Promise((y,R)=>{u.then(K=>y(K),K=>R(K))}):Promise.resolve(u)}let S,H,A,j={listen:()=>m.listen(),sendRequest:(u,...y)=>m.sendRequest(v.string(u)?u:u.method,...y),onRequest:(u,y)=>m.onRequest(u,y),sendNotification:(u,y)=>{const R=v.string(u)?u:u.method;return 1===arguments.length?m.sendNotification(R):m.sendNotification(R,y)},onNotification:(u,y)=>m.onNotification(u,y),onProgress:m.onProgress,sendProgress:m.sendProgress,onInitialize:u=>(H=u,{dispose:()=>{H=void 0}}),onInitialized:u=>m.onNotification(n.InitializedNotification.type,u),onShutdown:u=>(S=u,{dispose:()=>{S=void 0}}),onExit:u=>(A=u,{dispose:()=>{A=void 0}}),get console(){return q},get telemetry(){return t},get tracer(){return i},get client(){return r},get window(){return c},get workspace(){return d},get languages(){return f},get notebooks(){return w},onDidChangeConfiguration:u=>m.onNotification(n.DidChangeConfigurationNotification.type,u),onDidChangeWatchedFiles:u=>m.onNotification(n.DidChangeWatchedFilesNotification.type,u),__textDocumentSync:void 0,onDidOpenTextDocument:u=>m.onNotification(n.DidOpenTextDocumentNotification.type,u),onDidChangeTextDocument:u=>m.onNotification(n.DidChangeTextDocumentNotification.type,u),onDidCloseTextDocument:u=>m.onNotification(n.DidCloseTextDocumentNotification.type,u),onWillSaveTextDocument:u=>m.onNotification(n.WillSaveTextDocumentNotification.type,u),onWillSaveTextDocumentWaitUntil:u=>m.onRequest(n.WillSaveTextDocumentWaitUntilRequest.type,u),onDidSaveTextDocument:u=>m.onNotification(n.DidSaveTextDocumentNotification.type,u),sendDiagnostics:u=>m.sendNotification(n.PublishDiagnosticsNotification.type,u),onHover:u=>m.onRequest(n.HoverRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),void 0)),onCompletion:u=>m.onRequest(n.CompletionRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onCompletionResolve:u=>m.onRequest(n.CompletionResolveRequest.type,u),onSignatureHelp:u=>m.onRequest(n.SignatureHelpRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),void 0)),onDeclaration:u=>m.onRequest(n.DeclarationRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onDefinition:u=>m.onRequest(n.DefinitionRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onTypeDefinition:u=>m.onRequest(n.TypeDefinitionRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onImplementation:u=>m.onRequest(n.ImplementationRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onReferences:u=>m.onRequest(n.ReferencesRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onDocumentHighlight:u=>m.onRequest(n.DocumentHighlightRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onDocumentSymbol:u=>m.onRequest(n.DocumentSymbolRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onWorkspaceSymbol:u=>m.onRequest(n.WorkspaceSymbolRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onWorkspaceSymbolResolve:u=>m.onRequest(n.WorkspaceSymbolResolveRequest.type,u),onCodeAction:u=>m.onRequest(n.CodeActionRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onCodeActionResolve:u=>m.onRequest(n.CodeActionResolveRequest.type,(y,R)=>u(y,R)),onCodeLens:u=>m.onRequest(n.CodeLensRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onCodeLensResolve:u=>m.onRequest(n.CodeLensResolveRequest.type,(y,R)=>u(y,R)),onDocumentFormatting:u=>m.onRequest(n.DocumentFormattingRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),void 0)),onDocumentRangeFormatting:u=>m.onRequest(n.DocumentRangeFormattingRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),void 0)),onDocumentOnTypeFormatting:u=>m.onRequest(n.DocumentOnTypeFormattingRequest.type,(y,R)=>u(y,R)),onRenameRequest:u=>m.onRequest(n.RenameRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),void 0)),onPrepareRename:u=>m.onRequest(n.PrepareRenameRequest.type,(y,R)=>u(y,R)),onDocumentLinks:u=>m.onRequest(n.DocumentLinkRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onDocumentLinkResolve:u=>m.onRequest(n.DocumentLinkResolveRequest.type,(y,R)=>u(y,R)),onDocumentColor:u=>m.onRequest(n.DocumentColorRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onColorPresentation:u=>m.onRequest(n.ColorPresentationRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onFoldingRanges:u=>m.onRequest(n.FoldingRangeRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onSelectionRanges:u=>m.onRequest(n.SelectionRangeRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),(0,a.attachPartialResult)(m,y))),onExecuteCommand:u=>m.onRequest(n.ExecuteCommandRequest.type,(y,R)=>u(y,R,(0,a.attachWorkDone)(m,y),void 0)),dispose:()=>m.dispose()};for(let u of k)u.attach(j);return m.onRequest(n.InitializeRequest.type,u=>{s.initialize(u),v.string(u.trace)&&(i.trace=n.Trace.fromString(u.trace));for(let y of k)y.initialize(u.capabilities);if(H)return W(H(u,(new n.CancellationTokenSource).token,(0,a.attachWorkDone)(m,u),void 0)).then(R=>{if(R instanceof n.ResponseError)return R;let K=R;K||(K={capabilities:{}});let J=K.capabilities;J||(J={},K.capabilities=J),null==J.textDocumentSync?J.textDocumentSync=v.number(j.__textDocumentSync)?j.__textDocumentSync:n.TextDocumentSyncKind.None:!v.number(J.textDocumentSync)&&!v.number(J.textDocumentSync.change)&&(J.textDocumentSync.change=v.number(j.__textDocumentSync)?j.__textDocumentSync:n.TextDocumentSyncKind.None);for(let ve of k)ve.fillServerCapabilities(J);return K});{let y={capabilities:{textDocumentSync:n.TextDocumentSyncKind.None}};for(let R of k)R.fillServerCapabilities(y.capabilities);return y}}),m.onRequest(n.ShutdownRequest.type,()=>{if(s.shutdownReceived=!0,S)return S((new n.CancellationTokenSource).token)}),m.onNotification(n.ExitNotification.type,()=>{try{A&&A()}finally{s.exit(s.shutdownReceived?0:1)}}),m.onNotification(n.SetTraceNotification.type,u=>{i.trace=n.Trace.fromString(u.value)}),j}},67786:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentFeature=void 0;const n=p(85055);e.ShowDocumentFeature=D=>class extends D{showDocument(a){return this.connection.sendRequest(n.ShowDocumentRequest.type,a)}}},75296:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocuments=void 0;const n=p(85055);e.TextDocuments=class v{constructor(a){this._configuration=a,this._syncedDocuments=new Map,this._onDidChangeContent=new n.Emitter,this._onDidOpen=new n.Emitter,this._onDidClose=new n.Emitter,this._onDidSave=new n.Emitter,this._onWillSave=new n.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(a){this._willSaveWaitUntil=a}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(a){return this._syncedDocuments.get(a)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(a){a.__textDocumentSync=n.TextDocumentSyncKind.Incremental;const g=[];return g.push(a.onDidOpenTextDocument(h=>{const o=h.textDocument,l=this._configuration.create(o.uri,o.languageId,o.version,o.text);this._syncedDocuments.set(o.uri,l);const b=Object.freeze({document:l});this._onDidOpen.fire(b),this._onDidChangeContent.fire(b)})),g.push(a.onDidChangeTextDocument(h=>{const o=h.textDocument,l=h.contentChanges;if(0===l.length)return;const{version:b}=o;if(null==b)throw new Error(`Received document change event for ${o.uri} without valid version identifier`);let T=this._syncedDocuments.get(o.uri);void 0!==T&&(T=this._configuration.update(T,l,b),this._syncedDocuments.set(o.uri,T),this._onDidChangeContent.fire(Object.freeze({document:T})))})),g.push(a.onDidCloseTextDocument(h=>{let o=this._syncedDocuments.get(h.textDocument.uri);void 0!==o&&(this._syncedDocuments.delete(h.textDocument.uri),this._onDidClose.fire(Object.freeze({document:o})))})),g.push(a.onWillSaveTextDocument(h=>{let o=this._syncedDocuments.get(h.textDocument.uri);void 0!==o&&this._onWillSave.fire(Object.freeze({document:o,reason:h.reason}))})),g.push(a.onWillSaveTextDocumentWaitUntil((h,o)=>{let l=this._syncedDocuments.get(h.textDocument.uri);return void 0!==l&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:l,reason:h.reason}),o):[]})),g.push(a.onDidSaveTextDocument(h=>{let o=this._syncedDocuments.get(h.textDocument.uri);void 0!==o&&this._onDidSave.fire(Object.freeze({document:o}))})),n.Disposable.create(()=>{g.forEach(h=>h.dispose())})}}},47844:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchyFeature=void 0;const n=p(85055);e.TypeHierarchyFeature=D=>class extends D{get typeHierarchy(){return{onPrepare:a=>this.connection.onRequest(n.TypeHierarchyPrepareRequest.type,(g,h)=>a(g,h,this.attachWorkDoneProgress(g),void 0)),onSupertypes:a=>{const g=n.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(g,(h,o)=>a(h,o,this.attachWorkDoneProgress(h),this.attachPartialResultProgress(g,h)))},onSubtypes:a=>{const g=n.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(g,(h,o)=>a(h,o,this.attachWorkDoneProgress(h),this.attachPartialResultProgress(g,h)))}}}}},46214:(P,e)=>{function n(b){return"string"==typeof b||b instanceof String}function a(b){return"function"==typeof b}function g(b){return Array.isArray(b)}Object.defineProperty(e,"__esModule",{value:!0}),e.thenable=e.typedArray=e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0,e.boolean=function p(b){return!0===b||!1===b},e.string=n,e.number=function v(b){return"number"==typeof b||b instanceof Number},e.error=function D(b){return b instanceof Error},e.func=a,e.array=g,e.stringArray=function h(b){return g(b)&&b.every(T=>n(T))},e.typedArray=function o(b,T){return Array.isArray(b)&&b.every(T)},e.thenable=function l(b){return b&&a(b.then)}},49536:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.parse=e.isUUID=e.v4=e.empty=void 0;class p{constructor(l){this._value=l}asHex(){return this._value}equals(l){return this.asHex()===l.asHex()}}let n=(()=>{class o extends p{constructor(){super([o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-","4",o._randomHex(),o._randomHex(),o._randomHex(),"-",o._oneOf(o._timeHighBits),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex()].join(""))}static _oneOf(b){return b[Math.floor(b.length*Math.random())]}static _randomHex(){return o._oneOf(o._chars)}}return o._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],o._timeHighBits=["8","9","a","b"],o})();function v(){return new n}e.empty=new p("00000000-0000-0000-0000-000000000000"),e.v4=v;const D=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(o){return D.test(o)}e.isUUID=a,e.parse=function g(o){if(!a(o))throw new Error("invalid uuid");return new p(o)},e.generateUuid=function h(){return v().asHex()}},65977:(P,e,p)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceFoldersFeature=void 0;const n=p(85055);e.WorkspaceFoldersFeature=D=>class extends D{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(a){super.initialize(a);let g=a.workspace;g&&g.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new n.Emitter,this.connection.onNotification(n.DidChangeWorkspaceFoldersNotification.type,h=>{this._onDidChangeWorkspaceFolders.fire(h.event)}))}fillServerCapabilities(a){super.fillServerCapabilities(a);const g=a.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=!0===g||"string"==typeof g}getWorkspaceFolders(){return this.connection.sendRequest(n.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(n.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}}},be={};function N(P){var e=be[P];if(void 0!==e)return e.exports;var p=be[P]={exports:{}};return pe[P].call(p.exports,p,p.exports,N),p.exports}N.m=pe,N.x=()=>{var P=N.O(void 0,[262,504],()=>N(99372));return N.O(P)},P=[],N.O=(e,p,n,v)=>{if(!p){var a=1/0;for(D=0;D<P.length;D++){for(var[p,n,v]=P[D],g=!0,h=0;h<p.length;h++)(!1&v||a>=v)&&Object.keys(N.O).every(M=>N.O[M](p[h]))?p.splice(h--,1):(g=!1,v<a&&(a=v));if(g){P.splice(D--,1);var o=n();void 0!==o&&(e=o)}}return e}v=v||0;for(var D=P.length;D>0&&P[D-1][2]>v;D--)P[D]=P[D-1];P[D]=[p,n,v]},N.d=(P,e)=>{for(var p in e)N.o(e,p)&&!N.o(P,p)&&Object.defineProperty(P,p,{enumerable:!0,get:e[p]})},N.f={},N.e=P=>Promise.all(Object.keys(N.f).reduce((e,p)=>(N.f[p](P,e),e),[])),N.u=P=>P+"."+{262:"a69a544017cf0902",504:"b5fb7b516a901924"}[P]+".js",N.miniCssF=P=>{},N.o=(P,e)=>Object.prototype.hasOwnProperty.call(P,e),N.r=P=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},(()=>{var P;N.tt=()=>(void 0===P&&(P={createScriptURL:e=>e},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(P=trustedTypes.createPolicy("angular#bundler",P))),P)})(),N.tu=P=>N.tt().createScriptURL(P),N.p="",(()=>{var P={433:1};N.f.i=(v,D)=>{P[v]||importScripts(N.tu(N.p+N.u(v)))};var p=self.webpackChunkweb=self.webpackChunkweb||[],n=p.push.bind(p);p.push=v=>{var[D,a,g]=v;for(var h in a)N.o(a,h)&&(N.m[h]=a[h]);for(g&&g(N);D.length;)P[D.pop()]=1;n(v)}})(),(()=>{var P=N.x;N.x=()=>Promise.all([N.e(262),N.e(504)]).then(P)})(),N.x()})();