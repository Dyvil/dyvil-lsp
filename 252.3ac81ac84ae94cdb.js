"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[252],{21252:(wn,$e,y)=>{y.r($e),y.d($e,{default:()=>kn}),y(87708);var I=y(58054),H=y(55885),c=y(12829),k=y(93358),ut=y(69486),l=y(41436),mt=y(58571),gt=y(17324),q=y(33562),pt=y(86810),Tt=y(31719),be=y(48601),ee=y(44102),_=y(88632),D=y(66179),te=y(68230);const Ee={};function M(r,t){let e=Ee[r];e||(Ee[r]=e=[]),e.push(t)}function Ue(r,t){for(const e of r)if(t.textMateRules.push(e),!e.scope){const n=e.settings;if(n)for(const o in n){const i=o,s=Ee[i];if(s){const a=n[i];if("string"==typeof a){const h=_.Il.fromHex(a);for(const m of s)t.colors[m]=h}}"foreground"!==i&&"background"!==i&&"fontStyle"!==i&&delete n[i]}else e.settings={}}}M("background",D.cvW),M("foreground",D.NOs),M("selection",D.hEj),M("inactiveSelection",D.ES4),M("selectionHighlightColor",D.Rzx),M("findMatchHighlight",D.MUv),M("currentFindMatchHighlight",D.nyM),M("hoverHighlight",D.ptc),M("wordHighlight","editor.wordHighlightBackground"),M("wordHighlightStrong","editor.wordHighlightStrongBackground"),M("findRangeHighlight",D.jUe),M("findMatchHighlight","peekViewResult.matchHighlightBackground"),M("referenceHighlight","peekViewEditor.matchHighlightBackground"),M("lineHighlight",te.Kh),M("rangeHighlight",te.co),M("caret",te.n0),M("invisibles",te.dI),M("guide",te.tR),M("activeGuide",te.Ym);const Ct=["ansiBlack","ansiRed","ansiGreen","ansiYellow","ansiBlue","ansiMagenta","ansiCyan","ansiWhite","ansiBrightBlack","ansiBrightRed","ansiBrightGreen","ansiBrightYellow","ansiBrightBlue","ansiBrightMagenta","ansiBrightCyan","ansiBrightWhite"];for(const r of Ct)M(r,"terminal."+r);var L=y(70473),ke=y(32064),ve=y(24999);function yt(r){return function St(r,t,e){const n=r.length;let o=0,i=1,s=0;function a(d){if(null===e)o+=d;else for(;d>0;)10===r.charCodeAt(o)?(o++,i++,s=0):(o++,s++),d--}function h(d){null===e?o=d:a(d-o)}function m(){for(;o<n;){const d=r.charCodeAt(o);if(32!==d&&9!==d&&13!==d&&10!==d)break;a(1)}}function f(d){return r.substr(o,d.length)===d&&(a(d.length),!0)}function S(d){const x=r.indexOf(d,o);h(-1!==x?x+d.length:n)}function T(d){const x=r.indexOf(d,o);if(-1!==x){const N=r.substring(o,x);return h(x+d.length),N}{const N=r.substr(o);return h(n),N}}n>0&&65279===r.charCodeAt(0)&&(o=1);let u=0,p=null;const C=[],b=[];let g=null;function E(d,x){C.push(u),b.push(p),u=d,p=x}function O(){if(0===C.length)return v("illegal state stack");u=C.pop(),p=b.pop()}function v(d){throw new Error("Near offset "+o+": "+d+" ~~~"+r.substr(o,50)+"~~~")}const Q_enterDict=function(){if(null===g)return v("missing <key>");const d={};null!==e&&(d[e]={filename:t,line:i,char:s}),p[g]=d,g=null,E(1,d)},Q_enterArray=function(){if(null===g)return v("missing <key>");const d=[];p[g]=d,g=null,E(2,d)},U_enterDict=function(){const d={};null!==e&&(d[e]={filename:t,line:i,char:s}),p.push(d),E(1,d)},U_enterArray=function(){const d=[];p.push(d),E(2,d)};function j(){if(1!==u)return v("unexpected </dict>");O()}function se(){return 1===u||2!==u?v("unexpected </array>"):void O()}function P(d){return 1!==u?v("unexpected <key>"):null!==g?v("too many <key>"):void(g=d)}function w(d){if(1===u){if(null===g)return v("missing <key>");p[g]=d,g=null}else 2===u?p.push(d):p=d}function z(d){if(isNaN(d))return v("cannot parse float");if(1===u){if(null===g)return v("missing <key>");p[g]=d,g=null}else 2===u?p.push(d):p=d}function B(d){if(isNaN(d))return v("cannot parse integer");if(1===u){if(null===g)return v("missing <key>");p[g]=d,g=null}else 2===u?p.push(d):p=d}function G(d){if(1===u){if(null===g)return v("missing <key>");p[g]=d,g=null}else 2===u?p.push(d):p=d}function vn(d){if(1===u){if(null===g)return v("missing <key>");p[g]=d,g=null}else 2===u?p.push(d):p=d}function ft(d){if(1===u){if(null===g)return v("missing <key>");p[g]=d,g=null}else 2===u?p.push(d):p=d}function Rn(){let d=T(">"),x=!1;return 47===d.charCodeAt(d.length-1)&&(x=!0,d=d.substring(0,d.length-1)),{name:d.trim(),isClosed:x}}function V(d){if(d.isClosed)return"";const x=T("</");return S(">"),function xn(d){return d.replace(/&#([0-9]+);/g,function(x,N){return String.fromCodePoint(parseInt(N,10))}).replace(/&#x([0-9a-f]+);/g,function(x,N){return String.fromCodePoint(parseInt(N,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(x){switch(x){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return x})}(x)}for(;o<n&&(m(),!(o>=n));){const d=r.charCodeAt(o);if(a(1),60!==d)return v("expected <");if(o>=n)return v("unexpected end of input");const x=r.charCodeAt(o);if(63===x){a(1),S("?>");continue}if(33===x){if(a(1),f("--")){S("--\x3e");continue}S(">");continue}if(47===x){if(a(1),m(),f("plist")){S(">");continue}if(f("dict")){S(">"),j();continue}if(f("array")){S(">"),se();continue}return v("unexpected closed tag")}const N=Rn();switch(N.name){case"dict":1===u?Q_enterDict():2===u?U_enterDict():(p={},null!==e&&(p[e]={filename:t,line:i,char:s}),E(1,p)),N.isClosed&&j();continue;case"array":1===u?Q_enterArray():2===u?U_enterArray():(p=[],E(2,p)),N.isClosed&&se();continue;case"key":P(V(N));continue;case"string":w(V(N));continue;case"real":z(parseFloat(V(N)));continue;case"integer":B(parseInt(V(N),10));continue;case"date":G(new Date(V(N)));continue;case"data":vn(V(N));continue;case"true":V(N),ft(!0);continue;case"false":V(N),ft(!1);continue}if(!/^plist/.test(N.name))return v("unexpected opened tag "+N.name)}return p}(r,null,null)}var A=y(81025);function ze(r,t,e){const n=function It(r){const t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g;let e=t.exec(r);return{next:()=>{if(!e)return null;const n=e[0];return e=t.exec(r),n}}}(r);let o=n.next();for(;null!==o;){let h=0;if(2===o.length&&":"===o.charAt(1)){switch(o.charAt(0)){case"R":h=1;break;case"L":h=-1;break;default:console.log(`Unknown priority ${o} in scope selector`)}o=n.next()}const m=s();if(m&&e.push({matcher:m,priority:h}),","!==o)break;o=n.next()}function i(){if("-"===o){o=n.next();const h=i();return h?m=>h(m)<0?0:-1:null}if("("===o){o=n.next();const h=function a(){let h=s();if(!h)return null;const m=[];for(;h&&(m.push(h),"|"===o||","===o);){do{o=n.next()}while("|"===o||","===o);h=s()}return f=>{let S=m[0](f);for(let T=1;T<m.length;T++)S=Math.max(S,m[T](f));return S}}();return")"===o&&(o=n.next()),h}if(Be(o)){const h=[];do{h.push(o),o=n.next()}while(Be(o));return m=>t(h,m)}return null}function s(){let h=i();if(!h)return null;const m=[];for(;h;)m.push(h),h=i();return f=>{let S=m[0](f);for(let T=1;S>=0&&T<m.length;T++)S=Math.min(S,m[T](f));return S}}}function Be(r){return!!r&&!!r.match(/[\w\.:]+/)}var R=y(81225);const bt=q.B.as(D.IPX.ColorContribution),de=(0,A.Cg)(),Ge={comments:["comment","punctuation.definition.comment"],strings:["string","meta.embedded.assembly"],keywords:["keyword - keyword.operator","keyword.control","storage","storage.type"],numbers:["constant.numeric"],types:["entity.name.type","entity.name.class","support.type","support.class"],functions:["entity.name.function","support.function"],variables:["variable","entity.name.variable"]};let K=(()=>{class r{constructor(e,n,o){this.themeTokenColors=[],this.customTokenColors=[],this.colorMap={},this.customColorMap={},this.semanticTokenRules=[],this.customSemanticTokenRules=[],this.textMateThemingRules=void 0,this.tokenColorIndex=void 0,this.id=e,this.label=n,this.settingsId=o,this.isLoaded=!1}get semanticHighlighting(){return void 0!==this.customSemanticHighlighting?this.customSemanticHighlighting:void 0!==this.customSemanticHighlightingDeprecated?this.customSemanticHighlightingDeprecated:!!this.themeSemanticHighlighting}get tokenColors(){if(!this.textMateThemingRules){let s=function(a){a.scope&&a.settings&&("token.info-token"===a.scope&&(i=!0),e.push({scope:a.scope,settings:{foreground:ne(a.settings.foreground),background:ne(a.settings.background),fontStyle:a.settings.fontStyle}}))};const e=[],n=this.getColor(D.NOs)||this.getDefault(D.NOs),o=this.getColor(D.cvW)||this.getDefault(D.cvW);e.push({settings:{foreground:ne(n),background:ne(o)}});let i=!1;this.themeTokenColors.forEach(s),this.customTokenColors.forEach(s),i||kt[this.type].forEach(s),this.textMateThemingRules=e}return this.textMateThemingRules}getColor(e,n){let o=this.customColorMap[e];return o||(o=this.colorMap[e],!1!==n&&k.o8(o)&&(o=this.getDefault(e)),o)}getTokenStyle(e,n,o,i=!0,s={}){const a={foreground:void 0,bold:void 0,underline:void 0,strikethrough:void 0,italic:void 0},h={foreground:-1,bold:-1,underline:-1,strikethrough:-1,italic:-1};function m(T,u,p){u.foreground&&h.foreground<=T&&(h.foreground=T,a.foreground=u.foreground,s.foreground=p);for(const C of["bold","underline","strikethrough","italic"]){const b=C,g=u[b];void 0!==g&&h[b]<=T&&(h[b]=T,a[b]=g,s[b]=p)}}function f(T){const u=T.selector.match(e,n,o);u>=0&&m(u,T.style,T)}this.semanticTokenRules.forEach(f),this.customSemanticTokenRules.forEach(f);let S=!1;for(const T in h)-1===h[T]?S=!0:h[T]=Number.MAX_VALUE;if(S)for(const T of de.getTokenStylingDefaultRules()){const u=T.selector.match(e,n,o);if(u>=0){let p;if(T.defaults.scopesToProbe&&(p=this.resolveScopes(T.defaults.scopesToProbe),p&&m(u,p,T.defaults.scopesToProbe)),!p&&!1!==i){const C=T.defaults[this.type];p=this.resolveTokenStyleValue(C),p&&m(u,p,C)}}}return A.x6.fromData(a)}resolveTokenStyleValue(e){if(void 0!==e){if("string"==typeof e){const{type:n,modifiers:o,language:i}=(0,A.Q_)(e,"");return this.getTokenStyle(n,o,i)}if("object"==typeof e)return e}}getTokenColorIndex(){if(!this.tokenColorIndex){const e=new Rt;this.tokenColors.forEach(n=>{e.add(n.settings.foreground),e.add(n.settings.background)}),this.semanticTokenRules.forEach(n=>e.add(n.style.foreground)),de.getTokenStylingDefaultRules().forEach(n=>{const o=n.defaults[this.type];o&&"object"==typeof o&&e.add(o.foreground)}),this.customSemanticTokenRules.forEach(n=>e.add(n.style.foreground)),this.tokenColorIndex=e}return this.tokenColorIndex}get tokenColorMap(){return this.getTokenColorIndex().asArray()}getTokenStyleMetadata(e,n,o,i=!0,s={}){const{type:a,language:h}=(0,A.Q_)(e,o),m=this.getTokenStyle(a,n,h,i,s);if(m)return{foreground:this.getTokenColorIndex().get(m.foreground),bold:m.bold,underline:m.underline,strikethrough:m.strikethrough,italic:m.italic}}getTokenStylingRuleScope(e){return-1!==this.customSemanticTokenRules.indexOf(e)?"setting":-1!==this.semanticTokenRules.indexOf(e)?"theme":void 0}getDefault(e){return bt.resolveDefaultColor(e,this)}resolveScopes(e,n){this.themeTokenScopeMatchers||(this.themeTokenScopeMatchers=this.themeTokenColors.map(We)),this.customTokenScopeMatchers||(this.customTokenScopeMatchers=this.customTokenColors.map(We));for(const o of e){let i,s,m,f,S=function(T,u){for(let p=0;p<T.length;p++){const C=T[p](o);if(C>=0){const b=u[p],g=u[p].settings;C>=a&&g.foreground&&(i=g.foreground,a=C,f=b),C>=h&&k.HD(g.fontStyle)&&(s=g.fontStyle,h=C,m=b)}}},a=-1,h=-1;if(S(this.themeTokenScopeMatchers,this.themeTokenColors),S(this.customTokenScopeMatchers,this.customTokenColors),void 0!==i||void 0!==s)return n&&(n.foreground=f,n.bold=n.italic=n.underline=n.strikethrough=m,n.scope=o),A.x6.fromSettings(i,s)}}defines(e){return this.customColorMap.hasOwnProperty(e)||this.colorMap.hasOwnProperty(e)}setCustomizations(e){this.setCustomColors(e.colorCustomizations),this.setCustomTokenColors(e.tokenColorCustomizations),this.setCustomSemanticTokenColors(e.semanticTokenColorCustomizations)}setCustomColors(e){this.customColorMap={},this.overwriteCustomColors(e);const n=this.getThemeSpecificColors(e);k.Kn(n)&&this.overwriteCustomColors(n),this.tokenColorIndex=void 0,this.textMateThemingRules=void 0,this.customTokenScopeMatchers=void 0}overwriteCustomColors(e){for(const n in e){const o=e[n];"string"==typeof o&&(this.customColorMap[n]=_.Il.fromHex(o))}}setCustomTokenColors(e){this.customTokenColors=[],this.customSemanticHighlightingDeprecated=void 0,this.addCustomTokenColors(e);const n=this.getThemeSpecificColors(e);k.Kn(n)&&this.addCustomTokenColors(n),this.tokenColorIndex=void 0,this.textMateThemingRules=void 0,this.customTokenScopeMatchers=void 0}setCustomSemanticTokenColors(e){if(this.customSemanticTokenRules=[],this.customSemanticHighlighting=void 0,e){this.customSemanticHighlighting=e.enabled,e.rules&&this.readSemanticTokenRules(e.rules);const n=this.getThemeSpecificColors(e);k.Kn(n)&&(void 0!==n.enabled&&(this.customSemanticHighlighting=n.enabled),n.rules&&this.readSemanticTokenRules(n.rules))}this.tokenColorIndex=void 0,this.textMateThemingRules=void 0}isThemeScope(e){return e.charAt(0)===l.xq&&e.charAt(e.length-1)===l.BZ}isThemeScopeMatch(e){const n=e.charAt(0),o=e.charAt(e.length-1),i=e.slice(0,-1),s=e.slice(1,-1),a=e.slice(1);return e===this.settingsId||this.settingsId.includes(s)&&n===l.A$&&o===l.A$||this.settingsId.startsWith(i)&&o===l.A$||this.settingsId.endsWith(a)&&n===l.A$}getThemeSpecificColors(e){let n;for(const o in e){const i=e[o];if(this.isThemeScope(o)&&i instanceof Object&&!Array.isArray(i)){const s=o.match(l.vo)||[];for(const a of s){const h=a.substring(1,a.length-1);if(this.isThemeScopeMatch(h)){n||(n={});const m=i;for(const f in m){const S=n[f],T=m[f];Array.isArray(S)&&Array.isArray(T)?n[f]=S.concat(T):T&&(n[f]=T)}}}}}return n}readSemanticTokenRules(e){for(const n in e)if(!this.isThemeScope(n))try{const o=Xe(n,e[n]);o&&this.customSemanticTokenRules.push(o)}catch{}}addCustomTokenColors(e){for(const n in Ge){const i=e[n];if(i){const s="string"==typeof i?{foreground:i}:i,a=Ge[n];for(const h of a)this.customTokenColors.push({scope:h,settings:s})}}if(Array.isArray(e.textMateRules))for(const n of e.textMateRules)n.scope&&n.settings&&this.customTokenColors.push(n);void 0!==e.semanticHighlighting&&(this.customSemanticHighlightingDeprecated=e.semanticHighlighting)}ensureLoaded(e){return this.isLoaded?Promise.resolve(void 0):this.load(e)}reload(e){return this.load(e)}load(e){if(!this.location)return Promise.resolve(void 0);this.themeTokenColors=[],this.clearCaches();const n={colors:{},textMateRules:[],semanticTokenRules:[],semanticHighlighting:!1};return Ze(e,this.location,n).then(o=>{this.isLoaded=!0,this.semanticTokenRules=n.semanticTokenRules,this.colorMap=n.colors,this.themeTokenColors=n.textMateRules,this.themeSemanticHighlighting=n.semanticHighlighting})}clearCaches(){this.tokenColorIndex=void 0,this.textMateThemingRules=void 0,this.themeTokenScopeMatchers=void 0,this.customTokenScopeMatchers=void 0}toStorage(e){const n={};for(const i in this.colorMap)n[i]=_.Il.Format.CSS.formatHexA(this.colorMap[i],!0);const o=JSON.stringify({id:this.id,label:this.label,settingsId:this.settingsId,themeTokenColors:this.themeTokenColors.map(i=>({settings:i.settings,scope:i.scope})),semanticTokenRules:this.semanticTokenRules.map(A.SE.toJSONObject),extensionData:l.VX.toJSONObject(this.extensionData),themeSemanticHighlighting:this.themeSemanticHighlighting,colorMap:n,watch:this.watch});e.store(r.STORAGE_KEY,o,0,0)}get baseTheme(){return this.classNames[0]}get classNames(){return this.id.split(" ")}get type(){switch(this.baseTheme){case l.Cd:return R.eL.LIGHT;case l.B5:return R.eL.HIGH_CONTRAST_DARK;case l.uD:return R.eL.HIGH_CONTRAST_LIGHT;default:return R.eL.DARK}}static createUnloadedThemeForThemeType(e,n){return r.createUnloadedTheme((0,ke.m6)(e),n)}static createUnloadedTheme(e,n){const o=new r(e,"","__"+e);if(o.isLoaded=!1,o.themeTokenColors=[],o.watch=!1,n)for(const i in n)o.colorMap[i]=_.Il.fromHex(n[i]);return o}static createLoadedEmptyTheme(e,n){const o=new r(e,"",n);return o.isLoaded=!0,o.themeTokenColors=[],o.watch=!1,o}static fromStorageData(e){const n=e.get(r.STORAGE_KEY,0);if(n)try{const o=JSON.parse(n),i=new r("","","");for(const s in o)switch(s){case"colorMap":{const a=o[s];for(const h in a)i.colorMap[h]=_.Il.fromHex(a[h]);break}case"themeTokenColors":case"id":case"label":case"settingsId":case"watch":case"themeSemanticHighlighting":i[s]=o[s];break;case"semanticTokenRules":{const a=o[s];if(Array.isArray(a))for(const h of a){const m=A.SE.fromJSONObject(de,h);m&&i.semanticTokenRules.push(m)}break}case"location":break;case"extensionData":i.extensionData=l.VX.fromJSONObject(o.extensionData)}return i.id&&i.settingsId?i:void 0}catch{return}}static fromExtensionTheme(e,n,o){const i=e.uiTheme||"vs-dark",s=function Et(r,t){t.startsWith("./")&&(t=t.substr(2));let e=`${r}-${t}`;return e=e.replace(/[^_a-zA-Z0-9-]/g,"-"),e.charAt(0).match(/[0-9-]/)&&(e="_"+e),e}(o.extensionId,e.path),a=`${i} ${s}`,h=e.label||(0,be.EZ)(e.path),f=new r(a,h,e.id||h);return f.description=e.description,f.watch=!0===e._watch,f.location=n,f.extensionData=o,f.isLoaded=!1,f}}return r.STORAGE_KEY="colorThemeData",r})();function Ze(r,t,e){return xe.apply(this,arguments)}function xe(){return(xe=(0,I.Z)(function*(r,t,e){if(".json"!==L.DZ(t))return Ve(r,t,e);{const n=yield r.readExtensionResource(t),o=[],i=ee.Qc(n,o);if(o.length>0)return Promise.reject(new Error(c.NC("error.cannotparsejson","Problems parsing JSON theme file: {0}",o.map(m=>(0,ve.i)(m.error)).join(", "))));if("object"!==ee.jo(i))return Promise.reject(new Error(c.NC("error.invalidformat","Invalid format for JSON theme file: Object expected.")));if(i.include&&(yield Ze(r,L.Vo(L.XX(t),i.include),e)),Array.isArray(i.settings))return Ue(i.settings,e),null;e.semanticHighlighting=e.semanticHighlighting||i.semanticHighlighting;const s=i.colors;if(s){if("object"!=typeof s)return Promise.reject(new Error(c.NC({key:"error.invalidformat.colors",comment:["{0} will be replaced by a path. Values in quotes should not be translated."]},"Problem parsing color theme file: {0}. Property 'colors' is not of type 'object'.",t.toString())));for(const m in s)"string"==typeof s[m]&&(e.colors[m]=_.Il.fromHex(s[m]))}const a=i.tokenColors;if(a)if(Array.isArray(a))e.textMateRules.push(...a);else{if("string"!=typeof a)return Promise.reject(new Error(c.NC({key:"error.invalidformat.tokenColors",comment:["{0} will be replaced by a path. Values in quotes should not be translated."]},"Problem parsing color theme file: {0}. Property 'tokenColors' should be either an array specifying colors or a path to a TextMate theme file",t.toString())));yield Ve(r,L.Vo(L.XX(t),a),e)}const h=i.semanticTokenColors;if(h&&"object"==typeof h)for(const m in h)try{const f=Xe(m,h[m]);f&&e.semanticTokenRules.push(f)}catch{return Promise.reject(new Error(c.NC({key:"error.invalidformat.semanticTokenColors",comment:["{0} will be replaced by a path. Values in quotes should not be translated."]},"Problem parsing color theme file: {0}. Property 'semanticTokenColors' contains a invalid selector",t.toString())))}}})).apply(this,arguments)}function Ve(r,t,e){return r.readExtensionResource(t).then(n=>{try{const i=yt(n).settings;return Array.isArray(i)?(Ue(i,e),Promise.resolve(null)):Promise.reject(new Error(c.NC("error.plist.invalidformat","Problem parsing tmTheme file: {0}. 'settings' is not array.")))}catch(o){return Promise.reject(new Error(c.NC("error.cannotparse","Problems parsing tmTheme file: {0}",o.message)))}},n=>Promise.reject(new Error(c.NC("error.cannotload","Problems loading tmTheme file {0}: {1}",t.toString(),n.message))))}const kt={light:[{scope:"token.info-token",settings:{foreground:"#316bcd"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#cd3131"}},{scope:"token.debug-token",settings:{foreground:"#800080"}}],dark:[{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#f44747"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}}],hcLight:[{scope:"token.info-token",settings:{foreground:"#316bcd"}},{scope:"token.warn-token",settings:{foreground:"#cd9731"}},{scope:"token.error-token",settings:{foreground:"#cd3131"}},{scope:"token.debug-token",settings:{foreground:"#800080"}}],hcDark:[{scope:"token.info-token",settings:{foreground:"#6796e6"}},{scope:"token.warn-token",settings:{foreground:"#008000"}},{scope:"token.error-token",settings:{foreground:"#FF0000"}},{scope:"token.debug-token",settings:{foreground:"#b267e6"}}]},_e=r=>-1;function Ke(r,t){function e(i,s){for(let a=s-1;a>=0;a--)if(vt(i,r[a]))return a;return-1}if(t.length<r.length)return-1;let n=t.length-1,o=e(t[n--],r.length);if(o>=0){const i=65536*(o+1)+r[o].length;for(;n>=0;)if(o=e(t[n--],o),-1===o)return-1;return i}return-1}function vt(r,t){if(!r)return!1;if(r===t)return!0;const e=t.length;return r.length>e&&r.substr(0,e)===t&&"."===r[e]}function We(r){const t=r.scope;if(!t||!r.settings)return _e;const e=[];if(Array.isArray(t))for(const n of t)ze(n,Ke,e);else ze(t,Ke,e);return 0===e.length?_e:n=>{let o=e[0].matcher(n);for(let i=1;i<e.length;i++)o=Math.max(o,e[i].matcher(n));return o}}function Xe(r,t){const e=de.parseTokenSelector(r);let n;if("string"==typeof t?n=A.x6.fromSettings(t,void 0):function xt(r){return r&&(k.HD(r.foreground)||k.HD(r.fontStyle)||k.jn(r.italic)||k.jn(r.underline)||k.jn(r.strikethrough)||k.jn(r.bold))}(t)&&(n=A.x6.fromSettings(t.foreground,t.fontStyle,t.bold,t.underline,t.strikethrough,t.italic)),n)return{selector:e,style:n}}class Rt{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null)}add(t){if(void 0===(t=ne(t)))return 0;let e=this._color2id[t];return e||(e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e)}get(t){return void 0===(t=ne(t))?0:this._color2id[t]||(console.log(`Color ${t} not in index.`),0)}asArray(){return this._id2color.slice(0)}}function ne(r){if(!r)return;"string"!=typeof r&&(r=_.Il.Format.CSS.formatHexA(r,!0));const t=r.length;if(35!==r.charCodeAt(0)||4!==t&&5!==t&&7!==t&&9!==t)return;const e=[35];for(let n=1;n<t;n++){const o=wt(r.charCodeAt(n));if(!o)return;e.push(o),(4===t||5===t)&&e.push(o)}return 9===e.length&&70===e[7]&&70===e[8]&&(e.length=7),String.fromCharCode(...e)}function wt(r){return r>=48&&r<=57||r>=65&&r<=70?r:r>=97&&r<=102?r-97+65:0}var fe=y(13683),Re=y(36027),ue=y(37202);const we="^([\\w_-]+)$",Ne="^(normal|italic|(oblique[ \\w\\s-]+))$",Me="^(normal|bold|lighter|bolder|(\\d{0-1000}))$",Je="^([\\w .%_-]+)$",Dt={type:"object",allowComments:!0,allowTrailingCommas:!0,properties:{fonts:{type:"array",items:{type:"object",properties:{id:{type:"string",description:c.NC("schema.id","The ID of the font."),pattern:we,patternErrorMessage:c.NC("schema.id.formatError","The ID must only contain letters, numbers, underscore and minus.")},src:{type:"array",description:c.NC("schema.src","The location of the font."),items:{type:"object",properties:{path:{type:"string",description:c.NC("schema.font-path","The font path, relative to the current product icon theme file.")},format:{type:"string",description:c.NC("schema.font-format","The format of the font."),enum:["woff","woff2","truetype","opentype","embedded-opentype","svg"]}},required:["path","format"]}},weight:{type:"string",description:c.NC("schema.font-weight","The weight of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight for valid values."),anyOf:[{enum:["normal","bold","lighter","bolder"]},{type:"string",pattern:Me}]},style:{type:"string",description:c.NC("schema.font-style","The style of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-style for valid values."),anyOf:[{enum:["normal","italic","oblique"]},{type:"string",pattern:Ne}]}},required:["id","src"]}},iconDefinitions:{description:c.NC("schema.iconDefinitions","Association of icon name to a font character."),$ref:ue.YU}}},Ot={type:"object",allowComments:!0,allowTrailingCommas:!0,definitions:{folderExpanded:{type:"string",description:c.NC("schema.folderExpanded","The folder icon for expanded folders. The expanded folder icon is optional. If not set, the icon defined for folder will be shown.")},folder:{type:"string",description:c.NC("schema.folder","The folder icon for collapsed folders, and if folderExpanded is not set, also for expanded folders.")},file:{type:"string",description:c.NC("schema.file","The default file icon, shown for all files that don't match any extension, filename or language id.")},folderNames:{type:"object",description:c.NC("schema.folderNames","Associates folder names to icons. The object key is the folder name, not including any path segments. No patterns or wildcards are allowed. Folder name matching is case insensitive."),additionalProperties:{type:"string",description:c.NC("schema.folderName","The ID of the icon definition for the association.")}},folderNamesExpanded:{type:"object",description:c.NC("schema.folderNamesExpanded","Associates folder names to icons for expanded folders. The object key is the folder name, not including any path segments. No patterns or wildcards are allowed. Folder name matching is case insensitive."),additionalProperties:{type:"string",description:c.NC("schema.folderNameExpanded","The ID of the icon definition for the association.")}},fileExtensions:{type:"object",description:c.NC("schema.fileExtensions","Associates file extensions to icons. The object key is the file extension name. The extension name is the last segment of a file name after the last dot (not including the dot). Extensions are compared case insensitive."),additionalProperties:{type:"string",description:c.NC("schema.fileExtension","The ID of the icon definition for the association.")}},fileNames:{type:"object",description:c.NC("schema.fileNames","Associates file names to icons. The object key is the full file name, but not including any path segments. File name can include dots and a possible file extension. No patterns or wildcards are allowed. File name matching is case insensitive."),additionalProperties:{type:"string",description:c.NC("schema.fileName","The ID of the icon definition for the association.")}},languageIds:{type:"object",description:c.NC("schema.languageIds","Associates languages to icons. The object key is the language id as defined in the language contribution point."),additionalProperties:{type:"string",description:c.NC("schema.languageId","The ID of the icon definition for the association.")}},associations:{type:"object",properties:{folderExpanded:{$ref:"#/definitions/folderExpanded"},folder:{$ref:"#/definitions/folder"},file:{$ref:"#/definitions/file"},folderNames:{$ref:"#/definitions/folderNames"},folderNamesExpanded:{$ref:"#/definitions/folderNamesExpanded"},fileExtensions:{$ref:"#/definitions/fileExtensions"},fileNames:{$ref:"#/definitions/fileNames"},languageIds:{$ref:"#/definitions/languageIds"}}}},properties:{fonts:{type:"array",description:c.NC("schema.fonts","Fonts that are used in the icon definitions."),items:{type:"object",properties:{id:{type:"string",description:c.NC("schema.id","The ID of the font."),pattern:we,patternErrorMessage:c.NC("schema.id.formatError","The ID must only contain letter, numbers, underscore and minus.")},src:{type:"array",description:c.NC("schema.src","The location of the font."),items:{type:"object",properties:{path:{type:"string",description:c.NC("schema.font-path","The font path, relative to the current file icon theme file.")},format:{type:"string",description:c.NC("schema.font-format","The format of the font."),enum:["woff","woff2","truetype","opentype","embedded-opentype","svg"]}},required:["path","format"]}},weight:{type:"string",description:c.NC("schema.font-weight","The weight of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight for valid values."),pattern:Me},style:{type:"string",description:c.NC("schema.font-style","The style of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-style for valid values."),pattern:Ne},size:{type:"string",description:c.NC("schema.font-size","The default size of the font. See https://developer.mozilla.org/en-US/docs/Web/CSS/font-size for valid values."),pattern:Je}},required:["id","src"]}},iconDefinitions:{type:"object",description:c.NC("schema.iconDefinitions","Description of all icons that can be used when associating files to icons."),additionalProperties:{type:"object",description:c.NC("schema.iconDefinition","An icon definition. The object key is the ID of the definition."),properties:{iconPath:{type:"string",description:c.NC("schema.iconPath","When using a SVG or PNG: The path to the image. The path is relative to the icon set file.")},fontCharacter:{type:"string",description:c.NC("schema.fontCharacter","When using a glyph font: The character in the font to use.")},fontColor:{type:"string",format:"color-hex",description:c.NC("schema.fontColor","When using a glyph font: The color to use.")},fontSize:{type:"string",description:c.NC("schema.fontSize","When using a font: The font size in percentage to the text font. If not set, defaults to the size in the font definition."),pattern:Je},fontId:{type:"string",description:c.NC("schema.fontId","When using a font: The id of the font. If not set, defaults to the first font definition.")}}}},folderExpanded:{$ref:"#/definitions/folderExpanded"},folder:{$ref:"#/definitions/folder"},file:{$ref:"#/definitions/file"},folderNames:{$ref:"#/definitions/folderNames"},folderNamesExpanded:{$ref:"#/definitions/folderNamesExpanded"},fileExtensions:{$ref:"#/definitions/fileExtensions"},fileNames:{$ref:"#/definitions/fileNames"},languageIds:{$ref:"#/definitions/languageIds"},light:{$ref:"#/definitions/associations",description:c.NC("schema.light","Optional associations for file icons in light color themes.")},highContrast:{$ref:"#/definitions/associations",description:c.NC("schema.highContrast","Optional associations for file icons in high contrast color themes.")},hidesExplorerArrows:{type:"boolean",description:c.NC("schema.hidesExplorerArrows","Configures whether the file explorer's arrows should be hidden when this theme is active.")},showLanguageModeIcons:{type:"boolean",description:c.NC("schema.showLanguageModeIcons","Configures whether the default language icons should be used if the theme does not define an icon for a language.")}}};var Ye=y(12997),ce=y(6418);let oe=(()=>{class r{constructor(e,n,o){this.id=e,this.label=n,this.settingsId=o,this.isLoaded=!1,this.hasFileIcons=!1,this.hasFolderIcons=!1,this.hidesExplorerArrows=!1}ensureLoaded(e){return this.isLoaded?Promise.resolve(this.styleSheetContent):this.load(e)}reload(e){return this.load(e)}load(e){return e.load(this)}static fromExtensionTheme(e,n,o){const i=o.extensionId+"-"+e.id,s=e.label||be.EZ(e.path),h=new r(i,s,e.id);return h.description=e.description,h.location=n,h.extensionData=o,h.watch=e._watch,h.isLoaded=!1,h}static get noIconTheme(){let e=r._noIconTheme;return e||(e=r._noIconTheme=new r("","",null),e.hasFileIcons=!1,e.hasFolderIcons=!1,e.hidesExplorerArrows=!1,e.isLoaded=!0,e.extensionData=void 0,e.watch=!1),e}static createUnloadedTheme(e){const n=new r(e,"","__"+e);return n.isLoaded=!1,n.hasFileIcons=!1,n.hasFolderIcons=!1,n.hidesExplorerArrows=!1,n.extensionData=void 0,n.watch=!1,n}static fromStorageData(e){const n=e.get(r.STORAGE_KEY,0);if(n)try{const o=JSON.parse(n),i=new r("","",null);for(const s in o)switch(s){case"id":case"label":case"description":case"settingsId":case"styleSheetContent":case"hasFileIcons":case"hidesExplorerArrows":case"hasFolderIcons":case"watch":i[s]=o[s];break;case"location":break;case"extensionData":i.extensionData=l.VX.fromJSONObject(o.extensionData)}return i}catch{return}}toStorage(e){const n=JSON.stringify({id:this.id,label:this.label,description:this.description,settingsId:this.settingsId,styleSheetContent:this.styleSheetContent,hasFileIcons:this.hasFileIcons,hasFolderIcons:this.hasFolderIcons,hidesExplorerArrows:this.hidesExplorerArrows,extensionData:l.VX.toJSONObject(this.extensionData),watch:this.watch});e.store(r.STORAGE_KEY,n,0,1)}}return r.STORAGE_KEY="iconThemeData",r._noIconTheme=null,r})();class At{constructor(t,e){this.fileService=t,this.languageService=e}load(t){return t.location?this.loadIconThemeDocument(t.location).then(e=>{const n=this.processIconThemeDocument(t.id,t.location,e);return t.styleSheetContent=n.content,t.hasFileIcons=n.hasFileIcons,t.hasFolderIcons=n.hasFolderIcons,t.hidesExplorerArrows=n.hidesExplorerArrows,t.isLoaded=!0,t.styleSheetContent}):Promise.resolve(t.styleSheetContent)}loadIconThemeDocument(t){return this.fileService.readExtensionResource(t).then(e=>{const n=[],o=ee.Qc(e,n);return n.length>0?Promise.reject(new Error(c.NC("error.cannotparseicontheme","Problems parsing file icons file: {0}",n.map(i=>(0,ve.i)(i.error)).join(", ")))):"object"!==ee.jo(o)?Promise.reject(new Error(c.NC("error.invalidformat","Invalid format for file icons theme file: Object expected."))):Promise.resolve(o)})}processIconThemeDocument(t,e,n){const o={content:"",hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!!n.hidesExplorerArrows};let i=!1;if(!n.iconDefinitions)return o;const s={},a={},h=L.XX(e);function m(C){return L.Vo(h,C)}function f(C,b){function g(E,O){if(O){let v=s[O];v||(v=s[O]=[]),v.push(E)}}if(C){let E=".show-file-icons";b&&(E=b+" "+E);const O=".monaco-tl-twistie.collapsible:not(.collapsed) + .monaco-tl-contents";C.folder&&(g(`${E} .folder-icon::before`,C.folder),o.hasFolderIcons=!0),C.folderExpanded&&(g(`${E} ${O} .folder-icon::before`,C.folderExpanded),o.hasFolderIcons=!0);const v=C.rootFolder||C.folder,Q=C.rootFolderExpanded||C.folderExpanded;v&&(g(`${E} .rootfolder-icon::before`,v),o.hasFolderIcons=!0),Q&&(g(`${E} ${O} .rootfolder-icon::before`,Q),o.hasFolderIcons=!0),C.file&&(g(`${E} .file-icon::before`,C.file),o.hasFileIcons=!0);const U=C.folderNames;if(U)for(const P in U){const w=[],z=me(P.toLowerCase(),w);w.push(`.${Z(z)}-name-folder-icon`),g(`${E} ${w.join("")}.folder-icon::before`,U[P]),o.hasFolderIcons=!0}const F=C.folderNamesExpanded;if(F)for(const P in F){const w=[],z=me(P.toLowerCase(),w);w.push(`.${Z(z)}-name-folder-icon`),g(`${E} ${O} ${w.join("")}.folder-icon::before`,F[P]),o.hasFolderIcons=!0}const j=C.languageIds;if(j){!j.jsonc&&j.json&&(j.jsonc=j.json);for(const P in j)g(`${E} .${Z(P)}-lang-file-icon.file-icon::before`,j[P]),o.hasFileIcons=!0,i=!0,a[P]=!0}const he=C.fileExtensions;if(he)for(const P in he){const w=[],B=me(P.toLowerCase(),w).split(".");if(B.length){for(let G=0;G<B.length;G++)w.push(`.${Z(B.slice(G).join("."))}-ext-file-icon`);w.push(".ext-file-icon")}g(`${E} ${w.join("")}.file-icon::before`,he[P]),o.hasFileIcons=!0,i=!0}const se=C.fileNames;if(se)for(const P in se){const w=[],z=me(P.toLowerCase(),w);w.push(`.${Z(z)}-name-file-icon`),w.push(".name-file-icon");const B=z.split(".");if(B.length){for(let G=1;G<B.length;G++)w.push(`.${Z(B.slice(G).join("."))}-ext-file-icon`);w.push(".ext-file-icon")}g(`${E} ${w.join("")}.file-icon::before`,se[P]),o.hasFileIcons=!0,i=!0}}}if(f(n),f(n.light,".vs"),f(n.highContrast,".hc-black"),f(n.highContrast,".hc-light"),!o.hasFileIcons&&!o.hasFolderIcons)return o;const S=!0===n.showLanguageModeIcons||i&&!1!==n.showLanguageModeIcons,T=[],u=n.fonts,p=new Map;if(Array.isArray(u)){const C=u[0].size||"150%";u.forEach(b=>{const g=b.src.map(E=>`${(0,ce.wY)(m(E.path))} format('${E.format}')`).join(", ");T.push(`@font-face { src: ${g}; font-family: '${b.id}'; font-weight: ${b.weight}; font-style: ${b.style}; font-display: block; }`),void 0!==b.size&&b.size!==C&&p.set(b.id,b.size)}),T.push(`.show-file-icons .file-icon::before, .show-file-icons .folder-icon::before, .show-file-icons .rootfolder-icon::before { font-family: '${u[0].id}'; font-size: ${C}; }`)}for(const C in s){const b=s[C],g=n.iconDefinitions[C];if(g)if(g.iconPath)T.push(`${b.join(", ")} { content: ' '; background-image: ${(0,ce.wY)(m(g.iconPath))}; }`);else if(g.fontCharacter||g.fontColor){const E=[];g.fontColor&&E.push(`color: ${g.fontColor};`),g.fontCharacter&&E.push(`content: '${g.fontCharacter}';`);const O=g.fontSize??(g.fontId?p.get(g.fontId):void 0);O&&E.push(`font-size: ${O};`),g.fontId&&E.push(`font-family: ${g.fontId};`),S&&E.push("background-image: unset;"),T.push(`${b.join(", ")} { ${E.join(" ")} }`)}}if(S)for(const C of this.languageService.getRegisteredLanguageIds())if(!a[C]){const b=this.languageService.getIcon(C);if(b){const g=`.show-file-icons .${Z(C)}-lang-file-icon.file-icon::before`;T.push(`${g} { content: ' '; background-image: ${(0,ce.wY)(b.dark)}; }`),T.push(`.vs ${g} { content: ' '; background-image: ${(0,ce.wY)(b.light)}; }`)}}return o.content=T.join("\n"),o}}function me(r,t){const e=r.lastIndexOf("/");if(e>=0){const n=r.substring(0,e);return t.push(`.${Z(n)}-name-dir-icon`),r.substring(e+1)}return r}function Z(r){return r=r.replace(/[\11\12\14\15\40]/g,"/"),window.CSS.escape(r)}var Ft=y(25237),jt=y(17088);const Qe=["comment","comment.block","comment.block.documentation","comment.line","constant","constant.character","constant.character.escape","constant.numeric","constant.numeric.integer","constant.numeric.float","constant.numeric.hex","constant.numeric.octal","constant.other","constant.regexp","constant.rgb-value","emphasis","entity","entity.name","entity.name.class","entity.name.function","entity.name.method","entity.name.section","entity.name.selector","entity.name.tag","entity.name.type","entity.other","entity.other.attribute-name","entity.other.inherited-class","invalid","invalid.deprecated","invalid.illegal","keyword","keyword.control","keyword.operator","keyword.operator.new","keyword.operator.assignment","keyword.operator.arithmetic","keyword.operator.logical","keyword.other","markup","markup.bold","markup.changed","markup.deleted","markup.heading","markup.inline.raw","markup.inserted","markup.italic","markup.list","markup.list.numbered","markup.list.unnumbered","markup.other","markup.quote","markup.raw","markup.underline","markup.underline.link","meta","meta.block","meta.cast","meta.class","meta.function","meta.function-call","meta.preprocessor","meta.return-type","meta.selector","meta.tag","meta.type.annotation","meta.type","punctuation.definition.string.begin","punctuation.definition.string.end","punctuation.separator","punctuation.separator.continuation","punctuation.terminator","storage","storage.modifier","storage.type","string","string.interpolated","string.other","string.quoted","string.quoted.double","string.quoted.other","string.quoted.single","string.quoted.triple","string.regexp","string.unquoted","strong","support","support.class","support.constant","support.function","support.other","support.type","support.type.property-name","support.variable","variable","variable.language","variable.name","variable.other","variable.other.readwrite","variable.parameter"],ge="vscode://schemas/textmate-colors",$t=`${ge}#/definitions/colorGroup`,Ut={type:"array",definitions:{colorGroup:{default:"#FF0000",anyOf:[{type:"string",format:"color-hex"},{$ref:"#/definitions/settings"}]},settings:{type:"object",description:c.NC("schema.token.settings","Colors and styles for the token."),properties:{foreground:{type:"string",description:c.NC("schema.token.foreground","Foreground color for the token."),format:"color-hex",default:"#ff0000"},background:{type:"string",deprecationMessage:c.NC("schema.token.background.warning","Token background colors are currently not supported.")},fontStyle:{type:"string",description:c.NC("schema.token.fontStyle","Font style of the rule: 'italic', 'bold', 'underline', 'strikethrough' or a combination. The empty string unsets inherited settings."),pattern:"^(\\s*\\b(italic|bold|underline|strikethrough))*\\s*$",patternErrorMessage:c.NC("schema.fontStyle.error","Font style must be 'italic', 'bold', 'underline', 'strikethrough' or a combination or the empty string."),defaultSnippets:[{label:c.NC("schema.token.fontStyle.none","None (clear inherited style)"),bodyText:'""'},{body:"italic"},{body:"bold"},{body:"underline"},{body:"strikethrough"},{body:"italic bold"},{body:"italic underline"},{body:"italic strikethrough"},{body:"bold underline"},{body:"bold strikethrough"},{body:"underline strikethrough"},{body:"italic bold underline"},{body:"italic bold strikethrough"},{body:"italic underline strikethrough"},{body:"bold underline strikethrough"},{body:"italic bold underline strikethrough"}]}},additionalProperties:!1,defaultSnippets:[{body:{foreground:"${1:#FF0000}",fontStyle:"${2:bold}"}}]}},items:{type:"object",defaultSnippets:[{body:{scope:"${1:keyword.operator}",settings:{foreground:"${2:#FF0000}"}}}],properties:{name:{type:"string",description:c.NC("schema.properties.name","Description of the rule.")},scope:{description:c.NC("schema.properties.scope","Scope selector against which this rule matches."),anyOf:[{enum:Qe},{type:"string"},{type:"array",items:{enum:Qe}},{type:"array",items:{type:"string"}}]},settings:{$ref:"#/definitions/settings"}},required:["settings"],additionalProperties:!1}},Bt={type:"object",allowComments:!0,allowTrailingCommas:!0,properties:{colors:{description:c.NC("schema.workbenchColors","Colors in the workbench"),$ref:D.v7x,additionalProperties:!1},tokenColors:{anyOf:[{type:"string",description:c.NC("schema.tokenColors.path","Path to a tmTheme file (relative to the current file).")},{description:c.NC("schema.colors","Colors for syntax highlighting"),$ref:ge}]},semanticHighlighting:{type:"boolean",description:c.NC("schema.supportsSemanticHighlighting","Whether semantic highlighting should be enabled for this theme.")},semanticTokenColors:{type:"object",description:c.NC("schema.semanticTokenColors","Colors for semantic tokens"),$ref:A.SA}}};var qe=y(52105),Zt=y(94401),Vt=y(51288),De=y(8155);class Pe{constructor(t,e,n=!1,o=void 0){this.themesExtPoint=t,this.create=e,this.idRequired=n,this.builtInTheme=o,this.onDidChangeEmitter=new fe.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.extensionThemes=[],this.initialize()}initialize(){this.themesExtPoint.setHandler((t,e)=>{const n={},o=[];for(const s of this.extensionThemes)n[s.id]=s;this.extensionThemes.length=0;for(const s of t){const a=l.VX.fromName(s.description.publisher,s.description.name,s.description.isBuiltin);this.onThemes(a,s.description.extensionLocation,s.value,this.extensionThemes,s.collector)}for(const s of this.extensionThemes)n[s.id]?delete n[s.id]:o.push(s);const i=Object.values(n);this.onDidChangeEmitter.fire({themes:this.extensionThemes,added:o,removed:i})})}onThemes(t,e,n,o=[],i){return Array.isArray(n)?(n.forEach(s=>{if(!s.path||!k.HD(s.path))return void i?.error(c.NC("reqpath","Expected string in `contributes.{0}.path`. Provided value: {1}",this.themesExtPoint.name,String(s.path)));if(this.idRequired&&(!s.id||!k.HD(s.id)))return void i?.error(c.NC("reqid","Expected string in `contributes.{0}.id`. Provided value: {1}",this.themesExtPoint.name,String(s.id)));const a=L.Vo(e,s.path);L.KM(a,e)||i?.warn(c.NC("invalid.path.1","Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.",this.themesExtPoint.name,a.path,e.path));const h=this.create(s,a,t);o.push(h)}),o):(i?.error(c.NC("reqarray","Extension point `{0}` must be an array.",this.themesExtPoint.name)),o)}findThemeById(t){if(this.builtInTheme&&this.builtInTheme.id===t)return this.builtInTheme;const e=this.getThemes();for(const n of e)if(n.id===t)return n}findThemeBySettingsId(t,e){if(this.builtInTheme&&this.builtInTheme.settingsId===t)return this.builtInTheme;const n=this.getThemes();let o;for(const i of n){if(i.settingsId===t)return i;i.settingsId===e&&(o=i)}return o}findThemeByExtensionLocation(t){return t?this.getThemes().filter(e=>e.location&&L.KM(e.location,t)):[]}getThemes(){return this.extensionThemes}getMarketplaceThemes(t,e,n){const o=t?.contributes?.[this.themesExtPoint.name];return Array.isArray(o)?this.onThemes(n,e,o):[]}}var Xt=y(84776),et=y(84621);const ie=q.B.as(Xt.IP.Configuration),W=[],X=[],J=[];function $(r){return`\`#${r}#\``}const Jt={type:"string",description:c.NC("colorTheme","Specifies the color theme used in the workbench."),default:et.$L?l.Rg.COLOR_THEME_LIGHT:l.Rg.COLOR_THEME_DARK,enum:W,enumDescriptions:J,enumItemLabels:X,errorMessage:c.NC("colorThemeError","Theme is unknown or not installed.")},Yt={type:"string",markdownDescription:c.NC({key:"preferredDarkColorTheme",comment:["{0} will become a link to another setting."]},"Specifies the preferred color theme for dark OS appearance when {0} is enabled.",$(l.fM.DETECT_COLOR_SCHEME)),default:l.Rg.COLOR_THEME_DARK,enum:W,enumDescriptions:J,enumItemLabels:X,errorMessage:c.NC("colorThemeError","Theme is unknown or not installed.")},Qt={type:"string",markdownDescription:c.NC({key:"preferredLightColorTheme",comment:["{0} will become a link to another setting."]},"Specifies the preferred color theme for light OS appearance when {0} is enabled.",$(l.fM.DETECT_COLOR_SCHEME)),default:l.Rg.COLOR_THEME_LIGHT,enum:W,enumDescriptions:J,enumItemLabels:X,errorMessage:c.NC("colorThemeError","Theme is unknown or not installed.")},qt={type:"string",markdownDescription:c.NC({key:"preferredHCDarkColorTheme",comment:["{0} will become a link to another setting."]},"Specifies the preferred color theme used in high contrast dark mode when {0} is enabled.",$(l.fM.DETECT_HC)),default:l.Rg.COLOR_THEME_HC_DARK,enum:W,enumDescriptions:J,enumItemLabels:X,errorMessage:c.NC("colorThemeError","Theme is unknown or not installed.")},en={type:"string",markdownDescription:c.NC({key:"preferredHCLightColorTheme",comment:["{0} will become a link to another setting."]},"Specifies the preferred color theme used in high contrast light mode when {0} is enabled.",$(l.fM.DETECT_HC)),default:l.Rg.COLOR_THEME_HC_LIGHT,enum:W,enumDescriptions:J,enumItemLabels:X,errorMessage:c.NC("colorThemeError","Theme is unknown or not installed.")},tn={type:"boolean",markdownDescription:c.NC({key:"detectColorScheme",comment:["{0} and {1} will become links to other settings."]},"If set, automatically switch to the preferred color theme based on the OS appearance. If the OS appearance is dark, the theme specified at {0} is used, for light {1}.",$(l.fM.PREFERRED_DARK_THEME),$(l.fM.PREFERRED_LIGHT_THEME)),default:!1},tt={type:"object",description:c.NC("workbenchColors","Overrides colors from the currently selected color theme."),allOf:[{$ref:D.v7x}],default:{},defaultSnippets:[{body:{}}]},pe={type:["string","null"],default:l.Rg.FILE_ICON_THEME,description:c.NC("iconTheme","Specifies the file icon theme used in the workbench or 'null' to not show any file icons."),enum:[null],enumItemLabels:[c.NC("noIconThemeLabel","None")],enumDescriptions:[c.NC("noIconThemeDesc","No file icons")],errorMessage:c.NC("iconThemeError","File icon theme is unknown or not installed.")},Te={type:["string","null"],default:l.Rg.PRODUCT_ICON_THEME,description:c.NC("productIconTheme","Specifies the product icon theme used."),enum:[l.Rg.PRODUCT_ICON_THEME],enumItemLabels:[c.NC("defaultProductIconThemeLabel","Default")],enumDescriptions:[c.NC("defaultProductIconThemeDesc","Default")],errorMessage:c.NC("productIconThemeError","Product icon theme is unknown or not installed.")},nn={type:"boolean",default:!0,markdownDescription:c.NC({key:"autoDetectHighContrast",comment:["{0} and {1} will become links to other settings."]},"If enabled, will automatically change to high contrast theme if the OS is using a high contrast theme. The high contrast theme to use is specified by {0} and {1}",$(l.fM.PREFERRED_HC_DARK_THEME),$(l.fM.PREFERRED_HC_LIGHT_THEME)),scope:1},Ce={id:"workbench",order:7.1,type:"object",properties:{[l.fM.COLOR_THEME]:Jt,[l.fM.PREFERRED_DARK_THEME]:Yt,[l.fM.PREFERRED_LIGHT_THEME]:Qt,[l.fM.PREFERRED_HC_DARK_THEME]:qt,[l.fM.PREFERRED_HC_LIGHT_THEME]:en,[l.fM.FILE_ICON_THEME]:pe,[l.fM.COLOR_CUSTOMIZATIONS]:tt,[l.fM.PRODUCT_ICON_THEME]:Te}};function Y(r){return{description:r,$ref:$t}}ie.registerConfiguration(Ce),ie.registerConfiguration({id:"window",order:8.1,type:"object",properties:{[l.fM.DETECT_HC]:nn,[l.fM.DETECT_COLOR_SCHEME]:tn}});const Le="^\\[[^\\]]*(\\]\\s*\\[[^\\]]*)*\\]$",nt={type:"object",properties:{comments:Y(c.NC("editorColors.comments","Sets the colors and styles for comments")),strings:Y(c.NC("editorColors.strings","Sets the colors and styles for strings literals.")),keywords:Y(c.NC("editorColors.keywords","Sets the colors and styles for keywords.")),numbers:Y(c.NC("editorColors.numbers","Sets the colors and styles for number literals.")),types:Y(c.NC("editorColors.types","Sets the colors and styles for type declarations and references.")),functions:Y(c.NC("editorColors.functions","Sets the colors and styles for functions declarations and references.")),variables:Y(c.NC("editorColors.variables","Sets the colors and styles for variables declarations and references.")),textMateRules:{description:c.NC("editorColors.textMateRules","Sets colors and styles using textmate theming rules (advanced)."),$ref:ge},semanticHighlighting:{description:c.NC("editorColors.semanticHighlighting","Whether semantic highlighting should be enabled for this theme."),deprecationMessage:c.NC("editorColors.semanticHighlighting.deprecationMessage","Use `enabled` in `editor.semanticTokenColorCustomizations` setting instead."),markdownDeprecationMessage:c.NC({key:"editorColors.semanticHighlighting.deprecationMessageMarkdown",comment:["{0} will become a link to another setting."]},"Use `enabled` in {0} setting instead.",$("editor.semanticTokenColorCustomizations")),type:"boolean"}},additionalProperties:!1},ot={description:c.NC("editorColors","Overrides editor syntax colors and font style from the currently selected color theme."),default:{},allOf:[{...nt,patternProperties:{"^\\[":{}}}]},Oe={type:"object",properties:{enabled:{type:"boolean",description:c.NC("editorColors.semanticHighlighting.enabled","Whether semantic highlighting is enabled or disabled for this theme"),suggestSortText:"0_enabled"},rules:{$ref:A.SA,description:c.NC("editorColors.semanticHighlighting.rules","Semantic token styling rules for this theme."),suggestSortText:"0_rules"}},additionalProperties:!1},it={description:c.NC("semanticTokenColors","Overrides editor semantic token color and styles from the currently selected color theme."),default:{},allOf:[{...Oe,patternProperties:{"^\\[":{}}}]},rt={id:"editor",order:7.2,type:"object",properties:{[l.fM.TOKEN_COLOR_CUSTOMIZATIONS]:ot,[l.fM.SEMANTIC_TOKEN_COLOR_CUSTOMIZATIONS]:it}};function st(r){r.sort((s,a)=>s.label.localeCompare(a.label)),W.splice(0,W.length,...r.map(s=>s.settingsId)),J.splice(0,J.length,...r.map(s=>s.description||"")),X.splice(0,X.length,...r.map(s=>s.label||""));const t={properties:{}},e={properties:{}},n={properties:{}},o={$ref:D.v7x,additionalProperties:!1},i={properties:nt.properties,additionalProperties:!1};for(const s of r){const a=`[${s.settingsId}]`;t.properties[a]=o,e.properties[a]=i,n.properties[a]=Oe}t.patternProperties={[Le]:o},e.patternProperties={[Le]:i},n.patternProperties={[Le]:Oe},tt.allOf[1]=t,ot.allOf[1]=e,it.allOf[1]=n,ie.notifyConfigurationSchemaUpdated(Ce,rt)}function ct(r){pe.enum.splice(1,Number.MAX_VALUE,...r.map(t=>t.settingsId)),pe.enumItemLabels.splice(1,Number.MAX_VALUE,...r.map(t=>t.label)),pe.enumDescriptions.splice(1,Number.MAX_VALUE,...r.map(t=>t.description||"")),ie.notifyConfigurationSchemaUpdated(Ce)}function at(r){Te.enum.splice(1,Number.MAX_VALUE,...r.map(t=>t.settingsId)),Te.enumItemLabels.splice(1,Number.MAX_VALUE,...r.map(t=>t.label)),Te.enumDescriptions.splice(1,Number.MAX_VALUE,...r.map(t=>t.description||"")),ie.notifyConfigurationSchemaUpdated(Ce)}ie.registerConfiguration(rt);class rn{constructor(t){this.configurationService=t}get colorTheme(){return this.configurationService.getValue(l.fM.COLOR_THEME)}get fileIconTheme(){return this.configurationService.getValue(l.fM.FILE_ICON_THEME)}get productIconTheme(){return this.configurationService.getValue(l.fM.PRODUCT_ICON_THEME)}get colorCustomizations(){return this.configurationService.getValue(l.fM.COLOR_CUSTOMIZATIONS)||{}}get tokenColorCustomizations(){return this.configurationService.getValue(l.fM.TOKEN_COLOR_CUSTOMIZATIONS)||{}}get semanticTokenColorCustomizations(){return this.configurationService.getValue(l.fM.SEMANTIC_TOKEN_COLOR_CUSTOMIZATIONS)}setColorTheme(t,e){var n=this;return(0,I.Z)(function*(){return yield n.writeConfiguration(l.fM.COLOR_THEME,t.settingsId,e),t})()}setFileIconTheme(t,e){var n=this;return(0,I.Z)(function*(){return yield n.writeConfiguration(l.fM.FILE_ICON_THEME,t.settingsId,e),t})()}setProductIconTheme(t,e){var n=this;return(0,I.Z)(function*(){return yield n.writeConfiguration(l.fM.PRODUCT_ICON_THEME,t.settingsId,e),t})()}isDefaultColorTheme(){const t=this.configurationService.inspect(l.fM.COLOR_THEME);return t&&t.default?.value===t.value}findAutoConfigurationTarget(t){const e=this.configurationService.inspect(t);return k.o8(e.workspaceFolderValue)?k.o8(e.workspaceValue)?k.o8(e.userRemote)?2:4:5:6}writeConfiguration(t,e,n){var o=this;return(0,I.Z)(function*(){if(void 0===n||"preview"===n)return;const i=o.configurationService.inspect(t);if("auto"===n)return o.configurationService.updateValue(t,e);if(2===n){if(e===i.userValue)return Promise.resolve(void 0);if(e===i.defaultValue){if(k.o8(i.userValue))return Promise.resolve(void 0);e=void 0}}else if((5===n||6===n||4===n)&&e===i.value)return Promise.resolve(void 0);return o.configurationService.updateValue(t,e,n)})()}}var lt=y(52786);let re=(()=>{class r{constructor(e,n,o){this.iconThemeDocument={iconDefinitions:new Map},this.id=e,this.label=n,this.settingsId=o,this.isLoaded=!1}getIcon(e){return function an(r,t){const e=t.iconDefinitions;let n=e.get(r.id),o=r.defaults;for(;!n&&lt.kS.isThemeIcon(o);){const i=cn.getIcon(o.id);if(!i)return;n=e.get(i.id),o=i.defaults}return n||(lt.kS.isThemeIcon(o)?void 0:o)}(e,this.iconThemeDocument)}ensureLoaded(e,n){return this.isLoaded?Promise.resolve(this.styleSheetContent):this.load(e,n)}reload(e,n){return this.load(e,n)}load(e,n){var o=this;return(0,I.Z)(function*(){const i=o.location;if(!i)return Promise.resolve(o.styleSheetContent);const s=[];return o.iconThemeDocument=yield function sn(r,t,e){return r.readExtensionResource(t).then(n=>{const o=[],i=ee.Qc(n,o);if(o.length>0)return Promise.reject(new Error(c.NC("error.cannotparseicontheme","Problems parsing product icons file: {0}",o.map(f=>(0,ve.i)(f.error)).join(", "))));if("object"!==ee.jo(i))return Promise.reject(new Error(c.NC("error.invalidformat","Invalid format for product icons theme file: Object expected.")));if(!i.iconDefinitions||!Array.isArray(i.fonts)||!i.fonts.length)return Promise.reject(new Error(c.NC("error.missingProperties","Invalid format for product icons theme file: Must contain iconDefinitions and fonts.")));const s=L.XX(t),a=new Map;for(const f of i.fonts)if((0,k.HD)(f.id)&&f.id.match(we)){const S=f.id;let T,u;(0,k.HD)(f.weight)&&f.weight.match(Me)?T=f.weight:e.push(c.NC("error.fontWeight","Invalid font weight in font '{0}'. Ignoring setting.",f.id)),(0,k.HD)(f.style)&&f.style.match(Ne)?u=f.style:e.push(c.NC("error.fontStyle","Invalid font style in font '{0}'. Ignoring setting.",f.id));const p=[];if(Array.isArray(f.src))for(const C of f.src)if((0,k.HD)(C.path)&&(0,k.HD)(C.format)&&C.format.match("^woff|woff2|truetype|opentype|embedded-opentype|svg$")){const b=L.Vo(s,C.path);p.push({location:b,format:C.format})}else e.push(c.NC("error.fontSrc","Invalid font source in font '{0}'. Ignoring source.",f.id));p.length?a.set(S,{weight:T,style:u,src:p}):e.push(c.NC("error.noFontSrc","No valid font source in font '{0}'. Ignoring font definition.",f.id))}else e.push(c.NC("error.fontId","Missing or invalid font id '{0}'. Skipping font definition.",f.id));const h=new Map,m=i.fonts[0].id;for(const f in i.iconDefinitions){const S=i.iconDefinitions[f];if((0,k.HD)(S.fontCharacter)){const T=S.fontId??m,u=a.get(T);u?h.set(f,{fontCharacter:S.fontCharacter,font:{id:`pi-${T}`,definition:u}}):e.push(c.NC("error.icon.font","Skipping icon definition '{0}'. Unknown font.",f))}else e.push(c.NC("error.icon.fontCharacter","Skipping icon definition '{0}'. Unknown fontCharacter.",f))}return{iconDefinitions:h}})}(e,i,s),o.isLoaded=!0,s.length&&n.error(c.NC("error.parseicondefs","Problems processing product icons definitions in {0}:\n{1}",i.toString(),s.join("\n"))),o.styleSheetContent})()}static fromExtensionTheme(e,n,o){const i=o.extensionId+"-"+e.id,s=e.label||be.EZ(e.path),h=new r(i,s,e.id);return h.description=e.description,h.location=n,h.extensionData=o,h.watch=e._watch,h.isLoaded=!1,h}static createUnloadedTheme(e){const n=new r(e,"","__"+e);return n.isLoaded=!1,n.extensionData=void 0,n.watch=!1,n}static get defaultTheme(){let e=r._defaultProductIconTheme;return e||(e=r._defaultProductIconTheme=new r("",c.NC("defaultTheme","Default"),l.Rg.PRODUCT_ICON_THEME),e.isLoaded=!0,e.extensionData=void 0,e.watch=!1),e}static fromStorageData(e){const n=e.get(r.STORAGE_KEY,0);if(n)try{const o=JSON.parse(n),i=new r("","","");for(const h in o)switch(h){case"id":case"label":case"description":case"settingsId":case"styleSheetContent":case"watch":i[h]=o[h];break;case"location":break;case"extensionData":i.extensionData=l.VX.fromJSONObject(o.extensionData)}const{iconDefinitions:s,iconFontDefinitions:a}=o;if(Array.isArray(s)&&(0,k.Kn)(a)){const h=new Map;for(const m of s){const{id:f,fontCharacter:S,fontId:T}=m;if((0,k.HD)(f)&&(0,k.HD)(S))if((0,k.HD)(T)){const u=ue.ZP.fromJSONObject(a[T]);u&&h.set(f,{fontCharacter:S,font:{id:T,definition:u}})}else h.set(f,{fontCharacter:S})}i.iconThemeDocument={iconDefinitions:h}}return i}catch{return}}toStorage(e){const n=[],o={};for(const s of this.iconThemeDocument.iconDefinitions.entries()){const a=s[1].font;n.push({id:s[0],fontCharacter:s[1].fontCharacter,fontId:a?.id}),a&&void 0===o[a.id]&&(o[a.id]=ue.ZP.toJSONObject(a.definition))}const i=JSON.stringify({id:this.id,label:this.label,description:this.description,settingsId:this.settingsId,styleSheetContent:this.styleSheetContent,watch:this.watch,extensionData:l.VX.toJSONObject(this.extensionData),iconDefinitions:n,iconFontDefinitions:o});e.store(r.STORAGE_KEY,i,0,1)}}return r.STORAGE_KEY="productIconThemeData",r._defaultProductIconTheme=null,r})();const cn=(0,ue.Ks)();var ln=y(99740),hn=y(98960),Se=y(26056),dn=y(93990),fn=y(61585),un=y(49698);const ae="osColorScheme",Ie="vscode-theme-defaults",He="vscode.vscode-theme-seti-vs-seti",ht="file-icons-enabled",dt=q.B.as(ke.IP.ThemingContribution),Cn=function _t(){return De.ut.registerExtensionPoint({extensionPoint:"themes",jsonSchema:{description:c.NC("vscode.extension.contributes.themes","Contributes textmate color themes."),type:"array",items:{type:"object",defaultSnippets:[{body:{label:"${1:label}",id:"${2:id}",uiTheme:l.sQ,path:"./themes/${3:id}.tmTheme."}}],properties:{id:{description:c.NC("vscode.extension.contributes.themes.id","Id of the color theme as used in the user settings."),type:"string"},label:{description:c.NC("vscode.extension.contributes.themes.label","Label of the color theme as shown in the UI."),type:"string"},uiTheme:{description:c.NC("vscode.extension.contributes.themes.uiTheme","Base theme defining the colors around the editor: 'vs' is the light color theme, 'vs-dark' is the dark color theme. 'hc-black' is the dark high contrast theme, 'hc-light' is the light high contrast theme."),enum:[l.Cd,l.sQ,l.B5,l.uD]},path:{description:c.NC("vscode.extension.contributes.themes.path","Path of the tmTheme file. The path is relative to the extension folder and is typically './colorthemes/awesome-color-theme.json'."),type:"string"}},required:["path","uiTheme"]}}})}(),yn=function Kt(){return De.ut.registerExtensionPoint({extensionPoint:"iconThemes",jsonSchema:{description:c.NC("vscode.extension.contributes.iconThemes","Contributes file icon themes."),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:id}",label:"${2:label}",path:"./fileicons/${3:id}-icon-theme.json"}}],properties:{id:{description:c.NC("vscode.extension.contributes.iconThemes.id","Id of the file icon theme as used in the user settings."),type:"string"},label:{description:c.NC("vscode.extension.contributes.iconThemes.label","Label of the file icon theme as shown in the UI."),type:"string"},path:{description:c.NC("vscode.extension.contributes.iconThemes.path","Path of the file icon theme definition file. The path is relative to the extension folder and is typically './fileicons/awesome-icon-theme.json'."),type:"string"}},required:["path","id"]}}})}(),Sn=function Wt(){return De.ut.registerExtensionPoint({extensionPoint:"productIconThemes",jsonSchema:{description:c.NC("vscode.extension.contributes.productIconThemes","Contributes product icon themes."),type:"array",items:{type:"object",defaultSnippets:[{body:{id:"${1:id}",label:"${2:label}",path:"./producticons/${3:id}-product-icon-theme.json"}}],properties:{id:{description:c.NC("vscode.extension.contributes.productIconThemes.id","Id of the product icon theme as used in the user settings."),type:"string"},label:{description:c.NC("vscode.extension.contributes.productIconThemes.label","Label of the product icon theme as shown in the UI."),type:"string"},path:{description:c.NC("vscode.extension.contributes.productIconThemes.path","Path of the product icon theme definition file. The path is relative to the extension folder and is typically './producticons/awesome-product-icon-theme.json'."),type:"string"}},required:["path","id"]}}})}();let Ae=class{constructor(t,e,n,o,i,s,a,h,m,f,S,T){this.storageService=e,this.configurationService=n,this.telemetryService=o,this.environmentService=i,this.extensionResourceLoaderService=a,this.logService=m,this.hostColorService=f,this.hasDefaultUpdated=!1,this.themeExtensionsActivated=new Map,this.container=h.container,this.settings=new rn(n),this.colorThemeRegistry=new Pe(Cn,K.fromExtensionTheme),this.colorThemeWatcher=new Fe(s,i,this.reloadCurrentColorTheme.bind(this)),this.onColorThemeChange=new fe.Q5({leakWarningThreshold:400}),this.currentColorTheme=K.createUnloadedTheme(""),this.colorThemeSequencer=new Se.qB,this.fileIconThemeWatcher=new Fe(s,i,this.reloadCurrentFileIconTheme.bind(this)),this.fileIconThemeRegistry=new Pe(yn,oe.fromExtensionTheme,!0,oe.noIconTheme),this.fileIconThemeLoader=new At(a,T),this.onFileIconThemeChange=new fe.Q5({leakWarningThreshold:400}),this.currentFileIconTheme=oe.createUnloadedTheme(""),this.fileIconThemeSequencer=new Se.qB,this.productIconThemeWatcher=new Fe(s,i,this.reloadCurrentProductIconTheme.bind(this)),this.productIconThemeRegistry=new Pe(Sn,re.fromExtensionTheme,!0,re.defaultTheme),this.onProductIconThemeChange=new fe.Q5,this.currentProductIconTheme=re.createUnloadedTheme(""),this.productIconThemeSequencer=new Se.qB;let u=K.fromStorageData(this.storageService);const p=this.settings.colorTheme;u&&p!==u.settingsId&&this.settings.isDefaultColorTheme()&&(this.hasDefaultUpdated=u.settingsId===l.Rg.COLOR_THEME_DARK_OLD||u.settingsId===l.Rg.COLOR_THEME_LIGHT_OLD,u=void 0);const C=this.getPreferredColorScheme(),b=p===l.Rg.COLOR_THEME_LIGHT?l.g:p===l.Rg.COLOR_THEME_DARK?l.Q0:void 0;if(C&&u?.type!==C&&this.storageService.get(ae,-1)!==C&&(u=K.createUnloadedThemeForThemeType(C,void 0)),!u){const F=i.options?.initialColorTheme;F&&(u=K.createUnloadedThemeForThemeType(F.themeType,F.colors??b))}u||(u=K.createUnloadedThemeForThemeType(et.$L?R.eL.LIGHT:R.eL.DARK,b)),u.setCustomizations(this.settings),this.applyTheme(u,void 0,!0);const g=oe.fromStorageData(this.storageService);g&&this.applyAndSetFileIconTheme(g,!0);const E=re.fromStorageData(this.storageService);E&&this.applyAndSetProductIconTheme(E,!0),Promise.all([t.whenInstalledExtensionsRegistered(),S.whenInitializationFinished()]).then(F=>{this.installConfigurationListener(),this.installPreferredSchemeListener(),this.installRegistryListeners(),this.initialize().catch(pt.dL)});const O=(0,ce.dS)();O.id="codiconStyles";const v=(0,fn.J)(this),U=new Se.pY(function Q(){O.textContent=v.getCSS()},0);v.onDidChange(()=>U.schedule()),U.schedule()}initialize(){var t=this;const e=this.environmentService.extensionDevelopmentLocationURI,n=e&&1===e.length?e[0]:void 0,o=function(){var a=(0,I.Z)(function*(){const h=t.colorThemeRegistry.findThemeByExtensionLocation(n);if(h.length)return t.setColorTheme(h[0].id,8);const f=t.colorThemeRegistry.findThemeBySettingsId(t.settings.colorTheme,t.currentColorTheme.type===R.eL.LIGHT?l.Rg.COLOR_THEME_LIGHT:l.Rg.COLOR_THEME_DARK),S=t.getPreferredColorScheme();return S!==t.storageService.get(ae,-1)&&(t.storageService.store(ae,S,-1,0),S&&f?.type!==S)?t.applyPreferredColorTheme(S):t.setColorTheme(f&&f.id,void 0)});return function(){return a.apply(this,arguments)}}(),i=function(){var a=(0,I.Z)(function*(){const h=t.fileIconThemeRegistry.findThemeByExtensionLocation(n);if(h.length)return t.setFileIconTheme(h[0].id,8);const m=t.fileIconThemeRegistry.findThemeBySettingsId(t.settings.fileIconTheme);return t.setFileIconTheme(m?m.id:He,void 0)});return function(){return a.apply(this,arguments)}}(),s=function(){var a=(0,I.Z)(function*(){const h=t.productIconThemeRegistry.findThemeByExtensionLocation(n);if(h.length)return t.setProductIconTheme(h[0].id,8);const m=t.productIconThemeRegistry.findThemeBySettingsId(t.settings.productIconTheme);return t.setProductIconTheme(m?m.id:"",void 0)});return function(){return a.apply(this,arguments)}}();return Promise.all([o(),i(),s()])}installConfigurationListener(){this.configurationService.onDidChangeConfiguration(t=>{let e=null;const n=()=>(null===e&&(e=this.getPreferredColorScheme()),e);if(t.affectsConfiguration(l.fM.COLOR_THEME)&&this.restoreColorTheme(),(t.affectsConfiguration(l.fM.DETECT_COLOR_SCHEME)||t.affectsConfiguration(l.fM.DETECT_HC))&&this.handlePreferredSchemeUpdated(),t.affectsConfiguration(l.fM.PREFERRED_DARK_THEME)&&n()===R.eL.DARK&&this.applyPreferredColorTheme(R.eL.DARK),t.affectsConfiguration(l.fM.PREFERRED_LIGHT_THEME)&&n()===R.eL.LIGHT&&this.applyPreferredColorTheme(R.eL.LIGHT),t.affectsConfiguration(l.fM.PREFERRED_HC_DARK_THEME)&&n()===R.eL.HIGH_CONTRAST_DARK&&this.applyPreferredColorTheme(R.eL.HIGH_CONTRAST_DARK),t.affectsConfiguration(l.fM.PREFERRED_HC_LIGHT_THEME)&&n()===R.eL.HIGH_CONTRAST_LIGHT&&this.applyPreferredColorTheme(R.eL.HIGH_CONTRAST_LIGHT),t.affectsConfiguration(l.fM.FILE_ICON_THEME)&&this.restoreFileIconTheme(),t.affectsConfiguration(l.fM.PRODUCT_ICON_THEME)&&this.restoreProductIconTheme(),this.currentColorTheme){let o=!1;t.affectsConfiguration(l.fM.COLOR_CUSTOMIZATIONS)&&(this.currentColorTheme.setCustomColors(this.settings.colorCustomizations),o=!0),t.affectsConfiguration(l.fM.TOKEN_COLOR_CUSTOMIZATIONS)&&(this.currentColorTheme.setCustomTokenColors(this.settings.tokenColorCustomizations),o=!0),t.affectsConfiguration(l.fM.SEMANTIC_TOKEN_COLOR_CUSTOMIZATIONS)&&(this.currentColorTheme.setCustomSemanticTokenColors(this.settings.semanticTokenColorCustomizations),o=!0),o&&(this.updateDynamicCSSRules(this.currentColorTheme),this.onColorThemeChange.fire(this.currentColorTheme))}})}installRegistryListeners(){var t=this;let e,n,o;return this.colorThemeRegistry.onDidChange(function(){var i=(0,I.Z)(function*(s){if(st(s.themes),yield t.restoreColorTheme())t.currentColorTheme.settingsId===l.Rg.COLOR_THEME_DARK&&!k.o8(e)&&(yield t.colorThemeRegistry.findThemeById(e))?(yield t.setColorTheme(e,"auto"),e=void 0):s.added.some(a=>a.settingsId===t.currentColorTheme.settingsId)&&(yield t.reloadCurrentColorTheme());else if(s.removed.some(a=>a.settingsId===t.currentColorTheme.settingsId)){e=t.currentColorTheme.id;const a=t.colorThemeRegistry.findThemeBySettingsId(l.Rg.COLOR_THEME_DARK);yield t.setColorTheme(a,"auto")}});return function(s){return i.apply(this,arguments)}}()),this.fileIconThemeRegistry.onDidChange(function(){var i=(0,I.Z)(function*(s){ct(s.themes),(yield t.restoreFileIconTheme())?t.currentFileIconTheme.id===He&&!k.o8(n)&&t.fileIconThemeRegistry.findThemeById(n)?(yield t.setFileIconTheme(n,"auto"),n=void 0):s.added.some(a=>a.settingsId===t.currentFileIconTheme.settingsId)&&(yield t.reloadCurrentFileIconTheme()):s.removed.some(a=>a.settingsId===t.currentFileIconTheme.settingsId)&&(n=t.currentFileIconTheme.id,yield t.setFileIconTheme(He,"auto"))});return function(s){return i.apply(this,arguments)}}()),this.productIconThemeRegistry.onDidChange(function(){var i=(0,I.Z)(function*(s){at(s.themes),(yield t.restoreProductIconTheme())?""===t.currentProductIconTheme.id&&!k.o8(o)&&t.productIconThemeRegistry.findThemeById(o)?(yield t.setProductIconTheme(o,"auto"),o=void 0):s.added.some(a=>a.settingsId===t.currentProductIconTheme.settingsId)&&(yield t.reloadCurrentProductIconTheme()):s.removed.some(a=>a.settingsId===t.currentProductIconTheme.settingsId)&&(o=t.currentProductIconTheme.id,yield t.setProductIconTheme("","auto"))});return function(s){return i.apply(this,arguments)}}()),Promise.all([this.getColorThemes(),this.getFileIconThemes(),this.getProductIconThemes()]).then(([i,s,a])=>{st(i),ct(s),at(a)})}installPreferredSchemeListener(){this.hostColorService.onDidChangeColorScheme(()=>this.handlePreferredSchemeUpdated())}handlePreferredSchemeUpdated(){var t=this;return(0,I.Z)(function*(){const e=t.getPreferredColorScheme(),n=t.storageService.get(ae,-1);if(e!==n){if(t.storageService.store(ae,e,-1,1),e)return n||(t.themeSettingIdBeforeSchemeSwitch=t.settings.colorTheme),t.applyPreferredColorTheme(e);if(n&&t.themeSettingIdBeforeSchemeSwitch){const o=t.colorThemeRegistry.findThemeBySettingsId(t.themeSettingIdBeforeSchemeSwitch,void 0);o&&t.setColorTheme(o.id,"auto")}}})()}getPreferredColorScheme(){return this.configurationService.getValue(l.fM.DETECT_HC)&&this.hostColorService.highContrast?this.hostColorService.dark?R.eL.HIGH_CONTRAST_DARK:R.eL.HIGH_CONTRAST_LIGHT:this.configurationService.getValue(l.fM.DETECT_COLOR_SCHEME)?this.hostColorService.dark?R.eL.DARK:R.eL.LIGHT:void 0}applyPreferredColorTheme(t){var e=this;return(0,I.Z)(function*(){let n;switch(t){case R.eL.LIGHT:n=l.fM.PREFERRED_LIGHT_THEME;break;case R.eL.HIGH_CONTRAST_DARK:n=l.fM.PREFERRED_HC_DARK_THEME;break;case R.eL.HIGH_CONTRAST_LIGHT:n=l.fM.PREFERRED_HC_LIGHT_THEME;break;default:n=l.fM.PREFERRED_DARK_THEME}const o=e.configurationService.getValue(n);if(o&&"string"==typeof o){const i=e.colorThemeRegistry.findThemeBySettingsId(o,void 0);if(i){const s=e.settings.findAutoConfigurationTarget(n);return e.setColorTheme(i.id,s)}}return null})()}hasUpdatedDefaultThemes(){return this.hasDefaultUpdated}getColorTheme(){return this.currentColorTheme}getColorThemes(){var t=this;return(0,I.Z)(function*(){return t.colorThemeRegistry.getThemes()})()}getMarketplaceColorThemes(t,e,n){var o=this;return(0,I.Z)(function*(){const i=o.extensionResourceLoaderService.getExtensionGalleryResourceURL({publisher:t,name:e,version:n},"extension");if(i)try{const s=yield o.extensionResourceLoaderService.readExtensionResource(L.Vo(i,"package.json"));return o.colorThemeRegistry.getMarketplaceThemes(JSON.parse(s),i,l.VX.fromName(t,e))}catch(s){o.logService.error("Problem loading themes from marketplace",s)}return[]})()}get onDidColorThemeChange(){return this.onColorThemeChange.event}setColorTheme(t,e){var n=this;return this.colorThemeSequencer.queue((0,I.Z)(function*(){return n.internalSetColorTheme(t,e)}))}internalSetColorTheme(t,e){var n=this;return(0,I.Z)(function*(){if(!t)return null;const o=k.HD(t)?function Tn(r){switch(r){case l.Cd:return`vs ${Ie}-themes-light_vs-json`;case l.sQ:return`vs-dark ${Ie}-themes-dark_vs-json`;case l.B5:return`hc-black ${Ie}-themes-hc_black-json`;case l.uD:return`hc-light ${Ie}-themes-hc_light-json`}return r}(t):t.id;if(n.currentColorTheme.isLoaded&&o===n.currentColorTheme.id)return"preview"!==e&&n.currentColorTheme.toStorage(n.storageService),n.settings.setColorTheme(n.currentColorTheme,e);let i=n.colorThemeRegistry.findThemeById(o);if(!i){if(!(t instanceof K))return null;i=t}try{return yield i.ensureLoaded(n.extensionResourceLoaderService),i.setCustomizations(n.settings),n.applyTheme(i,e)}catch(s){throw new Error(c.NC("error.cannotloadtheme","Unable to load {0}: {1}",i.location?.toString(),s.message))}})()}reloadCurrentColorTheme(){var t=this;return this.colorThemeSequencer.queue((0,I.Z)(function*(){try{const e=t.colorThemeRegistry.findThemeBySettingsId(t.currentColorTheme.settingsId)||t.currentColorTheme;yield e.reload(t.extensionResourceLoaderService),e.setCustomizations(t.settings),yield t.applyTheme(e,void 0,!1)}catch{t.logService.info("Unable to reload {0}: {1}",t.currentColorTheme.location?.toString())}}))}restoreColorTheme(){var t=this;return(0,I.Z)(function*(){return t.colorThemeSequencer.queue((0,I.Z)(function*(){const e=t.settings.colorTheme,n=t.colorThemeRegistry.findThemeBySettingsId(e);return!!n&&(e!==t.currentColorTheme.settingsId?yield t.internalSetColorTheme(n.id,void 0):n!==t.currentColorTheme&&(yield n.ensureLoaded(t.extensionResourceLoaderService),n.setCustomizations(t.settings),yield t.applyTheme(n,void 0,!0)),!0)}))})()}updateDynamicCSSRules(t){const e=new Set,n={addRule:i=>{e.has(i)||e.add(i)}};n.addRule(".monaco-workbench { forced-color-adjust: none; }"),dt.getThemingParticipants().forEach(i=>i(t,n,this.environmentService));const o=[];for(const i of(0,D.JI_)().getColors()){const s=t.getColor(i.id,!0);s&&o.push(`${(0,D.QO2)(i.id)}: ${s.toString()};`)}n.addRule(`.monaco-workbench { ${o.join("\n")} }`),je([...e].join("\n"),"contributedColorTheme")}applyTheme(t,e,n=!1){return this.updateDynamicCSSRules(t),this.currentColorTheme.id?this.container.classList.remove(...this.currentColorTheme.classNames):this.container.classList.remove(l.sQ,l.Cd,l.B5,l.uD),this.container.classList.add(...t.classNames),this.currentColorTheme.clearCaches(),this.currentColorTheme=t,this.colorThemingParticipantChangeListener||(this.colorThemingParticipantChangeListener=dt.onThemingParticipantAdded(o=>this.updateDynamicCSSRules(this.currentColorTheme))),this.colorThemeWatcher.update(t),this.sendTelemetry(t.id,t.extensionData,"color"),n?Promise.resolve(null):(this.onColorThemeChange.fire(this.currentColorTheme),t.isLoaded&&"preview"!==e&&t.toStorage(this.storageService),this.settings.setColorTheme(this.currentColorTheme,e))}sendTelemetry(t,e,n){if(e){const o=n+e.extensionId;this.themeExtensionsActivated.get(o)||(this.telemetryService.publicLog2("activatePlugin",{id:e.extensionId,name:e.extensionName,isBuiltin:e.extensionIsBuiltin,publisherDisplayName:e.extensionPublisher,themeId:t}),this.themeExtensionsActivated.set(o,!0))}}getFileIconThemes(){var t=this;return(0,I.Z)(function*(){return t.fileIconThemeRegistry.getThemes()})()}getFileIconTheme(){return this.currentFileIconTheme}get onDidFileIconThemeChange(){return this.onFileIconThemeChange.event}setFileIconTheme(t,e){var n=this;return(0,I.Z)(function*(){return n.fileIconThemeSequencer.queue((0,I.Z)(function*(){return n.internalSetFileIconTheme(t,e)}))})()}internalSetFileIconTheme(t,e){var n=this;return(0,I.Z)(function*(){void 0===t&&(t="");const o=k.HD(t)?t:t.id;if(o!==n.currentFileIconTheme.id||!n.currentFileIconTheme.isLoaded){let s=n.fileIconThemeRegistry.findThemeById(o);!s&&t instanceof oe&&(s=t),s||(s=oe.noIconTheme),yield s.ensureLoaded(n.fileIconThemeLoader),n.applyAndSetFileIconTheme(s)}const i=n.currentFileIconTheme;return i.isLoaded&&"preview"!==e&&(!i.location||!(0,qe.ik)(i.location))&&i.toStorage(n.storageService),yield n.settings.setFileIconTheme(n.currentFileIconTheme,e),i})()}getMarketplaceFileIconThemes(t,e,n){var o=this;return(0,I.Z)(function*(){const i=o.extensionResourceLoaderService.getExtensionGalleryResourceURL({publisher:t,name:e,version:n},"extension");if(i)try{const s=yield o.extensionResourceLoaderService.readExtensionResource(L.Vo(i,"package.json"));return o.fileIconThemeRegistry.getMarketplaceThemes(JSON.parse(s),i,l.VX.fromName(t,e))}catch(s){o.logService.error("Problem loading themes from marketplace",s)}return[]})()}reloadCurrentFileIconTheme(){var t=this;return(0,I.Z)(function*(){return t.fileIconThemeSequencer.queue((0,I.Z)(function*(){yield t.currentFileIconTheme.reload(t.fileIconThemeLoader),t.applyAndSetFileIconTheme(t.currentFileIconTheme)}))})()}restoreFileIconTheme(){var t=this;return(0,I.Z)(function*(){return t.fileIconThemeSequencer.queue((0,I.Z)(function*(){const e=t.settings.fileIconTheme,n=t.fileIconThemeRegistry.findThemeBySettingsId(e);return!!n&&(e!==t.currentFileIconTheme.settingsId?yield t.internalSetFileIconTheme(n.id,void 0):n!==t.currentFileIconTheme&&(yield n.ensureLoaded(t.fileIconThemeLoader),t.applyAndSetFileIconTheme(n,!0)),!0)}))})()}applyAndSetFileIconTheme(t,e=!1){this.currentFileIconTheme=t,je(t.styleSheetContent,"contributedFileIconTheme"),t.id?this.container.classList.add(ht):this.container.classList.remove(ht),this.fileIconThemeWatcher.update(t),t.id&&this.sendTelemetry(t.id,t.extensionData,"fileIcon"),e||this.onFileIconThemeChange.fire(this.currentFileIconTheme)}getProductIconThemes(){var t=this;return(0,I.Z)(function*(){return t.productIconThemeRegistry.getThemes()})()}getProductIconTheme(){return this.currentProductIconTheme}get onDidProductIconThemeChange(){return this.onProductIconThemeChange.event}setProductIconTheme(t,e){var n=this;return(0,I.Z)(function*(){return n.productIconThemeSequencer.queue((0,I.Z)(function*(){return n.internalSetProductIconTheme(t,e)}))})()}internalSetProductIconTheme(t,e){var n=this;return(0,I.Z)(function*(){void 0===t&&(t="");const o=k.HD(t)?t:t.id;if(o!==n.currentProductIconTheme.id||!n.currentProductIconTheme.isLoaded){let s=n.productIconThemeRegistry.findThemeById(o);!s&&t instanceof re&&(s=t),s||(s=re.defaultTheme),yield s.ensureLoaded(n.extensionResourceLoaderService,n.logService),n.applyAndSetProductIconTheme(s)}const i=n.currentProductIconTheme;return i.isLoaded&&"preview"!==e&&(!i.location||!(0,qe.ik)(i.location))&&i.toStorage(n.storageService),yield n.settings.setProductIconTheme(n.currentProductIconTheme,e),i})()}getMarketplaceProductIconThemes(t,e,n){var o=this;return(0,I.Z)(function*(){const i=o.extensionResourceLoaderService.getExtensionGalleryResourceURL({publisher:t,name:e,version:n},"extension");if(i)try{const s=yield o.extensionResourceLoaderService.readExtensionResource(L.Vo(i,"package.json"));return o.productIconThemeRegistry.getMarketplaceThemes(JSON.parse(s),i,l.VX.fromName(t,e))}catch(s){o.logService.error("Problem loading themes from marketplace",s)}return[]})()}reloadCurrentProductIconTheme(){var t=this;return(0,I.Z)(function*(){return t.productIconThemeSequencer.queue((0,I.Z)(function*(){yield t.currentProductIconTheme.reload(t.extensionResourceLoaderService,t.logService),t.applyAndSetProductIconTheme(t.currentProductIconTheme)}))})()}restoreProductIconTheme(){var t=this;return(0,I.Z)(function*(){return t.productIconThemeSequencer.queue((0,I.Z)(function*(){const e=t.settings.productIconTheme,n=t.productIconThemeRegistry.findThemeBySettingsId(e);return!!n&&(e!==t.currentProductIconTheme.settingsId?yield t.internalSetProductIconTheme(n.id,void 0):n!==t.currentProductIconTheme&&(yield n.ensureLoaded(t.extensionResourceLoaderService,t.logService),t.applyAndSetProductIconTheme(n,!0)),!0)}))})()}applyAndSetProductIconTheme(t,e=!1){this.currentProductIconTheme=t,je(t.styleSheetContent,"contributedProductIconTheme"),this.productIconThemeWatcher.update(t),t.id&&this.sendTelemetry(t.id,t.extensionData,"productIcon"),e||this.onProductIconThemeChange.fire(this.currentProductIconTheme)}};Ae=(0,H.gn)([(0,H.fM)(0,ut.QS),(0,H.fM)(1,mt.Uy),(0,H.fM)(2,Tt.Ui),(0,H.fM)(3,gt.bU),(0,H.fM)(4,Ft.y),(0,H.fM)(5,jt.sn),(0,H.fM)(6,Vt.S),(0,H.fM)(7,Zt.z),(0,H.fM)(8,ln.VZ),(0,H.fM)(9,hn.t),(0,H.fM)(10,dn.o),(0,H.fM)(11,un.O)],Ae);class Fe{constructor(t,e,n){this.fileService=t,this.environmentService=e,this.onUpdate=n}update(t){L.Xy(t.location,this.watchedLocation)||(this.dispose(),t.location&&(t.watch||this.environmentService.isExtensionDevelopment)&&(this.watchedLocation=t.location,this.watcherDisposable=this.fileService.watch(t.location),this.fileService.onDidFilesChange(e=>{this.watchedLocation&&e.contains(this.watchedLocation,0)&&this.onUpdate()})))}dispose(){this.watcherDisposable=(0,Ye.B9)(this.watcherDisposable),this.fileChangeListener=(0,Ye.B9)(this.fileChangeListener),this.watchedLocation=void 0}}function je(r,t){const e=document.head.getElementsByClassName(t);if(0===e.length){const n=document.createElement("style");n.type="text/css",n.className=t,n.textContent=r,document.head.appendChild(n)}else e[0].textContent=r}(function Gt(){const r=q.B.as(Re.I.JSONContribution);r.registerSchema("vscode://schemas/color-theme",Bt),r.registerSchema(ge,Ut)})(),function Ht(){q.B.as(Re.I.JSONContribution).registerSchema("vscode://schemas/icon-theme",Ot)}(),function Pt(){q.B.as(Re.I.JSONContribution).registerSchema("vscode://schemas/product-icon-theme",Dt)}();var In=y(21462),bn=y(17653);class En extends Ae{registerEditorContainer(){return{dispose(){}}}setTheme(t){this.getColorThemes().then(e=>{setTimeout(()=>{this.setColorTheme(e.find(n=>n.settingsId===t)??t,8)})})}}function kn(){return{...(0,bn.default)(),[ke.XE.toString()]:new In.M(En)}}}}]);