(()=>{"use strict";var n,x={56374:(n,p,s)=>{var u=s(77737),a=s(52745);console.log("Running Dyvil Compiler Server in Web Worker"),self.addEventListener("message",f=>{const h=f.data.compile;if(h){const d=(0,a.V3)(h).resolve(new u._8([])).toString("js");self.postMessage({compiled:d})}})},77737:(n,p,s)=>{s.d(p,{_C:()=>y,gO:()=>_.gO,wT:()=>u.wT,dm:()=>u.dm,rF:()=>h.rF,eB:()=>u.eB,on:()=>_.on,v_:()=>u.v_,R9:()=>a.R9,WJ:()=>_.WJ,K9:()=>_.K9,gN:()=>u.gN,lX:()=>r,rX:()=>_.rX,t$:()=>i,n$:()=>u.n$,o6:()=>v,d2:()=>u.d2,ZJ:()=>g,Ly:()=>a.Ly,MX:()=>h.MX,jR:()=>c,e6:()=>a.e6,_8:()=>b._,sj:()=>_.sj,_w:()=>u._w,sW:()=>l,UX:()=>_.UX});var u=s(25447),a=s(84260),f=s(667),h=s(27426);class d extends f.NB{constructor(e){super(`expr:${e}`)}getType(){throw new Error(`${this.constructor.name}.getType not implemented`)}}class i extends d{constructor(e){super("literal"),this.representation=e}toString(){return this.representation}getType(){switch(this.representation.charAt(0)){case'"':return new h.MX("string");case"t":case"f":return new h.MX("boolean");default:return new h.MX("int")}}}class l extends d{constructor(e){super("variable"),this.name=e}toString(){return this.name}definition(){return this._variable}resolve(e){var t;return(0,a.Hk)(e,this.location,this.name)||this._variable||(this._variable||(this._variable=e.lookup(this.name,u.YN)||(0,a.Hj)(e,this.location,`variable ${this.name} not found`)),null===(t=this._variable)||void 0===t||t._references.push(this)),this}getType(){var e,t;return null!==(t=null===(e=this._variable)||void 0===e?void 0:e.type)&&void 0!==t?t:h.NI}}class r extends d{constructor(e,t){super("functionCall"),this.name=e,this.args=t}toString(e){return`${this.name}(${this.args.map(t=>t.toString(e)).join(", ")})`}definition(e){var t;return"rename"===e?null===(t=this._constructor)||void 0===t?void 0:t._thisClass:this._constructor}resolve(e){if(this.args=this.args.map(t=>t.resolve(e)),!this._constructor){const t=e.lookup(this.name,u.wT);if(t){const m=this.args.map(w=>w.getType()),k=t.lookup("init",u.v_,m);k?(this._constructor=k,k._references.push(this),t._references.push(this)):(0,a.Hj)(e,this.location,`constructor ${this.name}(${m.join(", ")}) not found`)}else(0,a.Hj)(e,this.location,`class or function ${this.name} not found`)}return this}getType(){var e,t,m;return null!==(m=null===(t=null===(e=this._constructor)||void 0===e?void 0:e._thisClass)||void 0===t?void 0:t.asType())&&void 0!==m?m:h.NI}}class c extends d{constructor(e,t){super("propertyAccess"),this.object=e,this.property=t}toString(e){return`${this.object.toString(e)}.${this.property}`}definition(){return this._field}resolve(e){var t;this.object=this.object.resolve(e);const m=this.object.getType();return(0,a.Hk)(e,this.location,this.property,{lookup:m})||this._field||(this._field||(this._field=m.lookup(this.property,u.gN)||(0,a.Hj)(e,this.location,`field ${this.property} not found on ${m}`)),null===(t=this._field)||void 0===t||t._references.push(this)),this}getType(){var e;return(null===(e=this._field)||void 0===e?void 0:e.type)||h.NI}}class v extends d{constructor(e,t,m){super("methodCall"),this.object=e,this.method=t,this.args=m}definition(){return this._method}toString(e){const t=this._method&&"js"===e?this._method.jsName:this.method;return`${this.object.toString(e)}.${t}(${this.args.map(m=>m.toString(e)).join(", ")})`}resolve(e){var t;if(this.object=this.object.resolve(e),this.args=this.args.map(m=>m.resolve(e)),!this._method){const m=this.object.getType(),k=this.args.map(w=>w.getType());this._method||(this._method=m.lookup(this.method,u.n$,k)||(0,a.Hj)(e,this.location,`method ${this.method} not found on ${m}`)),null===(t=this._method)||void 0===t||t._references.push(this)}return this}}class y extends d{constructor(e,t,m){super("binary"),this.lhs=e,this.operator=t,this.rhs=m}toString(e){return`${this.lhs.toString(e)} ${this.operator} ${this.rhs.toString(e)}`}getType(){switch(this.operator){case"+":const e=this.lhs.getType(),t=this.rhs.getType();return"type:primitive"===e.kind&&"string"===e.name?e:"type:primitive"===t.kind&&"string"===t.name?t:new h.MX("int");case"&&":case"||":case"==":case"!=":case"<":case"<=":case">":case">=":return new h.MX("boolean");case"-":case"*":case"/":case"%":case"<<":case">>":case">>>":case"&":case"|":case"^":return new h.MX("int");default:return h.NI}}}class g extends d{constructor(e){super("parenthesized"),this.expression=e}toString(e){return`(${this.expression.toString(e)})`}getType(){return this.expression.getType()}}var b=s(9290),_=s(43418)},84260:(n,p,s)=>{s.d(p,{Hj:()=>i,Hk:()=>l,Ly:()=>a,R9:()=>h,e6:()=>f});var u=s(25447);class a{constructor(c,v){this.line=c,this.column=v}}class f{constructor(c,v){this.start=c,this.end=v}includes(c){return this.start.line<=c.line&&this.start.column<=c.column&&c.line<=this.end.line&&c.column<=this.end.column}}class h{constructor(c,v,y,g="error",b){if(this.path=c,this.location=v,this.message=y,this.severity=g,this.expected=b,!v)throw new Error("location is required")}}function i(r,c,v,y="error",g){const b=r.lookup(u.eB.enclosing,u.eB),_=new h(void 0,c,v,y,g);b?b.report(_):function d(r){const{path:c,location:{start:{line:v,column:y}},message:g,severity:b}=r;switch(b){case"error":console.error(`${c}:${v}:${y}: error: ${g}`);break;case"warning":console.warn(`${c}:${v}:${y}: warning: ${g}`);break;case"note":console.info(`${c}:${v}:${y}: note: ${g}`)}if(r.expected)for(let _ of r.expected)console.log(`- [${_.kind}] ${_.label} ${_.signature||""} - ${_.description||""}`)}(_)}function l(r,c,v,{lookup:y,kind:g,extra:b}={}){if(!v.includes("\xa7"))return!1;const _=v.slice(0,-1),$=(y||r).list().filter(t=>"name"in t).filter(t=>!g||t.kind===g).map(t=>"asCompletion"in t?t.asCompletion():{kind:t.kind,label:t.name});return i(r,c,"input '\xa7' expecting","error",(b?[...$,...b]:$).filter(t=>t.label.startsWith(_))),!0}},667:(n,p,s)=>{s.d(p,{$S:()=>h,NB:()=>u});class u{constructor(i){this.kind=i}definition(i){}documentation(){var i;return null===(i=this.definition())||void 0===i?void 0:i.documentation()}references(i){var l;return(null===(l=this.definition(i))||void 0===l?void 0:l.references(i))||[]}resolve(i){return a(this,l=>l.resolve(i)),this}findByPosition(i){var l;let r;return a(this,c=>(r||(r=c.findByPosition(i)),c)),r?[this,...r]:null!==(l=this.location)&&void 0!==l&&l.includes(i)?[this]:void 0}toString(i){return this.kind}}function a(d,i){for(const[l,r]of Object.entries(d))if("location"!==l&&"kind"!==l&&!l.startsWith("_")&&r)if(Array.isArray(r))for(let c=0;c<r.length;c++)r[c]instanceof u&&(r[c]=i(r[c]));else r instanceof u&&(d[l]=i(r))}function h(d,...i){if(!d[0].startsWith("\n"))throw new Error("must start with a newline");const l=d[0].match(/^\n([ \t]*)/)[1];return d.map((r,c)=>{var v;0===c&&(r=r.substring(1+l.length));const g=(r=r.replace(new RegExp("^"+l,"gm"),"")).substring(r.lastIndexOf("\n")+1).match(/^\s*/)[0];return r+(null!==(v=i[c])&&void 0!==v?v:"").toString().replace(/\n/g,`\n${g}`)}).join("")}}},j={};function o(n){var p=j[n];if(void 0!==p)return p.exports;var s=j[n]={exports:{}};return x[n].call(s.exports,s,s.exports,o),s.exports}o.m=x,o.x=()=>{var n=o.O(void 0,[187],()=>o(56374));return o.O(n)},n=[],o.O=(p,s,u,a)=>{if(!s){var h=1/0;for(f=0;f<n.length;f++){for(var[s,u,a]=n[f],d=!0,i=0;i<s.length;i++)(!1&a||h>=a)&&Object.keys(o.O).every(g=>o.O[g](s[i]))?s.splice(i--,1):(d=!1,a<h&&(h=a));if(d){n.splice(f--,1);var l=u();void 0!==l&&(p=l)}}return p}a=a||0;for(var f=n.length;f>0&&n[f-1][2]>a;f--)n[f]=n[f-1];n[f]=[s,u,a]},o.d=(n,p)=>{for(var s in p)o.o(p,s)&&!o.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:p[s]})},o.f={},o.e=n=>Promise.all(Object.keys(o.f).reduce((p,s)=>(o.f[s](n,p),p),[])),o.u=n=>n+".f0450be9a7b4451b.js",o.miniCssF=n=>{},o.o=(n,p)=>Object.prototype.hasOwnProperty.call(n,p),(()=>{var n;o.tt=()=>(void 0===n&&(n={createScriptURL:p=>p},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(n=trustedTypes.createPolicy("angular#bundler",n))),n)})(),o.tu=n=>o.tt().createScriptURL(n),o.p="",(()=>{var n={374:1};o.f.i=(a,f)=>{n[a]||importScripts(o.tu(o.p+o.u(a)))};var s=self.webpackChunkweb=self.webpackChunkweb||[],u=s.push.bind(s);s.push=a=>{var[f,h,d]=a;for(var i in h)o.o(h,i)&&(o.m[i]=h[i]);for(d&&d(o);f.length;)n[f.pop()]=1;u(a)}})(),(()=>{var n=o.x;o.x=()=>o.e(187).then(n)})(),o.x()})();