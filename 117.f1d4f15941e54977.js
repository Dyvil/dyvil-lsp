(()=>{"use strict";var R,Se={98117:(R,c,_)=>{var s=_(76383);class D{constructor(e){this.connection=e,e.onInitialize(t=>{var n,d,h,r;const a=t.capabilities;this.hasConfigurationCapability=!(null===(n=a.workspace)||void 0===n||!n.configuration),this.hasWorkspaceFolderCapability=!(null===(d=a.workspace)||void 0===d||!d.workspaceFolders),this.hasDiagnosticRelatedInformationCapability=!(null===(r=null===(h=a.textDocument)||void 0===h?void 0:h.publishDiagnostics)||void 0===r||!r.relatedInformation);const y={capabilities:{textDocumentSync:s.TextDocumentSyncKind.Incremental,completionProvider:{triggerCharacters:["."]},renameProvider:{prepareProvider:!0},referencesProvider:!0,definitionProvider:!0,hoverProvider:!0,documentHighlightProvider:!0}};return this.hasWorkspaceFolderCapability&&(y.capabilities.workspace={workspaceFolders:{supported:!0}}),y}),e.onInitialized(()=>{this.hasConfigurationCapability&&e.client.register(s.DidChangeConfigurationNotification.type,void 0)})}}var g,o,w=_(23277),l=_(52745);class m{constructor(e,t,n,d){this._uri=e,this._languageId=t,this._version=n,this._content=d,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let n of e)if(m.isIncremental(n)){const d=v(n.range),h=this.offsetAt(d.start),r=this.offsetAt(d.end);this._content=this._content.substring(0,h)+n.text+this._content.substring(r,this._content.length);const a=Math.max(d.start.line,0),y=Math.max(d.end.line,0);let k=this._lineOffsets;const T=p(n.text,!1,h);if(y-a===T.length)for(let E=0,A=T.length;E<A;E++)k[E+a+1]=T[E];else T.length<1e4?k.splice(a+1,y-a,...T):this._lineOffsets=k=k.slice(0,a+1).concat(T,k.slice(y+1));const x=n.text.length-(r-h);if(0!==x)for(let E=a+1+T.length,A=k.length;E<A;E++)k[E]=k[E]+x}else{if(!m.isFull(n))throw new Error("Unknown change event received");this._content=n.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=p(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,d=t.length;if(0===d)return{line:0,character:e};for(;n<d;){let r=Math.floor((n+d)/2);t[r]>e?d=r:n=r+1}let h=n-1;return{line:h,character:e-t[h]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];return Math.max(Math.min(n+e.character,e.line+1<t.length?t[e.line+1]:this._content.length),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)}static isFull(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength}}function i(o,e){if(o.length<=1)return o;const t=o.length/2|0,n=o.slice(0,t),d=o.slice(t);i(n,e),i(d,e);let h=0,r=0,a=0;for(;h<n.length&&r<d.length;)e(n[h],d[r])<=0?o[a++]=n[h++]:o[a++]=d[r++];for(;h<n.length;)o[a++]=n[h++];for(;r<d.length;)o[a++]=d[r++];return o}function p(o,e,t=0){const n=e?[t]:[];for(let d=0;d<o.length;d++){let h=o.charCodeAt(d);(13===h||10===h)&&(13===h&&d+1<o.length&&10===o.charCodeAt(d+1)&&d++,n.push(t+d+1))}return n}function v(o){const e=o.start,t=o.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:o}function S(o){const e=v(o.range);return e!==o.range?{newText:o.newText,range:e}:o}(o=g||(g={})).create=function e(d,h,r,a){return new m(d,h,r,a)},o.update=function t(d,h,r){if(d instanceof m)return d.update(h,r),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")},o.applyEdits=function n(d,h){let r=d.getText(),a=i(h.map(S),(T,x)=>{let E=T.range.start.line-x.range.start.line;return 0===E?T.range.start.character-x.range.start.character:E}),y=0;const k=[];for(const T of a){let x=d.offsetAt(T.range.start);if(x<y)throw new Error("Overlapping edit");x>y&&k.push(r.substring(y,x)),T.newText.length&&k.push(T.newText),y=d.offsetAt(T.range.end)}return k.push(r.substr(y)),k.join("")};class C{constructor(e){this.connectionService=e,this.documents=new s.TextDocuments(g),this.astCache=new Map,this.documents.listen(this.connectionService.connection),this.documents.onDidChangeContent(t=>{this.astCache.has(t.document.uri)&&this.astCache.delete(t.document.uri)})}getAST(e){const t="string"==typeof e?e:e.uri,n=this.astCache.get(t);if(n)return n;const d="string"==typeof e?this.documents.get(t):e;return d?(0,l.V3)(d.getText(),t).resolve(new w._8([])):void 0}}function W(o){switch(o){case"keyword":return s.CompletionItemKind.Keyword;case"operator":return s.CompletionItemKind.Operator;case"class":return s.CompletionItemKind.Class;case"field":return s.CompletionItemKind.Field;case"method":return s.CompletionItemKind.Method;case"variable":case"parameter":return s.CompletionItemKind.Variable;default:return s.CompletionItemKind.Text}}class O{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onCompletion(n=>this.provideCompletionItems(n))}provideCompletionItems(e){const n=this.documentService.documents.get(e.textDocument.uri);if(!n)return[];const d=n.getText({start:{line:0,character:0},end:e.position}),h=n.getText({start:e.position,end:{line:n.lineCount,character:0}}),a=(0,l.V3)(`${d}\xa7${h}`).resolve(new w._8([])).diagnostics.find(y=>y.message.includes("input '\xa7' expecting"));return a&&a.expected?a.expected.map(y=>({kind:W(y.kind),label:y.label,labelDetails:{detail:y.signature,description:y.description},insertText:y.snippet,insertTextFormat:y.snippet?s.InsertTextFormat.Snippet:void 0})):[]}}function P(o){return{start:{line:o.start.line-1,character:o.start.column},end:{line:o.end.line-1,character:o.end.column}}}function f({severity:o,location:e,message:t}){return{severity:"error"===o?s.DiagnosticSeverity.Error:s.DiagnosticSeverity.Warning,range:P(e),message:t,source:"dyvil"}}"function"==typeof SuppressedError&&SuppressedError;class I{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onDidChangeConfiguration(()=>{this.documentService.documents.all().forEach(n=>this.validateTextDocument(n))}),this.documentService.documents.onDidChangeContent(n=>{this.validateTextDocument(n.document)})}validateTextDocument(e){return function M(o,e,t,n){return new(t||(t=Promise))(function(h,r){function a(T){try{k(n.next(T))}catch(x){r(x)}}function y(T){try{k(n.throw(T))}catch(x){r(x)}}function k(T){T.done?h(T.value):function d(h){return h instanceof t?h:new t(function(r){r(h)})}(T.value).then(a,y)}k((n=n.apply(o,e||[])).next())})}(this,void 0,void 0,function*(){const t=this.documentService.getAST(e);if(!t)return;const n=t.diagnostics.map(f);yield this.connectionService.connection.sendDiagnostics({uri:e.uri,diagnostics:n})})}}class B{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onPrepareRename(n=>this.prepareRename(n)),this.connectionService.connection.onRenameRequest(n=>this.rename(n)),this.connectionService.connection.onReferences(n=>this.references(n)),this.connectionService.connection.onDefinition(n=>this.definition(n)),this.connectionService.connection.onHover(n=>this.hover(n)),this.connectionService.connection.onDocumentHighlight(n=>this.highlight(n))}prepareRename(e){const t=this.findNode(e);if(!t)return;const n=t.references("rename");return n&&n.length?P(t.location):void 0}rename(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("rename");if(n&&n.length)return{changes:{[e.textDocument.uri]:n.map(d=>({range:P(d),newText:e.newName}))}}}references(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("definition");if(n&&n.length)return!e.context.includeDeclaration&&n.length&&n.shift(),n.map(d=>({uri:e.textDocument.uri,range:P(d)}))}definition(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("definition");if(n&&n.length)return{uri:e.textDocument.uri,range:P(n[0])}}hover(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.documentation();return n?{contents:{kind:"markdown",value:n}}:null}highlight(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references();if(n&&n.length)return n.map(d=>({range:P(d)}))}findNode(e){const t=e.textDocument.uri,n=new w.Ly(e.position.line+1,e.position.character),d=this.documentService.getAST(t);if(!d)return;const h=d.findByPosition(n);return h?h[h.length-1]:void 0}}var ie=_(35072);console.log("Running Dyvil Language Server in Web Worker");const ve=new ie.BrowserMessageReader(self),De=new ie.BrowserMessageWriter(self),se=(0,ie.createConnection)(ve,De);(function ee(o){const e=new D(o),t=new C(e);new O(e,t),new I(e,t),new B(e,t)})(se),se.listen()},35072:(R,c,_)=>{R.exports=_(76383)},76383:function(R,c,_){var s=this&&this.__createBinding||(Object.create?function(i,p,v,S){void 0===S&&(S=v);var C=Object.getOwnPropertyDescriptor(p,v);(!C||("get"in C?!p.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(i,S,C)}:function(i,p,v,S){void 0===S&&(S=v),i[S]=p[v]}),D=this&&this.__exportStar||function(i,p){for(var v in i)"default"!==v&&!Object.prototype.hasOwnProperty.call(p,v)&&s(p,i,v)};Object.defineProperty(c,"__esModule",{value:!0}),c.createConnection=void 0;const w=_(35078);D(_(69434),c),D(_(35078),c);let l=!1;const m={initialize:i=>{},get shutdownReceived(){return l},set shutdownReceived(i){l=i},exit:i=>{}};c.createConnection=function g(i,p,v,S){let C,W,O,N;return void 0!==i&&"features"===i.__brand&&(C=i,i=p,p=v,v=S),w.ConnectionStrategy.is(i)||w.ConnectionOptions.is(i)?N=i:(W=i,O=p,N=v),(0,w.createConnection)(z=>(0,w.createProtocolConnection)(W,O,z,N),m,C)}},35078:function(R,c,_){var s=this&&this.__createBinding||(Object.create?function(i,p,v,S){void 0===S&&(S=v);var C=Object.getOwnPropertyDescriptor(p,v);(!C||("get"in C?!p.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(i,S,C)}:function(i,p,v,S){void 0===S&&(S=v),i[S]=p[v]}),D=this&&this.__exportStar||function(i,p){for(var v in i)"default"!==v&&!Object.prototype.hasOwnProperty.call(p,v)&&s(p,i,v)};Object.defineProperty(c,"__esModule",{value:!0}),c.ProposedFeatures=c.NotebookDocuments=c.TextDocuments=c.SemanticTokensBuilder=void 0;const w=_(93737);Object.defineProperty(c,"SemanticTokensBuilder",{enumerable:!0,get:function(){return w.SemanticTokensBuilder}}),D(_(73605),c);const l=_(72460);Object.defineProperty(c,"TextDocuments",{enumerable:!0,get:function(){return l.TextDocuments}});const m=_(39209);Object.defineProperty(c,"NotebookDocuments",{enumerable:!0,get:function(){return m.NotebookDocuments}}),D(_(36746),c),(c.ProposedFeatures||(c.ProposedFeatures={})).all={__brand:"features"}},40621:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CallHierarchyFeature=void 0;const s=_(73605);c.CallHierarchyFeature=w=>class extends w{get callHierarchy(){return{onPrepare:l=>this.connection.onRequest(s.CallHierarchyPrepareRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),void 0)),onIncomingCalls:l=>{const m=s.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))},onOutgoingCalls:l=>{const m=s.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))}}}}},75943:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ConfigurationFeature=void 0;const s=_(73605),D=_(15055);c.ConfigurationFeature=l=>class extends l{getConfiguration(m){return m?D.string(m)?this._getConfiguration({section:m}):this._getConfiguration(m):this._getConfiguration({})}_getConfiguration(m){let g={items:Array.isArray(m)?m:[m]};return this.connection.sendRequest(s.ConfigurationRequest.type,g).then(i=>Array.isArray(i)?Array.isArray(m)?i:i[0]:Array.isArray(m)?[]:null)}}},86328:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DiagnosticFeature=void 0;const s=_(73605);c.DiagnosticFeature=w=>class extends w{get diagnostics(){return{refresh:()=>this.connection.sendRequest(s.DiagnosticRefreshRequest.type),on:l=>this.connection.onRequest(s.DocumentDiagnosticRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),this.attachPartialResultProgress(s.DocumentDiagnosticRequest.partialResult,m))),onWorkspace:l=>this.connection.onRequest(s.WorkspaceDiagnosticRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),this.attachPartialResultProgress(s.WorkspaceDiagnosticRequest.partialResult,m)))}}}},89565:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FileOperationsFeature=void 0;const s=_(73605);c.FileOperationsFeature=w=>class extends w{onDidCreateFiles(l){return this.connection.onNotification(s.DidCreateFilesNotification.type,m=>{l(m)})}onDidRenameFiles(l){return this.connection.onNotification(s.DidRenameFilesNotification.type,m=>{l(m)})}onDidDeleteFiles(l){return this.connection.onNotification(s.DidDeleteFilesNotification.type,m=>{l(m)})}onWillCreateFiles(l){return this.connection.onRequest(s.WillCreateFilesRequest.type,(m,g)=>l(m,g))}onWillRenameFiles(l){return this.connection.onRequest(s.WillRenameFilesRequest.type,(m,g)=>l(m,g))}onWillDeleteFiles(l){return this.connection.onRequest(s.WillDeleteFilesRequest.type,(m,g)=>l(m,g))}}},50110:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InlayHintFeature=void 0;const s=_(73605);c.InlayHintFeature=w=>class extends w{get inlayHint(){return{refresh:()=>this.connection.sendRequest(s.InlayHintRefreshRequest.type),on:l=>this.connection.onRequest(s.InlayHintRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m))),resolve:l=>this.connection.onRequest(s.InlayHintResolveRequest.type,(m,g)=>l(m,g))}}}},55412:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.InlineValueFeature=void 0;const s=_(73605);c.InlineValueFeature=w=>class extends w{get inlineValue(){return{refresh:()=>this.connection.sendRequest(s.InlineValueRefreshRequest.type),on:l=>this.connection.onRequest(s.InlineValueRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m)))}}}},60801:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.LinkedEditingRangeFeature=void 0;const s=_(73605);c.LinkedEditingRangeFeature=w=>class extends w{onLinkedEditingRange(l){return this.connection.onRequest(s.LinkedEditingRangeRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),void 0))}}},41135:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MonikerFeature=void 0;const s=_(73605);c.MonikerFeature=w=>class extends w{get moniker(){return{on:l=>{const m=s.MonikerRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))}}}}},39209:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NotebookDocuments=c.NotebookSyncFeature=void 0;const s=_(73605),D=_(72460);c.NotebookSyncFeature=g=>class extends g{get synchronization(){return{onDidOpenNotebookDocument:i=>this.connection.onNotification(s.DidOpenNotebookDocumentNotification.type,p=>{i(p)}),onDidChangeNotebookDocument:i=>this.connection.onNotification(s.DidChangeNotebookDocumentNotification.type,p=>{i(p)}),onDidSaveNotebookDocument:i=>this.connection.onNotification(s.DidSaveNotebookDocumentNotification.type,p=>{i(p)}),onDidCloseNotebookDocument:i=>this.connection.onNotification(s.DidCloseNotebookDocumentNotification.type,p=>{i(p)})}}};class l{onDidOpenTextDocument(i){return this.openHandler=i,s.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(i){this.openHandler&&this.openHandler(i)}onDidChangeTextDocument(i){return this.changeHandler=i,s.Disposable.create(()=>{this.changeHandler=i})}changeTextDocument(i){this.changeHandler&&this.changeHandler(i)}onDidCloseTextDocument(i){return this.closeHandler=i,s.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(i){this.closeHandler&&this.closeHandler(i)}onWillSaveTextDocument(){return l.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return l.NULL_DISPOSE}onDidSaveTextDocument(){return l.NULL_DISPOSE}}l.NULL_DISPOSE=Object.freeze({dispose:()=>{}}),c.NotebookDocuments=class m{constructor(i){this._cellTextDocuments=i instanceof D.TextDocuments?i:new D.TextDocuments(i),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new s.Emitter,this._onDidChange=new s.Emitter,this._onDidSave=new s.Emitter,this._onDidClose=new s.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(i){return this._cellTextDocuments.get(i.document)}getNotebookDocument(i){return this.notebookDocuments.get(i)}getNotebookCell(i){const p=this.notebookCellMap.get(i);return p&&p[0]}findNotebookDocumentForCell(i){const v=this.notebookCellMap.get("string"==typeof i?i:i.document);return v&&v[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(i){const p=new l,v=[];return v.push(this.cellTextDocuments.listen(p)),v.push(i.notebooks.synchronization.onDidOpenNotebookDocument(S=>{this.notebookDocuments.set(S.notebookDocument.uri,S.notebookDocument);for(const C of S.cellTextDocuments)p.openTextDocument({textDocument:C});this.updateCellMap(S.notebookDocument),this._onDidOpen.fire(S.notebookDocument)})),v.push(i.notebooks.synchronization.onDidChangeNotebookDocument(S=>{const C=this.notebookDocuments.get(S.notebookDocument.uri);if(void 0===C)return;C.version=S.notebookDocument.version;const W=C.metadata;let O=!1;const N=S.change;void 0!==N.metadata&&(O=!0,C.metadata=N.metadata);const H=[],z=[],$=[],J=[];if(void 0!==N.cells){const j=N.cells;if(void 0!==j.structure){const L=j.structure.array;if(C.cells.splice(L.start,L.deleteCount,...void 0!==L.cells?L.cells:[]),void 0!==j.structure.didOpen)for(const M of j.structure.didOpen)p.openTextDocument({textDocument:M}),H.push(M.uri);if(j.structure.didClose)for(const M of j.structure.didClose)p.closeTextDocument({textDocument:M}),z.push(M.uri)}if(void 0!==j.data){const L=new Map(j.data.map(M=>[M.document,M]));for(let M=0;M<=C.cells.length;M++){const K=L.get(C.cells[M].document);if(void 0!==K){const Q=C.cells.splice(M,1,K);if($.push({old:Q[0],new:K}),L.delete(K.document),0===L.size)break}}}if(void 0!==j.textContent)for(const L of j.textContent)p.changeTextDocument({textDocument:L.document,contentChanges:L.changes}),J.push(L.document.uri)}this.updateCellMap(C);const G={notebookDocument:C};O&&(G.metadata={old:W,new:C.metadata});const V=[];for(const j of H)V.push(this.getNotebookCell(j));const ne=[];for(const j of z)ne.push(this.getNotebookCell(j));const U=[];for(const j of J)U.push(this.getNotebookCell(j));(V.length>0||ne.length>0||$.length>0||U.length>0)&&(G.cells={added:V,removed:ne,changed:{data:$,textContent:U}}),(void 0!==G.metadata||void 0!==G.cells)&&this._onDidChange.fire(G)})),v.push(i.notebooks.synchronization.onDidSaveNotebookDocument(S=>{const C=this.notebookDocuments.get(S.notebookDocument.uri);void 0!==C&&this._onDidSave.fire(C)})),v.push(i.notebooks.synchronization.onDidCloseNotebookDocument(S=>{const C=this.notebookDocuments.get(S.notebookDocument.uri);if(void 0!==C){this._onDidClose.fire(C);for(const W of S.cellTextDocuments)p.closeTextDocument({textDocument:W});this.notebookDocuments.delete(S.notebookDocument.uri);for(const W of C.cells)this.notebookCellMap.delete(W.document)}})),s.Disposable.create(()=>{v.forEach(S=>S.dispose())})}updateCellMap(i){for(const p of i.cells)this.notebookCellMap.set(p.document,[p,i])}}},84673:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.attachPartialResult=c.ProgressFeature=c.attachWorkDone=void 0;const s=_(73605),D=_(61155);class w{constructor(O,N){this._connection=O,this._token=N,w.Instances.set(this._token,this)}begin(O,N,H,z){this._connection.sendProgress(s.WorkDoneProgress.type,this._token,{kind:"begin",title:O,percentage:N,message:H,cancellable:z})}report(O,N){let H={kind:"report"};"number"==typeof O?(H.percentage=O,void 0!==N&&(H.message=N)):H.message=O,this._connection.sendProgress(s.WorkDoneProgress.type,this._token,H)}done(){w.Instances.delete(this._token),this._connection.sendProgress(s.WorkDoneProgress.type,this._token,{kind:"end"})}}w.Instances=new Map;class l extends w{constructor(O,N){super(O,N),this._source=new s.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class m{constructor(){}begin(){}report(){}done(){}}class g extends m{constructor(){super(),this._source=new s.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}var v;c.attachWorkDone=function i(W,O){if(void 0===O||void 0===O.workDoneToken)return new m;const N=O.workDoneToken;return delete O.workDoneToken,new w(W,N)},c.ProgressFeature=W=>class extends W{constructor(){super(),this._progressSupported=!1}initialize(O){super.initialize(O),!0===O?.window?.workDoneProgress&&(this._progressSupported=!0,this.connection.onNotification(s.WorkDoneProgressCancelNotification.type,N=>{let H=w.Instances.get(N.token);(H instanceof l||H instanceof g)&&H.cancel()}))}attachWorkDoneProgress(O){return void 0===O?new m:new w(this.connection,O)}createWorkDoneProgress(){if(this._progressSupported){const O=(0,D.generateUuid)();return this.connection.sendRequest(s.WorkDoneProgressCreateRequest.type,{token:O}).then(()=>new l(this.connection,O))}return Promise.resolve(new g)}},(v||(v={})).type=new s.ProgressType;class S{constructor(O,N){this._connection=O,this._token=N}report(O){this._connection.sendProgress(v.type,this._token,O)}}c.attachPartialResult=function C(W,O){if(void 0===O||void 0===O.partialResultToken)return;const N=O.partialResultToken;return delete O.partialResultToken,new S(W,N)}},93737:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SemanticTokensBuilder=c.SemanticTokensDiff=c.SemanticTokensFeature=void 0;const s=_(73605);c.SemanticTokensFeature=m=>class extends m{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(s.SemanticTokensRefreshRequest.type),on:g=>{const i=s.SemanticTokensRequest.type;return this.connection.onRequest(i,(p,v)=>g(p,v,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(i,p)))},onDelta:g=>{const i=s.SemanticTokensDeltaRequest.type;return this.connection.onRequest(i,(p,v)=>g(p,v,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(i,p)))},onRange:g=>{const i=s.SemanticTokensRangeRequest.type;return this.connection.onRequest(i,(p,v)=>g(p,v,this.attachWorkDoneProgress(p),this.attachPartialResultProgress(i,p)))}}}};class w{constructor(g,i){this.originalSequence=g,this.modifiedSequence=i}computeDiff(){const g=this.originalSequence.length,i=this.modifiedSequence.length;let p=0;for(;p<i&&p<g&&this.originalSequence[p]===this.modifiedSequence[p];)p++;if(p<i&&p<g){let v=g-1,S=i-1;for(;v>=p&&S>=p&&this.originalSequence[v]===this.modifiedSequence[S];)v--,S--;(v<p||S<p)&&(v++,S++);const C=v-p+1,W=this.modifiedSequence.slice(p,S+1);return 1===W.length&&W[0]===this.originalSequence[v]?[{start:p,deleteCount:C-1}]:[{start:p,deleteCount:C,data:W}]}return p<i?[{start:p,deleteCount:0,data:this.modifiedSequence.slice(p)}]:p<g?[{start:p,deleteCount:g-p}]:[]}}c.SemanticTokensDiff=w,c.SemanticTokensBuilder=class l{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(g,i,p,v,S){let C=g,W=i;this._dataLen>0&&(C-=this._prevLine,0===C&&(W-=this._prevChar)),this._data[this._dataLen++]=C,this._data[this._dataLen++]=W,this._data[this._dataLen++]=p,this._data[this._dataLen++]=v,this._data[this._dataLen++]=S,this._prevLine=g,this._prevChar=i}get id(){return this._id.toString()}previousResult(g){this.id===g&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){return void 0!==this._prevData?{resultId:this.id,edits:new w(this._prevData,this._data).computeDiff()}:this.build()}}},36746:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createConnection=c.combineFeatures=c.combineNotebooksFeatures=c.combineLanguagesFeatures=c.combineWorkspaceFeatures=c.combineWindowFeatures=c.combineClientFeatures=c.combineTracerFeatures=c.combineTelemetryFeatures=c.combineConsoleFeatures=c._NotebooksImpl=c._LanguagesImpl=c.BulkUnregistration=c.BulkRegistration=c.ErrorMessageTracker=void 0;const s=_(73605),D=_(15055),w=_(61155),l=_(84673),m=_(75943),g=_(63685),i=_(40621),p=_(93737),v=_(34074),S=_(89565),C=_(60801),W=_(38380),O=_(55412),N=_(50110),H=_(86328),z=_(39209),$=_(41135);function J(F){if(null!==F)return F}c.ErrorMessageTracker=class G{constructor(){this._messages=Object.create(null)}add(u){let b=this._messages[u];b||(b=0),b++,this._messages[u]=b}sendErrors(u){Object.keys(this._messages).forEach(b=>{u.window.showErrorMessage(b)})}};class V{constructor(){}rawAttach(u){this._rawConnection=u}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(u){}initialize(u){}error(u){this.send(s.MessageType.Error,u)}warn(u){this.send(s.MessageType.Warning,u)}info(u){this.send(s.MessageType.Info,u)}log(u){this.send(s.MessageType.Log,u)}send(u,b){this._rawConnection&&this._rawConnection.sendNotification(s.LogMessageNotification.type,{type:u,message:b}).catch(()=>{(0,s.RAL)().console.error("Sending log message failed")})}}const U=(0,v.ShowDocumentFeature)((0,l.ProgressFeature)(class ne{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}showErrorMessage(u,...b){return this.connection.sendRequest(s.ShowMessageRequest.type,{type:s.MessageType.Error,message:u,actions:b}).then(J)}showWarningMessage(u,...b){return this.connection.sendRequest(s.ShowMessageRequest.type,{type:s.MessageType.Warning,message:u,actions:b}).then(J)}showInformationMessage(u,...b){return this.connection.sendRequest(s.ShowMessageRequest.type,{type:s.MessageType.Info,message:u,actions:b}).then(J)}}));(c.BulkRegistration||(c.BulkRegistration={})).create=function u(){return new L};class L{constructor(){this._registrations=[],this._registered=new Set}add(u,b){const P=D.string(u)?u:u.method;if(this._registered.has(P))throw new Error(`${P} is already added to this registration`);const f=w.generateUuid();this._registrations.push({id:f,method:P,registerOptions:b||{}}),this._registered.add(P)}asRegistrationParams(){return{registrations:this._registrations}}}(c.BulkUnregistration||(c.BulkUnregistration={})).create=function u(){return new K(void 0,[])};class K{constructor(u,b){this._connection=u,this._unregistrations=new Map,b.forEach(P=>{this._unregistrations.set(P.method,P)})}get isAttached(){return!!this._connection}attach(u){this._connection=u}add(u){this._unregistrations.set(u.method,u)}dispose(){let u=[];for(let P of this._unregistrations.values())u.push(P);this._connection.sendRequest(s.UnregistrationRequest.type,{unregisterations:u}).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(u){const b=D.string(u)?u:u.method,P=this._unregistrations.get(b);return!!P&&(this._connection.sendRequest(s.UnregistrationRequest.type,{unregisterations:[P]}).then(()=>{this._unregistrations.delete(b)},I=>{this._connection.console.info(`Un-registering request handler for ${P.id} failed.`)}),!0)}}class Q{attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}register(u,b,P){return u instanceof L?this.registerMany(u):u instanceof K?this.registerSingle1(u,b,P):this.registerSingle2(u,b)}registerSingle1(u,b,P){const f=D.string(b)?b:b.method,I=w.generateUuid();let B={registrations:[{id:I,method:f,registerOptions:P||{}}]};return u.isAttached||u.attach(this.connection),this.connection.sendRequest(s.RegistrationRequest.type,B).then(ee=>(u.add({id:I,method:f}),u),ee=>(this.connection.console.info(`Registering request handler for ${f} failed.`),Promise.reject(ee)))}registerSingle2(u,b){const P=D.string(u)?u:u.method,f=w.generateUuid();return this.connection.sendRequest(s.RegistrationRequest.type,{registrations:[{id:f,method:P,registerOptions:b||{}}]}).then(B=>s.Disposable.create(()=>{this.unregisterSingle(f,P).catch(()=>{this.connection.console.info(`Un-registering capability with id ${f} failed.`)})}),B=>(this.connection.console.info(`Registering request handler for ${P} failed.`),Promise.reject(B)))}unregisterSingle(u,b){return this.connection.sendRequest(s.UnregistrationRequest.type,{unregisterations:[{id:u,method:b}]}).catch(()=>{this.connection.console.info(`Un-registering request handler for ${u} failed.`)})}registerMany(u){let b=u.asRegistrationParams();return this.connection.sendRequest(s.RegistrationRequest.type,b).then(()=>new K(this._connection,b.registrations.map(P=>({id:P.id,method:P.method}))),P=>(this.connection.console.info("Bulk registration failed."),Promise.reject(P)))}}const oe=(0,S.FileOperationsFeature)((0,g.WorkspaceFoldersFeature)((0,m.ConfigurationFeature)(class we{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}applyEdit(u){let P=function b(f){return f&&!!f.edit}(u)?u:{edit:u};return this.connection.sendRequest(s.ApplyWorkspaceEditRequest.type,P)}})));class re{constructor(){this._trace=s.Trace.Off}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}set trace(u){this._trace=u}log(u,b){this._trace!==s.Trace.Off&&this.connection.sendNotification(s.LogTraceNotification.type,{message:u,verbose:this._trace===s.Trace.Verbose?b:void 0}).catch(()=>{})}}class ae{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}logEvent(u){this.connection.sendNotification(s.TelemetryEventNotification.type,u).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class ue{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}attachWorkDoneProgress(u){return(0,l.attachWorkDone)(this.connection,u)}attachPartialResultProgress(u,b){return(0,l.attachPartialResult)(this.connection,b)}}c._LanguagesImpl=ue;const le=(0,$.MonikerFeature)((0,H.DiagnosticFeature)((0,N.InlayHintFeature)((0,O.InlineValueFeature)((0,W.TypeHierarchyFeature)((0,C.LinkedEditingRangeFeature)((0,p.SemanticTokensFeature)((0,i.CallHierarchyFeature)(ue))))))));class X{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}attachWorkDoneProgress(u){return(0,l.attachWorkDone)(this.connection,u)}attachPartialResultProgress(u,b){return(0,l.attachPartialResult)(this.connection,b)}}c._NotebooksImpl=X;const de=(0,z.NotebookSyncFeature)(X);function he(F,u){return function(b){return u(F(b))}}function fe(F,u){return function(b){return u(F(b))}}function ge(F,u){return function(b){return u(F(b))}}function me(F,u){return function(b){return u(F(b))}}function pe(F,u){return function(b){return u(F(b))}}function ye(F,u){return function(b){return u(F(b))}}function _e(F,u){return function(b){return u(F(b))}}function be(F,u){return function(b){return u(F(b))}}c.combineConsoleFeatures=he,c.combineTelemetryFeatures=fe,c.combineTracerFeatures=ge,c.combineClientFeatures=me,c.combineWindowFeatures=pe,c.combineWorkspaceFeatures=ye,c.combineLanguagesFeatures=_e,c.combineNotebooksFeatures=be,c.combineFeatures=function Re(F,u){function b(f,I,B){return f&&I?B(f,I):f||I}return{__brand:"features",console:b(F.console,u.console,he),tracer:b(F.tracer,u.tracer,ge),telemetry:b(F.telemetry,u.telemetry,fe),client:b(F.client,u.client,me),window:b(F.window,u.window,pe),workspace:b(F.workspace,u.workspace,ye),languages:b(F.languages,u.languages,_e),notebooks:b(F.notebooks,u.notebooks,be)}},c.createConnection=function ke(F,u,b){const P=b&&b.console?new(b.console(V)):new V,f=F(P);P.rawAttach(f);const I=b&&b.tracer?new(b.tracer(re)):new re,B=b&&b.telemetry?new(b.telemetry(ae)):new ae,ee=b&&b.client?new(b.client(Q)):new Q,ie=b&&b.window?new(b.window(U)):new U,ve=b&&b.workspace?new(b.workspace(oe)):new oe,De=b&&b.languages?new(b.languages(le)):new le,se=b&&b.notebooks?new(b.notebooks(de)):new de,o=[P,I,B,ee,ie,ve,De,se];let t,n,d,h={listen:()=>f.listen(),sendRequest:(r,...a)=>f.sendRequest(D.string(r)?r:r.method,...a),onRequest:(r,a)=>f.onRequest(r,a),sendNotification:(r,a)=>{const y=D.string(r)?r:r.method;return 1===arguments.length?f.sendNotification(y):f.sendNotification(y,a)},onNotification:(r,a)=>f.onNotification(r,a),onProgress:f.onProgress,sendProgress:f.sendProgress,onInitialize:r=>(n=r,{dispose:()=>{n=void 0}}),onInitialized:r=>f.onNotification(s.InitializedNotification.type,r),onShutdown:r=>(t=r,{dispose:()=>{t=void 0}}),onExit:r=>(d=r,{dispose:()=>{d=void 0}}),get console(){return P},get telemetry(){return B},get tracer(){return I},get client(){return ee},get window(){return ie},get workspace(){return ve},get languages(){return De},get notebooks(){return se},onDidChangeConfiguration:r=>f.onNotification(s.DidChangeConfigurationNotification.type,r),onDidChangeWatchedFiles:r=>f.onNotification(s.DidChangeWatchedFilesNotification.type,r),__textDocumentSync:void 0,onDidOpenTextDocument:r=>f.onNotification(s.DidOpenTextDocumentNotification.type,r),onDidChangeTextDocument:r=>f.onNotification(s.DidChangeTextDocumentNotification.type,r),onDidCloseTextDocument:r=>f.onNotification(s.DidCloseTextDocumentNotification.type,r),onWillSaveTextDocument:r=>f.onNotification(s.WillSaveTextDocumentNotification.type,r),onWillSaveTextDocumentWaitUntil:r=>f.onRequest(s.WillSaveTextDocumentWaitUntilRequest.type,r),onDidSaveTextDocument:r=>f.onNotification(s.DidSaveTextDocumentNotification.type,r),sendDiagnostics:r=>f.sendNotification(s.PublishDiagnosticsNotification.type,r),onHover:r=>f.onRequest(s.HoverRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),void 0)),onCompletion:r=>f.onRequest(s.CompletionRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onCompletionResolve:r=>f.onRequest(s.CompletionResolveRequest.type,r),onSignatureHelp:r=>f.onRequest(s.SignatureHelpRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),void 0)),onDeclaration:r=>f.onRequest(s.DeclarationRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onDefinition:r=>f.onRequest(s.DefinitionRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onTypeDefinition:r=>f.onRequest(s.TypeDefinitionRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onImplementation:r=>f.onRequest(s.ImplementationRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onReferences:r=>f.onRequest(s.ReferencesRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onDocumentHighlight:r=>f.onRequest(s.DocumentHighlightRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onDocumentSymbol:r=>f.onRequest(s.DocumentSymbolRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onWorkspaceSymbol:r=>f.onRequest(s.WorkspaceSymbolRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onWorkspaceSymbolResolve:r=>f.onRequest(s.WorkspaceSymbolResolveRequest.type,r),onCodeAction:r=>f.onRequest(s.CodeActionRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onCodeActionResolve:r=>f.onRequest(s.CodeActionResolveRequest.type,(a,y)=>r(a,y)),onCodeLens:r=>f.onRequest(s.CodeLensRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onCodeLensResolve:r=>f.onRequest(s.CodeLensResolveRequest.type,(a,y)=>r(a,y)),onDocumentFormatting:r=>f.onRequest(s.DocumentFormattingRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),void 0)),onDocumentRangeFormatting:r=>f.onRequest(s.DocumentRangeFormattingRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),void 0)),onDocumentOnTypeFormatting:r=>f.onRequest(s.DocumentOnTypeFormattingRequest.type,(a,y)=>r(a,y)),onRenameRequest:r=>f.onRequest(s.RenameRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),void 0)),onPrepareRename:r=>f.onRequest(s.PrepareRenameRequest.type,(a,y)=>r(a,y)),onDocumentLinks:r=>f.onRequest(s.DocumentLinkRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onDocumentLinkResolve:r=>f.onRequest(s.DocumentLinkResolveRequest.type,(a,y)=>r(a,y)),onDocumentColor:r=>f.onRequest(s.DocumentColorRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onColorPresentation:r=>f.onRequest(s.ColorPresentationRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onFoldingRanges:r=>f.onRequest(s.FoldingRangeRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onSelectionRanges:r=>f.onRequest(s.SelectionRangeRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),(0,l.attachPartialResult)(f,a))),onExecuteCommand:r=>f.onRequest(s.ExecuteCommandRequest.type,(a,y)=>r(a,y,(0,l.attachWorkDone)(f,a),void 0)),dispose:()=>f.dispose()};for(let r of o)r.attach(h);return f.onRequest(s.InitializeRequest.type,r=>{u.initialize(r),D.string(r.trace)&&(I.trace=s.Trace.fromString(r.trace));for(let a of o)a.initialize(r.capabilities);if(n)return function e(r){return r instanceof Promise?r:D.thenable(r)?new Promise((a,y)=>{r.then(k=>a(k),k=>y(k))}):Promise.resolve(r)}(n(r,(new s.CancellationTokenSource).token,(0,l.attachWorkDone)(f,r),void 0)).then(y=>{if(y instanceof s.ResponseError)return y;let k=y;k||(k={capabilities:{}});let T=k.capabilities;T||(T={},k.capabilities=T),null==T.textDocumentSync?T.textDocumentSync=D.number(h.__textDocumentSync)?h.__textDocumentSync:s.TextDocumentSyncKind.None:!D.number(T.textDocumentSync)&&!D.number(T.textDocumentSync.change)&&(T.textDocumentSync.change=D.number(h.__textDocumentSync)?h.__textDocumentSync:s.TextDocumentSyncKind.None);for(let x of o)x.fillServerCapabilities(T);return k});{let a={capabilities:{textDocumentSync:s.TextDocumentSyncKind.None}};for(let y of o)y.fillServerCapabilities(a.capabilities);return a}}),f.onRequest(s.ShutdownRequest.type,()=>{if(u.shutdownReceived=!0,t)return t((new s.CancellationTokenSource).token)}),f.onNotification(s.ExitNotification.type,()=>{try{d&&d()}finally{u.exit(u.shutdownReceived?0:1)}}),f.onNotification(s.SetTraceNotification.type,r=>{I.trace=s.Trace.fromString(r.value)}),h}},34074:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ShowDocumentFeature=void 0;const s=_(73605);c.ShowDocumentFeature=w=>class extends w{showDocument(l){return this.connection.sendRequest(s.ShowDocumentRequest.type,l)}}},72460:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextDocuments=void 0;const s=_(73605);c.TextDocuments=class D{constructor(l){this._configuration=l,this._syncedDocuments=new Map,this._onDidChangeContent=new s.Emitter,this._onDidOpen=new s.Emitter,this._onDidClose=new s.Emitter,this._onDidSave=new s.Emitter,this._onWillSave=new s.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(l){this._willSaveWaitUntil=l}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(l){return this._syncedDocuments.get(l)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(l){l.__textDocumentSync=s.TextDocumentSyncKind.Incremental;const m=[];return m.push(l.onDidOpenTextDocument(g=>{const i=g.textDocument,p=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,p);const v=Object.freeze({document:p});this._onDidOpen.fire(v),this._onDidChangeContent.fire(v)})),m.push(l.onDidChangeTextDocument(g=>{const i=g.textDocument,p=g.contentChanges;if(0===p.length)return;const{version:v}=i;if(null==v)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let S=this._syncedDocuments.get(i.uri);void 0!==S&&(S=this._configuration.update(S,p,v),this._syncedDocuments.set(i.uri,S),this._onDidChangeContent.fire(Object.freeze({document:S})))})),m.push(l.onDidCloseTextDocument(g=>{let i=this._syncedDocuments.get(g.textDocument.uri);void 0!==i&&(this._syncedDocuments.delete(g.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),m.push(l.onWillSaveTextDocument(g=>{let i=this._syncedDocuments.get(g.textDocument.uri);void 0!==i&&this._onWillSave.fire(Object.freeze({document:i,reason:g.reason}))})),m.push(l.onWillSaveTextDocumentWaitUntil((g,i)=>{let p=this._syncedDocuments.get(g.textDocument.uri);return void 0!==p&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:p,reason:g.reason}),i):[]})),m.push(l.onDidSaveTextDocument(g=>{let i=this._syncedDocuments.get(g.textDocument.uri);void 0!==i&&this._onDidSave.fire(Object.freeze({document:i}))})),s.Disposable.create(()=>{m.forEach(g=>g.dispose())})}}},38380:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TypeHierarchyFeature=void 0;const s=_(73605);c.TypeHierarchyFeature=w=>class extends w{get typeHierarchy(){return{onPrepare:l=>this.connection.onRequest(s.TypeHierarchyPrepareRequest.type,(m,g)=>l(m,g,this.attachWorkDoneProgress(m),void 0)),onSupertypes:l=>{const m=s.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))},onSubtypes:l=>{const m=s.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(m,(g,i)=>l(g,i,this.attachWorkDoneProgress(g),this.attachPartialResultProgress(m,g)))}}}}},15055:(R,c)=>{function s(v){return"string"==typeof v||v instanceof String}function l(v){return"function"==typeof v}function m(v){return Array.isArray(v)}Object.defineProperty(c,"__esModule",{value:!0}),c.thenable=c.typedArray=c.stringArray=c.array=c.func=c.error=c.number=c.string=c.boolean=void 0,c.boolean=function _(v){return!0===v||!1===v},c.string=s,c.number=function D(v){return"number"==typeof v||v instanceof Number},c.error=function w(v){return v instanceof Error},c.func=l,c.array=m,c.stringArray=function g(v){return m(v)&&v.every(S=>s(S))},c.typedArray=function i(v,S){return Array.isArray(v)&&v.every(S)},c.thenable=function p(v){return v&&l(v.then)}},61155:(R,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.generateUuid=c.parse=c.isUUID=c.v4=c.empty=void 0;class _{constructor(p){this._value=p}asHex(){return this._value}equals(p){return this.asHex()===p.asHex()}}let s=(()=>{class i extends _{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(v){return v[Math.floor(v.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}return i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],i})();function D(){return new s}c.empty=new _("00000000-0000-0000-0000-000000000000"),c.v4=D;const w=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function l(i){return w.test(i)}c.isUUID=l,c.parse=function m(i){if(!l(i))throw new Error("invalid uuid");return new _(i)},c.generateUuid=function g(){return D().asHex()}},63685:(R,c,_)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WorkspaceFoldersFeature=void 0;const s=_(73605);c.WorkspaceFoldersFeature=w=>class extends w{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(l){super.initialize(l);let m=l.workspace;m&&m.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new s.Emitter,this.connection.onNotification(s.DidChangeWorkspaceFoldersNotification.type,g=>{this._onDidChangeWorkspaceFolders.fire(g.event)}))}fillServerCapabilities(l){super.fillServerCapabilities(l);const m=l.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=!0===m||"string"==typeof m}getWorkspaceFolders(){return this.connection.sendRequest(s.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(s.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}}},Ce={};function q(R){var c=Ce[R];if(void 0!==c)return c.exports;var _=Ce[R]={exports:{}};return Se[R].call(_.exports,_,_.exports,q),_.exports}q.m=Se,q.x=()=>{var R=q.O(void 0,[745,434],()=>q(98117));return q.O(R)},R=[],q.O=(c,_,s,D)=>{if(!_){var l=1/0;for(w=0;w<R.length;w++){for(var[_,s,D]=R[w],m=!0,g=0;g<_.length;g++)(!1&D||l>=D)&&Object.keys(q.O).every(W=>q.O[W](_[g]))?_.splice(g--,1):(m=!1,D<l&&(l=D));if(m){R.splice(w--,1);var i=s();void 0!==i&&(c=i)}}return c}D=D||0;for(var w=R.length;w>0&&R[w-1][2]>D;w--)R[w]=R[w-1];R[w]=[_,s,D]},q.d=(R,c)=>{for(var _ in c)q.o(c,_)&&!q.o(R,_)&&Object.defineProperty(R,_,{enumerable:!0,get:c[_]})},q.f={},q.e=R=>Promise.all(Object.keys(q.f).reduce((c,_)=>(q.f[_](R,c),c),[])),q.u=R=>R+"."+{434:"f8c8c95364117e82",745:"c71f90e5c7958681"}[R]+".js",q.miniCssF=R=>{},q.o=(R,c)=>Object.prototype.hasOwnProperty.call(R,c),q.r=R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})},(()=>{var R;q.tt=()=>(void 0===R&&(R={createScriptURL:c=>c},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(R=trustedTypes.createPolicy("angular#bundler",R))),R)})(),q.tu=R=>q.tt().createScriptURL(R),q.p="",(()=>{var R={117:1};q.f.i=(D,w)=>{R[D]||importScripts(q.tu(q.p+q.u(D)))};var _=self.webpackChunkweb=self.webpackChunkweb||[],s=_.push.bind(_);_.push=D=>{var[w,l,m]=D;for(var g in l)q.o(l,g)&&(q.m[g]=l[g]);for(m&&m(q);w.length;)R[w.pop()]=1;s(D)}})(),(()=>{var R=q.x;q.x=()=>Promise.all([q.e(745),q.e(434)]).then(R)})(),q.x()})();