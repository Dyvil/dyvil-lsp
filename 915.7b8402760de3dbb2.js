(()=>{"use strict";var k,Oe={74915:(k,s,m)=>{var i=m(76383),_=m(41420),D=m(77737),c=m(52745);const f=Object.values(_.SemanticTokenTypes),d=Object.values(_.SemanticTokenModifiers);class o{constructor(e,t){this.documentService=t,e.connection.languages.semanticTokens.on(n=>this.provideSemanticTokens(n))}provideSemanticTokens(e){console.log(e);const n=this.documentService.documents.get(e.textDocument.uri);if(!n)return{data:[]};const a=new l,h=(0,c.V3)(n.getText()).resolve(new D._8([]));for(const b of(0,D.NR)(h))switch(b.kind){case"class":a.addNode(b.location,_.SemanticTokenTypes.class);break;case"field":case"expr:propertyAccess":a.addNode(b.location,_.SemanticTokenTypes.property);break;case"method":case"expr:methodCall":case"expr:functionCall":a.addNode(b.location,b instanceof D.lX&&b._constructor?_.SemanticTokenTypes.class:_.SemanticTokenTypes.method);break;case"parameter":a.addNode(b.location,_.SemanticTokenTypes.parameter);break;case"variable":a.addNode(b.location,_.SemanticTokenTypes.variable)}return console.log(a.data),{data:a.data}}}class l{constructor(){this.data=[],this.prevLine=0,this.prevChar=0}addNode(e,t,n=[]){const a=f.indexOf(t),h=n.map(q=>d.indexOf(q)).reduce((q,L)=>q|1<<L,0),b=e.start.line-1,x=e.start.column-1;this.data.push(b-this.prevLine,x-(b===this.prevLine?this.prevChar:0),e.end.column-e.start.column,a,h),this.prevLine=b,this.prevChar=x}}class g{constructor(e){this.connection=e,e.onInitialize(t=>{var n,a,h,b,P;const x=t.capabilities;this.hasConfigurationCapability=!(null===(n=x.workspace)||void 0===n||!n.configuration),this.hasWorkspaceFolderCapability=!(null===(a=x.workspace)||void 0===a||!a.workspaceFolders),this.hasDiagnosticRelatedInformationCapability=!(null===(b=null===(h=x.textDocument)||void 0===h?void 0:h.publishDiagnostics)||void 0===b||!b.relatedInformation),console.log(null===(P=x.workspace)||void 0===P?void 0:P.semanticTokens);const C={capabilities:{textDocumentSync:i.TextDocumentSyncKind.Incremental,completionProvider:{triggerCharacters:["."]},renameProvider:{prepareProvider:!0},referencesProvider:!0,definitionProvider:!0,hoverProvider:!0,documentHighlightProvider:!0,semanticTokensProvider:{legend:{tokenTypes:f,tokenModifiers:d},full:!0}}};return this.hasWorkspaceFolderCapability&&(C.capabilities.workspace={workspaceFolders:{supported:!0}}),C}),e.onInitialized(()=>{this.hasConfigurationCapability&&e.client.register(i.DidChangeConfigurationNotification.type,void 0)})}}class v{constructor(e,t,n,a){this._uri=e,this._languageId=t,this._version=n,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){const t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let n of e)if(v.isIncremental(n)){const a=O(n.range),h=this.offsetAt(a.start),b=this.offsetAt(a.end);this._content=this._content.substring(0,h)+n.text+this._content.substring(b,this._content.length);const P=Math.max(a.start.line,0),x=Math.max(a.end.line,0);let C=this._lineOffsets;const q=T(n.text,!1,h);if(x-P===q.length)for(let E=0,K=q.length;E<K;E++)C[E+P+1]=q[E];else q.length<1e4?C.splice(P+1,x-P,...q):this._lineOffsets=C=C.slice(0,P+1).concat(q,C.slice(x+1));const L=n.text.length-(b-h);if(0!==L)for(let E=P+1+q.length,K=C.length;E<K;E++)C[E]=C[E]+L}else{if(!v.isFull(n))throw new Error("Unknown change event received");this._content=n.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=T(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,a=t.length;if(0===a)return{line:0,character:e};for(;n<a;){let b=Math.floor((n+a)/2);t[b]>e?a=b:n=b+1}let h=n-1;return{line:h,character:e-t[h]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];return Math.max(Math.min(n+e.character,e.line+1<t.length?t[e.line+1]:this._content.length),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){return null!=e&&"string"==typeof e.text&&void 0!==e.range&&(void 0===e.rangeLength||"number"==typeof e.rangeLength)}static isFull(e){return null!=e&&"string"==typeof e.text&&void 0===e.range&&void 0===e.rangeLength}}var S,r;function F(r,e){if(r.length<=1)return r;const t=r.length/2|0,n=r.slice(0,t),a=r.slice(t);F(n,e),F(a,e);let h=0,b=0,P=0;for(;h<n.length&&b<a.length;)e(n[h],a[b])<=0?r[P++]=n[h++]:r[P++]=a[b++];for(;h<n.length;)r[P++]=n[h++];for(;b<a.length;)r[P++]=a[b++];return r}function T(r,e,t=0){const n=e?[t]:[];for(let a=0;a<r.length;a++){let h=r.charCodeAt(a);(13===h||10===h)&&(13===h&&a+1<r.length&&10===r.charCodeAt(a+1)&&a++,n.push(t+a+1))}return n}function O(r){const e=r.start,t=r.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:r}function M(r){const e=O(r.range);return e!==r.range?{newText:r.newText,range:e}:r}(r=S||(S={})).create=function e(a,h,b,P){return new v(a,h,b,P)},r.update=function t(a,h,b){if(a instanceof v)return a.update(h,b),a;throw new Error("TextDocument.update: document must be created by TextDocument.create")},r.applyEdits=function n(a,h){let b=a.getText(),P=F(h.map(M),(q,L)=>{let E=q.range.start.line-L.range.start.line;return 0===E?q.range.start.character-L.range.start.character:E}),x=0;const C=[];for(const q of P){let L=a.offsetAt(q.range.start);if(L<x)throw new Error("Overlapping edit");L>x&&C.push(b.substring(x,L)),q.newText.length&&C.push(q.newText),x=a.offsetAt(q.range.end)}return C.push(b.substr(x)),C.join("")};class w{constructor(e){this.connectionService=e,this.documents=new i.TextDocuments(S),this.astCache=new Map,this.documents.listen(this.connectionService.connection),this.documents.onDidChangeContent(t=>{this.astCache.has(t.document.uri)&&this.astCache.delete(t.document.uri)})}getAST(e){const t="string"==typeof e?e:e.uri,n=this.astCache.get(t);if(n)return n;const a="string"==typeof e?this.documents.get(t):e;return a?(0,c.V3)(a.getText(),t).resolve(new D._8([])):void 0}}function R(r){switch(r){case"keyword":return i.CompletionItemKind.Keyword;case"operator":return i.CompletionItemKind.Operator;case"class":return i.CompletionItemKind.Class;case"field":return i.CompletionItemKind.Field;case"method":return i.CompletionItemKind.Method;case"variable":case"parameter":return i.CompletionItemKind.Variable;default:return i.CompletionItemKind.Text}}class H{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onCompletion(n=>this.provideCompletionItems(n))}provideCompletionItems(e){const n=this.documentService.documents.get(e.textDocument.uri);if(!n)return[];const a=n.getText({start:{line:0,character:0},end:e.position}),h=n.getText({start:e.position,end:{line:n.lineCount,character:0}}),P=(0,c.V3)(`${a}\xa7${h}`).resolve(new D._8([])).diagnostics.find(x=>x.expected);return P&&P.expected?P.expected.map(x=>({kind:R(x.kind),label:x.label,labelDetails:{detail:x.signature,description:x.description},insertText:x.snippet,insertTextFormat:x.snippet?i.InsertTextFormat.Snippet:void 0})):[]}}function Z(r){return{start:{line:r.start.line-1,character:r.start.column-1},end:{line:r.end.line-1,character:r.end.column-1}}}function Re({severity:r,location:e,message:t}){return{severity:"error"===r?i.DiagnosticSeverity.Error:i.DiagnosticSeverity.Warning,range:Z(e),message:t,source:"dyvil"}}"function"==typeof SuppressedError&&SuppressedError;class Se{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onDidChangeConfiguration(()=>{this.documentService.documents.all().forEach(n=>this.validateTextDocument(n))}),this.documentService.documents.onDidChangeContent(n=>{this.validateTextDocument(n.document)})}validateTextDocument(e){return function le(r,e,t,n){return new(t||(t=Promise))(function(h,b){function P(q){try{C(n.next(q))}catch(L){b(L)}}function x(q){try{C(n.throw(q))}catch(L){b(L)}}function C(q){q.done?h(q.value):function a(h){return h instanceof t?h:new t(function(b){b(h)})}(q.value).then(P,x)}C((n=n.apply(r,e||[])).next())})}(this,void 0,void 0,function*(){const t=this.documentService.getAST(e);if(!t)return;const n=t.diagnostics.map(Re);yield this.connectionService.connection.sendDiagnostics({uri:e.uri,diagnostics:n})})}}class Ce{constructor(e,t){this.connectionService=e,this.documentService=t,this.connectionService.connection.onPrepareRename(n=>this.prepareRename(n)),this.connectionService.connection.onRenameRequest(n=>this.rename(n)),this.connectionService.connection.onReferences(n=>this.references(n)),this.connectionService.connection.onDefinition(n=>this.definition(n)),this.connectionService.connection.onHover(n=>this.hover(n)),this.connectionService.connection.onDocumentHighlight(n=>this.highlight(n))}prepareRename(e){const t=this.findNode(e);if(!t)return;const n=t.references("rename");return n&&n.length?Z(t.location):void 0}rename(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("rename");if(n&&n.length)return{changes:{[e.textDocument.uri]:n.map(a=>({range:Z(a),newText:e.newName}))}}}references(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("definition");if(n&&n.length)return!e.context.includeDeclaration&&n.length&&n.shift(),n.map(a=>({uri:e.textDocument.uri,range:Z(a)}))}definition(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references("definition");if(n&&n.length)return{uri:e.textDocument.uri,range:Z(n[0])}}hover(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.documentation();return n?{contents:{kind:"markdown",value:n}}:null}highlight(e){var t;const n=null===(t=this.findNode(e))||void 0===t?void 0:t.references();if(n&&n.length)return n.map(a=>({range:Z(a)}))}findNode(e){const t=e.textDocument.uri,n=new D.Ly(e.position.line+1,e.position.character),a=this.documentService.getAST(t);if(!a)return;const h=a.findByPosition(n);return h?h[h.length-1]:void 0}}var he=m(35072);console.log("Running Dyvil Language Server in Web Worker");const ce=new he.BrowserMessageReader(self),ae=new he.BrowserMessageWriter(self),te=(0,he.createConnection)(ce,ae);(function se(r){const e=new g(r),t=new w(e);new H(e,t),new Se(e,t),new Ce(e,t),new o(e,t)})(te),te.listen()},77737:(k,s,m)=>{m.d(s,{_C:()=>S,gO:()=>O.gO,wT:()=>i.wT,dm:()=>i.dm,rF:()=>c.rF,eB:()=>i.eB,on:()=>O.on,v_:()=>i.v_,R9:()=>_.R9,WJ:()=>O.WJ,K9:()=>O.K9,gN:()=>i.gN,lX:()=>l,rX:()=>O.rX,t$:()=>d,n$:()=>i.n$,o6:()=>v,d2:()=>i.d2,ZJ:()=>F,Ly:()=>_.Ly,MX:()=>c.MX,jR:()=>g,e6:()=>_.e6,_8:()=>T._,sj:()=>O.sj,_w:()=>i._w,sW:()=>o,UX:()=>O.UX,NR:()=>D.NR});var i=m(25447),_=m(84260),D=m(667),c=m(27426);class f extends D.NB{constructor(w){super(`expr:${w}`)}getType(){throw new Error(`${this.constructor.name}.getType not implemented`)}}class d extends f{constructor(w){super("literal"),this.representation=w}toString(){return this.representation}getType(){switch(this.representation.charAt(0)){case'"':return new c.MX("string");case"t":case"f":return new c.MX("boolean");default:return new c.MX("int")}}}class o extends f{constructor(w){super("variable"),this.name=w}toString(){return this.name}definition(){return this._variable}resolve(w){var R;return(0,_.Hk)(w,this.location,this.name)||this._variable||(this._variable||(this._variable=w.lookup(this.name,i.YN)||(0,_.Hj)(w,this.location,`variable ${this.name} not found`)),null===(R=this._variable)||void 0===R||R._references.push(this)),this}getType(){var w,R;return null!==(R=null===(w=this._variable)||void 0===w?void 0:w.type)&&void 0!==R?R:c.NI}}class l extends f{constructor(w,R){super("functionCall"),this.name=w,this.args=R}toString(w){return`${this.name}(${this.args.map(R=>R.toString(w)).join(", ")})`}definition(w){var R;return"rename"===w?null===(R=this._constructor)||void 0===R?void 0:R._thisClass:this._constructor}resolve(w){if(this.args=this.args.map(R=>R.resolve(w)),!this._constructor){const R=w.lookup(this.name,i.wT);if(R){const H=this.args.map(X=>X.getType()),A=R.lookup("init",i.v_,H);A?(this._constructor=A,A._references.push(this),R._references.push(this)):(0,_.Hj)(w,this.location,`constructor ${this.name}(${H.join(", ")}) not found`)}else(0,_.Hj)(w,this.location,`class or function ${this.name} not found`)}return this}getType(){var w,R,H;return null!==(H=null===(R=null===(w=this._constructor)||void 0===w?void 0:w._thisClass)||void 0===R?void 0:R.asType())&&void 0!==H?H:c.NI}}class g extends f{constructor(w,R){super("propertyAccess"),this.object=w,this.property=R}toString(w){return`${this.object.toString(w)}.${this.property}`}definition(){return this._field}resolve(w){var R;this.object=this.object.resolve(w);const H=this.object.getType();return(0,_.Hk)(w,this.location,this.property,{lookup:H})||this._field||(this._field||(this._field=H.lookup(this.property,i.gN)||(0,_.Hj)(w,this.location,`field ${this.property} not found on ${H}`)),null===(R=this._field)||void 0===R||R._references.push(this)),this}getType(){var w;return(null===(w=this._field)||void 0===w?void 0:w.type)||c.NI}}class v extends f{constructor(w,R,H){super("methodCall"),this.object=w,this.method=R,this.args=H}definition(){return this._method}toString(w){const R=this._method&&"js"===w?this._method.jsName:this.method;return`${this.object.toString(w)}.${R}(${this.args.map(H=>H.toString(w)).join(", ")})`}resolve(w){var R;if(this.object=this.object.resolve(w),this.args=this.args.map(H=>H.resolve(w)),!this._method){const H=this.object.getType(),A=this.args.map(X=>X.getType());this._method||(this._method=H.lookup(this.method,i.n$,A)||(0,_.Hj)(w,this.location,`method ${this.method} not found on ${H}`)),null===(R=this._method)||void 0===R||R._references.push(this)}return this}}class S extends f{constructor(w,R,H){super("binary"),this.lhs=w,this.operator=R,this.rhs=H}toString(w){return`${this.lhs.toString(w)} ${this.operator} ${this.rhs.toString(w)}`}getType(){switch(this.operator){case"+":const w=this.lhs.getType(),R=this.rhs.getType();return"type:primitive"===w.kind&&"string"===w.name?w:"type:primitive"===R.kind&&"string"===R.name?R:new c.MX("int");case"&&":case"||":case"==":case"!=":case"<":case"<=":case">":case">=":return new c.MX("boolean");case"-":case"*":case"/":case"%":case"<<":case">>":case">>>":case"&":case"|":case"^":return new c.MX("int");default:return c.NI}}}class F extends f{constructor(w){super("parenthesized"),this.expression=w}toString(w){return`(${this.expression.toString(w)})`}getType(){return this.expression.getType()}}var T=m(9290),O=m(43418)},84260:(k,s,m)=>{m.d(s,{Hj:()=>d,Hk:()=>o,Ly:()=>_,R9:()=>c,e6:()=>D});var i=m(25447);class _{constructor(g,v){this.line=g,this.column=v}}class D{constructor(g,v){this.start=g,this.end=v}includes(g){return this.start.line<=g.line&&this.start.column<=g.column&&g.line<=this.end.line&&g.column<=this.end.column}}class c{constructor(g,v,S,F="error",T){if(this.path=g,this.location=v,this.message=S,this.severity=F,this.expected=T,!v)throw new Error("location is required")}}function d(l,g,v,S="error",F){const T=l.lookup(i.eB.enclosing,i.eB),O=new c(void 0,g,v,S,F);T?T.report(O):function f(l){const{path:g,location:{start:{line:v,column:S}},message:F,severity:T}=l;switch(T){case"error":console.error(`${g}:${v}:${S}: error: ${F}`);break;case"warning":console.warn(`${g}:${v}:${S}: warning: ${F}`);break;case"note":console.info(`${g}:${v}:${S}: note: ${F}`)}if(l.expected)for(let O of l.expected)console.log(`- [${O.kind}] ${O.label} ${O.signature||""} - ${O.description||""}`)}(O)}function o(l,g,v,{lookup:S,kind:F,extra:T}={}){if(!v.includes("\xa7"))return!1;const O=v.slice(0,-1),M=(S||l).list().filter(R=>"name"in R).filter(R=>!F||R.kind===F).map(R=>"asCompletion"in R?R.asCompletion():{kind:R.kind,label:R.name});return d(l,g,"input '\xa7' expecting","error",(T?[...M,...T]:M).filter(R=>R.label.startsWith(O))),!0}},667:(k,s,m)=>{m.d(s,{$S:()=>c,NB:()=>i,NR:()=>D});class i{constructor(d){this.kind=d}definition(d){}documentation(){var d;return null===(d=this.definition())||void 0===d?void 0:d.documentation()}references(d){var o;return(null===(o=this.definition(d))||void 0===o?void 0:o.references(d))||[]}resolve(d){return _(this,o=>o.resolve(d)),this}findByPosition(d){var o;let l;return _(this,g=>(l||(l=g.findByPosition(d)),g)),l?[this,...l]:null!==(o=this.location)&&void 0!==o&&o.includes(d)?[this]:void 0}toString(d){return this.kind}}function _(f,d){for(const[o,l]of Object.entries(f))if("location"!==o&&"kind"!==o&&!o.startsWith("_")&&l)if(Array.isArray(l))for(let g=0;g<l.length;g++)l[g]instanceof i&&(l[g]=d(l[g]));else l instanceof i&&(f[o]=d(l))}function*D(f){yield f;for(const[d,o]of Object.entries(f))if("location"!==d&&"kind"!==d&&!d.startsWith("_")&&o)if(Array.isArray(o))for(let l=0;l<o.length;l++)o[l]instanceof i&&(yield*D(o[l]));else o instanceof i&&(yield*D(o))}function c(f,...d){if(!f[0].startsWith("\n"))throw new Error("must start with a newline");const o=f[0].match(/^\n([ \t]*)/)[1];return f.map((l,g)=>{var v;0===g&&(l=l.substring(1+o.length));const F=(l=l.replace(new RegExp("^"+o,"gm"),"")).substring(l.lastIndexOf("\n")+1).match(/^\s*/)[0];return l+(null!==(v=d[g])&&void 0!==v?v:"").toString().replace(/\n/g,`\n${F}`)}).join("")}},35072:(k,s,m)=>{k.exports=m(76383)},76383:function(k,s,m){var i=this&&this.__createBinding||(Object.create?function(o,l,g,v){void 0===v&&(v=g);var S=Object.getOwnPropertyDescriptor(l,g);(!S||("get"in S?!l.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return l[g]}}),Object.defineProperty(o,v,S)}:function(o,l,g,v){void 0===v&&(v=g),o[v]=l[g]}),_=this&&this.__exportStar||function(o,l){for(var g in o)"default"!==g&&!Object.prototype.hasOwnProperty.call(l,g)&&i(l,o,g)};Object.defineProperty(s,"__esModule",{value:!0}),s.createConnection=void 0;const D=m(35078);_(m(69434),s),_(m(35078),s);let c=!1;const f={initialize:o=>{},get shutdownReceived(){return c},set shutdownReceived(o){c=o},exit:o=>{}};s.createConnection=function d(o,l,g,v){let S,F,T,O;return void 0!==o&&"features"===o.__brand&&(S=o,o=l,l=g,g=v),D.ConnectionStrategy.is(o)||D.ConnectionOptions.is(o)?O=o:(F=o,T=l,O=g),(0,D.createConnection)(w=>(0,D.createProtocolConnection)(F,T,w,O),f,S)}},35078:function(k,s,m){var i=this&&this.__createBinding||(Object.create?function(o,l,g,v){void 0===v&&(v=g);var S=Object.getOwnPropertyDescriptor(l,g);(!S||("get"in S?!l.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return l[g]}}),Object.defineProperty(o,v,S)}:function(o,l,g,v){void 0===v&&(v=g),o[v]=l[g]}),_=this&&this.__exportStar||function(o,l){for(var g in o)"default"!==g&&!Object.prototype.hasOwnProperty.call(l,g)&&i(l,o,g)};Object.defineProperty(s,"__esModule",{value:!0}),s.ProposedFeatures=s.NotebookDocuments=s.TextDocuments=s.SemanticTokensBuilder=void 0;const D=m(93737);Object.defineProperty(s,"SemanticTokensBuilder",{enumerable:!0,get:function(){return D.SemanticTokensBuilder}}),_(m(73605),s);const c=m(72460);Object.defineProperty(s,"TextDocuments",{enumerable:!0,get:function(){return c.TextDocuments}});const f=m(39209);Object.defineProperty(s,"NotebookDocuments",{enumerable:!0,get:function(){return f.NotebookDocuments}}),_(m(36746),s),(s.ProposedFeatures||(s.ProposedFeatures={})).all={__brand:"features"}},40621:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CallHierarchyFeature=void 0;const i=m(73605);s.CallHierarchyFeature=D=>class extends D{get callHierarchy(){return{onPrepare:c=>this.connection.onRequest(i.CallHierarchyPrepareRequest.type,(f,d)=>c(f,d,this.attachWorkDoneProgress(f),void 0)),onIncomingCalls:c=>{const f=i.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(f,(d,o)=>c(d,o,this.attachWorkDoneProgress(d),this.attachPartialResultProgress(f,d)))},onOutgoingCalls:c=>{const f=i.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(f,(d,o)=>c(d,o,this.attachWorkDoneProgress(d),this.attachPartialResultProgress(f,d)))}}}}},75943:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ConfigurationFeature=void 0;const i=m(73605),_=m(15055);s.ConfigurationFeature=c=>class extends c{getConfiguration(f){return f?_.string(f)?this._getConfiguration({section:f}):this._getConfiguration(f):this._getConfiguration({})}_getConfiguration(f){let d={items:Array.isArray(f)?f:[f]};return this.connection.sendRequest(i.ConfigurationRequest.type,d).then(o=>Array.isArray(o)?Array.isArray(f)?o:o[0]:Array.isArray(f)?[]:null)}}},86328:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DiagnosticFeature=void 0;const i=m(73605);s.DiagnosticFeature=D=>class extends D{get diagnostics(){return{refresh:()=>this.connection.sendRequest(i.DiagnosticRefreshRequest.type),on:c=>this.connection.onRequest(i.DocumentDiagnosticRequest.type,(f,d)=>c(f,d,this.attachWorkDoneProgress(f),this.attachPartialResultProgress(i.DocumentDiagnosticRequest.partialResult,f))),onWorkspace:c=>this.connection.onRequest(i.WorkspaceDiagnosticRequest.type,(f,d)=>c(f,d,this.attachWorkDoneProgress(f),this.attachPartialResultProgress(i.WorkspaceDiagnosticRequest.partialResult,f)))}}}},89565:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FileOperationsFeature=void 0;const i=m(73605);s.FileOperationsFeature=D=>class extends D{onDidCreateFiles(c){return this.connection.onNotification(i.DidCreateFilesNotification.type,f=>{c(f)})}onDidRenameFiles(c){return this.connection.onNotification(i.DidRenameFilesNotification.type,f=>{c(f)})}onDidDeleteFiles(c){return this.connection.onNotification(i.DidDeleteFilesNotification.type,f=>{c(f)})}onWillCreateFiles(c){return this.connection.onRequest(i.WillCreateFilesRequest.type,(f,d)=>c(f,d))}onWillRenameFiles(c){return this.connection.onRequest(i.WillRenameFilesRequest.type,(f,d)=>c(f,d))}onWillDeleteFiles(c){return this.connection.onRequest(i.WillDeleteFilesRequest.type,(f,d)=>c(f,d))}}},50110:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InlayHintFeature=void 0;const i=m(73605);s.InlayHintFeature=D=>class extends D{get inlayHint(){return{refresh:()=>this.connection.sendRequest(i.InlayHintRefreshRequest.type),on:c=>this.connection.onRequest(i.InlayHintRequest.type,(f,d)=>c(f,d,this.attachWorkDoneProgress(f))),resolve:c=>this.connection.onRequest(i.InlayHintResolveRequest.type,(f,d)=>c(f,d))}}}},55412:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InlineValueFeature=void 0;const i=m(73605);s.InlineValueFeature=D=>class extends D{get inlineValue(){return{refresh:()=>this.connection.sendRequest(i.InlineValueRefreshRequest.type),on:c=>this.connection.onRequest(i.InlineValueRequest.type,(f,d)=>c(f,d,this.attachWorkDoneProgress(f)))}}}},60801:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkedEditingRangeFeature=void 0;const i=m(73605);s.LinkedEditingRangeFeature=D=>class extends D{onLinkedEditingRange(c){return this.connection.onRequest(i.LinkedEditingRangeRequest.type,(f,d)=>c(f,d,this.attachWorkDoneProgress(f),void 0))}}},41135:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MonikerFeature=void 0;const i=m(73605);s.MonikerFeature=D=>class extends D{get moniker(){return{on:c=>{const f=i.MonikerRequest.type;return this.connection.onRequest(f,(d,o)=>c(d,o,this.attachWorkDoneProgress(d),this.attachPartialResultProgress(f,d)))}}}}},39209:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NotebookDocuments=s.NotebookSyncFeature=void 0;const i=m(73605),_=m(72460);s.NotebookSyncFeature=d=>class extends d{get synchronization(){return{onDidOpenNotebookDocument:o=>this.connection.onNotification(i.DidOpenNotebookDocumentNotification.type,l=>{o(l)}),onDidChangeNotebookDocument:o=>this.connection.onNotification(i.DidChangeNotebookDocumentNotification.type,l=>{o(l)}),onDidSaveNotebookDocument:o=>this.connection.onNotification(i.DidSaveNotebookDocumentNotification.type,l=>{o(l)}),onDidCloseNotebookDocument:o=>this.connection.onNotification(i.DidCloseNotebookDocumentNotification.type,l=>{o(l)})}}};class c{onDidOpenTextDocument(o){return this.openHandler=o,i.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(o){this.openHandler&&this.openHandler(o)}onDidChangeTextDocument(o){return this.changeHandler=o,i.Disposable.create(()=>{this.changeHandler=o})}changeTextDocument(o){this.changeHandler&&this.changeHandler(o)}onDidCloseTextDocument(o){return this.closeHandler=o,i.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(o){this.closeHandler&&this.closeHandler(o)}onWillSaveTextDocument(){return c.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return c.NULL_DISPOSE}onDidSaveTextDocument(){return c.NULL_DISPOSE}}c.NULL_DISPOSE=Object.freeze({dispose:()=>{}}),s.NotebookDocuments=class f{constructor(o){this._cellTextDocuments=o instanceof _.TextDocuments?o:new _.TextDocuments(o),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new i.Emitter,this._onDidChange=new i.Emitter,this._onDidSave=new i.Emitter,this._onDidClose=new i.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(o){return this._cellTextDocuments.get(o.document)}getNotebookDocument(o){return this.notebookDocuments.get(o)}getNotebookCell(o){const l=this.notebookCellMap.get(o);return l&&l[0]}findNotebookDocumentForCell(o){const g=this.notebookCellMap.get("string"==typeof o?o:o.document);return g&&g[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(o){const l=new c,g=[];return g.push(this.cellTextDocuments.listen(l)),g.push(o.notebooks.synchronization.onDidOpenNotebookDocument(v=>{this.notebookDocuments.set(v.notebookDocument.uri,v.notebookDocument);for(const S of v.cellTextDocuments)l.openTextDocument({textDocument:S});this.updateCellMap(v.notebookDocument),this._onDidOpen.fire(v.notebookDocument)})),g.push(o.notebooks.synchronization.onDidChangeNotebookDocument(v=>{const S=this.notebookDocuments.get(v.notebookDocument.uri);if(void 0===S)return;S.version=v.notebookDocument.version;const F=S.metadata;let T=!1;const O=v.change;void 0!==O.metadata&&(T=!0,S.metadata=O.metadata);const M=[],w=[],R=[],H=[];if(void 0!==O.cells){const I=O.cells;if(void 0!==I.structure){const $=I.structure.array;if(S.cells.splice($.start,$.deleteCount,...void 0!==$.cells?$.cells:[]),void 0!==I.structure.didOpen)for(const B of I.structure.didOpen)l.openTextDocument({textDocument:B}),M.push(B.uri);if(I.structure.didClose)for(const B of I.structure.didClose)l.closeTextDocument({textDocument:B}),w.push(B.uri)}if(void 0!==I.data){const $=new Map(I.data.map(B=>[B.document,B]));for(let B=0;B<=S.cells.length;B++){const Y=$.get(S.cells[B].document);if(void 0!==Y){const ue=S.cells.splice(B,1,Y);if(R.push({old:ue[0],new:Y}),$.delete(Y.document),0===$.size)break}}}if(void 0!==I.textContent)for(const $ of I.textContent)l.changeTextDocument({textDocument:$.document,contentChanges:$.changes}),H.push($.document.uri)}this.updateCellMap(S);const A={notebookDocument:S};T&&(A.metadata={old:F,new:S.metadata});const X=[];for(const I of M)X.push(this.getNotebookCell(I));const J=[];for(const I of w)J.push(this.getNotebookCell(I));const Q=[];for(const I of H)Q.push(this.getNotebookCell(I));(X.length>0||J.length>0||R.length>0||Q.length>0)&&(A.cells={added:X,removed:J,changed:{data:R,textContent:Q}}),(void 0!==A.metadata||void 0!==A.cells)&&this._onDidChange.fire(A)})),g.push(o.notebooks.synchronization.onDidSaveNotebookDocument(v=>{const S=this.notebookDocuments.get(v.notebookDocument.uri);void 0!==S&&this._onDidSave.fire(S)})),g.push(o.notebooks.synchronization.onDidCloseNotebookDocument(v=>{const S=this.notebookDocuments.get(v.notebookDocument.uri);if(void 0!==S){this._onDidClose.fire(S);for(const F of v.cellTextDocuments)l.closeTextDocument({textDocument:F});this.notebookDocuments.delete(v.notebookDocument.uri);for(const F of S.cells)this.notebookCellMap.delete(F.document)}})),i.Disposable.create(()=>{g.forEach(v=>v.dispose())})}updateCellMap(o){for(const l of o.cells)this.notebookCellMap.set(l.document,[l,o])}}},84673:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attachPartialResult=s.ProgressFeature=s.attachWorkDone=void 0;const i=m(73605),_=m(61155);class D{constructor(T,O){this._connection=T,this._token=O,D.Instances.set(this._token,this)}begin(T,O,M,w){this._connection.sendProgress(i.WorkDoneProgress.type,this._token,{kind:"begin",title:T,percentage:O,message:M,cancellable:w})}report(T,O){let M={kind:"report"};"number"==typeof T?(M.percentage=T,void 0!==O&&(M.message=O)):M.message=T,this._connection.sendProgress(i.WorkDoneProgress.type,this._token,M)}done(){D.Instances.delete(this._token),this._connection.sendProgress(i.WorkDoneProgress.type,this._token,{kind:"end"})}}D.Instances=new Map;class c extends D{constructor(T,O){super(T,O),this._source=new i.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class f{constructor(){}begin(){}report(){}done(){}}class d extends f{constructor(){super(),this._source=new i.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}var g;s.attachWorkDone=function o(F,T){if(void 0===T||void 0===T.workDoneToken)return new f;const O=T.workDoneToken;return delete T.workDoneToken,new D(F,O)},s.ProgressFeature=F=>class extends F{constructor(){super(),this._progressSupported=!1}initialize(T){super.initialize(T),!0===T?.window?.workDoneProgress&&(this._progressSupported=!0,this.connection.onNotification(i.WorkDoneProgressCancelNotification.type,O=>{let M=D.Instances.get(O.token);(M instanceof c||M instanceof d)&&M.cancel()}))}attachWorkDoneProgress(T){return void 0===T?new f:new D(this.connection,T)}createWorkDoneProgress(){if(this._progressSupported){const T=(0,_.generateUuid)();return this.connection.sendRequest(i.WorkDoneProgressCreateRequest.type,{token:T}).then(()=>new c(this.connection,T))}return Promise.resolve(new d)}},(g||(g={})).type=new i.ProgressType;class v{constructor(T,O){this._connection=T,this._token=O}report(T){this._connection.sendProgress(g.type,this._token,T)}}s.attachPartialResult=function S(F,T){if(void 0===T||void 0===T.partialResultToken)return;const O=T.partialResultToken;return delete T.partialResultToken,new v(F,O)}},93737:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SemanticTokensBuilder=s.SemanticTokensDiff=s.SemanticTokensFeature=void 0;const i=m(73605);s.SemanticTokensFeature=f=>class extends f{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(i.SemanticTokensRefreshRequest.type),on:d=>{const o=i.SemanticTokensRequest.type;return this.connection.onRequest(o,(l,g)=>d(l,g,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))},onDelta:d=>{const o=i.SemanticTokensDeltaRequest.type;return this.connection.onRequest(o,(l,g)=>d(l,g,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))},onRange:d=>{const o=i.SemanticTokensRangeRequest.type;return this.connection.onRequest(o,(l,g)=>d(l,g,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))}}}};class D{constructor(d,o){this.originalSequence=d,this.modifiedSequence=o}computeDiff(){const d=this.originalSequence.length,o=this.modifiedSequence.length;let l=0;for(;l<o&&l<d&&this.originalSequence[l]===this.modifiedSequence[l];)l++;if(l<o&&l<d){let g=d-1,v=o-1;for(;g>=l&&v>=l&&this.originalSequence[g]===this.modifiedSequence[v];)g--,v--;(g<l||v<l)&&(g++,v++);const S=g-l+1,F=this.modifiedSequence.slice(l,v+1);return 1===F.length&&F[0]===this.originalSequence[g]?[{start:l,deleteCount:S-1}]:[{start:l,deleteCount:S,data:F}]}return l<o?[{start:l,deleteCount:0,data:this.modifiedSequence.slice(l)}]:l<d?[{start:l,deleteCount:d-l}]:[]}}s.SemanticTokensDiff=D,s.SemanticTokensBuilder=class c{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(d,o,l,g,v){let S=d,F=o;this._dataLen>0&&(S-=this._prevLine,0===S&&(F-=this._prevChar)),this._data[this._dataLen++]=S,this._data[this._dataLen++]=F,this._data[this._dataLen++]=l,this._data[this._dataLen++]=g,this._data[this._dataLen++]=v,this._prevLine=d,this._prevChar=o}get id(){return this._id.toString()}previousResult(d){this.id===d&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){return void 0!==this._prevData?{resultId:this.id,edits:new D(this._prevData,this._data).computeDiff()}:this.build()}}},36746:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createConnection=s.combineFeatures=s.combineNotebooksFeatures=s.combineLanguagesFeatures=s.combineWorkspaceFeatures=s.combineWindowFeatures=s.combineClientFeatures=s.combineTracerFeatures=s.combineTelemetryFeatures=s.combineConsoleFeatures=s._NotebooksImpl=s._LanguagesImpl=s.BulkUnregistration=s.BulkRegistration=s.ErrorMessageTracker=void 0;const i=m(73605),_=m(15055),D=m(61155),c=m(84673),f=m(75943),d=m(63685),o=m(40621),l=m(93737),g=m(34074),v=m(89565),S=m(60801),F=m(38380),T=m(55412),O=m(50110),M=m(86328),w=m(39209),R=m(41135);function H(N){if(null!==N)return N}s.ErrorMessageTracker=class A{constructor(){this._messages=Object.create(null)}add(u){let y=this._messages[u];y||(y=0),y++,this._messages[u]=y}sendErrors(u){Object.keys(this._messages).forEach(y=>{u.window.showErrorMessage(y)})}};class X{constructor(){}rawAttach(u){this._rawConnection=u}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(u){}initialize(u){}error(u){this.send(i.MessageType.Error,u)}warn(u){this.send(i.MessageType.Warning,u)}info(u){this.send(i.MessageType.Info,u)}log(u){this.send(i.MessageType.Log,u)}send(u,y){this._rawConnection&&this._rawConnection.sendNotification(i.LogMessageNotification.type,{type:u,message:y}).catch(()=>{(0,i.RAL)().console.error("Sending log message failed")})}}const Q=(0,g.ShowDocumentFeature)((0,c.ProgressFeature)(class J{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}showErrorMessage(u,...y){return this.connection.sendRequest(i.ShowMessageRequest.type,{type:i.MessageType.Error,message:u,actions:y}).then(H)}showWarningMessage(u,...y){return this.connection.sendRequest(i.ShowMessageRequest.type,{type:i.MessageType.Warning,message:u,actions:y}).then(H)}showInformationMessage(u,...y){return this.connection.sendRequest(i.ShowMessageRequest.type,{type:i.MessageType.Info,message:u,actions:y}).then(H)}}));(s.BulkRegistration||(s.BulkRegistration={})).create=function u(){return new $};class ${constructor(){this._registrations=[],this._registered=new Set}add(u,y){const W=_.string(u)?u:u.method;if(this._registered.has(W))throw new Error(`${W} is already added to this registration`);const p=D.generateUuid();this._registrations.push({id:p,method:W,registerOptions:y||{}}),this._registered.add(W)}asRegistrationParams(){return{registrations:this._registrations}}}(s.BulkUnregistration||(s.BulkUnregistration={})).create=function u(){return new Y(void 0,[])};class Y{constructor(u,y){this._connection=u,this._unregistrations=new Map,y.forEach(W=>{this._unregistrations.set(W.method,W)})}get isAttached(){return!!this._connection}attach(u){this._connection=u}add(u){this._unregistrations.set(u.method,u)}dispose(){let u=[];for(let W of this._unregistrations.values())u.push(W);this._connection.sendRequest(i.UnregistrationRequest.type,{unregisterations:u}).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(u){const y=_.string(u)?u:u.method,W=this._unregistrations.get(y);return!!W&&(this._connection.sendRequest(i.UnregistrationRequest.type,{unregisterations:[W]}).then(()=>{this._unregistrations.delete(y)},z=>{this._connection.console.info(`Un-registering request handler for ${W.id} failed.`)}),!0)}}class ue{attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}register(u,y,W){return u instanceof $?this.registerMany(u):u instanceof Y?this.registerSingle1(u,y,W):this.registerSingle2(u,y)}registerSingle1(u,y,W){const p=_.string(y)?y:y.method,z=D.generateUuid();let G={registrations:[{id:z,method:p,registerOptions:W||{}}]};return u.isAttached||u.attach(this.connection),this.connection.sendRequest(i.RegistrationRequest.type,G).then(re=>(u.add({id:z,method:p}),u),re=>(this.connection.console.info(`Registering request handler for ${p} failed.`),Promise.reject(re)))}registerSingle2(u,y){const W=_.string(u)?u:u.method,p=D.generateUuid();return this.connection.sendRequest(i.RegistrationRequest.type,{registrations:[{id:p,method:W,registerOptions:y||{}}]}).then(G=>i.Disposable.create(()=>{this.unregisterSingle(p,W).catch(()=>{this.connection.console.info(`Un-registering capability with id ${p} failed.`)})}),G=>(this.connection.console.info(`Registering request handler for ${W} failed.`),Promise.reject(G)))}unregisterSingle(u,y){return this.connection.sendRequest(i.UnregistrationRequest.type,{unregisterations:[{id:u,method:y}]}).catch(()=>{this.connection.console.info(`Un-registering request handler for ${u} failed.`)})}registerMany(u){let y=u.asRegistrationParams();return this.connection.sendRequest(i.RegistrationRequest.type,y).then(()=>new Y(this._connection,y.registrations.map(W=>({id:W.id,method:W.method}))),W=>(this.connection.console.info("Bulk registration failed."),Promise.reject(W)))}}const ge=(0,v.FileOperationsFeature)((0,d.WorkspaceFoldersFeature)((0,f.ConfigurationFeature)(class Ne{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}applyEdit(u){let W=function y(p){return p&&!!p.edit}(u)?u:{edit:u};return this.connection.sendRequest(i.ApplyWorkspaceEditRequest.type,W)}})));class le{constructor(){this._trace=i.Trace.Off}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}set trace(u){this._trace=u}log(u,y){this._trace!==i.Trace.Off&&this.connection.sendNotification(i.LogTraceNotification.type,{message:u,verbose:this._trace===i.Trace.Verbose?y:void 0}).catch(()=>{})}}class pe{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}logEvent(u){this.connection.sendNotification(i.TelemetryEventNotification.type,u).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class oe{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}attachWorkDoneProgress(u){return(0,c.attachWorkDone)(this.connection,u)}attachPartialResultProgress(u,y){return(0,c.attachPartialResult)(this.connection,y)}}s._LanguagesImpl=oe;const me=(0,R.MonikerFeature)((0,M.DiagnosticFeature)((0,O.InlayHintFeature)((0,T.InlineValueFeature)((0,F.TypeHierarchyFeature)((0,S.LinkedEditingRangeFeature)((0,l.SemanticTokensFeature)((0,o.CallHierarchyFeature)(oe))))))));class ie{constructor(){}attach(u){this._connection=u}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(u){}fillServerCapabilities(u){}attachWorkDoneProgress(u){return(0,c.attachWorkDone)(this.connection,u)}attachPartialResultProgress(u,y){return(0,c.attachPartialResult)(this.connection,y)}}s._NotebooksImpl=ie;const de=(0,w.NotebookSyncFeature)(ie);function ye(N,u){return function(y){return u(N(y))}}function _e(N,u){return function(y){return u(N(y))}}function ve(N,u){return function(y){return u(N(y))}}function V(N,u){return function(y){return u(N(y))}}function be(N,u){return function(y){return u(N(y))}}function De(N,u){return function(y){return u(N(y))}}function we(N,u){return function(y){return u(N(y))}}function ke(N,u){return function(y){return u(N(y))}}s.combineConsoleFeatures=ye,s.combineTelemetryFeatures=_e,s.combineTracerFeatures=ve,s.combineClientFeatures=V,s.combineWindowFeatures=be,s.combineWorkspaceFeatures=De,s.combineLanguagesFeatures=we,s.combineNotebooksFeatures=ke,s.combineFeatures=function Te(N,u){function y(p,z,G){return p&&z?G(p,z):p||z}return{__brand:"features",console:y(N.console,u.console,ye),tracer:y(N.tracer,u.tracer,ve),telemetry:y(N.telemetry,u.telemetry,_e),client:y(N.client,u.client,V),window:y(N.window,u.window,be),workspace:y(N.workspace,u.workspace,De),languages:y(N.languages,u.languages,we),notebooks:y(N.notebooks,u.notebooks,ke)}},s.createConnection=function Pe(N,u,y){const W=y&&y.console?new(y.console(X)):new X,p=N(W);W.rawAttach(p);const z=y&&y.tracer?new(y.tracer(le)):new le,G=y&&y.telemetry?new(y.telemetry(pe)):new pe,re=y&&y.client?new(y.client(ue)):new ue,Z=y&&y.window?new(y.window(Q)):new Q,Re=y&&y.workspace?new(y.workspace(ge)):new ge,Se=y&&y.languages?new(y.languages(me)):new me,Ce=y&&y.notebooks?new(y.notebooks(de)):new de,se=[W,z,G,re,Z,Re,Se,Ce];let ce,ae,te,r={listen:()=>p.listen(),sendRequest:(e,...t)=>p.sendRequest(_.string(e)?e:e.method,...t),onRequest:(e,t)=>p.onRequest(e,t),sendNotification:(e,t)=>{const n=_.string(e)?e:e.method;return 1===arguments.length?p.sendNotification(n):p.sendNotification(n,t)},onNotification:(e,t)=>p.onNotification(e,t),onProgress:p.onProgress,sendProgress:p.sendProgress,onInitialize:e=>(ae=e,{dispose:()=>{ae=void 0}}),onInitialized:e=>p.onNotification(i.InitializedNotification.type,e),onShutdown:e=>(ce=e,{dispose:()=>{ce=void 0}}),onExit:e=>(te=e,{dispose:()=>{te=void 0}}),get console(){return W},get telemetry(){return G},get tracer(){return z},get client(){return re},get window(){return Z},get workspace(){return Re},get languages(){return Se},get notebooks(){return Ce},onDidChangeConfiguration:e=>p.onNotification(i.DidChangeConfigurationNotification.type,e),onDidChangeWatchedFiles:e=>p.onNotification(i.DidChangeWatchedFilesNotification.type,e),__textDocumentSync:void 0,onDidOpenTextDocument:e=>p.onNotification(i.DidOpenTextDocumentNotification.type,e),onDidChangeTextDocument:e=>p.onNotification(i.DidChangeTextDocumentNotification.type,e),onDidCloseTextDocument:e=>p.onNotification(i.DidCloseTextDocumentNotification.type,e),onWillSaveTextDocument:e=>p.onNotification(i.WillSaveTextDocumentNotification.type,e),onWillSaveTextDocumentWaitUntil:e=>p.onRequest(i.WillSaveTextDocumentWaitUntilRequest.type,e),onDidSaveTextDocument:e=>p.onNotification(i.DidSaveTextDocumentNotification.type,e),sendDiagnostics:e=>p.sendNotification(i.PublishDiagnosticsNotification.type,e),onHover:e=>p.onRequest(i.HoverRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),void 0)),onCompletion:e=>p.onRequest(i.CompletionRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onCompletionResolve:e=>p.onRequest(i.CompletionResolveRequest.type,e),onSignatureHelp:e=>p.onRequest(i.SignatureHelpRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),void 0)),onDeclaration:e=>p.onRequest(i.DeclarationRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onDefinition:e=>p.onRequest(i.DefinitionRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onTypeDefinition:e=>p.onRequest(i.TypeDefinitionRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onImplementation:e=>p.onRequest(i.ImplementationRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onReferences:e=>p.onRequest(i.ReferencesRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onDocumentHighlight:e=>p.onRequest(i.DocumentHighlightRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onDocumentSymbol:e=>p.onRequest(i.DocumentSymbolRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onWorkspaceSymbol:e=>p.onRequest(i.WorkspaceSymbolRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onWorkspaceSymbolResolve:e=>p.onRequest(i.WorkspaceSymbolResolveRequest.type,e),onCodeAction:e=>p.onRequest(i.CodeActionRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onCodeActionResolve:e=>p.onRequest(i.CodeActionResolveRequest.type,(t,n)=>e(t,n)),onCodeLens:e=>p.onRequest(i.CodeLensRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onCodeLensResolve:e=>p.onRequest(i.CodeLensResolveRequest.type,(t,n)=>e(t,n)),onDocumentFormatting:e=>p.onRequest(i.DocumentFormattingRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),void 0)),onDocumentRangeFormatting:e=>p.onRequest(i.DocumentRangeFormattingRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),void 0)),onDocumentOnTypeFormatting:e=>p.onRequest(i.DocumentOnTypeFormattingRequest.type,(t,n)=>e(t,n)),onRenameRequest:e=>p.onRequest(i.RenameRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),void 0)),onPrepareRename:e=>p.onRequest(i.PrepareRenameRequest.type,(t,n)=>e(t,n)),onDocumentLinks:e=>p.onRequest(i.DocumentLinkRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onDocumentLinkResolve:e=>p.onRequest(i.DocumentLinkResolveRequest.type,(t,n)=>e(t,n)),onDocumentColor:e=>p.onRequest(i.DocumentColorRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onColorPresentation:e=>p.onRequest(i.ColorPresentationRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onFoldingRanges:e=>p.onRequest(i.FoldingRangeRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onSelectionRanges:e=>p.onRequest(i.SelectionRangeRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),(0,c.attachPartialResult)(p,t))),onExecuteCommand:e=>p.onRequest(i.ExecuteCommandRequest.type,(t,n)=>e(t,n,(0,c.attachWorkDone)(p,t),void 0)),dispose:()=>p.dispose()};for(let e of se)e.attach(r);return p.onRequest(i.InitializeRequest.type,e=>{u.initialize(e),_.string(e.trace)&&(z.trace=i.Trace.fromString(e.trace));for(let t of se)t.initialize(e.capabilities);if(ae)return function he(e){return e instanceof Promise?e:_.thenable(e)?new Promise((t,n)=>{e.then(a=>t(a),a=>n(a))}):Promise.resolve(e)}(ae(e,(new i.CancellationTokenSource).token,(0,c.attachWorkDone)(p,e),void 0)).then(n=>{if(n instanceof i.ResponseError)return n;let a=n;a||(a={capabilities:{}});let h=a.capabilities;h||(h={},a.capabilities=h),null==h.textDocumentSync?h.textDocumentSync=_.number(r.__textDocumentSync)?r.__textDocumentSync:i.TextDocumentSyncKind.None:!_.number(h.textDocumentSync)&&!_.number(h.textDocumentSync.change)&&(h.textDocumentSync.change=_.number(r.__textDocumentSync)?r.__textDocumentSync:i.TextDocumentSyncKind.None);for(let b of se)b.fillServerCapabilities(h);return a});{let t={capabilities:{textDocumentSync:i.TextDocumentSyncKind.None}};for(let n of se)n.fillServerCapabilities(t.capabilities);return t}}),p.onRequest(i.ShutdownRequest.type,()=>{if(u.shutdownReceived=!0,ce)return ce((new i.CancellationTokenSource).token)}),p.onNotification(i.ExitNotification.type,()=>{try{te&&te()}finally{u.exit(u.shutdownReceived?0:1)}}),p.onNotification(i.SetTraceNotification.type,e=>{z.trace=i.Trace.fromString(e.value)}),r}},34074:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ShowDocumentFeature=void 0;const i=m(73605);s.ShowDocumentFeature=D=>class extends D{showDocument(c){return this.connection.sendRequest(i.ShowDocumentRequest.type,c)}}},72460:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextDocuments=void 0;const i=m(73605);s.TextDocuments=class _{constructor(c){this._configuration=c,this._syncedDocuments=new Map,this._onDidChangeContent=new i.Emitter,this._onDidOpen=new i.Emitter,this._onDidClose=new i.Emitter,this._onDidSave=new i.Emitter,this._onWillSave=new i.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(c){this._willSaveWaitUntil=c}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(c){return this._syncedDocuments.get(c)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(c){c.__textDocumentSync=i.TextDocumentSyncKind.Incremental;const f=[];return f.push(c.onDidOpenTextDocument(d=>{const o=d.textDocument,l=this._configuration.create(o.uri,o.languageId,o.version,o.text);this._syncedDocuments.set(o.uri,l);const g=Object.freeze({document:l});this._onDidOpen.fire(g),this._onDidChangeContent.fire(g)})),f.push(c.onDidChangeTextDocument(d=>{const o=d.textDocument,l=d.contentChanges;if(0===l.length)return;const{version:g}=o;if(null==g)throw new Error(`Received document change event for ${o.uri} without valid version identifier`);let v=this._syncedDocuments.get(o.uri);void 0!==v&&(v=this._configuration.update(v,l,g),this._syncedDocuments.set(o.uri,v),this._onDidChangeContent.fire(Object.freeze({document:v})))})),f.push(c.onDidCloseTextDocument(d=>{let o=this._syncedDocuments.get(d.textDocument.uri);void 0!==o&&(this._syncedDocuments.delete(d.textDocument.uri),this._onDidClose.fire(Object.freeze({document:o})))})),f.push(c.onWillSaveTextDocument(d=>{let o=this._syncedDocuments.get(d.textDocument.uri);void 0!==o&&this._onWillSave.fire(Object.freeze({document:o,reason:d.reason}))})),f.push(c.onWillSaveTextDocumentWaitUntil((d,o)=>{let l=this._syncedDocuments.get(d.textDocument.uri);return void 0!==l&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:l,reason:d.reason}),o):[]})),f.push(c.onDidSaveTextDocument(d=>{let o=this._syncedDocuments.get(d.textDocument.uri);void 0!==o&&this._onDidSave.fire(Object.freeze({document:o}))})),i.Disposable.create(()=>{f.forEach(d=>d.dispose())})}}},38380:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TypeHierarchyFeature=void 0;const i=m(73605);s.TypeHierarchyFeature=D=>class extends D{get typeHierarchy(){return{onPrepare:c=>this.connection.onRequest(i.TypeHierarchyPrepareRequest.type,(f,d)=>c(f,d,this.attachWorkDoneProgress(f),void 0)),onSupertypes:c=>{const f=i.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(f,(d,o)=>c(d,o,this.attachWorkDoneProgress(d),this.attachPartialResultProgress(f,d)))},onSubtypes:c=>{const f=i.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(f,(d,o)=>c(d,o,this.attachWorkDoneProgress(d),this.attachPartialResultProgress(f,d)))}}}}},15055:(k,s)=>{function i(g){return"string"==typeof g||g instanceof String}function c(g){return"function"==typeof g}function f(g){return Array.isArray(g)}Object.defineProperty(s,"__esModule",{value:!0}),s.thenable=s.typedArray=s.stringArray=s.array=s.func=s.error=s.number=s.string=s.boolean=void 0,s.boolean=function m(g){return!0===g||!1===g},s.string=i,s.number=function _(g){return"number"==typeof g||g instanceof Number},s.error=function D(g){return g instanceof Error},s.func=c,s.array=f,s.stringArray=function d(g){return f(g)&&g.every(v=>i(v))},s.typedArray=function o(g,v){return Array.isArray(g)&&g.every(v)},s.thenable=function l(g){return g&&c(g.then)}},61155:(k,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.generateUuid=s.parse=s.isUUID=s.v4=s.empty=void 0;class m{constructor(l){this._value=l}asHex(){return this._value}equals(l){return this.asHex()===l.asHex()}}let i=(()=>{class o extends m{constructor(){super([o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-","4",o._randomHex(),o._randomHex(),o._randomHex(),"-",o._oneOf(o._timeHighBits),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex()].join(""))}static _oneOf(g){return g[Math.floor(g.length*Math.random())]}static _randomHex(){return o._oneOf(o._chars)}}return o._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],o._timeHighBits=["8","9","a","b"],o})();function _(){return new i}s.empty=new m("00000000-0000-0000-0000-000000000000"),s.v4=_;const D=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function c(o){return D.test(o)}s.isUUID=c,s.parse=function f(o){if(!c(o))throw new Error("invalid uuid");return new m(o)},s.generateUuid=function d(){return _().asHex()}},63685:(k,s,m)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WorkspaceFoldersFeature=void 0;const i=m(73605);s.WorkspaceFoldersFeature=D=>class extends D{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(c){super.initialize(c);let f=c.workspace;f&&f.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new i.Emitter,this.connection.onNotification(i.DidChangeWorkspaceFoldersNotification.type,d=>{this._onDidChangeWorkspaceFolders.fire(d.event)}))}fillServerCapabilities(c){super.fillServerCapabilities(c);const f=c.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=!0===f||"string"==typeof f}getWorkspaceFolders(){return this.connection.sendRequest(i.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(i.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}}},Fe={};function j(k){var s=Fe[k];if(void 0!==s)return s.exports;var m=Fe[k]={exports:{}};return Oe[k].call(m.exports,m,m.exports,j),m.exports}j.m=Oe,j.x=()=>{var k=j.O(void 0,[187,551],()=>j(74915));return j.O(k)},k=[],j.O=(s,m,i,_)=>{if(!m){var c=1/0;for(D=0;D<k.length;D++){for(var[m,i,_]=k[D],f=!0,d=0;d<m.length;d++)(!1&_||c>=_)&&Object.keys(j.O).every(F=>j.O[F](m[d]))?m.splice(d--,1):(f=!1,_<c&&(c=_));if(f){k.splice(D--,1);var o=i();void 0!==o&&(s=o)}}return s}_=_||0;for(var D=k.length;D>0&&k[D-1][2]>_;D--)k[D]=k[D-1];k[D]=[m,i,_]},j.d=(k,s)=>{for(var m in s)j.o(s,m)&&!j.o(k,m)&&Object.defineProperty(k,m,{enumerable:!0,get:s[m]})},j.f={},j.e=k=>Promise.all(Object.keys(j.f).reduce((s,m)=>(j.f[m](k,s),s),[])),j.u=k=>k+"."+{187:"f0450be9a7b4451b",551:"45526d1b61d075f9"}[k]+".js",j.miniCssF=k=>{},j.o=(k,s)=>Object.prototype.hasOwnProperty.call(k,s),j.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},(()=>{var k;j.tt=()=>(void 0===k&&(k={createScriptURL:s=>s},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(k=trustedTypes.createPolicy("angular#bundler",k))),k)})(),j.tu=k=>j.tt().createScriptURL(k),j.p="",(()=>{var k={915:1};j.f.i=(_,D)=>{k[_]||importScripts(j.tu(j.p+j.u(_)))};var m=self.webpackChunkweb=self.webpackChunkweb||[],i=m.push.bind(m);m.push=_=>{var[D,c,f]=_;for(var d in c)j.o(c,d)&&(j.m[d]=c[d]);for(f&&f(j);D.length;)k[D.pop()]=1;i(_)}})(),(()=>{var k=j.x;j.x=()=>Promise.all([j.e(187),j.e(551)]).then(k)})(),j.x()})();