"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[802],{90802:(ct,K,o)=>{o.r(K),o.d(K,{default:()=>Tt});var n=o(55885),P=(o(87708),o(21462)),F=o(58535),y=o(17088),M=o(99740),L=o(58054),w=o(26056),U=o(71871),R=o(70473);class G extends M.Li{constructor(t=M.jd){super(),this.buffer=[],this._logger=void 0,this.setLevel(t),this._register(this.onDidChangeLogLevel(e=>{this._logger?.setLevel(e)}))}set logger(t){this._logger=t;for(const{level:e,message:i}of this.buffer)(0,M.cM)(t,e,i);this.buffer=[]}log(t,e){this._logger?(0,M.cM)(this._logger,t,e):this.getLevel()<=t&&this.buffer.push({level:t,message:e})}dispose(){this._logger?.dispose()}flush(){this._logger?.flush()}}const j=5*y.Lk.MB;let V=class extends M.Li{constructor(t,e,i,s){super(),this.resource=t,this.donotUseFormatters=i,this.fileService=s,this.backupIndex=1,this.buffer="",this.setLevel(e),this.flushDelayer=new w.rH(100),this.initializePromise=this.initialize()}flush(){var t=this;return(0,L.Z)(function*(){if(!t.buffer)return;yield t.initializePromise;let e=yield t.loadContent();e.length>j&&(yield t.fileService.writeFile(t.getBackupResource(),U.KN.fromString(e)),e=""),t.buffer&&(e+=t.buffer,t.buffer="",yield t.fileService.writeFile(t.resource,U.KN.fromString(e)))})()}initialize(){var t=this;return(0,L.Z)(function*(){try{yield t.fileService.createFile(t.resource)}catch(e){if(3!==e.fileOperationResult)throw e}})()}log(t,e){this.buffer+=this.donotUseFormatters?e:`${this.getCurrentTimestamp()} [${this.stringifyLogLevel(t)}] ${e}\n`,this.flushDelayer.trigger(()=>this.flush())}getCurrentTimestamp(){const t=s=>s<10?`0${s}`:s,i=new Date;return`${i.getFullYear()}-${t(i.getMonth()+1)}-${t(i.getDate())} ${t(i.getHours())}:${t(i.getMinutes())}:${t(i.getSeconds())}.${s=i.getMilliseconds(),s<10?`00${s}`:s<100?`0${s}`:s}`;var s}getBackupResource(){return this.backupIndex=this.backupIndex>5?1:this.backupIndex,(0,R.Vo)((0,R.XX)(this.resource),`${(0,R.EZ)(this.resource)}_${this.backupIndex++}`)}loadContent(){var t=this;return(0,L.Z)(function*(){try{return(yield t.fileService.readFile(t.resource)).value.toString()}catch{return""}})()}stringifyLogLevel(t){switch(t){case M.in.Debug:return"debug";case M.in.Error:return"error";case M.in.Info:return"info";case M.in.Trace:return"trace";case M.in.Warning:return"warning"}return""}};V=(0,n.gn)([(0,n.fM)(3,y.sn)],V);class X extends M.sc{constructor(t,e,i){super(t,e),this.fileService=i}doCreateLogger(t,e,i){const s=new G(e);return(0,y.vP)(t,this.fileService).then(()=>s.logger=new V(t,s.getLevel(),!!i?.donotUseFormatters,this.fileService)),s}}var c=o(12829),H=o(33798),Q=o(19980),z=o(64822),D=o(33562),g=o(73317),b=o(24610),l=o(2883),Z=o(17324),h=o(58571),f=o(40411),u=o(82344),C=o(76972),A=o(51126),m=o(32064),O=o(31719),E=o(59796),S=o(49311),T=o(11113),dt=o(53091),gt=o(54922),$=o(73059),ot=o(58326),ht=o(12292),ft=o(35814),pt=o(66179),vt=o(6418),mt=o(86682),Ct=o(49052);let J=class extends T.qV{get scrollLock(){return!!this.scrollLockContextKey.get()}set scrollLock(t){this.scrollLockContextKey.set(t)}constructor(t,e,i,s,a,r,p,d,I,st){super(t,e,i,s,a,r,p,d,I,st),this.editorPromise=null,this.scrollLockContextKey=l.w6.bindTo(this.contextKeyService);const wt=p.createChild(new Ct.y([C.i6,this.scopedContextKeyService]));this.editor=wt.createInstance(Y),this._register(this.editor.onTitleAreaUpdate(()=>{this.updateTitle(this.editor.getTitle()),this.updateActions()})),this._register(this.onDidChangeBodyVisibility(()=>this.onDidChangeVisibility(this.isBodyVisible())))}showChannel(t,e){this.channelId!==t.id&&this.setInput(t),e||this.focus()}focus(){super.focus(),this.editorPromise?.then(()=>this.editor.focus())}renderBody(t){super.renderBody(t),this.editor.create(t),t.classList.add("output-view");const e=this.editor.getControl();e.setAriaOptions({role:"document",activeDescendant:void 0}),this._register(e.onDidChangeModelContent(()=>{this.scrollLock||this.editor.revealLastLine()})),this._register(e.onDidChangeCursorPosition(i=>{if(3!==i.reason||!this.configurationService.getValue("output.smartScroll.enabled"))return;const s=e.getModel();if(s){const a=i.position.lineNumber,r=s.getLineCount();this.scrollLock=r!==a}}))}layoutBody(t,e){super.layoutBody(t,e),this.editor.layout(new vt.Ro(e,t))}onDidChangeVisibility(t){this.editor.setVisible(t),t||this.clearInput()}setInput(t){this.channelId=t.id;const e=this.createInput(t);(!this.editor.input||!e.matches(this.editor.input))&&(this.editorPromise?.cancel(),this.editorPromise=(0,w.PG)(i=>this.editor.setInput(this.createInput(t),{preserveFocus:!0},Object.create(null),i).then(()=>this.editor)))}clearInput(){this.channelId=void 0,this.editor.clearInput(),this.editorPromise=null}createInput(t){return this.instantiationService.createInstance(ot.n,t.uri,c.NC("output model title","{0} - Output",t.label),c.NC("channel","Output channel for '{0}'",t.label),void 0,void 0)}};J=(0,n.gn)([(0,n.fM)(1,dt.d),(0,n.fM)(2,gt.i),(0,n.fM)(3,O.Ui),(0,n.fM)(4,C.i6),(0,n.fM)(5,$.XH),(0,n.fM)(6,u.TG),(0,n.fM)(7,ht.v4),(0,n.fM)(8,m.XE),(0,n.fM)(9,Z.bU)],J);let Y=class extends A.E{constructor(t,e,i,s,a,r,p,d,I,st){super(l.zX,t,e,i,a,r,p,d,I),this.configurationService=s,this.resourceContext=this._register(e.createInstance(mt.f1))}getId(){return l.zX}getTitle(){return c.NC("output","Output")}getConfigurationOverrides(){const t=super.getConfigurationOverrides();t.wordWrap="on",t.lineNumbers="off",t.glyphMargin=!1,t.lineDecorationsWidth=20,t.rulers=[],t.folding=!1,t.scrollBeyondLastLine=!1,t.renderLineHighlight="none",t.minimap={enabled:!1},t.renderValidationDecorations="editable",t.padding=void 0,t.readOnly=!0,t.domReadOnly=!0,t.unicodeHighlight={nonBasicASCII:!1,invisibleCharacters:!1,ambiguousCharacters:!1};const e=this.configurationService.getValue("[Log]");return e&&(e["editor.minimap.enabled"]&&(t.minimap={enabled:!0}),"editor.wordWrap"in e&&(t.wordWrap=e["editor.wordWrap"])),t}getAriaLabel(){return this.input?this.input.getAriaLabel():c.NC("outputViewAriaLabel","Output panel")}setInput(t,e,i,s){var a=()=>super.setInput,r=this;return(0,L.Z)(function*(){const p=!(e&&e.preserveFocus);r.input&&t.matches(r.input)||(r.input&&r.input.dispose(),yield a().call(r,t,e,i,s),r.resourceContext.set(t.resource),p&&r.focus(),r.revealLastLine())})()}clearInput(){this.input&&this.input.dispose(),super.clearInput(),this.resourceContext.reset()}createEditor(t){t.setAttribute("role","document"),super.createEditor(t);const e=this.scopedContextKeyService;e&&l.cs.bindTo(e).set(!0)}};Y=(0,n.gn)([(0,n.fM)(0,Z.bU),(0,n.fM)(1,u.TG),(0,n.fM)(2,h.Uy),(0,n.fM)(3,O.Ui),(0,n.fM)(4,f.V),(0,n.fM)(5,m.XE),(0,n.fM)(6,E.Qw),(0,n.fM)(7,S.AR),(0,n.fM)(8,y.sn),(0,n.fM)(9,C.i6)],Y),(0,m.Ic)((x,t)=>{const e=x.getColor(ft.Qd);e&&e!==x.getColor(pt.cvW)&&t.addRule(`\n\t\t\t.monaco-workbench .part.sidebar .output-view .monaco-editor,\n\t\t\t.monaco-workbench .part.sidebar .output-view .monaco-editor .margin,\n\t\t\t.monaco-workbench .part.sidebar .output-view .monaco-editor .monaco-editor-background {\n\t\t\t\tbackground-color: ${e};\n\t\t\t}\n\t\t`)});var Ot=o(73533),it=o(48601),nt=o(56980),Mt=o(4866),Lt=o(82927),It=o(51870);let B=class lt extends ot.n{get typeId(){return lt.ID}constructor(t,e,i,s,a,r,p){super(F.ov.from({scheme:l.JO,path:t.id}),(0,it.EZ)(t.file.path),(0,it.XX)(t.file.path),void 0,void 0,e,i,s,a,r,p)}};B.ID="workbench.editorinputs.output",B=(0,n.gn)([(0,n.fM)(1,nt.S),(0,n.fM)(2,Mt.MM),(0,n.fM)(3,S.AR),(0,n.fM)(4,y.sn),(0,n.fM)(5,Lt.e),(0,n.fM)(6,It.LM)],B);let W=class ut extends A.E{constructor(t,e,i,s,a,r,p,d){super(ut.LOG_VIEWER_EDITOR_ID,t,e,i,s,a,r,p,d)}getConfigurationOverrides(){const t=super.getConfigurationOverrides();return t.wordWrap="off",t.folding=!1,t.scrollBeyondLastLine=!1,t.renderValidationDecorations="editable",t}getAriaLabel(){return(0,c.NC)("logViewerAriaLabel","Log viewer")}};W.LOG_VIEWER_EDITOR_ID="workbench.editors.logViewer",W=(0,n.gn)([(0,n.fM)(0,Z.bU),(0,n.fM)(1,u.TG),(0,n.fM)(2,h.Uy),(0,n.fM)(3,f.V),(0,n.fM)(4,m.XE),(0,n.fM)(5,E.Qw),(0,n.fM)(6,S.AR),(0,n.fM)(7,y.sn)],W);var Et=o(94014),St=o(48780),yt=o(84776),k=o(79026),Dt=o(93358),N=o(62981),At=o(37202),_=o(38707),xt=o(48982),q=o(12997);z.dQ.registerLanguage({id:l.lZ,extensions:[],mimetypes:[l.An]}),z.dQ.registerLanguage({id:l.i0,extensions:[],mimetypes:[l.B8]});const rt=(0,At.q5)("output-view-icon",N.lA.output,c.NC("outputViewIcon","View icon of the output view.")),Pt=D.B.as($.IP.ViewContainersRegistry).registerViewContainer({id:l.zX,title:c.NC("output","Output"),icon:rt,order:1,ctorDescriptor:new P.M(St.XV,[l.zX,{mergeViewWithContainerWhenSingleView:!0}]),storageId:l.zX,hideIfEmpty:!0},1,{doNotRegisterOpenCommand:!0});D.B.as($.IP.ViewsRegistry).registerViews([{id:l.zX,name:c.NC("output","Output"),containerIcon:rt,canMoveView:!0,canToggleVisibility:!1,ctorDescriptor:new P.M(J),openCommandActionDescriptor:{id:"workbench.action.output.toggleOutput",mnemonicTitle:c.NC({key:"miToggleOutput",comment:["&& denotes a mnemonic"]},"&&Output"),keybindings:{primary:3123,linux:{primary:(0,Q.gx)(2089,2086)}},order:1}}],Pt),D.B.as(xt.bS.EditorPane).registerEditorPane(Ot.gS.create(W,W.LOG_VIEWER_EDITOR_ID,c.NC("logViewer","Log Viewer")),[new P.M(B)]);let tt=class extends q.JT{constructor(t,e,i){super(),this.outputService=i,e.registerTextModelContentProvider(l.JO,t.createInstance(b.z)),this.registerActions()}registerActions(){this.registerSwitchOutputAction(),this.registerShowOutputChannelsAction(),this.registerClearOutputAction(),this.registerToggleAutoScrollAction(),this.registerOpenActiveLogOutputFileAction(),this.registerShowLogsAction(),this.registerOpenLogFileAction()}registerSwitchOutputAction(){this._register((0,g.r1)(class extends g.Ke{constructor(){super({id:"workbench.output.action.switchBetweenOutputs",title:c.NC("switchBetweenOutputs.label","Switch Output")})}run(a,r){return(0,L.Z)(function*(){r&&a.get(l.GI).showChannel(r,!0)})()}}));const t=new g.eH("workbench.output.menu.switchOutput");this._register(g.BH.appendMenuItem(g.eH.ViewTitle,{submenu:t,title:c.NC("switchToOutput.label","Switch Output"),group:"navigation",when:C.Ao.equals("view",l.zX),order:1,isSelection:!0}));const e=new Map;this._register((0,q.OF)(()=>(0,q.B9)(e.values())));const i=a=>{for(const r of a){const p=r.label,d=r.extensionId?"0_ext_outputchannels":"1_core_outputchannels";e.set(r.id,(0,g.r1)(class extends g.Ke{constructor(){super({id:`workbench.action.output.show.${r.id}`,title:p,toggled:l.DD.isEqualTo(r.id),menu:{id:t,group:d}})}run(I){return(0,L.Z)(function*(){return I.get(l.GI).showChannel(r.id,!0)})()}}))}};i(this.outputService.getChannelDescriptors());const s=D.B.as(l.IP.OutputChannels);this._register(s.onDidRegisterChannel(a=>{const r=this.outputService.getChannelDescriptor(a);r&&i([r])})),this._register(s.onDidRemoveChannel(a=>{e.get(a)?.dispose(),e.delete(a)}))}registerShowOutputChannelsAction(){this._register((0,g.r1)(class extends g.Ke{constructor(){super({id:"workbench.action.showOutputChannels",title:{value:c.NC("showOutputChannels","Show Output Channels..."),original:"Show Output Channels..."},category:{value:c.NC("output","Output"),original:"Output"},f1:!0})}run(t){return(0,L.Z)(function*(){const e=t.get(l.GI),i=t.get(k.eJ),s=[],a=[];for(const d of e.getChannelDescriptors())d.extensionId?s.push(d):a.push(d);const r=[];for(const{id:d,label:I}of s)r.push({id:d,label:I});s.length&&a.length&&r.push({type:"separator"});for(const{id:d,label:I}of a)r.push({id:d,label:I});const p=yield i.pick(r,{placeHolder:c.NC("selectOutput","Select Output Channel")});if(p)return e.showChannel(p.id)})()}}))}registerClearOutputAction(){this._register((0,g.r1)(class extends g.Ke{constructor(){super({id:"workbench.output.action.clearOutput",title:{value:c.NC("clearOutput.label","Clear Output"),original:"Clear Output"},category:_.R.View,menu:[{id:g.eH.ViewTitle,when:C.Ao.equals("view",l.zX),group:"navigation",order:2},{id:g.eH.CommandPalette},{id:g.eH.EditorContext,when:l.cs}],icon:N.lA.clearAll})}run(t){return(0,L.Z)(function*(){const i=t.get(l.GI).getActiveChannel();i&&(i.clear(),H.i7(c.NC("outputCleared","Output was cleared")))})()}}))}registerToggleAutoScrollAction(){this._register((0,g.r1)(class extends g.Ke{constructor(){super({id:"workbench.output.action.toggleAutoScroll",title:{value:c.NC("toggleAutoScroll","Toggle Auto Scrolling"),original:"Toggle Auto Scrolling"},tooltip:c.NC("outputScrollOff","Turn Auto Scrolling Off"),menu:{id:g.eH.ViewTitle,when:C.Ao.and(C.Ao.equals("view",l.zX)),group:"navigation",order:3},icon:N.lA.lock,toggled:{condition:l.w6,icon:N.lA.unlock,tooltip:c.NC("outputScrollOn","Turn Auto Scrolling On")}})}run(t){return(0,L.Z)(function*(){const e=t.get($.qC).getActiveViewWithId(l.zX);e.scrollLock=!e.scrollLock})()}}))}registerOpenActiveLogOutputFileAction(){this._register((0,g.r1)(class extends g.Ke{constructor(){super({id:"workbench.action.openActiveLogOutputFile",title:{value:c.NC("openActiveLogOutputFile","Open Log Output File"),original:"Open Log Output File"},menu:[{id:g.eH.ViewTitle,when:C.Ao.equals("view",l.zX),group:"navigation",order:4}],icon:N.lA.goToFile,precondition:l.Dm})}run(t){var e=this;return(0,L.Z)(function*(){const i=t.get(l.GI),s=t.get(S.AR),a=t.get(u.TG),r=e.getLogFileOutputChannelDescriptor(i);r&&(yield s.openEditor(a.createInstance(B,r),{pinned:!0}))})()}getLogFileOutputChannelDescriptor(t){const e=t.getActiveChannel();if(e){const i=t.getChannelDescriptors().filter(s=>s.id===e.id)[0];if(i&&i.file&&i.log)return i}return null}}))}registerShowLogsAction(){this._register((0,g.r1)(class extends g.Ke{constructor(){super({id:"workbench.action.showLogs",title:{value:c.NC("showLogs","Show Logs..."),original:"Show Logs..."},category:_.R.Developer,menu:{id:g.eH.CommandPalette}})}run(t){return(0,L.Z)(function*(){const e=t.get(l.GI),i=t.get(k.eJ),s=[],a=[];for(const d of e.getChannelDescriptors())d.log&&(d.extensionId?s.push(d):a.push(d));const r=[];for(const{id:d,label:I}of a)r.push({id:d,label:I});s.length&&a.length&&r.push({type:"separator",label:c.NC("extensionLogs","Extension Logs")});for(const{id:d,label:I}of s)r.push({id:d,label:I});const p=yield i.pick(r,{placeHolder:c.NC("selectlog","Select Log")});if(p)return e.showChannel(p.id)})()}}))}registerOpenLogFileAction(){this._register((0,g.r1)(class extends g.Ke{constructor(){super({id:"workbench.action.openLogFile",title:{value:c.NC("openLogFile","Open Log File..."),original:"Open Log File..."},category:_.R.Developer,menu:{id:g.eH.CommandPalette}})}run(t){return(0,L.Z)(function*(){const e=t.get(l.GI),i=t.get(k.eJ),s=t.get(u.TG),a=t.get(S.AR),r=e.getChannelDescriptors().filter(d=>d.file&&d.log).map(d=>({id:d.id,label:d.label,channel:d})),p=yield i.pick(r,{placeHolder:c.NC("selectlogFile","Select Log file")});p&&((0,Dt.cW)(p.channel.file),yield a.openEditor(s.createInstance(B,p.channel),{pinned:!0}))})()}}))}};tt=(0,n.gn)([(0,n.fM)(0,u.TG),(0,n.fM)(1,nt.S),(0,n.fM)(2,l.GI)],tt),D.B.as(Et.I.Workbench).registerWorkbenchContribution(tt,3),D.B.as(yt.IP.Configuration).registerConfiguration({id:"output",order:30,title:c.NC("output","Output"),type:"object",properties:{"output.smartScroll.enabled":{type:"boolean",description:c.NC("output.smartScroll.enabled","Enable/disable the ability of smart scrolling in the output view. Smart scrolling allows you to lock scrolling automatically when you click in the output view and unlocks when you click in the last line."),default:!0,scope:3,tags:["output"]}}});let et=class extends X{constructor(t){super(M.in.Info,F.ov.file("logs.log"),t)}};function Tt(){return{[M.yR.toString()]:new P.M(et)}}et=(0,n.gn)([(0,n.fM)(0,y.sn)],et)},51126:(ct,K,o)=>{o.d(K,{E:()=>b,d:()=>l});var n=o(58054),v=o(55885),P=o(93358),F=o(48982),y=o(46754),M=o(58326),L=o(85659),w=o(85763),U=o(57669),R=o(17324),G=o(58571),j=o(40411),V=o(82344),X=o(32064),c=o(59796),H=o(49311),Q=o(90290),z=o(49698),D=o(64822),g=o(17088);let b=class extends U.e{constructor(h,f,u,C,A,m,O,E,S){super(h,f,u,C,A,m,E,O,S)}setInput(h,f,u,C){var A=()=>super.setInput,m=this;return(0,n.Z)(function*(){yield A().call(m,h,f,u,C);const O=yield h.resolve(f);if(C.isCancellationRequested)return;if(!(O instanceof L.n))throw new Error("Unable to open file as text");const E=(0,P.cW)(m.editorControl);if(E.setModel(O.textEditorModel),!(0,F.EC)(f?.viewState)){const T=m.loadEditorViewState(h,u);T&&(f?.selection&&(T.cursorState=[]),E.restoreViewState(T))}f&&(0,y.C)(f,E,1),E.updateOptions({readOnly:O.isReadonly()})})()}revealLastLine(){const h=this.editorControl;if(!h)return;const f=h.getModel();if(f){const u=f.getLineCount();h.revealPosition({lineNumber:u,column:f.getLineMaxColumn(u)},0)}}clearInput(){super.clearInput(),this.editorControl?.setModel(null)}tracksEditorViewState(h){return h instanceof w.D||h instanceof M.n}};b=(0,v.gn)([(0,v.fM)(1,R.bU),(0,v.fM)(2,V.TG),(0,v.fM)(3,G.Uy),(0,v.fM)(4,j.V),(0,v.fM)(5,X.XE),(0,v.fM)(6,c.Qw),(0,v.fM)(7,H.AR),(0,v.fM)(8,g.sn)],b);let l=class at extends b{constructor(h,f,u,C,A,m,O,E,S,T){super(at.ID,h,f,u,C,A,O,m,T),this.modelService=E,this.languageService=S}createEditorControl(h,f){super.createEditorControl(h,f);const u=this.editorControl;u&&this._register(u.onDidPaste(C=>this.onDidEditorPaste(C,u)))}onDidEditorPaste(h,f){if(this.input instanceof w.D&&this.input.model.hasLanguageSetExplicitly||1!==h.range.startLineNumber||1!==h.range.startColumn||f.getOption(88))return;const u=f.getModel();if(!u||u.getLineCount()!==h.range.endLineNumber||u.getLineMaxColumn(h.range.endLineNumber)!==h.range.endColumn||u.getLanguageId()!==D.bd)return;let m;if(h.languageId)m={id:h.languageId,source:"event"};else{const O=(0,P.f6)(this.languageService.guessLanguageIdByFilepathOrFirstLine(u.uri,u.getLineContent(1).substr(0,1e3)));O&&(m={id:O,source:"guess"})}if(m&&m.id!==D.bd){this.input instanceof w.D&&"event"===m.source?this.input.model.setLanguageId(m.id):u.setLanguage(this.languageService.createById(m.id));const O=this.modelService.getCreationOptions(u.getLanguageId(),u.uri,u.isForSimpleWidget);u.detectIndentation(O.insertSpaces,O.tabSize)}}};l.ID="workbench.editors.textResourceEditor",l=(0,v.gn)([(0,v.fM)(0,R.bU),(0,v.fM)(1,V.TG),(0,v.fM)(2,G.Uy),(0,v.fM)(3,j.V),(0,v.fM)(4,X.XE),(0,v.fM)(5,H.AR),(0,v.fM)(6,c.Qw),(0,v.fM)(7,Q.q),(0,v.fM)(8,z.O),(0,v.fM)(9,g.sn)],l)}}]);