(()=>{"use strict";var x,fe={92271:(x,s,p)=>{var n=p(40426),v=p(13919),O=p(11724),c=p(29966),h=p(4481),_=p(55470);function o(u){return{start:l(u.start),end:l(u.end)}}function l(u){return{line:u.line-1,character:u.column-1}}function a(u){return new h.e6(y(u.start),y(u.end))}function y(u){return{line:u.line+1,column:u.character+1}}const T=Object.values(v.SemanticTokenTypes),E=Object.values(v.SemanticTokenModifiers);class W{constructor(t,e){this.documentService=e,t.connection.languages.semanticTokens.on(i=>this.provideSemanticTokens(i)),t.connection.languages.semanticTokens.onRange(i=>this.provideSemanticTokensRange(i))}provideSemanticTokens(t){const e=this.documentService.getAST(t.textDocument.uri);return e?this.collectSemanticTokens(e):{data:[]}}collectSemanticTokens(t){const e=new q;for(const i of(0,O.NR)(t))switch(i.kind){case"class":e.addNode(i.location,v.SemanticTokenTypes.class);break;case"field":case"expr:propertyAccess":e.addNode(i.location,v.SemanticTokenTypes.property);break;case"method":case"expr:methodCall":case"expr:functionCall":e.addNode(i.location,i instanceof O.lX&&i._constructor?v.SemanticTokenTypes.class:v.SemanticTokenTypes.method);break;case"parameter":e.addNode(i.location,v.SemanticTokenTypes.parameter);break;case"variable":e.addNode(i.location,v.SemanticTokenTypes.variable);break;case"expr:variable":e.addNode(i.location,i instanceof O.sW&&i._variable instanceof O.d2?v.SemanticTokenTypes.parameter:v.SemanticTokenTypes.variable)}return{data:e.data}}provideSemanticTokensRange(t){const e=this.documentService.getAST(t.textDocument.uri);if(!e)return{data:[]};const i=e.findEnclosing(a(t.range));return i?this.collectSemanticTokens(i):{data:[]}}}class q{constructor(){this.data=[],this.prevLine=0,this.prevChar=0}addNode(t,e,i=[]){const R=T.indexOf(e),j=i.map(N=>E.indexOf(N)).reduce((N,g)=>N|1<<g,0),P=t.start.line-1,r=t.start.column-1;this.data.push(P-this.prevLine,r-(P===this.prevLine?this.prevChar:0),t.end.column-t.start.column,R,j),this.prevLine=P,this.prevChar=r}}class D{constructor(t){this.connection=t,t.onInitialize(e=>{var i,R,j,P;const C=e.capabilities;this.hasConfigurationCapability=!(null===(i=C.workspace)||void 0===i||!i.configuration),this.hasWorkspaceFolderCapability=!(null===(R=C.workspace)||void 0===R||!R.workspaceFolders),this.hasDiagnosticRelatedInformationCapability=!(null===(P=null===(j=C.textDocument)||void 0===j?void 0:j.publishDiagnostics)||void 0===P||!P.relatedInformation);const r={capabilities:{textDocumentSync:n.TextDocumentSyncKind.Incremental,completionProvider:{triggerCharacters:["."]},renameProvider:{prepareProvider:!0},referencesProvider:!0,definitionProvider:!0,typeDefinitionProvider:!0,hoverProvider:!0,documentHighlightProvider:!0,documentSymbolProvider:!0,documentFormattingProvider:!0,documentRangeFormattingProvider:!0,codeActionProvider:!0,inlayHintProvider:!0,semanticTokensProvider:{legend:{tokenTypes:T,tokenModifiers:E},full:!0,range:!0}}};return this.hasWorkspaceFolderCapability&&(r.capabilities.workspace={workspaceFolders:{supported:!0}}),r}),t.onInitialized(()=>{this.hasConfigurationCapability&&t.client.register(n.DidChangeConfigurationNotification.type,void 0)})}}class M{constructor(t,e,i,R){this._uri=t,this._languageId=e,this._version=i,this._content=R,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const e=this.offsetAt(t.start),i=this.offsetAt(t.end);return this._content.substring(e,i)}return this._content}update(t,e){for(let i of t)if(M.isIncremental(i)){const R=k(i.range),j=this.offsetAt(R.start),P=this.offsetAt(R.end);this._content=this._content.substring(0,j)+i.text+this._content.substring(P,this._content.length);const C=Math.max(R.start.line,0),r=Math.max(R.end.line,0);let m=this._lineOffsets;const N=K(i.text,!1,j);if(r-C===N.length)for(let B=0,Y=N.length;B<Y;B++)m[B+C+1]=N[B];else N.length<1e4?m.splice(C+1,r-C,...N):this._lineOffsets=m=m.slice(0,C+1).concat(N,m.slice(r+1));const g=i.text.length-(P-j);if(0!==g)for(let B=C+1+N.length,Y=m.length;B<Y;B++)m[B]=m[B]+g}else{if(!M.isFull(i))throw new Error("Unknown change event received");this._content=i.text,this._lineOffsets=void 0}this._version=e}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=K(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let e=this.getLineOffsets(),i=0,R=e.length;if(0===R)return{line:0,character:t};for(;i<R;){let P=Math.floor((i+R)/2);e[P]>t?R=P:i=P+1}let j=i-1;return{line:j,character:t-e[j]}}offsetAt(t){let e=this.getLineOffsets();if(t.line>=e.length)return this._content.length;if(t.line<0)return 0;let i=e[t.line];return Math.max(Math.min(i+t.character,t.line+1<e.length?e[t.line+1]:this._content.length),i)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(t){return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}var I,u;function X(u,t){if(u.length<=1)return u;const e=u.length/2|0,i=u.slice(0,e),R=u.slice(e);X(i,t),X(R,t);let j=0,P=0,C=0;for(;j<i.length&&P<R.length;)t(i[j],R[P])<=0?u[C++]=i[j++]:u[C++]=R[P++];for(;j<i.length;)u[C++]=i[j++];for(;P<R.length;)u[C++]=R[P++];return u}function K(u,t,e=0){const i=t?[e]:[];for(let R=0;R<u.length;R++){let j=u.charCodeAt(R);(13===j||10===j)&&(13===j&&R+1<u.length&&10===u.charCodeAt(R+1)&&R++,i.push(e+R+1))}return i}function k(u){const t=u.start,e=u.end;return t.line>e.line||t.line===e.line&&t.character>e.character?{start:e,end:t}:u}function F(u){const t=k(u.range);return t!==u.range?{newText:u.newText,range:t}:u}(u=I||(I={})).create=function t(R,j,P,C){return new M(R,j,P,C)},u.update=function e(R,j,P){if(R instanceof M)return R.update(j,P),R;throw new Error("TextDocument.update: document must be created by TextDocument.create")},u.applyEdits=function i(R,j){let P=R.getText(),C=X(j.map(F),(N,g)=>{let B=N.range.start.line-g.range.start.line;return 0===B?N.range.start.character-g.range.start.character:B}),r=0;const m=[];for(const N of C){let g=R.offsetAt(N.range.start);if(g<r)throw new Error("Overlapping edit");g>r&&m.push(P.substring(r,g)),N.newText.length&&m.push(N.newText),r=R.offsetAt(N.range.end)}return m.push(P.substr(r)),m.join("")};class A{constructor(t){this.connectionService=t,this.documents=new n.TextDocuments(I),this.astCache=new Map,this.documents.listen(this.connectionService.connection),this.documents.onDidChangeContent(e=>{this.astCache.has(e.document.uri)&&this.astCache.delete(e.document.uri)})}getAST(t){const e="string"==typeof t?t:t.uri,i=this.astCache.get(e);if(i)return i;const R="string"==typeof t?this.documents.get(e):t;if(!R)return;const j=(0,c.V3)(R.getText(),{path:e,comments:!0}).resolve(new _._([]));return j.link(),j.lint(new _._([])),j}}function H(u){switch(u){case"keyword":return n.CompletionItemKind.Keyword;case"operator":return n.CompletionItemKind.Operator;case"class":return n.CompletionItemKind.Class;case"field":return n.CompletionItemKind.Field;case"method":return n.CompletionItemKind.Method;case"variable":case"parameter":return n.CompletionItemKind.Variable;default:return n.CompletionItemKind.Text}}class z{constructor(t,e){this.connectionService=t,this.documentService=e,this.connectionService.connection.onCompletion(i=>this.provideCompletionItems(i))}provideCompletionItems(t){const i=this.documentService.documents.get(t.textDocument.uri);if(!i)return[];const R=i.getText({start:{line:0,character:0},end:t.position}),j=i.getText({start:t.position,end:{line:i.lineCount,character:0}}),C=(0,c.V3)(`${R}\xa7${j}`,{completion:!0}).resolve(new _._([])).diagnostics.find(r=>r.expected);return C&&C.expected?C.expected.map(r=>({kind:H(r.kind),label:r.label,labelDetails:{detail:r.signature,description:r.description},insertText:r.snippet,insertTextFormat:r.snippet?n.InsertTextFormat.Snippet:void 0})):[]}}class G{constructor(t,e){this.connectionService=t,this.documentService=e,this.connectionService.connection.onPrepareRename(i=>this.prepareRename(i)),this.connectionService.connection.onRenameRequest(i=>this.rename(i)),this.connectionService.connection.onTypeDefinition(i=>this.typeDefinition(i)),this.connectionService.connection.onReferences(i=>this.references(i)),this.connectionService.connection.onDefinition(i=>this.definition(i)),this.connectionService.connection.onHover(i=>this.hover(i)),this.connectionService.connection.onDocumentHighlight(i=>this.highlight(i))}prepareRename(t){const e=this.findNode(t);if(!e)return;const i=e.references("rename");return i&&i.length?o(e.location):void 0}rename(t){var e;const i=null===(e=this.findNode(t))||void 0===e?void 0:e.references("rename");if(i&&i.length)return{changes:{[t.textDocument.uri]:i.map(R=>({range:o(R.location),newText:t.newName}))}}}references(t){var e;const i=null===(e=this.findNode(t))||void 0===e?void 0:e.references("definition");if(i&&i.length)return!t.context.includeDeclaration&&i.length&&i.shift(),i.map(R=>({uri:t.textDocument.uri,range:o(R.location)}))}definition(t){var e;const i=null===(e=this.findNode(t))||void 0===e?void 0:e.references("definition");if(i&&i.length)return{uri:t.textDocument.uri,range:o(i[0].location)}}typeDefinition(t){const e=this.findNode(t);if(!e)return;const i="type"in e?e.type:"getType"in e&&"function"==typeof e.getType?e.getType():void 0;return i instanceof O.NB&&i.location?{uri:t.textDocument.uri,range:o(i.location)}:void 0}hover(t){var e;const i=null===(e=this.findNode(t))||void 0===e?void 0:e.documentation();return i?{contents:{kind:"markdown",value:i}}:null}highlight(t){var e;const i=null===(e=this.findNode(t))||void 0===e?void 0:e.references();if(i&&i.length)return i.map(R=>({range:o(R.location)}))}findNode(t){const e=t.textDocument.uri,i=new h.Ly(t.position.line+1,t.position.character),R=this.documentService.getAST(e);if(!R)return;const j=R.findByPosition(i);return j?j[j.length-1]:void 0}}var J=p(99938);function V({severity:u,location:t,message:e,replacement:i}){return{severity:"error"===u?n.DiagnosticSeverity.Error:n.DiagnosticSeverity.Warning,range:o(t),message:e,source:"dyvil",data:{replacement:i?.toString()}}}class ae{constructor(t,e){this.connectionService=t,this.documentService=e,this.connectionService.connection.onDidChangeConfiguration(()=>{this.documentService.documents.all().forEach(i=>this.validateTextDocument(i))}),this.documentService.documents.onDidChangeContent(i=>{this.validateTextDocument(i.document)})}validateTextDocument(t){return(0,J.mG)(this,void 0,void 0,function*(){const e=this.documentService.getAST(t);if(!e)return;const i=e.diagnostics.map(V);yield this.connectionService.connection.sendDiagnostics({uri:t.uri,diagnostics:i})})}}const te={class:v.SymbolKind.Class,field:v.SymbolKind.Field,constructor:v.SymbolKind.Constructor,method:v.SymbolKind.Method,parameter:v.SymbolKind.Variable,variable:v.SymbolKind.Variable};class ne{constructor(t,e){this.documentService=e,t.connection.onDocumentSymbol(i=>this.provideSymbols(i))}provideSymbols(t){const e=this.documentService.getAST(t.textDocument.uri);return e?this.toSymbols(e):[]}toSymbols(t){const e=Array.from((0,O.pI)(t)).flatMap(i=>this.toSymbols(i));return t instanceof O.gr?[{name:t.name,kind:te[t.kind],range:o(t.range),selectionRange:o(t.location),children:e}]:e}}class oe{constructor(t,e){this.documentService=e,t.connection.onDocumentFormatting(i=>this.handleFormatting(i)),t.connection.onDocumentRangeFormatting(i=>this.handleRangeFormatting(i))}handleFormatting(t){const e=this.documentService.getAST(t.textDocument.uri);return e?this.provideEdits(e):[]}handleRangeFormatting(t){const e=this.documentService.getAST(t.textDocument.uri),i=e?.findEnclosing(a(t.range));return i?this.provideEdits(i):[]}provideEdits(t){const e=[];for(const i of[t])i.range&&e.push({range:o(i.range),newText:i.toString()});return e}}class ie{constructor(t,e){this.documentService=e,t.connection.onCodeAction(i=>this.provideActions(i))}provideActions(t){const e=this.documentService.getAST(t.textDocument.uri);if(!e)return[];const i=[];for(const j of t.context.diagnostics){const P=j.data.replacement;P&&i.push({title:`Replace with \`${P}\``,kind:"quickfix",diagnostics:[j],isPreferred:!0,edit:{changes:{[t.textDocument.uri]:[{range:j.range,newText:P}]}}})}const R=e.findEnclosing(a(t.range));if(R){const j=this.provideActionsForNode(t.textDocument.uri,R);i.push(...j)}return i}provideActionsForNode(t,e){if("variable"===e.kind){const i=e;return!i.type||i.type.location?[]:[{title:`Specify type '${i.type}' explicitly`,kind:v.CodeActionKind.RefactorRewrite,edit:{changes:{[t]:[{range:o(i.location),newText:`${i.name}: ${i.type}`}]}}}]}return[]}}class re{constructor(t,e){this.documentService=e,t.connection.languages.inlayHint.on(i=>this.provideInlayHints(i))}provideInlayHints(t){const e=this.documentService.getAST(t.textDocument.uri),i=e?.findEnclosing(a(t.range));if(!i)return[];const R=[];for(const j of(0,O.NR)(i))switch(j.kind){case"variable":{const P=j;if(!P.type||P.type.location)continue;const C=`: ${P.type}`;R.push({kind:v.InlayHintKind.Type,position:l(P.location.end),label:C,paddingLeft:!0,textEdits:[{range:o(P.location),newText:P.name+C}]});break}case"expr:functionCall":{const P=j;if(!P._constructor)continue;this.addParamHints(P.args,P._constructor.parameters,R);break}case"expr:methodCall":{const P=j;if(!P._method)continue;this.addParamHints(P.args,P._method.parameters,R);break}}return R}addParamHints(t,e,i){for(let R=0;R<t.length;R++){const j=t[R],P=e[R];if(!P||!j.range)continue;const C=`${P.name}:`,r=P.documentation();i.push({kind:v.InlayHintKind.Parameter,position:l(j.range.start),label:C,tooltip:r&&{kind:"markdown",value:r},paddingRight:!0})}}}var ee=p(95987);console.log("Running Dyvil Language Server in Web Worker");const d=new ee.BrowserMessageReader(self),f=new ee.BrowserMessageWriter(self),b=(0,ee.createConnection)(d,f);(function se(u){const t=new D(u),e=new A(t);new z(t,e),new ae(t,e),new G(t,e),new W(t,e),new ne(t,e),new oe(t,e),new ie(t,e),new re(t,e)})(b),b.listen()},79576:(x,s,p)=>{p.d(s,{YN:()=>M,_w:()=>X,d2:()=>I,dm:()=>D,eB:()=>l,gN:()=>W,gr:()=>a,n$:()=>q,v_:()=>E,wT:()=>y});var n=p(99938),v=p(80778),O=p(4481),c=p(50440),h=p(55470),_=p(87670),o=p(42081);class l extends c.NB{constructor(k,F=[]){super("unit"),this.path=k,this.classes=F,this.diagnostics=[]}report(k){this.diagnostics.push(k)}resolve(k){const F={[l.enclosing]:this};for(const A of this.classes)F[A.name]=A;return super.resolve(new h._(F,k))}lint(k){super.lint(new h._({[l.enclosing]:this},k))}toString(k){return this.classes.map(F=>F.toString(k)).join("\n\n")}}l.enclosing=Symbol("enclosing compilation unit"),l.parser="file",(0,n.gn)([(0,c.fp)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String]),(0,n.w6)("design:returntype",String)],l.prototype,"toString",null);class a extends c.NB{constructor(k,F){super(k),this.name=F,this._references=[]}docComment(){return this.doc?"/**\n"+this.doc.trim().replace(/^/gm," * ")+"\n */\n":""}documentation(){return this.doc}references(){return[this,...this._references]}}class y extends a{constructor(k="<anonymous>",F=[],A=[],H=[]){super("class",k),this.fields=F,this.constructors=A,this.methods=H}asType(){const k=new o.rF(this.name);return k._class=this,k.location=this.location,k}asCompletion(){return{label:this.name,kind:"class"}}toString(k){return c.$S`
    ${this.docComment()}\
    class ${this.name} {
      ${this.fields.map(F=>F.toString(k)).join("\n")}

      ${this.constructors.map(F=>F.toString(k)).join("\n\n")}

      ${this.methods.map(F=>F.toString(k)).join("\n\n")}
    }`}lookup(k,F,...A){for(const H of this.fields)if(H.name===k&&H instanceof F)return H;for(const H of this.methods)if(H.name===k&&H instanceof F&&H.overloads(A[0]))return H;for(const H of this.constructors)if(H instanceof F&&H.overloads(A[0]))return H}list(){return[...this.fields,...this.methods]}resolve(k){const F=new h._({[y.enclosing]:this},k);super.resolve(F);for(const A of this.fields)this.fields.some(H=>H!==A&&H.name===A.name)&&(0,O.Hj)(k,A.location,`duplicate field ${A.name}`);for(const A of this.methods)this.methods.some(H=>H!==A&&H.jsName===A.jsName)&&(0,O.Hj)(k,A.location,`duplicate method ${A.name} with mangled name ${A.jsName}`);return this}}y.enclosing=Symbol("enclosing class"),y.parser="class",(0,n.gn)([(0,c.fp)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String]),(0,n.w6)("design:returntype",String)],y.prototype,"toString",null);class T extends a{constructor(k,F,A,H){super(k,F),this.parameters=A,this.body=H}resolve(k){this._thisClass||(this._thisClass=k.lookup(y.enclosing,y)),this._thisClass&&!this._thisParameter&&(this._thisParameter=new I("this",this._thisClass.asType()),this._thisParameter.location=this.location);const F=new h._(this._thisParameter?[this._thisParameter,...this.parameters]:this.parameters,k);return super.resolve(F)}overloads(k){return k.length===this.parameters.length&&this.parameters.every((F,A)=>(0,o.BM)(F.type,k[A]))}}class E extends T{constructor(k=[],F=new _.gO){super("constructor","init",k,F)}toString(k){const F="js"===k?"constructor":"init",A=this.parameters.map(z=>z.toString(k)).join(", "),H=this.body.toString(k);return`${this.docComment()}${F}(${A}) ${H}`}documentation(){return this.parameters.length?c.$S`
    ${this.doc}

    #### Parameters
    ${this.parameters.map(k=>"- "+k.documentation()).join("\n")}
    `:this.doc}references(k){return"rename"===k?[]:super.references()}}E.completion={kind:"keyword",label:"init",snippet:"init(${1:parameters...}) {\n  ${2:statements...}\n}"},E.parser="ctor",(0,n.gn)([(0,c.fp)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String]),(0,n.w6)("design:returntype",String)],E.prototype,"toString",null);class W extends a{constructor(k="<unknown>",F=o.NI,A){super("field",k),this.type=F,this.value=A}asCompletion(){return{label:this.name,kind:"field",signature:": "+this.type.toString()}}toString(k){const F=this.value?" = "+this.value.toString(k):"";if("js"===k)return c.$S`
      _${this.name}${F};
      get ${this.name}() { return this._${this.name}; }
      set ${this.name}(value) { this._${this.name} = value; }`;const A=this.type.toString(k);return`${this.docComment()}var ${this.name}: ${A}${F}`}}W.completion={kind:"keyword",label:"var",snippet:"var ${1:name}: ${2:type} = ${3:value}"},W.parser="field",(0,n.gn)([(0,c.fp)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String]),(0,n.w6)("design:returntype",String)],W.prototype,"toString",null);class q extends T{constructor(k="<unknown>",F=[],A=o.NI,H=new _.gO){super("method",k,F,H),this.returnType=A}get jsName(){return this.name+this.parameters.map(k=>"_"+k.name).join("")}asCompletion(){return{label:this.name,kind:"method",signature:`(${this.parameters.map(k=>k.type.toString()).join(", ")})${this.returnType?": "+this.returnType.toString():""}`,snippet:`${this.name}(${this.parameters.map((k,F)=>`\${${F}:${k.name}}`).join(", ")})`}}documentation(){let k=this.doc||"";return this.parameters.length&&(k+="\n#### Parameters\n"+this.parameters.map(F=>"- "+F.documentation()).join("\n")),("type:primitive"!==this.returnType.kind||"void"!==this.returnType.name)&&(k+="\n#### Returns\n`"+this.returnType.toString()+"`"),k}toString(k){const F="js"!==k?"func "+this.name:this.jsName,A=this.parameters.map(G=>G.toString(k)).join(", "),H="js"!==k?": "+this.returnType.toString(k):"",z=this.body.toString(k);return`${this.docComment()}${F}(${A})${H} ${z}`}}q.completion={kind:"keyword",label:"func",snippet:"func ${1:name}(${2:parameters...}) {\n  ${3:statements...}\n}"},q.parser="method",(0,n.gn)([(0,c.fp)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String]),(0,n.w6)("design:returntype",String)],q.prototype,"toString",null);class D extends c.NB{constructor(k){super("class-completion"),this.name=k}toString(k){return this.name}resolve(k){return(0,O.Hk)(k,this.location,this.name,{extra:D.completions}),super.resolve(k)}}D.completions=[q,E,W].map(K=>K.completion);class M extends a{constructor(k,F,A){super(k,F),this.type=A}asCompletion(){return{label:this.name,kind:this.kind,signature:this.type?": "+this.type.toString():void 0}}toString(k){const F=this.type?": "+this.type.toString(k):"";return`${this.docComment()}${this.name}${F}`}}(0,n.gn)([(0,c.fp)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String]),(0,n.w6)("design:returntype",String)],M.prototype,"toString",null);let I=(()=>{class K extends M{constructor(F="<unknown>",A=o.NI){super("parameter",F,A),this.type=A}references(F){return"rename"===F&&"this"===this.name?[]:super.references()}documentation(){return`\`${this.name}: ${this.type.toString()}\`${this.doc?"\n"+this.doc:""}`}toString(F){return"js"===F?this.name:super.toString(F)}}return K.parser="parameter",K})();class X extends M{constructor(k="<unknown>",F,A=v.iY){super("variable",k,F),this.value=A}documentation(){var k;return`\`var ${this.name}: ${null===(k=this.type)||void 0===k?void 0:k.toString()}\`${this.doc?"\n"+this.doc:""}`}toString(k){if("js"===k)return`let ${this.name} = ${this.value.toString(k)}`;const F=this.type&&this.type.location?": "+this.type.toString(k):"";return`${this.docComment()}var ${this.name}${F} = ${this.value.toString(k)}`}resolve(k){const F=super.resolve(k);return F.type||(F.type=F.value.getType()),F}}X.parser="variable",(0,n.gn)([(0,c.fp)(),(0,n.w6)("design:type",Function),(0,n.w6)("design:paramtypes",[String]),(0,n.w6)("design:returntype",String)],X.prototype,"toString",null)},80778:(x,s,p)=>{p.d(s,{ZJ:()=>E,_C:()=>T,iY:()=>W,jR:()=>a,lX:()=>l,o6:()=>y,sW:()=>o,t$:()=>_});var n=p(79576),v=p(4481),O=p(50440),c=p(42081);class h extends O.NB{constructor(D){super(`expr:${D}`)}getType(){throw new Error(`${this.constructor.name}.getType not implemented`)}}class _ extends h{constructor(D){super("literal"),this.representation=D}toString(D){return this.before(D)+this.representation+this.after(D)}getType(){switch(this.representation.charAt(0)){case'"':return new c.MX("string");case"t":case"f":return new c.MX("boolean");default:return new c.MX("int")}}}class o extends h{constructor(D="<unknown>"){super("variable"),this.name=D}toString(D){return this.before(D)+this.name+this.after(D)}definition(){return this._variable}resolve(D){return(0,v.Hk)(D,this.location,this.name)||this._variable||this._variable||(this._variable=D.lookup(this.name,n.YN)||(0,v.Hj)(D,this.location,`variable ${this.name} not found`)),this}getType(){var D,M;return null!==(M=null===(D=this._variable)||void 0===D?void 0:D.type)&&void 0!==M?M:c.NI}}class l extends h{constructor(D="<unknown>",M=[]){super("functionCall"),this.name=D,this.args=M}toString(D){return`${this.before(D)}${this.name}(${this.args.map(M=>M.toString(D)).join(", ")})${this.after(D)}`}definition(D){return"rename"===D?this._class:this._constructor}resolve(D){if(this.args=this.args.map(M=>M.resolve(D)),!this._constructor){const M=D.lookup(this.name,n.wT);if(M){const I=this.args.map(K=>K.getType()),X=M.lookup("init",n.v_,I);X?(this._class=M,this._constructor=X):(0,v.Hj)(D,this.location,`constructor ${this.name}(${I.join(", ")}) not found`)}else(0,v.Hj)(D,this.location,`class or function ${this.name} not found`)}return this}getType(){var D,M;return null!==(M=null===(D=this._class)||void 0===D?void 0:D.asType())&&void 0!==M?M:c.NI}}class a extends h{constructor(D=W,M="<unknown>"){super("propertyAccess"),this.receiver=D,this.property=M}toString(D){return`${this.receiver.toString(D)}.${this.property}`}definition(){return this._field}resolve(D){this.receiver=this.receiver.resolve(D);const M=this.receiver.getType();return(0,v.Hk)(D,this.location,this.property,{lookup:M})||this._field||this._field||(this._field=M.lookup(this.property,n.gN)||(0,v.Hj)(D,this.location,`field ${this.property} not found on ${M}`)),this}getType(){var D;return(null===(D=this._field)||void 0===D?void 0:D.type)||c.NI}}class y extends h{constructor(D=W,M="<unknown>",I=[]){super("methodCall"),this.receiver=D,this.method=M,this.args=I}definition(){return this._method}toString(D){const M=this._method&&"js"===D?this._method.jsName:this.method;return`${this.receiver.toString(D)}.${M}(${this.args.map(I=>I.toString(D)).join(", ")})`}resolve(D){if(this.receiver=this.receiver.resolve(D),this.args=this.args.map(M=>M.resolve(D)),!this._method){const M=this.receiver.getType(),I=this.args.map(X=>X.getType());this._method||(this._method=M.lookup(this.method,n.n$,I)||(0,v.Hj)(D,this.location,`method ${this.method} not found on ${M}`))}return this}getType(){var D;return(null===(D=this._method)||void 0===D?void 0:D.returnType)||c.NI}}class T extends h{constructor(D=W,M="<unknown>",I=W){super("binary"),this.lhs=D,this.operator=M,this.rhs=I}lint(D){"=="===this.operator&&("expr:literal"===this.lhs.kind&&"true"===this.lhs.representation&&(0,v.Hj)(D,this.range,"`== true` is redundant","warning",this.rhs),"expr:literal"===this.rhs.kind&&"true"===this.rhs.representation&&(0,v.Hj)(D,this.range,"`== true` is redundant","warning",this.lhs)),super.lint(D)}toString(D){return`${this.lhs.toString(D)} ${this.operator} ${this.rhs.toString(D)}`}getType(){switch(this.operator){case"+":const D=this.lhs.getType(),M=this.rhs.getType();return"type:primitive"===D.kind&&"string"===D.name?D:"type:primitive"===M.kind&&"string"===M.name?M:new c.MX("int");case"&&":case"||":case"==":case"!=":case"<":case"<=":case">":case">=":return new c.MX("boolean");case"-":case"*":case"/":case"%":case"<<":case">>":case">>>":case"&":case"|":case"^":return new c.MX("int");default:return c.NI}}}class E extends h{constructor(D=W){super("parenthesized"),this.expression=D}toString(D){return`(${this.expression.toString(D)})`}getType(){return this.expression.getType()}}const W=new class extends h{constructor(){super("error")}getType(){return c.NI}}},11724:(x,s,p)=>{p.d(s,{K9:()=>c.K9,MX:()=>h.MX,NB:()=>O.NB,NR:()=>O.NR,UX:()=>c.UX,WJ:()=>c.WJ,ZJ:()=>v.ZJ,_C:()=>v._C,_w:()=>n._w,d2:()=>n.d2,dm:()=>n.dm,eB:()=>n.eB,gN:()=>n.gN,gO:()=>c.gO,gr:()=>n.gr,jR:()=>v.jR,lX:()=>v.lX,n$:()=>n.n$,o6:()=>v.o6,on:()=>c.on,pI:()=>O.pI,rF:()=>h.rF,rX:()=>c.rX,sW:()=>v.sW,sj:()=>c.sj,t$:()=>v.t$,v_:()=>n.v_,wT:()=>n.wT});var n=p(79576),v=p(80778),O=p(50440),c=p(87670),h=p(42081)},50440:(x,s,p)=>{p.d(s,{$S:()=>_,NB:()=>v,NR:()=>c,fp:()=>o,pI:()=>h});class v{constructor(a){this.kind=a}definition(a){}documentation(){var a;return null===(a=this.definition())||void 0===a?void 0:a.documentation()}references(a){var y;return(null===(y=this.definition(a))||void 0===y?void 0:y.references(a))||[]}resolve(a){return function O(l,a){for(const[y,T]of Object.entries(l))if("location"!==y&&"kind"!==y&&!y.startsWith("_")&&T)if(Array.isArray(T))for(let E=0;E<T.length;E++)T[E]instanceof v&&(T[E]=a(T[E]));else T instanceof v&&(l[y]=a(T))}(this,y=>y.resolve(a)),this}link(){for(const[a,y]of Object.entries(this))a.startsWith("_")&&y&&"_references"in y&&y._references.push(this);for(const a of h(this))a.link()}lint(a){for(const y of h(this))y.lint(a)}findByPosition(a){var y;if(!this.range||this.range.includes(a)){for(const T of h(this)){const E=T.findByPosition(a);if(E)return[this,...E]}if(null!==(y=this.location)&&void 0!==y&&y.includes(a))return[this]}}findEnclosing(a){if(this.range&&this.range.encloses(a)){for(const y of h(this)){const T=y.findEnclosing(a);if(T)return T}return this}}before(a){return this.commentBefore&&"js"!==a?this.commentBefore.endsWith("\n")?this.commentBefore:this.commentBefore+" ":""}after(a){return this.commentAfter&&"js"!==a?" "+this.commentAfter:""}toString(a){return`<${this.kind}>`}}function*c(l){yield l;for(const a of h(l))yield*c(a)}function*h(l){for(const[a,y]of Object.entries(l))if("location"!==a&&"kind"!==a&&!a.startsWith("_")&&y)if(Array.isArray(y))for(let T=0;T<y.length;T++)y[T]instanceof v&&(yield y[T]);else y instanceof v&&(yield y)}function _(l,...a){if(!l[0].startsWith("\n"))throw new Error("must start with a newline");const y=l[0].match(/^\n([ \t]*)/)[1];return l.map((T,E)=>{var W;0===E&&(T=T.substring(1+y.length));const D=(T=T.replace(new RegExp("^"+y,"gm"),"")).substring(T.lastIndexOf("\n")+1).match(/^\s*/)[0];return T+(null!==(W=a[E])&&void 0!==W?W:"").toString().replace(/\n/g,`\n${D}`)}).join("")}function o(){return(l,a,y)=>{const T=y.value;return y.value=function(E){return this.before(E)+T.call(this,E)+this.after(E)},y}}},4481:(x,s,p)=>{p.d(s,{Hj:()=>_,Hk:()=>o,Ly:()=>v,R9:()=>c,e6:()=>O});var n=p(11724);class v{constructor(a,y){this.line=a,this.column=y}}class O{constructor(a,y){this.start=a,this.end=y}includes(a){return this.start.line<=a.line&&a.line<=this.end.line&&(this.start.line<a.line||this.start.column<=a.column)&&(a.line<this.end.line||a.column<=this.end.column)}distance(a){return a.line<this.start.line?a.line-this.start.line:a.line>this.end.line?a.line-this.end.line:a.column<this.start.column?(a.column-this.start.column)/1e3:a.column>this.end.column?(a.column-this.end.column)/1e3:0}encloses(a){return this.includes(a.start)&&this.includes(a.end)}}class c{constructor(a,y,T,E="error",W,q){if(this.path=a,this.location=y,this.message=T,this.severity=E,this.expected=W,this.replacement=q,!y)throw new Error("location is required")}}function _(l,a,y,T="error",E){const W=l.lookup(n.eB.enclosing,n.eB),q=Array.isArray(E)?E:void 0,D=Array.isArray(E)?void 0:E,M=new c(void 0,a,y,T,q,D);W?W.report(M):function h(l){const{path:a,location:{start:{line:y,column:T}},message:E,severity:W}=l;switch(W){case"error":console.error(`${a}:${y}:${T}: error: ${E}`);break;case"warning":console.warn(`${a}:${y}:${T}: warning: ${E}`);break;case"note":console.info(`${a}:${y}:${T}: note: ${E}`)}if(l.expected)for(let q of l.expected)console.log(`- [${q.kind}] ${q.label} ${q.signature||""} - ${q.description||""}`)}(M)}function o(l,a,y,{lookup:T,kind:E,extra:W}={}){if(!y.includes("\xa7"))return!1;const q=y.slice(0,-1),D=(T||l).list().filter(I=>"name"in I).filter(I=>!E||I.kind===E).map(I=>"asCompletion"in I?I.asCompletion():{kind:I.kind,label:I.name});return _(l,a,"input '\xa7' expecting","error",(W?[...D,...W]:D).filter(I=>I.label.startsWith(q))),!0}},95987:(x,s,p)=>{x.exports=p(40426)},40426:function(x,s,p){var n=this&&this.__createBinding||(Object.create?function(o,l,a,y){void 0===y&&(y=a);var T=Object.getOwnPropertyDescriptor(l,a);(!T||("get"in T?!l.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(o,y,T)}:function(o,l,a,y){void 0===y&&(y=a),o[y]=l[a]}),v=this&&this.__exportStar||function(o,l){for(var a in o)"default"!==a&&!Object.prototype.hasOwnProperty.call(l,a)&&n(l,o,a)};Object.defineProperty(s,"__esModule",{value:!0}),s.createConnection=void 0;const O=p(30306);v(p(49729),s),v(p(30306),s);let c=!1;const h={initialize:o=>{},get shutdownReceived(){return c},set shutdownReceived(o){c=o},exit:o=>{}};s.createConnection=function _(o,l,a,y){let T,E,W,q;return void 0!==o&&"features"===o.__brand&&(T=o,o=l,l=a,a=y),O.ConnectionStrategy.is(o)||O.ConnectionOptions.is(o)?q=o:(E=o,W=l,q=a),(0,O.createConnection)(M=>(0,O.createProtocolConnection)(E,W,M,q),h,T)}},30306:function(x,s,p){var n=this&&this.__createBinding||(Object.create?function(o,l,a,y){void 0===y&&(y=a);var T=Object.getOwnPropertyDescriptor(l,a);(!T||("get"in T?!l.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(o,y,T)}:function(o,l,a,y){void 0===y&&(y=a),o[y]=l[a]}),v=this&&this.__exportStar||function(o,l){for(var a in o)"default"!==a&&!Object.prototype.hasOwnProperty.call(l,a)&&n(l,o,a)};Object.defineProperty(s,"__esModule",{value:!0}),s.ProposedFeatures=s.NotebookDocuments=s.TextDocuments=s.SemanticTokensBuilder=void 0;const O=p(29469);Object.defineProperty(s,"SemanticTokensBuilder",{enumerable:!0,get:function(){return O.SemanticTokensBuilder}}),v(p(45974),s);const c=p(39059);Object.defineProperty(s,"TextDocuments",{enumerable:!0,get:function(){return c.TextDocuments}});const h=p(92011);Object.defineProperty(s,"NotebookDocuments",{enumerable:!0,get:function(){return h.NotebookDocuments}}),v(p(43330),s),(s.ProposedFeatures||(s.ProposedFeatures={})).all={__brand:"features"}},7238:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CallHierarchyFeature=void 0;const n=p(45974);s.CallHierarchyFeature=O=>class extends O{get callHierarchy(){return{onPrepare:c=>this.connection.onRequest(n.CallHierarchyPrepareRequest.type,(h,_)=>c(h,_,this.attachWorkDoneProgress(h),void 0)),onIncomingCalls:c=>{const h=n.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(h,(_,o)=>c(_,o,this.attachWorkDoneProgress(_),this.attachPartialResultProgress(h,_)))},onOutgoingCalls:c=>{const h=n.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(h,(_,o)=>c(_,o,this.attachWorkDoneProgress(_),this.attachPartialResultProgress(h,_)))}}}}},58743:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ConfigurationFeature=void 0;const n=p(45974),v=p(83901);s.ConfigurationFeature=c=>class extends c{getConfiguration(h){return h?v.string(h)?this._getConfiguration({section:h}):this._getConfiguration(h):this._getConfiguration({})}_getConfiguration(h){let _={items:Array.isArray(h)?h:[h]};return this.connection.sendRequest(n.ConfigurationRequest.type,_).then(o=>Array.isArray(o)?Array.isArray(h)?o:o[0]:Array.isArray(h)?[]:null)}}},94433:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DiagnosticFeature=void 0;const n=p(45974);s.DiagnosticFeature=O=>class extends O{get diagnostics(){return{refresh:()=>this.connection.sendRequest(n.DiagnosticRefreshRequest.type),on:c=>this.connection.onRequest(n.DocumentDiagnosticRequest.type,(h,_)=>c(h,_,this.attachWorkDoneProgress(h),this.attachPartialResultProgress(n.DocumentDiagnosticRequest.partialResult,h))),onWorkspace:c=>this.connection.onRequest(n.WorkspaceDiagnosticRequest.type,(h,_)=>c(h,_,this.attachWorkDoneProgress(h),this.attachPartialResultProgress(n.WorkspaceDiagnosticRequest.partialResult,h)))}}}},5954:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FileOperationsFeature=void 0;const n=p(45974);s.FileOperationsFeature=O=>class extends O{onDidCreateFiles(c){return this.connection.onNotification(n.DidCreateFilesNotification.type,h=>{c(h)})}onDidRenameFiles(c){return this.connection.onNotification(n.DidRenameFilesNotification.type,h=>{c(h)})}onDidDeleteFiles(c){return this.connection.onNotification(n.DidDeleteFilesNotification.type,h=>{c(h)})}onWillCreateFiles(c){return this.connection.onRequest(n.WillCreateFilesRequest.type,(h,_)=>c(h,_))}onWillRenameFiles(c){return this.connection.onRequest(n.WillRenameFilesRequest.type,(h,_)=>c(h,_))}onWillDeleteFiles(c){return this.connection.onRequest(n.WillDeleteFilesRequest.type,(h,_)=>c(h,_))}}},94200:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InlayHintFeature=void 0;const n=p(45974);s.InlayHintFeature=O=>class extends O{get inlayHint(){return{refresh:()=>this.connection.sendRequest(n.InlayHintRefreshRequest.type),on:c=>this.connection.onRequest(n.InlayHintRequest.type,(h,_)=>c(h,_,this.attachWorkDoneProgress(h))),resolve:c=>this.connection.onRequest(n.InlayHintResolveRequest.type,(h,_)=>c(h,_))}}}},97140:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InlineValueFeature=void 0;const n=p(45974);s.InlineValueFeature=O=>class extends O{get inlineValue(){return{refresh:()=>this.connection.sendRequest(n.InlineValueRefreshRequest.type),on:c=>this.connection.onRequest(n.InlineValueRequest.type,(h,_)=>c(h,_,this.attachWorkDoneProgress(h)))}}}},27810:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkedEditingRangeFeature=void 0;const n=p(45974);s.LinkedEditingRangeFeature=O=>class extends O{onLinkedEditingRange(c){return this.connection.onRequest(n.LinkedEditingRangeRequest.type,(h,_)=>c(h,_,this.attachWorkDoneProgress(h),void 0))}}},9466:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MonikerFeature=void 0;const n=p(45974);s.MonikerFeature=O=>class extends O{get moniker(){return{on:c=>{const h=n.MonikerRequest.type;return this.connection.onRequest(h,(_,o)=>c(_,o,this.attachWorkDoneProgress(_),this.attachPartialResultProgress(h,_)))}}}}},92011:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NotebookDocuments=s.NotebookSyncFeature=void 0;const n=p(45974),v=p(39059);s.NotebookSyncFeature=_=>class extends _{get synchronization(){return{onDidOpenNotebookDocument:o=>this.connection.onNotification(n.DidOpenNotebookDocumentNotification.type,l=>{o(l)}),onDidChangeNotebookDocument:o=>this.connection.onNotification(n.DidChangeNotebookDocumentNotification.type,l=>{o(l)}),onDidSaveNotebookDocument:o=>this.connection.onNotification(n.DidSaveNotebookDocumentNotification.type,l=>{o(l)}),onDidCloseNotebookDocument:o=>this.connection.onNotification(n.DidCloseNotebookDocumentNotification.type,l=>{o(l)})}}};class c{onDidOpenTextDocument(o){return this.openHandler=o,n.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(o){this.openHandler&&this.openHandler(o)}onDidChangeTextDocument(o){return this.changeHandler=o,n.Disposable.create(()=>{this.changeHandler=o})}changeTextDocument(o){this.changeHandler&&this.changeHandler(o)}onDidCloseTextDocument(o){return this.closeHandler=o,n.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(o){this.closeHandler&&this.closeHandler(o)}onWillSaveTextDocument(){return c.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return c.NULL_DISPOSE}onDidSaveTextDocument(){return c.NULL_DISPOSE}}c.NULL_DISPOSE=Object.freeze({dispose:()=>{}}),s.NotebookDocuments=class h{constructor(o){this._cellTextDocuments=o instanceof v.TextDocuments?o:new v.TextDocuments(o),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new n.Emitter,this._onDidChange=new n.Emitter,this._onDidSave=new n.Emitter,this._onDidClose=new n.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(o){return this._cellTextDocuments.get(o.document)}getNotebookDocument(o){return this.notebookDocuments.get(o)}getNotebookCell(o){const l=this.notebookCellMap.get(o);return l&&l[0]}findNotebookDocumentForCell(o){const a=this.notebookCellMap.get("string"==typeof o?o:o.document);return a&&a[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(o){const l=new c,a=[];return a.push(this.cellTextDocuments.listen(l)),a.push(o.notebooks.synchronization.onDidOpenNotebookDocument(y=>{this.notebookDocuments.set(y.notebookDocument.uri,y.notebookDocument);for(const T of y.cellTextDocuments)l.openTextDocument({textDocument:T});this.updateCellMap(y.notebookDocument),this._onDidOpen.fire(y.notebookDocument)})),a.push(o.notebooks.synchronization.onDidChangeNotebookDocument(y=>{const T=this.notebookDocuments.get(y.notebookDocument.uri);if(void 0===T)return;T.version=y.notebookDocument.version;const E=T.metadata;let W=!1;const q=y.change;void 0!==q.metadata&&(W=!0,T.metadata=q.metadata);const D=[],M=[],I=[],X=[];if(void 0!==q.cells){const H=q.cells;if(void 0!==H.structure){const z=H.structure.array;if(T.cells.splice(z.start,z.deleteCount,...void 0!==z.cells?z.cells:[]),void 0!==H.structure.didOpen)for(const G of H.structure.didOpen)l.openTextDocument({textDocument:G}),D.push(G.uri);if(H.structure.didClose)for(const G of H.structure.didClose)l.closeTextDocument({textDocument:G}),M.push(G.uri)}if(void 0!==H.data){const z=new Map(H.data.map(G=>[G.document,G]));for(let G=0;G<=T.cells.length;G++){const J=z.get(T.cells[G].document);if(void 0!==J){const V=T.cells.splice(G,1,J);if(I.push({old:V[0],new:J}),z.delete(J.document),0===z.size)break}}}if(void 0!==H.textContent)for(const z of H.textContent)l.changeTextDocument({textDocument:z.document,contentChanges:z.changes}),X.push(z.document.uri)}this.updateCellMap(T);const K={notebookDocument:T};W&&(K.metadata={old:E,new:T.metadata});const k=[];for(const H of D)k.push(this.getNotebookCell(H));const F=[];for(const H of M)F.push(this.getNotebookCell(H));const A=[];for(const H of X)A.push(this.getNotebookCell(H));(k.length>0||F.length>0||I.length>0||A.length>0)&&(K.cells={added:k,removed:F,changed:{data:I,textContent:A}}),(void 0!==K.metadata||void 0!==K.cells)&&this._onDidChange.fire(K)})),a.push(o.notebooks.synchronization.onDidSaveNotebookDocument(y=>{const T=this.notebookDocuments.get(y.notebookDocument.uri);void 0!==T&&this._onDidSave.fire(T)})),a.push(o.notebooks.synchronization.onDidCloseNotebookDocument(y=>{const T=this.notebookDocuments.get(y.notebookDocument.uri);if(void 0!==T){this._onDidClose.fire(T);for(const E of y.cellTextDocuments)l.closeTextDocument({textDocument:E});this.notebookDocuments.delete(y.notebookDocument.uri);for(const E of T.cells)this.notebookCellMap.delete(E.document)}})),n.Disposable.create(()=>{a.forEach(y=>y.dispose())})}updateCellMap(o){for(const l of o.cells)this.notebookCellMap.set(l.document,[l,o])}}},94640:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attachPartialResult=s.ProgressFeature=s.attachWorkDone=void 0;const n=p(45974),v=p(43706);class O{constructor(W,q){this._connection=W,this._token=q,O.Instances.set(this._token,this)}begin(W,q,D,M){this._connection.sendProgress(n.WorkDoneProgress.type,this._token,{kind:"begin",title:W,percentage:q,message:D,cancellable:M})}report(W,q){let D={kind:"report"};"number"==typeof W?(D.percentage=W,void 0!==q&&(D.message=q)):D.message=W,this._connection.sendProgress(n.WorkDoneProgress.type,this._token,D)}done(){O.Instances.delete(this._token),this._connection.sendProgress(n.WorkDoneProgress.type,this._token,{kind:"end"})}}O.Instances=new Map;class c extends O{constructor(W,q){super(W,q),this._source=new n.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class h{constructor(){}begin(){}report(){}done(){}}class _ extends h{constructor(){super(),this._source=new n.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}var a;s.attachWorkDone=function o(E,W){if(void 0===W||void 0===W.workDoneToken)return new h;const q=W.workDoneToken;return delete W.workDoneToken,new O(E,q)},s.ProgressFeature=E=>class extends E{constructor(){super(),this._progressSupported=!1}initialize(W){super.initialize(W),!0===W?.window?.workDoneProgress&&(this._progressSupported=!0,this.connection.onNotification(n.WorkDoneProgressCancelNotification.type,q=>{let D=O.Instances.get(q.token);(D instanceof c||D instanceof _)&&D.cancel()}))}attachWorkDoneProgress(W){return void 0===W?new h:new O(this.connection,W)}createWorkDoneProgress(){if(this._progressSupported){const W=(0,v.generateUuid)();return this.connection.sendRequest(n.WorkDoneProgressCreateRequest.type,{token:W}).then(()=>new c(this.connection,W))}return Promise.resolve(new _)}},(a||(a={})).type=new n.ProgressType;class y{constructor(W,q){this._connection=W,this._token=q}report(W){this._connection.sendProgress(a.type,this._token,W)}}s.attachPartialResult=function T(E,W){if(void 0===W||void 0===W.partialResultToken)return;const q=W.partialResultToken;return delete W.partialResultToken,new y(E,q)}},29469:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SemanticTokensBuilder=s.SemanticTokensDiff=s.SemanticTokensFeature=void 0;const n=p(45974);s.SemanticTokensFeature=h=>class extends h{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(n.SemanticTokensRefreshRequest.type),on:_=>{const o=n.SemanticTokensRequest.type;return this.connection.onRequest(o,(l,a)=>_(l,a,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))},onDelta:_=>{const o=n.SemanticTokensDeltaRequest.type;return this.connection.onRequest(o,(l,a)=>_(l,a,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))},onRange:_=>{const o=n.SemanticTokensRangeRequest.type;return this.connection.onRequest(o,(l,a)=>_(l,a,this.attachWorkDoneProgress(l),this.attachPartialResultProgress(o,l)))}}}};class O{constructor(_,o){this.originalSequence=_,this.modifiedSequence=o}computeDiff(){const _=this.originalSequence.length,o=this.modifiedSequence.length;let l=0;for(;l<o&&l<_&&this.originalSequence[l]===this.modifiedSequence[l];)l++;if(l<o&&l<_){let a=_-1,y=o-1;for(;a>=l&&y>=l&&this.originalSequence[a]===this.modifiedSequence[y];)a--,y--;(a<l||y<l)&&(a++,y++);const T=a-l+1,E=this.modifiedSequence.slice(l,y+1);return 1===E.length&&E[0]===this.originalSequence[a]?[{start:l,deleteCount:T-1}]:[{start:l,deleteCount:T,data:E}]}return l<o?[{start:l,deleteCount:0,data:this.modifiedSequence.slice(l)}]:l<_?[{start:l,deleteCount:_-l}]:[]}}s.SemanticTokensDiff=O,s.SemanticTokensBuilder=class c{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(_,o,l,a,y){let T=_,E=o;this._dataLen>0&&(T-=this._prevLine,0===T&&(E-=this._prevChar)),this._data[this._dataLen++]=T,this._data[this._dataLen++]=E,this._data[this._dataLen++]=l,this._data[this._dataLen++]=a,this._data[this._dataLen++]=y,this._prevLine=_,this._prevChar=o}get id(){return this._id.toString()}previousResult(_){this.id===_&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){return void 0!==this._prevData?{resultId:this.id,edits:new O(this._prevData,this._data).computeDiff()}:this.build()}}},43330:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createConnection=s.combineFeatures=s.combineNotebooksFeatures=s.combineLanguagesFeatures=s.combineWorkspaceFeatures=s.combineWindowFeatures=s.combineClientFeatures=s.combineTracerFeatures=s.combineTelemetryFeatures=s.combineConsoleFeatures=s._NotebooksImpl=s._LanguagesImpl=s.BulkUnregistration=s.BulkRegistration=s.ErrorMessageTracker=void 0;const n=p(45974),v=p(83901),O=p(43706),c=p(94640),h=p(58743),_=p(45108),o=p(7238),l=p(29469),a=p(95601),y=p(5954),T=p(27810),E=p(71397),W=p(97140),q=p(94200),D=p(94433),M=p(92011),I=p(9466);function X(C){if(null!==C)return C}s.ErrorMessageTracker=class K{constructor(){this._messages=Object.create(null)}add(r){let m=this._messages[r];m||(m=0),m++,this._messages[r]=m}sendErrors(r){Object.keys(this._messages).forEach(m=>{r.window.showErrorMessage(m)})}};class k{constructor(){}rawAttach(r){this._rawConnection=r}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(r){}initialize(r){}error(r){this.send(n.MessageType.Error,r)}warn(r){this.send(n.MessageType.Warning,r)}info(r){this.send(n.MessageType.Info,r)}log(r){this.send(n.MessageType.Log,r)}send(r,m){this._rawConnection&&this._rawConnection.sendNotification(n.LogMessageNotification.type,{type:r,message:m}).catch(()=>{(0,n.RAL)().console.error("Sending log message failed")})}}const A=(0,a.ShowDocumentFeature)((0,c.ProgressFeature)(class F{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}showErrorMessage(r,...m){return this.connection.sendRequest(n.ShowMessageRequest.type,{type:n.MessageType.Error,message:r,actions:m}).then(X)}showWarningMessage(r,...m){return this.connection.sendRequest(n.ShowMessageRequest.type,{type:n.MessageType.Warning,message:r,actions:m}).then(X)}showInformationMessage(r,...m){return this.connection.sendRequest(n.ShowMessageRequest.type,{type:n.MessageType.Info,message:r,actions:m}).then(X)}}));(s.BulkRegistration||(s.BulkRegistration={})).create=function r(){return new z};class z{constructor(){this._registrations=[],this._registered=new Set}add(r,m){const N=v.string(r)?r:r.method;if(this._registered.has(N))throw new Error(`${N} is already added to this registration`);const g=O.generateUuid();this._registrations.push({id:g,method:N,registerOptions:m||{}}),this._registered.add(N)}asRegistrationParams(){return{registrations:this._registrations}}}(s.BulkUnregistration||(s.BulkUnregistration={})).create=function r(){return new J(void 0,[])};class J{constructor(r,m){this._connection=r,this._unregistrations=new Map,m.forEach(N=>{this._unregistrations.set(N.method,N)})}get isAttached(){return!!this._connection}attach(r){this._connection=r}add(r){this._unregistrations.set(r.method,r)}dispose(){let r=[];for(let N of this._unregistrations.values())r.push(N);this._connection.sendRequest(n.UnregistrationRequest.type,{unregisterations:r}).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(r){const m=v.string(r)?r:r.method,N=this._unregistrations.get(m);return!!N&&(this._connection.sendRequest(n.UnregistrationRequest.type,{unregisterations:[N]}).then(()=>{this._unregistrations.delete(m)},B=>{this._connection.console.info(`Un-registering request handler for ${N.id} failed.`)}),!0)}}class V{attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}register(r,m,N){return r instanceof z?this.registerMany(r):r instanceof J?this.registerSingle1(r,m,N):this.registerSingle2(r,m)}registerSingle1(r,m,N){const g=v.string(m)?m:m.method,B=O.generateUuid();let Y={registrations:[{id:B,method:g,registerOptions:N||{}}]};return r.isAttached||r.attach(this.connection),this.connection.sendRequest(n.RegistrationRequest.type,Y).then(Z=>(r.add({id:B,method:g}),r),Z=>(this.connection.console.info(`Registering request handler for ${g} failed.`),Promise.reject(Z)))}registerSingle2(r,m){const N=v.string(r)?r:r.method,g=O.generateUuid();return this.connection.sendRequest(n.RegistrationRequest.type,{registrations:[{id:g,method:N,registerOptions:m||{}}]}).then(Y=>n.Disposable.create(()=>{this.unregisterSingle(g,N).catch(()=>{this.connection.console.info(`Un-registering capability with id ${g} failed.`)})}),Y=>(this.connection.console.info(`Registering request handler for ${N} failed.`),Promise.reject(Y)))}unregisterSingle(r,m){return this.connection.sendRequest(n.UnregistrationRequest.type,{unregisterations:[{id:r,method:m}]}).catch(()=>{this.connection.console.info(`Un-registering request handler for ${r} failed.`)})}registerMany(r){let m=r.asRegistrationParams();return this.connection.sendRequest(n.RegistrationRequest.type,m).then(()=>new J(this._connection,m.registrations.map(N=>({id:N.id,method:N.method}))),N=>(this.connection.console.info("Bulk registration failed."),Promise.reject(N)))}}const te=(0,y.FileOperationsFeature)((0,_.WorkspaceFoldersFeature)((0,h.ConfigurationFeature)(class ae{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}applyEdit(r){let N=function m(g){return g&&!!g.edit}(r)?r:{edit:r};return this.connection.sendRequest(n.ApplyWorkspaceEditRequest.type,N)}})));class ne{constructor(){this._trace=n.Trace.Off}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}set trace(r){this._trace=r}log(r,m){this._trace!==n.Trace.Off&&this.connection.sendNotification(n.LogTraceNotification.type,{message:r,verbose:this._trace===n.Trace.Verbose?m:void 0}).catch(()=>{})}}class oe{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}logEvent(r){this.connection.sendNotification(n.TelemetryEventNotification.type,r).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class ie{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}attachWorkDoneProgress(r){return(0,c.attachWorkDone)(this.connection,r)}attachPartialResultProgress(r,m){return(0,c.attachPartialResult)(this.connection,m)}}s._LanguagesImpl=ie;const re=(0,I.MonikerFeature)((0,D.DiagnosticFeature)((0,q.InlayHintFeature)((0,W.InlineValueFeature)((0,E.TypeHierarchyFeature)((0,T.LinkedEditingRangeFeature)((0,l.SemanticTokensFeature)((0,o.CallHierarchyFeature)(ie))))))));class se{constructor(){}attach(r){this._connection=r}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(r){}fillServerCapabilities(r){}attachWorkDoneProgress(r){return(0,c.attachWorkDone)(this.connection,r)}attachPartialResultProgress(r,m){return(0,c.attachPartialResult)(this.connection,m)}}s._NotebooksImpl=se;const ee=(0,M.NotebookSyncFeature)(se);function d(C,r){return function(m){return r(C(m))}}function f(C,r){return function(m){return r(C(m))}}function b(C,r){return function(m){return r(C(m))}}function u(C,r){return function(m){return r(C(m))}}function t(C,r){return function(m){return r(C(m))}}function e(C,r){return function(m){return r(C(m))}}function i(C,r){return function(m){return r(C(m))}}function R(C,r){return function(m){return r(C(m))}}s.combineConsoleFeatures=d,s.combineTelemetryFeatures=f,s.combineTracerFeatures=b,s.combineClientFeatures=u,s.combineWindowFeatures=t,s.combineWorkspaceFeatures=e,s.combineLanguagesFeatures=i,s.combineNotebooksFeatures=R,s.combineFeatures=function j(C,r){function m(g,B,Y){return g&&B?Y(g,B):g||B}return{__brand:"features",console:m(C.console,r.console,d),tracer:m(C.tracer,r.tracer,b),telemetry:m(C.telemetry,r.telemetry,f),client:m(C.client,r.client,u),window:m(C.window,r.window,t),workspace:m(C.workspace,r.workspace,e),languages:m(C.languages,r.languages,i),notebooks:m(C.notebooks,r.notebooks,R)}},s.createConnection=function P(C,r,m){const N=m&&m.console?new(m.console(k)):new k,g=C(N);N.rawAttach(g);const B=m&&m.tracer?new(m.tracer(ne)):new ne,Y=m&&m.telemetry?new(m.telemetry(oe)):new oe,Z=m&&m.client?new(m.client(V)):new V,me=m&&m.window?new(m.window(A)):new A,pe=m&&m.workspace?new(m.workspace(te)):new te,ye=m&&m.languages?new(m.languages(re)):new re,_e=m&&m.notebooks?new(m.notebooks(ee)):new ee,ue=[N,B,Y,Z,me,pe,ye,_e];let le,de,he,ce={listen:()=>g.listen(),sendRequest:(S,...w)=>g.sendRequest(v.string(S)?S:S.method,...w),onRequest:(S,w)=>g.onRequest(S,w),sendNotification:(S,w)=>{const $=v.string(S)?S:S.method;return 1===arguments.length?g.sendNotification($):g.sendNotification($,w)},onNotification:(S,w)=>g.onNotification(S,w),onProgress:g.onProgress,sendProgress:g.sendProgress,onInitialize:S=>(de=S,{dispose:()=>{de=void 0}}),onInitialized:S=>g.onNotification(n.InitializedNotification.type,S),onShutdown:S=>(le=S,{dispose:()=>{le=void 0}}),onExit:S=>(he=S,{dispose:()=>{he=void 0}}),get console(){return N},get telemetry(){return Y},get tracer(){return B},get client(){return Z},get window(){return me},get workspace(){return pe},get languages(){return ye},get notebooks(){return _e},onDidChangeConfiguration:S=>g.onNotification(n.DidChangeConfigurationNotification.type,S),onDidChangeWatchedFiles:S=>g.onNotification(n.DidChangeWatchedFilesNotification.type,S),__textDocumentSync:void 0,onDidOpenTextDocument:S=>g.onNotification(n.DidOpenTextDocumentNotification.type,S),onDidChangeTextDocument:S=>g.onNotification(n.DidChangeTextDocumentNotification.type,S),onDidCloseTextDocument:S=>g.onNotification(n.DidCloseTextDocumentNotification.type,S),onWillSaveTextDocument:S=>g.onNotification(n.WillSaveTextDocumentNotification.type,S),onWillSaveTextDocumentWaitUntil:S=>g.onRequest(n.WillSaveTextDocumentWaitUntilRequest.type,S),onDidSaveTextDocument:S=>g.onNotification(n.DidSaveTextDocumentNotification.type,S),sendDiagnostics:S=>g.sendNotification(n.PublishDiagnosticsNotification.type,S),onHover:S=>g.onRequest(n.HoverRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),void 0)),onCompletion:S=>g.onRequest(n.CompletionRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onCompletionResolve:S=>g.onRequest(n.CompletionResolveRequest.type,S),onSignatureHelp:S=>g.onRequest(n.SignatureHelpRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),void 0)),onDeclaration:S=>g.onRequest(n.DeclarationRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onDefinition:S=>g.onRequest(n.DefinitionRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onTypeDefinition:S=>g.onRequest(n.TypeDefinitionRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onImplementation:S=>g.onRequest(n.ImplementationRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onReferences:S=>g.onRequest(n.ReferencesRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onDocumentHighlight:S=>g.onRequest(n.DocumentHighlightRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onDocumentSymbol:S=>g.onRequest(n.DocumentSymbolRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onWorkspaceSymbol:S=>g.onRequest(n.WorkspaceSymbolRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onWorkspaceSymbolResolve:S=>g.onRequest(n.WorkspaceSymbolResolveRequest.type,S),onCodeAction:S=>g.onRequest(n.CodeActionRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onCodeActionResolve:S=>g.onRequest(n.CodeActionResolveRequest.type,(w,$)=>S(w,$)),onCodeLens:S=>g.onRequest(n.CodeLensRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onCodeLensResolve:S=>g.onRequest(n.CodeLensResolveRequest.type,(w,$)=>S(w,$)),onDocumentFormatting:S=>g.onRequest(n.DocumentFormattingRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),void 0)),onDocumentRangeFormatting:S=>g.onRequest(n.DocumentRangeFormattingRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),void 0)),onDocumentOnTypeFormatting:S=>g.onRequest(n.DocumentOnTypeFormattingRequest.type,(w,$)=>S(w,$)),onRenameRequest:S=>g.onRequest(n.RenameRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),void 0)),onPrepareRename:S=>g.onRequest(n.PrepareRenameRequest.type,(w,$)=>S(w,$)),onDocumentLinks:S=>g.onRequest(n.DocumentLinkRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onDocumentLinkResolve:S=>g.onRequest(n.DocumentLinkResolveRequest.type,(w,$)=>S(w,$)),onDocumentColor:S=>g.onRequest(n.DocumentColorRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onColorPresentation:S=>g.onRequest(n.ColorPresentationRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onFoldingRanges:S=>g.onRequest(n.FoldingRangeRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onSelectionRanges:S=>g.onRequest(n.SelectionRangeRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),(0,c.attachPartialResult)(g,w))),onExecuteCommand:S=>g.onRequest(n.ExecuteCommandRequest.type,(w,$)=>S(w,$,(0,c.attachWorkDone)(g,w),void 0)),dispose:()=>g.dispose()};for(let S of ue)S.attach(ce);return g.onRequest(n.InitializeRequest.type,S=>{r.initialize(S),v.string(S.trace)&&(B.trace=n.Trace.fromString(S.trace));for(let w of ue)w.initialize(S.capabilities);if(de)return function ve(S){return S instanceof Promise?S:v.thenable(S)?new Promise((w,$)=>{S.then(Q=>w(Q),Q=>$(Q))}):Promise.resolve(S)}(de(S,(new n.CancellationTokenSource).token,(0,c.attachWorkDone)(g,S),void 0)).then($=>{if($ instanceof n.ResponseError)return $;let Q=$;Q||(Q={capabilities:{}});let U=Q.capabilities;U||(U={},Q.capabilities=U),null==U.textDocumentSync?U.textDocumentSync=v.number(ce.__textDocumentSync)?ce.__textDocumentSync:n.TextDocumentSyncKind.None:!v.number(U.textDocumentSync)&&!v.number(U.textDocumentSync.change)&&(U.textDocumentSync.change=v.number(ce.__textDocumentSync)?ce.__textDocumentSync:n.TextDocumentSyncKind.None);for(let be of ue)be.fillServerCapabilities(U);return Q});{let w={capabilities:{textDocumentSync:n.TextDocumentSyncKind.None}};for(let $ of ue)$.fillServerCapabilities(w.capabilities);return w}}),g.onRequest(n.ShutdownRequest.type,()=>{if(r.shutdownReceived=!0,le)return le((new n.CancellationTokenSource).token)}),g.onNotification(n.ExitNotification.type,()=>{try{he&&he()}finally{r.exit(r.shutdownReceived?0:1)}}),g.onNotification(n.SetTraceNotification.type,S=>{B.trace=n.Trace.fromString(S.value)}),ce}},95601:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ShowDocumentFeature=void 0;const n=p(45974);s.ShowDocumentFeature=O=>class extends O{showDocument(c){return this.connection.sendRequest(n.ShowDocumentRequest.type,c)}}},39059:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextDocuments=void 0;const n=p(45974);s.TextDocuments=class v{constructor(c){this._configuration=c,this._syncedDocuments=new Map,this._onDidChangeContent=new n.Emitter,this._onDidOpen=new n.Emitter,this._onDidClose=new n.Emitter,this._onDidSave=new n.Emitter,this._onWillSave=new n.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(c){this._willSaveWaitUntil=c}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(c){return this._syncedDocuments.get(c)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(c){c.__textDocumentSync=n.TextDocumentSyncKind.Incremental;const h=[];return h.push(c.onDidOpenTextDocument(_=>{const o=_.textDocument,l=this._configuration.create(o.uri,o.languageId,o.version,o.text);this._syncedDocuments.set(o.uri,l);const a=Object.freeze({document:l});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),h.push(c.onDidChangeTextDocument(_=>{const o=_.textDocument,l=_.contentChanges;if(0===l.length)return;const{version:a}=o;if(null==a)throw new Error(`Received document change event for ${o.uri} without valid version identifier`);let y=this._syncedDocuments.get(o.uri);void 0!==y&&(y=this._configuration.update(y,l,a),this._syncedDocuments.set(o.uri,y),this._onDidChangeContent.fire(Object.freeze({document:y})))})),h.push(c.onDidCloseTextDocument(_=>{let o=this._syncedDocuments.get(_.textDocument.uri);void 0!==o&&(this._syncedDocuments.delete(_.textDocument.uri),this._onDidClose.fire(Object.freeze({document:o})))})),h.push(c.onWillSaveTextDocument(_=>{let o=this._syncedDocuments.get(_.textDocument.uri);void 0!==o&&this._onWillSave.fire(Object.freeze({document:o,reason:_.reason}))})),h.push(c.onWillSaveTextDocumentWaitUntil((_,o)=>{let l=this._syncedDocuments.get(_.textDocument.uri);return void 0!==l&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:l,reason:_.reason}),o):[]})),h.push(c.onDidSaveTextDocument(_=>{let o=this._syncedDocuments.get(_.textDocument.uri);void 0!==o&&this._onDidSave.fire(Object.freeze({document:o}))})),n.Disposable.create(()=>{h.forEach(_=>_.dispose())})}}},71397:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TypeHierarchyFeature=void 0;const n=p(45974);s.TypeHierarchyFeature=O=>class extends O{get typeHierarchy(){return{onPrepare:c=>this.connection.onRequest(n.TypeHierarchyPrepareRequest.type,(h,_)=>c(h,_,this.attachWorkDoneProgress(h),void 0)),onSupertypes:c=>{const h=n.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(h,(_,o)=>c(_,o,this.attachWorkDoneProgress(_),this.attachPartialResultProgress(h,_)))},onSubtypes:c=>{const h=n.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(h,(_,o)=>c(_,o,this.attachWorkDoneProgress(_),this.attachPartialResultProgress(h,_)))}}}}},83901:(x,s)=>{function n(a){return"string"==typeof a||a instanceof String}function c(a){return"function"==typeof a}function h(a){return Array.isArray(a)}Object.defineProperty(s,"__esModule",{value:!0}),s.thenable=s.typedArray=s.stringArray=s.array=s.func=s.error=s.number=s.string=s.boolean=void 0,s.boolean=function p(a){return!0===a||!1===a},s.string=n,s.number=function v(a){return"number"==typeof a||a instanceof Number},s.error=function O(a){return a instanceof Error},s.func=c,s.array=h,s.stringArray=function _(a){return h(a)&&a.every(y=>n(y))},s.typedArray=function o(a,y){return Array.isArray(a)&&a.every(y)},s.thenable=function l(a){return a&&c(a.then)}},43706:(x,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.generateUuid=s.parse=s.isUUID=s.v4=s.empty=void 0;class p{constructor(l){this._value=l}asHex(){return this._value}equals(l){return this.asHex()===l.asHex()}}let n=(()=>{class o extends p{constructor(){super([o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),"-","4",o._randomHex(),o._randomHex(),o._randomHex(),"-",o._oneOf(o._timeHighBits),o._randomHex(),o._randomHex(),o._randomHex(),"-",o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex(),o._randomHex()].join(""))}static _oneOf(a){return a[Math.floor(a.length*Math.random())]}static _randomHex(){return o._oneOf(o._chars)}}return o._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],o._timeHighBits=["8","9","a","b"],o})();function v(){return new n}s.empty=new p("00000000-0000-0000-0000-000000000000"),s.v4=v;const O=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function c(o){return O.test(o)}s.isUUID=c,s.parse=function h(o){if(!c(o))throw new Error("invalid uuid");return new p(o)},s.generateUuid=function _(){return v().asHex()}},45108:(x,s,p)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WorkspaceFoldersFeature=void 0;const n=p(45974);s.WorkspaceFoldersFeature=O=>class extends O{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(c){super.initialize(c);let h=c.workspace;h&&h.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new n.Emitter,this.connection.onNotification(n.DidChangeWorkspaceFoldersNotification.type,_=>{this._onDidChangeWorkspaceFolders.fire(_.event)}))}fillServerCapabilities(c){super.fillServerCapabilities(c);const h=c.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=!0===h||"string"==typeof h}getWorkspaceFolders(){return this.connection.sendRequest(n.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(n.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},99938:(x,s,p)=>{function h(d,f,b,u){var i,t=arguments.length,e=t<3?f:null===u?u=Object.getOwnPropertyDescriptor(f,b):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)e=Reflect.decorate(d,f,b,u);else for(var R=d.length-1;R>=0;R--)(i=d[R])&&(e=(t<3?i(e):t>3?i(f,b,e):i(f,b))||e);return t>3&&e&&Object.defineProperty(f,b,e),e}function T(d,f){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(d,f)}function E(d,f,b,u){return new(b||(b=Promise))(function(e,i){function R(C){try{P(u.next(C))}catch(r){i(r)}}function j(C){try{P(u.throw(C))}catch(r){i(r)}}function P(C){C.done?e(C.value):function t(e){return e instanceof b?e:new b(function(i){i(e)})}(C.value).then(R,j)}P((u=u.apply(d,f||[])).next())})}p.d(s,{gn:()=>h,mG:()=>E,w6:()=>T}),"function"==typeof SuppressedError&&SuppressedError}},ge={};function L(x){var s=ge[x];if(void 0!==s)return s.exports;var p=ge[x]={exports:{}};return fe[x].call(p.exports,p,p.exports,L),p.exports}L.m=fe,L.x=()=>{var x=L.O(void 0,[642,60],()=>L(92271));return L.O(x)},x=[],L.O=(s,p,n,v)=>{if(!p){var c=1/0;for(O=0;O<x.length;O++){for(var[p,n,v]=x[O],h=!0,_=0;_<p.length;_++)(!1&v||c>=v)&&Object.keys(L.O).every(E=>L.O[E](p[_]))?p.splice(_--,1):(h=!1,v<c&&(c=v));if(h){x.splice(O--,1);var o=n();void 0!==o&&(s=o)}}return s}v=v||0;for(var O=x.length;O>0&&x[O-1][2]>v;O--)x[O]=x[O-1];x[O]=[p,n,v]},L.d=(x,s)=>{for(var p in s)L.o(s,p)&&!L.o(x,p)&&Object.defineProperty(x,p,{enumerable:!0,get:s[p]})},L.f={},L.e=x=>Promise.all(Object.keys(L.f).reduce((s,p)=>(L.f[p](x,s),s),[])),L.u=x=>x+"."+{60:"d1c0d352c73f0509",642:"b4fe042601909fbc"}[x]+".js",L.miniCssF=x=>{},L.o=(x,s)=>Object.prototype.hasOwnProperty.call(x,s),L.r=x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},(()=>{var x;L.tt=()=>(void 0===x&&(x={createScriptURL:s=>s},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(x=trustedTypes.createPolicy("angular#bundler",x))),x)})(),L.tu=x=>L.tt().createScriptURL(x),L.p="",(()=>{var x={271:1};L.f.i=(v,O)=>{x[v]||importScripts(L.tu(L.p+L.u(v)))};var p=self.webpackChunkweb=self.webpackChunkweb||[],n=p.push.bind(p);p.push=v=>{var[O,c,h]=v;for(var _ in c)L.o(c,_)&&(L.m[_]=c[_]);for(h&&h(L);O.length;)x[O.pop()]=1;n(v)}})(),(()=>{var x=L.x;L.x=()=>Promise.all([L.e(642),L.e(60)]).then(x)})(),L.x()})();