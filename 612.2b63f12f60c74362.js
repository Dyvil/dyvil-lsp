(()=>{"use strict";var r,E={11612:(r,p,s)=>{s(35618);var l=s(44017),f=(s(74399),s(83981));console.log("Running Dyvil Compiler Server in Web Worker"),self.addEventListener("message",S=>{const h=S.data.compile;if(h){const a=(0,l.V3)(h).resolve(new f._([])).toString("js");self.postMessage({compiled:a})}})},127:(r,p,s)=>{s.d(p,{YN:()=>O,_w:()=>w,d2:()=>P,dm:()=>$,eB:()=>a,gN:()=>g,n$:()=>k,v_:()=>v,wT:()=>n});var _=s(48709),l=s(74399),c=s(42323),f=s(83981),S=s(46187),h=s(38426);class a extends c.NB{constructor(t,e=[]){super("unit"),this.path=t,this.classes=e,this.diagnostics=[]}report(t){this.diagnostics.push(t)}resolve(t){const e={[a.enclosing]:this};for(const o of this.classes)e[o.name]=o;return super.resolve(new f._(e,t))}toString(t){return this.classes.map(e=>e.toString(t)).join("\n\n")}}a.enclosing=Symbol("enclosing compilation unit");class i extends c.NB{constructor(t,e){super(t),this.name=e,this._references=[]}documentation(){return this.doc}references(){return[this.location,...this._references.map(t=>t.location)]}}class n extends i{constructor(t="<anonymous>",e=[],o=[],m=[]){super("class",t),this.fields=e,this.constructors=o,this.methods=m}asType(){const t=new h.rF(this.name);return t._class=this,t}asCompletion(){return{label:this.name,kind:"class"}}toString(t){return c.$S`
    class ${this.name} {
      ${this.fields.map(e=>e.toString(t)).join("\n")}

      ${this.constructors.map(e=>e.toString(t)).join("\n\n")}

      ${this.methods.map(e=>e.toString(t)).join("\n\n")}
    }`}lookup(t,e,...o){for(const m of this.fields)if(m.name===t&&m instanceof e)return m;for(const m of this.methods)if(m.name===t&&m instanceof e&&m.overloads(o[0]))return m;for(const m of this.constructors)if(m instanceof e&&m.overloads(o[0]))return m}list(){return[...this.fields,...this.methods]}resolve(t){const e=new f._({[n.enclosing]:this},t);super.resolve(e);for(const o of this.fields)this.fields.some(m=>m!==o&&m.name===o.name)&&(0,l.Hj)(t,o.location,`duplicate field ${o.name}`);for(const o of this.methods)this.methods.some(m=>m!==o&&m.jsName===o.jsName)&&(0,l.Hj)(t,o.location,`duplicate method ${o.name} with mangled name ${o.jsName}`);return this}}n.enclosing=Symbol("enclosing class");class d extends i{constructor(t,e,o,m){super(t,e),this.parameters=o,this.body=m}resolve(t){this._thisClass||(this._thisClass=t.lookup(n.enclosing,n)),this._thisClass&&!this._thisParameter&&(this._thisParameter=new P("this",this._thisClass.asType()),this._thisParameter.location=this.location);const e=new f._(this._thisParameter?[this._thisParameter,...this.parameters]:this.parameters,t);return super.resolve(e)}overloads(t){return t.length===this.parameters.length&&this.parameters.every((e,o)=>(0,h.BM)(e.type,t[o]))}}let v=(()=>{class y extends d{constructor(e=[],o=new S.gO){super("constructor","init",e,o)}toString(e){return`${"js"===e?"constructor":"init"}(${this.parameters.map(o=>o.toString(e)).join(", ")}) ${this.body.toString(e)}`}documentation(){return this.parameters.length?c.$S`
    ${this.doc}

    #### Parameters
    ${this.parameters.map(e=>"- "+e.documentation()).join("\n")}
    `:this.doc}references(e){return"rename"===e?[]:super.references()}}return y.completion={kind:"keyword",label:"init",snippet:"init(${1:parameters...}) {\n  ${2:statements...}\n}"},y})(),g=(()=>{class y extends i{constructor(e="<unknown>",o=h.NI,m){super("field",e),this.type=o,this.value=m}asCompletion(){return{label:this.name,kind:"field",signature:": "+this.type.toString()}}toString(e){return"js"===e?c.$S`
      _${this.name}${this.value?" = "+this.value.toString(e):""};

      get ${this.name}() {
        return this._${this.name};
      }

      set ${this.name}(value) {
        this._${this.name} = value;
      }`:`var ${this.name}: ${this.type.toString(e)}${this.value?" = "+this.value.toString(e):""}`}}return y.completion={kind:"keyword",label:"var",snippet:"var ${1:name}: ${2:type} = ${3:value}"},y})(),k=(()=>{class y extends d{constructor(e="<unknown>",o=[],m=h.NI,j=new S.gO){super("method",e,o,j),this.returnType=m}get jsName(){return this.name+this.parameters.map(e=>"_"+e.name).join("")}asCompletion(){return{label:this.name,kind:"method",signature:`(${this.parameters.map(e=>e.type.toString()).join(", ")})${this.returnType?": "+this.returnType.toString():""}`,snippet:`${this.name}(${this.parameters.map((e,o)=>`\${${o}:${e.name}}`).join(", ")})`}}documentation(){let e=this.doc||"";return this.parameters.length&&(e+="\n#### Parameters\n"+this.parameters.map(o=>"- "+o.documentation()).join("\n")),("type:primitive"!==this.returnType.kind||"void"!==this.returnType.name)&&(e+="\n#### Returns\n`"+this.returnType.toString()+"`"),e}toString(e){return`${"js"!==e?"func "+this.name:this.jsName}(${this.parameters.map(o=>o.toString(e)).join(", ")})${"js"!==e?": "+this.returnType.toString(e):""} ${this.body.toString(e)}`}}return y.completion={kind:"keyword",label:"func",snippet:"func ${1:name}(${2:parameters...}) {\n  ${3:statements...}\n}"},y})();class $ extends c.NB{constructor(t){super("class-completion"),this.name=t}toString(t){return this.name}resolve(t){return(0,l.Hk)(t,this.location,this.name,{extra:$.completions}),super.resolve(t)}}$.completions=[k,v,g].map(y=>y.completion);class O extends i{constructor(t,e,o){super(t,e),this.type=o}asCompletion(){return{label:this.name,kind:this.kind,signature:this.type?": "+this.type.toString():void 0}}toString(t){return`${this.name}${this.type?": "+this.type.toString(t):""}`}}class P extends O{constructor(t="<unknown>",e=h.NI){super("parameter",t,e)}references(t){return"rename"===t&&"this"===this.name?[]:super.references()}documentation(){return`\`${this.name}: ${this.type.toString()}\`${this.doc?"\n"+this.doc:""}`}toString(t){return"js"===t?this.name:super.toString(t)}}class w extends O{constructor(t="<unknown>",e,o=_.iY){super("variable",t,e),this.value=o}documentation(){var t;return`\`var ${this.name}: ${null===(t=this.type)||void 0===t?void 0:t.toString()}\`${this.doc?"\n"+this.doc:""}`}toString(t){return"js"===t?`let ${this.name} = ${this.value.toString(t)}`:`var ${this.name}${this.type?": "+this.type.toString(t):""} = ${this.value.toString(t)}`}resolve(t){const e=super.resolve(t);return e.type||(e.type=e.value.getType()),e}}},35618:(r,p,s)=>{s.d(p,{K9:()=>c.K9,MX:()=>f.MX,UX:()=>c.UX,WJ:()=>c.WJ,ZJ:()=>l.ZJ,_C:()=>l._C,_w:()=>_._w,d2:()=>_.d2,dm:()=>_.dm,eB:()=>_.eB,gN:()=>_.gN,gO:()=>c.gO,jR:()=>l.jR,lX:()=>l.lX,n$:()=>_.n$,o6:()=>l.o6,on:()=>c.on,rF:()=>f.rF,rX:()=>c.rX,sW:()=>l.sW,sj:()=>c.sj,t$:()=>l.t$,v_:()=>_.v_,wT:()=>_.wT});var _=s(127),l=s(48709),c=s(46187),f=s(38426)},42323:(r,p,s)=>{s.d(p,{$S:()=>S,NB:()=>l});class l{constructor(a){this.kind=a}definition(a){}documentation(){var a;return null===(a=this.definition())||void 0===a?void 0:a.documentation()}references(a){var i;return(null===(i=this.definition(a))||void 0===i?void 0:i.references(a))||[]}resolve(a){return c(this,i=>i.resolve(a)),this}findByPosition(a){var i;let n;return c(this,d=>(n||(n=d.findByPosition(a)),d)),n?[this,...n]:null!==(i=this.location)&&void 0!==i&&i.includes(a)?[this]:void 0}toString(a){return`<${this.kind}>`}}function c(h,a){for(const[i,n]of Object.entries(h))if("location"!==i&&"kind"!==i&&!i.startsWith("_")&&n)if(Array.isArray(n))for(let d=0;d<n.length;d++)n[d]instanceof l&&(n[d]=a(n[d]));else n instanceof l&&(h[i]=a(n))}function S(h,...a){if(!h[0].startsWith("\n"))throw new Error("must start with a newline");const i=h[0].match(/^\n([ \t]*)/)[1];return h.map((n,d)=>{var v;0===d&&(n=n.substring(1+i.length));const k=(n=n.replace(new RegExp("^"+i,"gm"),"")).substring(n.lastIndexOf("\n")+1).match(/^\s*/)[0];return n+(null!==(v=a[d])&&void 0!==v?v:"").toString().replace(/\n/g,`\n${k}`)}).join("")}},74399:(r,p,s)=>{s.d(p,{Hj:()=>h,Hk:()=>a,Ly:()=>l,R9:()=>f,e6:()=>c});var _=s(35618);class l{constructor(n,d){this.line=n,this.column=d}}class c{constructor(n,d){this.start=n,this.end=d}includes(n){return this.start.line<=n.line&&this.start.column<=n.column&&n.line<=this.end.line&&n.column<=this.end.column}}class f{constructor(n,d,v,g="error",k){if(this.path=n,this.location=d,this.message=v,this.severity=g,this.expected=k,!d)throw new Error("location is required")}}function h(i,n,d,v="error",g){const k=i.lookup(_.eB.enclosing,_.eB),$=new f(void 0,n,d,v,g);k?k.report($):function S(i){const{path:n,location:{start:{line:d,column:v}},message:g,severity:k}=i;switch(k){case"error":console.error(`${n}:${d}:${v}: error: ${g}`);break;case"warning":console.warn(`${n}:${d}:${v}: warning: ${g}`);break;case"note":console.info(`${n}:${d}:${v}: note: ${g}`)}if(i.expected)for(let $ of i.expected)console.log(`- [${$.kind}] ${$.label} ${$.signature||""} - ${$.description||""}`)}($)}function a(i,n,d,{lookup:v,kind:g,extra:k}={}){if(!d.includes("\xa7"))return!1;const $=d.slice(0,-1),O=(v||i).list().filter(w=>"name"in w).filter(w=>!g||w.kind===g).map(w=>"asCompletion"in w?w.asCompletion():{kind:w.kind,label:w.name});return h(i,n,"input '\xa7' expecting","error",(k?[...O,...k]:O).filter(w=>w.label.startsWith($))),!0}}},b={};function u(r){var p=b[r];if(void 0!==p)return p.exports;var s=b[r]={exports:{}};return E[r].call(s.exports,s,s.exports,u),s.exports}u.m=E,u.x=()=>{var r=u.O(void 0,[35],()=>u(11612));return u.O(r)},r=[],u.O=(p,s,_,l)=>{if(!s){var f=1/0;for(c=0;c<r.length;c++){for(var[s,_,l]=r[c],S=!0,h=0;h<s.length;h++)(!1&l||f>=l)&&Object.keys(u.O).every(g=>u.O[g](s[h]))?s.splice(h--,1):(S=!1,l<f&&(f=l));if(S){r.splice(c--,1);var a=_();void 0!==a&&(p=a)}}return p}l=l||0;for(var c=r.length;c>0&&r[c-1][2]>l;c--)r[c]=r[c-1];r[c]=[s,_,l]},u.d=(r,p)=>{for(var s in p)u.o(p,s)&&!u.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:p[s]})},u.f={},u.e=r=>Promise.all(Object.keys(u.f).reduce((p,s)=>(u.f[s](r,p),p),[])),u.u=r=>r+".dbeeb3a4f64adc56.js",u.miniCssF=r=>{},u.o=(r,p)=>Object.prototype.hasOwnProperty.call(r,p),(()=>{var r;u.tt=()=>(void 0===r&&(r={createScriptURL:p=>p},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(r=trustedTypes.createPolicy("angular#bundler",r))),r)})(),u.tu=r=>u.tt().createScriptURL(r),u.p="",(()=>{var r={612:1};u.f.i=(l,c)=>{r[l]||importScripts(u.tu(u.p+u.u(l)))};var s=self.webpackChunkweb=self.webpackChunkweb||[],_=s.push.bind(s);s.push=l=>{var[c,f,S]=l;for(var h in f)u.o(f,h)&&(u.m[h]=f[h]);for(S&&S(u);c.length;)r[c.pop()]=1;_(l)}})(),(()=>{var r=u.x;u.x=()=>u.e(35).then(r)})(),u.x()})();